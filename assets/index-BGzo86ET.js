(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function QB(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Nr={},Zf=[],Kl=()=>{},qN=()=>!1,j2=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),HB=e=>e.startsWith("onUpdate:"),$a=Object.assign,KB=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},sY=Object.prototype.hasOwnProperty,br=(e,t)=>sY.call(e,t),_n=Array.isArray,em=e=>J2(e)==="[object Map]",YN=e=>J2(e)==="[object Set]",Sn=e=>typeof e=="function",Zr=e=>typeof e=="string",dd=e=>typeof e=="symbol",Vr=e=>e!==null&&typeof e=="object",XN=e=>(Vr(e)||Sn(e))&&Sn(e.then)&&Sn(e.catch),ZN=Object.prototype.toString,J2=e=>ZN.call(e),oY=e=>J2(e).slice(8,-1),eL=e=>J2(e)==="[object Object]",GB=e=>Zr(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,F0=QB(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),q2=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},iY=/-\w/g,fo=q2(e=>e.replace(iY,t=>t.slice(1).toUpperCase())),lY=/\B([A-Z])/g,Ad=q2(e=>e.replace(lY,"-$1").toLowerCase()),tc=q2(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bb=q2(e=>e?`on${tc(e)}`:""),Gu=(e,t)=>!Object.is(e,t),$1=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},tL=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},AC=e=>{const t=parseFloat(e);return isNaN(t)?e:t},nL=e=>{const t=Zr(e)?Number(e):NaN;return isNaN(t)?e:t};let iF;const Y2=()=>iF||(iF=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function It(e){if(_n(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],a=Zr(r)?AY(r):It(r);if(a)for(const s in a)t[s]=a[s]}return t}else if(Zr(e)||Vr(e))return e}const cY=/;(?![^(]*\))/g,uY=/:([^]+)/,dY=/\/\*[^]*?\*\//g;function AY(e){const t={};return e.replace(dY,"").split(cY).forEach(n=>{if(n){const r=n.split(uY);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function rt(e){let t="";if(Zr(e))t=e;else if(_n(e))for(let n=0;n<e.length;n++){const r=rt(e[n]);r&&(t+=r+" ")}else if(Vr(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function LA(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Zr(t)&&(e.class=rt(t)),n&&(e.style=It(n)),e}const fY="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mY=QB(fY);function rL(e){return!!e||e===""}const aL=e=>!!(e&&e.__v_isRef===!0),J=e=>Zr(e)?e:e==null?"":_n(e)||Vr(e)&&(e.toString===ZN||!Sn(e.toString))?aL(e)?J(e.value):JSON.stringify(e,sL,2):String(e),sL=(e,t)=>aL(t)?sL(e,t.value):em(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,a],s)=>(n[Sb(r,s)+" =>"]=a,n),{})}:YN(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Sb(n))}:dd(t)?Sb(t):Vr(t)&&!_n(t)&&!eL(t)?String(t):t,Sb=(e,t="")=>{var n;return dd(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bs;class oL{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bs,!t&&Bs&&(this.index=(Bs.scopes||(Bs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Bs;try{return Bs=this,t()}finally{Bs=n}}}on(){++this._on===1&&(this.prevScope=Bs,Bs=this)}off(){this._on>0&&--this._on===0&&(Bs=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Zu(e){return new oL(e)}function iL(){return Bs}function Ra(e,t=!1){Bs&&Bs.cleanups.push(e)}let Qr;const kb=new WeakSet;class lL{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bs&&Bs.active&&Bs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,kb.has(this)&&(kb.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||uL(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,lF(this),dL(this);const t=Qr,n=el;Qr=this,el=!0;try{return this.fn()}finally{AL(this),Qr=t,el=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)WB(t);this.deps=this.depsTail=void 0,lF(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?kb.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fC(this)&&this.run()}get dirty(){return fC(this)}}let cL=0,P0,D0;function uL(e,t=!1){if(e.flags|=8,t){e.next=D0,D0=e;return}e.next=P0,P0=e}function zB(){cL++}function $B(){if(--cL>0)return;if(D0){let t=D0;for(D0=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;P0;){let t=P0;for(P0=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function dL(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function AL(e){let t,n=e.depsTail,r=n;for(;r;){const a=r.prevDep;r.version===-1?(r===n&&(n=a),WB(r),hY(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=n}function fC(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(fL(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function fL(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===uv)||(e.globalVersion=uv,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!fC(e))))return;e.flags|=2;const t=e.dep,n=Qr,r=el;Qr=e,el=!0;try{dL(e);const a=e.fn(e._value);(t.version===0||Gu(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Qr=n,el=r,AL(e),e.flags&=-3}}function WB(e,t=!1){const{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)WB(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function hY(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let el=!0;const mL=[];function zc(){mL.push(el),el=!1}function $c(){const e=mL.pop();el=e===void 0?!0:e}function lF(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Qr;Qr=void 0;try{t()}finally{Qr=n}}}let uv=0;class vY{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class jB{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Qr||!el||Qr===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Qr)n=this.activeLink=new vY(Qr,this),Qr.deps?(n.prevDep=Qr.depsTail,Qr.depsTail.nextDep=n,Qr.depsTail=n):Qr.deps=Qr.depsTail=n,hL(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Qr.depsTail,n.nextDep=void 0,Qr.depsTail.nextDep=n,Qr.depsTail=n,Qr.deps===n&&(Qr.deps=r)}return n}trigger(t){this.version++,uv++,this.notify(t)}notify(t){zB();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{$B()}}}function hL(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)hL(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const gy=new WeakMap,rA=Symbol(""),mC=Symbol(""),dv=Symbol("");function Is(e,t,n){if(el&&Qr){let r=gy.get(e);r||gy.set(e,r=new Map);let a=r.get(n);a||(r.set(n,a=new jB),a.map=r,a.key=n),a.track()}}function Pc(e,t,n,r,a,s){const o=gy.get(e);if(!o){uv++;return}const i=c=>{c&&c.trigger()};if(zB(),t==="clear")o.forEach(i);else{const c=_n(e),A=c&&GB(n);if(c&&n==="length"){const u=Number(r);o.forEach((f,m)=>{(m==="length"||m===dv||!dd(m)&&m>=u)&&i(f)})}else switch((n!==void 0||o.has(void 0))&&i(o.get(n)),A&&i(o.get(dv)),t){case"add":c?A&&i(o.get("length")):(i(o.get(rA)),em(e)&&i(o.get(mC)));break;case"delete":c||(i(o.get(rA)),em(e)&&i(o.get(mC)));break;case"set":em(e)&&i(o.get(rA));break}}$B()}function pY(e,t){const n=gy.get(e);return n&&n.get(t)}function bf(e){const t=un(e);return t===e?t:(Is(t,"iterate",dv),xi(e)?t:t.map(ds))}function X2(e){return Is(e=un(e),"iterate",dv),e}const gY={__proto__:null,[Symbol.iterator](){return Ib(this,Symbol.iterator,ds)},concat(...e){return bf(this).concat(...e.map(t=>_n(t)?bf(t):t))},entries(){return Ib(this,"entries",e=>(e[1]=ds(e[1]),e))},every(e,t){return Cc(this,"every",e,t,void 0,arguments)},filter(e,t){return Cc(this,"filter",e,t,n=>n.map(ds),arguments)},find(e,t){return Cc(this,"find",e,t,ds,arguments)},findIndex(e,t){return Cc(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Cc(this,"findLast",e,t,ds,arguments)},findLastIndex(e,t){return Cc(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Cc(this,"forEach",e,t,void 0,arguments)},includes(...e){return Tb(this,"includes",e)},indexOf(...e){return Tb(this,"indexOf",e)},join(e){return bf(this).join(e)},lastIndexOf(...e){return Tb(this,"lastIndexOf",e)},map(e,t){return Cc(this,"map",e,t,void 0,arguments)},pop(){return Wh(this,"pop")},push(...e){return Wh(this,"push",e)},reduce(e,...t){return cF(this,"reduce",e,t)},reduceRight(e,...t){return cF(this,"reduceRight",e,t)},shift(){return Wh(this,"shift")},some(e,t){return Cc(this,"some",e,t,void 0,arguments)},splice(...e){return Wh(this,"splice",e)},toReversed(){return bf(this).toReversed()},toSorted(e){return bf(this).toSorted(e)},toSpliced(...e){return bf(this).toSpliced(...e)},unshift(...e){return Wh(this,"unshift",e)},values(){return Ib(this,"values",ds)}};function Ib(e,t,n){const r=X2(e),a=r[t]();return r!==e&&!xi(e)&&(a._next=a.next,a.next=()=>{const s=a._next();return s.done||(s.value=n(s.value)),s}),a}const yY=Array.prototype;function Cc(e,t,n,r,a,s){const o=X2(e),i=o!==e&&!xi(e),c=o[t];if(c!==yY[t]){const f=c.apply(e,s);return i?ds(f):f}let A=n;o!==e&&(i?A=function(f,m){return n.call(this,ds(f),m,e)}:n.length>2&&(A=function(f,m){return n.call(this,f,m,e)}));const u=c.call(o,A,r);return i&&a?a(u):u}function cF(e,t,n,r){const a=X2(e);let s=n;return a!==e&&(xi(e)?n.length>3&&(s=function(o,i,c){return n.call(this,o,i,c,e)}):s=function(o,i,c){return n.call(this,o,ds(i),c,e)}),a[t](s,...r)}function Tb(e,t,n){const r=un(e);Is(r,"iterate",dv);const a=r[t](...n);return(a===-1||a===!1)&&YB(n[0])?(n[0]=un(n[0]),r[t](...n)):a}function Wh(e,t,n=[]){zc(),zB();const r=un(e)[t].apply(e,n);return $B(),$c(),r}const wY=QB("__proto__,__v_isRef,__isVue"),vL=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(dd));function _Y(e){dd(e)||(e=String(e));const t=un(this);return Is(t,"has",e),t.hasOwnProperty(e)}class pL{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(a?s?FY:_L:s?wL:yL).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=_n(t);if(!a){let c;if(o&&(c=gY[n]))return c;if(n==="hasOwnProperty")return _Y}const i=Reflect.get(t,n,xa(t)?t:r);if((dd(n)?vL.has(n):wY(n))||(a||Is(t,"get",n),s))return i;if(xa(i)){const c=o&&GB(n)?i:i.value;return a&&Vr(c)?pA(c):c}return Vr(i)?a?pA(i):Da(i):i}}class gL extends pL{constructor(t=!1){super(!1,t)}set(t,n,r,a){let s=t[n];if(!this._isShallow){const c=ed(s);if(!xi(r)&&!ed(r)&&(s=un(s),r=un(r)),!_n(t)&&xa(s)&&!xa(r))return c||(s.value=r),!0}const o=_n(t)&&GB(n)?Number(n)<t.length:br(t,n),i=Reflect.set(t,n,r,xa(t)?t:a);return t===un(a)&&(o?Gu(r,s)&&Pc(t,"set",n,r):Pc(t,"add",n,r)),i}deleteProperty(t,n){const r=br(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&r&&Pc(t,"delete",n,void 0),a}has(t,n){const r=Reflect.has(t,n);return(!dd(n)||!vL.has(n))&&Is(t,"has",n),r}ownKeys(t){return Is(t,"iterate",_n(t)?"length":rA),Reflect.ownKeys(t)}}class bY extends pL{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const xY=new gL,CY=new bY,EY=new gL(!0);const hC=e=>e,Gg=e=>Reflect.getPrototypeOf(e);function BY(e,t,n){return function(...r){const a=this.__v_raw,s=un(a),o=em(s),i=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,A=a[e](...r),u=n?hC:t?wy:ds;return!t&&Is(s,"iterate",c?mC:rA),{next(){const{value:f,done:m}=A.next();return m?{value:f,done:m}:{value:i?[u(f[0]),u(f[1])]:u(f),done:m}},[Symbol.iterator](){return this}}}}function zg(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function SY(e,t){const n={get(a){const s=this.__v_raw,o=un(s),i=un(a);e||(Gu(a,i)&&Is(o,"get",a),Is(o,"get",i));const{has:c}=Gg(o),A=t?hC:e?wy:ds;if(c.call(o,a))return A(s.get(a));if(c.call(o,i))return A(s.get(i));s!==o&&s.get(a)},get size(){const a=this.__v_raw;return!e&&Is(un(a),"iterate",rA),a.size},has(a){const s=this.__v_raw,o=un(s),i=un(a);return e||(Gu(a,i)&&Is(o,"has",a),Is(o,"has",i)),a===i?s.has(a):s.has(a)||s.has(i)},forEach(a,s){const o=this,i=o.__v_raw,c=un(i),A=t?hC:e?wy:ds;return!e&&Is(c,"iterate",rA),i.forEach((u,f)=>a.call(s,A(u),A(f),o))}};return $a(n,e?{add:zg("add"),set:zg("set"),delete:zg("delete"),clear:zg("clear")}:{add(a){!t&&!xi(a)&&!ed(a)&&(a=un(a));const s=un(this);return Gg(s).has.call(s,a)||(s.add(a),Pc(s,"add",a,a)),this},set(a,s){!t&&!xi(s)&&!ed(s)&&(s=un(s));const o=un(this),{has:i,get:c}=Gg(o);let A=i.call(o,a);A||(a=un(a),A=i.call(o,a));const u=c.call(o,a);return o.set(a,s),A?Gu(s,u)&&Pc(o,"set",a,s):Pc(o,"add",a,s),this},delete(a){const s=un(this),{has:o,get:i}=Gg(s);let c=o.call(s,a);c||(a=un(a),c=o.call(s,a)),i&&i.call(s,a);const A=s.delete(a);return c&&Pc(s,"delete",a,void 0),A},clear(){const a=un(this),s=a.size!==0,o=a.clear();return s&&Pc(a,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=BY(a,e,t)}),n}function JB(e,t){const n=SY(e,t);return(r,a,s)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(br(n,a)&&a in r?n:r,a,s)}const kY={get:JB(!1,!1)},IY={get:JB(!1,!0)},TY={get:JB(!0,!1)};const yL=new WeakMap,wL=new WeakMap,_L=new WeakMap,FY=new WeakMap;function PY(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function DY(e){return e.__v_skip||!Object.isExtensible(e)?0:PY(oY(e))}function Da(e){return ed(e)?e:qB(e,!1,xY,kY,yL)}function bL(e){return qB(e,!1,EY,IY,wL)}function pA(e){return qB(e,!0,CY,TY,_L)}function qB(e,t,n,r,a){if(!Vr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=DY(e);if(s===0)return e;const o=a.get(e);if(o)return o;const i=new Proxy(e,s===2?r:n);return a.set(e,i),i}function tm(e){return ed(e)?tm(e.__v_raw):!!(e&&e.__v_isReactive)}function ed(e){return!!(e&&e.__v_isReadonly)}function xi(e){return!!(e&&e.__v_isShallow)}function YB(e){return e?!!e.__v_raw:!1}function un(e){const t=e&&e.__v_raw;return t?un(t):e}function yy(e){return!br(e,"__v_skip")&&Object.isExtensible(e)&&tL(e,"__v_skip",!0),e}const ds=e=>Vr(e)?Da(e):e,wy=e=>Vr(e)?pA(e):e;function xa(e){return e?e.__v_isRef===!0:!1}function H(e){return xL(e,!1)}function kt(e){return xL(e,!0)}function xL(e,t){return xa(e)?e:new UY(e,t)}class UY{constructor(t,n){this.dep=new jB,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:un(t),this._value=n?t:ds(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||xi(t)||ed(t);t=r?t:un(t),Gu(t,n)&&(this._rawValue=t,this._value=r?t:ds(t),this.dep.trigger())}}function We(e){return xa(e)?e.value:e}function Os(e){return Sn(e)?e():We(e)}const RY={get:(e,t,n)=>t==="__v_raw"?e:We(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const a=e[t];return xa(a)&&!xa(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function CL(e){return tm(e)?e:new Proxy(e,RY)}function VA(e){const t=_n(e)?new Array(e.length):{};for(const n in e)t[n]=EL(e,n);return t}class NY{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return pY(un(this._object),this._key)}}class LY{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Qe(e,t,n){return xa(e)?e:Sn(e)?new LY(e):Vr(e)&&arguments.length>1?EL(e,t,n):H(e)}function EL(e,t,n){const r=e[t];return xa(r)?r:new NY(e,t,n)}class VY{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new jB(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=uv-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Qr!==this)return uL(this,!0),!0}get value(){const t=this.dep.track();return fL(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function MY(e,t,n=!1){let r,a;return Sn(e)?r=e:(r=e.get,a=e.set),new VY(r,a,n)}const $g={},_y=new WeakMap;let Od;function OY(e,t=!1,n=Od){if(n){let r=_y.get(n);r||_y.set(n,r=[]),r.push(e)}}function QY(e,t,n=Nr){const{immediate:r,deep:a,once:s,scheduler:o,augmentJob:i,call:c}=n,A=T=>a?T:xi(T)||a===!1||a===0?Dc(T,1):Dc(T);let u,f,m,v,h=!1,y=!1;if(xa(e)?(f=()=>e.value,h=xi(e)):tm(e)?(f=()=>A(e),h=!0):_n(e)?(y=!0,h=e.some(T=>tm(T)||xi(T)),f=()=>e.map(T=>{if(xa(T))return T.value;if(tm(T))return A(T);if(Sn(T))return c?c(T,2):T()})):Sn(e)?t?f=c?()=>c(e,2):e:f=()=>{if(m){zc();try{m()}finally{$c()}}const T=Od;Od=u;try{return c?c(e,3,[v]):e(v)}finally{Od=T}}:f=Kl,t&&a){const T=f,N=a===!0?1/0:a;f=()=>Dc(T(),N)}const w=iL(),b=()=>{u.stop(),w&&w.active&&KB(w.effects,u)};if(s&&t){const T=t;t=(...N)=>{T(...N),b()}}let B=y?new Array(e.length).fill($g):$g;const S=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(t){const N=u.run();if(a||h||(y?N.some((k,E)=>Gu(k,B[E])):Gu(N,B))){m&&m();const k=Od;Od=u;try{const E=[N,B===$g?void 0:y&&B[0]===$g?[]:B,v];B=N,c?c(t,3,E):t(...E)}finally{Od=k}}}else u.run()};return i&&i(S),u=new lL(f),u.scheduler=o?()=>o(S,!1):S,v=T=>OY(T,!1,u),m=u.onStop=()=>{const T=_y.get(u);if(T){if(c)c(T,4);else for(const N of T)N();_y.delete(u)}},t?r?S(!0):B=u.run():o?o(S.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Dc(e,t=1/0,n){if(t<=0||!Vr(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,xa(e))Dc(e.value,t,n);else if(_n(e))for(let r=0;r<e.length;r++)Dc(e[r],t,n);else if(YN(e)||em(e))e.forEach(r=>{Dc(r,t,n)});else if(eL(e)){for(const r in e)Dc(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Dc(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function tp(e,t,n,r){try{return r?e(...r):e()}catch(a){np(a,t,n)}}function sl(e,t,n,r){if(Sn(e)){const a=tp(e,t,n,r);return a&&XN(a)&&a.catch(s=>{np(s,t,n)}),a}if(_n(e)){const a=[];for(let s=0;s<e.length;s++)a.push(sl(e[s],t,n,r));return a}}function np(e,t,n,r=!0){const a=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Nr;if(t){let i=t.parent;const c=t.proxy,A=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,c,A)===!1)return}i=i.parent}if(s){zc(),tp(s,null,10,[e,c,A]),$c();return}}HY(e,n,a,r,o)}function HY(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}const io=[];let Ul=-1;const nm=[];let ku=null,Vf=0;const BL=Promise.resolve();let by=null;function An(e){const t=by||BL;return e?t.then(this?e.bind(this):e):t}function KY(e){let t=Ul+1,n=io.length;for(;t<n;){const r=t+n>>>1,a=io[r],s=Av(a);s<e||s===e&&a.flags&2?t=r+1:n=r}return t}function XB(e){if(!(e.flags&1)){const t=Av(e),n=io[io.length-1];!n||!(e.flags&2)&&t>=Av(n)?io.push(e):io.splice(KY(t),0,e),e.flags|=1,SL()}}function SL(){by||(by=BL.then(IL))}function vC(e){_n(e)?nm.push(...e):ku&&e.id===-1?ku.splice(Vf+1,0,e):e.flags&1||(nm.push(e),e.flags|=1),SL()}function uF(e,t,n=Ul+1){for(;n<io.length;n++){const r=io[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;io.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function kL(e){if(nm.length){const t=[...new Set(nm)].sort((n,r)=>Av(n)-Av(r));if(nm.length=0,ku){ku.push(...t);return}for(ku=t,Vf=0;Vf<ku.length;Vf++){const n=ku[Vf];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ku=null,Vf=0}}const Av=e=>e.id==null?e.flags&2?-1:1/0:e.id;function IL(e){try{for(Ul=0;Ul<io.length;Ul++){const t=io[Ul];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),tp(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ul<io.length;Ul++){const t=io[Ul];t&&(t.flags&=-2)}Ul=-1,io.length=0,kL(),by=null,(io.length||nm.length)&&IL()}}let Wo=null,TL=null;function xy(e){const t=Wo;return Wo=e,TL=e&&e.type.__scopeId||null,t}function d(e,t=Wo,n){if(!t||e._n)return e;const r=(...a)=>{r._d&&By(-1);const s=xy(t);let o;try{o=e(...a)}finally{xy(s),r._d&&By(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Tr(e,t){if(Wo===null)return e;const n=rw(Wo),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[s,o,i,c=Nr]=t[a];s&&(Sn(s)&&(s={mounted:s,updated:s}),s.deep&&Dc(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:i,modifiers:c}))}return e}function Ud(e,t,n,r){const a=e.dirs,s=t&&t.dirs;for(let o=0;o<a.length;o++){const i=a[o];s&&(i.oldValue=s[o].value);let c=i.dir[r];c&&(zc(),sl(c,n,8,[e.el,i,e,t]),$c())}}const FL=Symbol("_vte"),PL=e=>e.__isTeleport,U0=e=>e&&(e.disabled||e.disabled===""),dF=e=>e&&(e.defer||e.defer===""),AF=e=>typeof SVGElement<"u"&&e instanceof SVGElement,fF=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,pC=(e,t)=>{const n=e&&e.to;return Zr(n)?t?t(n):null:n},DL={name:"Teleport",__isTeleport:!0,process(e,t,n,r,a,s,o,i,c,A){const{mc:u,pc:f,pbc:m,o:{insert:v,querySelector:h,createText:y,createComment:w}}=A,b=U0(t.props);let{shapeFlag:B,children:S,dynamicChildren:T}=t;if(e==null){const N=t.el=y(""),k=t.anchor=y("");v(N,n,r),v(k,n,r);const E=(C,F)=>{B&16&&u(S,C,F,a,s,o,i,c)},_=()=>{const C=t.target=pC(t.props,h),F=UL(C,t,y,v);C&&(o!=="svg"&&AF(C)?o="svg":o!=="mathml"&&fF(C)&&(o="mathml"),a&&a.isCE&&(a.ce._teleportTargets||(a.ce._teleportTargets=new Set)).add(C),b||(E(C,F),W1(t,!1)))};b&&(E(n,k),W1(t,!0)),dF(t.props)?(t.el.__isMounted=!1,to(()=>{_(),delete t.el.__isMounted},s)):_()}else{if(dF(t.props)&&e.el.__isMounted===!1){to(()=>{DL.process(e,t,n,r,a,s,o,i,c,A)},s);return}t.el=e.el,t.targetStart=e.targetStart;const N=t.anchor=e.anchor,k=t.target=e.target,E=t.targetAnchor=e.targetAnchor,_=U0(e.props),C=_?n:k,F=_?N:E;if(o==="svg"||AF(k)?o="svg":(o==="mathml"||fF(k))&&(o="mathml"),T?(m(e.dynamicChildren,T,C,a,s,o,i),oS(e,t,!0)):c||f(e,t,C,F,a,s,o,i,!1),b)_?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Wg(t,n,N,A,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const I=t.target=pC(t.props,h);I&&Wg(t,I,null,A,0)}else _&&Wg(t,k,E,A,1);W1(t,b)}},remove(e,t,n,{um:r,o:{remove:a}},s){const{shapeFlag:o,children:i,anchor:c,targetStart:A,targetAnchor:u,target:f,props:m}=e;if(f&&(a(A),a(u)),s&&a(c),o&16){const v=s||!U0(m);for(let h=0;h<i.length;h++){const y=i[h];r(y,t,n,v,!!y.dynamicChildren)}}},move:Wg,hydrate:GY};function Wg(e,t,n,{o:{insert:r},m:a},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:i,shapeFlag:c,children:A,props:u}=e,f=s===2;if(f&&r(o,t,n),(!f||U0(u))&&c&16)for(let m=0;m<A.length;m++)a(A[m],t,n,2);f&&r(i,t,n)}function GY(e,t,n,r,a,s,{o:{nextSibling:o,parentNode:i,querySelector:c,insert:A,createText:u}},f){function m(y,w,b,B){w.anchor=f(o(y),w,i(y),n,r,a,s),w.targetStart=b,w.targetAnchor=B}const v=t.target=pC(t.props,c),h=U0(t.props);if(v){const y=v._lpa||v.firstChild;if(t.shapeFlag&16)if(h)m(e,t,y,y&&o(y));else{t.anchor=o(e);let w=y;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")t.targetStart=w;else if(w.data==="teleport anchor"){t.targetAnchor=w,v._lpa=t.targetAnchor&&o(t.targetAnchor);break}}w=o(w)}t.targetAnchor||UL(v,t,u,A),f(y&&o(y),t,v,n,r,a,s)}W1(t,h)}else h&&t.shapeFlag&16&&m(e,t,e,o(e));return t.anchor&&o(t.anchor)}const zY=DL;function W1(e,t){const n=e.ctx;if(n&&n.ut){let r,a;for(t?(r=e.el,a=e.anchor):(r=e.targetStart,a=e.targetAnchor);r&&r!==a;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function UL(e,t,n,r){const a=t.targetStart=n(""),s=t.targetAnchor=n("");return a[FL]=s,e&&(r(a,e),r(s,e)),s}const Tc=Symbol("_leaveCb"),jg=Symbol("_enterCb");function RL(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fn(()=>{e.isMounted=!0}),Br(()=>{e.isUnmounting=!0}),e}const Ai=[Function,Array],NL={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ai,onEnter:Ai,onAfterEnter:Ai,onEnterCancelled:Ai,onBeforeLeave:Ai,onLeave:Ai,onAfterLeave:Ai,onLeaveCancelled:Ai,onBeforeAppear:Ai,onAppear:Ai,onAfterAppear:Ai,onAppearCancelled:Ai},LL=e=>{const t=e.subTree;return t.component?LL(t.component):t},$Y={name:"BaseTransition",props:NL,setup(e,{slots:t}){const n=Km(),r=RL();return()=>{const a=t.default&&ZB(t.default(),!0);if(!a||!a.length)return;const s=VL(a),o=un(e),{mode:i}=o;if(r.isLeaving)return Fb(s);const c=mF(s);if(!c)return Fb(s);let A=fv(c,o,r,n,f=>A=f);c.type!==ns&&gA(c,A);let u=n.subTree&&mF(n.subTree);if(u&&u.type!==ns&&!Ml(u,c)&&LL(n).type!==ns){let f=fv(u,o,r,n);if(gA(u,f),i==="out-in"&&c.type!==ns)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},Fb(s);i==="in-out"&&c.type!==ns?f.delayLeave=(m,v,h)=>{const y=ML(r,u);y[String(u.key)]=u,m[Tc]=()=>{v(),m[Tc]=void 0,delete A.delayedLeave,u=void 0},A.delayedLeave=()=>{h(),delete A.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function VL(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ns){t=n;break}}return t}const WY=$Y;function ML(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function fv(e,t,n,r,a){const{appear:s,mode:o,persisted:i=!1,onBeforeEnter:c,onEnter:A,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:m,onLeave:v,onAfterLeave:h,onLeaveCancelled:y,onBeforeAppear:w,onAppear:b,onAfterAppear:B,onAppearCancelled:S}=t,T=String(e.key),N=ML(n,e),k=(C,F)=>{C&&sl(C,r,9,F)},E=(C,F)=>{const I=F[1];k(C,F),_n(C)?C.every(R=>R.length<=1)&&I():C.length<=1&&I()},_={mode:o,persisted:i,beforeEnter(C){let F=c;if(!n.isMounted)if(s)F=w||c;else return;C[Tc]&&C[Tc](!0);const I=N[T];I&&Ml(e,I)&&I.el[Tc]&&I.el[Tc](),k(F,[C])},enter(C){let F=A,I=u,R=f;if(!n.isMounted)if(s)F=b||A,I=B||u,R=S||f;else return;let M=!1;const te=C[jg]=se=>{M||(M=!0,se?k(R,[C]):k(I,[C]),_.delayedLeave&&_.delayedLeave(),C[jg]=void 0)};F?E(F,[C,te]):te()},leave(C,F){const I=String(e.key);if(C[jg]&&C[jg](!0),n.isUnmounting)return F();k(m,[C]);let R=!1;const M=C[Tc]=te=>{R||(R=!0,F(),te?k(y,[C]):k(h,[C]),C[Tc]=void 0,N[I]===e&&delete N[I])};N[I]=e,v?E(v,[C,M]):M()},clone(C){const F=fv(C,t,n,r,a);return a&&a(F),F}};return _}function Fb(e){if(Z2(e))return e=Wc(e),e.children=null,e}function mF(e){if(!Z2(e))return PL(e.type)&&e.children?VL(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Sn(n.default))return n.default()}}function gA(e,t){e.shapeFlag&6&&e.component?(e.transition=t,gA(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ZB(e,t=!1,n){let r=[],a=0;for(let s=0;s<e.length;s++){let o=e[s];const i=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===ze?(o.patchFlag&128&&a++,r=r.concat(ZB(o.children,t,i))):(t||o.type!==ns)&&r.push(i!=null?Wc(o,{key:i}):o)}if(a>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function eS(e,t){return Sn(e)?$a({name:e.name},t,{setup:e}):e}function ys(){const e=Km();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function OL(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Cy=new WeakMap;function R0(e,t,n,r,a=!1){if(_n(e)){e.forEach((h,y)=>R0(h,t&&(_n(t)?t[y]:t),n,r,a));return}if(N0(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&R0(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?rw(r.component):r.el,o=a?null:s,{i,r:c}=e,A=t&&t.r,u=i.refs===Nr?i.refs={}:i.refs,f=i.setupState,m=un(f),v=f===Nr?qN:h=>br(m,h);if(A!=null&&A!==c){if(hF(t),Zr(A))u[A]=null,v(A)&&(f[A]=null);else if(xa(A)){A.value=null;const h=t;h.k&&(u[h.k]=null)}}if(Sn(c))tp(c,i,12,[o,u]);else{const h=Zr(c),y=xa(c);if(h||y){const w=()=>{if(e.f){const b=h?v(c)?f[c]:u[c]:c.value;if(a)_n(b)&&KB(b,s);else if(_n(b))b.includes(s)||b.push(s);else if(h)u[c]=[s],v(c)&&(f[c]=u[c]);else{const B=[s];c.value=B,e.k&&(u[e.k]=B)}}else h?(u[c]=o,v(c)&&(f[c]=o)):y&&(c.value=o,e.k&&(u[e.k]=o))};if(o){const b=()=>{w(),Cy.delete(e)};b.id=-1,Cy.set(e,b),to(b,n)}else hF(e),w()}}}function hF(e){const t=Cy.get(e);t&&(t.flags|=8,Cy.delete(e))}Y2().requestIdleCallback;Y2().cancelIdleCallback;const N0=e=>!!e.type.__asyncLoader,Z2=e=>e.type.__isKeepAlive;function tS(e,t){QL(e,"a",t)}function ew(e,t){QL(e,"da",t)}function QL(e,t,n=Ps){const r=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(tw(t,r,n),n){let a=n.parent;for(;a&&a.parent;)Z2(a.parent.vnode)&&jY(r,t,n,a),a=a.parent}}function jY(e,t,n,r){const a=tw(t,e,r,!0);nc(()=>{KB(r[t],a)},n)}function tw(e,t,n=Ps,r=!1){if(n){const a=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{zc();const i=ap(n),c=sl(t,n,e,o);return i(),$c(),c});return r?a.unshift(s):a.push(s),s}}const nu=e=>(t,n=Ps)=>{(!hv||e==="sp")&&tw(e,(...r)=>t(...r),n)},Al=nu("bm"),fn=nu("m"),HL=nu("bu"),nS=nu("u"),Br=nu("bum"),nc=nu("um"),JY=nu("sp"),qY=nu("rtg"),YY=nu("rtc");function XY(e,t=Ps){tw("ec",e,t)}const KL="components";function D(e,t){return zL(KL,e,!0,t)||e}const GL=Symbol.for("v-ndc");function rS(e){return Zr(e)?zL(KL,e,!1)||e:e||GL}function zL(e,t,n=!0,r=!1){const a=Wo||Ps;if(a){const s=a.type;{const i=HX(s,!1);if(i&&(i===t||i===fo(t)||i===tc(fo(t))))return s}const o=vF(a[e]||s[e],t)||vF(a.appContext[e],t);return!o&&r?s:o}}function vF(e,t){return e&&(e[t]||e[fo(t)]||e[tc(fo(t))])}function Jt(e,t,n,r){let a;const s=n,o=_n(e);if(o||Zr(e)){const i=o&&tm(e);let c=!1,A=!1;i&&(c=!xi(e),A=ed(e),e=X2(e)),a=new Array(e.length);for(let u=0,f=e.length;u<f;u++)a[u]=t(c?A?wy(ds(e[u])):ds(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){a=new Array(e);for(let i=0;i<e;i++)a[i]=t(i+1,i,void 0,s)}else if(Vr(e))if(e[Symbol.iterator])a=Array.from(e,(i,c)=>t(i,c,void 0,s));else{const i=Object.keys(e);a=new Array(i.length);for(let c=0,A=i.length;c<A;c++){const u=i[c];a[c]=t(e[u],u,c,s)}}else a=[];return a}function gm(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(_n(r))for(let a=0;a<r.length;a++)e[r[a].name]=r[a].fn;else r&&(e[r.name]=r.key?(...a)=>{const s=r.fn(...a);return s&&(s.key=r.key),s}:r.fn)}return e}const gC=e=>e?d6(e)?rw(e):gC(e.parent):null,L0=$a(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gC(e.parent),$root:e=>gC(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>WL(e),$forceUpdate:e=>e.f||(e.f=()=>{XB(e.update)}),$nextTick:e=>e.n||(e.n=An.bind(e.proxy)),$watch:e=>yX.bind(e)}),Pb=(e,t)=>e!==Nr&&!e.__isScriptSetup&&br(e,t),ZY={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:a,props:s,accessCache:o,type:i,appContext:c}=e;let A;if(t[0]!=="$"){const v=o[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return s[t]}else{if(Pb(r,t))return o[t]=1,r[t];if(a!==Nr&&br(a,t))return o[t]=2,a[t];if((A=e.propsOptions[0])&&br(A,t))return o[t]=3,s[t];if(n!==Nr&&br(n,t))return o[t]=4,n[t];yC&&(o[t]=0)}}const u=L0[t];let f,m;if(u)return t==="$attrs"&&Is(e.attrs,"get",""),u(e);if((f=i.__cssModules)&&(f=f[t]))return f;if(n!==Nr&&br(n,t))return o[t]=4,n[t];if(m=c.config.globalProperties,br(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:a,ctx:s}=e;return Pb(a,t)?(a[t]=n,!0):r!==Nr&&br(r,t)?(r[t]=n,!0):br(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:s,type:o}},i){let c,A;return!!(n[i]||e!==Nr&&i[0]!=="$"&&br(e,i)||Pb(t,i)||(c=s[0])&&br(c,i)||br(r,i)||br(L0,i)||br(a.config.globalProperties,i)||(A=o.__cssModules)&&A[i])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:br(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function pF(e){return _n(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let yC=!0;function eX(e){const t=WL(e),n=e.proxy,r=e.ctx;yC=!1,t.beforeCreate&&gF(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:o,watch:i,provide:c,inject:A,created:u,beforeMount:f,mounted:m,beforeUpdate:v,updated:h,activated:y,deactivated:w,beforeDestroy:b,beforeUnmount:B,destroyed:S,unmounted:T,render:N,renderTracked:k,renderTriggered:E,errorCaptured:_,serverPrefetch:C,expose:F,inheritAttrs:I,components:R,directives:M,filters:te}=t;if(A&&tX(A,r,null),o)for(const W in o){const le=o[W];Sn(le)&&(r[W]=le.bind(n))}if(a){const W=a.call(n,n);Vr(W)&&(e.data=Da(W))}if(yC=!0,s)for(const W in s){const le=s[W],K=Sn(le)?le.bind(n,n):Sn(le.get)?le.get.bind(n,n):Kl,ee=!Sn(le)&&Sn(le.set)?le.set.bind(n):Kl,j=Z({get:K,set:ee});Object.defineProperty(r,W,{enumerable:!0,configurable:!0,get:()=>j.value,set:U=>j.value=U})}if(i)for(const W in i)$L(i[W],r,n,W);if(c){const W=Sn(c)?c.call(n):c;Reflect.ownKeys(W).forEach(le=>{vr(le,W[le])})}u&&gF(u,e,"c");function O(W,le){_n(le)?le.forEach(K=>W(K.bind(n))):le&&W(le.bind(n))}if(O(Al,f),O(fn,m),O(HL,v),O(nS,h),O(tS,y),O(ew,w),O(XY,_),O(YY,k),O(qY,E),O(Br,B),O(nc,T),O(JY,C),_n(F))if(F.length){const W=e.exposed||(e.exposed={});F.forEach(le=>{Object.defineProperty(W,le,{get:()=>n[le],set:K=>n[le]=K,enumerable:!0})})}else e.exposed||(e.exposed={});N&&e.render===Kl&&(e.render=N),I!=null&&(e.inheritAttrs=I),R&&(e.components=R),M&&(e.directives=M),C&&OL(e)}function tX(e,t,n=Kl){_n(e)&&(e=wC(e));for(const r in e){const a=e[r];let s;Vr(a)?"default"in a?s=pn(a.from||r,a.default,!0):s=pn(a.from||r):s=pn(a),xa(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function gF(e,t,n){sl(_n(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function $L(e,t,n,r){let a=r.includes(".")?a6(n,r):()=>n[r];if(Zr(e)){const s=t[e];Sn(s)&&Ge(a,s)}else if(Sn(e))Ge(a,e.bind(n));else if(Vr(e))if(_n(e))e.forEach(s=>$L(s,t,n,r));else{const s=Sn(e.handler)?e.handler.bind(n):t[e.handler];Sn(s)&&Ge(a,s,e)}}function WL(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:a,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,i=s.get(t);let c;return i?c=i:!a.length&&!n&&!r?c=t:(c={},a.length&&a.forEach(A=>Ey(c,A,o,!0)),Ey(c,t,o)),Vr(t)&&s.set(t,c),c}function Ey(e,t,n,r=!1){const{mixins:a,extends:s}=t;s&&Ey(e,s,n,!0),a&&a.forEach(o=>Ey(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const i=nX[o]||n&&n[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const nX={data:yF,props:wF,emits:wF,methods:h0,computed:h0,beforeCreate:eo,created:eo,beforeMount:eo,mounted:eo,beforeUpdate:eo,updated:eo,beforeDestroy:eo,beforeUnmount:eo,destroyed:eo,unmounted:eo,activated:eo,deactivated:eo,errorCaptured:eo,serverPrefetch:eo,components:h0,directives:h0,watch:aX,provide:yF,inject:rX};function yF(e,t){return t?e?function(){return $a(Sn(e)?e.call(this,this):e,Sn(t)?t.call(this,this):t)}:t:e}function rX(e,t){return h0(wC(e),wC(t))}function wC(e){if(_n(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function eo(e,t){return e?[...new Set([].concat(e,t))]:t}function h0(e,t){return e?$a(Object.create(null),e,t):t}function wF(e,t){return e?_n(e)&&_n(t)?[...new Set([...e,...t])]:$a(Object.create(null),pF(e),pF(t??{})):t}function aX(e,t){if(!e)return t;if(!t)return e;const n=$a(Object.create(null),e);for(const r in t)n[r]=eo(e[r],t[r]);return n}function jL(){return{app:null,config:{isNativeTag:qN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sX=0;function oX(e,t){return function(r,a=null){Sn(r)||(r=$a({},r)),a!=null&&!Vr(a)&&(a=null);const s=jL(),o=new WeakSet,i=[];let c=!1;const A=s.app={_uid:sX++,_component:r,_props:a,_container:null,_context:s,_instance:null,version:GX,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&Sn(u.install)?(o.add(u),u.install(A,...f)):Sn(u)&&(o.add(u),u(A,...f))),A},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),A},component(u,f){return f?(s.components[u]=f,A):s.components[u]},directive(u,f){return f?(s.directives[u]=f,A):s.directives[u]},mount(u,f,m){if(!c){const v=A._ceVNode||l(r,a);return v.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),e(v,u,m),c=!0,A._container=u,u.__vue_app__=A,rw(v.component)}},onUnmount(u){i.push(u)},unmount(){c&&(sl(i,A._instance,16),e(null,A._container),delete A._container.__vue_app__)},provide(u,f){return s.provides[u]=f,A},runWithContext(u){const f=rm;rm=A;try{return u()}finally{rm=f}}};return A}}let rm=null;function vr(e,t){if(Ps){let n=Ps.provides;const r=Ps.parent&&Ps.parent.provides;r===n&&(n=Ps.provides=Object.create(r)),n[e]=t}}function pn(e,t,n=!1){const r=Km();if(r||rm){let a=rm?rm._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Sn(t)?t.call(r&&r.proxy):t}}const JL={},qL=()=>Object.create(JL),YL=e=>Object.getPrototypeOf(e)===JL;function iX(e,t,n,r=!1){const a={},s=qL();e.propsDefaults=Object.create(null),XL(e,t,a,s);for(const o in e.propsOptions[0])o in a||(a[o]=void 0);n?e.props=r?a:bL(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function lX(e,t,n,r){const{props:a,attrs:s,vnode:{patchFlag:o}}=e,i=un(a),[c]=e.propsOptions;let A=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let m=u[f];if(nw(e.emitsOptions,m))continue;const v=t[m];if(c)if(br(s,m))v!==s[m]&&(s[m]=v,A=!0);else{const h=fo(m);a[h]=_C(c,i,h,v,e,!1)}else v!==s[m]&&(s[m]=v,A=!0)}}}else{XL(e,t,a,s)&&(A=!0);let u;for(const f in i)(!t||!br(t,f)&&((u=Ad(f))===f||!br(t,u)))&&(c?n&&(n[f]!==void 0||n[u]!==void 0)&&(a[f]=_C(c,i,f,void 0,e,!0)):delete a[f]);if(s!==i)for(const f in s)(!t||!br(t,f))&&(delete s[f],A=!0)}A&&Pc(e.attrs,"set","")}function XL(e,t,n,r){const[a,s]=e.propsOptions;let o=!1,i;if(t)for(let c in t){if(F0(c))continue;const A=t[c];let u;a&&br(a,u=fo(c))?!s||!s.includes(u)?n[u]=A:(i||(i={}))[u]=A:nw(e.emitsOptions,c)||(!(c in r)||A!==r[c])&&(r[c]=A,o=!0)}if(s){const c=un(n),A=i||Nr;for(let u=0;u<s.length;u++){const f=s[u];n[f]=_C(a,c,f,A[f],e,!br(A,f))}}return o}function _C(e,t,n,r,a,s){const o=e[n];if(o!=null){const i=br(o,"default");if(i&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Sn(c)){const{propsDefaults:A}=a;if(n in A)r=A[n];else{const u=ap(a);r=A[n]=c.call(null,t),u()}}else r=c;a.ce&&a.ce._setProp(n,r)}o[0]&&(s&&!i?r=!1:o[1]&&(r===""||r===Ad(n))&&(r=!0))}return r}const cX=new WeakMap;function ZL(e,t,n=!1){const r=n?cX:t.propsCache,a=r.get(e);if(a)return a;const s=e.props,o={},i=[];let c=!1;if(!Sn(e)){const u=f=>{c=!0;const[m,v]=ZL(f,t,!0);$a(o,m),v&&i.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!c)return Vr(e)&&r.set(e,Zf),Zf;if(_n(s))for(let u=0;u<s.length;u++){const f=fo(s[u]);_F(f)&&(o[f]=Nr)}else if(s)for(const u in s){const f=fo(u);if(_F(f)){const m=s[u],v=o[f]=_n(m)||Sn(m)?{type:m}:$a({},m),h=v.type;let y=!1,w=!0;if(_n(h))for(let b=0;b<h.length;++b){const B=h[b],S=Sn(B)&&B.name;if(S==="Boolean"){y=!0;break}else S==="String"&&(w=!1)}else y=Sn(h)&&h.name==="Boolean";v[0]=y,v[1]=w,(y||br(v,"default"))&&i.push(f)}}const A=[o,i];return Vr(e)&&r.set(e,A),A}function _F(e){return e[0]!=="$"&&!F0(e)}const aS=e=>e==="_"||e==="_ctx"||e==="$stable",sS=e=>_n(e)?e.map(Hi):[Hi(e)],uX=(e,t,n)=>{if(t._n)return t;const r=d((...a)=>sS(t(...a)),n);return r._c=!1,r},e6=(e,t,n)=>{const r=e._ctx;for(const a in e){if(aS(a))continue;const s=e[a];if(Sn(s))t[a]=uX(a,s,r);else if(s!=null){const o=sS(s);t[a]=()=>o}}},t6=(e,t)=>{const n=sS(t);e.slots.default=()=>n},n6=(e,t,n)=>{for(const r in t)(n||!aS(r))&&(e[r]=t[r])},dX=(e,t,n)=>{const r=e.slots=qL();if(e.vnode.shapeFlag&32){const a=t._;a?(n6(r,t,n),n&&tL(r,"_",a,!0)):e6(t,r)}else t&&t6(e,t)},AX=(e,t,n)=>{const{vnode:r,slots:a}=e;let s=!0,o=Nr;if(r.shapeFlag&32){const i=t._;i?n&&i===1?s=!1:n6(a,t,n):(s=!t.$stable,e6(t,a)),o=t}else t&&(t6(e,t),o={default:1});if(s)for(const i in a)!aS(i)&&o[i]==null&&delete a[i]},to=PX;function fX(e){return mX(e)}function mX(e,t){const n=Y2();n.__VUE__=!0;const{insert:r,remove:a,patchProp:s,createElement:o,createText:i,createComment:c,setText:A,setElementText:u,parentNode:f,nextSibling:m,setScopeId:v=Kl,insertStaticContent:h}=e,y=(z,Ae,ie,_e=null,Pe=null,re=null,be=void 0,He=null,ke=!!Ae.dynamicChildren)=>{if(z===Ae)return;z&&!Ml(z,Ae)&&(_e=q(z),U(z,Pe,re,!0),z=null),Ae.patchFlag===-2&&(ke=!1,Ae.dynamicChildren=null);const{type:Se,ref:st,shapeFlag:je}=Ae;switch(Se){case rp:w(z,Ae,ie,_e);break;case ns:b(z,Ae,ie,_e);break;case Ub:z==null&&B(Ae,ie,_e,be);break;case ze:R(z,Ae,ie,_e,Pe,re,be,He,ke);break;default:je&1?N(z,Ae,ie,_e,Pe,re,be,He,ke):je&6?M(z,Ae,ie,_e,Pe,re,be,He,ke):(je&64||je&128)&&Se.process(z,Ae,ie,_e,Pe,re,be,He,ke,ge)}st!=null&&Pe?R0(st,z&&z.ref,re,Ae||z,!Ae):st==null&&z&&z.ref!=null&&R0(z.ref,null,re,z,!0)},w=(z,Ae,ie,_e)=>{if(z==null)r(Ae.el=i(Ae.children),ie,_e);else{const Pe=Ae.el=z.el;Ae.children!==z.children&&A(Pe,Ae.children)}},b=(z,Ae,ie,_e)=>{z==null?r(Ae.el=c(Ae.children||""),ie,_e):Ae.el=z.el},B=(z,Ae,ie,_e)=>{[z.el,z.anchor]=h(z.children,Ae,ie,_e,z.el,z.anchor)},S=({el:z,anchor:Ae},ie,_e)=>{let Pe;for(;z&&z!==Ae;)Pe=m(z),r(z,ie,_e),z=Pe;r(Ae,ie,_e)},T=({el:z,anchor:Ae})=>{let ie;for(;z&&z!==Ae;)ie=m(z),a(z),z=ie;a(Ae)},N=(z,Ae,ie,_e,Pe,re,be,He,ke)=>{Ae.type==="svg"?be="svg":Ae.type==="math"&&(be="mathml"),z==null?k(Ae,ie,_e,Pe,re,be,He,ke):C(z,Ae,Pe,re,be,He,ke)},k=(z,Ae,ie,_e,Pe,re,be,He)=>{let ke,Se;const{props:st,shapeFlag:je,transition:Ve,dirs:Te}=z;if(ke=z.el=o(z.type,re,st&&st.is,st),je&8?u(ke,z.children):je&16&&_(z.children,ke,null,_e,Pe,Db(z,re),be,He),Te&&Ud(z,null,_e,"created"),E(ke,z,z.scopeId,be,_e),st){for(const ht in st)ht!=="value"&&!F0(ht)&&s(ke,ht,null,st[ht],re,_e);"value"in st&&s(ke,"value",null,st.value,re),(Se=st.onVnodeBeforeMount)&&Sl(Se,_e,z)}Te&&Ud(z,null,_e,"beforeMount");const Le=hX(Pe,Ve);Le&&Ve.beforeEnter(ke),r(ke,Ae,ie),((Se=st&&st.onVnodeMounted)||Le||Te)&&to(()=>{Se&&Sl(Se,_e,z),Le&&Ve.enter(ke),Te&&Ud(z,null,_e,"mounted")},Pe)},E=(z,Ae,ie,_e,Pe)=>{if(ie&&v(z,ie),_e)for(let re=0;re<_e.length;re++)v(z,_e[re]);if(Pe){let re=Pe.subTree;if(Ae===re||o6(re.type)&&(re.ssContent===Ae||re.ssFallback===Ae)){const be=Pe.vnode;E(z,be,be.scopeId,be.slotScopeIds,Pe.parent)}}},_=(z,Ae,ie,_e,Pe,re,be,He,ke=0)=>{for(let Se=ke;Se<z.length;Se++){const st=z[Se]=He?Iu(z[Se]):Hi(z[Se]);y(null,st,Ae,ie,_e,Pe,re,be,He)}},C=(z,Ae,ie,_e,Pe,re,be)=>{const He=Ae.el=z.el;let{patchFlag:ke,dynamicChildren:Se,dirs:st}=Ae;ke|=z.patchFlag&16;const je=z.props||Nr,Ve=Ae.props||Nr;let Te;if(ie&&Rd(ie,!1),(Te=Ve.onVnodeBeforeUpdate)&&Sl(Te,ie,Ae,z),st&&Ud(Ae,z,ie,"beforeUpdate"),ie&&Rd(ie,!0),(je.innerHTML&&Ve.innerHTML==null||je.textContent&&Ve.textContent==null)&&u(He,""),Se?F(z.dynamicChildren,Se,He,ie,_e,Db(Ae,Pe),re):be||le(z,Ae,He,null,ie,_e,Db(Ae,Pe),re,!1),ke>0){if(ke&16)I(He,je,Ve,ie,Pe);else if(ke&2&&je.class!==Ve.class&&s(He,"class",null,Ve.class,Pe),ke&4&&s(He,"style",je.style,Ve.style,Pe),ke&8){const Le=Ae.dynamicProps;for(let ht=0;ht<Le.length;ht++){const Ct=Le[ht],Dt=je[Ct],Je=Ve[Ct];(Je!==Dt||Ct==="value")&&s(He,Ct,Dt,Je,Pe,ie)}}ke&1&&z.children!==Ae.children&&u(He,Ae.children)}else!be&&Se==null&&I(He,je,Ve,ie,Pe);((Te=Ve.onVnodeUpdated)||st)&&to(()=>{Te&&Sl(Te,ie,Ae,z),st&&Ud(Ae,z,ie,"updated")},_e)},F=(z,Ae,ie,_e,Pe,re,be)=>{for(let He=0;He<Ae.length;He++){const ke=z[He],Se=Ae[He],st=ke.el&&(ke.type===ze||!Ml(ke,Se)||ke.shapeFlag&198)?f(ke.el):ie;y(ke,Se,st,null,_e,Pe,re,be,!0)}},I=(z,Ae,ie,_e,Pe)=>{if(Ae!==ie){if(Ae!==Nr)for(const re in Ae)!F0(re)&&!(re in ie)&&s(z,re,Ae[re],null,Pe,_e);for(const re in ie){if(F0(re))continue;const be=ie[re],He=Ae[re];be!==He&&re!=="value"&&s(z,re,He,be,Pe,_e)}"value"in ie&&s(z,"value",Ae.value,ie.value,Pe)}},R=(z,Ae,ie,_e,Pe,re,be,He,ke)=>{const Se=Ae.el=z?z.el:i(""),st=Ae.anchor=z?z.anchor:i("");let{patchFlag:je,dynamicChildren:Ve,slotScopeIds:Te}=Ae;Te&&(He=He?He.concat(Te):Te),z==null?(r(Se,ie,_e),r(st,ie,_e),_(Ae.children||[],ie,st,Pe,re,be,He,ke)):je>0&&je&64&&Ve&&z.dynamicChildren?(F(z.dynamicChildren,Ve,ie,Pe,re,be,He),(Ae.key!=null||Pe&&Ae===Pe.subTree)&&oS(z,Ae,!0)):le(z,Ae,ie,st,Pe,re,be,He,ke)},M=(z,Ae,ie,_e,Pe,re,be,He,ke)=>{Ae.slotScopeIds=He,z==null?Ae.shapeFlag&512?Pe.ctx.activate(Ae,ie,_e,be,ke):te(Ae,ie,_e,Pe,re,be,ke):se(z,Ae,ke)},te=(z,Ae,ie,_e,Pe,re,be)=>{const He=z.component=LX(z,_e,Pe);if(Z2(z)&&(He.ctx.renderer=ge),VX(He,!1,be),He.asyncDep){if(Pe&&Pe.registerDep(He,O,be),!z.el){const ke=He.subTree=l(ns);b(null,ke,Ae,ie),z.placeholder=ke.el}}else O(He,z,Ae,ie,Pe,re,be)},se=(z,Ae,ie)=>{const _e=Ae.component=z.component;if(BX(z,Ae,ie))if(_e.asyncDep&&!_e.asyncResolved){W(_e,Ae,ie);return}else _e.next=Ae,_e.update();else Ae.el=z.el,_e.vnode=Ae},O=(z,Ae,ie,_e,Pe,re,be)=>{const He=()=>{if(z.isMounted){let{next:je,bu:Ve,u:Te,parent:Le,vnode:ht}=z;{const it=r6(z);if(it){je&&(je.el=ht.el,W(z,je,be)),it.asyncDep.then(()=>{z.isUnmounted||He()});return}}let Ct=je,Dt;Rd(z,!1),je?(je.el=ht.el,W(z,je,be)):je=ht,Ve&&$1(Ve),(Dt=je.props&&je.props.onVnodeBeforeUpdate)&&Sl(Dt,Le,je,ht),Rd(z,!0);const Je=xF(z),Oe=z.subTree;z.subTree=Je,y(Oe,Je,f(Oe.el),q(Oe),z,Pe,re),je.el=Je.el,Ct===null&&lS(z,Je.el),Te&&to(Te,Pe),(Dt=je.props&&je.props.onVnodeUpdated)&&to(()=>Sl(Dt,Le,je,ht),Pe)}else{let je;const{el:Ve,props:Te}=Ae,{bm:Le,m:ht,parent:Ct,root:Dt,type:Je}=z,Oe=N0(Ae);Rd(z,!1),Le&&$1(Le),!Oe&&(je=Te&&Te.onVnodeBeforeMount)&&Sl(je,Ct,Ae),Rd(z,!0);{Dt.ce&&Dt.ce._def.shadowRoot!==!1&&Dt.ce._injectChildStyle(Je);const it=z.subTree=xF(z);y(null,it,ie,_e,z,Pe,re),Ae.el=it.el}if(ht&&to(ht,Pe),!Oe&&(je=Te&&Te.onVnodeMounted)){const it=Ae;to(()=>Sl(je,Ct,it),Pe)}(Ae.shapeFlag&256||Ct&&N0(Ct.vnode)&&Ct.vnode.shapeFlag&256)&&z.a&&to(z.a,Pe),z.isMounted=!0,Ae=ie=_e=null}};z.scope.on();const ke=z.effect=new lL(He);z.scope.off();const Se=z.update=ke.run.bind(ke),st=z.job=ke.runIfDirty.bind(ke);st.i=z,st.id=z.uid,ke.scheduler=()=>XB(st),Rd(z,!0),Se()},W=(z,Ae,ie)=>{Ae.component=z;const _e=z.vnode.props;z.vnode=Ae,z.next=null,lX(z,Ae.props,_e,ie),AX(z,Ae.children,ie),zc(),uF(z),$c()},le=(z,Ae,ie,_e,Pe,re,be,He,ke=!1)=>{const Se=z&&z.children,st=z?z.shapeFlag:0,je=Ae.children,{patchFlag:Ve,shapeFlag:Te}=Ae;if(Ve>0){if(Ve&128){ee(Se,je,ie,_e,Pe,re,be,He,ke);return}else if(Ve&256){K(Se,je,ie,_e,Pe,re,be,He,ke);return}}Te&8?(st&16&&oe(Se,Pe,re),je!==Se&&u(ie,je)):st&16?Te&16?ee(Se,je,ie,_e,Pe,re,be,He,ke):oe(Se,Pe,re,!0):(st&8&&u(ie,""),Te&16&&_(je,ie,_e,Pe,re,be,He,ke))},K=(z,Ae,ie,_e,Pe,re,be,He,ke)=>{z=z||Zf,Ae=Ae||Zf;const Se=z.length,st=Ae.length,je=Math.min(Se,st);let Ve;for(Ve=0;Ve<je;Ve++){const Te=Ae[Ve]=ke?Iu(Ae[Ve]):Hi(Ae[Ve]);y(z[Ve],Te,ie,null,Pe,re,be,He,ke)}Se>st?oe(z,Pe,re,!0,!1,je):_(Ae,ie,_e,Pe,re,be,He,ke,je)},ee=(z,Ae,ie,_e,Pe,re,be,He,ke)=>{let Se=0;const st=Ae.length;let je=z.length-1,Ve=st-1;for(;Se<=je&&Se<=Ve;){const Te=z[Se],Le=Ae[Se]=ke?Iu(Ae[Se]):Hi(Ae[Se]);if(Ml(Te,Le))y(Te,Le,ie,null,Pe,re,be,He,ke);else break;Se++}for(;Se<=je&&Se<=Ve;){const Te=z[je],Le=Ae[Ve]=ke?Iu(Ae[Ve]):Hi(Ae[Ve]);if(Ml(Te,Le))y(Te,Le,ie,null,Pe,re,be,He,ke);else break;je--,Ve--}if(Se>je){if(Se<=Ve){const Te=Ve+1,Le=Te<st?Ae[Te].el:_e;for(;Se<=Ve;)y(null,Ae[Se]=ke?Iu(Ae[Se]):Hi(Ae[Se]),ie,Le,Pe,re,be,He,ke),Se++}}else if(Se>Ve)for(;Se<=je;)U(z[Se],Pe,re,!0),Se++;else{const Te=Se,Le=Se,ht=new Map;for(Se=Le;Se<=Ve;Se++){const Ut=Ae[Se]=ke?Iu(Ae[Se]):Hi(Ae[Se]);Ut.key!=null&&ht.set(Ut.key,Se)}let Ct,Dt=0;const Je=Ve-Le+1;let Oe=!1,it=0;const at=new Array(Je);for(Se=0;Se<Je;Se++)at[Se]=0;for(Se=Te;Se<=je;Se++){const Ut=z[Se];if(Dt>=Je){U(Ut,Pe,re,!0);continue}let Yt;if(Ut.key!=null)Yt=ht.get(Ut.key);else for(Ct=Le;Ct<=Ve;Ct++)if(at[Ct-Le]===0&&Ml(Ut,Ae[Ct])){Yt=Ct;break}Yt===void 0?U(Ut,Pe,re,!0):(at[Yt-Le]=Se+1,Yt>=it?it=Yt:Oe=!0,y(Ut,Ae[Yt],ie,null,Pe,re,be,He,ke),Dt++)}const Xe=Oe?vX(at):Zf;for(Ct=Xe.length-1,Se=Je-1;Se>=0;Se--){const Ut=Le+Se,Yt=Ae[Ut],bt=Ae[Ut+1],cn=Ut+1<st?bt.el||bt.placeholder:_e;at[Se]===0?y(null,Yt,ie,cn,Pe,re,be,He,ke):Oe&&(Ct<0||Se!==Xe[Ct]?j(Yt,ie,cn,2):Ct--)}}},j=(z,Ae,ie,_e,Pe=null)=>{const{el:re,type:be,transition:He,children:ke,shapeFlag:Se}=z;if(Se&6){j(z.component.subTree,Ae,ie,_e);return}if(Se&128){z.suspense.move(Ae,ie,_e);return}if(Se&64){be.move(z,Ae,ie,ge);return}if(be===ze){r(re,Ae,ie);for(let je=0;je<ke.length;je++)j(ke[je],Ae,ie,_e);r(z.anchor,Ae,ie);return}if(be===Ub){S(z,Ae,ie);return}if(_e!==2&&Se&1&&He)if(_e===0)He.beforeEnter(re),r(re,Ae,ie),to(()=>He.enter(re),Pe);else{const{leave:je,delayLeave:Ve,afterLeave:Te}=He,Le=()=>{z.ctx.isUnmounted?a(re):r(re,Ae,ie)},ht=()=>{re._isLeaving&&re[Tc](!0),je(re,()=>{Le(),Te&&Te()})};Ve?Ve(re,Le,ht):ht()}else r(re,Ae,ie)},U=(z,Ae,ie,_e=!1,Pe=!1)=>{const{type:re,props:be,ref:He,children:ke,dynamicChildren:Se,shapeFlag:st,patchFlag:je,dirs:Ve,cacheIndex:Te}=z;if(je===-2&&(Pe=!1),He!=null&&(zc(),R0(He,null,ie,z,!0),$c()),Te!=null&&(Ae.renderCache[Te]=void 0),st&256){Ae.ctx.deactivate(z);return}const Le=st&1&&Ve,ht=!N0(z);let Ct;if(ht&&(Ct=be&&be.onVnodeBeforeUnmount)&&Sl(Ct,Ae,z),st&6)X(z.component,ie,_e);else{if(st&128){z.suspense.unmount(ie,_e);return}Le&&Ud(z,null,Ae,"beforeUnmount"),st&64?z.type.remove(z,Ae,ie,ge,_e):Se&&!Se.hasOnce&&(re!==ze||je>0&&je&64)?oe(Se,Ae,ie,!1,!0):(re===ze&&je&384||!Pe&&st&16)&&oe(ke,Ae,ie),_e&&G(z)}(ht&&(Ct=be&&be.onVnodeUnmounted)||Le)&&to(()=>{Ct&&Sl(Ct,Ae,z),Le&&Ud(z,null,Ae,"unmounted")},ie)},G=z=>{const{type:Ae,el:ie,anchor:_e,transition:Pe}=z;if(Ae===ze){ne(ie,_e);return}if(Ae===Ub){T(z);return}const re=()=>{a(ie),Pe&&!Pe.persisted&&Pe.afterLeave&&Pe.afterLeave()};if(z.shapeFlag&1&&Pe&&!Pe.persisted){const{leave:be,delayLeave:He}=Pe,ke=()=>be(ie,re);He?He(z.el,re,ke):ke()}else re()},ne=(z,Ae)=>{let ie;for(;z!==Ae;)ie=m(z),a(z),z=ie;a(Ae)},X=(z,Ae,ie)=>{const{bum:_e,scope:Pe,job:re,subTree:be,um:He,m:ke,a:Se}=z;bF(ke),bF(Se),_e&&$1(_e),Pe.stop(),re&&(re.flags|=8,U(be,z,Ae,ie)),He&&to(He,Ae),to(()=>{z.isUnmounted=!0},Ae)},oe=(z,Ae,ie,_e=!1,Pe=!1,re=0)=>{for(let be=re;be<z.length;be++)U(z[be],Ae,ie,_e,Pe)},q=z=>{if(z.shapeFlag&6)return q(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const Ae=m(z.anchor||z.el),ie=Ae&&Ae[FL];return ie?m(ie):Ae};let Y=!1;const ae=(z,Ae,ie)=>{z==null?Ae._vnode&&U(Ae._vnode,null,null,!0):y(Ae._vnode||null,z,Ae,null,null,null,ie),Ae._vnode=z,Y||(Y=!0,uF(),kL(),Y=!1)},ge={p:y,um:U,m:j,r:G,mt:te,mc:_,pc:le,pbc:F,n:q,o:e};return{render:ae,hydrate:void 0,createApp:oX(ae)}}function Db({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Rd({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function hX(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function oS(e,t,n=!1){const r=e.children,a=t.children;if(_n(r)&&_n(a))for(let s=0;s<r.length;s++){const o=r[s];let i=a[s];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=a[s]=Iu(a[s]),i.el=o.el),!n&&i.patchFlag!==-2&&oS(o,i)),i.type===rp&&i.patchFlag!==-1&&(i.el=o.el),i.type===ns&&!i.el&&(i.el=o.el)}}function vX(e){const t=e.slice(),n=[0];let r,a,s,o,i;const c=e.length;for(r=0;r<c;r++){const A=e[r];if(A!==0){if(a=n[n.length-1],e[a]<A){t[r]=a,n.push(r);continue}for(s=0,o=n.length-1;s<o;)i=s+o>>1,e[n[i]]<A?s=i+1:o=i;A<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function r6(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:r6(t)}function bF(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const pX=Symbol.for("v-scx"),gX=()=>pn(pX);function Mr(e,t){return iS(e,null,t)}function Ge(e,t,n){return iS(e,t,n)}function iS(e,t,n=Nr){const{immediate:r,deep:a,flush:s,once:o}=n,i=$a({},n),c=t&&r||!t&&s!=="post";let A;if(hv){if(s==="sync"){const v=gX();A=v.__watcherHandles||(v.__watcherHandles=[])}else if(!c){const v=()=>{};return v.stop=Kl,v.resume=Kl,v.pause=Kl,v}}const u=Ps;i.call=(v,h,y)=>sl(v,u,h,y);let f=!1;s==="post"?i.scheduler=v=>{to(v,u&&u.suspense)}:s!=="sync"&&(f=!0,i.scheduler=(v,h)=>{h?v():XB(v)}),i.augmentJob=v=>{t&&(v.flags|=4),f&&(v.flags|=2,u&&(v.id=u.uid,v.i=u))};const m=QY(e,t,i);return hv&&(A?A.push(m):c&&m()),m}function yX(e,t,n){const r=this.proxy,a=Zr(e)?e.includes(".")?a6(r,e):()=>r[e]:e.bind(r,r);let s;Sn(t)?s=t:(s=t.handler,n=t);const o=ap(this),i=iS(a,s.bind(r),n);return o(),i}function a6(e,t){const n=t.split(".");return()=>{let r=e;for(let a=0;a<n.length&&r;a++)r=r[n[a]];return r}}const wX=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${fo(t)}Modifiers`]||e[`${Ad(t)}Modifiers`];function _X(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Nr;let a=n;const s=t.startsWith("update:"),o=s&&wX(r,t.slice(7));o&&(o.trim&&(a=n.map(u=>Zr(u)?u.trim():u)),o.number&&(a=n.map(AC)));let i,c=r[i=Bb(t)]||r[i=Bb(fo(t))];!c&&s&&(c=r[i=Bb(Ad(t))]),c&&sl(c,e,6,a);const A=r[i+"Once"];if(A){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,sl(A,e,6,a)}}const bX=new WeakMap;function s6(e,t,n=!1){const r=n?bX:t.emitsCache,a=r.get(e);if(a!==void 0)return a;const s=e.emits;let o={},i=!1;if(!Sn(e)){const c=A=>{const u=s6(A,t,!0);u&&(i=!0,$a(o,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!i?(Vr(e)&&r.set(e,null),null):(_n(s)?s.forEach(c=>o[c]=null):$a(o,s),Vr(e)&&r.set(e,o),o)}function nw(e,t){return!e||!j2(t)?!1:(t=t.slice(2).replace(/Once$/,""),br(e,t[0].toLowerCase()+t.slice(1))||br(e,Ad(t))||br(e,t))}function xF(e){const{type:t,vnode:n,proxy:r,withProxy:a,propsOptions:[s],slots:o,attrs:i,emit:c,render:A,renderCache:u,props:f,data:m,setupState:v,ctx:h,inheritAttrs:y}=e,w=xy(e);let b,B;try{if(n.shapeFlag&4){const T=a||r,N=T;b=Hi(A.call(N,T,u,f,v,m,h)),B=i}else{const T=t;b=Hi(T.length>1?T(f,{attrs:i,slots:o,emit:c}):T(f,null)),B=t.props?i:CX(i)}}catch(T){V0.length=0,np(T,e,1),b=l(ns)}let S=b;if(B&&y!==!1){const T=Object.keys(B),{shapeFlag:N}=S;T.length&&N&7&&(s&&T.some(HB)&&(B=EX(B,s)),S=Wc(S,B,!1,!0))}return n.dirs&&(S=Wc(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&gA(S,n.transition),b=S,xy(w),b}function xX(e,t=!0){let n;for(let r=0;r<e.length;r++){const a=e[r];if(wm(a)){if(a.type!==ns||a.children==="v-if"){if(n)return;n=a}}else return}return n}const CX=e=>{let t;for(const n in e)(n==="class"||n==="style"||j2(n))&&((t||(t={}))[n]=e[n]);return t},EX=(e,t)=>{const n={};for(const r in e)(!HB(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function BX(e,t,n){const{props:r,children:a,component:s}=e,{props:o,children:i,patchFlag:c}=t,A=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?CF(r,o,A):!!o;if(c&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const m=u[f];if(o[m]!==r[m]&&!nw(A,m))return!0}}}else return(a||i)&&(!i||!i.$stable)?!0:r===o?!1:r?o?CF(r,o,A):!0:!!o;return!1}function CF(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const s=r[a];if(t[s]!==e[s]&&!nw(n,s))return!0}return!1}function lS({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const o6=e=>e.__isSuspense;let bC=0;const SX={name:"Suspense",__isSuspense:!0,process(e,t,n,r,a,s,o,i,c,A){if(e==null)kX(t,n,r,a,s,o,i,c,A);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}IX(e,t,n,r,a,o,i,c,A)}},hydrate:TX,normalize:FX},xC=SX;function mv(e,t){const n=e.props&&e.props[t];Sn(n)&&n()}function kX(e,t,n,r,a,s,o,i,c){const{p:A,o:{createElement:u}}=c,f=u("div"),m=e.suspense=i6(e,a,r,t,f,n,s,o,i,c);A(null,m.pendingBranch=e.ssContent,f,null,r,m,s,o),m.deps>0?(mv(e,"onPending"),mv(e,"onFallback"),A(null,e.ssFallback,t,n,r,null,s,o),am(m,e.ssFallback)):m.resolve(!1,!0)}function IX(e,t,n,r,a,s,o,i,{p:c,um:A,o:{createElement:u}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const m=t.ssContent,v=t.ssFallback,{activeBranch:h,pendingBranch:y,isInFallback:w,isHydrating:b}=f;if(y)f.pendingBranch=m,Ml(y,m)?(c(y,m,f.hiddenContainer,null,a,f,s,o,i),f.deps<=0?f.resolve():w&&(b||(c(h,v,n,r,a,null,s,o,i),am(f,v)))):(f.pendingId=bC++,b?(f.isHydrating=!1,f.activeBranch=y):A(y,a,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),w?(c(null,m,f.hiddenContainer,null,a,f,s,o,i),f.deps<=0?f.resolve():(c(h,v,n,r,a,null,s,o,i),am(f,v))):h&&Ml(h,m)?(c(h,m,n,r,a,f,s,o,i),f.resolve(!0)):(c(null,m,f.hiddenContainer,null,a,f,s,o,i),f.deps<=0&&f.resolve()));else if(h&&Ml(h,m))c(h,m,n,r,a,f,s,o,i),am(f,m);else if(mv(t,"onPending"),f.pendingBranch=m,m.shapeFlag&512?f.pendingId=m.component.suspenseId:f.pendingId=bC++,c(null,m,f.hiddenContainer,null,a,f,s,o,i),f.deps<=0)f.resolve();else{const{timeout:B,pendingId:S}=f;B>0?setTimeout(()=>{f.pendingId===S&&f.fallback(v)},B):B===0&&f.fallback(v)}}function i6(e,t,n,r,a,s,o,i,c,A,u=!1){const{p:f,m,um:v,n:h,o:{parentNode:y,remove:w}}=A;let b;const B=DX(e);B&&t&&t.pendingBranch&&(b=t.pendingId,t.deps++);const S=e.props?nL(e.props.timeout):void 0,T=s,N={vnode:e,parent:t,parentComponent:n,namespace:o,container:r,hiddenContainer:a,deps:0,pendingId:bC++,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(k=!1,E=!1){const{vnode:_,activeBranch:C,pendingBranch:F,pendingId:I,effects:R,parentComponent:M,container:te}=N;let se=!1;N.isHydrating?N.isHydrating=!1:k||(se=C&&F.transition&&F.transition.mode==="out-in",se&&(C.transition.afterLeave=()=>{I===N.pendingId&&(m(F,te,s===T?h(C):s,0),vC(R))}),C&&(y(C.el)===te&&(s=h(C)),v(C,M,N,!0)),se||m(F,te,s,0)),am(N,F),N.pendingBranch=null,N.isInFallback=!1;let O=N.parent,W=!1;for(;O;){if(O.pendingBranch){O.effects.push(...R),W=!0;break}O=O.parent}!W&&!se&&vC(R),N.effects=[],B&&t&&t.pendingBranch&&b===t.pendingId&&(t.deps--,t.deps===0&&!E&&t.resolve()),mv(_,"onResolve")},fallback(k){if(!N.pendingBranch)return;const{vnode:E,activeBranch:_,parentComponent:C,container:F,namespace:I}=N;mv(E,"onFallback");const R=h(_),M=()=>{N.isInFallback&&(f(null,k,F,R,C,null,I,i,c),am(N,k))},te=k.transition&&k.transition.mode==="out-in";te&&(_.transition.afterLeave=M),N.isInFallback=!0,v(_,C,null,!0),te||M()},move(k,E,_){N.activeBranch&&m(N.activeBranch,k,E,_),N.container=k},next(){return N.activeBranch&&h(N.activeBranch)},registerDep(k,E,_){const C=!!N.pendingBranch;C&&N.deps++;const F=k.vnode.el;k.asyncDep.catch(I=>{np(I,k,0)}).then(I=>{if(k.isUnmounted||N.isUnmounted||N.pendingId!==k.suspenseId)return;k.asyncResolved=!0;const{vnode:R}=k;EC(k,I),F&&(R.el=F);const M=!F&&k.subTree.el;E(k,R,y(F||k.subTree.el),F?null:h(k.subTree),N,o,_),M&&w(M),lS(k,R.el),C&&--N.deps===0&&N.resolve()})},unmount(k,E){N.isUnmounted=!0,N.activeBranch&&v(N.activeBranch,n,k,E),N.pendingBranch&&v(N.pendingBranch,n,k,E)}};return N}function TX(e,t,n,r,a,s,o,i,c){const A=t.suspense=i6(t,r,n,e.parentNode,document.createElement("div"),null,a,s,o,i,!0),u=c(e,A.pendingBranch=t.ssContent,n,A,s,o);return A.deps===0&&A.resolve(!1,!0),u}function FX(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=EF(r?n.default:n),e.ssFallback=r?EF(n.fallback):l(ns)}function EF(e){let t;if(Sn(e)){const n=ym&&e._c;n&&(e._d=!1,V()),e=e(),n&&(e._d=!0,t=ko,l6())}return _n(e)&&(e=xX(e)),e=Hi(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function PX(e,t){t&&t.pendingBranch?_n(e)?t.effects.push(...e):t.effects.push(e):vC(e)}function am(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let a=t.el;for(;!a&&t.component;)t=t.component.subTree,a=t.el;n.el=a,r&&r.subTree===n&&(r.vnode.el=a,lS(r,a))}function DX(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const ze=Symbol.for("v-fgt"),rp=Symbol.for("v-txt"),ns=Symbol.for("v-cmt"),Ub=Symbol.for("v-stc"),V0=[];let ko=null;function V(e=!1){V0.push(ko=e?null:[])}function l6(){V0.pop(),ko=V0[V0.length-1]||null}let ym=1;function By(e,t=!1){ym+=e,e<0&&ko&&t&&(ko.hasOnce=!0)}function c6(e){return e.dynamicChildren=ym>0?ko||Zf:null,l6(),ym>0&&ko&&ko.push(e),e}function ye(e,t,n,r,a,s){return c6(p(e,t,n,r,a,s,!0))}function he(e,t,n,r,a){return c6(l(e,t,n,r,a,!0))}function wm(e){return e?e.__v_isVNode===!0:!1}function Ml(e,t){return e.type===t.type&&e.key===t.key}const u6=({key:e})=>e??null,j1=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Zr(e)||xa(e)||Sn(e)?{i:Wo,r:e,k:t,f:!!n}:e:null);function p(e,t=null,n=null,r=0,a=null,s=e===ze?0:1,o=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&u6(t),ref:t&&j1(t),scopeId:TL,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Wo};return i?(cS(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=Zr(n)?8:16),ym>0&&!o&&ko&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&ko.push(c),c}const l=UX;function UX(e,t=null,n=null,r=0,a=null,s=!1){if((!e||e===GL)&&(e=ns),wm(e)){const i=Wc(e,t,!0);return n&&cS(i,n),ym>0&&!s&&ko&&(i.shapeFlag&6?ko[ko.indexOf(e)]=i:ko.push(i)),i.patchFlag=-2,i}if(KX(e)&&(e=e.__vccOpts),t){t=fd(t);let{class:i,style:c}=t;i&&!Zr(i)&&(t.class=rt(i)),Vr(c)&&(YB(c)&&!_n(c)&&(c=$a({},c)),t.style=It(c))}const o=Zr(e)?1:o6(e)?128:PL(e)?64:Vr(e)?4:Sn(e)?2:0;return p(e,t,n,r,a,o,s,!0)}function fd(e){return e?YB(e)||YL(e)?$a({},e):e:null}function Wc(e,t,n=!1,r=!1){const{props:a,ref:s,patchFlag:o,children:i,transition:c}=e,A=t?Ne(a||{},t):a,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:A,key:A&&u6(A),ref:t&&t.ref?n&&s?_n(s)?s.concat(j1(t)):[s,j1(t)]:j1(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ze?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Wc(e.ssContent),ssFallback:e.ssFallback&&Wc(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&gA(u,c.clone(u)),u}function Q(e=" ",t=0){return l(rp,null,e,t)}function Be(e="",t=!1){return t?(V(),he(ns,null,e)):l(ns,null,e)}function Hi(e){return e==null||typeof e=="boolean"?l(ns):_n(e)?l(ze,null,e.slice()):wm(e)?Iu(e):l(rp,null,String(e))}function Iu(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Wc(e)}function cS(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(_n(t))n=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),cS(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!YL(t)?t._ctx=Wo:a===3&&Wo&&(Wo.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Sn(t)?(t={default:t,_ctx:Wo},n=32):(t=String(t),r&64?(n=16,t=[Q(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ne(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=rt([t.class,r.class]));else if(a==="style")t.style=It([t.style,r.style]);else if(j2(a)){const s=t[a],o=r[a];o&&s!==o&&!(_n(s)&&s.includes(o))&&(t[a]=s?[].concat(s,o):o)}else a!==""&&(t[a]=r[a])}return t}function Sl(e,t,n,r=null){sl(e,t,7,[n,r])}const RX=jL();let NX=0;function LX(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||RX,s={uid:NX++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new oL(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ZL(r,a),emitsOptions:s6(r,a),emit:null,emitted:null,propsDefaults:Nr,inheritAttrs:r.inheritAttrs,ctx:Nr,data:Nr,props:Nr,attrs:Nr,slots:Nr,refs:Nr,setupState:Nr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=_X.bind(null,s),e.ce&&e.ce(s),s}let Ps=null;const Km=()=>Ps||Wo;let Sy,CC;{const e=Y2(),t=(n,r)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(r),s=>{a.length>1?a.forEach(o=>o(s)):a[0](s)}};Sy=t("__VUE_INSTANCE_SETTERS__",n=>Ps=n),CC=t("__VUE_SSR_SETTERS__",n=>hv=n)}const ap=e=>{const t=Ps;return Sy(e),e.scope.on(),()=>{e.scope.off(),Sy(t)}},BF=()=>{Ps&&Ps.scope.off(),Sy(null)};function d6(e){return e.vnode.shapeFlag&4}let hv=!1;function VX(e,t=!1,n=!1){t&&CC(t);const{props:r,children:a}=e.vnode,s=d6(e);iX(e,r,s,t),dX(e,a,n||t);const o=s?MX(e,t):void 0;return t&&CC(!1),o}function MX(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,ZY);const{setup:r}=n;if(r){zc();const a=e.setupContext=r.length>1?QX(e):null,s=ap(e),o=tp(r,e,0,[e.props,a]),i=XN(o);if($c(),s(),(i||e.sp)&&!N0(e)&&OL(e),i){if(o.then(BF,BF),t)return o.then(c=>{EC(e,c)}).catch(c=>{np(c,e,0)});e.asyncDep=o}else EC(e,o)}else A6(e)}function EC(e,t,n){Sn(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Vr(t)&&(e.setupState=CL(t)),A6(e)}function A6(e,t,n){const r=e.type;e.render||(e.render=r.render||Kl);{const a=ap(e);zc();try{eX(e)}finally{$c(),a()}}}const OX={get(e,t){return Is(e,"get",""),e[t]}};function QX(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,OX),slots:e.slots,emit:e.emit,expose:t}}function rw(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(CL(yy(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in L0)return L0[n](e)},has(t,n){return n in t||n in L0}})):e.proxy}function HX(e,t=!0){return Sn(e)?e.displayName||e.name:e.name||t&&e.__name}function KX(e){return Sn(e)&&"__vccOpts"in e}const Z=(e,t)=>MY(e,t,hv);function fl(e,t,n){try{By(-1);const r=arguments.length;return r===2?Vr(t)&&!_n(t)?wm(t)?l(e,null,[t]):l(e,t):l(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&wm(n)&&(n=[n]),l(e,t,n))}finally{By(1)}}const GX="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let BC;const SF=typeof window<"u"&&window.trustedTypes;if(SF)try{BC=SF.createPolicy("vue",{createHTML:e=>e})}catch{}const f6=BC?e=>BC.createHTML(e):e=>e,zX="http://www.w3.org/2000/svg",$X="http://www.w3.org/1998/Math/MathML",Ic=typeof document<"u"?document:null,kF=Ic&&Ic.createElement("template"),WX={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const a=t==="svg"?Ic.createElementNS(zX,e):t==="mathml"?Ic.createElementNS($X,e):n?Ic.createElement(e,{is:n}):Ic.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>Ic.createTextNode(e),createComment:e=>Ic.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ic.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,s){const o=n?n.previousSibling:t.lastChild;if(a&&(a===s||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===s||!(a=a.nextSibling)););else{kF.innerHTML=f6(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const i=kF.content;if(r==="svg"||r==="mathml"){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wu="transition",jh="animation",_m=Symbol("_vtc"),m6={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},h6=$a({},NL,m6),jX=e=>(e.displayName="Transition",e.props=h6,e),td=jX((e,{slots:t})=>fl(WY,v6(e),t)),Nd=(e,t=[])=>{_n(e)?e.forEach(n=>n(...t)):e&&e(...t)},IF=e=>e?_n(e)?e.some(t=>t.length>1):e.length>1:!1;function v6(e){const t={};for(const R in e)R in m6||(t[R]=e[R]);if(e.css===!1)return t;const{name:n="v",type:r,duration:a,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:i=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:A=o,appearToClass:u=i,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,h=JX(a),y=h&&h[0],w=h&&h[1],{onBeforeEnter:b,onEnter:B,onEnterCancelled:S,onLeave:T,onLeaveCancelled:N,onBeforeAppear:k=b,onAppear:E=B,onAppearCancelled:_=S}=t,C=(R,M,te,se)=>{R._enterCancelled=se,Eu(R,M?u:i),Eu(R,M?A:o),te&&te()},F=(R,M)=>{R._isLeaving=!1,Eu(R,f),Eu(R,v),Eu(R,m),M&&M()},I=R=>(M,te)=>{const se=R?E:B,O=()=>C(M,R,te);Nd(se,[M,O]),TF(()=>{Eu(M,R?c:s),Pl(M,R?u:i),IF(se)||FF(M,r,y,O)})};return $a(t,{onBeforeEnter(R){Nd(b,[R]),Pl(R,s),Pl(R,o)},onBeforeAppear(R){Nd(k,[R]),Pl(R,c),Pl(R,A)},onEnter:I(!1),onAppear:I(!0),onLeave(R,M){R._isLeaving=!0;const te=()=>F(R,M);Pl(R,f),R._enterCancelled?(Pl(R,m),SC(R)):(SC(R),Pl(R,m)),TF(()=>{R._isLeaving&&(Eu(R,f),Pl(R,v),IF(T)||FF(R,r,w,te))}),Nd(T,[R,te])},onEnterCancelled(R){C(R,!1,void 0,!0),Nd(S,[R])},onAppearCancelled(R){C(R,!0,void 0,!0),Nd(_,[R])},onLeaveCancelled(R){F(R),Nd(N,[R])}})}function JX(e){if(e==null)return null;if(Vr(e))return[Rb(e.enter),Rb(e.leave)];{const t=Rb(e);return[t,t]}}function Rb(e){return nL(e)}function Pl(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[_m]||(e[_m]=new Set)).add(t)}function Eu(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[_m];n&&(n.delete(t),n.size||(e[_m]=void 0))}function TF(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let qX=0;function FF(e,t,n,r){const a=e._endId=++qX,s=()=>{a===e._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:i,propCount:c}=p6(e,t);if(!o)return r();const A=o+"end";let u=0;const f=()=>{e.removeEventListener(A,m),s()},m=v=>{v.target===e&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},i+1),e.addEventListener(A,m)}function p6(e,t){const n=window.getComputedStyle(e),r=h=>(n[h]||"").split(", "),a=r(`${wu}Delay`),s=r(`${wu}Duration`),o=PF(a,s),i=r(`${jh}Delay`),c=r(`${jh}Duration`),A=PF(i,c);let u=null,f=0,m=0;t===wu?o>0&&(u=wu,f=o,m=s.length):t===jh?A>0&&(u=jh,f=A,m=c.length):(f=Math.max(o,A),u=f>0?o>A?wu:jh:null,m=u?u===wu?s.length:c.length:0);const v=u===wu&&/\b(?:transform|all)(?:,|$)/.test(r(`${wu}Property`).toString());return{type:u,timeout:f,propCount:m,hasTransform:v}}function PF(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>DF(n)+DF(e[r])))}function DF(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function SC(e){return(e?e.ownerDocument:document).body.offsetHeight}function YX(e,t,n){const r=e[_m];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ky=Symbol("_vod"),g6=Symbol("_vsh"),Po={name:"show",beforeMount(e,{value:t},{transition:n}){e[ky]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Jh(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Jh(e,!0),r.enter(e)):r.leave(e,()=>{Jh(e,!1)}):Jh(e,t))},beforeUnmount(e,{value:t}){Jh(e,t)}};function Jh(e,t){e.style.display=t?e[ky]:"none",e[g6]=!t}const XX=Symbol(""),ZX=/(?:^|;)\s*display\s*:/;function eZ(e,t,n){const r=e.style,a=Zr(n);let s=!1;if(n&&!a){if(t)if(Zr(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();n[i]==null&&J1(r,i,"")}else for(const o in t)n[o]==null&&J1(r,o,"");for(const o in n)o==="display"&&(s=!0),J1(r,o,n[o])}else if(a){if(t!==n){const o=r[XX];o&&(n+=";"+o),r.cssText=n,s=ZX.test(n)}}else t&&e.removeAttribute("style");ky in e&&(e[ky]=s?r.display:"",e[g6]&&(r.display="none"))}const UF=/\s*!important$/;function J1(e,t,n){if(_n(n))n.forEach(r=>J1(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=tZ(e,t);UF.test(n)?e.setProperty(Ad(r),n.replace(UF,""),"important"):e[r]=n}}const RF=["Webkit","Moz","ms"],Nb={};function tZ(e,t){const n=Nb[t];if(n)return n;let r=fo(t);if(r!=="filter"&&r in e)return Nb[t]=r;r=tc(r);for(let a=0;a<RF.length;a++){const s=RF[a]+r;if(s in e)return Nb[t]=s}return t}const NF="http://www.w3.org/1999/xlink";function LF(e,t,n,r,a,s=mY(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(NF,t.slice(6,t.length)):e.setAttributeNS(NF,t,n):n==null||s&&!rL(n)?e.removeAttribute(t):e.setAttribute(t,s?"":dd(n)?String(n):n)}function VF(e,t,n,r,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?f6(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const i=s==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(i!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=rL(n):n==null&&i==="string"?(n="",o=!0):i==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(a||t)}function Mf(e,t,n,r){e.addEventListener(t,n,r)}function nZ(e,t,n,r){e.removeEventListener(t,n,r)}const MF=Symbol("_vei");function rZ(e,t,n,r,a=null){const s=e[MF]||(e[MF]={}),o=s[t];if(r&&o)o.value=r;else{const[i,c]=aZ(t);if(r){const A=s[t]=iZ(r,a);Mf(e,i,A,c)}else o&&(nZ(e,i,o,c),s[t]=void 0)}}const OF=/(?:Once|Passive|Capture)$/;function aZ(e){let t;if(OF.test(e)){t={};let r;for(;r=e.match(OF);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ad(e.slice(2)),t]}let Lb=0;const sZ=Promise.resolve(),oZ=()=>Lb||(sZ.then(()=>Lb=0),Lb=Date.now());function iZ(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;sl(lZ(r,n.value),t,5,[r])};return n.value=e,n.attached=oZ(),n}function lZ(e,t){if(_n(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const QF=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,cZ=(e,t,n,r,a,s)=>{const o=a==="svg";t==="class"?YX(e,r,o):t==="style"?eZ(e,n,r):j2(t)?HB(t)||rZ(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):uZ(e,t,r,o))?(VF(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&LF(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Zr(r))?VF(e,fo(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),LF(e,t,r,o))};function uZ(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&QF(t)&&Sn(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return QF(t)&&Zr(n)?!1:t in e}const y6=new WeakMap,w6=new WeakMap,Iy=Symbol("_moveCb"),HF=Symbol("_enterCb"),dZ=e=>(delete e.props.mode,e),AZ=dZ({name:"TransitionGroup",props:$a({},h6,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Km(),r=RL();let a,s;return nS(()=>{if(!a.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!vZ(a[0].el,n.vnode.el,o)){a=[];return}a.forEach(fZ),a.forEach(mZ);const i=a.filter(hZ);SC(n.vnode.el),i.forEach(c=>{const A=c.el,u=A.style;Pl(A,o),u.transform=u.webkitTransform=u.transitionDuration="";const f=A[Iy]=m=>{m&&m.target!==A||(!m||m.propertyName.endsWith("transform"))&&(A.removeEventListener("transitionend",f),A[Iy]=null,Eu(A,o))};A.addEventListener("transitionend",f)}),a=[]}),()=>{const o=un(e),i=v6(o);let c=o.tag||ze;if(a=[],s)for(let A=0;A<s.length;A++){const u=s[A];u.el&&u.el instanceof Element&&(a.push(u),gA(u,fv(u,i,r,n)),y6.set(u,u.el.getBoundingClientRect()))}s=t.default?ZB(t.default()):[];for(let A=0;A<s.length;A++){const u=s[A];u.key!=null&&gA(u,fv(u,i,r,n))}return l(c,null,s)}}}),uS=AZ;function fZ(e){const t=e.el;t[Iy]&&t[Iy](),t[HF]&&t[HF]()}function mZ(e){w6.set(e,e.el.getBoundingClientRect())}function hZ(e){const t=y6.get(e),n=w6.get(e),r=t.left-n.left,a=t.top-n.top;if(r||a){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${a}px)`,s.transitionDuration="0s",e}}function vZ(e,t,n){const r=e.cloneNode(),a=e[_m];a&&a.forEach(i=>{i.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(i=>i&&r.classList.add(i)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:o}=p6(r);return s.removeChild(r),o}const KF=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _n(t)?n=>$1(t,n):t};function pZ(e){e.target.composing=!0}function GF(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vb=Symbol("_assign"),gZ={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[Vb]=KF(a);const s=r||a.props&&a.props.type==="number";Mf(e,t?"change":"input",o=>{if(o.target.composing)return;let i=e.value;n&&(i=i.trim()),s&&(i=AC(i)),e[Vb](i)}),n&&Mf(e,"change",()=>{e.value=e.value.trim()}),t||(Mf(e,"compositionstart",pZ),Mf(e,"compositionend",GF),Mf(e,"change",GF))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:s}},o){if(e[Vb]=KF(o),e.composing)return;const i=(s||e.type==="number")&&!/^0\d/.test(e.value)?AC(e.value):e.value,c=t??"";i!==c&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||a&&e.value.trim()===c)||(e.value=c))}},yZ=["ctrl","shift","alt","meta"],wZ={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>yZ.some(n=>e[`${n}Key`]&&!t.includes(n))},Qn=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((a,...s)=>{for(let o=0;o<t.length;o++){const i=wZ[t[o]];if(i&&i(a,t))return}return e(a,...s)}))},_Z={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zF=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(a=>{if(!("key"in a))return;const s=Ad(a.key);if(t.some(o=>o===s||_Z[o]===s))return e(a)}))},bZ=$a({patchProp:cZ},WX);let $F;function _6(){return $F||($F=fX(bZ))}const b6=((...e)=>{_6().render(...e)}),xZ=((...e)=>{const t=_6().createApp(...e),{mount:n}=t;return t.mount=r=>{const a=EZ(r);if(!a)return;const s=t._component;!Sn(s)&&!s.render&&!s.template&&(s.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const o=n(a,!1,CZ(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},t});function CZ(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function EZ(e){return Zr(e)?document.querySelector(e):e}function hs(e,t){let n;function r(){n=Zu(),n.run(()=>t.length?t(()=>{n?.stop(),r()}):t())}Ge(e,a=>{a&&!n?r():a||(n?.stop(),n=void 0)},{immediate:!0}),Ra(()=>{n?.stop()})}const Zn=typeof window<"u",dS=Zn&&"IntersectionObserver"in window,BZ=Zn&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),WF=Zn&&"EyeDropper"in window,AS=Zn&&"matchMedia"in window&&typeof window.matchMedia=="function",zl=()=>AS&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function jF(e,t,n){SZ(e,t),t.set(e,n)}function SZ(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function JF(e,t,n){return e.set(x6(e,t),n),n}function Ec(e,t){return e.get(x6(e,t))}function x6(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function C6(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let a=0;a<r;a++){if(e==null)return n;e=e[t[a]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function Ga(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>Ga(e[r],t[r]))}function yA(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),C6(e,t.split("."),n))}function la(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const a=t(e,n);return typeof a>"u"?n:a}if(typeof t=="string")return yA(e,t,n);if(Array.isArray(t))return C6(e,t,n);if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}function jo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function Mt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(e==null||e==="")return;const n=Number(e);return isNaN(n)?String(e):isFinite(n)?`${n}${t}`:void 0}function vv(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function qF(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function fS(e){if(e&&"$el"in e){const t=e.$el;return t?.nodeType===Node.TEXT_NODE?t.nextElementSibling:t}return e}const kC=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function E6(e){return Object.keys(e)}function Wd(e,t){return t.every(n=>e.hasOwnProperty(n))}function Do(e,t){const n={};for(const r of t)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function IC(e,t,n){const r=Object.create(null),a=Object.create(null);for(const s in e)t.some(o=>o instanceof RegExp?o.test(s):o===s)?r[s]=e[s]:a[s]=e[s];return[r,a]}function cr(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}const B6=/^on[^a-z]/,mS=e=>B6.test(e),kZ=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],IZ=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function TZ(e){return e.isComposing&&IZ.includes(e.key)}function md(e){const[t,n]=IC(e,[B6]),r=cr(t,kZ),[a,s]=IC(n,["class","style","id",/^data-/]);return Object.assign(a,t),Object.assign(s,r),[a,s]}function Wr(e){return e==null?[]:Array.isArray(e)?e:[e]}function S6(e,t){let n=0;const r=function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>e(...s),We(t))};return r.clear=()=>{clearTimeout(n)},r.immediate=e,r}function Er(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function YF(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function XF(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function ZF(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function FZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function eP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(e)>=t&&r<n.length-1;)e/=t,++r;return`${e.toFixed(1)} ${n[r]}B`}function Rs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const a in e)r[a]=e[a];for(const a in t){const s=e[a],o=t[a];if(qF(s)&&qF(o)){r[a]=Rs(s,o,n);continue}if(n&&Array.isArray(s)&&Array.isArray(o)){r[a]=n(s,o);continue}r[a]=o}return r}function k6(e){return e.map(t=>t.type===ze?k6(t.children):t).flat()}function aA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(aA.cache.has(e))return aA.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return aA.cache.set(e,t),t}aA.cache=new Map;function Gf(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Gf(e,n)).flat(1);if(t.suspense)return Gf(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>Gf(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Gf(e,t.component.subTree).flat(1)}return[]}var xf=new WeakMap,Ld=new WeakMap;class I6{constructor(t){jF(this,xf,[]),jF(this,Ld,0),this.size=t}get isFull(){return Ec(xf,this).length===this.size}push(t){Ec(xf,this)[Ec(Ld,this)]=t,JF(Ld,this,(Ec(Ld,this)+1)%this.size)}values(){return Ec(xf,this).slice(Ec(Ld,this)).concat(Ec(xf,this).slice(0,Ec(Ld,this)))}clear(){Ec(xf,this).length=0,JF(Ld,this,0)}}function PZ(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function hS(e){const t=Da({});Mr(()=>{const r=e();for(const a in r)t[a]=r[a]},{flush:"sync"});const n={};for(const r in t)n[r]=Qe(()=>t[r]);return n}function Ty(e,t){return e.includes(t)}function T6(e){return e[2].toLowerCase()+e.slice(3)}const as=()=>[Function,Array];function tP(e,t){return t="on"+tc(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function sp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const a of e)a(...n);else typeof e=="function"&&e(...n)}function bm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","details:not(:has(> summary))","details > summary","[tabindex]",'[contenteditable]:not([contenteditable="false"])',"audio[controls]","video[controls]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled], [inert])`).join(", ");return[...e.querySelectorAll(n)].filter(r=>!r.closest("[inert]")).filter(r=>!!r.offsetParent||r.getClientRects().length>0).filter(r=>!r.parentElement?.closest("details:not([open])")||r.tagName==="SUMMARY"&&r.parentElement?.tagName==="DETAILS")}function F6(e,t,n){let r,a=e.indexOf(document.activeElement);const s=t==="next"?1:-1;do a+=s,r=e[a];while((!r||r.offsetParent==null||!(n?.(r)??!0))&&a<e.length&&a>=0);return r}function sA(e,t){const n=bm(e);if(t==null)(e===document.activeElement||!e.contains(document.activeElement))&&n[0]?.focus();else if(t==="first")n[0]?.focus();else if(t==="last")n.at(-1)?.focus();else if(typeof t=="number")n[t]?.focus();else{const r=F6(n,t);r?r.focus():sA(e,t==="next"?"first":"last")}}function Jg(e){return e==null||typeof e=="string"&&e.trim()===""}function P6(){}function xm(e,t){if(!(Zn&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function aw(e){return e.some(t=>wm(t)?t.type===ns?!1:t.type!==ze||aw(t.children):!0)?e:null}function qg(e,t,n){return e?.(t)??n?.(t)}function DZ(e,t){if(!Zn||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function UZ(e,t){const n=e.clientX,r=e.clientY,a=t.getBoundingClientRect(),s=a.left,o=a.top,i=a.right,c=a.bottom;return n>=s&&n<=i&&r>=o&&r<=c}function Fy(){const e=kt(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>fS(e.value)}),t}function Cm(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}function TC(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"}function Py(e){return"\\^$*+?.()|{}[]".includes(e)?`\\${e}`:e}function RZ(e,t,n){const r=new RegExp(`[\\d\\-${Py(n)}]`),a=e.split("").filter(o=>r.test(o)).filter((o,i,c)=>i===0&&/[-]/.test(o)||o===n&&i===c.indexOf(o)||/\d/.test(o)).join("");if(t===0)return a.split(n)[0];const s=new RegExp(`${Py(n)}\\d`);if(t!==null&&s.test(a)){const o=a.split(n);return[o[0],o[1].substring(0,t)].join(n)}return a}function NZ(e){const t={};for(const n in e)t[fo(n)]=e[n];return t}function LZ(e){const t=["checked","disabled"];return Object.fromEntries(Object.entries(e).filter(n=>{let[r,a]=n;return t.includes(r)?!!a:a!==void 0}))}const D6=["top","bottom"],VZ=["start","end","left","right"];function FC(e,t){let[n,r]=e.split(" ");return r||(r=Ty(D6,n)?"start":Ty(VZ,n)?"top":"center"),{side:PC(n,t),align:PC(r,t)}}function PC(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function Mb(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function Ob(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function nP(e){return{side:e.align,align:e.side}}function rP(e){return Ty(D6,e.side)?"y":"x"}class yi{constructor(t){const n=document.body.currentCSSZoom??1,r=t instanceof DOMRect?1+(1-n)/n:1,{x:a,y:s,width:o,height:i}=t;this.x=a*r,this.y=s*r,this.width=o*r,this.height=i*r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function aP(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function U6(e){if(Array.isArray(e)){const t=document.body.currentCSSZoom??1,n=1+(1-t)/t;return new yi({x:e[0]*n,y:e[1]*n,width:0*n,height:0*n})}else return new yi(e.getBoundingClientRect())}function MZ(e){if(e===document.documentElement)if(visualViewport){const t=document.body.currentCSSZoom??1;return new yi({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale/t,height:visualViewport.height*visualViewport.scale/t})}else return new yi({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});else{const t=e.getBoundingClientRect();return new yi({x:t.x,y:t.y,width:e.clientWidth,height:e.clientHeight})}}function vS(e){const t=new yi(e.getBoundingClientRect()),n=getComputedStyle(e),r=n.transform;if(r){let a,s,o,i,c;if(r.startsWith("matrix3d("))a=r.slice(9,-1).split(/, /),s=Number(a[0]),o=Number(a[5]),i=Number(a[12]),c=Number(a[13]);else if(r.startsWith("matrix("))a=r.slice(7,-1).split(/, /),s=Number(a[0]),o=Number(a[3]),i=Number(a[4]),c=Number(a[5]);else return new yi(t);const A=n.transformOrigin,u=t.x-i-(1-s)*parseFloat(A),f=t.y-c-(1-o)*parseFloat(A.slice(A.indexOf(" ")+1)),m=s?t.width/s:e.offsetWidth+1,v=o?t.height/o:e.offsetHeight+1;return new yi({x:u,y:f,width:m,height:v})}else return new yi(t)}function Fc(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(a=>{r.onfinish=()=>{a(r)}})),r}const q1=new WeakMap;function OZ(e,t){Object.keys(t).forEach(n=>{if(mS(n)){const r=T6(n),a=q1.get(e);if(t[n]==null)a?.forEach(s=>{const[o,i]=s;o===r&&(e.removeEventListener(r,i),a.delete(s))});else if(!a||![...a].some(s=>s[0]===r&&s[1]===t[n])){e.addEventListener(r,t[n]);const s=a||new Set;s.add([r,t[n]]),q1.has(e)||q1.set(e,s)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function QZ(e,t){Object.keys(t).forEach(n=>{if(mS(n)){const r=T6(n),a=q1.get(e);a?.forEach(s=>{const[o,i]=s;o===r&&(e.removeEventListener(r,i),a.delete(s))})}else e.removeAttribute(n)})}const Cf=2.4,sP=.2126729,oP=.7151522,iP=.072175,HZ=.55,KZ=.58,GZ=.57,zZ=.62,Yg=.03,lP=1.45,$Z=5e-4,WZ=1.25,jZ=1.25,cP=.078,uP=12.82051282051282,Xg=.06,dP=.001;function AP(e,t){const n=(e.r/255)**Cf,r=(e.g/255)**Cf,a=(e.b/255)**Cf,s=(t.r/255)**Cf,o=(t.g/255)**Cf,i=(t.b/255)**Cf;let c=n*sP+r*oP+a*iP,A=s*sP+o*oP+i*iP;if(c<=Yg&&(c+=(Yg-c)**lP),A<=Yg&&(A+=(Yg-A)**lP),Math.abs(A-c)<$Z)return 0;let u;if(A>c){const f=(A**HZ-c**KZ)*WZ;u=f<dP?0:f<cP?f-f*uP*Xg:f-Xg}else{const f=(A**zZ-c**GZ)*jZ;u=f>-dP?0:f>-cP?f-f*uP*Xg:f+Xg}return u*100}function R6(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Dy=.20689655172413793,JZ=e=>e>Dy**3?Math.cbrt(e):e/(3*Dy**2)+4/29,qZ=e=>e>Dy?e**3:3*Dy**2*(e-4/29);function N6(e){const t=JZ,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function L6(e){const t=qZ,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const YZ=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],XZ=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,ZZ=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],eee=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function V6(e){const t=Array(3),n=XZ,r=YZ;for(let a=0;a<3;++a)t[a]=Math.round(Er(n(r[a][0]*e[0]+r[a][1]*e[1]+r[a][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function pS(e){let{r:t,g:n,b:r}=e;const a=[0,0,0],s=eee,o=ZZ;t=s(t/255),n=s(n/255),r=s(r/255);for(let i=0;i<3;++i)a[i]=o[i][0]*t+o[i][1]*n+o[i][2]*r;return a}function DC(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function tee(e){return DC(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const fP=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,nee={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>mP({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>mP({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>$l({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>$l({h:e,s:t,v:n,a:r})};function Jo(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&fP.test(e)){const{groups:t}=e.match(fP),{fn:n,values:r}=t,a=r.split(/,\s*|\s*\/\s*|\s+/).map((s,o)=>s.endsWith("%")||o>0&&o<3&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(s)/100:parseFloat(s));return nee[n](...a)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),H6(t)}else if(typeof e=="object"){if(Wd(e,["r","g","b"]))return e;if(Wd(e,["h","s","l"]))return $l(gS(e));if(Wd(e,["h","s","v"]))return $l(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function $l(e){const{h:t,s:n,v:r,a}=e,s=i=>{const c=(i+t/60)%6;return r-r*n*Math.max(Math.min(c,4-c,1),0)},o=[s(5),s(3),s(1)].map(i=>Math.round(i*255));return{r:o[0],g:o[1],b:o[2],a}}function mP(e){return $l(gS(e))}function op(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,r=e.b/255,a=Math.max(t,n,r),s=Math.min(t,n,r);let o=0;a!==s&&(a===t?o=60*(0+(n-r)/(a-s)):a===n?o=60*(2+(r-t)/(a-s)):a===r&&(o=60*(4+(t-n)/(a-s)))),o<0&&(o=o+360);const i=a===0?0:(a-s)/a,c=[o,i,a];return{h:c[0],s:c[1],v:c[2],a:e.a}}function UC(e){const{h:t,s:n,v:r,a}=e,s=r-r*n/2,o=s===1||s===0?0:(r-s)/Math.min(s,1-s);return{h:t,s:o,l:s,a}}function gS(e){const{h:t,s:n,l:r,a}=e,s=r+n*Math.min(r,1-r),o=s===0?0:2-2*r/s;return{h:t,s:o,v:s,a}}function M6(e){let{r:t,g:n,b:r,a}=e;return a===void 0?`rgb(${t}, ${n}, ${r})`:`rgba(${t}, ${n}, ${r}, ${a})`}function O6(e){return M6($l(e))}function Zg(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function Q6(e){let{r:t,g:n,b:r,a}=e;return`#${[Zg(t),Zg(n),Zg(r),a!==void 0?Zg(Math.round(a*255)):""].join("")}`}function H6(e){e=aee(e);let[t,n,r,a]=FZ(e,2).map(s=>parseInt(s,16));return a=a===void 0?a:a/255,{r:t,g:n,b:r,a}}function ree(e){const t=H6(e);return op(t)}function K6(e){return Q6($l(e))}function aee(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=XF(XF(e,6),8,"F")),e}function see(e,t){const n=N6(pS(e));return n[0]=n[0]+t*10,V6(L6(n))}function oee(e,t){const n=N6(pS(e));return n[0]=n[0]-t*10,V6(L6(n))}function RC(e){const t=Jo(e);return pS(t)[1]}function iee(e,t){const n=RC(e),r=RC(t),a=Math.max(n,r),s=Math.min(n,r);return(a+.05)/(s+.05)}function G6(e){const t=Math.abs(AP(Jo(0),Jo(e)));return Math.abs(AP(Jo(16777215),Jo(e)))>Math.min(t,50)?"#fff":"#000"}function et(e,t){return n=>Object.keys(e).reduce((r,a)=>{const o=typeof e[a]=="object"&&e[a]!=null&&!Array.isArray(e[a])?e[a]:{type:e[a]};return n&&a in n?r[a]={...o,default:n[a]}:r[a]=o,t&&!r[a].source&&(r[a].source=t),r},{})}const Gt=et({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function na(e,t){const n=Km();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function rc(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=na(e).type;return aA(t?.aliasName||t?.name)}function lee(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:na("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const Em=Symbol.for("vuetify:defaults");function cee(e){return H(e)}function yS(){const e=pn(Em);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function jr(e,t){const n=yS(),r=H(e),a=Z(()=>{if(We(t?.disabled))return n.value;const o=We(t?.scoped),i=We(t?.reset),c=We(t?.root);if(r.value==null&&!(o||i||c))return n.value;let A=Rs(r.value,{prev:n.value});if(o)return A;if(i||c){const u=Number(i||1/0);for(let f=0;f<=u&&!(!A||!("prev"in A));f++)A=A.prev;return A&&typeof c=="string"&&c in A&&(A=Rs(Rs(A,{prev:A}),A[c])),A}return A.prev?Rs(A.prev,A):A});return vr(Em,a),a}function uee(e,t){return e.props&&(typeof e.props[t]<"u"||typeof e.props[aA(t)]<"u")}function dee(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yS();const r=na("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const a=Z(()=>n.value?.[e._as??t]),s=new Proxy(e,{get(c,A){const u=Reflect.get(c,A);if(A==="class"||A==="style")return[a.value?.[A],u].filter(v=>v!=null);if(uee(r.vnode,A))return u;const f=a.value?.[A];if(f!==void 0)return f;const m=n.value?.global?.[A];return m!==void 0?m:u}}),o=kt();Mr(()=>{if(a.value){const c=Object.entries(a.value).filter(A=>{let[u]=A;return u.startsWith(u[0].toUpperCase())});o.value=c.length?Object.fromEntries(c):void 0}else o.value=void 0});function i(){const c=lee(Em,r);vr(Em,Z(()=>o.value?Rs(c?.value??{},o.value):c?.value))}return{props:s,provideSubDefaults:i}}function ti(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=et(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(r){return Do(r,t)},e.props._as=String,e.setup=function(r,a){const s=yS();if(!s.value)return e._setup(r,a);const{props:o,provideSubDefaults:i}=dee(r,r._as??e.name,s),c=e._setup(o,a);return i(),c}}return e}function mt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?ti:eS)(t)}function Aee(e,t){return t.props=e,t}function ru(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return mt()({name:n??tc(fo(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Gt()},setup(r,a){let{slots:s}=a;return()=>fl(r.tag,{class:[e,r.class],style:r.style},s.default?.())}})}function z6(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const pv="cubic-bezier(0.4, 0, 0.2, 1)",hP="cubic-bezier(0.0, 0, 0.2, 1)",vP="cubic-bezier(0.4, 0, 1, 1)",fee={linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5,instant:e=>1};function pP(e,t,n){return Object.keys(e).filter(r=>mS(r)&&r.endsWith(t)).reduce((r,a)=>(r[a.slice(0,-t.length)]=s=>sp(e[a],s,n(s)),r),{})}function sw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?mee(e):wS(e))return e;e=e.parentElement}return document.scrollingElement}function Uy(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(wS(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function wS(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e),n=t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight,r=t.overflowX==="scroll"||t.overflowX==="auto"&&e.scrollWidth>e.clientWidth;return n||r}function mee(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function hee(e){let{depth:t,isLast:n,isLastGroup:r,leafLinks:a,separateRoots:s,parentIndentLines:o,variant:i}=e;if(!o||!t)return{leaf:void 0,node:void 0,children:o};if(i==="simple")return{leaf:[...o,"line"],node:[...o,"line"],children:[...o,"line"]};const c=n&&(!r||s||t>1);return{leaf:[...o,c?"last-leaf":"leaf",...a?["leaf-link"]:[]],node:[...o,c?"last-leaf":"leaf"],children:[...o,c?"none":"line"]}}function vee(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function yt(e){const t=na("useRender");t.render=e}function en(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const s=na("useProxiedModel"),o=H(e[t]!==void 0?e[t]:n),i=aA(t),A=Z(i!==t?()=>(e[t],!!((s.vnode.props?.hasOwnProperty(t)||s.vnode.props?.hasOwnProperty(i))&&(s.vnode.props?.hasOwnProperty(`onUpdate:${t}`)||s.vnode.props?.hasOwnProperty(`onUpdate:${i}`)))):()=>(e[t],!!(s.vnode.props?.hasOwnProperty(t)&&s.vnode.props?.hasOwnProperty(`onUpdate:${t}`))));hs(()=>!A.value,()=>{Ge(()=>e[t],f=>{o.value=f})});const u=Z({get(){const f=e[t];return r(A.value?f:o.value)},set(f){const m=a(f),v=un(A.value?e[t]:o.value);v===m||r(v)===f||(o.value=m,s?.emit(`update:${t}`,m))}});return Object.defineProperty(u,"externalValue",{get:()=>A.value?e[t]:o.value}),u}const pee={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"},ariaLabel:{previousMonth:"Previous month",nextMonth:"Next month",selectYear:"Select year",selectDate:"{0}",currentDate:"Today, {0}"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}"},video:{play:"Play",pause:"Pause",seek:"Seek",volume:"Volume",showVolume:"Show volume control",mute:"Mute",unmute:"Unmute",enterFullscreen:"Full screen",exitFullscreen:"Exit full screen"},colorPicker:{ariaLabel:{eyedropper:"Select color with eyedropper",hueSlider:"Hue",alphaSlider:"Alpha",redInput:"Red value",greenInput:"Green value",blueInput:"Blue value",alphaInput:"Alpha value",hueInput:"Hue value",saturationInput:"Saturation value",lightnessInput:"Lightness value",hexInput:"HEX value",hexaInput:"HEX with alpha value",changeFormat:"Change color format"}}},gP="$vuetify.",yP=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[Number(r)])),$6=(e,t,n)=>function(r){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if(!r.startsWith(gP))return yP(r,s);const i=r.replace(gP,""),c=e.value&&n.value[e.value],A=t.value&&n.value[t.value];let u=yA(c,i,null);return u||(`${r}${e.value}`,u=yA(A,i,null)),u||(u=r),typeof u!="string"&&(u=r),yP(u,s)};function _S(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function W6(e,t){return _S(e,t)(.1).includes(",")?",":"."}function Qb(e,t,n){const r=en(e,t,e[t]??n.value);return r.value=e[t]??n.value,Ge(n,a=>{e[t]==null&&(r.value=n.value)}),r}function j6(e){return t=>{const n=Qb(t,"locale",e.current),r=Qb(t,"fallback",e.fallback),a=Qb(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:a,decimalSeparator:Qe(()=>W6(n,r)),t:$6(n,r,a),n:_S(n,r),provide:j6({current:n,fallback:r,messages:a})}}}function gee(e){const t=kt(e?.locale??"en"),n=kt(e?.fallback??"en"),r=H({en:pee,...e?.messages});return{name:"vuetify",current:t,fallback:n,messages:r,decimalSeparator:Qe(()=>e?.decimalSeparator??W6(t,n)),t:$6(t,n,r),n:_S(t,n),provide:j6({current:t,fallback:n,messages:r})}}const Bm=Symbol.for("vuetify:locale");function yee(e){return e.name!=null}function wee(e){const t=e?.adapter&&yee(e?.adapter)?e?.adapter:gee(e),n=xee(t,e);return{...t,...n}}function ur(){const e=pn(Bm);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function _ee(e){const t=pn(Bm);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),r=Cee(n,t.rtl,e),a={...n,...r};return vr(Bm,a),a}function bee(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function xee(e,t){const n=H(t?.rtl??bee()),r=Z(()=>n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:Qe(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Cee(e,t,n){const r=Z(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:r,rtl:t,rtlClasses:Qe(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Ea(){const e=pn(Bm);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}function ip(e){const t=e.slice(-2).toUpperCase();switch(!0){case e==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case e==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(t):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(t):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(t):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(t):return{firstDay:6,firstWeekSize:1};case t==="MV":return{firstDay:5,firstWeekSize:1};case t==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function Eee(e,t,n){const r=[];let a=[];const s=J6(e),o=q6(e),i=n??ip(t)?.firstDay??0,c=(s.getDay()-i+7)%7,A=(o.getDay()-i+7)%7;for(let u=0;u<c;u++){const f=new Date(s);f.setDate(f.getDate()-(c-u)),a.push(f)}for(let u=1;u<=o.getDate();u++){const f=new Date(e.getFullYear(),e.getMonth(),u);a.push(f),a.length===7&&(r.push(a),a=[])}for(let u=1;u<7-A;u++){const f=new Date(o);f.setDate(f.getDate()+u),a.push(f)}return a.length>0&&r.push(a),r}function Ry(e,t,n){let r=(n??ip(t)?.firstDay??0)%7;[0,1,2,3,4,5,6].includes(r)||(r=0);const a=new Date(e);for(;a.getDay()!==r;)a.setDate(a.getDate()-1);return a}function Bee(e,t){const n=new Date(e),r=((ip(t)?.firstDay??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function J6(e){return new Date(e.getFullYear(),e.getMonth(),1)}function q6(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function See(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const kee=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Y6(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(kee.test(e))return See(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const wP=new Date(2e3,0,2);function Iee(e,t,n){const r=t??ip(e)?.firstDay??0;return jo(7).map(a=>{const s=new Date(wP);return s.setDate(wP.getDate()+r+a),new Intl.DateTimeFormat(e,{weekday:n??"narrow"}).format(s)})}function Tee(e,t,n,r){const a=Y6(e)??new Date,s=r?.[t];if(typeof s=="function")return s(a,t,n);let o={};switch(t){case"fullDate":o={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const i=a.getDate(),c=new Intl.DateTimeFormat(n,{month:"long"}).format(a);return`${i} ${c}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(a.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric"};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,o).format(a).replace(/, /g," ");case"keyboardDateTime12h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,o).format(a).replace(/, /g," ");case"keyboardDateTime24h":return o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,o).format(a).replace(/, /g," ");default:o=s??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(a)}function Fee(e,t){const n=e.toJsDate(t),r=n.getFullYear(),a=ZF(String(n.getMonth()+1),2,"0"),s=ZF(String(n.getDate()),2,"0");return`${r}-${a}-${s}`}function Pee(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r)}function Dee(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function Uee(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function oA(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Ree(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function Nee(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function gv(e){return e.getFullYear()}function Lee(e){return e.getMonth()}function Vee(e,t,n,r){const a=ip(t),s=n??a?.firstDay??0,o=a?.firstWeekSize??1;return r!==void 0?Mee(e,t,s,r):Oee(e,t,s,o)}function Mee(e,t,n,r){const a=(7+r-n)%7,s=Ry(e,t,n),o=oA(s,6);function i(m){return(7+new Date(m,0,1).getDay()-n)%7}let c=gv(e);c<gv(o)&&i(c+1)<=a&&c++;const A=new Date(c,0,1),u=i(c),f=u<=a?oA(A,-u):oA(A,7-u);return 1+Ly(bS(e),yv(f),"weeks")}function Oee(e,t,n,r){const a=oA(Ry(e,t,n),6);function s(u){const f=new Date(u,0,1);return 7-Ly(f,Ry(f,t,n),"days")}let o=gv(e);o<gv(a)&&s(o+1)>=r&&o++;const i=new Date(o,0,1),c=s(o),A=c>=r?oA(i,c-7):oA(i,c);return 1+Ly(bS(e),yv(A),"weeks")}function Qee(e){return e.getDate()}function Hee(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function Kee(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function Gee(e){return e.getHours()}function zee(e){return e.getMinutes()}function $ee(e){return new Date(e.getFullYear(),0,1)}function Wee(e){return new Date(e.getFullYear(),11,31)}function jee(e,t){return Ny(e,t[0])&&Yee(e,t[1])}function Jee(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Ny(e,t){return e.getTime()>t.getTime()}function qee(e,t){return Ny(yv(e),yv(t))}function Yee(e,t){return e.getTime()<t.getTime()}function _P(e,t){return e.getTime()===t.getTime()}function Xee(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Zee(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function ete(e,t){return e.getFullYear()===t.getFullYear()}function Ly(e,t,n){const r=new Date(e),a=new Date(t);switch(n){case"years":return r.getFullYear()-a.getFullYear();case"quarters":return Math.floor((r.getMonth()-a.getMonth()+(r.getFullYear()-a.getFullYear())*12)/4);case"months":return r.getMonth()-a.getMonth()+(r.getFullYear()-a.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-a.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-a.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-a.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-a.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-a.getTime())/1e3);default:return r.getTime()-a.getTime()}}function tte(e,t){const n=new Date(e);return n.setHours(t),n}function nte(e,t){const n=new Date(e);return n.setMinutes(t),n}function rte(e,t){const n=new Date(e);return n.setMonth(t),n}function ate(e,t){const n=new Date(e);return n.setDate(t),n}function ste(e,t){const n=new Date(e);return n.setFullYear(t),n}function yv(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function bS(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class ote{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return Y6(t)}toJsDate(t){return t}toISO(t){return Fee(this,t)}parseISO(t){return Pee(t)}addMinutes(t,n){return Dee(t,n)}addHours(t,n){return Uee(t,n)}addDays(t,n){return oA(t,n)}addWeeks(t,n){return Ree(t,n)}addMonths(t,n){return Nee(t,n)}getWeekArray(t,n){const r=n!==void 0?Number(n):void 0;return Eee(t,this.locale,r)}startOfWeek(t,n){const r=n!==void 0?Number(n):void 0;return Ry(t,this.locale,r)}endOfWeek(t){return Bee(t,this.locale)}startOfMonth(t){return J6(t)}endOfMonth(t){return q6(t)}format(t,n){return Tee(t,n,this.locale,this.formats)}isEqual(t,n){return _P(t,n)}isValid(t){return Jee(t)}isWithinRange(t,n){return jee(t,n)}isAfter(t,n){return Ny(t,n)}isAfterDay(t,n){return qee(t,n)}isBefore(t,n){return!Ny(t,n)&&!_P(t,n)}isSameDay(t,n){return Xee(t,n)}isSameMonth(t,n){return Zee(t,n)}isSameYear(t,n){return ete(t,n)}setMinutes(t,n){return nte(t,n)}setHours(t,n){return tte(t,n)}setMonth(t,n){return rte(t,n)}setDate(t,n){return ate(t,n)}setYear(t,n){return ste(t,n)}getDiff(t,n,r){return Ly(t,n,r)}getWeekdays(t,n){const r=t!==void 0?Number(t):void 0;return Iee(this.locale,r,n)}getYear(t){return gv(t)}getMonth(t){return Lee(t)}getWeek(t,n,r){const a=n!==void 0?Number(n):void 0,s=r!==void 0?Number(r):void 0;return Vee(t,this.locale,a,s)}getDate(t){return Qee(t)}getNextMonth(t){return Hee(t)}getPreviousMonth(t){return Kee(t)}getHours(t){return Gee(t)}getMinutes(t){return zee(t)}startOfDay(t){return yv(t)}endOfDay(t){return bS(t)}startOfYear(t){return $ee(t)}endOfYear(t){return Wee(t)}}const X6=Symbol.for("vuetify:date-options"),bP=Symbol.for("vuetify:date-adapter");function ite(e,t){const n=Rs({adapter:ote,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:Z6(n,t)}}function lte(e,t,n){const r=e.getDiff(new Date(`${e.toISO(n??t)}T00:00:00Z`),new Date(`${e.toISO(t)}T00:00:00Z`),"days"),a=[t];for(let s=1;s<r;s++){const o=e.addDays(t,s);a.push(o)}return n&&a.push(e.endOfDay(n)),a}function Z6(e,t){const n=Da(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return Ge(t.current,r=>{n.locale=e.locale[r]??r??n.locale}),n}function lp(){const e=pn(X6);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=ur();return Z6(e,t)}const ow=["sm","md","lg","xl","xxl"],NC=Symbol.for("vuetify:display"),xP={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},cte=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xP;return Rs(xP,e)};function CP(e){return Zn&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function EP(e){return Zn&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function BP(e){const t=Zn&&!e?window.navigator.userAgent:"ssr";function n(h){return!!t.match(h)}const r=n(/android/i),a=n(/iphone|ipad|ipod/i),s=n(/cordova/i),o=n(/electron/i),i=n(/chrome/i),c=n(/edge/i),A=n(/firefox/i),u=n(/opera/i),f=n(/win/i),m=n(/mac/i),v=n(/linux/i);return{android:r,ios:a,cordova:s,electron:o,chrome:i,edge:c,firefox:A,opera:u,win:f,mac:m,linux:v,touch:BZ,ssr:t==="ssr"}}function ute(e,t){const{thresholds:n,mobileBreakpoint:r}=cte(e),a=kt(EP(t)),s=kt(BP(t)),o=Da({}),i=kt(CP(t));function c(){a.value=EP(),i.value=CP()}function A(){c(),s.value=BP()}return Mr(()=>{const u=i.value<n.sm,f=i.value<n.md&&!u,m=i.value<n.lg&&!(f||u),v=i.value<n.xl&&!(m||f||u),h=i.value<n.xxl&&!(v||m||f||u),y=i.value>=n.xxl,w=u?"xs":f?"sm":m?"md":v?"lg":h?"xl":"xxl",b=typeof r=="number"?r:n[r],B=i.value<b;o.xs=u,o.sm=f,o.md=m,o.lg=v,o.xl=h,o.xxl=y,o.smAndUp=!u,o.mdAndUp=!(u||f),o.lgAndUp=!(u||f||m),o.xlAndUp=!(u||f||m||v),o.smAndDown=!(m||v||h||y),o.mdAndDown=!(v||h||y),o.lgAndDown=!(h||y),o.xlAndDown=!y,o.name=w,o.height=a.value,o.width=i.value,o.mobile=B,o.mobileBreakpoint=r,o.platform=s.value,o.thresholds=n}),Zn&&(window.addEventListener("resize",c,{passive:!0}),Ra(()=>{window.removeEventListener("resize",c)},!0)),{...VA(o),update:A,ssr:!!t}}const MA=et({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function ni(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rc();const n=pn(NC);if(!n)throw new Error("Could not find Vuetify display injection");const r=Z(()=>e.mobile?!0:typeof e.mobileBreakpoint=="number"?n.width.value<e.mobileBreakpoint:e.mobileBreakpoint?n.width.value<n.thresholds.value[e.mobileBreakpoint]:e.mobile===null?n.mobile.value:!1),a=Qe(()=>t?{[`${t}--mobile`]:r.value}:{});return{...n,displayClasses:a,mobile:r}}const e5=Symbol.for("vuetify:goto");function t5(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:fee}}function dte(e){return xS(e)??(document.scrollingElement||document.body)}function xS(e){return typeof e=="string"?document.querySelector(e):fS(e)}function Hb(e,t,n){if(typeof e=="number")return t&&n?-e:e;let r=xS(e),a=0;for(;r;)a+=t?r.offsetLeft:r.offsetTop,r=r.offsetParent;return a}function Ate(e,t){return{rtl:t.isRtl,options:Rs(t5(),e)}}async function SP(e,t,n,r){const a=n?"scrollLeft":"scrollTop",s=Rs(r?.options??t5(),t),o=r?.rtl.value,i=(typeof e=="number"?e:xS(e))??0,c=s.container==="parent"&&i instanceof HTMLElement?i.parentElement:dte(s.container),A=zl()?s.patterns.instant:typeof s.easing=="function"?s.easing:s.patterns[s.easing];if(!A)throw new TypeError(`Easing function "${s.easing}" not found.`);let u;if(typeof i=="number")u=Hb(i,n,o);else if(u=Hb(i,n,o)-Hb(c,n,o),s.layout){const h=window.getComputedStyle(i).getPropertyValue("--v-layout-top");h&&(u-=parseInt(h,10))}u+=s.offset,u=mte(c,u,!!o,!!n);const f=c[a]??0;if(u===f)return Promise.resolve(u);const m=performance.now();return new Promise(v=>requestAnimationFrame(function h(y){const b=(y-m)/s.duration,B=Math.floor(f+(u-f)*A(Er(b,0,1)));if(c[a]=B,b>=1&&Math.abs(B-c[a])<10)return v(u);if(b>2)return v(c[a]);requestAnimationFrame(h)}))}function fte(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=pn(e5),{isRtl:n}=Ea();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const r={...t,rtl:Qe(()=>t.rtl.value||n.value)};async function a(s,o){return SP(s,Rs(e,o),!1,r)}return a.horizontal=async(s,o)=>SP(s,Rs(e,o),!0,r),a}function mte(e,t,n,r){const{scrollWidth:a,scrollHeight:s}=e,[o,i]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let c,A;return r?n?(c=-(a-o),A=0):(c=0,A=a-o):(c=0,A=s+-i),Er(t,c,A)}const hte={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",tableGroupCollapse:"mdi-chevron-down",tableGroupExpand:"mdi-chevron-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace",play:"mdi-play",pause:"mdi-pause",fullscreen:"mdi-fullscreen",fullscreenExit:"mdi-fullscreen-exit",volumeHigh:"mdi-volume-high",volumeMedium:"mdi-volume-medium",volumeLow:"mdi-volume-low",volumeOff:"mdi-volume-variant-off"},vte={component:e=>fl(ES,{...e,class:"mdi"})},qt=[String,Function,Object,Array],LC=Symbol.for("vuetify:icons"),iw=et({icon:{type:qt},tag:{type:[String,Object,Function],required:!0}},"icon"),VC=mt()({name:"VComponentIcon",props:iw(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return l(e.tag,null,{default:()=>[e.icon?l(r,null,null):n.default?.()]})}}}),CS=ti({name:"VSvgIcon",inheritAttrs:!1,props:iw(),setup(e,t){let{attrs:n}=t;return()=>l(e.tag,Ne(n,{style:null}),{default:()=>[p("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?p("path",{d:r[0],"fill-opacity":r[1]},null):p("path",{d:r},null)):p("path",{d:e.icon},null)])]})}}),pte=ti({name:"VLigatureIcon",props:iw(),setup(e){return()=>l(e.tag,null,{default:()=>[e.icon]})}}),ES=ti({name:"VClassIcon",props:iw(),setup(e){return()=>l(e.tag,{class:rt(e.icon)},null)}});function gte(){return{svg:{component:CS},class:{component:ES}}}function yte(e){const t=gte(),n=e?.defaultSet??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=vte),Rs({defaultSet:n,sets:t,aliases:{...hte,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const wte=e=>{const t=pn(LC);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:Z(()=>{const r=Os(e);if(!r)return{component:VC};let a=r;if(typeof a=="string"&&(a=a.trim(),a.startsWith("$")&&(a=t.aliases?.[a.slice(1)])),Array.isArray(a))return{component:CS,icon:a};if(typeof a!="string")return{component:VC,icon:a};const s=Object.keys(t.sets).find(c=>typeof a=="string"&&a.startsWith(`${c}:`)),o=s?a.slice(s.length+1):a;return{component:t.sets[s??t.defaultSet].component,icon:o}})}},wv=Symbol.for("vuetify:theme"),Hn=et({theme:String},"theme");function kP(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function _te(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kP();const t=kP();if(!e)return{...t,isDisabled:!0};const n={};for(const[r,a]of Object.entries(e.themes??{})){const s=a.dark||r==="dark"?t.themes?.dark:t.themes?.light;n[r]=Rs(s,a)}return Rs(t,{...e,themes:n})}function Vd(e,t,n,r){e.push(`${Ete(t,r)} {
`,...n.map(a=>`  ${a};
`),`}
`)}function IP(e,t){const n=e.dark?2:1,r=e.dark?1:2,a=[];for(const[s,o]of Object.entries(e.colors)){const i=Jo(o);a.push(`--${t}theme-${s}: ${i.r},${i.g},${i.b}`),s.startsWith("on-")||a.push(`--${t}theme-${s}-overlay-multiplier: ${RC(o)>.18?n:r}`)}for(const[s,o]of Object.entries(e.variables)){const i=typeof o=="string"&&o.startsWith("#")?Jo(o):void 0,c=i?`${i.r}, ${i.g}, ${i.b}`:void 0;a.push(`--${t}${s}: ${c??o}`)}return a}function bte(e,t,n){const r={};if(n)for(const a of["lighten","darken"]){const s=a==="lighten"?see:oee;for(const o of jo(n[a],1))r[`${e}-${a}-${o}`]=Q6(s(Jo(t),o))}return r}function xte(e,t){if(!t)return{};let n={};for(const r of t.colors){const a=e[r];a&&(n={...n,...bte(r,a,t)})}return n}function Cte(e){const t={};for(const n of Object.keys(e)){if(n.startsWith("on-")||e[`on-${n}`])continue;const r=`on-${n}`,a=Jo(e[n]);t[r]=G6(a)}return t}function Ete(e,t){if(!t)return e;const n=`:where(${t})`;return e===":root"?n:`${n} ${e}`}function Bte(e,t,n){const r=Ste(e,t);r&&(r.innerHTML=n)}function Ste(e,t){if(!Zn)return null;let n=document.getElementById(e);return n||(n=document.createElement("style"),n.id=e,n.type="text/css",t&&n.setAttribute("nonce",t),document.head.appendChild(n)),n}function kte(e){const t=_te(e),n=kt(t.defaultTheme),r=H(t.themes),a=kt("light"),s=Z({get(){return n.value==="system"?a.value:n.value},set(b){n.value=b}}),o=Z(()=>{const b={};for(const[B,S]of Object.entries(r.value)){const T={...S.colors,...xte(S.colors,t.variations)};b[B]={...S,colors:{...T,...Cte(T)}}}return b}),i=Qe(()=>o.value[s.value]),c=Qe(()=>n.value==="system"),A=Z(()=>{const b=[],B=t.unimportant?"":" !important",S=t.scoped?t.prefix:"";i.value?.dark&&Vd(b,":root",["color-scheme: dark"],t.scope),Vd(b,":root",IP(i.value,t.prefix),t.scope);for(const[T,N]of Object.entries(o.value))Vd(b,`.${t.prefix}theme--${T}`,[`color-scheme: ${N.dark?"dark":"normal"}`,...IP(N,t.prefix)],t.scope);if(t.utilities){const T=[],N=[],k=new Set(Object.values(o.value).flatMap(E=>Object.keys(E.colors)));for(const E of k)E.startsWith("on-")?Vd(N,`.${E}`,[`color: rgb(var(--${t.prefix}theme-${E}))${B}`],t.scope):(Vd(T,`.${S}bg-${E}`,[`--${t.prefix}theme-overlay-multiplier: var(--${t.prefix}theme-${E}-overlay-multiplier)`,`background-color: rgb(var(--${t.prefix}theme-${E}))${B}`,`color: rgb(var(--${t.prefix}theme-on-${E}))${B}`],t.scope),Vd(N,`.${S}text-${E}`,[`color: rgb(var(--${t.prefix}theme-${E}))${B}`],t.scope),Vd(N,`.${S}border-${E}`,[`--${t.prefix}border-color: var(--${t.prefix}theme-${E})`],t.scope));b.push(...T,...N)}return b.map((T,N)=>N===0?T:`    ${T}`).join("")}),u=Qe(()=>t.isDisabled?void 0:`${t.prefix}theme--${s.value}`),f=Qe(()=>Object.keys(o.value));if(AS){let B=function(){a.value=b.matches?"dark":"light"};const b=window.matchMedia("(prefers-color-scheme: dark)");B(),b.addEventListener("change",B,{passive:!0}),iL()&&Ra(()=>{b.removeEventListener("change",B)})}function m(b){if(t.isDisabled)return;const B=b._context.provides.usehead;if(B){let S=function(){return{style:[{textContent:A.value,id:t.stylesheetId,nonce:t.cspNonce||!1}]}};if(B.push){const T=B.push(S);Zn&&Ge(A,()=>{T.patch(S)})}else Zn?(B.addHeadObjs(Qe(S)),Mr(()=>B.updateDOM())):B.addHeadObjs(S())}else{let S=function(){Bte(t.stylesheetId,t.cspNonce,A.value)};Zn?Ge(A,S,{immediate:!0}):S()}}function v(b){b!=="system"&&!f.value.includes(b)||(s.value=b)}function h(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.value;const B=b.indexOf(s.value),S=B===-1?0:(B+1)%b.length;v(b[S])}function y(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];h(b)}const w=new Proxy(s,{get(b,B){return Reflect.get(b,B)},set(b,B,S){return B==="value"&&R6(`theme.global.name.value = ${S}`,`theme.change('${S}')`),Reflect.set(b,B,S)}});return{install:m,change:v,cycle:h,toggle:y,isDisabled:t.isDisabled,isSystem:c,name:s,themes:r,current:i,computedThemes:o,prefix:t.prefix,themeClasses:u,styles:A,global:{name:w,current:i}}}function or(e){na("provideTheme");const t=pn(wv,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=Qe(()=>e.theme??t.name.value),r=Qe(()=>t.themes.value[n.value]),a=Qe(()=>t.isDisabled?void 0:`${t.prefix}theme--${n.value}`),s={...t,name:n,current:r,themeClasses:a};return vr(wv,s),s}function BS(){na("useTheme");const e=pn(wv,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Ci(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Fy(),r=H();if(Zn){const a=new ResizeObserver(s=>{e?.(s,a),s.length&&(t==="content"?r.value=s[0].contentRect:r.value=s[0].target.getBoundingClientRect())});Br(()=>{a.disconnect()}),Ge(()=>n.el,(s,o)=>{o&&(a.unobserve(o),r.value=void 0),s&&a.observe(s)},{flush:"post"})}return{resizeRef:n,contentRect:pA(r)}}const _v=Symbol.for("vuetify:layout"),n5=Symbol.for("vuetify:layout-item"),TP=1e3,r5=et({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),OA=et({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function a5(){const e=pn(_v);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function QA(e){const t=pn(_v);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${ys()}`,r=na("useLayoutItem");vr(n5,{id:n});const a=kt(!1);ew(()=>a.value=!0),tS(()=>a.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:o}=t.register(r,{...e,active:Z(()=>a.value?!1:e.active.value),id:n});return Br(()=>t.unregister(n)),{layoutItemStyles:s,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const Ite=(e,t,n,r)=>{let a={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...a}}];for(const o of e){const i=t.get(o),c=n.get(o),A=r.get(o);if(!i||!c||!A)continue;const u={...a,[i.value]:parseInt(a[i.value],10)+(A.value?parseInt(c.value,10):0)};s.push({id:o,layer:u}),a=u}return s};function s5(e){const t=pn(_v,null),n=Z(()=>t?t.rootZIndex.value-100:TP),r=H([]),a=Da(new Map),s=Da(new Map),o=Da(new Map),i=Da(new Map),c=Da(new Map),{resizeRef:A,contentRect:u}=Ci(),f=Z(()=>{const k=new Map,E=e.overlaps??[];for(const _ of E.filter(C=>C.includes(":"))){const[C,F]=_.split(":");if(!r.value.includes(C)||!r.value.includes(F))continue;const I=a.get(C),R=a.get(F),M=s.get(C),te=s.get(F);!I||!R||!M||!te||(k.set(F,{position:I.value,amount:parseInt(M.value,10)}),k.set(C,{position:R.value,amount:-parseInt(te.value,10)}))}return k}),m=Z(()=>{const k=[...new Set([...o.values()].map(_=>_.value))].sort((_,C)=>_-C),E=[];for(const _ of k){const C=r.value.filter(F=>o.get(F)?.value===_);E.push(...C)}return Ite(E,a,s,i)}),v=Z(()=>!Array.from(c.values()).some(k=>k.value)),h=Z(()=>m.value[m.value.length-1].layer),y=Qe(()=>({"--v-layout-left":Mt(h.value.left),"--v-layout-right":Mt(h.value.right),"--v-layout-top":Mt(h.value.top),"--v-layout-bottom":Mt(h.value.bottom),...v.value?void 0:{transition:"none"}})),w=Z(()=>m.value.slice(1).map((k,E)=>{let{id:_}=k;const{layer:C}=m.value[E],F=s.get(_),I=a.get(_);return{id:_,...C,size:Number(F.value),position:I.value}})),b=k=>w.value.find(E=>E.id===k),B=na("createLayout"),S=kt(!1);fn(()=>{S.value=!0}),vr(_v,{register:(k,E)=>{let{id:_,order:C,position:F,layoutSize:I,elementSize:R,active:M,disableTransitions:te,absolute:se}=E;o.set(_,C),a.set(_,F),s.set(_,I),i.set(_,M),te&&c.set(_,te);const W=Gf(n5,B?.vnode).indexOf(k);W>-1?r.value.splice(W,0,_):r.value.push(_);const le=Z(()=>w.value.findIndex(U=>U.id===_)),K=Z(()=>n.value+m.value.length*2-le.value*2),ee=Z(()=>{const U=F.value==="left"||F.value==="right",G=F.value==="right",ne=F.value==="bottom",X=R.value??I.value,oe=X===0?"%":"px",q={[F.value]:0,zIndex:K.value,transform:`translate${U?"X":"Y"}(${(M.value?0:-(X===0?100:X))*(G||ne?-1:1)}${oe})`,position:se.value||n.value!==TP?"absolute":"fixed",...v.value?void 0:{transition:"none"}};if(!S.value)return q;const Y=w.value[le.value],ae=f.value.get(_);return ae&&(Y[ae.position]+=ae.amount),{...q,height:U?`calc(100% - ${Y.top}px - ${Y.bottom}px)`:R.value?`${R.value}px`:void 0,left:G?void 0:`${Y.left}px`,right:G?`${Y.right}px`:void 0,top:F.value!=="bottom"?`${Y.top}px`:void 0,bottom:F.value!=="top"?`${Y.bottom}px`:void 0,width:U?R.value?`${R.value}px`:void 0:`calc(100% - ${Y.left}px - ${Y.right}px)`}}),j=Z(()=>({zIndex:K.value-1}));return{layoutItemStyles:ee,layoutItemScrimStyles:j,zIndex:K}},unregister:k=>{o.delete(k),a.delete(k),s.delete(k),i.delete(k),c.delete(k),r.value=r.value.filter(E=>E!==k)},mainRect:h,mainStyles:y,getLayoutItem:b,items:w,layoutRect:u,rootZIndex:n});const T=Qe(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),N=Qe(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:T,layoutStyles:N,getLayoutItem:b,items:w,layoutRect:u,layoutRef:A}}function o5(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=Rs(t,n),{aliases:a={},components:s={},directives:o={}}=r,i=Zu();return i.run(()=>{const c=cee(r.defaults),A=ute(r.display,r.ssr),u=kte(r.theme),f=yte(r.icons),m=wee(r.locale),v=ite(r.date,m),h=Ate(r.goTo,m);function y(b){for(const S in o)b.directive(S,o[S]);for(const S in s)b.component(S,s[S]);for(const S in a)b.component(S,ti({...a[S],name:S,aliasName:a[S].name}));const B=Zu();if(B.run(()=>{u.install(b)}),b.onUnmount(()=>B.stop()),b.provide(Em,c),b.provide(NC,A),b.provide(wv,u),b.provide(LC,f),b.provide(Bm,m),b.provide(X6,v.options),b.provide(bP,v.instance),b.provide(e5,h),Zn&&r.ssr)if(b.$nuxt)b.$nuxt.hook("app:suspense:resolve",()=>{A.update()});else{const{mount:S}=b;b.mount=function(){const T=S(...arguments);return An(()=>A.update()),b.mount=S,T}}b.mixin({computed:{$vuetify(){return Da({defaults:Ef.call(this,Em),display:Ef.call(this,NC),theme:Ef.call(this,wv),icons:Ef.call(this,LC),locale:Ef.call(this,Bm),date:Ef.call(this,bP)})}}})}function w(){i.stop()}return{install:y,unmount:w,defaults:c,display:A,theme:u,icons:f,locale:m,date:v,goTo:h}})}const Tte="3.10.7";o5.version=Tte;function Ef(e){const t=this.$,n=t.parent?.provides??t.vnode.appContext?.provides;if(n&&e in n)return n[e]}function Fte(){return i5().__VUE_DEVTOOLS_GLOBAL_HOOK__}function i5(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Pte=typeof Proxy=="function",Dte="devtools-plugin:setup",Ute="plugin:settings:set";let Bf,MC;function Rte(){var e;return Bf!==void 0||(typeof window<"u"&&window.performance?(Bf=!0,MC=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(Bf=!0,MC=globalThis.perf_hooks.performance):Bf=!1),Bf}function Nte(){return Rte()?MC.now():Date.now()}class Lte{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const i=t.settings[o];r[o]=i.defaultValue}const a=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},r);try{const o=localStorage.getItem(a),i=JSON.parse(o);Object.assign(s,i)}catch{}this.fallbacks={getSettings(){return s},setSettings(o){try{localStorage.setItem(a,JSON.stringify(o))}catch{}s=o},now(){return Nte()}},n&&n.on(Ute,(o,i)=>{o===this.plugin.id&&this.fallbacks.setSettings(i)}),this.proxiedOn=new Proxy({},{get:(o,i)=>this.target?this.target.on[i]:(...c)=>{this.onQueue.push({method:i,args:c})}}),this.proxiedTarget=new Proxy({},{get:(o,i)=>this.target?this.target[i]:i==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(i)?(...c)=>(this.targetQueue.push({method:i,args:c,resolve:()=>{}}),this.fallbacks[i](...c)):(...c)=>new Promise(A=>{this.targetQueue.push({method:i,args:c,resolve:A})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Vte(e,t){const n=e,r=i5(),a=Fte(),s=Pte&&n.enableEarlyProxy;if(a&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))a.emit(Dte,e,t);else{const o=s?new Lte(n,a):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var l5="store";function pr(e){return e===void 0&&(e=null),pn(e!==null?e:l5)}function Gm(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function Mte(e){return e!==null&&typeof e=="object"}function Ote(e){return e&&typeof e.then=="function"}function Qte(e,t){return function(){return e(t)}}function c5(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function u5(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;lw(e,n,[],e._modules.root,!0),SS(e,n,t)}function SS(e,t,n){var r=e._state,a=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,o={},i={},c=Zu(!0);c.run(function(){Gm(s,function(A,u){o[u]=Qte(A,e),i[u]=Z(function(){return o[u]()}),Object.defineProperty(e.getters,u,{get:function(){return i[u].value},enumerable:!0})})}),e._state=Da({data:t}),e._scope=c,e.strict&&$te(e),r&&n&&e._withCommit(function(){r.data=null}),a&&a.stop()}function lw(e,t,n,r,a){var s=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!s&&!a){var i=kS(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit(function(){i[c]=r.state})}var A=r.context=Hte(e,o,n);r.forEachMutation(function(u,f){var m=o+f;Kte(e,m,u,A)}),r.forEachAction(function(u,f){var m=u.root?f:o+f,v=u.handler||u;Gte(e,m,v,A)}),r.forEachGetter(function(u,f){var m=o+f;zte(e,m,u,A)}),r.forEachChild(function(u,f){lw(e,t,n.concat(f),u,a)})}function Hte(e,t,n){var r=t==="",a={dispatch:r?e.dispatch:function(s,o,i){var c=Vy(s,o,i),A=c.payload,u=c.options,f=c.type;return(!u||!u.root)&&(f=t+f),e.dispatch(f,A)},commit:r?e.commit:function(s,o,i){var c=Vy(s,o,i),A=c.payload,u=c.options,f=c.type;(!u||!u.root)&&(f=t+f),e.commit(f,A,u)}};return Object.defineProperties(a,{getters:{get:r?function(){return e.getters}:function(){return d5(e,t)}},state:{get:function(){return kS(e.state,n)}}}),a}function d5(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(a){if(a.slice(0,r)===t){var s=a.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[a]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function Kte(e,t,n,r){var a=e._mutations[t]||(e._mutations[t]=[]);a.push(function(o){n.call(e,r.state,o)})}function Gte(e,t,n,r){var a=e._actions[t]||(e._actions[t]=[]);a.push(function(o){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return Ote(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch(function(c){throw e._devtoolHook.emit("vuex:error",c),c}):i})}function zte(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function $te(e){Ge(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function kS(e,t){return t.reduce(function(n,r){return n[r]},e)}function Vy(e,t,n){return Mte(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var Wte="vuex bindings",FP="vuex:mutations",Kb="vuex:actions",Sf="vuex",jte=0;function Jte(e,t){Vte({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Wte]},function(n){n.addTimelineLayer({id:FP,label:"Vuex Mutations",color:PP}),n.addTimelineLayer({id:Kb,label:"Vuex Actions",color:PP}),n.addInspector({id:Sf,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Sf)if(r.filter){var a=[];h5(a,t._modules.root,r.filter,""),r.rootNodes=a}else r.rootNodes=[m5(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Sf){var a=r.nodeId;d5(t,a),r.state=Xte(ene(t._modules,a),a==="root"?t.getters:t._makeLocalGettersCache,a)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Sf){var a=r.nodeId,s=r.path;a!=="root"&&(s=a.split("/").filter(Boolean).concat(s)),t._withCommit(function(){r.set(t._state.data,s,r.state.value)})}}),t.subscribe(function(r,a){var s={};r.payload&&(s.payload=r.payload),s.state=a,n.notifyComponentUpdate(),n.sendInspectorTree(Sf),n.sendInspectorState(Sf),n.addTimelineEvent({layerId:FP,event:{time:Date.now(),title:r.type,data:s}})}),t.subscribeAction({before:function(r,a){var s={};r.payload&&(s.payload=r.payload),r._id=jte++,r._time=Date.now(),s.state=a,n.addTimelineEvent({layerId:Kb,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,a){var s={},o=Date.now()-r._time;s.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(s.payload=r.payload),s.state=a,n.addTimelineEvent({layerId:Kb,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var PP=8702998,qte=6710886,Yte=16777215,A5={label:"namespaced",textColor:Yte,backgroundColor:qte};function f5(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function m5(e,t){return{id:t||"root",label:f5(t),tags:e.namespaced?[A5]:[],children:Object.keys(e._children).map(function(n){return m5(e._children[n],t+n+"/")})}}function h5(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[A5]:[]}),Object.keys(t._children).forEach(function(a){h5(e,t._children[a],n,r+a+"/")})}function Xte(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),a={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var s=Zte(t);a.getters=Object.keys(s).map(function(o){return{key:o.endsWith("/")?f5(o):o,editable:!1,value:OC(function(){return s[o]})}})}return a}function Zte(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var a=t,s=r.pop();r.forEach(function(o){a[o]||(a[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),a=a[o]._custom.value}),a[s]=OC(function(){return e[n]})}else t[n]=OC(function(){return e[n]})}),t}function ene(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,a,s){var o=r[a];if(!o)throw new Error('Missing module "'+a+'" for path "'+t+'".');return s===n.length-1?o:o._children},t==="root"?e:e.root._children)}function OC(e){try{return e()}catch(t){return t}}var ml=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},v5={namespaced:{configurable:!0}};v5.namespaced.get=function(){return!!this._rawModule.namespaced};ml.prototype.addChild=function(t,n){this._children[t]=n};ml.prototype.removeChild=function(t){delete this._children[t]};ml.prototype.getChild=function(t){return this._children[t]};ml.prototype.hasChild=function(t){return t in this._children};ml.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};ml.prototype.forEachChild=function(t){Gm(this._children,t)};ml.prototype.forEachGetter=function(t){this._rawModule.getters&&Gm(this._rawModule.getters,t)};ml.prototype.forEachAction=function(t){this._rawModule.actions&&Gm(this._rawModule.actions,t)};ml.prototype.forEachMutation=function(t){this._rawModule.mutations&&Gm(this._rawModule.mutations,t)};Object.defineProperties(ml.prototype,v5);var HA=function(t){this.register([],t,!1)};HA.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};HA.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,a){return n=n.getChild(a),r+(n.namespaced?a+"/":"")},"")};HA.prototype.update=function(t){p5([],this.root,t)};HA.prototype.register=function(t,n,r){var a=this;r===void 0&&(r=!0);var s=new ml(n,r);if(t.length===0)this.root=s;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],s)}n.modules&&Gm(n.modules,function(i,c){a.register(t.concat(c),i,r)})};HA.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],a=n.getChild(r);a&&a.runtime&&n.removeChild(r)};HA.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function p5(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;p5(e.concat(r),t.getChild(r),n.modules[r])}}function tne(e){return new Ro(e)}var Ro=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var a=t.strict;a===void 0&&(a=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new HA(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var o=this,i=this,c=i.dispatch,A=i.commit;this.dispatch=function(m,v){return c.call(o,m,v)},this.commit=function(m,v,h){return A.call(o,m,v,h)},this.strict=a;var u=this._modules.root.state;lw(this,u,[],this._modules.root),SS(this,u),r.forEach(function(f){return f(n)})},IS={state:{configurable:!0}};Ro.prototype.install=function(t,n){t.provide(n||l5,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&Jte(t,this)};IS.state.get=function(){return this._state.data};IS.state.set=function(e){};Ro.prototype.commit=function(t,n,r){var a=this,s=Vy(t,n,r),o=s.type,i=s.payload,c={type:o,payload:i},A=this._mutations[o];A&&(this._withCommit(function(){A.forEach(function(f){f(i)})}),this._subscribers.slice().forEach(function(u){return u(c,a.state)}))};Ro.prototype.dispatch=function(t,n){var r=this,a=Vy(t,n),s=a.type,o=a.payload,i={type:s,payload:o},c=this._actions[s];if(c){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(i,r.state)})}catch{}var A=c.length>1?Promise.all(c.map(function(u){return u(o)})):c[0](o);return new Promise(function(u,f){A.then(function(m){try{r._actionSubscribers.filter(function(v){return v.after}).forEach(function(v){return v.after(i,r.state)})}catch{}u(m)},function(m){try{r._actionSubscribers.filter(function(v){return v.error}).forEach(function(v){return v.error(i,r.state,m)})}catch{}f(m)})})}};Ro.prototype.subscribe=function(t,n){return c5(t,this._subscribers,n)};Ro.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return c5(r,this._actionSubscribers,n)};Ro.prototype.watch=function(t,n,r){var a=this;return Ge(function(){return t(a.state,a.getters)},n,Object.assign({},r))};Ro.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Ro.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),lw(this,this.state,t,this._modules.get(t),r.preserveState),SS(this,this.state)};Ro.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=kS(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),u5(this)};Ro.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Ro.prototype.hotUpdate=function(t){this._modules.update(t),u5(this,!0)};Ro.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Ro.prototype,IS);/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Of=typeof document<"u";function g5(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function nne(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&g5(e.default)}const _r=Object.assign;function Gb(e,t){const n={};for(const r in t){const a=t[r];n[r]=ol(a)?a.map(e):e(a)}return n}const M0=()=>{},ol=Array.isArray;function DP(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const y5=/#/g,rne=/&/g,ane=/\//g,sne=/=/g,one=/\?/g,w5=/\+/g,ine=/%5B/g,lne=/%5D/g,_5=/%5E/g,cne=/%60/g,b5=/%7B/g,une=/%7C/g,x5=/%7D/g,dne=/%20/g;function TS(e){return e==null?"":encodeURI(""+e).replace(une,"|").replace(ine,"[").replace(lne,"]")}function Ane(e){return TS(e).replace(b5,"{").replace(x5,"}").replace(_5,"^")}function QC(e){return TS(e).replace(w5,"%2B").replace(dne,"+").replace(y5,"%23").replace(rne,"%26").replace(cne,"`").replace(b5,"{").replace(x5,"}").replace(_5,"^")}function fne(e){return QC(e).replace(sne,"%3D")}function mne(e){return TS(e).replace(y5,"%23").replace(one,"%3F")}function hne(e){return mne(e).replace(ane,"%2F")}function bv(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const vne=/\/$/,pne=e=>e.replace(vne,"");function zb(e,t,n="/"){let r,a={},s="",o="";const i=t.indexOf("#");let c=t.indexOf("?");return c=i>=0&&c>i?-1:c,c>=0&&(r=t.slice(0,c),s=t.slice(c,i>0?i:t.length),a=e(s.slice(1))),i>=0&&(r=r||t.slice(0,i),o=t.slice(i,t.length)),r=_ne(r??t,n),{fullPath:r+s+o,path:r,query:a,hash:bv(o)}}function gne(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function UP(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function yne(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&Sm(t.matched[r],n.matched[a])&&C5(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Sm(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function C5(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!wne(e[n],t[n]))return!1;return!0}function wne(e,t){return ol(e)?RP(e,t):ol(t)?RP(t,e):e===t}function RP(e,t){return ol(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function _ne(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let s=n.length-1,o,i;for(o=0;o<r.length;o++)if(i=r[o],i!==".")if(i==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const _u={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let HC=(function(e){return e.pop="pop",e.push="push",e})({}),$b=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function bne(e){if(!e)if(Of){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),pne(e)}const xne=/^[^#]+#/;function Cne(e,t){return e.replace(xne,"#")+t}function Ene(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const cw=()=>({left:window.scrollX,top:window.scrollY});function Bne(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=Ene(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function NP(e,t){return(history.state?history.state.position-t:-1)+e}const KC=new Map;function Sne(e,t){KC.set(e,t)}function kne(e){const t=KC.get(e);return KC.delete(e),t}function Ine(e){return typeof e=="string"||e&&typeof e=="object"}function E5(e){return typeof e=="string"||typeof e=="symbol"}let oa=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const B5=Symbol("");oa.MATCHER_NOT_FOUND+"",oa.NAVIGATION_GUARD_REDIRECT+"",oa.NAVIGATION_ABORTED+"",oa.NAVIGATION_CANCELLED+"",oa.NAVIGATION_DUPLICATED+"";function km(e,t){return _r(new Error,{type:e,[B5]:!0},t)}function Bc(e,t){return e instanceof Error&&B5 in e&&(t==null||!!(e.type&t))}const Tne=["params","query","hash"];function Fne(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of Tne)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Pne(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const a=n[r].replace(w5," "),s=a.indexOf("="),o=bv(s<0?a:a.slice(0,s)),i=s<0?null:bv(a.slice(s+1));if(o in t){let c=t[o];ol(c)||(c=t[o]=[c]),c.push(i)}else t[o]=i}return t}function LP(e){let t="";for(let n in e){const r=e[n];if(n=fne(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ol(r)?r.map(a=>a&&QC(a)):[r&&QC(r)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Dne(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ol(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const Une=Symbol(""),VP=Symbol(""),uw=Symbol(""),FS=Symbol(""),GC=Symbol("");function qh(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Tu(e,t,n,r,a,s=o=>o()){const o=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((i,c)=>{const A=m=>{m===!1?c(km(oa.NAVIGATION_ABORTED,{from:n,to:t})):m instanceof Error?c(m):Ine(m)?c(km(oa.NAVIGATION_GUARD_REDIRECT,{from:t,to:m})):(o&&r.enterCallbacks[a]===o&&typeof m=="function"&&o.push(m),i())},u=s(()=>e.call(r&&r.instances[a],t,n,A));let f=Promise.resolve(u);e.length<3&&(f=f.then(A)),f.catch(m=>c(m))})}function Wb(e,t,n,r,a=s=>s()){const s=[];for(const o of e)for(const i in o.components){let c=o.components[i];if(!(t!=="beforeRouteEnter"&&!o.instances[i]))if(g5(c)){const A=(c.__vccOpts||c)[t];A&&s.push(Tu(A,n,r,o,i,a))}else{let A=c();s.push(()=>A.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${i}" at "${o.path}"`);const f=nne(u)?u.default:u;o.mods[i]=u,o.components[i]=f;const m=(f.__vccOpts||f)[t];return m&&Tu(m,n,r,o,i,a)()}))}}return s}function Rne(e,t){const n=[],r=[],a=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const i=t.matched[o];i&&(e.matched.find(A=>Sm(A,i))?r.push(i):n.push(i));const c=e.matched[o];c&&(t.matched.find(A=>Sm(A,c))||a.push(c))}return[n,r,a]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Nne=()=>location.protocol+"//"+location.host;function S5(e,t){const{pathname:n,search:r,hash:a}=t,s=e.indexOf("#");if(s>-1){let o=a.includes(e.slice(s))?e.slice(s).length:1,i=a.slice(o);return i[0]!=="/"&&(i="/"+i),UP(i,"")}return UP(n,e)+r+a}function Lne(e,t,n,r){let a=[],s=[],o=null;const i=({state:m})=>{const v=S5(e,location),h=n.value,y=t.value;let w=0;if(m){if(n.value=v,t.value=m,o&&o===h){o=null;return}w=y?m.position-y.position:0}else r(v);a.forEach(b=>{b(n.value,h,{delta:w,type:HC.pop,direction:w?w>0?$b.forward:$b.back:$b.unknown})})};function c(){o=n.value}function A(m){a.push(m);const v=()=>{const h=a.indexOf(m);h>-1&&a.splice(h,1)};return s.push(v),v}function u(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(_r({},m.state,{scroll:cw()}),"")}}function f(){for(const m of s)m();s=[],window.removeEventListener("popstate",i),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",i),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:c,listen:A,destroy:f}}function MP(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?cw():null}}function Vne(e){const{history:t,location:n}=window,r={value:S5(e,n)},a={value:t.state};a.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(c,A,u){const f=e.indexOf("#"),m=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+c:Nne()+e+c;try{t[u?"replaceState":"pushState"](A,"",m),a.value=A}catch(v){console.error(v),n[u?"replace":"assign"](m)}}function o(c,A){s(c,_r({},t.state,MP(a.value.back,c,a.value.forward,!0),A,{position:a.value.position}),!0),r.value=c}function i(c,A){const u=_r({},a.value,t.state,{forward:c,scroll:cw()});s(u.current,u,!0),s(c,_r({},MP(r.value,c,null),{position:u.position+1},A),!1),r.value=c}return{location:r,state:a,push:i,replace:o}}function Mne(e){e=bne(e);const t=Vne(e),n=Lne(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const a=_r({location:"",base:e,go:r,createHref:Cne.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function One(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Mne(e)}let jd=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Va=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Va||{});const Qne={type:jd.Static,value:""},Hne=/[a-zA-Z0-9_]/;function Kne(e){if(!e)return[[]];if(e==="/")return[[Qne]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${A}": ${v}`)}let n=Va.Static,r=n;const a=[];let s;function o(){s&&a.push(s),s=[]}let i=0,c,A="",u="";function f(){A&&(n===Va.Static?s.push({type:jd.Static,value:A}):n===Va.Param||n===Va.ParamRegExp||n===Va.ParamRegExpEnd?(s.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${A}) must be alone in its segment. eg: '/:ids+.`),s.push({type:jd.Param,value:A,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),A="")}function m(){A+=c}for(;i<e.length;){if(c=e[i++],c==="\\"&&n!==Va.ParamRegExp){r=n,n=Va.EscapeNext;continue}switch(n){case Va.Static:c==="/"?(A&&f(),o()):c===":"?(f(),n=Va.Param):m();break;case Va.EscapeNext:m(),n=r;break;case Va.Param:c==="("?n=Va.ParamRegExp:Hne.test(c)?m():(f(),n=Va.Static,c!=="*"&&c!=="?"&&c!=="+"&&i--);break;case Va.ParamRegExp:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=Va.ParamRegExpEnd:u+=c;break;case Va.ParamRegExpEnd:f(),n=Va.Static,c!=="*"&&c!=="?"&&c!=="+"&&i--,u="";break;default:t("Unknown state");break}}return n===Va.ParamRegExp&&t(`Unfinished custom RegExp for param "${A}"`),f(),o(),a}const OP="[^/]+?",Gne={sensitive:!1,strict:!1,start:!0,end:!0};var ro=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(ro||{});const zne=/[.+*?^${}()[\]/\\]/g;function $ne(e,t){const n=_r({},Gne,t),r=[];let a=n.start?"^":"";const s=[];for(const A of e){const u=A.length?[]:[ro.Root];n.strict&&!A.length&&(a+="/");for(let f=0;f<A.length;f++){const m=A[f];let v=ro.Segment+(n.sensitive?ro.BonusCaseSensitive:0);if(m.type===jd.Static)f||(a+="/"),a+=m.value.replace(zne,"\\$&"),v+=ro.Static;else if(m.type===jd.Param){const{value:h,repeatable:y,optional:w,regexp:b}=m;s.push({name:h,repeatable:y,optional:w});const B=b||OP;if(B!==OP){v+=ro.BonusCustomRegExp;try{`${B}`}catch(T){throw new Error(`Invalid custom RegExp for param "${h}" (${B}): `+T.message)}}let S=y?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;f||(S=w&&A.length<2?`(?:/${S})`:"/"+S),w&&(S+="?"),a+=S,v+=ro.Dynamic,w&&(v+=ro.BonusOptional),y&&(v+=ro.BonusRepeatable),B===".*"&&(v+=ro.BonusWildcard)}u.push(v)}r.push(u)}if(n.strict&&n.end){const A=r.length-1;r[A][r[A].length-1]+=ro.BonusStrict}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const o=new RegExp(a,n.sensitive?"":"i");function i(A){const u=A.match(o),f={};if(!u)return null;for(let m=1;m<u.length;m++){const v=u[m]||"",h=s[m-1];f[h.name]=v&&h.repeatable?v.split("/"):v}return f}function c(A){let u="",f=!1;for(const m of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const v of m)if(v.type===jd.Static)u+=v.value;else if(v.type===jd.Param){const{value:h,repeatable:y,optional:w}=v,b=h in A?A[h]:"";if(ol(b)&&!y)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const B=ol(b)?b.join("/"):b;if(!B)if(w)m.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${h}"`);u+=B}}return u||"/"}return{re:o,score:r,keys:s,parse:i,stringify:c}}function Wne(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===ro.Static+ro.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===ro.Static+ro.Segment?1:-1:0}function k5(e,t){let n=0;const r=e.score,a=t.score;for(;n<r.length&&n<a.length;){const s=Wne(r[n],a[n]);if(s)return s;n++}if(Math.abs(a.length-r.length)===1){if(QP(r))return 1;if(QP(a))return-1}return a.length-r.length}function QP(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const jne={strict:!1,end:!0,sensitive:!1};function Jne(e,t,n){const r=$ne(Kne(e.path),n),a=_r(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function qne(e,t){const n=[],r=new Map;t=DP(jne,t);function a(f){return r.get(f)}function s(f,m,v){const h=!v,y=KP(f);y.aliasOf=v&&v.record;const w=DP(t,f),b=[y];if("alias"in f){const T=typeof f.alias=="string"?[f.alias]:f.alias;for(const N of T)b.push(KP(_r({},y,{components:v?v.record.components:y.components,path:N,aliasOf:v?v.record:y})))}let B,S;for(const T of b){const{path:N}=T;if(m&&N[0]!=="/"){const k=m.record.path,E=k[k.length-1]==="/"?"":"/";T.path=m.record.path+(N&&E+N)}if(B=Jne(T,m,w),v?v.alias.push(B):(S=S||B,S!==B&&S.alias.push(B),h&&f.name&&!GP(B)&&o(f.name)),I5(B)&&c(B),y.children){const k=y.children;for(let E=0;E<k.length;E++)s(k[E],B,v&&v.children[E])}v=v||B}return S?()=>{o(S)}:M0}function o(f){if(E5(f)){const m=r.get(f);m&&(r.delete(f),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(f);m>-1&&(n.splice(m,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function i(){return n}function c(f){const m=Zne(f,n);n.splice(m,0,f),f.record.name&&!GP(f)&&r.set(f.record.name,f)}function A(f,m){let v,h={},y,w;if("name"in f&&f.name){if(v=r.get(f.name),!v)throw km(oa.MATCHER_NOT_FOUND,{location:f});w=v.record.name,h=_r(HP(m.params,v.keys.filter(S=>!S.optional).concat(v.parent?v.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&HP(f.params,v.keys.map(S=>S.name))),y=v.stringify(h)}else if(f.path!=null)y=f.path,v=n.find(S=>S.re.test(y)),v&&(h=v.parse(y),w=v.record.name);else{if(v=m.name?r.get(m.name):n.find(S=>S.re.test(m.path)),!v)throw km(oa.MATCHER_NOT_FOUND,{location:f,currentLocation:m});w=v.record.name,h=_r({},m.params,f.params),y=v.stringify(h)}const b=[];let B=v;for(;B;)b.unshift(B.record),B=B.parent;return{name:w,path:y,params:h,matched:b,meta:Xne(b)}}e.forEach(f=>s(f));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:A,removeRoute:o,clearRoutes:u,getRoutes:i,getRecordMatcher:a}}function HP(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function KP(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Yne(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Yne(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function GP(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Xne(e){return e.reduce((t,n)=>_r(t,n.meta),{})}function Zne(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;k5(e,t[s])<0?r=s:n=s+1}const a=ere(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function ere(e){let t=e;for(;t=t.parent;)if(I5(t)&&k5(e,t)===0)return t}function I5({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function zP(e){const t=pn(uw),n=pn(FS),r=Z(()=>{const c=We(e.to);return t.resolve(c)}),a=Z(()=>{const{matched:c}=r.value,{length:A}=c,u=c[A-1],f=n.matched;if(!u||!f.length)return-1;const m=f.findIndex(Sm.bind(null,u));if(m>-1)return m;const v=$P(c[A-2]);return A>1&&$P(u)===v&&f[f.length-1].path!==v?f.findIndex(Sm.bind(null,c[A-2])):m}),s=Z(()=>a.value>-1&&sre(n.params,r.value.params)),o=Z(()=>a.value>-1&&a.value===n.matched.length-1&&C5(n.params,r.value.params));function i(c={}){if(are(c)){const A=t[We(e.replace)?"replace":"push"](We(e.to)).catch(M0);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>A),A}return Promise.resolve()}return{route:r,href:Z(()=>r.value.href),isActive:s,isExactActive:o,navigate:i}}function tre(e){return e.length===1?e[0]:e}const nre=eS({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:zP,setup(e,{slots:t}){const n=Da(zP(e)),{options:r}=pn(uw),a=Z(()=>({[WP(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[WP(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&tre(t.default(n));return e.custom?s:fl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},s)}}}),rre=nre;function are(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function sre(e,t){for(const n in t){const r=t[n],a=e[n];if(typeof r=="string"){if(r!==a)return!1}else if(!ol(a)||a.length!==r.length||r.some((s,o)=>s!==a[o]))return!1}return!0}function $P(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const WP=(e,t,n)=>e??t??n,ore=eS({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=pn(GC),a=Z(()=>e.route||r.value),s=pn(VP,0),o=Z(()=>{let A=We(s);const{matched:u}=a.value;let f;for(;(f=u[A])&&!f.components;)A++;return A}),i=Z(()=>a.value.matched[o.value]);vr(VP,Z(()=>o.value+1)),vr(Une,i),vr(GC,a);const c=H();return Ge(()=>[c.value,i.value,e.name],([A,u,f],[m,v,h])=>{u&&(u.instances[f]=A,v&&v!==u&&A&&A===m&&(u.leaveGuards.size||(u.leaveGuards=v.leaveGuards),u.updateGuards.size||(u.updateGuards=v.updateGuards))),A&&u&&(!v||!Sm(u,v)||!m)&&(u.enterCallbacks[f]||[]).forEach(y=>y(A))},{flush:"post"}),()=>{const A=a.value,u=e.name,f=i.value,m=f&&f.components[u];if(!m)return jP(n.default,{Component:m,route:A});const v=f.props[u],h=v?v===!0?A.params:typeof v=="function"?v(A):v:null,w=fl(m,_r({},h,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return jP(n.default,{Component:w,route:A})||w}}});function jP(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ire=ore;function lre(e){const t=qne(e.routes,e),n=e.parseQuery||Pne,r=e.stringifyQuery||LP,a=e.history,s=qh(),o=qh(),i=qh(),c=kt(_u);let A=_u;Of&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Gb.bind(null,q=>""+q),f=Gb.bind(null,hne),m=Gb.bind(null,bv);function v(q,Y){let ae,ge;return E5(q)?(ae=t.getRecordMatcher(q),ge=Y):ge=q,t.addRoute(ge,ae)}function h(q){const Y=t.getRecordMatcher(q);Y&&t.removeRoute(Y)}function y(){return t.getRoutes().map(q=>q.record)}function w(q){return!!t.getRecordMatcher(q)}function b(q,Y){if(Y=_r({},Y||c.value),typeof q=="string"){const ie=zb(n,q,Y.path),_e=t.resolve({path:ie.path},Y),Pe=a.createHref(ie.fullPath);return _r(ie,_e,{params:m(_e.params),hash:bv(ie.hash),redirectedFrom:void 0,href:Pe})}let ae;if(q.path!=null)ae=_r({},q,{path:zb(n,q.path,Y.path).path});else{const ie=_r({},q.params);for(const _e in ie)ie[_e]==null&&delete ie[_e];ae=_r({},q,{params:f(ie)}),Y.params=f(Y.params)}const ge=t.resolve(ae,Y),we=q.hash||"";ge.params=u(m(ge.params));const z=gne(r,_r({},q,{hash:Ane(we),path:ge.path})),Ae=a.createHref(z);return _r({fullPath:z,hash:we,query:r===LP?Dne(q.query):q.query||{}},ge,{redirectedFrom:void 0,href:Ae})}function B(q){return typeof q=="string"?zb(n,q,c.value.path):_r({},q)}function S(q,Y){if(A!==q)return km(oa.NAVIGATION_CANCELLED,{from:Y,to:q})}function T(q){return E(q)}function N(q){return T(_r(B(q),{replace:!0}))}function k(q,Y){const ae=q.matched[q.matched.length-1];if(ae&&ae.redirect){const{redirect:ge}=ae;let we=typeof ge=="function"?ge(q,Y):ge;return typeof we=="string"&&(we=we.includes("?")||we.includes("#")?we=B(we):{path:we},we.params={}),_r({query:q.query,hash:q.hash,params:we.path!=null?{}:q.params},we)}}function E(q,Y){const ae=A=b(q),ge=c.value,we=q.state,z=q.force,Ae=q.replace===!0,ie=k(ae,ge);if(ie)return E(_r(B(ie),{state:typeof ie=="object"?_r({},we,ie.state):we,force:z,replace:Ae}),Y||ae);const _e=ae;_e.redirectedFrom=Y;let Pe;return!z&&yne(r,ge,ae)&&(Pe=km(oa.NAVIGATION_DUPLICATED,{to:_e,from:ge}),j(ge,ge,!0,!1)),(Pe?Promise.resolve(Pe):F(_e,ge)).catch(re=>Bc(re)?Bc(re,oa.NAVIGATION_GUARD_REDIRECT)?re:ee(re):le(re,_e,ge)).then(re=>{if(re){if(Bc(re,oa.NAVIGATION_GUARD_REDIRECT))return E(_r({replace:Ae},B(re.to),{state:typeof re.to=="object"?_r({},we,re.to.state):we,force:z}),Y||_e)}else re=R(_e,ge,!0,Ae,we);return I(_e,ge,re),re})}function _(q,Y){const ae=S(q,Y);return ae?Promise.reject(ae):Promise.resolve()}function C(q){const Y=ne.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(q):q()}function F(q,Y){let ae;const[ge,we,z]=Rne(q,Y);ae=Wb(ge.reverse(),"beforeRouteLeave",q,Y);for(const ie of ge)ie.leaveGuards.forEach(_e=>{ae.push(Tu(_e,q,Y))});const Ae=_.bind(null,q,Y);return ae.push(Ae),oe(ae).then(()=>{ae=[];for(const ie of s.list())ae.push(Tu(ie,q,Y));return ae.push(Ae),oe(ae)}).then(()=>{ae=Wb(we,"beforeRouteUpdate",q,Y);for(const ie of we)ie.updateGuards.forEach(_e=>{ae.push(Tu(_e,q,Y))});return ae.push(Ae),oe(ae)}).then(()=>{ae=[];for(const ie of z)if(ie.beforeEnter)if(ol(ie.beforeEnter))for(const _e of ie.beforeEnter)ae.push(Tu(_e,q,Y));else ae.push(Tu(ie.beforeEnter,q,Y));return ae.push(Ae),oe(ae)}).then(()=>(q.matched.forEach(ie=>ie.enterCallbacks={}),ae=Wb(z,"beforeRouteEnter",q,Y,C),ae.push(Ae),oe(ae))).then(()=>{ae=[];for(const ie of o.list())ae.push(Tu(ie,q,Y));return ae.push(Ae),oe(ae)}).catch(ie=>Bc(ie,oa.NAVIGATION_CANCELLED)?ie:Promise.reject(ie))}function I(q,Y,ae){i.list().forEach(ge=>C(()=>ge(q,Y,ae)))}function R(q,Y,ae,ge,we){const z=S(q,Y);if(z)return z;const Ae=Y===_u,ie=Of?history.state:{};ae&&(ge||Ae?a.replace(q.fullPath,_r({scroll:Ae&&ie&&ie.scroll},we)):a.push(q.fullPath,we)),c.value=q,j(q,Y,ae,Ae),ee()}let M;function te(){M||(M=a.listen((q,Y,ae)=>{if(!X.listening)return;const ge=b(q),we=k(ge,X.currentRoute.value);if(we){E(_r(we,{replace:!0,force:!0}),ge).catch(M0);return}A=ge;const z=c.value;Of&&Sne(NP(z.fullPath,ae.delta),cw()),F(ge,z).catch(Ae=>Bc(Ae,oa.NAVIGATION_ABORTED|oa.NAVIGATION_CANCELLED)?Ae:Bc(Ae,oa.NAVIGATION_GUARD_REDIRECT)?(E(_r(B(Ae.to),{force:!0}),ge).then(ie=>{Bc(ie,oa.NAVIGATION_ABORTED|oa.NAVIGATION_DUPLICATED)&&!ae.delta&&ae.type===HC.pop&&a.go(-1,!1)}).catch(M0),Promise.reject()):(ae.delta&&a.go(-ae.delta,!1),le(Ae,ge,z))).then(Ae=>{Ae=Ae||R(ge,z,!1),Ae&&(ae.delta&&!Bc(Ae,oa.NAVIGATION_CANCELLED)?a.go(-ae.delta,!1):ae.type===HC.pop&&Bc(Ae,oa.NAVIGATION_ABORTED|oa.NAVIGATION_DUPLICATED)&&a.go(-1,!1)),I(ge,z,Ae)}).catch(M0)}))}let se=qh(),O=qh(),W;function le(q,Y,ae){ee(q);const ge=O.list();return ge.length?ge.forEach(we=>we(q,Y,ae)):console.error(q),Promise.reject(q)}function K(){return W&&c.value!==_u?Promise.resolve():new Promise((q,Y)=>{se.add([q,Y])})}function ee(q){return W||(W=!q,te(),se.list().forEach(([Y,ae])=>q?ae(q):Y()),se.reset()),q}function j(q,Y,ae,ge){const{scrollBehavior:we}=e;if(!Of||!we)return Promise.resolve();const z=!ae&&kne(NP(q.fullPath,0))||(ge||!ae)&&history.state&&history.state.scroll||null;return An().then(()=>we(q,Y,z)).then(Ae=>Ae&&Bne(Ae)).catch(Ae=>le(Ae,q,Y))}const U=q=>a.go(q);let G;const ne=new Set,X={currentRoute:c,listening:!0,addRoute:v,removeRoute:h,clearRoutes:t.clearRoutes,hasRoute:w,getRoutes:y,resolve:b,options:e,push:T,replace:N,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:s.add,beforeResolve:o.add,afterEach:i.add,onError:O.add,isReady:K,install(q){q.component("RouterLink",rre),q.component("RouterView",ire),q.config.globalProperties.$router=X,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>We(c)}),Of&&!G&&c.value===_u&&(G=!0,T(a.location).catch(ge=>{}));const Y={};for(const ge in _u)Object.defineProperty(Y,ge,{get:()=>c.value[ge],enumerable:!0});q.provide(uw,X),q.provide(FS,bL(Y)),q.provide(GC,c);const ae=q.unmount;ne.add(q),q.unmount=function(){ne.delete(q),ne.size<1&&(A=_u,M&&M(),M=null,c.value=_u,G=!1,W=!1),ae()}}};function oe(q){return q.reduce((Y,ae)=>Y.then(()=>C(ae)),Promise.resolve())}return X}function au(){return pn(uw)}function zm(e){return pn(FS)}function dr(){const e=pr(),t=Z(()=>e.getters["snackbar/snackbar"]),n=Z(()=>e.getters["snackbar/isSnackbarVisible"]),r=m=>{e.dispatch("snackbar/showSnackbar",m)},a=()=>{e.dispatch("snackbar/hideSnackbar")},s=m=>{e.dispatch("snackbar/setSnackbarVisibility",m)},o=m=>{e.dispatch("snackbar/showSuccess",m)},i=m=>{e.dispatch("snackbar/showError",m)};return{snackbar:t,isVisible:n,showSnackbar:r,hideSnackbar:a,setVisibility:s,showSuccess:o,showError:i,showWarning:m=>{e.dispatch("snackbar/showWarning",m)},showInfo:m=>{e.dispatch("snackbar/showInfo",m)},handleApiResponse:(m,v=null)=>{if(m.success){const h=v||m.message||"Operation successful";o(h)}else{const h=m.error||m.message||"An error occurred";i(h)}},handleApiError:(m,v="An error occurred")=>{let h=v;m.response?.data?.error?h=m.response.data.error:m.response?.data?.message?h=m.response.data.message:m.message&&(h=m.message),i(h)}}}const cre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M10%204A4%204%200%200%200%206%208A4%204%200%200%200%2010%2012A4%204%200%200%200%2014%208A4%204%200%200%200%2010%204M17.5%2013C15%2013%2013%2015%2013%2017.5C13%2020%2015%2022%2017.5%2022C20%2022%2022%2020%2022%2017.5C22%2015%2020%2013%2017.5%2013M10%2014C5.58%2014%202%2015.79%202%2018V20H11.5A6.5%206.5%200%200%201%2011%2017.5A6.5%206.5%200%200%201%2011.95%2014.14C11.32%2014.06%2010.68%2014%2010%2014M17.5%2014.5C19.16%2014.5%2020.5%2015.84%2020.5%2017.5C20.5%2018.06%2020.35%2018.58%2020.08%2019L16%2014.92C16.42%2014.65%2016.94%2014.5%2017.5%2014.5M14.92%2016L19%2020.08C18.58%2020.35%2018.06%2020.5%2017.5%2020.5C15.84%2020.5%2014.5%2019.16%2014.5%2017.5C14.5%2016.94%2014.65%2016.42%2014.92%2016Z'%20/%3e%3c/svg%3e",ure="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M21.1,12.5L22.5,13.91L15.97,20.5L12.5,17L13.9,15.59L15.97,17.67L21.1,12.5M10,17L13,20H3V18C3,15.79%206.58,14%2011,14L12.89,14.11L10,17M11,4A4,4%200%200,1%2015,8A4,4%200%200,1%2011,12A4,4%200%200,1%207,8A4,4%200%200,1%2011,4Z'%20/%3e%3c/svg%3e",dre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M10.63,14.1C12.23,10.58%2016.38,9.03%2019.9,10.63C23.42,12.23%2024.97,16.38%2023.37,19.9C22.24,22.4%2019.75,24%2017,24C14.3,24%2011.83,22.44%2010.67,20H1V18C1.06,16.86%201.84,15.93%203.34,15.18C4.84,14.43%206.72,14.04%209,14C9.57,14%2010.11,14.05%2010.63,14.1V14.1M9,4C10.12,4.03%2011.06,4.42%2011.81,5.17C12.56,5.92%2012.93,6.86%2012.93,8C12.93,9.14%2012.56,10.08%2011.81,10.83C11.06,11.58%2010.12,11.95%209,11.95C7.88,11.95%206.94,11.58%206.19,10.83C5.44,10.08%205.07,9.14%205.07,8C5.07,6.86%205.44,5.92%206.19,5.17C6.94,4.42%207.88,4.03%209,4M17,22A5,5%200%200,0%2022,17A5,5%200%200,0%2017,12A5,5%200%200,0%2012,17A5,5%200%200,0%2017,22M16,14H17.5V16.82L19.94,18.23L19.19,19.53L16,17.69V14Z'%20/%3e%3c/svg%3e",Are="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M10%204A4%204%200%200%200%206%208A4%204%200%200%200%2010%2012A4%204%200%200%200%2014%208A4%204%200%200%200%2010%204M17%2012C16.87%2012%2016.76%2012.09%2016.74%2012.21L16.55%2013.53C16.25%2013.66%2015.96%2013.82%2015.7%2014L14.46%2013.5C14.35%2013.5%2014.22%2013.5%2014.15%2013.63L13.15%2015.36C13.09%2015.47%2013.11%2015.6%2013.21%2015.68L14.27%2016.5C14.25%2016.67%2014.24%2016.83%2014.24%2017C14.24%2017.17%2014.25%2017.33%2014.27%2017.5L13.21%2018.32C13.12%2018.4%2013.09%2018.53%2013.15%2018.64L14.15%2020.37C14.21%2020.5%2014.34%2020.5%2014.46%2020.5L15.7%2020C15.96%2020.18%2016.24%2020.35%2016.55%2020.47L16.74%2021.79C16.76%2021.91%2016.86%2022%2017%2022H19C19.11%2022%2019.22%2021.91%2019.24%2021.79L19.43%2020.47C19.73%2020.34%2020%2020.18%2020.27%2020L21.5%2020.5C21.63%2020.5%2021.76%2020.5%2021.83%2020.37L22.83%2018.64C22.89%2018.53%2022.86%2018.4%2022.77%2018.32L21.7%2017.5C21.72%2017.33%2021.74%2017.17%2021.74%2017C21.74%2016.83%2021.73%2016.67%2021.7%2016.5L22.76%2015.68C22.85%2015.6%2022.88%2015.47%2022.82%2015.36L21.82%2013.63C21.76%2013.5%2021.63%2013.5%2021.5%2013.5L20.27%2014C20%2013.82%2019.73%2013.65%2019.42%2013.53L19.23%2012.21C19.22%2012.09%2019.11%2012%2019%2012H17M10%2014C5.58%2014%202%2015.79%202%2018V20H11.68A7%207%200%200%201%2011%2017A7%207%200%200%201%2011.64%2014.09C11.11%2014.03%2010.56%2014%2010%2014M18%2015.5C18.83%2015.5%2019.5%2016.17%2019.5%2017C19.5%2017.83%2018.83%2018.5%2018%2018.5C17.16%2018.5%2016.5%2017.83%2016.5%2017C16.5%2016.17%2017.17%2015.5%2018%2015.5Z'%20/%3e%3c/svg%3e",fre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M16%2017V19H2V17S2%2013%209%2013%2016%2017%2016%2017M12.5%207.5A3.5%203.5%200%201%200%209%2011A3.5%203.5%200%200%200%2012.5%207.5M15.94%2013A5.32%205.32%200%200%201%2018%2017V19H22V17S22%2013.37%2015.94%2013M15%204A3.39%203.39%200%200%200%2013.07%204.59A5%205%200%200%201%2013.07%2010.41A3.39%203.39%200%200%200%2015%2011A3.5%203.5%200%200%200%2015%204Z'%20/%3e%3c/svg%3e",mre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M12,4A4,4%200%200,1%2016,8A4,4%200%200,1%2012,12A4,4%200%200,1%208,8A4,4%200%200,1%2012,4M12,14C16.42,14%2020,15.79%2020,18V20H4V18C4,15.79%207.58,14%2012,14Z'%20/%3e%3c/svg%3e",hre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M23%207V13H21V7M21%2015H23V17H21M12%202A2%202%200%200%200%2010%204A2%202%200%200%200%2010%204.29C7.12%205.14%205%207.82%205%2011V17L3%2019V20H21V19L19%2017V11C19%207.82%2016.88%205.14%2014%204.29A2%202%200%200%200%2014%204A2%202%200%200%200%2012%202M10%2021A2%202%200%200%200%2012%2023A2%202%200%200%200%2014%2021Z'%20/%3e%3c/svg%3e",vre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M17.75%2021.16L15%2018.16L16.16%2017L17.75%2018.59L21.34%2015L22.5%2016.41L17.75%2021.16M3%2020V19L5%2017V11C5%207.9%207.03%205.18%2010%204.29V4C10%202.9%2010.9%202%2012%202C13.11%202%2014%202.9%2014%204V4.29C16.97%205.18%2019%207.9%2019%2011V12.08L18%2012C14.69%2012%2012%2014.69%2012%2018C12%2018.7%2012.12%2019.37%2012.34%2020H3M12%2023C10.9%2023%2010%2022.11%2010%2021H12.8C13.04%2021.41%2013.33%2021.79%2013.65%2022.13C13.29%2022.66%2012.69%2023%2012%2023Z'%20/%3e%3c/svg%3e",pre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19%202L14%206.5V17.5L19%2013V2M6.5%205C4.55%205%202.45%205.4%201%206.5V21.16C1%2021.41%201.25%2021.66%201.5%2021.66C1.6%2021.66%201.65%2021.59%201.75%2021.59C3.1%2020.94%205.05%2020.5%206.5%2020.5C8.45%2020.5%2010.55%2020.9%2012%2022C13.35%2021.15%2015.8%2020.5%2017.5%2020.5C19.15%2020.5%2020.85%2020.81%2022.25%2021.56C22.35%2021.61%2022.4%2021.59%2022.5%2021.59C22.75%2021.59%2023%2021.34%2023%2021.09V6.5C22.4%206.05%2021.75%205.75%2021%205.5V19C19.9%2018.65%2018.7%2018.5%2017.5%2018.5C15.8%2018.5%2013.35%2019.15%2012%2020V6.5C10.55%205.4%208.45%205%206.5%205Z'%20/%3e%3c/svg%3e",gre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M7,2H17A2,2%200%200,1%2019,4V20A2,2%200%200,1%2017,22H7A2,2%200%200,1%205,20V4A2,2%200%200,1%207,2M7,4V8H17V4H7M7,10V12H9V10H7M11,10V12H13V10H11M15,10V12H17V10H15M7,14V16H9V14H7M11,14V16H13V14H11M15,14V16H17V14H15M7,18V20H9V18H7M11,18V20H13V18H11M15,18V20H17V18H15Z'%20/%3e%3c/svg%3e",yre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M17,19H7V5H17M17,1H7C5.89,1%205,1.89%205,3V21A2,2%200%200,0%207,23H17A2,2%200%200,0%2019,21V3C19,1.89%2018.1,1%2017,1Z'%20/%3e%3c/svg%3e",wre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='currentColor'%20d='M16,11.78L20.24,4.45L21.97,5.45L16.74,14.5L10.23,10.75L5.46,19H22V21H2V3H4V17.54L9.5,8L16,11.78Z'%20/%3e%3c/svg%3e",_re="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M22,12A10,10%200%200,1%2012,22A10,10%200%200,1%202,12A10,10%200%200,1%2012,2A10,10%200%200,1%2022,12M15.4,16.6L10.8,12L15.4,7.4L14,6L8,12L14,18L15.4,16.6Z'%20/%3e%3c/svg%3e",bre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M22,12A10,10%200%200,1%2012,22A10,10%200%200,1%202,12A10,10%200%200,1%2012,2A10,10%200%200,1%2022,12M10,18L16,12L10,6L8.6,7.4L13.2,12L8.6,16.6L10,18Z'%20/%3e%3c/svg%3e",xre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,3H14.82C14.4,1.84%2013.3,1%2012,1C10.7,1%209.6,1.84%209.18,3H5A2,2%200%200,0%203,5V19A2,2%200%200,0%205,21H19A2,2%200%200,0%2021,19V5A2,2%200%200,0%2019,3M12,3A1,1%200%200,1%2013,4A1,1%200%200,1%2012,5A1,1%200%200,1%2011,4A1,1%200%200,1%2012,3M5,13.46H7.17L10.5,7.08L11.44,14.05L13.93,10.86L16.53,13.46H19V15H15.89L14.07,13.21L10.38,17.92L9.62,12.15L8.11,15H5V13.46Z'%20/%3e%3c/svg%3e",Cre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1%200%200,1%2013,4A1,1%200%200,1%2012,5A1,1%200%200,1%2011,4A1,1%200%200,1%2012,3M19,3H14.82C14.4,1.84%2013.3,1%2012,1C10.7,1%209.6,1.84%209.18,3H5A2,2%200%200,0%203,5V19A2,2%200%200,0%205,21H19A2,2%200%200,0%2021,19V5A2,2%200%200,0%2019,3Z'%20/%3e%3c/svg%3e",Ere="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M20%206.91L17.09%204L12%209.09L6.91%204L4%206.91L9.09%2012L4%2017.09L6.91%2020L12%2014.91L17.09%2020L20%2017.09L14.91%2012L20%206.91Z'%20/%3e%3c/svg%3e",Bre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z'%20/%3e%3c/svg%3e",Sre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M13%2019C13%2019.34%2013.04%2019.67%2013.09%2020H6.5C5%2020%203.69%2019.5%202.61%2018.43C1.54%2017.38%201%2016.09%201%2014.58C1%2013.28%201.39%2012.12%202.17%2011.1S4%209.43%205.25%209.15C5.67%207.62%206.5%206.38%207.75%205.43S10.42%204%2012%204C13.95%204%2015.6%204.68%2016.96%206.04C18.32%207.4%2019%209.05%2019%2011C20.15%2011.13%2021.1%2011.63%2021.86%2012.5C22.37%2013.07%2022.7%2013.71%2022.86%2014.42C21.82%2013.54%2020.5%2013%2019%2013C15.69%2013%2013%2015.69%2013%2019M20%2016H18V20H16L19%2023L22%2020H20V16Z'%20/%3e%3c/svg%3e",kre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,21H8V7H19M19,5H8A2,2%200%200,0%206,7V21A2,2%200%200,0%208,23H19A2,2%200%200,0%2021,21V7A2,2%200%200,0%2019,5M16,1H4A2,2%200%200,0%202,3V17H4V3H16V1Z'%20/%3e%3c/svg%3e",Ire="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2%200%200,0%208,21H16A2,2%200%200,0%2018,19V7H6V19Z'%20/%3e%3c/svg%3e",Tre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M20%204H4c-1.1%200-1.99.9-1.99%202L2%2018c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2zm0%204l-8%205-8-5V6l8%205%208-5v2z'%20fill='currentColor'/%3e%3c/svg%3e",Fre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19%2013C19.34%2013%2019.67%2013.04%2020%2013.09V8L14%202H6C4.89%202%204%202.89%204%204V20C4%2021.11%204.89%2022%206%2022H13.81C13.3%2021.12%2013%2020.1%2013%2019C13%2015.69%2015.69%2013%2019%2013M13%203.5L18.5%209H13V3.5M23.5%2020L21%2023L18.5%2020H20V16H22V20H23.5M19.5%2018H18V22H16V18H14.5L17%2015L19.5%2018Z'%20/%3e%3c/svg%3e",Pre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M14,8H10V6H14V8M20,4V20C20,21.11%2019.11,22%2018,22H6C4.89,22%204,21.11%204,20V4A2,2%200%200,1%206,2H18C19.11,2%2020,2.9%2020,4M18,13H6V20H18V13M18,4H6V11H18V4M14,15H10V17H14V15Z'%20/%3e%3c/svg%3e",Dre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M8,12H16V14H8V12M10,20H6V4H13V9H18V12.1L20,10.1V8L14,2H6A2,2%200%200,0%204,4V20A2,2%200%200,0%206,22H10V20M8,18H12.1L13,17.1V16H8V18M20.2,13C20.3,13%2020.5,13.1%2020.6,13.2L21.9,14.5C22.1,14.7%2022.1,15.1%2021.9,15.3L20.9,16.3L18.8,14.2L19.8,13.2C19.9,13.1%2020,13%2020.2,13M20.2,16.9L14.1,23H12V20.9L18.1,14.8L20.2,16.9Z'%20/%3e%3c/svg%3e",Ure="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M14%202H6C4.89%202%204%202.89%204%204V20C4%2021.11%204.89%2022%206%2022H13.81C13.28%2021.09%2013%2020.05%2013%2019C13%2018.67%2013.03%2018.33%2013.08%2018H6V16H13.81C14.27%2015.2%2014.91%2014.5%2015.68%2014H6V12H18V13.08C18.33%2013.03%2018.67%2013%2019%2013S19.67%2013.03%2020%2013.08V8L14%202M13%209V3.5L18.5%209H13M18%2015V18H15V20H18V23H20V20H23V18H20V15H18Z'%20/%3e%3c/svg%3e",Rre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M14,2H6A2,2%200%200,0%204,4V20A2,2%200%200,0%206,22H18A2,2%200%200,0%2020,20V8L14,2M13.5,16V19H10.5V16H8L12,12L16,16H13.5M13,9V3.5L18.5,9H13Z'%20/%3e%3c/svg%3e",Nre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M6.1,10L4,18V8H21A2,2%200%200,0%2019,6H12L10,4H4A2,2%200%200,0%202,6V18A2,2%200%200,0%204,20H19C19.9,20%2020.7,19.4%2020.9,18.5L23.2,10H6.1M19,18H6L7.6,12H20.6L19,18Z'%20/%3e%3c/svg%3e",Lre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z'%20/%3e%3c/svg%3e",Vre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z'%20/%3e%3c/svg%3e",Mre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z'%20/%3e%3c/svg%3e",Ore="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M5%206C3.9%206%203%206.9%203%208S3.9%2010%205%2010%207%209.11%207%208%206.11%206%205%206M12%204C10.9%204%2010%204.89%2010%206S10.9%208%2012%208%2014%207.11%2014%206%2013.11%204%2012%204M19%202C17.9%202%2017%202.9%2017%204S17.9%206%2019%206%2021%205.11%2021%204%2020.11%202%2019%202M3.5%2011C2.67%2011%202%2011.67%202%2012.5V17H3V22H7V17H8V12.5C8%2011.67%207.33%2011%206.5%2011H3.5M10.5%209C9.67%209%209%209.67%209%2010.5V15H10V20H14V15H15V10.5C15%209.67%2014.33%209%2013.5%209H10.5M17.5%207C16.67%207%2016%207.67%2016%208.5V13H17V18H21V13H22V8.5C22%207.67%2021.33%207%2020.5%207H17.5Z'%20/%3e%3c/svg%3e",Qre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M21,17H7V3H21M21,1H7A2,2%200%200,0%205,3V17A2,2%200%200,0%207,19H21A2,2%200%200,0%2023,17V3A2,2%200%200,0%2021,1M3,5H1V21A2,2%200%200,0%203,23H19V21H3M15.96,10.29L13.21,13.83L11.25,11.47L8.5,15H19.5L15.96,10.29Z'%20/%3e%3c/svg%3e",Hre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M4,6H20V16H4M20,18A2,2%200%200,0%2022,16V6C22,4.89%2021.1,4%2020,4H4C2.89,4%202,4.89%202,6V16A2,2%200%200,0%204,18H0V20H24V18H20Z'%20/%3e%3c/svg%3e",Kre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19%203H5C3.9%203%203%203.9%203%205V19C3%2020.1%203.9%2021%205%2021H19C20.1%2021%2021%2020.1%2021%2019V5C21%203.9%2020.1%203%2019%203M7%207H9V9H7V7M7%2011H9V13H7V11M7%2015H9V17H7V15M17%2017H11V15H17V17M17%2013H11V11H17V13M17%209H11V7H17V9Z'%20/%3e%3c/svg%3e",Gre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M17%207L15.59%208.41L18.17%2011H8V13H18.17L15.59%2015.58L17%2017L22%2012M4%205H12V3H4C2.9%203%202%203.9%202%205V19C2%2020.1%202.9%2021%204%2021H12V19H4V5Z'%20/%3e%3c/svg%3e",zre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M9,2A7,7%200%200,1%2016,9C16,10.57%2015.5,12%2014.61,13.19L15.41,14H16L22,20L20,22L14,16V15.41L13.19,14.61C12,15.5%2010.57,16%209,16A7,7%200%200,1%202,9A7,7%200%200,1%209,2M5,8V10H13V8H5Z'%20/%3e%3c/svg%3e",$re="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M9,2A7,7%200%200,1%2016,9C16,10.57%2015.5,12%2014.61,13.19L15.41,14H16L22,20L20,22L14,16V15.41L13.19,14.61C12,15.5%2010.57,16%209,16A7,7%200%200,1%202,9A7,7%200%200,1%209,2M8,5V8H5V10H8V13H10V10H13V8H10V5H8Z'%20/%3e%3c/svg%3e",Wre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M9.5,3A6.5,6.5%200%200,1%2016,9.5C16,11.11%2015.41,12.59%2014.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41%2011.11,16%209.5,16A6.5,6.5%200%200,1%203,9.5A6.5,6.5%200%200,1%209.5,3M9.5,5C7,5%205,7%205,9.5C5,12%207,14%209.5,14C12,14%2014,12%2014,9.5C14,7%2012,5%209.5,5Z'%20/%3e%3c/svg%3e",jre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z'%20/%3e%3c/svg%3e",Jre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,11C19,12.19%2018.66,13.3%2018.1,14.28L16.87,13.05C17.14,12.43%2017.3,11.74%2017.3,11H19M15,11.16L9,5.18V5A3,3%200%200,1%2012,2A3,3%200%200,1%2015,5V11L15,11.16M4.27,3L21,19.73L19.73,21L15.54,16.81C14.77,17.27%2013.91,17.58%2013,17.72V21H11V17.72C7.72,17.23%205,14.41%205,11H6.7C6.7,14%209.24,16.1%2012,16.1C12.81,16.1%2013.6,15.91%2014.31,15.58L12.65,13.92L12,14A3,3%200%200,1%209,11V10.28L3,4.27L4.27,3Z'%20/%3e%3c/svg%3e",qre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M12,2A3,3%200%200,1%2015,5V11A3,3%200%200,1%2012,14A3,3%200%200,1%209,11V5A3,3%200%200,1%2012,2M19,11C19,14.53%2016.39,17.44%2013,17.93V21H11V17.93C7.61,17.44%205,14.53%205,11H7A5,5%200%200,0%2012,16A5,5%200%200,0%2017,11H19Z'%20/%3e%3c/svg%3e",Yre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M11.15,15.18L9.73,13.77L11.15,12.35L12.56,13.77L13.97,12.35L12.56,10.94L13.97,9.53L15.39,10.94L16.8,9.53L13.97,6.7L6.9,13.77L9.73,16.6L11.15,15.18M3.08,19L6.2,15.89L4.08,13.77L13.97,3.87L16.1,6L17.5,4.58L16.1,3.16L17.5,1.75L21.75,6L20.34,7.4L18.92,6L17.5,7.4L19.63,9.53L9.73,19.42L7.61,17.3L3.08,21.84V19Z'%20/%3e%3c/svg%3e",Xre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M20.71,7.04C21.1,6.65%2021.1,6%2020.71,5.63L18.37,3.29C18,2.9%2017.35,2.9%2016.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z'%20/%3e%3c/svg%3e",Zre="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z'%20/%3e%3c/svg%3e",eae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M4,4V10L4,14H6V10H8L13.41,15.41L9.83,19L11.24,20.41L14.83,16.83L18.41,20.41L19.82,19L16.24,15.41L19.82,11.83L18.41,10.41L14.83,14L10.83,10H11A3,3%200%200,0%2014,7A3,3%200%200,0%2011,4H4M6,6H11A1,1%200%200,1%2012,7A1,1%200%200,1%2011,8H6V6Z'%20/%3e%3c/svg%3e",tae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M18,3H6V7H18M19,12A1,1%200%200,1%2018,11A1,1%200%200,1%2019,10A1,1%200%200,1%2020,11A1,1%200%200,1%2019,12M16,19H8V14H16M19,8H5A3,3%200%200,0%202,11V17H6V21H18V17H22V11A3,3%200%200,0%2019,8Z'%20/%3e%3c/svg%3e",nae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M17.65,6.35C16.2,4.9%2014.21,4%2012,4A8,8%200%200,0%204,12A8,8%200%200,0%2012,20C15.73,20%2018.84,17.45%2019.73,14H17.65C16.83,16.33%2014.61,18%2012,18A6,6%200%200,1%206,12A6,6%200%200,1%2012,6C13.66,6%2015.14,6.69%2016.22,7.78L13,11H20V4L17.65,6.35Z'%20/%3e%3c/svg%3e",rae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M4,1H20A1,1%200%200,1%2021,2V6A1,1%200%200,1%2020,7H4A1,1%200%200,1%203,6V2A1,1%200%200,1%204,1M4,9H20A1,1%200%200,1%2021,10V14A1,1%200%200,1%2020,15H4A1,1%200%200,1%203,14V10A1,1%200%200,1%204,9M4,17H20A1,1%200%200,1%2021,18V22A1,1%200%200,1%2020,23H4A1,1%200%200,1%203,22V18A1,1%200%200,1%204,17M9,5H10V3H9V5M9,13H10V11H9V13M9,21H10V19H9V21M5,3V5H7V3H5M5,11V13H7V11H5M5,19V21H7V19H5Z'%20/%3e%3c/svg%3e",aae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M18,16.08C17.24,16.08%2016.56,16.38%2016.04,16.85L8.91,12.7C8.96,12.47%209,12.24%209,12C9,11.76%208.96,11.53%208.91,11.3L15.96,7.19C16.5,7.69%2017.21,8%2018,8A3,3%200%200,0%2021,5A3,3%200%200,0%2018,2A3,3%200%200,0%2015,5C15,5.24%2015.04,5.47%2015.09,5.7L8.04,9.81C7.5,9.31%206.79,9%206,9A3,3%200%200,0%203,12A3,3%200%200,0%206,15C6.79,15%207.5,14.69%208.04,14.19L15.16,18.34C15.11,18.55%2015.08,18.77%2015.08,19C15.08,20.61%2016.39,21.91%2018,21.91C19.61,21.91%2020.92,20.61%2020.92,19A2.92,2.92%200%200,0%2018,16.08Z'%20/%3e%3c/svg%3e",sae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z'%20/%3e%3c/svg%3e",oae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M17,10.5V7A1,1%200%200,0%2016,6H4A1,1%200%200,0%203,7V17A1,1%200%200,0%204,18H16A1,1%200%200,0%2017,17V13.5L21,17.5V6.5L17,10.5M14,13H11V16H9V13H6V11H9V8H11V11H14V13Z'%20/%3e%3c/svg%3e",iae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M6,19A5,5%200%200,1%201,14A5,5%200%200,1%206,9C7,6.65%209.3,5%2012,5C15.43,5%2018.24,7.66%2018.5,11.03L19,11A4,4%200%200,1%2023,15A4,4%200%200,1%2019,19H6M19,13H17V12A5,5%200%200,0%2012,7C9.5,7%207.45,8.82%207.06,11.19C6.73,11.07%206.37,11%206,11A3,3%200%200,0%203,14A3,3%200%200,0%206,17H19A2,2%200%200,0%2021,15A2,2%200%200,0%2019,13Z'%20/%3e%3c/svg%3e",lae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M16.36,14C16.44,13.34%2016.5,12.68%2016.5,12C16.5,11.32%2016.44,10.66%2016.36,10H19.74C19.9,10.64%2020,11.31%2020,12C20,12.69%2019.9,13.36%2019.74,14M14.59,19.56C15.19,18.45%2015.65,17.25%2015.97,16H18.92C17.96,17.65%2016.43,18.93%2014.59,19.56M14.34,14H9.66C9.56,13.34%209.5,12.68%209.5,12C9.5,11.32%209.56,10.65%209.66,10H14.34C14.43,10.65%2014.5,11.32%2014.5,12C14.5,12.68%2014.43,13.34%2014.34,14M12,19.96C11.17,18.76%2010.5,17.43%2010.09,16H13.91C13.5,17.43%2012.83,18.76%2012,19.96M8,8H5.08C6.03,6.34%207.57,5.06%209.4,4.44C8.8,5.55%208.35,6.75%208,8M5.08,16H8C8.35,17.25%208.8,18.45%209.4,19.56C7.57,18.93%206.03,17.65%205.08,16M4.26,14C4.1,13.36%204,12.69%204,12C4,11.31%204.1,10.64%204.26,10H7.64C7.56,10.66%207.5,11.32%207.5,12C7.5,12.68%207.56,13.34%207.64,14M12,4.03C12.83,5.23%2013.5,6.57%2013.91,8H10.09C10.5,6.57%2011.17,5.23%2012,4.03M18.92,8H15.97C15.65,6.75%2015.19,5.55%2014.59,4.44C16.43,5.07%2017.96,6.34%2018.92,8M12,2C6.47,2%202,6.5%202,12A10,10%200%200,0%2012,22A10,10%200%200,0%2022,12A10,10%200%200,0%2012,2Z'%20/%3e%3c/svg%3e",cae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M12.04%202C6.58%202%202.13%206.45%202.13%2011.91C2.13%2013.66%202.59%2015.36%203.45%2016.86L2.05%2022L7.3%2020.62C8.75%2021.41%2010.38%2021.83%2012.04%2021.83C17.5%2021.83%2021.95%2017.38%2021.95%2011.92C21.95%209.27%2020.92%206.78%2019.05%204.91C17.18%203.03%2014.69%202%2012.04%202M12.05%203.67C14.25%203.67%2016.31%204.53%2017.87%206.09C19.42%207.65%2020.28%209.72%2020.28%2011.92C20.28%2016.46%2016.58%2020.15%2012.04%2020.15C10.56%2020.15%209.11%2019.76%207.85%2019L7.55%2018.83L4.43%2019.65L5.26%2016.61L5.06%2016.29C4.24%2015%203.8%2013.47%203.8%2011.91C3.81%207.37%207.5%203.67%2012.05%203.67M8.53%207.33C8.37%207.33%208.1%207.39%207.87%207.64C7.65%207.89%207%208.5%207%209.71C7%2010.93%207.89%2012.1%208%2012.27C8.14%2012.44%209.76%2014.94%2012.25%2016C12.84%2016.27%2013.3%2016.42%2013.66%2016.53C14.25%2016.72%2014.79%2016.69%2015.22%2016.63C15.7%2016.56%2016.68%2016.03%2016.89%2015.45C17.1%2014.87%2017.1%2014.38%2017.04%2014.27C16.97%2014.17%2016.81%2014.11%2016.56%2014C16.31%2013.86%2015.09%2013.26%2014.87%2013.18C14.64%2013.1%2014.5%2013.06%2014.31%2013.3C14.15%2013.55%2013.67%2014.11%2013.53%2014.27C13.38%2014.44%2013.24%2014.46%2013%2014.34C12.74%2014.21%2011.94%2013.95%2011%2013.11C10.26%2012.45%209.77%2011.64%209.62%2011.39C9.5%2011.15%209.61%2011%209.73%2010.89C9.84%2010.78%2010%2010.6%2010.1%2010.45C10.23%2010.31%2010.27%2010.2%2010.35%2010.04C10.43%209.87%2010.39%209.73%2010.33%209.61C10.27%209.5%209.77%208.26%209.56%207.77C9.36%207.29%209.16%207.35%209%207.34C8.86%207.34%208.7%207.33%208.53%207.33Z'%20/%3e%3c/svg%3e",uae="5.2.0",dae={version:uae},Aae="/assets/images/nav_drawer_banner-B2zCGthx.png",JP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhAAAAIZCAYAAAD3DwZBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAOGlJREFUeNrs3XuQFVWC5/EsBAVboQQFFewqEPCJVeKzdbqrwFm7e3vXQiemu/ePpcTe2ei/KHFj/9mNgIGI3X82GraI2NmYiRAoN7Z7Z3YaKWf64eyIVT2tdreKhYgPHnKLhw2oCPjAbu1h83du3aIo63Ez7zmZJzO/n4gUFKmbj3PP+Z1HZtYFKZj4zJP14S/N4dYabg3h1jjw7/UBAADF0BduJ8OtN9xK4dbz+X0PlrKy83UJhgYFhGXh1jYQFgAAwPlMkAi37jBMbCtsgBgYaXg43DqC8igDAACojkYnFCK6wjDRU4gAEQYHhYU1A+EBAADURtMdnWGQ2JLLAEFwAADAqVK4rfBhRMJagAjDw58H5akKFkICAOBWz0CQKGU2QAwsjtwcsDASAICkrQ1DxJ9nLkCE4eHR8JcNXD8AAFLTE24PhkHipPcBYuDuCo06LOO6AQCQOoWHJWGI6PM2QAyEh2cDpiwAAPDNiqTu1JgQMTwoNLxCeAAAwEubw7b64SQ+qOoRiIHwoJEH7rIAAMBvzkciqgoQA9MWGnlo5JoAAECIGDdAsOYBAIDMetDVOzWqWQPBMx4AAMimzQNLEKy7YKw/HHjOw6OcfwAAMmny5A9Offe23wdTFlx5dV+pdOBT5wFiILE8ybkHACC7Pp8yeXJdELRetv/g9+c2zj0Whggrz4oYawpjM6cdAIDsO3JXc3CqYbZ5COSS1qXPhlujkwAx8GIs1j0AAJATex7448pvW8PtlTBE1PQ06QtGCA9KJRp9mMzpBgAgHz6ffFFQV1cXTOs/Egy08d+d2zi3vlQ68HScnzfSCMSagIdFAQCQO0fubDJBYohHl7QufTLcIrf7541ADIw+bOEUAwCQP/88cWJwwR/+UBmFqLg+3L4xt3HuX0e5S2P4CMQaTi8AAPk1wiiEmNdVRBmJGAwQA0+cfJhTCwBAfik8HGu6YaQ/ihQiho5AEB4AACiAd+5sGu2PFCKqeozD0ADRwSkFACD/Pq2fqudCjPbHy5a0Lt1QVYAYeOpkI6cUAIBiGGUao+LR8Z4TURmBWMapBACgOMYYgajYPNYTKysBoo1TCQBAcWga4+NZl4/1v5hHX48aIAbuvuCx1QAAFMzJxjnj/S+to01lTCA8AABQTFVMY8iGkW7tVIBo5RQCAFA840xhVDSG26MjBYgGTiEAAMWjdRBV6hg+CjEh4PZNAAAKq8ppDIWHR4cHCNZAAACA8bQPDxC8uhsAgII6Nf6dGBWNS1qXPjw0QAAAAFSjjQABAACiWlZZTEmAAAAAkUIEAQIAAETVRoAAAABRtRIgAABAVPV6SycBAgAARNVMgAAAAAQIAADgXBMBAgAARFVPgAAAAFExhQEAACJjBAIAAERHgAAAAAQIAABAgAAAAAQIAABAgAAAAAQIAAAAAgQAACBAAAAAAgQAACBAAAAAAgQAAAABAgAAECAAAAABAgAAECAAAAABAgAAgAABAAAIEAAAgAABAAAIEAAAgAABAAAIEAAAAAQIAABAgAAAAAQIAABAgAAAAAQIAAAAAgQAACBAAAAAAgQAACBAAAAAAgQAAAABAgAAECAAAAABAgAAECAAAAABAgAAgAABAAAIEAAAgAABAAAIEAAAgAABAAAIEAAAABFMDM5yEgAAKKyYOYARCAAAQIAAAAAECAAAQIAAAAB5wCJKAAAQGSMQAACAAAEAAAgQAADAQ6yBAACgyHiQFAAASAoBAgAAECAAAAABAgAAeGhicLaOswAAACJhBAIAABAgAAAAAQIAALgU8zkQPEgKAABExggEAAAgQAAAAAIEAADwEGsgAABAZIxAAAAAAgQAACBAAAAAAgQAAPAKD5ICAABJYQQCAAAQIAAAAAECAAB4iDUQAAAgMkYgAAAAAQIAABAgAAAAAQIAAHiFB0kBAICkMAIBAAAIEAAAgAABAAA8xBoIAAAQGSMQAAAUWNxxhIkMQAAAgKgYgQAAAAQIAAAQQfwHSdVx8gAAQCSMQAAAUGjxBhIIEAAAgAABAADc40FSAAAgMkYgAAAAAQIAABAgAAAAAQIAAHgl/oOkOHcAACAaRiAAAAABAgAAECAAAICHWAMBAAAiYwQCAAAQIAAAAAECAAAQIAAAgFd4kBQAAEgKIxAAAIAAAQAACBAAAMBDrIEAAACRMQIBAAAIEAAAgAABAAAIEAAAwCs8SAoAACSFEQgAAECAAAAABAgAAOAh1kAAAIAYASKo4ywAAIBImMIAAAAECAAA4B5rIAAAKLKYOYARCAAAENlETgHypKl+atD4pYvDX6eZf2+5YkZVf6//40+C0idngpO//yzYefJUuJ0OTn72GScUiZfbpmlTg/oLJwX1kyaZ/z6aShmtlN1KuS2F/w4QIIAxqIJtmTnDhARVvNWGhRGN8HdVMfeFFXLvu++H23umck5STcczjBqapPefczM6hYUHrr7SHIfKsMpynNAxUtlVuS2X2feD7iNHnQRhyiak7oK/eYpVEMiMSsXb3njNmL0zFyoVc/c7R03F7NozrfdYrajn/+SZsKea/d6prv3jdzRb+3nrdu8J1r3+VmJlt2PB3KAh/H1SVFafCstsV+mQtZ/5+Z/+a2s/S9+p+3qejxViWmZeTqVoozN25HCw7b/+lxgjEMQHZGCkoW32lcHKhfMSDw1DqdJfri1swBQmukqHgyfCStnVkPETBw5ZDRDa73W738p8eVi5YJ7d86yG1WE9qBEG7bPKcBr0udp+0HxTsHHPgXB727/puRjnv+WKy4PVNy6kgrQhPI9xAgSLKOH1aMOmO5uDff/qvuDx8Nc0w8NIYWL1TQuDfd+6z+xjo4MepXqMNiv69sY5mS8TKgM2y4HLAKjg8MySe8xIUlrhYXgQN2U2/D6tvum6WNMmAAEC2QgOYeOsXrPvFZ320VWQUI/RZujxoSGrRcdCu6MPNof1h5bfSnCwOYLkIkistHw+QYAAUqzYrgteuv9rplHOmkqQ0DHY7CHb3scsl48HLAYgLdzrPf6+1X3UtVcZ8DE4jHQ+1zffZMJOY4JrMpCnAKG5Jza2lDdVuC+HwUE9o6wPreoY9oeNiBlqr/G8lD76xKyFsEUjEI0XX5zJMqJ9t1k2tBbA1r7pnL58f4u59lmj755CuxanVn3MNsU972AEAow6rL+13AtqyFEvSMdiGpSbax+NsD3MvnLh3EyeU5vD7Vpb0mUpmGmtw0tf/5pXa3TifA+1zkjTcAABAt4zc8VL78n1PKx6pApHtfScNcxu8z755XOzN41he/GkrbUl7eG5rPX6+kRl48d/dAcLLEGAgL/y0GuLcqwKSrUcqxlut9jbbM9YiLC9eNLGtJBGlx7PYY9dU0Uqr4QIECDgnbz12qrtQdcSIjTcbvOWziwtpjSLJ+fYWzypByvVeuumhvqzuN4hann1+jvKOggPAgQL+NgS3MxTBAs6z6rKeDBExDh3G9+yd0unRkWysphSw+pWF0++9XbNZTiL00BxQoTWJyWygJFFlIxAAOONPDx+V7EXaQ2GiMuij0TYvBtDVl6XjcWUHRYXfZrHkddw62bRyrCCko2FwCBAAFS8lkLEVi1UuzBar1rD7jZDRBZ60RopsXl3zrrX9sTvkYeh7weLbypceV1980JzHQACBBJX1Ip3LA0Dd6BE1WUxQGRhMaXN/dMakrgvQVPY21rguxM2heE/auBF/vEyLbjtbV84KbXFWDs/OB3sPHkq7LmfCXqPvTd6L3fW5UHjl6aYV4LHmVqIHawG5pgf27G76r/Te+x9c1y29lOjEF1vH/K27NgcJXkiPM6Tv4u3EFXXyYfnlOjaKwiNNg1TP2liWDammfJsc38r736JUlYjoR3KaIAAHPrxV5PttXUfPho8dbj8uu2Tv6+usRhaGevZFBquXT7vmkSGbVdeN898vva7WloE+PjddqaDdIwKI2qYfGN7iiXuIlRTHlIaqVG5UPnoPf5e5GukAKZ919Y258qaA4XKqs6hq5ePgQABnFfhJNEIKyjowUDqYdZauenvlw58YqYKFCZWL1rovPHQ2pDe489UHXi0b5oSsjWk3BFep0d+1edd+emwuMhTDXGcsqFzvOnuZNfuaKFnZ9hQa71LtWVitO+FjlubRg4UFHWt9T6RuGVH3wcfywrSwRoIOGEa35vd3yevRXHz/+6ZYN2ut6z3jPTzVFnOf+oZ63dADG+k1kdcI2LzLZ21NCiu2F48Gff6KQQnNXWh4PC9sLxdG5Y3jTLVEh5GohEMU571fQm/N3F+vsI0L94CAQJue9V3u110pcrwtp/1muBgu6IdLUjc98zzppJ3QRVzlNGaJyyuW9B18u0132q4bTbMUaaIBs/LpEmJvDdE5VcjBAoOXQcOJfJ5+t7MHwgqcUYhvMC6CQ8CBA83YrP9Zs2BeVdXVOkpPJg54QSPSwsYb/vZL6w23udXzNdFektnnEZxzAbbk/KjB1y1WXzyZOebB2Lth86J65EZrW+4PSxTG998O/HzbILLy7sjB+MHXIRNHiTFCAQgLueMNcSrSi8tqnQfcbQPCl3t86pfbxGn9zgazY8neQfKmKMx866xer3iTF8oOLh+0JaC6H3/+HzqixIrwbjaQMrtnCBAwAk1gK7mjBUefLnlUI339xwsJosyPKyK3+aUSsd18zwpQ3Os/SzdkRNnisv16IPKjk+LEXWO/uQXLzobXQMBAqiq4s17eKjQ/tgOEQpfUYbv1+3aY+2z9cKqtHuXNm43tHF+bIaYLJTlCoUaQgSqDxDM2bNZXPvgYhhcjUDX/kNeHrP2y2YjPhjCqvz87kNHrS0iHVxMmeaLsyxOX2iERmtFou6D7RAzlBpnX8tyZXvkhYRDRNx9BSMQyI/2efafl6B52XWvvuX1cWv/1FjZ0jJrRtW3ypk5fouV/epb0lth3/glu4snzcLEmKMgLqiMqHHOAu2nzTKN3AaIuoCNrdat/sILrfYeK43j917YmYnj/5NfvGT1dtKV18+r+rM3vlmy9rnqeevR3mmcw+XX2is//R+fCcPnsVj78YCDAJGlsuyqTI8tzj6CEQjkgotem6YGkqvAam8g/sPLr9s7n9dUfz5LH9u9pdPFSFLSn9tZw+iDi3UgKstZewT0udADECDg0ANzZln9eepBbnzzQKbOgRbG2Rr2bdDLvSKsJ9n4hr1ztXzenMRffla+e2eKtZ/3xP7Dsf6epo9s0/NKslaWK8yjsA8d9XPnWAfhQYBg8R+bhS1Kj7mqHturezJ5Hsx+2xzVifCQK4UumyEi2cWT9u56eOLtw+WRqzgLgR0EiMde2p3p77bNkbUxwwCLKBmBQPHYrnTVEJqV6hlksyGPGspshpeOG5J7JkTjJRdbLUOdb8SbvtDUhe27iPrNq+SzvRhRd7IolAEECHgfILwdMnXcgA2nxizKfLzNWzo1neCiNz6Sldfbe+KjGuu4ryZ3cgvyq3ty8R23VaZBgACcBoisjj5U2OytRWnUyrd02vvs9muTWUxpe/rCl3KchzBcoVAWN5ghzwGC+Xu2GjebPbf+j84EO0+czvT5OPm7z6wNW5tGLcJnO1lM6fBcafGkrbseVHa69h3yohwPjgj97rPcfM9tlq0vYA0EIxAoHs1f27ztLS8Pr7EaICIwb+m02OtdeYPbF0otv9be6EOtj4dWWfaxDOStTIMAARg2b72Tvg9O5aOyPWqnsm2M8UjluLcwjsTlMyFsL56stYdsewTCVhnwhcIp0xgYaiKnADVVutPtVrrNl00LVjctzNQ5GKkRtDUq03BJ9ICmEQgN58f5uyN9vu4GcTGXb3PxpEJTLQtIbT88SvuSx8ZWociX176DAIGMs/3AIZtD2nmhgBJ1+Fir5tffcZO1a2I7QKjcWJ2+qHHhre1GMa89da+Oi3UQqWMRJVtNW9qvfy6MiNel1h75UBqBMFMplh88ZqvsaNGtmS6oZZ8s0whQHr/v5u2mHpRvwoMvAQKopec2neFM5+c4Ru9Y4eGpQ8e8HRmyuTjTxt0BtkfSnDW0Kcvbug4QIIBci9tTX7fT3kOMbD4TQqHTVvBUULLx3BDbQTgrL4EDCBAAAWLEXrC1l3sNLKa0weZjsp0+m6AG3K2AYgQI5vHZat3glJnCiPvwn9ftNbBm2qHWNTOTJgUPXGPvza1P7DvsZxnO8ffd+jQG9Q4jEAD8032wfEunDS1Xzqj5YUttX7a3eFLhIa9rDQACBIDU2XwRUq2LH20unsz6O1OyijuvQIAAMqLWBXld++zd0rl8fvy7MWwunix9dMbrOwKm5biR5c4rDAYIpvDZWP7gNz3noJZrpPDQfdDOLZ3qfS6/9ppY+7HS4uLJdX17rJZj89Iri5ovm8p3PoJY+0EFlLqJXAT40ss2b+HEiL3tWr+nanDb59t5loN+jnnrZcTgYevzy4HoqNUGpM9y2TMjEDmsW52NPtAOZTRAADXQMLIW19no2S79+QucUGch5BNr16qymDLKAkZb4UFsTsm40pzTYX7bbyxFtrEGAlROBdFp85bOG+dG/P8tPvvhdfvPfrB1p4rznjrBCAQI5EWPxYVsLM5yS8P+JUsNZZQRhfKIxRSLx2D/1k3bP1Mjanksz7oNFzgXIFgJyFbD1v+hvZ6bGV7nnDrdNu62c0unWdOgx1tX8Znt8+09Brtz9wFn58b2GpzWWfkqz3oImNM1EKzgZgQCxWKz50bvxj2tH7Cl46bxpzFsLp50feum7VGI9gXX5Krs8P0EAQLW2arUNczNNIZb5uVTlkJENc91sLl40tboyWhsj0Do3ORpXU81gREECCCVAFGupOZxQh3rtNgQj3e9Vlq6njaDz2h6fmt/dGNlThpdTS8S7kGAgNcVr3qs3I3hlnratkJf25dnjfpoYw15W1s82X/M+a2bLqZHVJ7z8OhnL0cfWAfhQYBgYRlbrW/nCwOEzcrd3CLIeXW6de2105tX42jmxkdcPGlv+mLdK3sy+aZJnZ+OjJdnjT44X//AIsqsjkDUBWxstW7qIdrs7ZRHITivrjYFCFu3dJZ7p+f/fF2/tgY7jY4a9fK+ZqscDwbijJfnDXfdlEBTFGff4EGAACwMMevRwhZt+lpTJs+Dhuz3f3tp2HjO8n5fn9jrbjGlzTsQzK2bSZXj/qPWf6ZGIdYn0gjbp3Do79oHQgQBAvkIEGHPrfSR3WdCZHHVt4KPQsTW+24Ptv/Lu608OtoVmw3z8Gu1fIG9WzddjAqM9Xku3smiQNm+YE6myrKCw/q7bnT/QUxHZDhAMB/MZmmz1aOtUOVlej8ZOf41ty48LzDo9woR2795t5cPydIbKG2thVADqQcN6edqYaWtxZMbXzuQ+HnpfM3NiEeWyrOu5dY/vj25log1EIxAoNi69hyy/jPVANtqjFxquWpGsPrWBaP+mQkSGpG4yq8RCVujEOaBUQM9bJvTF117Dyd+Tlzd8aFzpDLg+10Zlf3MwvcOBAjkhIZ/bVf4qszUE/K50m2aMTXcx9uqChm+BYmd7582d9HYsPLmuabRsbX+Q2UpjbdumteFO5o28T1EVPZPZRogQCBR63bscdJA+1qpVfYtSoNQCRIKRj708myFPh3L+rvtLRZMcvFkEuV4eJnxrYdPeED0AMHcPZvFrfThGSdzyIMhwqM5ZPW0a+lN6u/v/87SwYWXqT0TYo+9WzptjT5oVGTne6dTLccup09Unl9+8KvelGfth9mftMJD3H0HIxDI2yjEXmdzyDvCSm7N4oWpH6P2wdbUitYOmCDRkt6tq0/sOexVGUpj7UOSoxBDy3PHzenebaTP3/6t6kdE0phWAgECBaEKRiHCldWLF5gKL43ekj5Tlb72wTabr0aPytWdB3GYtTQeBBpXo2nDrb/7xlTKsxnVCz9Xnx8lCHd5FjZBgEDOqOLt/a27Vy9rHYEacvXak1iQ1njpFPNZOxwN86rRTLMRNy+r2utHw+DTaIir0bSxyrPKWlJlOc5i3o27DwQAAQJOPdK703nlq+H/95ffX654HSxKUwWrn60pBpcPAkriXGVlFMKn0RBdE12bpAydzrJ9p47Wp2z9F7fXVJbNepkUR8rgl4ksRIErqmhU+arSSqLi1abbElXJ6Q2h+n3c0NDWOMu8y8F1b7DSYPa+837q10uLFnXO0lyFr2unB1z5pLt0zGwqE0kGCW36Dunx2hrN633nRKSQqZG5lqunm3KsMm2jLJt1IS7aDNqhjAYIwHHlqwYyqYViavzWf+XGwd5j+TkHJ0yj1DdCoGgO///6iyYFDZdMMb9PuvHU/q17ea8310vXKs3FnL7OrysIvzzjq4kEyqH0efruVL4/Ki8q1yrTowfg6WF5vtj6vmo6h9EHECCQqMdeeL38dsbGZF8wZXpgYc/Lt6c/VqgheOj/veTVqnY14ApgaTzoyOZDrVxdqx0PfTXV/agE3KTLtFlQuou1DzgfayCQWA8u7pRCXi39+1952aPb+Foplc/1ae3DaAEnyfUQPvEt6MKXAMHDj9gSenGTGkxCxECg6tmZ6oOSxnyw1FuHEj8f5i6Qtw57X461j0XriWsE8Qtl1TYeJMUIBDBmI6EQ8XeECIUHn++lN09hTHj/Nu4qZeb6qUEtyrMQdJxMXYAAAT9CxO/LIcLXue6ih4ehDUeyn3eI6+gZfUd1nAABAt6FiCI90U7HvPjH/5SZY9ZtpUmNFGX12QJ5DhG69g89/TKVFQgQ8LcC1pb3xVmqjLM4dZPU0LVZ+5DhMvzY86/na+QhDI8qr4l9L1nLkOEAwQI/tpQXpS19Kr/rIgaPz9MFk+NdG9eNiEYezEO0MlyGFbQeejofdymY8qrwoId5Jbl4kQWUjEAAcXvoi//2n7x6oFKtzHMDwkYl6yMsrhc3rnt5Ty6utx6YdltYhrMchCsjggABApmz9qU9Jkj48FjnWntx1/7vZ02jkv0eqbvFjQpW3QeO5ab8ajQli0G4EuCzPJUEAgQwuF5AvfesLaxT8FFFnKd1HeaWTkcNSxJTJGkF4Wt/uD0TQVhhZ3HGR06QHl6mBS+pZ6qt/bo5Qcctc1N9wVM1wWHtS3szP3IyVkOv62DbxlcP5HYuu3T6jFn70nL1jGDN7QvMr159v0rHgsee2+1PSD+b0N+B5QABeN54aVMFrEbMRUMWR2X4XQvozALJHKvc0mkzxKkBK8KLmcwdDU+9702QMC+3e/VAbsMuCBDAiBWxNt0yZ161PffKxF/OVamAuw8cNb/69tppl9TobFrSZPXnFa38KkjoDZkrb5kblt0rE3uzZ+Ux4RrxyVNoK334CUHIkskfx+sE1U34n3/PQBAySa/hbrl6uqmMmy938ypu9bx7BsJLnhb8xTnXHYvsvZJd6wSKrikssxpRa716hvWyW7k9trt01Em5XXP7QqtBgAWc6Wrc/ULQ8NoLBAgUOFBcOMlUys1hZVwJF6aiHvj3sSrb/rASK/cUT5gKbfD5BECCZbcSJuovmlj1dIdGwhR0+947fd6vQNUBIgwPDbvjBIi/IEAAgM9GChMKCUWaRoPjEYgYAYI1EADgOUbD4KMwQNRxFgAAKKx4OYAHSQEAgMh4kBQAAIiMEQgAAECAAAAABAgAAECAAAAAXom5FpJFlAAAIDJGIAAAAAECAAAQIAAAgIdYAwEAyJ01dy6w9rP0dt6uN3jl+BcDBAAAObPaYoDoPXKCADECpjAAAAABAgAAECAAAIBLPEgKAAC/Gtk8YwQCAAAQIAAAAAECAAB4iDUQAACMh7byCxiBAAAABAgAAECAAAAABAgAADLmLMc3EhZRAgBQ9BARAyMQAACAAAEAAAgQAADAQ6yBAABgPLSVX8AIBAAAiGxiENRxFgAAGBNt5XCMQAAAgMhYAwEAwHjOcmzDMQIBAAAim8gpgA31F00Kmq64NGicOiVonHbxqP9f3/HTwcnffRbsfPdD82uRjv3kp58Ffe+eNr/vPXyCQhNT0xVTw3M+0Zz35plTx/3/ew69b37NU5nzobxL6zUzqj7/lHkCBDBYibRdOzNoCSuQljnTTeMZVSVIqGLZtu9Y+PvTmTh2HWvbtbPCY59uGrM4xy6l02fMMfceOhH0hOcgK8efJJUtNVKVgKbzHdXqu+ef9+8qbwpyO8Mwq9/rOmD077mugYKaftV10H+Le/4p8/lSdzbEaXDngg0/i/13t//pXeZL68O+VKjhbL9ptvnVNgWKrtePBF27j3hXsajSbL9xtjn2OI1YtYFCDVrX7sOF7a3p3LaGZb5t/iyrZb+a894dhtju/ccIDQNlXQHZxfd8+He+e/9xJ+f+D6u+ae1nqXws/b+/zu01b3zr+aAh3BiB8M3Z7O+LqVDChnPl4sbYve1qP6fj1kazVRpShYm0RxtWf2WBOf4kPqtRISXc1Kht3FEyx5/3YXczohMGBtflq5rzbhq0fcfDIHvY9JKLRNdA50C/Jh7MB879xh395nvv5agQXW1GIBIfgVhfwwjEty2PQMTYFzWcakDTqNgrvcNHnn418co8yeAwXg9NlWpnGCbyFiTUw1VYTLLBikKjYJ0DIS7P0v6Oj0TnfN0Le2sKEn94zPIIxN/keARiDyMQsEhDyZu/scjZcH2UhlxTORrifOTpXYk0omvCynT1V+Z7cR3UQ9O+LA8r+cd63jDnIQ/BQec4qSmKWr4Dm75+i2lc1ZjlLUgouK1vvcGr4DA01GjTOVe5Z/Grn7iNE1/Qsbgx2PFv7009PAyv7Pb/uxanvVUdr47bl/AwPEhtfWCx2aIuYvOpQdaomu21PUmcewUJlQ2Fn8z3NhXKw+ugsuRjeBgeJPS9V50EAkTxnK1xS3Bf6i+cZCoV9Up8pIZT+6fea83nddimOVjfQtNYQco0wJbPgatN5UplyjTAc7LbAJsAFIYfHYuOKSvnf+imhvjljF0Hfe91znXuI513n+rxLGwEiHzlhyT3ZVr4Jd3+7Tu9nY8eSiMEm75xi7XvjX6WtixVqOpBqnfme52kHvvLy+/NVQ/SNMLLy6MRWWkb9P3e2lbuHGR1BEvne/+ftQRNM6d6V38WND8QIBCYe7x3hBVi08ypmdlnNZ6bLTT6+hlpL5SMS6Fnw5IbvN2/NfcsMEHH92HyOCrTADrGLHy/s9I5qCY8ayQrq9/ZvGERZcHpC7np64syWclXKpEVP3+1cOFhaG9Y1zDuOXBVprQANw8N1rgh6SvzzXdn1bN+LvSrhIesjjqM9d2VvN8h4ztGIAoeHlS5NGdo5GGkEBGnF56H8DD0HPhyLPUZmgqzef59bKSbr8hneMjjd5gAgZF5vAhCDW+Ww8PQXrh5Yl6V53VD6w25q3hUmUY5By42NVhv/1lLLspU7J6+J4srTXj4Tn7DwxdCBIsgUmlrCBAF1X7z7Fw1opu/uShonDb+NIx6xh23NeazMg3PQVqNt2lAC9BgZeEcFO1aKES05uD2WkYgkAlqaH1efBdHed79lnGPW41sXpn1LN9YlMrnFj08DG28n1y2OPUyULRrsXXZYsofAQJJ0MrxPH7ZdJuXRlbG6qnkvZJRA5bknQGEh5HL4eZvpnNbcJqjUGmH5zSDW1FxF4Zrnr1MS5WLzamLkd5RkebT+jSy0r33eHDy0/NXxCtY2N4v8zry4x+e99+mXTQx9Qp8zT3zg67XDgelU+5fSJRmg1U5/zrOkd6ZYF6SNW1K0DTz0sQDjr5jPQffD69DcncJaGrOp8Wrui79I1wXV/WD6UDo8deuznme3xoV89gIEAVTy/y/KgS9i6EnDA07j58es4FShd0cVtwtX54RVmozE2tkzBs9w2Nc+9ze8/7bhqW1Tdmoseo9eGLw2HvGeblXWsd/rmG/JVjyf37tvCwl3WB17z0WbAvLoIJrlICkIKEGZlm4v20LZiV2DRRw+o67fzW9jm/Nvek9gl3XQ98JHet4dUOF1i00hPvdes0Mc22qWcM0bgdi6UAHgndnJIK3cTo24b/Ffxvns9+9y2pan/dXPcHb/7418t9TolePtqeGN2Kqcmi/eU7Y6DQ47w2q8pj3l72DlciaexeYXnkcqhA7Xy7VXCklefwVS8MA0ePoLabm4WPt9ybWk137/F5rDYPOf9uCmWaqx0ajNV75Wdz1nPNzZLuuqDY0bAnrBVvXRdeissi5luuy9vl9pgPxz//xm1aP1XUgT1Pj3ufNFrl9o4kvjqi9RX1pFDpW/OzVmhsi0wiEX2o17PqCOx+FuL1xyIhEQ6z9VQOsyl8BqtYKcvjxJ/JW0XvdrYXYlMBiVJ0zlT2VQRvXYGjA1M+rlG2XUz1mTcq9btekuJieG69DoXOnBtXmddF1UFjXz35w244Rp0erkWRIL3wHmVNQHGMtMBxewT745A5TQdiuXPWzyw1pj9Oh3co6D/U0o1YmlUrMRe+9cvyLtzwXu4KslhoVF7e3qefuekpm7XP7BoNDEo2hPs9ZkLtnvtMnvSa1aNZ0KP7SfegSTVWp/lkaow6qTGOCAJF9Hj1IqppK3wy5ho2bvsAuH1yiSkGf46qBqAyHRqlcK8Fp1TNvOH9wi45/yY9+7byB1LSJzf1WQ9hxe4Oz/a2UP7OGJcEH6VRCnatQa9bgONjvJKZhBjsUPxpozBO8Lj0Hy6ElasCrtrOUWF3Og6SQd6o8l/7oN4ms3q9Y8dNXnTWiqrSrrVxVSerYTXBKkI5fm8tRJ5vDuRqOdzU8rB6urkESiw7HKv8uyoAWbrZ+ebqT6+v6nAx2KFJUCXjV1k2uQxUIEBih8kxj9bKrEBGlEkmz4dKxuxxCb18029r5dNVg6Ryoh5v26vlKb9tFebS9FkLXwmVDWQl0SXYoqgkzaX1PQYCAZ+FhaIhIq2JI87OH9rBc9fJsNfquFgOqsXY5CuNLqDVrUiyOQlQWCuc50I0U8NIM+yBAJCuluakoX8hHfrKr/OCllOfhHtq6I/EKS412164jXsxDrvjpLie9Pa19MdMONeyb/r6L0Qc1BCt+8qqX88LaL9uhztaaFF1TVwtZdU2SWAcUd1NdlXiIOFuAjQCByD3fX+7zJs2bWx1/uS+xz1NYWRGGJ296V2HFaCpuB3Q3ig+jGF/oTf7wN15/P1Q+bH4/bE07uLrLoHJNhj/J1TcmRPzQn+kVRiBQOHqyYudLJa/2SfuTVKXQ+VK/d0O06vHqutimp/3V1GA5GC5PY8Qp7gid3TBX+5Mw2xbOdHK8WbgmQ6+N9hcEiByrq2Fz3Lv66a4a98/N5nJB4bnK5/Og88X+whx/i5l7j7c/zTOnWV+sp6cX9hz8wMvzP3zrO/6h1WvSvmhOTfvT+uUZTu6EUaDOyjUZem1WPfNmBuryLGwECFRJ8/6+Dv8lsW+dL5a87Wnp3ve+YS/pqpUCQNxGx9ZdHEPD26p/fCNT3xeFTVtlUu9IqSWQuXiXh65JktOHdoNPyfr3BQQIP3i6gNJUFh4v6DELGx2HFJ+PXwHHNjVccfal1vUTowbEDC0w05y7zQbWhICY+9Li4HkSCnQ+LKSOuz2WRCBlASUBAuW1D74vPnIZIPoGXgHtMw3x2xan4VFP2fb0hYtwlLWRsWUxQ1n95PJbXm2PPrgO7EmM2rlYOwQCBIbZkoHKQhW1q0Y+C5WleoO2K8Q4QcB2b1fBKMsr522VHZ1XhYFYo0iWZTXQDZfVKRgCBDLFRe82S/uZlZ5KjwcBwvbjl7ftOZbp747N8BknDLiYvsj66MPQ7wu3dRIg8sWzNRBqPE+eycZcZ99RN8+nMD83A8ff2283QDTpwUMR96HJ8sOKuvccz/RccenkmaDvmJ0FeyYMxHiAlNXvQngsOqa8zOWX76zysC7nQVLIS0rPip0OVlZnaZ7U9rWqnzwxei951qVWz73vDyiqbmTMzihKnNGdBuu30x4L8qR7T76OhxEIeMVW7ymZfbU/ApG1Ic4097d5lt3ebk9OFrnZGhmKEwZsBjqbx+LT94VpjORM5BQUy85j2XoJjQKPzUoza5VLf7i/Nu+CUK+32oa8/iL71YOLV1onbdpkOw9xinpdXbx5syeHdy5opKtx0ewABAgUvAd+yvLDnsx8b4ac/PTz1D7b9oK9NX80Pwj+iO9g3EBnO0Dk9bbHnv4T1h9+BgJEOs76syuDD+8psP6MnQNN41h/78FZvpbUEcG5xZN5/I7nvC73BWsgitZ4ZkyW1mzkTf3kSZwEx6KM8tgeEcrrWgHqDAIEYORh1X5W2V6wB9++W5/n9LioMwgQAJD7kDY1tc/eefx0bs9rXsORb1gD4drZlP7uaD/vLNej0OcgyvEz5+ucudPlLN8F6+Ho2OmgpWE658pxW8MIBAAAIEAAAAACBAAAkTTUT+EkECBQeGc9/3kcPzJaFppSXMDpmounduKLWESZtQaABoRzkNDx6zkBLZQWp/TUxLTKY6oLOF0el6vnl1B3EiAAVBkgLD72e+n/+o3bRrgAbL/4qjmnIxA8v4QAASBPYURvSTzJWxJ90nRlPhvaPE/N+IY1EACc93ip1Gtn+xHNWieQx8eVtzZMp7AQIHLibA2bb/uTxsbxp3b8NkcMzGu8zwZsNWwnz9h/RLN5UVvOzlOLqwCR9zJGgABgi80A0XbdTE6oZ6NCeeytt103K6ifzMw8IxAActNgNdZPye2ivST1HbU7jVFucPMzjbGMoEqAAOAHm3c4tDfN5oTWGiCO2X0BlnrreRkdUhCijBEggHN4ZkOqekt2A0T9RZMo055cj4o1X5ufi3PTcWcDBYQAkcMGgEWUnIOMHn9P2GDZejWyersddzWwILKGTetSbN8Oq+ml9ltmZ/q8KJh23NXob12e03qGAAFg7F6vxWkMVfJ5vHUwq9djcBSiJdujEBu+fj2LJxmBAOCbbW8es/azVMmrss8qHwLQtjePW/+ZGoXIaohobZzO2gcCRF7Vxd+cvEipLoObzXPA8Uf9/K6d71ibxhBV9q0NMzJ3Hda0LDDh5+2VLeb35SCR/H50v3Xc6vUYOgrRfOXUTF0TXYNNDyxyX41ntu5029YQIJIoeMz/cw4yfvzdFkchZOt3bj33MqcMbHq/wpqWawdHUfT7cpCYn8px2L4eFWqMs3RdNof725jUq7tZA0GAABDd2t79Vn+eGuHt7XdmYt5a+6jAM9J/N0GiIwwSrfMTPZbOX/c7+bnNV14abG5blIkyubnt5qDtep77kCYCBIBxaeV/t+W59yw0VpWgM1Yvd3iQSIIeKOXilk5Ro6zG2WftzbPNBgIEgAxw0eutNFY+jkRUwkNzlW+tPBckvpZI47Zl5ztOG2hfQ4TWofgecAgQsIP5f7/WAXD8sbeeAyesj0JUGiszneHR3Lv2JUp4GEqjFWrgTJBocvd8ha5Xjjh9Rbquy5MerVXRfui8dtzdkL26nDUQAIpu1c/fdPJz1VDv+P49sRpsX/fFBIllYZB41N2IxNqe/U7PhUaItj98Z+rXRZ+v/WDaghEIABmlHq+rRksNrhrupNYRjESfrX2wubJfP+vh5qud7G9X3xFnayGGB6q0ros+N2qIcTFSBgIEgBp1/qrkdOh8Teu1ptee5Ap7PYxIn6nPdsHVyE0SoxDDr4vOVRI02lC5JlHXyHT+qp8vKgECgG/0EKNHtr3m9DPUa3/yu7cGzz58h9MgoUZKn7E93Fw9T0CNme3XcA+l95Uk1WDqHOlc6Zy5mE5QUKgEB03/xLkmGpHpcTwqkzsx10Hw8HBPL0xh9ieN4z/L8dfcaB04YXq+rnrsFS1hb1db5TZSLRystTHWUHj7rbNNMHH9ECLt66qfven8sq59dl8ixzP8umz4xvVmGqXWBbba92U3zAx/nVXzHTlrn93v5jte9LqTAAHAZqOlxjiJqQY1jFp9r01hQr3Mvt9+GOwMG+ix3lCp4fZpYYPUfNVUs69q9JK6ZdSM1Dy5K8HPei3YvuKORMuAecPqwHU51/v/ICh9cCboH7gmfUdPm/3TNawEnKbwWjReNmXwmtiiEMPoAwECQAasCBvI7SuSXaVvGiLzICG/z41GHlxOXQynhjOJUaFqRibSoJCSxGgPzmENBICaKu2HfvSKk5c7ZZnWJGhoP2kaFSrqHQg6dpeLe0GASB4PkvLvhVIcv9VNw9VLN/+GEDFA6zRW/fTN1MrLiq27Eh358OWcd77QT73Bg6TgSs+BDzgJcELrEZZuIkSoIVvx5Gup7oOuga5FUUJEUgtVQYAA4LAiL3KI8CE8FC1EaMqC4EqAAJCTEDFvfW8hh9B9CQ9FCRFm/c0PWX9DgMDIuO+Yc5rB4680XGpUi0DBwbfwkPcQURl5SOy4zlIvjITbOItW8AglnIMkQsSZz4MVW18zayPWLJ3v5eu6bfWA9RAlr/czvBaL/8fzweaHbjYP0Mq61NbbUHcyAgEgOVoZr8q+90C+Hu7T/cbxYN4Per0PD0Mp0GnL8pC/RrVY80CAAFAQ6jEu2fSiubUx6xW/hs4f/OErZsvisVQaYF2TLNG5zkMAIkAAQAwajVCvPatrI/SOBU0FaPQh64Fu8V88n5lAp9ErnfeirKnJEtZAuHbWs305W/Dzl7VzkLPjN2sjfvxasHb7/mDN0mszMSevhkv7qwdm5SrQPd8fdO04Emz41vVeXgeN9qz6yZv+BDbWQBAgAHjQOISNcSVIqPHquKfBq4WW6pmrge18vpTrIXMzNeBZoFNw0P4o3MDzALH08Rc5CwBSCxJrt+8zW/vi2eVXOt8wM7X9UW93S9hwZX2aIm6gU49f10GBLqlXg1doqmLLK+8QHLIUIHoO8OpTX9le6JTFF82YVzdbLKMnP/2M4/eUGg5tGolou3FW0Dr3sqBl7nSnDVnl/G57/bj5tegL9M6NvPQHzVddakYk2m6c6ewaqI7TFJECm+0pIpvfm6wtOk1KXd1//jkzOwC8pcarKWzMmq+aakJFg17nfVn0Bk0NVH8YGPROmL7fng52ho0Cb2+s/hoozDWb63Cp+X2ccLIzPO+V809g8+j6HnwuaDz0XIwA8Z8IEACyRyMVChXj9x5P01A5Pv8t884PFL1vn9/7Z6Tb8wBxKF6AYBElgExSKKBh8uP8cx2KiedAAACAyCYGQR1nAQAARAwQrIAAAKDA4g0kMIUBAAAIEAAAwL2JzGAAAICoGIEAAKDIYo4ksIgSAABExggEAAAgQAAAAAIEAADwEGsgAABAZIxAAAAAAgQAACBAAAAAAgQAAPAKD5ICAABJYQQCAAAQIAAAAAECAAB4iDUQAAAgMkYgAAAAAQIAABAgAAAAAQIAAHiFB0kBAICkMAIBAAAIEAAAgAABAAA8xBoIAAAQGSMQAACAAAEAAAgQAADAQxODoI6zAABAUfEgKQAAkBSmMAAAAAECAAAQIAAAgIdYAwEAACJjBAIAABAgAAAAAQIAAHiINRAAABRZzBzACAQAACBAAAAAAgQAACBAAACAPGARJQAAiIwRCAAAQIAAAAAECAAAQIAAAAAECAAAQIAAAAAgQAAAAAIEAAAgQAAAAAIEAAAgQAAAABAgAAAAAQIAABAgAAAAAQIAABAgAAAACBAAAIAAAQAACBAAAIAAAQAACBAAAIAAAQAAQIAAAAAECAAAQIAAAAAECAAAQIAAAAAgQAAAAAIEAAAgQAAAAAIEAAAgQAAAABAgAAAAAQIAABAgAAAAAQIAABAgAAAACBAAAIAAAQAACBAAAIAAAQAACBAAAIAAAQAAQIAAAAAECAAAQIAAAAAECAAAQIAAAAAgQAAAAAIEAAAgQAAAAAIEAAAgQAAAABAgAAAAAQIAANSg/qODsQNED6cPAABEDRAnOQ0AABTTJWeOxw4QOzl9AAAUz8Q//C7cPo0dIPo4hQAAFM8lZ47F/rusgQAAoKAu+/hg7L87Iei8X2sgGIUAAKBg4t6BUQ4QZT2cRgAAikPrH2wEiG5OJQAAxXH5qT01/f1ygOi8vyf8Z4nTCQBAMVxxeq+FAFG2jdMJAED+afrCzghEWSenFACA/LvyxK5af0TPuQDReX8pYDElAAC5d817L9b8M4a/TGstpxUAgPzS6MPk35+q9cf0nR8gyospezi9AADk09xjv7TxY/pHep33Kk4vAAD5Y2n0Qfq+GCA679dTKbdwmgEAyA/debHgnWes/Kxne7b3TBjlzzQKwWu+AQDICU1dxH3z5jA9+sfIAaL8fowVnG4AALJPj6ye8+6Ltn5c9+gBohwi9GCpLZx2AACyS1MXi0pbbf7IbWMHiDJNZfCmTgAAMmpR6ce2pi6k79me7aXxA0R5KuPBgPUQAABkjhZN1vLGzRF0VX4zYdz/tfyEyiWECAAAskO3bFpc91CxpfoAUQ4RfYQIAACyEx5uOPQT6+Hh2Z7tJ6MFCEIEAABFDg9y3usuJkT6q4QIAACKGB62VBZPxgsQ54cI7s4AAMATCg6OwoN84WWbE2L9mHMhYhuXDACA9Og5D3fs2WxGH1yFh+GjD1JX84/t+IdHw3+uCbd6LiMAAMm5/NReM+pg8TkPwyk43Dp08aS9AFEOEY3hPzeE2zIuJwAAbumNmnrGw+Wn9rj+qCV6cdZIf1Bn9WM6/qE1/OfmcGvk8gIAYJemK65578VgzrsvuRx1qPjvYXhYNdof1rn4xCnf/+tHz9ZN2PDphdO42gAAZCs4iB5ZfetY/8MFLj7185f+9ldfveT9xss+Ptisf/9oyiyuPgAAEWmqYu6x58w6h+kfvh1MOPt5Eh9bCrevlEoHxkwqdS73YEnr0ifDX5Z9fsHk4L1pC4J3py40vwIAgJFdcua4eX/FVR/sCn9/LOmP12JJrXsY91ENrgOE7sx4Ntyaz9u7S75stg8nzwo0zfHRlJmUGABA4WhqQiFBoeGyjw+a32vUISVVhwfnAWKsEDGcggRrJgAARQoOHokUHhIJEENChG7zfJhiAwCAVyKHh8QCxJAgoRDxKNcKAAAvKDQ8ONKTJsdzQZJ7WSodeHpu49z+8Let4TaZ6wYAQGq2hNu/CcPD0Th/uS6NPV7SurQxKD9wqpXrBwBAojRlsSIMDjW9z6ouzSMIgwTv0QAAIDnbBsLDyVp/UF3aR8ICSwAAnNNah1WjvdcikwFiSJBoDMqjEQQJAADsBYfOMDhssf2D63w70oEgoRDRHvBSLgAA4lBg6LI54uB9gBgWJvR68LagvNiSMAEAwOi0vqFbv9pY45DpADEsTDQPBImmoPxUy2bKCgCgoEoDW2+49bgcaRjN/xdgAM9hke5HGRxZAAAAAElFTkSuQmCC",on=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n},fae={class:"nav-icon-container"},mae=["src"],hae={class:"nav-icon-container"},vae=["src"],pae={class:"nav-footer"},gae={class:"version-display"},yae={__name:"side-nav",props:{collapsed:{type:Boolean,default:!1}},setup(e){const n=VA(e).collapsed,r=dae.version,a=H([{type:"divider"},{type:"subheader",title:"Clinic"},{title:"Home",value:1,icon:"custom-home",route:"/home"},{title:"Patients",value:2,icon:"custom-account-multiple",route:"/patients"},{title:"Tasks",value:6,icon:"custom-list-box",route:"/tasks"},{title:"Research",value:5,icon:"custom-book-open-page-variant",route:"/research"},{type:"divider"},{type:"subheader",title:"Finances"},{title:"Payments",value:7,icon:"mdi-currency-inr",route:"/payments"},{type:"divider"},{type:"subheader",title:"Pharmacy"},{title:"Queue",value:9,icon:"mdi-pill",route:"/pharmacy/queue"},{title:"Inventory",value:10,icon:"mdi-package-variant",route:"/pharmacy/inventory"},{title:"Purchase",value:12,icon:"mdi-cart",route:"/pharmacy/purchase"},{type:"divider"},{type:"subheader",title:"Setup"},{title:"Admin",value:3,icon:"custom-account-cog",route:"/admin"}]),s=i=>{console.log("Navigation item clicked:",i.title);const c=event.currentTarget;c&&(c.classList.add("nav-ripple"),setTimeout(()=>{c.classList.remove("nav-ripple")},600))},o=i=>{const c=i.replace("custom-","");try{return new URL(Object.assign({"../assets/icons/account-cancel.svg":cre,"../assets/icons/account-check.svg":ure,"../assets/icons/account-clock.svg":dre,"../assets/icons/account-cog.svg":Are,"../assets/icons/account-multiple.svg":fre,"../assets/icons/account.svg":mre,"../assets/icons/bell-alert.svg":hre,"../assets/icons/bell-check.svg":vre,"../assets/icons/book-open-page-variant.svg":pre,"../assets/icons/calculator-variant.svg":gre,"../assets/icons/cellphone.svg":yre,"../assets/icons/chart-line-variant.svg":wre,"../assets/icons/chevron-left-circle.svg":_re,"../assets/icons/chevron-right-circle.svg":bre,"../assets/icons/clipboard-pulse.svg":xre,"../assets/icons/clipboard-text-outline.svg":Cre,"../assets/icons/close-thick.svg":Ere,"../assets/icons/close.svg":Bre,"../assets/icons/cloud-arrow-down.svg":Sre,"../assets/icons/content-copy.svg":kre,"../assets/icons/delete.svg":Ire,"../assets/icons/email.svg":Tre,"../assets/icons/file-arrow-up-down.svg":Fre,"../assets/icons/file-cabinet.svg":Pre,"../assets/icons/file-document-edit-outline.svg":Dre,"../assets/icons/file-document-plus.svg":Ure,"../assets/icons/file-upload.svg":Rre,"../assets/icons/folder-open-outline.svg":Nre,"../assets/icons/fullscreen-exit.svg":Lre,"../assets/icons/fullscreen.svg":Vre,"../assets/icons/home.svg":Mre,"../assets/icons/human-queue.svg":Ore,"../assets/icons/image-multiple-outline.svg":Qre,"../assets/icons/laptop.svg":Hre,"../assets/icons/list-box.svg":Kre,"../assets/icons/logout.svg":Gre,"../assets/icons/magnify-minus.svg":zre,"../assets/icons/magnify-plus.svg":$re,"../assets/icons/magnify.svg":Wre,"../assets/icons/menu.svg":jre,"../assets/icons/microphone-off.svg":Jre,"../assets/icons/microphone.svg":qre,"../assets/icons/needle.svg":Yre,"../assets/icons/pencil.svg":Xre,"../assets/icons/plus.svg":Zre,"../assets/icons/prescription.svg":eae,"../assets/icons/printer.svg":tae,"../assets/icons/refresh.svg":nae,"../assets/icons/server.svg":rae,"../assets/icons/share-variant.svg":aae,"../assets/icons/upload.svg":sae,"../assets/icons/video-plus.svg":oae,"../assets/icons/weather-cloudy.svg":iae,"../assets/icons/web.svg":lae,"../assets/icons/whatsapp.svg":cae})[`../assets/icons/${c}.svg`],import.meta.url).href}catch(A){return console.warn(`Failed to load icon: ${c}.svg`,A),""}};return(i,c)=>{const A=D("v-img"),u=D("v-divider"),f=D("v-list-subheader"),m=D("v-icon"),v=D("v-list-item-title"),h=D("v-list-item"),y=D("v-tooltip"),w=D("v-list"),b=D("v-navigation-drawer");return V(),he(b,{elevation:1,width:150,rail:We(n),"rail-width":80,permanent:"",image:We(Aae),app:"",class:"nav-drawer-with-opacity"},gm({append:d(()=>[p("div",pae,[p("div",gae," v"+J(We(r)),1)])]),default:d(()=>[l(w,{density:"compact",nav:"",lines:!1,class:"interactive-nav-list"},{default:d(()=>[(V(!0),ye(ze,null,Jt(a.value,B=>(V(),ye(ze,{key:B.value||B.title},[B.type==="divider"?(V(),he(u,{key:0,divider:"",class:"nav-divider"})):Be("",!0),B.type==="subheader"?(V(),he(f,{key:1,class:"nav-subheader"},{default:d(()=>[Q(J(B.title),1)]),_:2},1024)):Be("",!0),B.type!=="divider"&&B.type!=="subheader"?(V(),ye(ze,{key:2},[We(n)?(V(),he(y,{key:0,location:"right","open-delay":200},{activator:d(({props:S})=>[l(h,Ne({ref_for:!0},S,{to:B.route,class:"nav-item-interactive",onClick:T=>s(B)}),{prepend:d(()=>[p("div",fae,[B.icon.startsWith("custom-")?(V(),he(m,{key:1,size:"large",class:"nav-icon"},{default:d(()=>[p("img",{src:o(B.icon),alt:""},null,8,mae)]),_:2},1024)):(V(),he(m,{key:0,size:"large",icon:B.icon,class:"nav-icon"},null,8,["icon"]))])]),default:d(()=>[l(v,{class:"font-weight-bold nav-title"},{default:d(()=>[Q(J(B.title),1)]),_:2},1024)]),_:2},1040,["to","onClick"])]),default:d(()=>[p("span",null,J(B.title),1)]),_:2},1024)):(V(),he(h,{key:1,to:B.route,class:"nav-item-interactive",onClick:S=>s(B)},{prepend:d(()=>[p("div",hae,[B.icon.startsWith("custom-")?(V(),he(m,{key:1,size:"large",class:"nav-icon"},{default:d(()=>[p("img",{src:o(B.icon),alt:""},null,8,vae)]),_:2},1024)):(V(),he(m,{key:0,size:"large",icon:B.icon,class:"nav-icon"},null,8,["icon"]))])]),default:d(()=>[l(v,{class:"font-weight-bold nav-title"},{default:d(()=>[Q(J(B.title),1)]),_:2},1024)]),_:2},1032,["to","onClick"]))],64)):Be("",!0)],64))),128))]),_:1})]),_:2},[We(n)?{name:"prepend",fn:d(()=>[l(A,{src:We(JP),class:"mb-2 mt-4",height:50,contain:""},null,8,["src"])]),key:"1"}:{name:"prepend",fn:d(()=>[l(A,{src:We(JP),class:"mb-0 mt-3",height:60,contain:""},null,8,["src"])]),key:"0"}]),1032,["rail","image"])}}},wae=on(yae,[["__scopeId","data-v-48554dbd"]]),_ae="modulepreload",bae=function(e){return"/"+e},qP={},Ca=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(A){return Promise.all(A.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=o?.nonce||o?.getAttribute("nonce");a=c(n.map(A=>{if(A=bae(A),A in qP)return;qP[A]=!0;const u=A.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":_ae,u||(m.as="script"),m.crossOrigin="",m.href=A,i&&m.setAttribute("nonce",i),document.head.appendChild(m),u)return new Promise((v,h)=>{m.addEventListener("load",v),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(o){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o}return a.then(o=>{for(const i of o||[])i.status==="rejected"&&s(i.reason);return t().catch(s)})},xae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M17,10.5V7A1,1%200%200,0%2016,6H4A1,1%200%200,0%203,7V17A1,1%200%200,0%204,18H16A1,1%200%200,0%2017,17V13.5L21,17.5V6.5L17,10.5M14,13H11V16H9V13H6V11H9V8H11V11H14V13Z'%20/%3e%3c/svg%3e",Cae={class:"d-flex align-center gap-2"},Eae={class:"chip-text"},Bae={class:"chip-text"},Sae={__name:"SelectorExtension",setup(e){const t=pr(),n=Z(()=>t.state.doctorModule.doctors),r=Z(()=>t.state.clinicModule.clinics),a=H(null),s=H(null),o=async()=>{await t.dispatch("doctorModule/fetchDoctors"),a.value=n.value.find(u=>u.id===t.state.doctorModule.doctorId)||null},i=async()=>{await t.dispatch("clinicModule/fetchClinics"),s.value=r.value.find(u=>u.id===t.state.clinicModule.clinicId)||null};Al(async()=>{await o(),await i()}),fn(()=>{window.addEventListener("doctor-list-updated",o),window.addEventListener("clinic-list-updated",i)}),nc(()=>{window.removeEventListener("doctor-list-updated",o),window.removeEventListener("clinic-list-updated",i)});const c=u=>{a.value=u,t.commit("doctorModule/setDoctorId",u.id),console.log("Selected doctor:",u.doctorName),window.dispatchEvent(new CustomEvent("doctor-selection-changed",{detail:{doctorId:u.id,doctorName:u.doctorName}}))},A=u=>{s.value=u,t.commit("clinicModule/setClinicId",u.id),console.log("Selected clinic:",u.clinicName),window.dispatchEvent(new CustomEvent("clinic-selection-changed",{detail:{clinicId:u.id,clinicName:u.clinicName}}))};return Ge(()=>t.state.doctorModule.doctorId,u=>{a.value=n.value.find(f=>f.id===u)||null}),Ge(()=>t.state.clinicModule.clinicId,u=>{s.value=r.value.find(f=>f.id===u)||null}),Ge(n,u=>{u&&u.length>0&&(a.value=u.find(f=>f.id===t.state.doctorModule.doctorId)||null)},{deep:!0}),Ge(r,u=>{u&&u.length>0&&(s.value=u.find(f=>f.id===t.state.clinicModule.clinicId)||null)},{deep:!0}),(u,f)=>{const m=D("v-icon"),v=D("v-chip"),h=D("v-list-item-title"),y=D("v-list-item-subtitle"),w=D("v-list-item"),b=D("v-list"),B=D("v-menu");return V(),ye("div",Cae,[l(B,{"offset-y":""},{activator:d(({props:S})=>[l(v,Ne(S,{variant:"outlined",size:"small",class:"selector-chip doctor-chip","prepend-icon":"mdi-stethoscope",color:a.value?"primary":"surface"}),{append:d(()=>[l(m,{size:"small"},{default:d(()=>[...f[0]||(f[0]=[Q("mdi-chevron-down",-1)])]),_:1})]),default:d(()=>[p("span",Eae,J(a.value?a.value.doctorName:"Select Doctor"),1)]),_:1},16,["color"])]),default:d(()=>[l(b,{density:"compact","max-width":"300"},{default:d(()=>[(V(!0),ye(ze,null,Jt(n.value,S=>(V(),he(w,{key:S.id,onClick:T=>c(S),class:rt({"bg-primary":a.value&&S.id===a.value.id})},{prepend:d(()=>[l(m,{size:"small"},{default:d(()=>[...f[1]||(f[1]=[Q("mdi-stethoscope",-1)])]),_:1})]),default:d(()=>[l(h,null,{default:d(()=>[Q(J(S.doctorName),1)]),_:2},1024),l(y,null,{default:d(()=>[Q(J(S.doctorSpecialization),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1}),l(B,{"offset-y":""},{activator:d(({props:S})=>[l(v,Ne(S,{variant:"outlined",size:"small",class:"selector-chip clinic-chip","prepend-icon":"mdi-hospital-marker",color:s.value?"primary":"surface"}),{append:d(()=>[l(m,{size:"small"},{default:d(()=>[...f[2]||(f[2]=[Q("mdi-chevron-down",-1)])]),_:1})]),default:d(()=>[p("span",Bae,J(s.value?s.value.clinicName:"Select Clinic"),1)]),_:1},16,["color"])]),default:d(()=>[l(b,{density:"compact","max-width":"300"},{default:d(()=>[(V(!0),ye(ze,null,Jt(r.value,S=>(V(),he(w,{key:S.id,onClick:T=>A(S),class:rt({"bg-primary":s.value&&S.id===s.value.id})},{prepend:d(()=>[l(m,{size:"small"},{default:d(()=>[...f[3]||(f[3]=[Q("mdi-hospital-marker",-1)])]),_:1})]),default:d(()=>[l(h,null,{default:d(()=>[Q(J(S.clinicName),1)]),_:2},1024),l(y,null,{default:d(()=>[Q(J(S.clinicAddress),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})]),_:1})])}}},kae=on(Sae,[["__scopeId","data-v-07416910"]]),kl={HTTPS_SERVER:29200,HTTP_SERVER:29201,WEBSOCKET:29200,HEALTH_ENDPOINTS:{HTTPS:"/health",HTTP:"/health"}},uo=(e="localhost")=>({https:`https://${e}:${kl.HTTPS_SERVER}`,http:`http://${e}:${kl.HTTP_SERVER}`,api:{https:`https://${e}:${kl.HTTPS_SERVER}/api`,http:`http://${e}:${kl.HTTP_SERVER}/api`},websocket:{wss:`wss://${e}:${kl.WEBSOCKET}`,ws:`ws://${e}:${kl.HTTP_SERVER}`},health:{https:`https://${e}:${kl.HTTPS_SERVER}${kl.HEALTH_ENDPOINTS.HTTPS}`,http:`http://${e}:${kl.HTTP_SERVER}${kl.HEALTH_ENDPOINTS.HTTP}`}}),jb=async(e="localhost",t="/ws/transcribe")=>{console.log(` Getting WebSocket URL for hostname: ${e}, endpoint: ${t}`);let n,r=!1;if(e.startsWith("http"))try{const s=new URL(e),o=s.protocol==="https:"?"wss:":"ws:";let i;s.port?i=`${o}//${s.hostname}:${s.port}`:i=`${o}//${s.hostname}`,(s.hostname.includes("ngrok")||s.hostname.includes("tunnel"))&&console.log(" Detected ngrok endpoint, will try both WSS and WS protocols"),n={wss:i,ws:i.replace("wss:","ws:")},r=!0,console.log(" Using endpoint WebSocket URLs:",n)}catch(s){console.error("Failed to parse endpoint URL for WebSocket:",s),n=uo(e).websocket,console.log(" Fallback to regular hostname processing:",n)}else n=uo(e).websocket,console.log(" Using hostname/IP WebSocket URLs:",n);const a=async(s,o)=>new Promise((i,c)=>{const A=setTimeout(()=>{c(new Error(`${o} connection timeout`))},3e3),u=new WebSocket(s);u.onopen=()=>{clearTimeout(A),u.close(),i(s)},u.onerror=f=>{clearTimeout(A),c(new Error(`${o} connection failed: ${f.message||"Unknown error"}`))},u.onclose=f=>{f.code!==1e3&&(clearTimeout(A),c(new Error(`${o} connection closed unexpectedly: ${f.code} ${f.reason}`)))}});try{const s=`${n.wss}${t}`;return console.log(` Testing WSS connection: ${s}`),await a(s,"WSS"),console.log(` WSS connection successful: ${s}`),s}catch(s){if(console.log(` WSS failed: ${s.message}`),r){console.log(" Trying alternative WebSocket paths for endpoint...");const o=["/ws","/websocket","/socket.io"];for(const i of o)try{const c=`${n.wss}${i}`;return console.log(` Testing alternative WSS path: ${c}`),await a(c,"WSS"),console.log(` Alternative WSS path successful: ${c}`),c}catch(c){console.log(` Alternative path ${i} failed: ${c.message}`)}}if(r&&e.startsWith("https"))return console.log(" Endpoint is HTTPS, skipping WS fallback for security"),console.log(` Returning WSS URL even though connection failed: ${n.wss}${t}`),`${n.wss}${t}`;try{const o=`${n.ws}${t}`;return console.log(` Testing WS fallback: ${o}`),await a(o,"WS"),console.log(` WS fallback successful: ${o}`),o}catch(o){console.error(" Both WSS and WS failed:",o.message);const i=r&&e.startsWith("https")?`${n.wss}${t}`:`${n.wss}${t}`;return console.log(` Returning fallback URL: ${i}`),i}}};H("checking");H("checking");H(!1);const Iae={class:"d-flex align-center user-section"},Tae={class:"mx-3"},Fae={class:"d-flex align-center mx-3"},Pae={key:1,class:"d-flex align-center mx-3"},Dae={key:0,class:"extension-content"},Uae={class:"d-flex align-center justify-center pa-2"},Rae={__name:"app-bar",setup(e){const t=pr(),n=au(),{showSuccess:r}=dr(),a=H(null),s=H(!1),o=H(!1),i=H(!1),c=H(!1),A=H(0),u=H(0),f=H(100),m=H(!0),v=H(0),h=H(-1),y=H(1);Z(()=>i.value||u.value>=y.value),Z(()=>i.value||u.value<=h.value);const w=H(!1),b=H(""),B=H("info"),S=H(4e3),T=H(""),N=H(navigator.onLine),k=(U,G="Unknown")=>{console.error(`App Bar Error (${G}):`,U),U?.code==="NETWORK_ERROR"||U?.response?.status>=500||!U?.response?a.value=`${G} error. Please refresh the page or contact support.`:(w.value=!0,b.value=`${G}: ${U?.message||"Unknown error occurred"}`,B.value="warning")},E=Z(()=>{try{return t.getters["appBar/extensionContent"]}catch(U){return k(U,"Extension content loading"),null}}),_=Z(()=>{if(!E.value)return null;try{if(typeof E.value!="object")throw new Error("Invalid extension content format");return E.value.component?{component:E.value.component,props:E.value.props||{}}:(console.warn("Extension content missing component"),null)}catch(U){return k(U,"Extension validation"),null}}),C=async()=>{try{const U=await Ca(()=>import("./app_bar-CucEIrl_.js"),[]);T.value=U.default||U}catch{console.warn("App bar image not found, using fallback"),T.value=""}},F=()=>{console.log("Video button clicked - navigating to Appointments/Teleconsult");try{const U=n.currentRoute.value;U.name==="HomePage"||U.path==="/"?(n.replace({name:"HomePage",params:{tab:"1"}}),r("Navigated to Teleconsultations")):(n.push({name:"HomePage",params:{tab:"1"}}),r("Navigated to Teleconsultations"))}catch(U){console.error("Error navigating to video section:",U),k(U,"Navigation failed")}},I=()=>{console.log("Testing welcome dialog - navigating to /welcome"),n.push("/welcome")},R=async()=>{try{if(window.require){const{ipcRenderer:U}=window.require("electron"),G=await U.invoke("get-zoom-level");G.success&&(u.value=G.zoomLevel,f.value=G.zoomFactor,v.value=G.zoomLevel,h.value=v.value-1,y.value=v.value+1,console.log(`Initial zoom state: level ${G.zoomLevel} (${G.zoomFactor}%)`),console.log(`Zoom limits: ${h.value} to ${y.value}`));const ne=await U.invoke("get-fullscreen-status");ne.success&&(m.value=ne.isFullscreen)}}catch(U){console.warn("Failed to get initial window state:",U)}},M=()=>{N.value=!0,a.value?.includes("network")&&(a.value=null,r("Connection restored"))},te=()=>{N.value=!1,w.value=!0,b.value="You are currently offline. Some features may not work.",B.value="warning",S.value=0},se=U=>{K(U,"selector"),setTimeout(()=>{le.value.has("selector")&&(console.log("Auto-retrying selector component..."),ee("selector"))},3e3)},O=U=>{K(U,"extension")},W=U=>{console.warn("Logout icon failed to load:",U)},le=H(new Set),K=(U,G)=>{console.error(`Child component error in ${G}:`,U),le.value.add(G),le.value.size>2?a.value="Multiple component failures detected. Please refresh the page.":k(U,G)},ee=U=>{le.value.delete(U),A.value+=1},j=H(null);return fn(async()=>{try{await C(),await R(),window.addEventListener("online",M),window.addEventListener("offline",te),j.value=t.watch(U=>U.errors,U=>{U?.appBar&&(k(U.appBar,"Store error"),t.commit("clearError","appBar"))},{deep:!0}),console.log("App bar initialized successfully")}catch(U){k(U,"App bar initialization")}}),Br(()=>{try{window.removeEventListener("online",M),window.removeEventListener("offline",te),j.value&&j.value(),s.value=!1,c.value=!1,w.value=!1,a.value=null,console.log("App bar cleanup completed")}catch(U){console.error("App bar cleanup error:",U)}}),Ge(()=>n.currentRoute.value.path,()=>{a.value&&!a.value.includes("contact support")&&(a.value=null)}),(U,G)=>{const ne=D("v-alert"),X=D("v-spacer"),oe=D("v-btn"),q=D("v-icon"),Y=D("v-tooltip"),ae=D("v-progress-circular"),ge=D("v-chip"),we=D("v-app-bar"),z=D("v-snackbar");return V(),ye("div",null,[a.value?(V(),he(ne,{key:0,type:"error",variant:"tonal",closable:"","onClick:close":G[0]||(G[0]=Ae=>a.value=null),class:"ma-2",density:"compact"},{default:d(()=>[Q(J(a.value),1)]),_:1})):Be("",!0),l(we,{elevation:"1",app:"",extended:!!_.value,density:"compact",class:"professional-app-bar",image:T.value},{default:d(()=>[l(X),Tr(l(oe,{variant:"outlined",color:"warning",size:"small",onClick:I,class:"mx-2","prepend-icon":"mdi-test-tube"},{default:d(()=>[...G[4]||(G[4]=[Q(" Test Welcome ",-1)])]),_:1},512),[[Po,!1]]),p("div",Iae,[l(Y,{text:"Start teleconsultation",location:"bottom"},{activator:d(({props:Ae})=>[l(oe,Ne({icon:"",onClick:F},Ae,{class:"video-btn mx-3",variant:"text",size:"small",disabled:o.value,loading:o.value,"aria-label":"Open Appointments and Teleconsult page"}),{default:d(()=>[l(q,{size:"24"},{default:d(()=>[p("img",{src:xae,alt:"Video Consultation",class:"video-icon",onError:W},null,32)]),_:1})]),_:1},16,["disabled","loading"])]),_:1}),le.value.has("selector")?(V(),ye("div",Pae,[l(ge,{variant:"outlined",size:"small",color:"warning",class:"mr-2"},{default:d(()=>[...G[6]||(G[6]=[Q(" Selection unavailable ",-1)])]),_:1}),l(oe,{size:"x-small",variant:"text",onClick:G[1]||(G[1]=Ae=>ee("selector")),class:"text-caption"},{default:d(()=>[...G[7]||(G[7]=[Q(" Retry ",-1)])]),_:1})])):(V(),he(xC,{key:0},{default:d(()=>[p("div",Tae,[(V(),he(kae,{onError:se,key:A.value}))])]),fallback:d(()=>[p("div",Fae,[l(ae,{indeterminate:"",size:"20",width:"2",color:"primary"}),G[5]||(G[5]=p("span",{class:"ml-2 text-caption"},"Loading...",-1))])]),_:1})),G[8]||(G[8]=p("div",{class:"mx-3 window-controls-container d-flex align-center pa-2"},null,-1))])]),extension:d(()=>[_.value?(V(),ye("div",Dae,[(V(),he(xC,null,{default:d(()=>[(V(),he(rS(_.value.component),Ne(_.value.props||{},{onError:O}),null,16))]),fallback:d(()=>[p("div",Uae,[l(ae,{indeterminate:"",size:"16",width:"2",color:"primary"}),G[9]||(G[9]=p("span",{class:"ml-2 text-caption"},"Loading extension...",-1))])]),_:1}))])):Be("",!0)]),_:1},8,["extended","image"]),l(z,{modelValue:w.value,"onUpdate:modelValue":G[3]||(G[3]=Ae=>w.value=Ae),color:B.value,timeout:S.value,location:"top"},{actions:d(()=>[l(oe,{variant:"text",onClick:G[2]||(G[2]=Ae=>w.value=!1)},{default:d(()=>[...G[10]||(G[10]=[Q(" Close ",-1)])]),_:1})]),default:d(()=>[Q(J(b.value)+" ",1)]),_:1},8,["modelValue","color","timeout"])])}}},Nae=on(Rae,[["__scopeId","data-v-23854169"]]),Lae={name:"UpdateNotification",data(){return{updateAvailable:!1,downloadInProgress:!1,readyToInstall:!1,showError:!1,showSuccess:!1,errorMessage:"",successMessage:"",updateInfo:null,downloadProgress:0,downloadSpeed:0,downloadTransferred:0,downloadTotal:0,isDownloading:!1,isCheckingUpdate:!1,isDevelopment:!1,autoRestartEnabled:!0,canRetry:!1,retryCount:0,lastUpdateCheck:null,currentVersion:"Loading...",showUpdateStatusDialog:!1}},mounted(){this.setupUpdateListeners(),this.loadCurrentVersion()},beforeUnmount(){this.removeUpdateListeners()},computed:{},methods:{setupUpdateListeners(){if(!window.require)return;const{ipcRenderer:e}=window.require("electron");e.on("update-checking",this.onUpdateChecking),e.on("update-available",this.onUpdateAvailable),e.on("update-not-available",this.onUpdateNotAvailable),e.on("download-progress",this.onDownloadProgress),e.on("update-downloaded",this.onUpdateDownloaded),e.on("update-error",this.onUpdateError),e.on("server-ready",this.onServerReady),e.on("download-cancelled",this.onDownloadCancelled)},removeUpdateListeners(){if(!window.require)return;const{ipcRenderer:e}=window.require("electron");e.removeListener("update-checking",this.onUpdateChecking),e.removeListener("update-available",this.onUpdateAvailable),e.removeListener("update-not-available",this.onUpdateNotAvailable),e.removeListener("download-progress",this.onDownloadProgress),e.removeListener("update-downloaded",this.onUpdateDownloaded),e.removeListener("update-error",this.onUpdateError),e.removeListener("server-ready",this.onServerReady),e.removeListener("download-cancelled",this.onDownloadCancelled)},onUpdateChecking(){console.log("Checking for updates..."),this.lastUpdateCheck=new Date,this.isCheckingUpdate||(this.isCheckingUpdate=!0)},onUpdateAvailable(e,t){console.log("Update available:",t),this.updateInfo=t,this.updateAvailable=!0,this.isCheckingUpdate=!1},onUpdateNotAvailable(e,t){console.log("No updates available",t),this.isCheckingUpdate=!1,this.showUpdateStatusDialog=!0},onDownloadProgress(e,t){console.log("Download progress:",t),this.downloadProgress=t.percent||0,this.downloadSpeed=t.bytesPerSecond||0,this.downloadTransferred=t.transferred||0,this.downloadTotal=t.total||0,!this.downloadInProgress&&this.isDownloading&&(console.log("Showing download progress dialog"),this.downloadInProgress=!0,this.updateAvailable=!1),this.downloadProgress>0&&this.downloadProgress%25===0&&console.log(`Download ${Math.round(this.downloadProgress)}% complete`)},async onUpdateDownloaded(e,t){console.log("Update downloaded:",t),this.downloadInProgress=!1,this.isDownloading=!1,this.autoRestartEnabled?(this.successMessage=`Update ${t.version} downloaded successfully! Restarting application...`,this.showSuccess=!0,setTimeout(async()=>{console.log("Auto-restarting application to install update..."),await this.installNow()},2e3)):(this.readyToInstall=!0,this.successMessage=`Update ${t.version} downloaded successfully!`,this.showSuccess=!0)},onUpdateError(e,t){console.error("Update error:",t),this.showError=!0,t.errorType==="checksum_mismatch"||t.code==="ERR_CHECKSUM_MISMATCH"?(this.errorMessage=t.message||"Download verification failed. The file may be corrupted. Please try downloading again.",this.canRetry=t.canRetry!==!1,this.retryCount=t.retryCount||0):(this.errorMessage=`Update failed: ${t.message}`,this.canRetry=!1),this.isDownloading=!1,this.isCheckingUpdate=!1,this.downloadInProgress=!1,this.downloadProgress=0,this.downloadSpeed=0,this.downloadTransferred=0,this.downloadTotal=0},onServerReady(){console.log("Server is ready")},onDownloadCancelled(){console.log("Download was cancelled by main process"),this.downloadInProgress=!1,this.isDownloading=!1,this.downloadProgress=0,this.downloadSpeed=0,this.downloadTransferred=0,this.downloadTotal=0},async loadCurrentVersion(){try{if(!window.require)return;const{ipcRenderer:e}=window.require("electron"),t=await e.invoke("get-app-config");this.currentVersion=t.version||"Unknown"}catch(e){console.error("Failed to load current version:",e),this.currentVersion="Unknown"}},async checkForUpdates(){if(!window.require)return;const{ipcRenderer:e}=window.require("electron");try{this.isCheckingUpdate=!0,this.lastUpdateCheck=new Date;const t=await e.invoke("check-for-updates");console.log("Update check result:",t),setTimeout(()=>{this.isCheckingUpdate&&(this.isCheckingUpdate=!1,this.updateAvailable)},2e3)}catch(t){console.error("Failed to check for updates:",t),this.showError=!0,this.errorMessage="Failed to check for updates",this.isCheckingUpdate=!1}},async downloadUpdate(){if(!window.require)return;const{ipcRenderer:e}=window.require("electron");try{this.isDownloading=!0,this.errorMessage="",this.showError=!1,console.log("Starting update download...");const t=await e.invoke("download-update");if(t.success)console.log("Download started successfully");else throw new Error(t.error||"Failed to start download")}catch(t){console.error("Failed to start download:",t),this.showError=!0,this.errorMessage=`Failed to start download: ${t.message}`,this.isDownloading=!1}},dismissUpdate(){this.updateAvailable=!1,this.updateInfo=null},async installNow(){if(!window.require){console.error("Electron IPC not available"),this.showError=!0,this.errorMessage="Cannot restart application - Electron IPC not available";return}const{ipcRenderer:e}=window.require("electron");try{console.log("Requesting application restart and update installation..."),await e.invoke("quit-and-install"),console.warn("Application did not quit as expected")}catch(t){console.error("Failed to install update:",t),this.showError=!0,this.errorMessage=`Failed to install update: ${t.message}`,this.readyToInstall=!0}},installLater(){this.readyToInstall=!1},formatReleaseNotes(e){return e?e.replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/- (.*?)(<br>|$)/g," $1$2"):""},formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},formatBytes(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(1))+" "+n[r]},formatTimeRemaining(){if(this.downloadSpeed===0||this.downloadProgress===0||this.downloadProgress===100)return"Calculating...";const t=(this.downloadTotal-this.downloadTransferred)*1e3/(this.downloadSpeed*1e3),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=Math.floor(t%60);return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},async cancelDownload(){try{if(this.downloadInProgress=!1,this.isDownloading=!1,this.downloadProgress=0,this.downloadSpeed=0,this.downloadTransferred=0,this.downloadTotal=0,window.require){const{ipcRenderer:e}=window.require("electron");await e.invoke("cancel-update-download"),console.log("Download cancelled successfully"),this.successMessage="Download cancelled successfully",this.showSuccess=!0}}catch(e){console.error("Failed to cancel download:",e),this.showError=!0,this.errorMessage="Failed to cancel download"}},async retryDownload(){if(!window.require)return;const{ipcRenderer:e}=window.require("electron");try{this.showError=!1,this.errorMessage="",console.log("Cleaning up corrupted download files...");const t=await e.invoke("cleanup-corrupted-download");t.success?console.log("Download cache cleared successfully"):console.warn("Failed to cleanup download cache:",t.error),await new Promise(n=>setTimeout(n,1e3)),await this.downloadUpdate()}catch(t){console.error("Failed to retry download:",t),this.showError=!0,this.errorMessage="Failed to retry download. Please try again."}},handleUpdateCheckEvent(){console.log("Updates check triggered from external source"),this.checkForUpdates()},formatLastCheckTime(e){if(!e)return"Never";const n=new Date-e,r=Math.floor(n/6e4),a=Math.floor(n/36e5),s=Math.floor(n/864e5);return s>0?`${s} day${s>1?"s":""} ago`:a>0?`${a} hour${a>1?"s":""} ago`:r>0?`${r} minute${r>1?"s":""} ago`:"Just now"}}},Vae={key:0},Mae={class:"mb-3"},Oae={key:0,class:"mb-3"},Qae=["innerHTML"],Hae={key:1,class:"mb-2"},Kae={class:"text--secondary"},Gae={key:2,class:"mb-2"},zae={class:"text--secondary"},$ae={class:"text-center mb-3"},Wae={class:"mt-3 text-center text--secondary"},jae={key:0};function Jae(e,t,n,r,a,s){const o=D("v-icon"),i=D("v-card-title"),c=D("v-card-text"),A=D("v-spacer"),u=D("v-btn"),f=D("v-card-actions"),m=D("v-card"),v=D("v-dialog"),h=D("v-progress-circular"),y=D("v-progress-linear"),w=D("v-snackbar");return V(),ye("div",null,[l(v,{modelValue:a.updateAvailable,"onUpdate:modelValue":t[0]||(t[0]=b=>a.updateAvailable=b),"max-width":"500",persistent:""},{default:d(()=>[l(m,null,{default:d(()=>[l(i,{class:"text-h5 primary white--text"},{default:d(()=>[l(o,{left:"",color:"white"},{default:d(()=>[...t[7]||(t[7]=[Q("mdi-download",-1)])]),_:1}),t[8]||(t[8]=Q(" Update Available ",-1))]),_:1}),l(c,{class:"pt-4"},{default:d(()=>[a.updateInfo?(V(),ye("div",Vae,[p("p",Mae,[p("strong",null,"Version "+J(a.updateInfo.version),1),t[9]||(t[9]=Q(" is now available! ",-1))]),a.updateInfo.releaseNotes?(V(),ye("div",Oae,[t[10]||(t[10]=p("h4",{class:"mb-2"},"What's New:",-1)),p("div",{class:"release-notes",innerHTML:s.formatReleaseNotes(a.updateInfo.releaseNotes)},null,8,Qae)])):Be("",!0),a.updateInfo.releaseDate?(V(),ye("div",Hae,[p("small",Kae," Released: "+J(s.formatDate(a.updateInfo.releaseDate)),1)])):Be("",!0),a.updateInfo.files&&a.updateInfo.files.length>0?(V(),ye("div",Gae,[p("small",zae," Size: "+J(s.formatBytes(a.updateInfo.files[0].size||0)),1)])):Be("",!0)])):Be("",!0),t[11]||(t[11]=p("p",{class:"mb-0"}," Would you like to download and install the update now? ",-1))]),_:1}),l(f,null,{default:d(()=>[l(A),l(u,{text:"",onClick:s.dismissUpdate,class:"btn-hover-base"},{default:d(()=>[...t[12]||(t[12]=[Q(" Later ",-1)])]),_:1},8,["onClick"]),l(u,{color:"primary",onClick:s.downloadUpdate,loading:a.isDownloading,class:"btn-hover-enhanced"},{default:d(()=>[...t[13]||(t[13]=[Q(" Download & Install ",-1)])]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(v,{modelValue:a.downloadInProgress,"onUpdate:modelValue":t[1]||(t[1]=b=>a.downloadInProgress=b),"max-width":"400",persistent:""},{default:d(()=>[l(m,null,{default:d(()=>[l(i,{class:"text-h6"},{default:d(()=>[l(o,{left:""},{default:d(()=>[...t[14]||(t[14]=[Q("mdi-download",-1)])]),_:1}),t[15]||(t[15]=Q(" Downloading Update ",-1))]),_:1}),l(c,null,{default:d(()=>[p("div",$ae,[l(h,{value:a.downloadProgress,size:"80",width:"8",color:"primary"},{default:d(()=>[Q(J(Math.round(a.downloadProgress))+"% ",1)]),_:1},8,["value"])]),l(y,{value:a.downloadProgress,color:"primary",height:"6",rounded:""},null,8,["value"]),p("div",Wae,[p("small",null,[Q(J(s.formatBytes(a.downloadTransferred))+" / "+J(s.formatBytes(a.downloadTotal))+" ",1),t[16]||(t[16]=p("br",null,null,-1)),Q(" Speed: "+J(s.formatBytes(a.downloadSpeed))+"/s ",1),t[17]||(t[17]=p("br",null,null,-1)),a.downloadSpeed>0?(V(),ye("span",jae," ETA: "+J(s.formatTimeRemaining()),1)):Be("",!0)])])]),_:1}),l(f,null,{default:d(()=>[l(A),l(u,{text:"",onClick:s.cancelDownload,disabled:a.downloadProgress>90},{default:d(()=>[...t[18]||(t[18]=[Q(" Cancel ",-1)])]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(v,{modelValue:a.readyToInstall,"onUpdate:modelValue":t[2]||(t[2]=b=>a.readyToInstall=b),"max-width":"400",persistent:""},{default:d(()=>[l(m,null,{default:d(()=>[l(i,{class:"text-h5 success white--text"},{default:d(()=>[l(o,{left:"",color:"white"},{default:d(()=>[...t[19]||(t[19]=[Q("mdi-check-circle",-1)])]),_:1}),t[20]||(t[20]=Q(" Update Ready ",-1))]),_:1}),l(c,{class:"pt-4"},{default:d(()=>[...t[21]||(t[21]=[p("p",null," The update has been downloaded successfully. The application will restart to apply the update. ",-1),p("p",{class:"mb-0"},[p("strong",null,"Note:"),Q(" Any unsaved work will be lost. ")],-1)])]),_:1}),l(f,null,{default:d(()=>[l(A),l(u,{text:"",onClick:s.installLater},{default:d(()=>[...t[22]||(t[22]=[Q(" Restart Later ",-1)])]),_:1},8,["onClick"]),l(u,{color:"success",onClick:s.installNow},{default:d(()=>[...t[23]||(t[23]=[Q(" Restart Now ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(w,{modelValue:a.showError,"onUpdate:modelValue":t[4]||(t[4]=b=>a.showError=b),color:"error",timeout:"0",top:""},{action:d(({attrs:b})=>[a.canRetry?(V(),he(u,Ne({key:0,text:""},b,{onClick:s.retryDownload}),{default:d(()=>[...t[25]||(t[25]=[Q(" Retry ",-1)])]),_:1},16,["onClick"])):Be("",!0),l(u,Ne({text:""},b,{onClick:t[3]||(t[3]=B=>a.showError=!1)}),{default:d(()=>[...t[26]||(t[26]=[Q(" Close ",-1)])]),_:1},16)]),default:d(()=>[l(o,{left:""},{default:d(()=>[...t[24]||(t[24]=[Q("mdi-alert",-1)])]),_:1}),Q(" "+J(a.errorMessage)+" ",1)]),_:1},8,["modelValue"]),l(w,{modelValue:a.showSuccess,"onUpdate:modelValue":t[6]||(t[6]=b=>a.showSuccess=b),color:"success",timeout:"4000",top:""},{action:d(({attrs:b})=>[l(u,Ne({text:""},b,{onClick:t[5]||(t[5]=B=>a.showSuccess=!1)}),{default:d(()=>[...t[28]||(t[28]=[Q(" Close ",-1)])]),_:1},16)]),default:d(()=>[l(o,{left:""},{default:d(()=>[...t[27]||(t[27]=[Q("mdi-check-circle",-1)])]),_:1}),Q(" "+J(a.successMessage)+" ",1)]),_:1},8,["modelValue"])])}const qae=on(Lae,[["render",Jae],["__scopeId","data-v-b62dff2a"]]),Yae={__name:"App",setup(e){const t=pr(),n=au(),{snackbar:r}=dr(),a=H(!1);Z(()=>t.getters["auth/isAuthenticated"]);const s=Z(()=>(n.currentRoute.value.path,!0));window.addEventListener("collapse-side-nav",c=>o(c.detail)),fn(async()=>{console.log("App mounted")});const o=c=>{a.value=c},i=c=>{t.dispatch("snackbar/showSnackbar",c)};return(c,A)=>{const u=D("router-view"),f=D("v-btn"),m=D("v-snackbar"),v=D("v-app");return V(),he(v,null,{default:d(()=>[s.value?(V(),he(wae,{key:0,collapsed:a.value},null,8,["collapsed"])):Be("",!0),s.value?(V(),he(Nae,{key:1})):Be("",!0),l(u,null,{default:d(({Component:h})=>[(V(),he(rS(h)))]),_:1}),l(qae,{onShowSnackbar:i}),l(m,{modelValue:We(r).show,"onUpdate:modelValue":A[1]||(A[1]=h=>We(r).show=h),color:We(r).color,timeout:We(r).timeout,top:"",right:""},{action:d(({attrs:h})=>[l(f,Ne({text:""},h,{onClick:A[0]||(A[0]=y=>We(t).dispatch("snackbar/hideSnackbar"))}),{default:d(()=>[...A[2]||(A[2]=[Q(" Close ",-1)])]),_:1},16)]),default:d(()=>[Q(J(We(r).message)+" ",1)]),_:1},8,["modelValue","color","timeout"])]),_:1})}}},dw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M17.65,6.35C16.2,4.9%2014.21,4%2012,4A8,8%200%200,0%204,12A8,8%200%200,0%2012,20C15.73,20%2018.84,17.45%2019.73,14H17.65C16.83,16.33%2014.61,18%2012,18A6,6%200%200,1%206,12A6,6%200%200,1%2012,6C13.66,6%2015.14,6.69%2016.22,7.78L13,11H20V4L17.65,6.35Z'%20/%3e%3c/svg%3e",Xae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M5%206C3.9%206%203%206.9%203%208S3.9%2010%205%2010%207%209.11%207%208%206.11%206%205%206M12%204C10.9%204%2010%204.89%2010%206S10.9%208%2012%208%2014%207.11%2014%206%2013.11%204%2012%204M19%202C17.9%202%2017%202.9%2017%204S17.9%206%2019%206%2021%205.11%2021%204%2020.11%202%2019%202M3.5%2011C2.67%2011%202%2011.67%202%2012.5V17H3V22H7V17H8V12.5C8%2011.67%207.33%2011%206.5%2011H3.5M10.5%209C9.67%209%209%209.67%209%2010.5V15H10V20H14V15H15V10.5C15%209.67%2014.33%209%2013.5%209H10.5M17.5%207C16.67%207%2016%207.67%2016%208.5V13H17V18H21V13H22V8.5C22%207.67%2021.33%207%2020.5%207H17.5Z'%20/%3e%3c/svg%3e",Zae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M21.1,12.5L22.5,13.91L15.97,20.5L12.5,17L13.9,15.59L15.97,17.67L21.1,12.5M10,17L13,20H3V18C3,15.79%206.58,14%2011,14L12.89,14.11L10,17M11,4A4,4%200%200,1%2015,8A4,4%200%200,1%2011,12A4,4%200%200,1%207,8A4,4%200%200,1%2011,4Z'%20/%3e%3c/svg%3e",ese="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M10%204A4%204%200%200%200%206%208A4%204%200%200%200%2010%2012A4%204%200%200%200%2014%208A4%204%200%200%200%2010%204M17.5%2013C15%2013%2013%2015%2013%2017.5C13%2020%2015%2022%2017.5%2022C20%2022%2022%2020%2022%2017.5C22%2015%2020%2013%2017.5%2013M10%2014C5.58%2014%202%2015.79%202%2018V20H11.5A6.5%206.5%200%200%201%2011%2017.5A6.5%206.5%200%200%201%2011.95%2014.14C11.32%2014.06%2010.68%2014%2010%2014M17.5%2014.5C19.16%2014.5%2020.5%2015.84%2020.5%2017.5C20.5%2018.06%2020.35%2018.58%2020.08%2019L16%2014.92C16.42%2014.65%2016.94%2014.5%2017.5%2014.5M14.92%2016L19%2020.08C18.58%2020.35%2018.06%2020.5%2017.5%2020.5C15.84%2020.5%2014.5%2019.16%2014.5%2017.5C14.5%2016.94%2014.65%2016.42%2014.92%2016Z'%20/%3e%3c/svg%3e",tse="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M10.63,14.1C12.23,10.58%2016.38,9.03%2019.9,10.63C23.42,12.23%2024.97,16.38%2023.37,19.9C22.24,22.4%2019.75,24%2017,24C14.3,24%2011.83,22.44%2010.67,20H1V18C1.06,16.86%201.84,15.93%203.34,15.18C4.84,14.43%206.72,14.04%209,14C9.57,14%2010.11,14.05%2010.63,14.1V14.1M9,4C10.12,4.03%2011.06,4.42%2011.81,5.17C12.56,5.92%2012.93,6.86%2012.93,8C12.93,9.14%2012.56,10.08%2011.81,10.83C11.06,11.58%2010.12,11.95%209,11.95C7.88,11.95%206.94,11.58%206.19,10.83C5.44,10.08%205.07,9.14%205.07,8C5.07,6.86%205.44,5.92%206.19,5.17C6.94,4.42%207.88,4.03%209,4M17,22A5,5%200%200,0%2022,17A5,5%200%200,0%2017,12A5,5%200%200,0%2012,17A5,5%200%200,0%2017,22M16,14H17.5V16.82L19.94,18.23L19.19,19.53L16,17.69V14Z'%20/%3e%3c/svg%3e",Jb="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M11.15,15.18L9.73,13.77L11.15,12.35L12.56,13.77L13.97,12.35L12.56,10.94L13.97,9.53L15.39,10.94L16.8,9.53L13.97,6.7L6.9,13.77L9.73,16.6L11.15,15.18M3.08,19L6.2,15.89L4.08,13.77L13.97,3.87L16.1,6L17.5,4.58L16.1,3.16L17.5,1.75L21.75,6L20.34,7.4L18.92,6L17.5,7.4L19.63,9.53L9.73,19.42L7.61,17.3L3.08,21.84V19Z'%20/%3e%3c/svg%3e",sm="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M20.71,7.04C21.1,6.65%2021.1,6%2020.71,5.63L18.37,3.29C18,2.9%2017.35,2.9%2016.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z'%20/%3e%3c/svg%3e",zu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2%200%200,0%208,21H16A2,2%200%200,0%2018,19V7H6V19Z'%20/%3e%3c/svg%3e",hl="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z'%20/%3e%3c/svg%3e";function T5(e,t){return function(){return e.apply(t,arguments)}}const{toString:nse}=Object.prototype,{getPrototypeOf:PS}=Object,{iterator:Aw,toStringTag:F5}=Symbol,fw=(e=>t=>{const n=nse.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vl=e=>(e=e.toLowerCase(),t=>fw(t)===e),mw=e=>t=>typeof t===e,{isArray:$m}=Array,Im=mw("undefined");function cp(e){return e!==null&&!Im(e)&&e.constructor!==null&&!Im(e.constructor)&&To(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const P5=vl("ArrayBuffer");function rse(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&P5(e.buffer),t}const ase=mw("string"),To=mw("function"),D5=mw("number"),up=e=>e!==null&&typeof e=="object",sse=e=>e===!0||e===!1,Y1=e=>{if(fw(e)!=="object")return!1;const t=PS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(F5 in e)&&!(Aw in e)},ose=e=>{if(!up(e)||cp(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ise=vl("Date"),lse=vl("File"),cse=vl("Blob"),use=vl("FileList"),dse=e=>up(e)&&To(e.pipe),Ase=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||To(e.append)&&((t=fw(e))==="formdata"||t==="object"&&To(e.toString)&&e.toString()==="[object FormData]"))},fse=vl("URLSearchParams"),[mse,hse,vse,pse]=["ReadableStream","Request","Response","Headers"].map(vl),gse=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dp(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),$m(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(cp(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let i;for(r=0;r<o;r++)i=s[r],t.call(null,e[i],i,e)}}function U5(e,t){if(cp(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,R5=e=>!Im(e)&&e!==Jd;function zC(){const{caseless:e,skipUndefined:t}=R5(this)&&this||{},n={},r=(a,s)=>{const o=e&&U5(n,s)||s;Y1(n[o])&&Y1(a)?n[o]=zC(n[o],a):Y1(a)?n[o]=zC({},a):$m(a)?n[o]=a.slice():(!t||!Im(a))&&(n[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&dp(arguments[a],r);return n}const yse=(e,t,n,{allOwnKeys:r}={})=>(dp(t,(a,s)=>{n&&To(a)?e[s]=T5(a,n):e[s]=a},{allOwnKeys:r}),e),wse=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_se=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},bse=(e,t,n,r)=>{let a,s,o;const i={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!r||r(o,e,t))&&!i[o]&&(t[o]=e[o],i[o]=!0);e=n!==!1&&PS(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},xse=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Cse=e=>{if(!e)return null;if($m(e))return e;let t=e.length;if(!D5(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ese=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&PS(Uint8Array)),Bse=(e,t)=>{const r=(e&&e[Aw]).call(e);let a;for(;(a=r.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},Sse=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},kse=vl("HTMLFormElement"),Ise=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),YP=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Tse=vl("RegExp"),N5=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};dp(n,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(r[s]=o||a)}),Object.defineProperties(e,r)},Fse=e=>{N5(e,(t,n)=>{if(To(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(To(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Pse=(e,t)=>{const n={},r=a=>{a.forEach(s=>{n[s]=!0})};return $m(e)?r(e):r(String(e).split(t)),n},Dse=()=>{},Use=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Rse(e){return!!(e&&To(e.append)&&e[F5]==="FormData"&&e[Aw])}const Nse=e=>{const t=new Array(10),n=(r,a)=>{if(up(r)){if(t.indexOf(r)>=0)return;if(cp(r))return r;if(!("toJSON"in r)){t[a]=r;const s=$m(r)?[]:{};return dp(r,(o,i)=>{const c=n(o,a+1);!Im(c)&&(s[i]=c)}),t[a]=void 0,s}}return r};return n(e,0)},Lse=vl("AsyncFunction"),Vse=e=>e&&(up(e)||To(e))&&To(e.then)&&To(e.catch),L5=((e,t)=>e?setImmediate:t?((n,r)=>(Jd.addEventListener("message",({source:a,data:s})=>{a===Jd&&s===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Jd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",To(Jd.postMessage)),Mse=typeof queueMicrotask<"u"?queueMicrotask.bind(Jd):typeof process<"u"&&process.nextTick||L5,Ose=e=>e!=null&&To(e[Aw]),gt={isArray:$m,isArrayBuffer:P5,isBuffer:cp,isFormData:Ase,isArrayBufferView:rse,isString:ase,isNumber:D5,isBoolean:sse,isObject:up,isPlainObject:Y1,isEmptyObject:ose,isReadableStream:mse,isRequest:hse,isResponse:vse,isHeaders:pse,isUndefined:Im,isDate:ise,isFile:lse,isBlob:cse,isRegExp:Tse,isFunction:To,isStream:dse,isURLSearchParams:fse,isTypedArray:Ese,isFileList:use,forEach:dp,merge:zC,extend:yse,trim:gse,stripBOM:wse,inherits:_se,toFlatObject:bse,kindOf:fw,kindOfTest:vl,endsWith:xse,toArray:Cse,forEachEntry:Bse,matchAll:Sse,isHTMLForm:kse,hasOwnProperty:YP,hasOwnProp:YP,reduceDescriptors:N5,freezeMethods:Fse,toObjectSet:Pse,toCamelCase:Ise,noop:Dse,toFiniteNumber:Use,findKey:U5,global:Jd,isContextDefined:R5,isSpecCompliantForm:Rse,toJSONObject:Nse,isAsyncFn:Lse,isThenable:Vse,setImmediate:L5,asap:Mse,isIterable:Ose};function Ln(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}gt.inherits(Ln,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gt.toJSONObject(this.config),code:this.code,status:this.status}}});const V5=Ln.prototype,M5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{M5[e]={value:e}});Object.defineProperties(Ln,M5);Object.defineProperty(V5,"isAxiosError",{value:!0});Ln.from=(e,t,n,r,a,s)=>{const o=Object.create(V5);gt.toFlatObject(e,o,function(u){return u!==Error.prototype},A=>A!=="isAxiosError");const i=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Ln.call(o,i,c,n,r,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const Qse=null;function $C(e){return gt.isPlainObject(e)||gt.isArray(e)}function O5(e){return gt.endsWith(e,"[]")?e.slice(0,-2):e}function XP(e,t,n){return e?e.concat(t).map(function(a,s){return a=O5(a),!n&&s?"["+a+"]":a}).join(n?".":""):t}function Hse(e){return gt.isArray(e)&&!e.some($C)}const Kse=gt.toFlatObject(gt,{},null,function(t){return/^is[A-Z]/.test(t)});function hw(e,t,n){if(!gt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=gt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!gt.isUndefined(w[y])});const r=n.metaTokens,a=n.visitor||u,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&gt.isSpecCompliantForm(t);if(!gt.isFunction(a))throw new TypeError("visitor must be a function");function A(h){if(h===null)return"";if(gt.isDate(h))return h.toISOString();if(gt.isBoolean(h))return h.toString();if(!c&&gt.isBlob(h))throw new Ln("Blob is not supported. Use a Buffer instead.");return gt.isArrayBuffer(h)||gt.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,y,w){let b=h;if(h&&!w&&typeof h=="object"){if(gt.endsWith(y,"{}"))y=r?y:y.slice(0,-2),h=JSON.stringify(h);else if(gt.isArray(h)&&Hse(h)||(gt.isFileList(h)||gt.endsWith(y,"[]"))&&(b=gt.toArray(h)))return y=O5(y),b.forEach(function(S,T){!(gt.isUndefined(S)||S===null)&&t.append(o===!0?XP([y],T,s):o===null?y:y+"[]",A(S))}),!1}return $C(h)?!0:(t.append(XP(w,y,s),A(h)),!1)}const f=[],m=Object.assign(Kse,{defaultVisitor:u,convertValue:A,isVisitable:$C});function v(h,y){if(!gt.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(h),gt.forEach(h,function(b,B){(!(gt.isUndefined(b)||b===null)&&a.call(t,b,gt.isString(B)?B.trim():B,y,m))===!0&&v(b,y?y.concat(B):[B])}),f.pop()}}if(!gt.isObject(e))throw new TypeError("data must be an object");return v(e),t}function ZP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function DS(e,t){this._pairs=[],e&&hw(e,this,t)}const Q5=DS.prototype;Q5.append=function(t,n){this._pairs.push([t,n])};Q5.toString=function(t){const n=t?function(r){return t.call(this,r,ZP)}:ZP;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Gse(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function H5(e,t,n){if(!t)return e;const r=n&&n.encode||Gse;gt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(a?s=a(t,n):s=gt.isURLSearchParams(t)?t.toString():new DS(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class eD{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){gt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const K5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zse=typeof URLSearchParams<"u"?URLSearchParams:DS,$se=typeof FormData<"u"?FormData:null,Wse=typeof Blob<"u"?Blob:null,jse={isBrowser:!0,classes:{URLSearchParams:zse,FormData:$se,Blob:Wse},protocols:["http","https","file","blob","url","data"]},US=typeof window<"u"&&typeof document<"u",WC=typeof navigator=="object"&&navigator||void 0,Jse=US&&(!WC||["ReactNative","NativeScript","NS"].indexOf(WC.product)<0),qse=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yse=US&&window.location.href||"http://localhost",Xse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:US,hasStandardBrowserEnv:Jse,hasStandardBrowserWebWorkerEnv:qse,navigator:WC,origin:Yse},Symbol.toStringTag,{value:"Module"})),Ds={...Xse,...jse};function Zse(e,t){return hw(e,new Ds.classes.URLSearchParams,{visitor:function(n,r,a,s){return Ds.isNode&&gt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function eoe(e){return gt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function toe(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}function G5(e){function t(n,r,a,s){let o=n[s++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),c=s>=n.length;return o=!o&&gt.isArray(a)?a.length:o,c?(gt.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!i):((!a[o]||!gt.isObject(a[o]))&&(a[o]=[]),t(n,r,a[o],s)&&gt.isArray(a[o])&&(a[o]=toe(a[o])),!i)}if(gt.isFormData(e)&&gt.isFunction(e.entries)){const n={};return gt.forEachEntry(e,(r,a)=>{t(eoe(r),a,n,0)}),n}return null}function noe(e,t,n){if(gt.isString(e))try{return(t||JSON.parse)(e),gt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ap={transitional:K5,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,s=gt.isObject(t);if(s&&gt.isHTMLForm(t)&&(t=new FormData(t)),gt.isFormData(t))return a?JSON.stringify(G5(t)):t;if(gt.isArrayBuffer(t)||gt.isBuffer(t)||gt.isStream(t)||gt.isFile(t)||gt.isBlob(t)||gt.isReadableStream(t))return t;if(gt.isArrayBufferView(t))return t.buffer;if(gt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Zse(t,this.formSerializer).toString();if((i=gt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return hw(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(n.setContentType("application/json",!1),noe(t)):t}],transformResponse:[function(t){const n=this.transitional||Ap.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(gt.isResponse(t)||gt.isReadableStream(t))return t;if(t&&gt.isString(t)&&(r&&!this.responseType||a)){const o=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(i){if(o)throw i.name==="SyntaxError"?Ln.from(i,Ln.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ds.classes.FormData,Blob:Ds.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};gt.forEach(["delete","get","head","post","put","patch"],e=>{Ap.headers[e]={}});const roe=gt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aoe=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),n=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!n||t[n]&&roe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},tD=Symbol("internals");function Yh(e){return e&&String(e).trim().toLowerCase()}function X1(e){return e===!1||e==null?e:gt.isArray(e)?e.map(X1):String(e)}function soe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ooe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qb(e,t,n,r,a){if(gt.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!gt.isString(t)){if(gt.isString(r))return t.indexOf(r)!==-1;if(gt.isRegExp(r))return r.test(t)}}function ioe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function loe(e,t){const n=gt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,s,o){return this[r].call(this,t,a,s,o)},configurable:!0})})}let Fo=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function s(i,c,A){const u=Yh(c);if(!u)throw new Error("header name must be a non-empty string");const f=gt.findKey(a,u);(!f||a[f]===void 0||A===!0||A===void 0&&a[f]!==!1)&&(a[f||c]=X1(i))}const o=(i,c)=>gt.forEach(i,(A,u)=>s(A,u,c));if(gt.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(gt.isString(t)&&(t=t.trim())&&!ooe(t))o(aoe(t),n);else if(gt.isObject(t)&&gt.isIterable(t)){let i={},c,A;for(const u of t){if(!gt.isArray(u))throw TypeError("Object iterator must return a key-value pair");i[A=u[0]]=(c=i[A])?gt.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(i,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=Yh(t),t){const r=gt.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return soe(a);if(gt.isFunction(n))return n.call(this,a,r);if(gt.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Yh(t),t){const r=gt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||qb(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function s(o){if(o=Yh(o),o){const i=gt.findKey(r,o);i&&(!n||qb(r,r[i],i,n))&&(delete r[i],a=!0)}}return gt.isArray(t)?t.forEach(s):s(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const s=n[r];(!t||qb(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const n=this,r={};return gt.forEach(this,(a,s)=>{const o=gt.findKey(r,s);if(o){n[o]=X1(a),delete n[s];return}const i=t?ioe(s):String(s).trim();i!==s&&delete n[s],n[i]=X1(a),r[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return gt.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&gt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[tD]=this[tD]={accessors:{}}).accessors,a=this.prototype;function s(o){const i=Yh(o);r[i]||(loe(a,o),r[i]=!0)}return gt.isArray(t)?t.forEach(s):s(t),this}};Fo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);gt.reduceDescriptors(Fo.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});gt.freezeMethods(Fo);function Yb(e,t){const n=this||Ap,r=t||n,a=Fo.from(r.headers);let s=r.data;return gt.forEach(e,function(i){s=i.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function z5(e){return!!(e&&e.__CANCEL__)}function Wm(e,t,n){Ln.call(this,e??"canceled",Ln.ERR_CANCELED,t,n),this.name="CanceledError"}gt.inherits(Wm,Ln,{__CANCEL__:!0});function $5(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ln("Request failed with status code "+n.status,[Ln.ERR_BAD_REQUEST,Ln.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function coe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uoe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const A=Date.now(),u=r[s];o||(o=A),n[a]=c,r[a]=A;let f=s,m=0;for(;f!==a;)m+=n[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),A-o<t)return;const v=u&&A-u;return v?Math.round(m*1e3/v):void 0}}function doe(e,t){let n=0,r=1e3/t,a,s;const o=(A,u=Date.now())=>{n=u,a=null,s&&(clearTimeout(s),s=null),e(...A)};return[(...A)=>{const u=Date.now(),f=u-n;f>=r?o(A,u):(a=A,s||(s=setTimeout(()=>{s=null,o(a)},r-f)))},()=>a&&o(a)]}const My=(e,t,n=3)=>{let r=0;const a=uoe(50,250);return doe(s=>{const o=s.loaded,i=s.lengthComputable?s.total:void 0,c=o-r,A=a(c),u=o<=i;r=o;const f={loaded:o,total:i,progress:i?o/i:void 0,bytes:c,rate:A||void 0,estimated:A&&i&&u?(i-o)/A:void 0,event:s,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(f)},n)},nD=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},rD=e=>(...t)=>gt.asap(()=>e(...t)),Aoe=Ds.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ds.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ds.origin),Ds.navigator&&/(msie|trident)/i.test(Ds.navigator.userAgent)):()=>!0,foe=Ds.hasStandardBrowserEnv?{write(e,t,n,r,a,s,o){if(typeof document>"u")return;const i=[`${e}=${encodeURIComponent(t)}`];gt.isNumber(n)&&i.push(`expires=${new Date(n).toUTCString()}`),gt.isString(r)&&i.push(`path=${r}`),gt.isString(a)&&i.push(`domain=${a}`),s===!0&&i.push("secure"),gt.isString(o)&&i.push(`SameSite=${o}`),document.cookie=i.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function moe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hoe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function W5(e,t,n){let r=!moe(t);return e&&(r||n==!1)?hoe(e,t):t}const aD=e=>e instanceof Fo?{...e}:e;function wA(e,t){t=t||{};const n={};function r(A,u,f,m){return gt.isPlainObject(A)&&gt.isPlainObject(u)?gt.merge.call({caseless:m},A,u):gt.isPlainObject(u)?gt.merge({},u):gt.isArray(u)?u.slice():u}function a(A,u,f,m){if(gt.isUndefined(u)){if(!gt.isUndefined(A))return r(void 0,A,f,m)}else return r(A,u,f,m)}function s(A,u){if(!gt.isUndefined(u))return r(void 0,u)}function o(A,u){if(gt.isUndefined(u)){if(!gt.isUndefined(A))return r(void 0,A)}else return r(void 0,u)}function i(A,u,f){if(f in t)return r(A,u);if(f in e)return r(void 0,A)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(A,u,f)=>a(aD(A),aD(u),f,!0)};return gt.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||a,m=f(e[u],t[u],u);gt.isUndefined(m)&&f!==i||(n[u]=m)}),n}const j5=e=>{const t=wA({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:i}=t;if(t.headers=o=Fo.from(o),t.url=H5(W5(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),gt.isFormData(n)){if(Ds.hasStandardBrowserEnv||Ds.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(gt.isFunction(n.getHeaders)){const c=n.getHeaders(),A=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{A.includes(u.toLowerCase())&&o.set(u,f)})}}if(Ds.hasStandardBrowserEnv&&(r&&gt.isFunction(r)&&(r=r(t)),r||r!==!1&&Aoe(t.url))){const c=a&&s&&foe.read(s);c&&o.set(a,c)}return t},voe=typeof XMLHttpRequest<"u",poe=voe&&function(e){return new Promise(function(n,r){const a=j5(e);let s=a.data;const o=Fo.from(a.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:A}=a,u,f,m,v,h;function y(){v&&v(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function b(){if(!w)return;const S=Fo.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),N={data:!i||i==="text"||i==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:S,config:e,request:w};$5(function(E){n(E),y()},function(E){r(E),y()},N),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(r(new Ln("Request aborted",Ln.ECONNABORTED,e,w)),w=null)},w.onerror=function(T){const N=T&&T.message?T.message:"Network Error",k=new Ln(N,Ln.ERR_NETWORK,e,w);k.event=T||null,r(k),w=null},w.ontimeout=function(){let T=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||K5;a.timeoutErrorMessage&&(T=a.timeoutErrorMessage),r(new Ln(T,N.clarifyTimeoutError?Ln.ETIMEDOUT:Ln.ECONNABORTED,e,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&gt.forEach(o.toJSON(),function(T,N){w.setRequestHeader(N,T)}),gt.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),i&&i!=="json"&&(w.responseType=a.responseType),A&&([m,h]=My(A,!0),w.addEventListener("progress",m)),c&&w.upload&&([f,v]=My(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(u=S=>{w&&(r(!S||S.type?new Wm(null,e,w):S),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const B=coe(a.url);if(B&&Ds.protocols.indexOf(B)===-1){r(new Ln("Unsupported protocol "+B+":",Ln.ERR_BAD_REQUEST,e));return}w.send(s||null)})},goe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const s=function(A){if(!a){a=!0,i();const u=A instanceof Error?A:this.reason;r.abort(u instanceof Ln?u:new Wm(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,s(new Ln(`timeout ${t} of ms exceeded`,Ln.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(A=>{A.unsubscribe?A.unsubscribe(s):A.removeEventListener("abort",s)}),e=null)};e.forEach(A=>A.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>gt.asap(i),c}},yoe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},woe=async function*(e,t){for await(const n of _oe(e))yield*yoe(n,t)},_oe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},sD=(e,t,n,r)=>{const a=woe(e,t);let s=0,o,i=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:A,value:u}=await a.next();if(A){i(),c.close();return}let f=u.byteLength;if(n){let m=s+=f;n(m)}c.enqueue(new Uint8Array(u))}catch(A){throw i(A),A}},cancel(c){return i(c),a.return()}},{highWaterMark:2})},oD=64*1024,{isFunction:e1}=gt,boe=(({Request:e,Response:t})=>({Request:e,Response:t}))(gt.global),{ReadableStream:iD,TextEncoder:lD}=gt.global,cD=(e,...t)=>{try{return!!e(...t)}catch{return!1}},xoe=e=>{e=gt.merge.call({skipUndefined:!0},boe,e);const{fetch:t,Request:n,Response:r}=e,a=t?e1(t):typeof fetch=="function",s=e1(n),o=e1(r);if(!a)return!1;const i=a&&e1(iD),c=a&&(typeof lD=="function"?(h=>y=>h.encode(y))(new lD):async h=>new Uint8Array(await new n(h).arrayBuffer())),A=s&&i&&cD(()=>{let h=!1;const y=new n(Ds.origin,{body:new iD,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!y}),u=o&&i&&cD(()=>gt.isReadableStream(new r("").body)),f={stream:u&&(h=>h.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!f[h]&&(f[h]=(y,w)=>{let b=y&&y[h];if(b)return b.call(y);throw new Ln(`Response type '${h}' is not supported`,Ln.ERR_NOT_SUPPORT,w)})});const m=async h=>{if(h==null)return 0;if(gt.isBlob(h))return h.size;if(gt.isSpecCompliantForm(h))return(await new n(Ds.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(gt.isArrayBufferView(h)||gt.isArrayBuffer(h))return h.byteLength;if(gt.isURLSearchParams(h)&&(h=h+""),gt.isString(h))return(await c(h)).byteLength},v=async(h,y)=>{const w=gt.toFiniteNumber(h.getContentLength());return w??m(y)};return async h=>{let{url:y,method:w,data:b,signal:B,cancelToken:S,timeout:T,onDownloadProgress:N,onUploadProgress:k,responseType:E,headers:_,withCredentials:C="same-origin",fetchOptions:F}=j5(h),I=t||fetch;E=E?(E+"").toLowerCase():"text";let R=goe([B,S&&S.toAbortSignal()],T),M=null;const te=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let se;try{if(k&&A&&w!=="get"&&w!=="head"&&(se=await v(_,b))!==0){let j=new n(y,{method:"POST",body:b,duplex:"half"}),U;if(gt.isFormData(b)&&(U=j.headers.get("content-type"))&&_.setContentType(U),j.body){const[G,ne]=nD(se,My(rD(k)));b=sD(j.body,oD,G,ne)}}gt.isString(C)||(C=C?"include":"omit");const O=s&&"credentials"in n.prototype,W={...F,signal:R,method:w.toUpperCase(),headers:_.normalize().toJSON(),body:b,duplex:"half",credentials:O?C:void 0};M=s&&new n(y,W);let le=await(s?I(M,F):I(y,W));const K=u&&(E==="stream"||E==="response");if(u&&(N||K&&te)){const j={};["status","statusText","headers"].forEach(X=>{j[X]=le[X]});const U=gt.toFiniteNumber(le.headers.get("content-length")),[G,ne]=N&&nD(U,My(rD(N),!0))||[];le=new r(sD(le.body,oD,G,()=>{ne&&ne(),te&&te()}),j)}E=E||"text";let ee=await f[gt.findKey(f,E)||"text"](le,h);return!K&&te&&te(),await new Promise((j,U)=>{$5(j,U,{data:ee,headers:Fo.from(le.headers),status:le.status,statusText:le.statusText,config:h,request:M})})}catch(O){throw te&&te(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Ln("Network Error",Ln.ERR_NETWORK,h,M),{cause:O.cause||O}):Ln.from(O,O&&O.code,h,M)}}},Coe=new Map,J5=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,s=[r,a,n];let o=s.length,i=o,c,A,u=Coe;for(;i--;)c=s[i],A=u.get(c),A===void 0&&u.set(c,A=i?new Map:xoe(t)),u=A;return A};J5();const RS={http:Qse,xhr:poe,fetch:{get:J5}};gt.forEach(RS,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uD=e=>`- ${e}`,Eoe=e=>gt.isFunction(e)||e===null||e===!1;function Boe(e,t){e=gt.isArray(e)?e:[e];const{length:n}=e;let r,a;const s={};for(let o=0;o<n;o++){r=e[o];let i;if(a=r,!Eoe(r)&&(a=RS[(i=String(r)).toLowerCase()],a===void 0))throw new Ln(`Unknown adapter '${i}'`);if(a&&(gt.isFunction(a)||(a=a.get(t))))break;s[i||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,A])=>`adapter ${c} `+(A===!1?"is not supported by the environment":"is not available in the build"));let i=n?o.length>1?`since :
`+o.map(uD).join(`
`):" "+uD(o[0]):"as no adapter specified";throw new Ln("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return a}const q5={getAdapter:Boe,adapters:RS};function Xb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wm(null,e)}function dD(e){return Xb(e),e.headers=Fo.from(e.headers),e.data=Yb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),q5.getAdapter(e.adapter||Ap.adapter,e)(e).then(function(r){return Xb(e),r.data=Yb.call(e,e.transformResponse,r),r.headers=Fo.from(r.headers),r},function(r){return z5(r)||(Xb(e),r&&r.response&&(r.response.data=Yb.call(e,e.transformResponse,r.response),r.response.headers=Fo.from(r.response.headers))),Promise.reject(r)})}const Y5="1.13.0",vw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{vw[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const AD={};vw.transitional=function(t,n,r){function a(s,o){return"[Axios v"+Y5+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,i)=>{if(t===!1)throw new Ln(a(o," has been removed"+(n?" in "+n:"")),Ln.ERR_DEPRECATED);return n&&!AD[o]&&(AD[o]=!0,console.warn(a(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,i):!0}};vw.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Soe(e,t,n){if(typeof e!="object")throw new Ln("options must be an object",Ln.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],o=t[s];if(o){const i=e[s],c=i===void 0||o(i,s,e);if(c!==!0)throw new Ln("option "+s+" must be "+c,Ln.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ln("Unknown option "+s,Ln.ERR_BAD_OPTION)}}const Z1={assertOptions:Soe,validators:vw},Il=Z1.validators;let iA=class{constructor(t){this.defaults=t||{},this.interceptors={request:new eD,response:new eD}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=wA(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:s}=n;r!==void 0&&Z1.assertOptions(r,{silentJSONParsing:Il.transitional(Il.boolean),forcedJSONParsing:Il.transitional(Il.boolean),clarifyTimeoutError:Il.transitional(Il.boolean)},!1),a!=null&&(gt.isFunction(a)?n.paramsSerializer={serialize:a}:Z1.assertOptions(a,{encode:Il.function,serialize:Il.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Z1.assertOptions(n,{baseUrl:Il.spelling("baseURL"),withXsrfToken:Il.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&gt.merge(s.common,s[n.method]);s&&gt.forEach(["delete","get","head","post","put","patch","common"],h=>{delete s[h]}),n.headers=Fo.concat(o,s);const i=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,i.unshift(y.fulfilled,y.rejected))});const A=[];this.interceptors.response.forEach(function(y){A.push(y.fulfilled,y.rejected)});let u,f=0,m;if(!c){const h=[dD.bind(this),void 0];for(h.unshift(...i),h.push(...A),m=h.length,u=Promise.resolve(n);f<m;)u=u.then(h[f++],h[f++]);return u}m=i.length;let v=n;for(;f<m;){const h=i[f++],y=i[f++];try{v=h(v)}catch(w){y.call(this,w);break}}try{u=dD.call(this,v)}catch(h){return Promise.reject(h)}for(f=0,m=A.length;f<m;)u=u.then(A[f++],A[f++]);return u}getUri(t){t=wA(this.defaults,t);const n=W5(t.baseURL,t.url,t.allowAbsoluteUrls);return H5(n,t.params,t.paramsSerializer)}};gt.forEach(["delete","get","head","options"],function(t){iA.prototype[t]=function(n,r){return this.request(wA(r||{},{method:t,url:n,data:(r||{}).data}))}});gt.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,i){return this.request(wA(i||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}iA.prototype[t]=n(),iA.prototype[t+"Form"]=n(!0)});let koe=class X5{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(a=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](a);r._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(i=>{r.subscribe(i),s=i}).then(a);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,i){r.reason||(r.reason=new Wm(s,o,i),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new X5(function(a){t=a}),cancel:t}}};function Ioe(e){return function(n){return e.apply(null,n)}}function Toe(e){return gt.isObject(e)&&e.isAxiosError===!0}const jC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jC).forEach(([e,t])=>{jC[t]=e});function Z5(e){const t=new iA(e),n=T5(iA.prototype.request,t);return gt.extend(n,iA.prototype,t,{allOwnKeys:!0}),gt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Z5(wA(e,a))},n}const ca=Z5(Ap);ca.Axios=iA;ca.CanceledError=Wm;ca.CancelToken=koe;ca.isCancel=z5;ca.VERSION=Y5;ca.toFormData=hw;ca.AxiosError=Ln;ca.Cancel=ca.CanceledError;ca.all=function(t){return Promise.all(t)};ca.spread=Ioe;ca.isAxiosError=Toe;ca.mergeConfig=wA;ca.AxiosHeaders=Fo;ca.formToJSON=e=>G5(gt.isHTMLForm(e)?new FormData(e):e);ca.getAdapter=q5.getAdapter;ca.HttpStatusCode=jC;ca.default=ca;const{Axios:_qe,AxiosError:bqe,CanceledError:xqe,isCancel:Cqe,CancelToken:Eqe,VERSION:Bqe,all:Sqe,Cancel:kqe,isAxiosError:Iqe,spread:Tqe,toFormData:Fqe,AxiosHeaders:Pqe,HttpStatusCode:Dqe,formToJSON:Uqe,getAdapter:Rqe,mergeConfig:Nqe}=ca,Foe=()=>{};var fD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=function(e,t){if(!e)throw jm(t)},jm=function(e){return new Error("Firebase Database ("+eV.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},Poe=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=e[n++],o=e[n++],i=e[n++],c=((a&7)<<18|(s&63)<<12|(o&63)<<6|i&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|o&63)}}return t.join("")},pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const s=e[a],o=a+1<e.length,i=o?e[a+1]:0,c=a+2<e.length,A=c?e[a+2]:0,u=s>>2,f=(s&3)<<4|i>>4;let m=(i&15)<<2|A>>6,v=A&63;c||(v=64,o||(m=64)),r.push(n[u],n[f],n[m],n[v])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tV(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Poe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const s=n[e.charAt(a++)],i=a<e.length?n[e.charAt(a)]:0;++a;const A=a<e.length?n[e.charAt(a)]:64;++a;const f=a<e.length?n[e.charAt(a)]:64;if(++a,s==null||i==null||A==null||f==null)throw new Doe;const m=s<<2|i>>4;if(r.push(m),A!==64){const v=i<<4&240|A>>2;if(r.push(v),f!==64){const h=A<<6&192|f;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Doe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nV=function(e){const t=tV(e);return pw.encodeByteArray(t,!0)},rV=function(e){return nV(e).replace(/\./g,"")},Oy=function(e){try{return pw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uoe(e){return aV(void 0,e)}function aV(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Roe(n)||(e[n]=aV(e[n],t[n]));return e}function Roe(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Noe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe=()=>Noe().__FIREBASE_DEFAULTS__,Voe=()=>{if(typeof process>"u"||typeof fD>"u")return;const e=fD.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Moe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Oy(e[1]);return t&&JSON.parse(t)},NS=()=>{try{return Foe()||Loe()||Voe()||Moe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ooe=e=>NS()?.emulatorHosts?.[e],sV=()=>NS()?.config,oV=e=>NS()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qoe(e){return(await fetch(e,{credentials:"include"})).ok}const O0={};function Hoe(){const e={prod:[],emulator:[]};for(const t of Object.keys(O0))O0[t]?e.emulator.push(t):e.prod.push(t);return e}function Koe(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let mD=!1;function Goe(e,t){if(typeof window>"u"||typeof document>"u"||!gw(window.location.host)||O0[e]===t||O0[e]||mD)return;O0[e]=t;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=Hoe().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function i(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function A(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{mD=!0,o()},m}function u(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=Koe(r),v=n("text"),h=document.getElementById(v)||document.createElement("span"),y=n("learnmore"),w=document.getElementById(y)||document.createElement("a"),b=n("preprendIcon"),B=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;i(S),u(w,y);const T=A();c(B,b),S.append(B,h,w,T),document.body.appendChild(S)}s?(h.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,h.innerText="Preview backend running in this workspace."),h.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mo())}function zoe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $oe(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function iV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Woe(){const e=mo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function joe(){return eV.NODE_ADMIN===!0}function lV(){try{return typeof indexedDB=="object"}catch{return!1}}function Joe(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qoe="FirebaseError";class ac extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=qoe,Object.setPrototypeOf(this,ac.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jm.prototype.create)}}class Jm{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,s=this.errors[t],o=s?Yoe(s,r):"Error",i=`${this.serviceName}: ${o} (${a}).`;return new ac(a,i,r)}}function Yoe(e,t){return e.replace(Xoe,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const Xoe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(e){return JSON.parse(e)}function As(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=function(e){let t={},n={},r={},a="";try{const s=e.split(".");t=Cv(Oy(s[0])||""),n=Cv(Oy(s[1])||""),a=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:a}},Zoe=function(e){const t=cV(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},eie=function(e){const t=cV(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Tm(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function JC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qy(e,t,n){const r={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=t.call(n,e[a],a,e));return r}function Fm(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const s=e[a],o=t[a];if(hD(s)&&hD(o)){if(!Fm(s,o))return!1}else if(s!==o)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function hD(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)r[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const m=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(m<<1|m>>>31)&4294967295}let a=this.chain_[0],s=this.chain_[1],o=this.chain_[2],i=this.chain_[3],c=this.chain_[4],A,u;for(let f=0;f<80;f++){f<40?f<20?(A=i^s&(o^i),u=1518500249):(A=s^o^i,u=1859775393):f<60?(A=s&o|i&(s|o),u=2400959708):(A=s^o^i,u=3395469782);const m=(a<<5|a>>>27)+A+c+u+r[f]&4294967295;c=i,i=o,o=(s<<30|s>>>2)&4294967295,s=a,a=m}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+i&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let a=0;const s=this.buf_;let o=this.inbuf_;for(;a<n;){if(o===0)for(;a<=r;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<n;)if(s[o]=t.charCodeAt(a),++o,++a,o===this.blockSize){this.compress_(s),o=0;break}}else for(;a<n;)if(s[o]=t[a],++o,++a,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let a=0;a<5;a++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[a]>>s&255,++r;return t}}function nie(e,t){const n=new rie(e,t);return n.subscribe.bind(n)}class rie{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aie(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=Zb),a.error===void 0&&(a.error=Zb),a.complete===void 0&&(a.complete=Zb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aie(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Zb(){}function sie(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oie=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);if(a>=55296&&a<=56319){const s=a-55296;r++,Zt(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;a=65536+(s<<10)+o}a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):a<65536?(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},yw=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(e){return e&&e._delegate?e._delegate:e}class il{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iie{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new xv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cie(t))try{this.getOrInitializeService({instanceIdentifier:Qd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(t=Qd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qd){return this.instances.has(t)}getOptions(t=Qd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);r===i&&o.resolve(a)}return a}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&t(s,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lie(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Qd){return this.component?this.component.multipleInstances?t:Qd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lie(e){return e===Qd?void 0:e}function cie(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new iie(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(xr||(xr={}));const die={debug:xr.DEBUG,verbose:xr.VERBOSE,info:xr.INFO,warn:xr.WARN,error:xr.ERROR,silent:xr.SILENT},Aie=xr.INFO,fie={[xr.DEBUG]:"log",[xr.VERBOSE]:"log",[xr.INFO]:"info",[xr.WARN]:"warn",[xr.ERROR]:"error"},mie=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=fie[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let fp=class{constructor(t){this.name=t,this._logLevel=Aie,this._logHandler=mie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?die[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xr.DEBUG,...t),this._logHandler(this,xr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xr.VERBOSE,...t),this._logHandler(this,xr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xr.INFO,...t),this._logHandler(this,xr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xr.WARN,...t),this._logHandler(this,xr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xr.ERROR,...t),this._logHandler(this,xr.ERROR,...t)}};const hie=(e,t)=>t.some(n=>e instanceof n);let vD,pD;function vie(){return vD||(vD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pie(){return pD||(pD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uV=new WeakMap,qC=new WeakMap,dV=new WeakMap,ex=new WeakMap,VS=new WeakMap;function gie(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n($u(e.result)),a()},o=()=>{r(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&uV.set(n,e)}).catch(()=>{}),VS.set(t,e),t}function yie(e){if(qC.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),a()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});qC.set(e,t)}let YC={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qC.get(e);if(t==="objectStoreNames")return e.objectStoreNames||dV.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $u(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function wie(e){YC=e(YC)}function _ie(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(tx(this),t,...n);return dV.set(r,t.sort?t.sort():[t]),$u(r)}:pie().includes(e)?function(...t){return e.apply(tx(this),t),$u(uV.get(this))}:function(...t){return $u(e.apply(tx(this),t))}}function bie(e){return typeof e=="function"?_ie(e):(e instanceof IDBTransaction&&yie(e),hie(e,vie())?new Proxy(e,YC):e)}function $u(e){if(e instanceof IDBRequest)return gie(e);if(ex.has(e))return ex.get(e);const t=bie(e);return t!==e&&(ex.set(e,t),VS.set(t,e)),t}const tx=e=>VS.get(e);function xie(e,t,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const o=indexedDB.open(e,t),i=$u(o);return r&&o.addEventListener("upgradeneeded",c=>{r($u(o.result),c.oldVersion,c.newVersion,$u(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),i.then(c=>{s&&c.addEventListener("close",()=>s()),a&&c.addEventListener("versionchange",A=>a(A.oldVersion,A.newVersion,A))}).catch(()=>{}),i}const Cie=["get","getKey","getAll","getAllKeys","count"],Eie=["put","add","delete","clear"],nx=new Map;function gD(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(nx.get(t))return nx.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=Eie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Cie.includes(n)))return;const s=async function(o,...i){const c=this.transaction(o,a?"readwrite":"readonly");let A=c.store;return r&&(A=A.index(i.shift())),(await Promise.all([A[n](...i),a&&c.done]))[0]};return nx.set(t,s),s}wie(e=>({...e,get:(t,n,r)=>gD(t,n)||e.get(t,n,r),has:(t,n)=>!!gD(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sie(e){return e.getComponent()?.type==="VERSION"}const XC="@firebase/app",yD="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new fp("@firebase/app"),kie="@firebase/app-compat",Iie="@firebase/analytics-compat",Tie="@firebase/analytics",Fie="@firebase/app-check-compat",Pie="@firebase/app-check",Die="@firebase/auth",Uie="@firebase/auth-compat",Rie="@firebase/database",Nie="@firebase/data-connect",Lie="@firebase/database-compat",Vie="@firebase/functions",Mie="@firebase/functions-compat",Oie="@firebase/installations",Qie="@firebase/installations-compat",Hie="@firebase/messaging",Kie="@firebase/messaging-compat",Gie="@firebase/performance",zie="@firebase/performance-compat",$ie="@firebase/remote-config",Wie="@firebase/remote-config-compat",jie="@firebase/storage",Jie="@firebase/storage-compat",qie="@firebase/firestore",Yie="@firebase/ai",Xie="@firebase/firestore-compat",Zie="firebase",ele="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="[DEFAULT]",tle={[XC]:"fire-core",[kie]:"fire-core-compat",[Tie]:"fire-analytics",[Iie]:"fire-analytics-compat",[Pie]:"fire-app-check",[Fie]:"fire-app-check-compat",[Die]:"fire-auth",[Uie]:"fire-auth-compat",[Rie]:"fire-rtdb",[Nie]:"fire-data-connect",[Lie]:"fire-rtdb-compat",[Vie]:"fire-fn",[Mie]:"fire-fn-compat",[Oie]:"fire-iid",[Qie]:"fire-iid-compat",[Hie]:"fire-fcm",[Kie]:"fire-fcm-compat",[Gie]:"fire-perf",[zie]:"fire-perf-compat",[$ie]:"fire-rc",[Wie]:"fire-rc-compat",[jie]:"fire-gcs",[Jie]:"fire-gcs-compat",[qie]:"fire-fst",[Xie]:"fire-fst-compat",[Yie]:"fire-vertex","fire-js":"fire-js",[Zie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map,nle=new Map,eE=new Map;function wD(e,t){try{e.container.addComponent(t)}catch(n){jc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wl(e){const t=e.name;if(eE.has(t))return jc.debug(`There were multiple attempts to register component ${t}.`),!1;eE.set(t,e);for(const n of Hy.values())wD(n,e);for(const n of nle.values())wD(n,e);return!0}function AV(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function So(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wu=new Jm("app","Firebase",rle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ale{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=ele;function fV(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:ZC,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw Wu.create("bad-app-name",{appName:String(a)});if(n||(n=sV()),!n)throw Wu.create("no-options");const s=Hy.get(a);if(s){if(Fm(n,s.options)&&Fm(r,s.config))return s;throw Wu.create("duplicate-app",{appName:a})}const o=new uie(a);for(const c of eE.values())o.addComponent(c);const i=new ale(n,r,o);return Hy.set(a,i),i}function mV(e=ZC){const t=Hy.get(e);if(!t&&e===ZC&&sV())return fV();if(!t)throw Wu.create("no-app",{appName:e});return t}function Yo(e,t,n){let r=tle[e]??e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const o=[`Unable to register library "${r}" with version "${t}":`];a&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),jc.warn(o.join(" "));return}Wl(new il(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle="firebase-heartbeat-database",ole=1,Ev="firebase-heartbeat-store";let rx=null;function hV(){return rx||(rx=xie(sle,ole,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ev)}catch(n){console.warn(n)}}}}).catch(e=>{throw Wu.create("idb-open",{originalErrorMessage:e.message})})),rx}async function ile(e){try{const n=(await hV()).transaction(Ev),r=await n.objectStore(Ev).get(vV(e));return await n.done,r}catch(t){if(t instanceof ac)jc.warn(t.message);else{const n=Wu.create("idb-get",{originalErrorMessage:t?.message});jc.warn(n.message)}}}async function _D(e,t){try{const r=(await hV()).transaction(Ev,"readwrite");await r.objectStore(Ev).put(t,vV(e)),await r.done}catch(n){if(n instanceof ac)jc.warn(n.message);else{const r=Wu.create("idb-set",{originalErrorMessage:n?.message});jc.warn(r.message)}}}function vV(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lle=1024,cle=30;class ule{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ale(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bD();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>cle){const a=fle(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){jc.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bD(),{heartbeatsToSend:n,unsentEntries:r}=dle(this._heartbeatsCache.heartbeats),a=rV(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return jc.warn(t),""}}}function bD(){return new Date().toISOString().substring(0,10)}function dle(e,t=lle){const n=[];let r=e.slice();for(const a of e){const s=n.find(o=>o.agent===a.agent);if(s){if(s.dates.push(a.date),xD(n)>t){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xD(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ale{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lV()?Joe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ile(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return _D(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return _D(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function xD(e){return rV(JSON.stringify({version:2,heartbeats:e})).length}function fle(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mle(e){Wl(new il("platform-logger",t=>new Bie(t),"PRIVATE")),Wl(new il("heartbeat",t=>new ule(t),"PRIVATE")),Yo(XC,yD,e),Yo(XC,yD,"esm2020"),Yo("fire-js","")}mle("");var hle="firebase",vle="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yo(hle,vle,"app");function pV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ple=pV,gV=new Jm("auth","Firebase",pV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new fp("@firebase/auth");function gle(e,...t){Ky.logLevel<=xr.WARN&&Ky.warn(`Auth (${hd}): ${e}`,...t)}function ey(e,...t){Ky.logLevel<=xr.ERROR&&Ky.error(`Auth (${hd}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(e,...t){throw OS(e,...t)}function tl(e,...t){return OS(e,...t)}function MS(e,t,n){const r={...ple(),[t]:n};return new Jm("auth","Firebase",r).create(t,{appName:e.name})}function ju(e){return MS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yV(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&jl(e,"argument-error"),MS(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function OS(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return gV.create(e,...t)}function In(e,t,...n){if(!e)throw OS(t,...n)}function Nc(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ey(t),new Error(t)}function Jc(e,t){e||Nc(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){return typeof self<"u"&&self.location?.href||""}function yle(){return CD()==="http:"||CD()==="https:"}function CD(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wle(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yle()||$oe()||"connection"in navigator)?navigator.onLine:!0}function _le(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t,n){this.shortDelay=t,this.longDelay=n,Jc(n>t,"Short delay should be less than long delay!"),this.isMobile=LS()||iV()}get(){return wle()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(e,t){Jc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ble={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xle=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cle=new mp(3e4,6e4);function HS(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ym(e,t,n,r,a={}){return _V(e,a,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const i=qm({key:e.config.apiKey,...o}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const A={method:t,headers:c,...s};return zoe()||(A.referrerPolicy="no-referrer"),e.emulatorConfig&&gw(e.emulatorConfig.host)&&(A.credentials="include"),wV.fetch()(await bV(e,e.config.apiHost,n,i),A)})}async function _V(e,t,n){e._canInitEmulator=!1;const r={...ble,...t};try{const a=new Ble(e),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw t1(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const i=s.ok?o.errorMessage:o.error.message,[c,A]=i.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw t1(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw t1(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw t1(e,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw MS(e,u,A);jl(e,u)}}catch(a){if(a instanceof ac)throw a;jl(e,"network-request-failed",{message:String(a)})}}async function Ele(e,t,n,r,a={}){const s=await Ym(e,t,n,r,a);return"mfaPendingCredential"in s&&jl(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function bV(e,t,n,r){const a=`${t}${n}?${r}`,s=e,o=s.config.emulator?QS(e.config,a):`${e.config.apiScheme}://${a}`;return xle.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class Ble{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tl(this.auth,"network-request-failed")),Cle.get())})}}function t1(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=tl(e,t,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sle(e,t){return Ym(e,"POST","/v1/accounts:delete",t)}async function Gy(e,t){return Ym(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kle(e,t=!1){const n=sc(e),r=await n.getIdToken(t),a=KS(r);In(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,o=s?.sign_in_provider;return{claims:a,token:r,authTime:Q0(ax(a.auth_time)),issuedAtTime:Q0(ax(a.iat)),expirationTime:Q0(ax(a.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function ax(e){return Number(e)*1e3}function KS(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ey("JWT malformed, contained fewer than 3 sections"),null;try{const a=Oy(n);return a?JSON.parse(a):(ey("Failed to decode base64 JWT payload"),null)}catch(a){return ey("Caught error parsing JWT payload as JSON",a?.toString()),null}}function ED(e){const t=KS(e);return In(t,"internal-error"),In(typeof t.exp<"u","internal-error"),In(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ac&&Ile(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Ile({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tle{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q0(this.lastLoginAt),this.creationTime=Q0(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zy(e){const t=e.auth,n=await e.getIdToken(),r=await Bv(e,Gy(t,{idToken:n}));In(r?.users.length,t,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const s=a.providerUserInfo?.length?xV(a.providerUserInfo):[],o=Ple(e.providerData,s),i=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!o?.length,A=i?c:!1,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new nE(a.createdAt,a.lastLoginAt),isAnonymous:A};Object.assign(e,u)}async function Fle(e){const t=sc(e);await zy(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ple(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function xV(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dle(e,t){const n=await _V(e,{},async()=>{const r=qm({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:s}=e.config,o=await bV(e,a,"/v1/token",`key=${s}`),i=await e._getAdditionalHeaders();i["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:i,body:r};return e.emulatorConfig&&gw(e.emulatorConfig.host)&&(c.credentials="include"),wV.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ule(e,t){return Ym(e,"POST","/v2/accounts:revokeToken",HS(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){In(t.idToken,"internal-error"),In(typeof t.idToken<"u","internal-error"),In(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ED(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){In(t.length!==0,"internal-error");const n=ED(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(In(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await Dle(t,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,o=new om;return r&&(In(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),a&&(In(typeof a=="string","internal-error",{appName:t}),o.accessToken=a),s&&(In(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new om,this.toJSON())}_performRefresh(){return Nc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(e,t){In(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Wi{constructor({uid:t,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Tle(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new nE(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Bv(this,this.stsTokenManager.getToken(this.auth,t));return In(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return kle(this,t)}reload(){return Fle(this)}_assign(t){this!==t&&(In(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){In(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await zy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(So(this.auth.app))return Promise.reject(ju(this.auth));const t=await this.getIdToken();return await Bv(this,Sle(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,i=n.tenantId??void 0,c=n._redirectEventId??void 0,A=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:v,providerData:h,stsTokenManager:y}=n;In(f&&y,t,"internal-error");const w=om.fromJSON(this.name,y);In(typeof f=="string",t,"internal-error"),bu(r,t.name),bu(a,t.name),In(typeof m=="boolean",t,"internal-error"),In(typeof v=="boolean",t,"internal-error"),bu(s,t.name),bu(o,t.name),bu(i,t.name),bu(c,t.name),bu(A,t.name),bu(u,t.name);const b=new Wi({uid:f,auth:t,email:a,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:i,stsTokenManager:w,createdAt:A,lastLoginAt:u});return h&&Array.isArray(h)&&(b.providerData=h.map(B=>({...B}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(t,n,r=!1){const a=new om;a.updateFromServerResponse(n);const s=new Wi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await zy(s),s}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];In(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?xV(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!s?.length,i=new om;i.updateFromIdToken(r);const c=new Wi({uid:a.localId,auth:t,stsTokenManager:i,isAnonymous:o}),A={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new nE(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(c,A),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Map;function Lc(e){Jc(e instanceof Function,"Expected a class definition");let t=BD.get(e);return t?(Jc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,BD.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}CV.type="NONE";const SD=CV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(e,t,n){return`firebase:${e}:${t}:${n}`}class im{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=ty(this.userKey,a.apiKey,s),this.fullPersistenceKey=ty("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Gy(this.auth,{idToken:t}).catch(()=>{});return n?Wi._fromGetAccountInfoResponse(this.auth,n,t):null}return Wi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new im(Lc(SD),t,r);const a=(await Promise.all(n.map(async A=>{if(await A._isAvailable())return A}))).filter(A=>A);let s=a[0]||Lc(SD);const o=ty(r,t.config.apiKey,t.name);let i=null;for(const A of n)try{const u=await A._get(o);if(u){let f;if(typeof u=="string"){const m=await Gy(t,{idToken:u}).catch(()=>{});if(!m)break;f=await Wi._fromGetAccountInfoResponse(t,m,u)}else f=Wi._fromJSON(t,u);A!==s&&(i=f),s=A;break}}catch{}const c=a.filter(A=>A._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new im(s,t,r):(s=c[0],i&&await s._set(o,i.toJSON()),await Promise.all(n.map(async A=>{if(A!==s)try{await A._remove(o)}catch{}})),new im(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kV(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(EV(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TV(t))return"Blackberry";if(FV(t))return"Webos";if(BV(t))return"Safari";if((t.includes("chrome/")||SV(t))&&!t.includes("edge/"))return"Chrome";if(IV(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function EV(e=mo()){return/firefox\//i.test(e)}function BV(e=mo()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function SV(e=mo()){return/crios\//i.test(e)}function kV(e=mo()){return/iemobile/i.test(e)}function IV(e=mo()){return/android/i.test(e)}function TV(e=mo()){return/blackberry/i.test(e)}function FV(e=mo()){return/webos/i.test(e)}function GS(e=mo()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Rle(e=mo()){return GS(e)&&!!window.navigator?.standalone}function Nle(){return Woe()&&document.documentMode===10}function PV(e=mo()){return GS(e)||IV(e)||FV(e)||TV(e)||/windows phone/i.test(e)||kV(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(e,t=[]){let n;switch(e){case"Browser":n=kD(mo());break;case"Worker":n=`${kD(mo())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${hd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lle{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,i)=>{try{const c=t(s);o(c)}catch(c){i(c)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vle(e,t={}){return Ym(e,"GET","/v2/passwordPolicy",HS(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle=6;class Ole{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Mle,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qle{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ID(this),this.idTokenSubscription=new ID(this),this.beforeStateQueue=new Lle(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Lc(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await im.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Gy(this,{idToken:t}),r=await Wi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(So(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,i=await this.tryRedirectSignIn(t);(!s||s===o)&&i?.user&&(r=i.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return In(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await zy(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_le()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(So(this.app))return Promise.reject(ju(this));const n=t?sc(t):null;return n&&In(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&In(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return So(this.app)?Promise.reject(ju(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return So(this.app)?Promise.reject(ju(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lc(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Vle(this),n=new Ole(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jm("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ule(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Lc(t)||this._popupRedirectResolver;In(n,this,"argument-error"),this.redirectPersistenceManager=await im.create(this,[Lc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(In(i,this,"internal-error"),i.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,r,a);return()=>{o=!0,c()}}else{const c=t.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return In(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(So(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&gle(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xm(e){return sc(e)}class ID{constructor(t){this.auth=t,this.observer=null,this.addObserver=nie(n=>this.observer=n)}get next(){return In(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hle(e){zS=e}function Kle(e){return zS.loadJS(e)}function Gle(){return zS.gapiScript}function zle(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(e,t){const n=AV(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(Fm(s,t??{}))return a;jl(a,"already-initialized")}return n.initialize({options:t})}function $le(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Lc);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Wle(e,t,n){const r=Xm(e);In(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,s=RV(t),{host:o,port:i}=jle(t),c=i===null?"":`:${i}`,A={url:`${s}//${o}${c}/`},u=Object.freeze({host:o,port:i,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){In(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),In(Fm(A,r.config.emulator)&&Fm(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=A,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,gw(o)?(Qoe(`${s}//${o}${c}`),Goe("Auth",!0)):Jle()}function RV(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jle(e){const t=RV(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:TD(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:TD(o)}}}function TD(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Jle(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Nc("not implemented")}_getIdTokenResponse(t){return Nc("not implemented")}_linkToIdToken(t,n){return Nc("not implemented")}_getReauthenticationResolver(t){return Nc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(e,t){return Ele(e,"POST","/v1/accounts:signInWithIdp",HS(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qle="http://localhost";class _A extends NV{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new _A(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):jl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const o=new _A(r,a);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return lm(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,lm(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,lm(t,n)}buildRequest(){const t={requestUri:qle,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=qm(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends ww{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends hp{constructor(){super("facebook.com")}static credential(t){return _A._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Du.credentialFromTaggedObject(t)}static credentialFromError(t){return Du.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Du.credential(t.oauthAccessToken)}catch{return null}}}Du.FACEBOOK_SIGN_IN_METHOD="facebook.com";Du.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends hp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return _A._fromParams({providerId:Uc.PROVIDER_ID,signInMethod:Uc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Uc.credentialFromTaggedObject(t)}static credentialFromError(t){return Uc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Uc.credential(n,r)}catch{return null}}}Uc.GOOGLE_SIGN_IN_METHOD="google.com";Uc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends hp{constructor(){super("github.com")}static credential(t){return _A._fromParams({providerId:Uu.PROVIDER_ID,signInMethod:Uu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Uu.credentialFromTaggedObject(t)}static credentialFromError(t){return Uu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Uu.credential(t.oauthAccessToken)}catch{return null}}}Uu.GITHUB_SIGN_IN_METHOD="github.com";Uu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends hp{constructor(){super("twitter.com")}static credential(t,n){return _A._fromParams({providerId:Ru.PROVIDER_ID,signInMethod:Ru.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ru.credentialFromTaggedObject(t)}static credentialFromError(t){return Ru.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ru.credential(n,r)}catch{return null}}}Ru.TWITTER_SIGN_IN_METHOD="twitter.com";Ru.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const s=await Wi._fromIdTokenResponse(t,r,a),o=FD(r);return new Pm({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=FD(r);return new Pm({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function FD(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends ac{constructor(t,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,$y.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new $y(t,n,r,a)}}function LV(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$y._fromErrorAndOperation(e,s,t,r):s})}async function Yle(e,t,n=!1){const r=await Bv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Pm._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xle(e,t,n=!1){const{auth:r}=e;if(So(r.app))return Promise.reject(ju(r));const a="reauthenticate";try{const s=await Bv(e,LV(r,a,t,e),n);In(s.idToken,r,"internal-error");const o=KS(s.idToken);In(o,r,"internal-error");const{sub:i}=o;return In(e.uid===i,r,"user-mismatch"),Pm._forOperation(e,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&jl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zle(e,t,n=!1){if(So(e.app))return Promise.reject(ju(e));const r="signIn",a=await LV(e,r,t),s=await Pm._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ece(e,t){return sc(e).setPersistence(t)}function VV(e,t,n,r){return sc(e).onIdTokenChanged(t,n,r)}function tce(e,t,n){return sc(e).beforeAuthStateChanged(t,n)}function nce(e,t,n,r){return sc(e).onAuthStateChanged(t,n,r)}function rce(e){return sc(e).signOut()}const Wy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wy,"1"),this.storage.removeItem(Wy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ace=1e3,sce=10;class OV extends MV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,i,c)=>{this.notifyListeners(o,c)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Nle()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,sce):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},ace)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}OV.type="LOCAL";const $S=OV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV extends MV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}QV.type="SESSION";const WS=QV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oce(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new _w(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:s}=n.data,o=this.handlersMap[a];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const i=Array.from(o).map(async A=>A(n.origin,s)),c=await oce(i);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_w.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ice{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,o;return new Promise((i,c)=>{const A=jS("",20);a.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:a,onMessage(f){const m=f;if(m.data.eventId===A)switch(m.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),i(m.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:A,data:n},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(){return window}function lce(e){Gl().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){return typeof Gl().WorkerGlobalScope<"u"&&typeof Gl().importScripts=="function"}async function cce(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uce(){return navigator?.serviceWorker?.controller||null}function dce(){return HV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="firebaseLocalStorageDb",Ace=1,jy="firebaseLocalStorage",GV="fbase_key";class vp{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bw(e,t){return e.transaction([jy],t?"readwrite":"readonly").objectStore(jy)}function fce(){const e=indexedDB.deleteDatabase(KV);return new vp(e).toPromise()}function rE(){const e=indexedDB.open(KV,Ace);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(jy,{keyPath:GV})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(jy)?t(r):(r.close(),await fce(),t(await rE()))})})}async function PD(e,t,n){const r=bw(e,!0).put({[GV]:t,value:n});return new vp(r).toPromise()}async function mce(e,t){const n=bw(e,!1).get(t),r=await new vp(n).toPromise();return r===void 0?null:r.value}function DD(e,t){const n=bw(e,!0).delete(t);return new vp(n).toPromise()}const hce=800,vce=3;class zV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rE(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>vce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_w._getInstance(dce()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cce(),!this.activeServiceWorker)return;this.sender=new ice(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rE();return await PD(t,Wy,"1"),await DD(t,Wy),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PD(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>mce(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>DD(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const s=bw(a,!1).getAll();return new vp(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:s}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zV.type="LOCAL";const $V=zV;new mp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(e,t){return t?Lc(t):(In(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends NV{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lm(t,this._buildIdpRequest())}_linkToIdToken(t,n){return lm(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return lm(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function pce(e){return Zle(e.auth,new qS(e),e.bypassAuthState)}function gce(e){const{auth:t,user:n}=e;return In(n,t,"internal-error"),Xle(n,new qS(e),e.bypassAuthState)}async function yce(e){const{auth:t,user:n}=e;return In(n,t,"internal-error"),Yle(n,new qS(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t,n,r,a,s=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:o,type:i}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(c))}catch(A){this.reject(A)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pce;case"linkViaPopup":case"linkViaRedirect":return yce;case"reauthViaPopup":case"reauthViaRedirect":return gce;default:jl(this.auth,"internal-error")}}resolve(t){Jc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Jc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wce=new mp(2e3,1e4);async function _ce(e,t,n){if(So(e.app))return Promise.reject(tl(e,"operation-not-supported-in-this-environment"));const r=Xm(e);yV(e,t,ww);const a=JS(r,n);return new qd(r,"signInViaPopup",t,a).executeNotNull()}class qd extends WV{constructor(t,n,r,a,s){super(t,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,qd.currentPopupAction&&qd.currentPopupAction.cancel(),qd.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return In(t,this.auth,"internal-error"),t}async onExecution(){Jc(this.filter.length===1,"Popup operations only handle one event");const t=jS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qd.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wce.get())};t()}}qd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bce="pendingRedirect",ny=new Map;class xce extends WV{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ny.get(this.auth._key());if(!t){try{const r=await Cce(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ny.set(this.auth._key(),t)}return this.bypassAuthState||ny.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cce(e,t){const n=JV(t),r=jV(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}async function Ece(e,t){return jV(e)._set(JV(t),"true")}function Bce(e,t){ny.set(e._key(),t)}function jV(e){return Lc(e._redirectPersistence)}function JV(e){return ty(bce,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sce(e,t,n){return kce(e,t,n)}async function kce(e,t,n){if(So(e.app))return Promise.reject(ju(e));const r=Xm(e);yV(e,t,ww),await r._initializationPromise;const a=JS(r,n);return await Ece(a,r),a._openRedirect(r,t,"signInViaRedirect")}async function Ice(e,t){return await Xm(e)._initializationPromise,qV(e,t,!1)}async function qV(e,t,n=!1){if(So(e.app))return Promise.reject(ju(e));const r=Xm(e),a=JS(r,t),o=await new xce(r,a,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tce=600*1e3;class Fce{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Pce(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!YV(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(tl(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Tce&&this.cachedEventUids.clear(),this.cachedEventUids.has(UD(t))}saveEventToCache(t){this.cachedEventUids.add(UD(t)),this.lastProcessedEventTime=Date.now()}}function UD(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function YV({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function Pce(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YV(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dce(e,t={}){return Ym(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rce=/^https?/;async function Nce(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Dce(e);for(const n of t)try{if(Lce(n))return}catch{}jl(e,"unauthorized-domain")}function Lce(e){const t=tE(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Rce.test(n))return!1;if(Uce.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vce=new mp(3e4,6e4);function RD(){const e=Gl().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Mce(e){return new Promise((t,n)=>{function r(){RD(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{RD(),n(tl(e,"network-request-failed"))},timeout:Vce.get()})}if(Gl().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gl().gapi?.load)r();else{const a=zle("iframefcb");return Gl()[a]=()=>{gapi.load?r():n(tl(e,"network-request-failed"))},Kle(`${Gle()}?onload=${a}`).catch(s=>n(s))}}).catch(t=>{throw ry=null,t})}let ry=null;function Oce(e){return ry=ry||Mce(e),ry}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qce=new mp(5e3,15e3),Hce="__/auth/iframe",Kce="emulator/auth/iframe",Gce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $ce(e){const t=e.config;In(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?QS(t,Kce):`https://${e.config.authDomain}/${Hce}`,r={apiKey:t.apiKey,appName:e.name,v:hd},a=zce.get(e.config.apiHost);a&&(r.eid=a);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qm(r).slice(1)}`}async function Wce(e){const t=await Oce(e),n=Gl().gapi;return In(n,e,"internal-error"),t.open({where:document.body,url:$ce(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gce,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const o=tl(e,"network-request-failed"),i=Gl().setTimeout(()=>{s(o)},Qce.get());function c(){Gl().clearTimeout(i),a(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jce=500,qce=600,Yce="_blank",Xce="http://localhost";class ND{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zce(e,t,n,r=Jce,a=qce){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let i="";const c={...jce,width:r.toString(),height:a.toString(),top:s,left:o},A=mo().toLowerCase();n&&(i=SV(A)?Yce:n),EV(A)&&(t=t||Xce,c.scrollbars="yes");const u=Object.entries(c).reduce((m,[v,h])=>`${m}${v}=${h},`,"");if(Rle(A)&&i!=="_self")return eue(t||"",i),new ND(null);const f=window.open(t||"",i,u);In(f,e,"popup-blocked");try{f.focus()}catch{}return new ND(f)}function eue(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue="__/auth/handler",nue="emulator/auth/handler",rue=encodeURIComponent("fac");async function LD(e,t,n,r,a,s){In(e.config.authDomain,e,"auth-domain-config-required"),In(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:hd,eventId:a};if(t instanceof ww){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",JC(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(t instanceof hp){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const i=o;for(const u of Object.keys(i))i[u]===void 0&&delete i[u];const c=await e._getAppCheckToken(),A=c?`#${rue}=${encodeURIComponent(c)}`:"";return`${aue(e)}?${qm(i).slice(1)}${A}`}function aue({config:e}){return e.emulator?QS(e,nue):`https://${e.authDomain}/${tue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="webStorageSupport";class sue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WS,this._completeRedirectFn=qV,this._overrideRedirectResult=Bce}async _openPopup(t,n,r,a){Jc(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=await LD(t,n,r,tE(),a);return Zce(t,s,jS())}async _openRedirect(t,n,r,a){await this._originValidation(t);const s=await LD(t,n,r,tE(),a);return lce(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(Jc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Wce(t),r=new Fce(t);return n.register("authEvent",a=>(In(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(sx,{type:sx},a=>{const s=a?.[0]?.[sx];s!==void 0&&n(!!s),jl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Nce(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return PV()||BV()||GS()}}const XV=sue;var VD="@firebase/auth",MD="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){In(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iue(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lue(e){Wl(new il("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:i}=r.options;In(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:i,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DV(e)},A=new Qle(r,a,s,c);return $le(A,n),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Wl(new il("auth-internal",t=>{const n=Xm(t.getProvider("auth").getImmediate());return(r=>new oue(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yo(VD,MD,iue(e)),Yo(VD,MD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cue=300,uue=oV("authIdTokenMaxAge")||cue;let OD=null;const due=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uue)return;const a=n?.token;OD!==a&&(OD=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Aue(e=mV()){const t=AV(e,"auth");if(t.isInitialized())return t.getImmediate();const n=UV(e,{popupRedirectResolver:XV,persistence:[$V,$S,WS]}),r=oV("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=due(s.toString());tce(n,o,()=>o(n.currentUser)),VV(n,i=>o(i))}}const a=Ooe("auth");return a&&Wle(n,`http://${a}`),n}function fue(){return document.getElementsByTagName("head")?.[0]??document}Hle({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const s=tl("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",fue().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lue("Browser");const mue={apiKey:"AIzaSyB8g1LkpQ-pkRyoMT02e7Y-AkSgBt21tVI",authDomain:"origami-clinic.firebaseapp.com",projectId:"origami-clinic",storageBucket:"origami-clinic.firebasestorage.app",messagingSenderId:"1062163572761",appId:"1:1062163572761:web:c3c03832110d86365b2288",measurementId:"G-HSMXCJSMKS"};console.log("Initializing Firebase for Electron...");let ay,ts,zf,ox=!1;try{ay=fV(mue),console.log("Firebase app initialized successfully"),ts=Aue(ay),console.log("Firebase auth initialized successfully"),ox=()=>typeof window<"u"&&window.process&&window.process.type==="renderer",console.log("Running in Electron:",ox()),zf=new Uc,zf.setCustomParameters({prompt:"select_account",include_granted_scopes:"true",access_type:"online"}),zf.addScope("email"),zf.addScope("profile"),console.log("Firebase initialized:",{app:!!ay,auth:!!ts,isElectron:ox()}),(async()=>{try{await ece(ts,$S),console.log("Firebase auth persistence set to LOCAL"),ts.onAuthStateChanged(t=>{console.log("Auth state changed in firebase.js:",!!t)})}catch(t){console.error("Error setting Firebase auth persistence:",t)}})()}catch(e){throw console.error("Failed to initialize Firebase:",e),e}const hue={namespaced:!0,state:{user:null,loading:!1,error:null,isFirstTimeSignIn:!1,redirectInProgress:!1},mutations:{SET_USER(e,t){if(e.user=t,t){const n=t.metadata;e.isFirstTimeSignIn=n.creationTime===n.lastSignInTime}else e.isFirstTimeSignIn=!1},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},SET_REDIRECT_IN_PROGRESS(e,t){e.redirectInProgress=t}},actions:{async signInWithGoogle({commit:e}){try{e("SET_LOADING",!0),e("SET_ERROR",null),console.log("Starting Google sign in with popup...");let t;try{t=await _ce(ts,zf),console.log("Popup authentication successful:",t.user)}catch(r){console.log("Popup failed, trying redirect:",r),e("SET_REDIRECT_IN_PROGRESS",!0),await Sce(ts,zf);return}return e("SET_USER",t.user),e("SET_REDIRECT_IN_PROGRESS",!1),t.user.metadata.creationTime===t.user.metadata.lastSignInTime}catch(t){throw console.error("Sign in error:",t),e("SET_REDIRECT_IN_PROGRESS",!1),t.code==="auth/popup-closed-by-user"?e("SET_ERROR","Sign in was cancelled. Please try again."):t.code==="auth/popup-blocked"?e("SET_ERROR","Popup was blocked. Please allow popups and try again."):t.code==="auth/network-request-failed"?e("SET_ERROR","Network error. Please check your internet connection and try again."):e("SET_ERROR",t.message||"Authentication failed. Please try again."),t}finally{e("SET_LOADING",!1)}},async handleRedirectResult({commit:e}){try{e("SET_LOADING",!0),e("SET_ERROR",null);const t=await Ice(ts);return t?(console.log("Redirect authentication successful:",t.user),e("SET_USER",t.user),e("SET_REDIRECT_IN_PROGRESS",!1),t.user.metadata.creationTime===t.user.metadata.lastSignInTime):!1}catch(t){throw console.error("Redirect result error:",t),e("SET_ERROR",t.message||"Authentication failed. Please try again."),t}finally{e("SET_LOADING",!1)}},async signOut({commit:e}){try{e("SET_LOADING",!0),e("SET_ERROR",null),await rce(ts),e("SET_USER",null),e("SET_REDIRECT_IN_PROGRESS",!1)}catch(t){throw e("SET_ERROR",t.message),t}finally{e("SET_LOADING",!1)}},initAuthState({commit:e}){return new Promise(t=>nce(ts,r=>{if(console.log("Auth state changed in store:",!!r),e("SET_USER",r),r){const a=r.metadata.creationTime===r.metadata.lastSignInTime;t({user:r,isFirstTime:a})}else t({user:null,isFirstTime:!1})},r=>{console.error("Auth state change error in store:",r),e("SET_USER",null),t({user:null,isFirstTime:!1})}))}},getters:{isAuthenticated:e=>!!e.user,currentUser:e=>e.user,isLoading:e=>e.loading,authError:e=>e.error,isFirstTimeSignIn:e=>e.isFirstTimeSignIn,isRedirectInProgress:e=>e.redirectInProgress}},vue=async()=>{try{return{data:(await Bt.get("/doctor/")).data.data.doctors,error:null}}catch(e){return console.error("There was an error fetching the doctors:",e?.response||e),{data:[],error:e}}},pue={namespaced:!0,state:()=>({doctors:[],doctorId:1,initialized:!1}),getters:{allDoctors:e=>e.doctors,currentDoctorId:e=>e.doctorId,currentDoctor:e=>e.doctors.find(t=>t.id===e.doctorId),isInitialized:e=>e.initialized,isProcedurePrimary:e=>e.doctors.find(n=>n.id===e.doctorId)?.procedurePrimary||!1,isGSTRegistered:e=>e.doctors.find(n=>n.id===e.doctorId)?.isGST||!1,gstIdentifier:e=>e.doctors.find(n=>n.id===e.doctorId)?.gstIdentifier||"",isPharmacyEnabled:e=>e.doctors.find(n=>n.id===e.doctorId)?.isPharmacy||!1},mutations:{setDoctors(e,t){e.doctors=t},setDoctorId(e,t){e.doctorId=t},setInitialized(e,t){e.initialized=t}},actions:{async fetchDoctors({commit:e}){const t=await vue();return e("setDoctors",t.data),t},async initializeDoctors({dispatch:e,commit:t,state:n}){if(!n.initialized)try{const r=await e("fetchDoctors");if(r.error){console.warn("Failed to fetch doctors due to API error:",r.error),t("setDoctorId",1),t("setInitialized",!0);return}r.data&&r.data.length>0?(console.log(`Found ${r.data.length} doctors, setting first as active`),t("setDoctorId",r.data[0].id)):(console.warn("No doctors found - using fallback ID 1"),t("setDoctorId",1)),t("setInitialized",!0)}catch(r){console.error("Error initializing doctors:",r),t("setDoctorId",1),t("setInitialized",!0)}}}},gue=async()=>{try{return{data:(await Bt.get("/clinic/")).data.data.clinics,error:null}}catch(e){return console.error("There was an error fetching the doctors:",e?.response||e),{data:[],error:e}}},yue=async e=>{try{return await Bt.post("/clinic/",e),{error:null}}catch(t){return console.error("There was an error adding the clinic:",t),{error:t}}},wue={namespaced:!0,state:()=>({clinics:[],clinicId:1,initialized:!1}),getters:{allClinics:e=>e.clinics,currentClinicId:e=>e.clinicId,currentClinic:e=>e.clinics.find(t=>t.id===e.clinicId),isInitialized:e=>e.initialized},mutations:{setClinics(e,t){e.clinics=t},setClinicId(e,t){e.clinicId=t},setInitialized(e,t){e.initialized=t}},actions:{async fetchClinics({commit:e}){const t=await gue();return e("setClinics",t.data),t},async initializeClinics({dispatch:e,commit:t,state:n}){if(!n.initialized)try{const r=await e("fetchClinics");if(r.error){console.warn("Failed to fetch clinics due to API error:",r.error),t("setClinicId",1),t("setInitialized",!0);return}if(!r.data||r.data.length===0){console.log("No clinics found in database, creating default clinic...");const s=await yue({clinicName:"Clinic 1",clinicAddress:"Maharashtra",contactNumber:""});if(s.error)console.error("Failed to create default clinic:",s.error),t("setClinicId",1);else{console.log("Default clinic created successfully");const o=await e("fetchClinics");o.data&&o.data.length>0&&t("setClinicId",o.data[0].id)}}else console.log(`Found ${r.data.length} clinics, setting first as active`),t("setClinicId",r.data[0].id);t("setInitialized",!0)}catch(r){console.error("Error initializing clinics:",r),t("setClinicId",1),t("setInitialized",!0)}}}},_ue={extensionContent:null},bue={SET_EXTENSION_CONTENT(e,t){e.extensionContent=t},CLEAR_EXTENSION_CONTENT(e){e.extensionContent=null}},xue={setExtensionContent({commit:e},t){e("SET_EXTENSION_CONTENT",t)},clearExtensionContent({commit:e}){e("CLEAR_EXTENSION_CONTENT")}},Cue={extensionContent:e=>e.extensionContent},Eue={namespaced:!0,state:_ue,mutations:bue,actions:xue,getters:Cue},Bue={show:!1,message:"",color:"info",timeout:4e3},Sue={SHOW_SNACKBAR(e,{message:t,color:n="info",timeout:r=4e3}){e.show=!0,e.message=t,e.color=n,e.timeout=r},HIDE_SNACKBAR(e){e.show=!1,e.message=""},SET_SNACKBAR_VISIBILITY(e,t){e.show=t}},kue={showSnackbar({commit:e},t){e("SHOW_SNACKBAR",t)},hideSnackbar({commit:e}){e("HIDE_SNACKBAR")},setSnackbarVisibility({commit:e},t){e("SET_SNACKBAR_VISIBILITY",t)},showSuccess({commit:e},t){e("SHOW_SNACKBAR",{message:t,color:"success"})},showError({commit:e},t){e("SHOW_SNACKBAR",{message:t,color:"error"})},showWarning({commit:e},t){e("SHOW_SNACKBAR",{message:t,color:"warning"})},showInfo({commit:e},t){e("SHOW_SNACKBAR",{message:t,color:"info"})}},Iue={snackbar:e=>e,isSnackbarVisible:e=>e.show,snackbarMessage:e=>e.message,snackbarColor:e=>e.color},Tue={namespaced:!0,state:Bue,mutations:Sue,actions:kue,getters:Iue},Fue={namespaced:!0,state:{filters:{diagnosis:null,medicine:null,dateFrom:"",dateTo:"",patientName:"",gender:"",ageGreaterThan:"",ageLessThan:""},searchResults:[],isLoading:!1,hasSearched:!1,lastSearchTime:null,totalResults:0,searchError:null,currentPage:1,resultsPerPage:20},getters:{hasActiveFilters:e=>!!(e.filters.diagnosis||e.filters.medicine||e.filters.dateFrom||e.filters.dateTo||e.filters.patientName?.trim()||e.filters.gender||e.filters.ageGreaterThan||e.filters.ageLessThan),searchSummary:e=>e.hasSearched?{totalResults:e.totalResults,filters:{...e.filters},searchTime:e.lastSearchTime,hasResults:e.searchResults.length>0}:null,activeFiltersText:(e,t,n)=>{if(!t.hasActiveFilters)return"";const r=e.filters,a=[];r.diagnosis&&typeof r.diagnosis=="string"&&r.diagnosis.trim()&&a.push(`Diagnosis: ${r.diagnosis}`),r.medicine&&typeof r.medicine=="string"&&r.medicine.trim()&&a.push(`Medicine: ${r.medicine}`),r.dateFrom&&r.dateTo?a.push(`Date: ${r.dateFrom} to ${r.dateTo}`):r.dateFrom?a.push(`From: ${r.dateFrom}`):r.dateTo&&a.push(`Until: ${r.dateTo}`),r.patientName?.trim()&&a.push(`Patient: ${r.patientName.trim()}`),r.gender?.trim()&&a.push(`Gender: ${r.gender.trim()}`),(r.ageGreaterThan||r.ageLessThan)&&(r.ageGreaterThan&&r.ageLessThan?a.push(`Age: ${r.ageGreaterThan}-${r.ageLessThan} years`):r.ageGreaterThan?a.push(`Age: Over ${r.ageGreaterThan} years`):r.ageLessThan&&a.push(`Age: Under ${r.ageLessThan} years`));const s=n.doctorModule?.doctorId,i=n.doctorModule?.doctors?.find(c=>c.id===s)?.doctorName;return i&&a.push(`Doctor: ${i}`),a.join("  ")}},mutations:{SET_FILTERS(e,t){e.filters={...e.filters,...t}},SET_SEARCH_RESULTS(e,{results:t,total:n}){e.searchResults=t||[],e.totalResults=n||0,e.hasSearched=!0,e.lastSearchTime=new Date().toISOString(),e.searchError=null},SET_LOADING(e,t){e.isLoading=!!t},SET_ERROR(e,t){e.searchError=t,e.isLoading=!1},CLEAR_SEARCH(e){e.searchResults=[],e.hasSearched=!1,e.totalResults=0,e.lastSearchTime=null,e.searchError=null},RESET_FILTERS(e){e.filters={diagnosis:null,medicine:null,dateFrom:"",dateTo:"",patientName:"",gender:"",ageGreaterThan:"",ageLessThan:""}},CLEAR_ALL(e){e.filters={diagnosis:null,medicine:null,dateFrom:"",dateTo:"",patientName:"",gender:"",ageGreaterThan:"",ageLessThan:""},e.searchResults=[],e.hasSearched=!1,e.totalResults=0,e.lastSearchTime=null,e.searchError=null,e.isLoading=!1}},actions:{async performSearch({commit:e,state:t,rootState:n}){const{fetchResearchData:r}=await Ca(async()=>{const{fetchResearchData:a}=await import("./researchUtils-DCIVk7LC.js");return{fetchResearchData:a}},[]);e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=n.doctorModule?.doctorId;if(!a)throw new Error("No doctor selected. Please select a doctor first.");const s={...t.filters,doctor_id:a};console.log(" Performing research search with filters (including current doctor):",s);const o=await r(s);if(o.error)throw new Error(`Search failed: ${o.error.message||"Unknown error"}`);const i=Array.isArray(o.data)?o.data:[];return e("SET_SEARCH_RESULTS",{results:i,total:i.length}),console.log(" Research search completed:",i.length,"results"),{data:i,error:null,success:!0}}catch(a){return console.error(" Research search failed:",a),e("SET_ERROR",a.message||"Failed to search research data"),{data:[],error:a,success:!1}}finally{e("SET_LOADING",!1)}},async updateFilters({commit:e,dispatch:t,getters:n},{filters:r,autoSearch:a=!1}){return e("SET_FILTERS",r),a&&n.hasActiveFilters?await t("performSearch"):{success:!0}},clearSearch({commit:e}){e("CLEAR_SEARCH")},clearFilters({commit:e}){e("RESET_FILTERS")},clearAll({commit:e}){e("CLEAR_ALL")}}},Pue={namespaced:!0,state:{filters:{procedureName:"",dateFrom:"",dateTo:"",gender:"",ageGreaterThan:"",ageLessThan:""},searchResults:[],isLoading:!1,hasSearched:!1,lastSearchTime:null,totalResults:0,searchError:null,currentPage:1,resultsPerPage:20},getters:{hasActiveFilters:e=>!!(e.filters.procedureName?.trim()||e.filters.dateFrom||e.filters.dateTo||e.filters.gender||e.filters.ageGreaterThan||e.filters.ageLessThan),searchSummary:e=>e.hasSearched?{totalResults:e.totalResults,filters:{...e.filters},searchTime:e.lastSearchTime,hasResults:e.searchResults.length>0}:null,activeFiltersText:(e,t,n)=>{if(!t.hasActiveFilters)return"";const r=e.filters,a=[];r.procedureName?.trim()&&a.push(`Procedure: ${r.procedureName.trim()}`),r.dateFrom&&r.dateTo?a.push(`Date: ${r.dateFrom} to ${r.dateTo}`):r.dateFrom?a.push(`From: ${r.dateFrom}`):r.dateTo&&a.push(`Until: ${r.dateTo}`),r.gender?.trim()&&a.push(`Gender: ${r.gender.trim()}`),(r.ageGreaterThan||r.ageLessThan)&&(r.ageGreaterThan&&r.ageLessThan?a.push(`Age: ${r.ageGreaterThan}-${r.ageLessThan} years`):r.ageGreaterThan?a.push(`Age: Over ${r.ageGreaterThan} years`):r.ageLessThan&&a.push(`Age: Under ${r.ageLessThan} years`));const s=n.doctorModule?.doctorId,i=n.doctorModule?.doctors?.find(c=>c.id===s)?.doctorName;return i&&a.push(`Doctor: ${i}`),a.join("  ")}},mutations:{SET_FILTERS(e,t){e.filters={...e.filters,...t}},SET_SEARCH_RESULTS(e,{results:t,total:n}){e.searchResults=t||[],e.totalResults=n||0,e.hasSearched=!0,e.lastSearchTime=new Date().toISOString(),e.searchError=null},SET_LOADING(e,t){e.isLoading=!!t},SET_ERROR(e,t){e.searchError=t,e.isLoading=!1},CLEAR_SEARCH(e){e.searchResults=[],e.hasSearched=!1,e.totalResults=0,e.lastSearchTime=null,e.searchError=null},RESET_FILTERS(e){e.filters={procedureName:"",dateFrom:"",dateTo:"",gender:"",ageGreaterThan:"",ageLessThan:""}},CLEAR_ALL(e){e.filters={procedureName:"",dateFrom:"",dateTo:"",gender:"",ageGreaterThan:"",ageLessThan:""},e.searchResults=[],e.hasSearched=!1,e.totalResults=0,e.lastSearchTime=null,e.searchError=null,e.isLoading=!1}},actions:{async performSearch({commit:e,state:t,rootState:n}){const{searchProcedureResearch:r}=await Ca(async()=>{const{searchProcedureResearch:a}=await Promise.resolve().then(()=>ife);return{searchProcedureResearch:a}},void 0);e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=n.doctorModule?.doctorId;if(!a)throw new Error("No doctor selected. Please select a doctor first.");const s={...t.filters,doctor_id:a};console.log(" Performing procedure research search with filters:",s);const o=await r(s);if(o.error)throw new Error(`Search failed: ${o.error.message||"Unknown error"}`);const i=Array.isArray(o.data)?o.data:[];return e("SET_SEARCH_RESULTS",{results:i,total:i.length}),console.log(" Procedure research search completed:",i.length,"results"),{data:i,error:null,success:!0}}catch(a){return console.error(" Procedure research search failed:",a),e("SET_ERROR",a.message||"Failed to search procedure research data"),{data:[],error:a,success:!1}}finally{e("SET_LOADING",!1)}},async updateFilters({commit:e,dispatch:t,getters:n},{filters:r,autoSearch:a=!1}){return e("SET_FILTERS",r),a&&n.hasActiveFilters?await t("performSearch"):{success:!0}},clearSearch({commit:e}){e("CLEAR_SEARCH")},clearFilters({commit:e}){e("RESET_FILTERS")},clearAll({commit:e}){e("CLEAR_ALL")}}},Due={filters:{reminderType:"",reminderStatus:"",patientName:"",dateFrom:"",dateTo:""},searchResults:[],rawResults:{appointments:[],consultations:[],treatmentPlans:[]},isLoading:!1,hasSearched:!1,searchError:null,partialErrors:[],lastSearchTime:null,totalResults:0},Uue={hasActiveFilters:e=>!!(e.filters.reminderType&&e.filters.reminderType!==""||e.filters.reminderStatus&&e.filters.reminderStatus!==""||e.filters.patientName?.trim()||e.filters.dateFrom||e.filters.dateTo),searchSummary:e=>e.hasSearched?{totalResults:e.totalResults,filters:{...e.filters},searchTime:e.lastSearchTime,hasResults:e.searchResults.length>0,hasPartialErrors:e.partialErrors.length>0}:null,activeFiltersText:(e,t,n)=>{if(!t.hasActiveFilters)return"";const r=e.filters,a=[];if(r.reminderType&&r.reminderType!==""){const c={appointment:"Appointments",consultation:"Consultations",procedures:"Treatment Plans"};a.push(`Type: ${c[r.reminderType]||r.reminderType}`)}if(r.reminderStatus&&r.reminderStatus!==""){const c={pending:"Pending",completed:"Completed"};a.push(`Status: ${c[r.reminderStatus]||r.reminderStatus}`)}r.patientName?.trim()&&a.push(`Patient: ${r.patientName.trim()}`),r.dateFrom&&r.dateTo?a.push(`Date: ${r.dateFrom} to ${r.dateTo}`):r.dateFrom?a.push(`From: ${r.dateFrom}`):r.dateTo&&a.push(`Until: ${r.dateTo}`);const s=n.doctorModule?.doctorId,i=n.doctorModule?.doctors?.find(c=>c.id===s)?.doctorName;return i&&a.push(`Doctor: ${i}`),a.join("  ")},uniquePatientsCount:e=>e.searchResults.length?new Set(e.searchResults.map(n=>n.patientId)).size:0,pendingRemindersCount:e=>e.searchResults.filter(t=>t.status==="pending").length,completedRemindersCount:e=>e.searchResults.filter(t=>t.status==="completed").length,appointmentReminders:e=>e.searchResults.filter(t=>t.type==="appointment"),consultationReminders:e=>e.searchResults.filter(t=>t.type==="consultation"),treatmentPlanReminders:e=>e.searchResults.filter(t=>t.type==="procedures")},Rue={SET_FILTERS(e,t){e.filters={...e.filters,...t}},SET_SEARCH_RESULTS(e,{results:t,rawResults:n,total:r,partialErrors:a}){e.searchResults=t||[],e.rawResults=n||{appointments:[],consultations:[],treatmentPlans:[]},e.totalResults=r||0,e.partialErrors=a||[],e.hasSearched=!0,e.lastSearchTime=new Date().toISOString(),e.searchError=null},SET_LOADING(e,t){e.isLoading=!!t},SET_ERROR(e,t){e.searchError=t,e.isLoading=!1},CLEAR_SEARCH(e){e.searchResults=[],e.rawResults={appointments:[],consultations:[],treatmentPlans:[]},e.hasSearched=!1,e.totalResults=0,e.lastSearchTime=null,e.searchError=null,e.partialErrors=[]},RESET_FILTERS(e){e.filters={reminderType:"",reminderStatus:"",patientName:"",dateFrom:"",dateTo:""}},CLEAR_ALL(e){e.filters={reminderType:"",reminderStatus:"",patientName:"",dateFrom:"",dateTo:""},e.searchResults=[],e.rawResults={appointments:[],consultations:[],treatmentPlans:[]},e.hasSearched=!1,e.totalResults=0,e.lastSearchTime=null,e.searchError=null,e.partialErrors=[],e.isLoading=!1},UPDATE_REMINDER_STATUS(e,{id:t,isReminded:n}){const r=e.searchResults.find(a=>a.id===t);r&&(r.status=n?"completed":"pending",r.details.isReminded=n)}},Nue={async performSearch({commit:e,state:t,rootState:n}){const{fetchAllReminders:r}=await Ca(async()=>{const{fetchAllReminders:a}=await import("./reminderUtils-B7D-kY4V.js");return{fetchAllReminders:a}},[]);e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=n.doctorModule?.doctorId;if(!a)throw new Error("No doctor selected. Please select a doctor first.");const s={...t.filters,doctor_id:a};t.filters.reminderStatus==="pending"?s.reminded=!1:t.filters.reminderStatus==="completed"&&(s.reminded=!0),console.log(" Performing reminder search with filters (including current doctor):",s);const o=await r(s);if(o.error&&o.data.length===0)throw new Error(o.error);const i=o.data||[];return e("SET_SEARCH_RESULTS",{results:i,rawResults:o.rawResults||{},total:i.length,partialErrors:o.partialErrors||[]}),console.log(" Reminder search completed:",i.length,"results"),o.partialErrors?.length>0&&console.warn(" Search completed with partial errors:",o.partialErrors),{data:i,error:null,success:!0,partialErrors:o.partialErrors}}catch(a){return console.error(" Reminder search failed:",a),e("SET_ERROR",a.message||"Failed to search reminders"),{data:[],error:a,success:!1,partialErrors:[]}}finally{e("SET_LOADING",!1)}},async updateFilters({commit:e,dispatch:t,getters:n},{filters:r,autoSearch:a=!1}){return e("SET_FILTERS",r),console.log(" Reminder filters updated:",r),a&&n.hasActiveFilters?await t("performSearch"):{success:!0}},clearSearch({commit:e}){return e("CLEAR_SEARCH"),console.log(" Reminder search results cleared"),{success:!0}},resetFilters({commit:e}){return e("RESET_FILTERS"),console.log(" Reminder filters reset"),{success:!0}},clearAll({commit:e}){return e("CLEAR_ALL"),console.log(" All reminder filters and results cleared"),{success:!0}},async markAsReminded({commit:e,rootState:t},{reminder:n,isReminded:r}){try{const{updateReminderStatus:a}=await Ca(async()=>{const{updateReminderStatus:u}=await import("./reminderUtils-B7D-kY4V.js");return{updateReminderStatus:u}},[]),s=n.details.reminderType,o=n.originalId,i=n.details,c=t.clinicModule?.clinicId;c&&!i.clinicId&&!i.clinic_id&&(i.clinic_id=c),console.log(` Marking ${s} reminder as ${r?"reminded":"not reminded"}:`,o),console.log(" Original data:",i);const A=await a(s,o,r,i);if(A.success)return e("UPDATE_REMINDER_STATUS",{id:n.id,isReminded:r}),console.log(" Reminder status updated successfully"),{success:!0,error:null};throw new Error(A.error||"Failed to update reminder status")}catch(a){return console.error(" Failed to update reminder status:",a),{success:!1,error:a.message||"Failed to update reminder status"}}}},Lue={namespaced:!0,state:Due,getters:Uue,mutations:Rue,actions:Nue},Vue=()=>localStorage.getItem("selectedTranslationLanguage")||"none",Mue=()=>{const e=localStorage.getItem("selectedHeaderSize");return e?parseInt(e,10):130},Ns=tne({state:{doctorId:1,clinicId:1,appInitialized:!1,appInitializing:!0,selectedTranslationLanguage:Vue(),selectedHeaderSize:Mue()},getters:{isAppInitialized:e=>e.appInitialized,isAppInitializing:e=>e.appInitializing,getCurrentDoctorId:e=>e.doctorId,getCurrentClinicId:e=>e.clinicId,getSelectedTranslationLanguage:e=>e.selectedTranslationLanguage,getSelectedHeaderSize:e=>e.selectedHeaderSize},mutations:{setDoctorId(e,t){e.doctorId=t},setClinicId(e,t){e.clinicId=t},setAppInitialized(e,t){e.appInitialized=t},setAppInitializing(e,t){e.appInitializing=t},setSelectedTranslationLanguage(e,t){e.selectedTranslationLanguage=t,t&&t!=="none"?localStorage.setItem("selectedTranslationLanguage",t):localStorage.removeItem("selectedTranslationLanguage")},setSelectedHeaderSize(e,t){const n=Math.max(50,Math.min(200,parseInt(t,10)||130));e.selectedHeaderSize=n,localStorage.setItem("selectedHeaderSize",n.toString())}},actions:{updateDoctorId({commit:e},t){e("setDoctorId",t)},updateClinicId({commit:e},t){e("setClinicId",t)},updateSelectedTranslationLanguage({commit:e},t){e("setSelectedTranslationLanguage",t)},updateSelectedHeaderSize({commit:e},t){e("setSelectedHeaderSize",t)}},modules:{auth:hue,doctorModule:pue,clinicModule:wue,appBar:Eue,snackbar:Tue,researchModule:Fue,procedureResearchModule:Pue,reminderModule:Lue}}),YS="endpoint";function Oue(e){try{const t=new URL(window.location);return t.searchParams.set("server",e),window.history.replaceState({},"",t.toString()),console.log(`IP address saved to URL: ${e}`),!0}catch(t){return console.warn("Failed to save IP to URL:",t),!1}}function Que(){try{const t=new URL(window.location).searchParams.get("server");if(t)return console.log("Retrieved IP from URL:",t),t}catch(e){console.warn("Failed to get IP from URL:",e)}return null}const Hue=e=>Oue(e),ll=()=>{const e=Que();return e||console.log("No IP address found in URL"),e},XS=e=>!e||typeof e!="string"?!1:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e.trim());function Kue(e){try{const t=new URL(window.location);return t.searchParams.set(YS,e),window.history.replaceState({},"",t.toString()),console.log(`Endpoint URL saved to URL: ${e}`),!0}catch(t){return console.warn("Failed to save endpoint to URL:",t),!1}}function Gue(){try{const t=new URL(window.location).searchParams.get(YS);if(t)return console.log("Retrieved endpoint from URL:",t),t}catch(e){console.warn("Failed to get endpoint from URL:",e)}return null}function zue(){try{const e=new URL(window.location);e.searchParams.delete(YS),window.history.replaceState({},"",e.toString()),console.log("Endpoint URL removed from URL")}catch(e){console.warn("Failed to remove endpoint from URL:",e)}}const $ue=e=>Kue(e),pp=()=>{const e=Gue();return e||console.log("No endpoint URL found in URL"),e},Wue=()=>(zue(),!0),gp=()=>{try{const e=window.location.href;console.log("Current URL for config extraction:",e);let t="";if(window.location.search)t=window.location.search,console.log("Found search params in URL:",t);else if(window.location.hash&&window.location.hash.includes("?")){const s=window.location.hash.split("?");s.length>1&&(t="?"+s[1],console.log("Found search params in hash:",t))}console.log("Using search params:",t);const n=new URLSearchParams(t),r=n.get("endpoint");if(r&&r.trim())return console.log("Extracted endpoint parameter:",r),r;const a=n.get("serverIp")||n.get("ip")||n.get("server");return console.log("Extracted server parameter:",a),a?XS(a)?(console.log("Valid server IP extracted from URL:",a),a):(console.log("Server parameter is a domain name, treating as endpoint:",a),a.startsWith("http")?a:`https://${a}`):(console.log("No server config parameter found in URL"),null)}catch(e){return console.error("Error extracting server config from URL:",e),null}},jue=()=>{const e=gp();return e&&!e.startsWith("http")&&XS(e)?e:null},ZS=()=>{const e=new URLSearchParams(window.location.search);let t=null;if(window.location.hash&&window.location.hash.includes("?")){const a=window.location.hash.split("?");a.length>1&&(t=new URLSearchParams("?"+a[1]))}const n=e.has("endpoint")||e.has("serverIp")||e.has("ip")||e.has("server"),r=t&&(t.has("endpoint")||t.has("serverIp")||t.has("ip")||t.has("server"));return n||r},Jue=()=>ZS()&&gp()!==null,que=(e,t="success")=>{const n=document.createElement("div");n.style.cssText=`
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 12px 20px;
    border-radius: 4px;
    color: white;
    font-size: 14px;
    z-index: 10000;
    background: ${t==="success"?"#28a745":"#dc3545"};
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  `,n.textContent=e,document.body.appendChild(n),setTimeout(()=>{document.body.contains(n)&&document.body.removeChild(n)},3e3)};let yp=uo().api.https,sy=!1,Jy=0,qy=!1;const Bt=ca.create({baseURL:yp,headers:{"Content-Type":"application/json"}}),Sv=new Map,ek=e=>`${e.method}_${e.url}_${JSON.stringify(e.params||{})}`,Yue=e=>{const t=ek(e);return(Sv.get(t)||0)>=1},QD=e=>{const t=ek(e),n=Sv.get(t)||0;return Sv.set(t,n+1),n+1},Xue=e=>{const t=ek(e);Sv.delete(t)},xw=e=>{console.log(`API client base URL updated to: ${e}`),yp=e,Bt.defaults.baseURL=e},cm=async e=>{if(!e)return!1;let t;if(e.startsWith("http")){const n=e.replace(/\/$/,"");t=n.endsWith("/api")?n:n+"/api",$ue(e),console.log(`Updating API client to endpoint: ${t}`)}else t=uo(e).api.https,Hue(e),console.log(`Updating API client from ${yp} to ${t}`);return xw(t),que("Server configuration updated successfully","success"),!0},lA=()=>yp,ZV=()=>{Jy=0,console.log("Failed attempts counter reset")},e8=()=>{Sv.clear(),console.log("All retry counts cleared")},t8=async()=>(console.log("Manually triggering IP prompt..."),sy=!1,Jy=0,null),n8=async()=>{console.log("Endpoint failed, attempting fallback to server parameter..."),Wue();const e=jue();if(e&&XS(e))return console.log("Found server parameter for fallback:",e),await cm(e);const t=ll();return t?(console.log("Using stored IP as fallback:",t),await cm(t)):(console.log("No fallback server configuration found"),!1)},Zue=async e=>{try{const t=uo(e).health.https;return(await fetch(t,{method:"GET",signal:AbortSignal.timeout(3e3)})).ok}catch(t){return console.log("IP connection test failed:",t.message),!1}},r8=async()=>{if(console.log(" Initializing API client with URL parameters..."),console.log(" Current URL:",window.location.href),console.log(" URL search params:",window.location.search),console.log(" URL hash:",window.location.hash),ZS()&&!qy){console.log(" URL parameters detected during API client initialization");const n=gp();if(console.log(" Extracted URL config:",n),n){console.log(" Using config from URL parameters for API client:",n),await cm(n),qy=!0,console.log(" API client base URL updated to:",lA());return}}const e=pp();if(console.log(" Endpoint from URL:",e),e){console.log(" Initializing API client with endpoint from URL:",e),await cm(e),console.log(" API client base URL updated to:",lA());return}const t=ll();if(console.log(" IP from URL:",t),t){console.log(" Initializing API client with IP from URL:",t),await cm(t),console.log(" API client base URL updated to:",lA());return}console.log(" No server configuration found in URL, connection prompt will be triggered on first API call")};window.addEventListener("online",async()=>{if(console.log("Device came online, checking URL configuration validity..."),pp()){console.log("Endpoint found in URL, letting actual API calls determine validity");return}const t=ll();if(t){const n=await Zue(t);console.log(n?"IP from URL is still valid":"IP from URL is no longer valid, but keeping it for user to decide")}});Bt.interceptors.request.use(async e=>{const t=ts.currentUser;if(t){const n=await t.getIdToken();e.headers.Authorization=`Bearer ${n}`}return e},e=>Promise.reject(e));Bt.interceptors.response.use(e=>{if(Jy=0,Xue(e.config),e.data){const{success:t,message:n}=e.data,r=e.config.skipMessages||!1;if(t&&n&&e.config.method!=="get"&&!r&&Ns.dispatch("snackbar/showSuccess",n),!t&&(n||e.data.error)&&!r){const a=e.data.error||n;Ns.dispatch("snackbar/showError",a)}}return e},async e=>{console.log("API Error intercepted:",{code:e.code,message:e.message,request:!!e.request,response:!!e.response});const t=e.message&&(e.message.includes("certificate")||e.message.includes("SSL")||e.message.includes("TLS")||e.message.includes("self-signed")),n=e.code==="ERR_NETWORK"||e.code==="ECONNREFUSED"||e.code==="ERR_INTERNET_DISCONNECTED"||e.code==="ERR_NETWORK_CHANGED"||e.code==="ERR_CONNECTION_REFUSED"||e.code==="ERR_CONNECTION_RESET"||e.code==="ERR_CONNECTION_ABORTED"||e.code==="ERR_CONNECTION_CLOSED"||e.code==="ERR_CONNECTION_FAILED"||e.code==="ERR_CONNECTION_TIMED_OUT"||e.code==="ERR_NAME_NOT_RESOLVED"||e.code==="ERR_ADDRESS_UNREACHABLE"||e.code==="ERR_TIMED_OUT"||e.code==="ERR_FAILED"||e.request&&!e.response,r=e.message&&(e.message.includes("ERR_CONNECTION")||e.message.includes("ERR_NETWORK")||e.message.includes("ERR_FAILED")||e.message.includes("ERR_TIMED_OUT")||e.message.includes("ERR_NAME_NOT_RESOLVED")||e.message.includes("ERR_ADDRESS_UNREACHABLE")||e.message.includes("net::ERR_")||e.message.includes("connection")||e.message.includes("network")||e.message.includes("refused")||e.message.includes("timeout")),a=t||n||r;if(console.log("Error classification:",{isCertificateError:t,isConnectionError:n,hasConnectionErrorInMessage:r,shouldPromptForIP:a,isPromptingForIP:sy,failedAttempts:Jy}),a){if(Yue(e.config))return console.log("Request has exceeded retry limit, not attempting IP update"),Promise.reject(e);const s=pp();if(s&&yp===s&&(console.log("Current endpoint failed, attempting fallback to server parameter..."),await n8())){const i=QD(e.config);console.log(`Retrying request with fallback server config (attempt ${i})`);const c=e.config;return c.baseURL=Bt.defaults.baseURL,Bt.request(c)}if(Jue()&&!qy){console.log("Skipping IP prompt due to URL parameters, processing auto-config...");const o=gp();if(o&&(console.log("Using config from URL parameters in error handler:",o),qy=!0,await cm(o))){const c=QD(e.config);console.log(`Retrying request with URL config (attempt ${c})`);const A=e.config;return A.baseURL=Bt.defaults.baseURL,Bt.request(A)}}if(sy)return Promise.reject(e);Ns.dispatch("snackbar/showError","1. Ensure you have internet connection 2. Ensure evamed is working on computer. In case you are still not able to connect please check your link."),sy=!1}return e.request&&!e.response&&(console.log("Fallback: Request made but no response - treating as connection error"),Ns.dispatch("snackbar/showError","1. Ensure you have internet connection 2. Ensure evamed is working on computer. In case you are still not able to connect please check your link.")),e.response?console.error("Response error:",e.response.data):e.request?console.error("Request error:",e.request):console.error("Error:",e.message),Promise.reject(e)});typeof window<"u"&&(window.debugAPI={triggerIPPrompt:t8,resetFailedAttempts:ZV,clearAllRetryCounts:e8,getCurrentBaseURL:lA});const a8=e=>({...e,skipMessages:!0}),s8=Object.freeze(Object.defineProperty({__proto__:null,clearAllRetryCounts:e8,createSilentRequest:a8,default:Bt,getCurrentBaseURL:lA,handleEndpointFallback:n8,initializeAPIClient:r8,resetFailedAttempts:ZV,triggerIPPrompt:t8,updateBaseURL:xw},Symbol.toStringTag,{value:"Module"}));var n1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ede(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var tde=v0.exports,HD;function nde(){return HD||(HD=1,(function(e,t){(function(){var n,r="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",i="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",A=500,u="__lodash_placeholder__",f=1,m=2,v=4,h=1,y=2,w=1,b=2,B=4,S=8,T=16,N=32,k=64,E=128,_=256,C=512,F=30,I="...",R=800,M=16,te=1,se=2,O=3,W=1/0,le=9007199254740991,K=17976931348623157e292,ee=NaN,j=4294967295,U=j-1,G=j>>>1,ne=[["ary",E],["bind",w],["bindKey",b],["curry",S],["curryRight",T],["flip",C],["partial",N],["partialRight",k],["rearg",_]],X="[object Arguments]",oe="[object Array]",q="[object AsyncFunction]",Y="[object Boolean]",ae="[object Date]",ge="[object DOMException]",we="[object Error]",z="[object Function]",Ae="[object GeneratorFunction]",ie="[object Map]",_e="[object Number]",Pe="[object Null]",re="[object Object]",be="[object Promise]",He="[object Proxy]",ke="[object RegExp]",Se="[object Set]",st="[object String]",je="[object Symbol]",Ve="[object Undefined]",Te="[object WeakMap]",Le="[object WeakSet]",ht="[object ArrayBuffer]",Ct="[object DataView]",Dt="[object Float32Array]",Je="[object Float64Array]",Oe="[object Int8Array]",it="[object Int16Array]",at="[object Int32Array]",Xe="[object Uint8Array]",Ut="[object Uint8ClampedArray]",Yt="[object Uint16Array]",bt="[object Uint32Array]",cn=/\b__p \+= '';/g,ln=/\b(__p \+=) '' \+/g,an=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zt=/&(?:amp|lt|gt|quot|#39);/g,$t=/[&<>"']/g,Ke=RegExp(zt.source),me=RegExp($t.source),Ee=/<%-([\s\S]+?)%>/g,nt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,St=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qt=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,En=RegExp(jt.source),hn=/^\s+/,Ot=/\s/,mn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ce=/\{\n\/\* \[wrapped with (.+)\] \*/,Re=/,? & /,pe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ie=/[()=,{}\[\]\/\s]/,Me=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,Ze=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,dt=/^\[object .+?Constructor\]$/,ct=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,Lt="\\ud800-\\udfff",qe="\\u0300-\\u036f",Wt="\\ufe20-\\ufe2f",tn="\\u20d0-\\u20ff",Kn=qe+Wt+tn,Ws="\\u2700-\\u27bf",js="a-z\\xdf-\\xf6\\xf8-\\xff",ai="\\xac\\xb1\\xd7\\xf7",po="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",gl="\\u2000-\\u206f",Sa=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Js="A-Z\\xc0-\\xd6\\xd8-\\xde",qs="\\ufe0e\\ufe0f",Tt=ai+po+gl+Sa,ma="[']",Dn="["+Lt+"]",er="["+Tt+"]",yl="["+Kn+"]",du="\\d+",wd="["+Ws+"]",Jp="["+js+"]",ph="[^"+Lt+Tt+du+Ws+js+Js+"]",gh="\\ud83c[\\udffb-\\udfff]",C_="(?:"+yl+"|"+gh+")",qp="[^"+Lt+"]",yh="(?:\\ud83c[\\udde6-\\uddff]){2}",Ac="[\\ud800-\\udbff][\\udc00-\\udfff]",go="["+Js+"]",wh="\\u200d",_h="(?:"+Jp+"|"+ph+")",Yp="(?:"+go+"|"+ph+")",bh="(?:"+ma+"(?:d|ll|m|re|s|t|ve))?",xh="(?:"+ma+"(?:D|LL|M|RE|S|T|VE))?",fc=C_+"?",Xp="["+qs+"]?",E_="(?:"+wh+"(?:"+[qp,yh,Ac].join("|")+")"+Xp+fc+")*",B_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zp=Xp+fc+E_,Ch="(?:"+[wd,yh,Ac].join("|")+")"+Zp,rf="(?:"+[qp+yl+"?",yl,yh,Ac,Dn].join("|")+")",eg=RegExp(ma,"g"),_d=RegExp(yl,"g"),mc=RegExp(gh+"(?="+gh+")|"+rf+Zp,"g"),tg=RegExp([go+"?"+Jp+"+"+bh+"(?="+[er,go,"$"].join("|")+")",Yp+"+"+xh+"(?="+[er,go+_h,"$"].join("|")+")",go+"?"+_h+"+"+bh,go+"+"+xh,wl,B_,du,Ch].join("|"),"g"),Eh=RegExp("["+wh+Lt+Kn+qs+"]"),ea=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,S_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],k_=-1,Fr={};Fr[Dt]=Fr[Je]=Fr[Oe]=Fr[it]=Fr[at]=Fr[Xe]=Fr[Ut]=Fr[Yt]=Fr[bt]=!0,Fr[X]=Fr[oe]=Fr[ht]=Fr[Y]=Fr[Ct]=Fr[ae]=Fr[we]=Fr[z]=Fr[ie]=Fr[_e]=Fr[re]=Fr[ke]=Fr[Se]=Fr[st]=Fr[Te]=!1;var Sr={};Sr[X]=Sr[oe]=Sr[ht]=Sr[Ct]=Sr[Y]=Sr[ae]=Sr[Dt]=Sr[Je]=Sr[Oe]=Sr[it]=Sr[at]=Sr[ie]=Sr[_e]=Sr[re]=Sr[ke]=Sr[Se]=Sr[st]=Sr[je]=Sr[Xe]=Sr[Ut]=Sr[Yt]=Sr[bt]=!0,Sr[we]=Sr[z]=Sr[Te]=!1;var ng={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},af={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_l={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},I_=parseFloat,bd=parseInt,Bh=typeof n1=="object"&&n1&&n1.Object===Object&&n1,Sh=typeof self=="object"&&self&&self.Object===Object&&self,aa=Bh||Sh||Function("return this")(),sf=t&&!t.nodeType&&t,si=sf&&!0&&e&&!e.nodeType&&e,ag=si&&si.exports===sf,of=ag&&Bh.process,Ja=(function(){try{var ot=si&&si.require&&si.require("util").types;return ot||of&&of.binding&&of.binding("util")}catch{}})(),kh=Ja&&Ja.isArrayBuffer,Ih=Ja&&Ja.isDate,lf=Ja&&Ja.isMap,cf=Ja&&Ja.isRegExp,Th=Ja&&Ja.isSet,xd=Ja&&Ja.isTypedArray;function ws(ot,Et,wt){switch(wt.length){case 0:return ot.call(Et);case 1:return ot.call(Et,wt[0]);case 2:return ot.call(Et,wt[0],wt[1]);case 3:return ot.call(Et,wt[0],wt[1],wt[2])}return ot.apply(Et,wt)}function sg(ot,Et,wt,sn){for(var Fn=-1,Ar=ot==null?0:ot.length;++Fn<Ar;){var Na=ot[Fn];Et(sn,Na,wt(Na),ot)}return sn}function ka(ot,Et){for(var wt=-1,sn=ot==null?0:ot.length;++wt<sn&&Et(ot[wt],wt,ot)!==!1;);return ot}function og(ot,Et){for(var wt=ot==null?0:ot.length;wt--&&Et(ot[wt],wt,ot)!==!1;);return ot}function Fh(ot,Et){for(var wt=-1,sn=ot==null?0:ot.length;++wt<sn;)if(!Et(ot[wt],wt,ot))return!1;return!0}function Ti(ot,Et){for(var wt=-1,sn=ot==null?0:ot.length,Fn=0,Ar=[];++wt<sn;){var Na=ot[wt];Et(Na,wt,ot)&&(Ar[Fn++]=Na)}return Ar}function Cd(ot,Et){var wt=ot==null?0:ot.length;return!!wt&&kn(ot,Et,0)>-1}function _s(ot,Et,wt){for(var sn=-1,Fn=ot==null?0:ot.length;++sn<Fn;)if(wt(Et,ot[sn]))return!0;return!1}function Ur(ot,Et){for(var wt=-1,sn=ot==null?0:ot.length,Fn=Array(sn);++wt<sn;)Fn[wt]=Et(ot[wt],wt,ot);return Fn}function Fi(ot,Et){for(var wt=-1,sn=Et.length,Fn=ot.length;++wt<sn;)ot[Fn+wt]=Et[wt];return ot}function bl(ot,Et,wt,sn){var Fn=-1,Ar=ot==null?0:ot.length;for(sn&&Ar&&(wt=ot[++Fn]);++Fn<Ar;)wt=Et(wt,ot[Fn],Fn,ot);return wt}function P(ot,Et,wt,sn){var Fn=ot==null?0:ot.length;for(sn&&Fn&&(wt=ot[--Fn]);Fn--;)wt=Et(wt,ot[Fn],Fn,ot);return wt}function ue(ot,Et){for(var wt=-1,sn=ot==null?0:ot.length;++wt<sn;)if(Et(ot[wt],wt,ot))return!0;return!1}var ve=yo("length");function Ue(ot){return ot.split("")}function ft(ot){return ot.match(pe)||[]}function pt(ot,Et,wt){var sn;return wt(ot,function(Fn,Ar,Na){if(Et(Fn,Ar,Na))return sn=Ar,!1}),sn}function Kt(ot,Et,wt,sn){for(var Fn=ot.length,Ar=wt+(sn?1:-1);sn?Ar--:++Ar<Fn;)if(Et(ot[Ar],Ar,ot))return Ar;return-1}function kn(ot,Et,wt){return Et===Et?zG(ot,Et,wt):Kt(ot,gr,wt)}function ha(ot,Et,wt,sn){for(var Fn=wt-1,Ar=ot.length;++Fn<Ar;)if(sn(ot[Fn],Et))return Fn;return-1}function gr(ot){return ot!==ot}function va(ot,Et){var wt=ot==null?0:ot.length;return wt?Au(ot,Et)/wt:ee}function yo(ot){return function(Et){return Et==null?n:Et[ot]}}function Pi(ot){return function(Et){return ot==null?n:ot[Et]}}function Di(ot,Et,wt,sn,Fn){return Fn(ot,function(Ar,Na,Rr){wt=sn?(sn=!1,Ar):Et(wt,Ar,Na,Rr)}),wt}function xl(ot,Et){var wt=ot.length;for(ot.sort(Et);wt--;)ot[wt]=ot[wt].value;return ot}function Au(ot,Et){for(var wt,sn=-1,Fn=ot.length;++sn<Fn;){var Ar=Et(ot[sn]);Ar!==n&&(wt=wt===n?Ar:wt+Ar)}return wt}function Ed(ot,Et){for(var wt=-1,sn=Array(ot);++wt<ot;)sn[wt]=Et(wt);return sn}function NG(ot,Et){return Ur(Et,function(wt){return[wt,ot[wt]]})}function fT(ot){return ot&&ot.slice(0,pT(ot)+1).replace(hn,"")}function Lo(ot){return function(Et){return ot(Et)}}function T_(ot,Et){return Ur(Et,function(wt){return ot[wt]})}function Ph(ot,Et){return ot.has(Et)}function mT(ot,Et){for(var wt=-1,sn=ot.length;++wt<sn&&kn(Et,ot[wt],0)>-1;);return wt}function hT(ot,Et){for(var wt=ot.length;wt--&&kn(Et,ot[wt],0)>-1;);return wt}function LG(ot,Et){for(var wt=ot.length,sn=0;wt--;)ot[wt]===Et&&++sn;return sn}var VG=Pi(ng),MG=Pi(af);function OG(ot){return"\\"+rg[ot]}function QG(ot,Et){return ot==null?n:ot[Et]}function uf(ot){return Eh.test(ot)}function HG(ot){return ea.test(ot)}function KG(ot){for(var Et,wt=[];!(Et=ot.next()).done;)wt.push(Et.value);return wt}function F_(ot){var Et=-1,wt=Array(ot.size);return ot.forEach(function(sn,Fn){wt[++Et]=[Fn,sn]}),wt}function vT(ot,Et){return function(wt){return ot(Et(wt))}}function fu(ot,Et){for(var wt=-1,sn=ot.length,Fn=0,Ar=[];++wt<sn;){var Na=ot[wt];(Na===Et||Na===u)&&(ot[wt]=u,Ar[Fn++]=wt)}return Ar}function ig(ot){var Et=-1,wt=Array(ot.size);return ot.forEach(function(sn){wt[++Et]=sn}),wt}function GG(ot){var Et=-1,wt=Array(ot.size);return ot.forEach(function(sn){wt[++Et]=[sn,sn]}),wt}function zG(ot,Et,wt){for(var sn=wt-1,Fn=ot.length;++sn<Fn;)if(ot[sn]===Et)return sn;return-1}function $G(ot,Et,wt){for(var sn=wt+1;sn--;)if(ot[sn]===Et)return sn;return sn}function df(ot){return uf(ot)?jG(ot):ve(ot)}function Ui(ot){return uf(ot)?JG(ot):Ue(ot)}function pT(ot){for(var Et=ot.length;Et--&&Ot.test(ot.charAt(Et)););return Et}var WG=Pi(_l);function jG(ot){for(var Et=mc.lastIndex=0;mc.test(ot);)++Et;return Et}function JG(ot){return ot.match(mc)||[]}function qG(ot){return ot.match(tg)||[]}var YG=(function ot(Et){Et=Et==null?aa:Af.defaults(aa.Object(),Et,Af.pick(aa,S_));var wt=Et.Array,sn=Et.Date,Fn=Et.Error,Ar=Et.Function,Na=Et.Math,Rr=Et.Object,P_=Et.RegExp,XG=Et.String,oi=Et.TypeError,lg=wt.prototype,ZG=Ar.prototype,ff=Rr.prototype,cg=Et["__core-js_shared__"],ug=ZG.toString,kr=ff.hasOwnProperty,ez=0,gT=(function(){var g=/[^.]+$/.exec(cg&&cg.keys&&cg.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""})(),dg=ff.toString,tz=ug.call(Rr),nz=aa._,rz=P_("^"+ug.call(kr).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ag=ag?Et.Buffer:n,mu=Et.Symbol,fg=Et.Uint8Array,yT=Ag?Ag.allocUnsafe:n,mg=vT(Rr.getPrototypeOf,Rr),wT=Rr.create,_T=ff.propertyIsEnumerable,hg=lg.splice,bT=mu?mu.isConcatSpreadable:n,Dh=mu?mu.iterator:n,Bd=mu?mu.toStringTag:n,vg=(function(){try{var g=Fd(Rr,"defineProperty");return g({},"",{}),g}catch{}})(),az=Et.clearTimeout!==aa.clearTimeout&&Et.clearTimeout,sz=sn&&sn.now!==aa.Date.now&&sn.now,oz=Et.setTimeout!==aa.setTimeout&&Et.setTimeout,pg=Na.ceil,gg=Na.floor,D_=Rr.getOwnPropertySymbols,iz=Ag?Ag.isBuffer:n,xT=Et.isFinite,lz=lg.join,cz=vT(Rr.keys,Rr),La=Na.max,bs=Na.min,uz=sn.now,dz=Et.parseInt,CT=Na.random,Az=lg.reverse,U_=Fd(Et,"DataView"),Uh=Fd(Et,"Map"),R_=Fd(Et,"Promise"),mf=Fd(Et,"Set"),Rh=Fd(Et,"WeakMap"),Nh=Fd(Rr,"create"),yg=Rh&&new Rh,hf={},fz=Pd(U_),mz=Pd(Uh),hz=Pd(R_),vz=Pd(mf),pz=Pd(Rh),wg=mu?mu.prototype:n,Lh=wg?wg.valueOf:n,ET=wg?wg.toString:n;function Fe(g){if(sa(g)&&!Un(g)&&!(g instanceof $n)){if(g instanceof ii)return g;if(kr.call(g,"__wrapped__"))return B4(g)}return new ii(g)}var vf=(function(){function g(){}return function(x){if(!ta(x))return{};if(wT)return wT(x);g.prototype=x;var L=new g;return g.prototype=n,L}})();function _g(){}function ii(g,x){this.__wrapped__=g,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=n}Fe.templateSettings={escape:Ee,evaluate:nt,interpolate:At,variable:"",imports:{_:Fe}},Fe.prototype=_g.prototype,Fe.prototype.constructor=Fe,ii.prototype=vf(_g.prototype),ii.prototype.constructor=ii;function $n(g){this.__wrapped__=g,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function gz(){var g=new $n(this.__wrapped__);return g.__actions__=wo(this.__actions__),g.__dir__=this.__dir__,g.__filtered__=this.__filtered__,g.__iteratees__=wo(this.__iteratees__),g.__takeCount__=this.__takeCount__,g.__views__=wo(this.__views__),g}function yz(){if(this.__filtered__){var g=new $n(this);g.__dir__=-1,g.__filtered__=!0}else g=this.clone(),g.__dir__*=-1;return g}function wz(){var g=this.__wrapped__.value(),x=this.__dir__,L=Un(g),ce=x<0,xe=L?g.length:0,De=P$(0,xe,this.__views__),$e=De.start,tt=De.end,ut=tt-$e,Ft=ce?tt:$e-1,Pt=this.__iteratees__,Vt=Pt.length,Xt=0,dn=bs(ut,this.__takeCount__);if(!L||!ce&&xe==ut&&dn==ut)return JT(g,this.__actions__);var bn=[];e:for(;ut--&&Xt<dn;){Ft+=x;for(var Mn=-1,xn=g[Ft];++Mn<Vt;){var zn=Pt[Mn],jn=zn.iteratee,Oo=zn.type,Zs=jn(xn);if(Oo==se)xn=Zs;else if(!Zs){if(Oo==te)continue e;break e}}bn[Xt++]=xn}return bn}$n.prototype=vf(_g.prototype),$n.prototype.constructor=$n;function Sd(g){var x=-1,L=g==null?0:g.length;for(this.clear();++x<L;){var ce=g[x];this.set(ce[0],ce[1])}}function _z(){this.__data__=Nh?Nh(null):{},this.size=0}function bz(g){var x=this.has(g)&&delete this.__data__[g];return this.size-=x?1:0,x}function xz(g){var x=this.__data__;if(Nh){var L=x[g];return L===c?n:L}return kr.call(x,g)?x[g]:n}function Cz(g){var x=this.__data__;return Nh?x[g]!==n:kr.call(x,g)}function Ez(g,x){var L=this.__data__;return this.size+=this.has(g)?0:1,L[g]=Nh&&x===n?c:x,this}Sd.prototype.clear=_z,Sd.prototype.delete=bz,Sd.prototype.get=xz,Sd.prototype.has=Cz,Sd.prototype.set=Ez;function hc(g){var x=-1,L=g==null?0:g.length;for(this.clear();++x<L;){var ce=g[x];this.set(ce[0],ce[1])}}function Bz(){this.__data__=[],this.size=0}function Sz(g){var x=this.__data__,L=bg(x,g);if(L<0)return!1;var ce=x.length-1;return L==ce?x.pop():hg.call(x,L,1),--this.size,!0}function kz(g){var x=this.__data__,L=bg(x,g);return L<0?n:x[L][1]}function Iz(g){return bg(this.__data__,g)>-1}function Tz(g,x){var L=this.__data__,ce=bg(L,g);return ce<0?(++this.size,L.push([g,x])):L[ce][1]=x,this}hc.prototype.clear=Bz,hc.prototype.delete=Sz,hc.prototype.get=kz,hc.prototype.has=Iz,hc.prototype.set=Tz;function vc(g){var x=-1,L=g==null?0:g.length;for(this.clear();++x<L;){var ce=g[x];this.set(ce[0],ce[1])}}function Fz(){this.size=0,this.__data__={hash:new Sd,map:new(Uh||hc),string:new Sd}}function Pz(g){var x=Ug(this,g).delete(g);return this.size-=x?1:0,x}function Dz(g){return Ug(this,g).get(g)}function Uz(g){return Ug(this,g).has(g)}function Rz(g,x){var L=Ug(this,g),ce=L.size;return L.set(g,x),this.size+=L.size==ce?0:1,this}vc.prototype.clear=Fz,vc.prototype.delete=Pz,vc.prototype.get=Dz,vc.prototype.has=Uz,vc.prototype.set=Rz;function kd(g){var x=-1,L=g==null?0:g.length;for(this.__data__=new vc;++x<L;)this.add(g[x])}function Nz(g){return this.__data__.set(g,c),this}function Lz(g){return this.__data__.has(g)}kd.prototype.add=kd.prototype.push=Nz,kd.prototype.has=Lz;function Ri(g){var x=this.__data__=new hc(g);this.size=x.size}function Vz(){this.__data__=new hc,this.size=0}function Mz(g){var x=this.__data__,L=x.delete(g);return this.size=x.size,L}function Oz(g){return this.__data__.get(g)}function Qz(g){return this.__data__.has(g)}function Hz(g,x){var L=this.__data__;if(L instanceof hc){var ce=L.__data__;if(!Uh||ce.length<a-1)return ce.push([g,x]),this.size=++L.size,this;L=this.__data__=new vc(ce)}return L.set(g,x),this.size=L.size,this}Ri.prototype.clear=Vz,Ri.prototype.delete=Mz,Ri.prototype.get=Oz,Ri.prototype.has=Qz,Ri.prototype.set=Hz;function BT(g,x){var L=Un(g),ce=!L&&Dd(g),xe=!L&&!ce&&yu(g),De=!L&&!ce&&!xe&&wf(g),$e=L||ce||xe||De,tt=$e?Ed(g.length,XG):[],ut=tt.length;for(var Ft in g)(x||kr.call(g,Ft))&&!($e&&(Ft=="length"||xe&&(Ft=="offset"||Ft=="parent")||De&&(Ft=="buffer"||Ft=="byteLength"||Ft=="byteOffset")||wc(Ft,ut)))&&tt.push(Ft);return tt}function ST(g){var x=g.length;return x?g[$_(0,x-1)]:n}function Kz(g,x){return Rg(wo(g),Id(x,0,g.length))}function Gz(g){return Rg(wo(g))}function N_(g,x,L){(L!==n&&!Ni(g[x],L)||L===n&&!(x in g))&&pc(g,x,L)}function Vh(g,x,L){var ce=g[x];(!(kr.call(g,x)&&Ni(ce,L))||L===n&&!(x in g))&&pc(g,x,L)}function bg(g,x){for(var L=g.length;L--;)if(Ni(g[L][0],x))return L;return-1}function zz(g,x,L,ce){return hu(g,function(xe,De,$e){x(ce,xe,L(xe),$e)}),ce}function kT(g,x){return g&&El(x,qa(x),g)}function $z(g,x){return g&&El(x,bo(x),g)}function pc(g,x,L){x=="__proto__"&&vg?vg(g,x,{configurable:!0,enumerable:!0,value:L,writable:!0}):g[x]=L}function L_(g,x){for(var L=-1,ce=x.length,xe=wt(ce),De=g==null;++L<ce;)xe[L]=De?n:pb(g,x[L]);return xe}function Id(g,x,L){return g===g&&(L!==n&&(g=g<=L?g:L),x!==n&&(g=g>=x?g:x)),g}function li(g,x,L,ce,xe,De){var $e,tt=x&f,ut=x&m,Ft=x&v;if(L&&($e=xe?L(g,ce,xe,De):L(g)),$e!==n)return $e;if(!ta(g))return g;var Pt=Un(g);if(Pt){if($e=U$(g),!tt)return wo(g,$e)}else{var Vt=xs(g),Xt=Vt==z||Vt==Ae;if(yu(g))return XT(g,tt);if(Vt==re||Vt==X||Xt&&!xe){if($e=ut||Xt?{}:p4(g),!tt)return ut?x$(g,$z($e,g)):b$(g,kT($e,g))}else{if(!Sr[Vt])return xe?g:{};$e=R$(g,Vt,tt)}}De||(De=new Ri);var dn=De.get(g);if(dn)return dn;De.set(g,$e),$4(g)?g.forEach(function(xn){$e.add(li(xn,x,L,xn,g,De))}):G4(g)&&g.forEach(function(xn,zn){$e.set(zn,li(xn,x,L,zn,g,De))});var bn=Ft?ut?rb:nb:ut?bo:qa,Mn=Pt?n:bn(g);return ka(Mn||g,function(xn,zn){Mn&&(zn=xn,xn=g[zn]),Vh($e,zn,li(xn,x,L,zn,g,De))}),$e}function Wz(g){var x=qa(g);return function(L){return IT(L,g,x)}}function IT(g,x,L){var ce=L.length;if(g==null)return!ce;for(g=Rr(g);ce--;){var xe=L[ce],De=x[xe],$e=g[xe];if($e===n&&!(xe in g)||!De($e))return!1}return!0}function TT(g,x,L){if(typeof g!="function")throw new oi(o);return zh(function(){g.apply(n,L)},x)}function Mh(g,x,L,ce){var xe=-1,De=Cd,$e=!0,tt=g.length,ut=[],Ft=x.length;if(!tt)return ut;L&&(x=Ur(x,Lo(L))),ce?(De=_s,$e=!1):x.length>=a&&(De=Ph,$e=!1,x=new kd(x));e:for(;++xe<tt;){var Pt=g[xe],Vt=L==null?Pt:L(Pt);if(Pt=ce||Pt!==0?Pt:0,$e&&Vt===Vt){for(var Xt=Ft;Xt--;)if(x[Xt]===Vt)continue e;ut.push(Pt)}else De(x,Vt,ce)||ut.push(Pt)}return ut}var hu=r4(Cl),FT=r4(M_,!0);function jz(g,x){var L=!0;return hu(g,function(ce,xe,De){return L=!!x(ce,xe,De),L}),L}function xg(g,x,L){for(var ce=-1,xe=g.length;++ce<xe;){var De=g[ce],$e=x(De);if($e!=null&&(tt===n?$e===$e&&!Mo($e):L($e,tt)))var tt=$e,ut=De}return ut}function Jz(g,x,L,ce){var xe=g.length;for(L=Vn(L),L<0&&(L=-L>xe?0:xe+L),ce=ce===n||ce>xe?xe:Vn(ce),ce<0&&(ce+=xe),ce=L>ce?0:j4(ce);L<ce;)g[L++]=x;return g}function PT(g,x){var L=[];return hu(g,function(ce,xe,De){x(ce,xe,De)&&L.push(ce)}),L}function is(g,x,L,ce,xe){var De=-1,$e=g.length;for(L||(L=L$),xe||(xe=[]);++De<$e;){var tt=g[De];x>0&&L(tt)?x>1?is(tt,x-1,L,ce,xe):Fi(xe,tt):ce||(xe[xe.length]=tt)}return xe}var V_=a4(),DT=a4(!0);function Cl(g,x){return g&&V_(g,x,qa)}function M_(g,x){return g&&DT(g,x,qa)}function Cg(g,x){return Ti(x,function(L){return _c(g[L])})}function Td(g,x){x=pu(x,g);for(var L=0,ce=x.length;g!=null&&L<ce;)g=g[Bl(x[L++])];return L&&L==ce?g:n}function UT(g,x,L){var ce=x(g);return Un(g)?ce:Fi(ce,L(g))}function Ys(g){return g==null?g===n?Ve:Pe:Bd&&Bd in Rr(g)?F$(g):G$(g)}function O_(g,x){return g>x}function qz(g,x){return g!=null&&kr.call(g,x)}function Yz(g,x){return g!=null&&x in Rr(g)}function Xz(g,x,L){return g>=bs(x,L)&&g<La(x,L)}function Q_(g,x,L){for(var ce=L?_s:Cd,xe=g[0].length,De=g.length,$e=De,tt=wt(De),ut=1/0,Ft=[];$e--;){var Pt=g[$e];$e&&x&&(Pt=Ur(Pt,Lo(x))),ut=bs(Pt.length,ut),tt[$e]=!L&&(x||xe>=120&&Pt.length>=120)?new kd($e&&Pt):n}Pt=g[0];var Vt=-1,Xt=tt[0];e:for(;++Vt<xe&&Ft.length<ut;){var dn=Pt[Vt],bn=x?x(dn):dn;if(dn=L||dn!==0?dn:0,!(Xt?Ph(Xt,bn):ce(Ft,bn,L))){for($e=De;--$e;){var Mn=tt[$e];if(!(Mn?Ph(Mn,bn):ce(g[$e],bn,L)))continue e}Xt&&Xt.push(bn),Ft.push(dn)}}return Ft}function Zz(g,x,L,ce){return Cl(g,function(xe,De,$e){x(ce,L(xe),De,$e)}),ce}function Oh(g,x,L){x=pu(x,g),g=_4(g,x);var ce=g==null?g:g[Bl(ui(x))];return ce==null?n:ws(ce,g,L)}function RT(g){return sa(g)&&Ys(g)==X}function e$(g){return sa(g)&&Ys(g)==ht}function t$(g){return sa(g)&&Ys(g)==ae}function Qh(g,x,L,ce,xe){return g===x?!0:g==null||x==null||!sa(g)&&!sa(x)?g!==g&&x!==x:n$(g,x,L,ce,Qh,xe)}function n$(g,x,L,ce,xe,De){var $e=Un(g),tt=Un(x),ut=$e?oe:xs(g),Ft=tt?oe:xs(x);ut=ut==X?re:ut,Ft=Ft==X?re:Ft;var Pt=ut==re,Vt=Ft==re,Xt=ut==Ft;if(Xt&&yu(g)){if(!yu(x))return!1;$e=!0,Pt=!1}if(Xt&&!Pt)return De||(De=new Ri),$e||wf(g)?m4(g,x,L,ce,xe,De):I$(g,x,ut,L,ce,xe,De);if(!(L&h)){var dn=Pt&&kr.call(g,"__wrapped__"),bn=Vt&&kr.call(x,"__wrapped__");if(dn||bn){var Mn=dn?g.value():g,xn=bn?x.value():x;return De||(De=new Ri),xe(Mn,xn,L,ce,De)}}return Xt?(De||(De=new Ri),T$(g,x,L,ce,xe,De)):!1}function r$(g){return sa(g)&&xs(g)==ie}function H_(g,x,L,ce){var xe=L.length,De=xe,$e=!ce;if(g==null)return!De;for(g=Rr(g);xe--;){var tt=L[xe];if($e&&tt[2]?tt[1]!==g[tt[0]]:!(tt[0]in g))return!1}for(;++xe<De;){tt=L[xe];var ut=tt[0],Ft=g[ut],Pt=tt[1];if($e&&tt[2]){if(Ft===n&&!(ut in g))return!1}else{var Vt=new Ri;if(ce)var Xt=ce(Ft,Pt,ut,g,x,Vt);if(!(Xt===n?Qh(Pt,Ft,h|y,ce,Vt):Xt))return!1}}return!0}function NT(g){if(!ta(g)||M$(g))return!1;var x=_c(g)?rz:dt;return x.test(Pd(g))}function a$(g){return sa(g)&&Ys(g)==ke}function s$(g){return sa(g)&&xs(g)==Se}function o$(g){return sa(g)&&Qg(g.length)&&!!Fr[Ys(g)]}function LT(g){return typeof g=="function"?g:g==null?xo:typeof g=="object"?Un(g)?OT(g[0],g[1]):MT(g):sF(g)}function K_(g){if(!Gh(g))return cz(g);var x=[];for(var L in Rr(g))kr.call(g,L)&&L!="constructor"&&x.push(L);return x}function i$(g){if(!ta(g))return K$(g);var x=Gh(g),L=[];for(var ce in g)ce=="constructor"&&(x||!kr.call(g,ce))||L.push(ce);return L}function G_(g,x){return g<x}function VT(g,x){var L=-1,ce=_o(g)?wt(g.length):[];return hu(g,function(xe,De,$e){ce[++L]=x(xe,De,$e)}),ce}function MT(g){var x=sb(g);return x.length==1&&x[0][2]?y4(x[0][0],x[0][1]):function(L){return L===g||H_(L,g,x)}}function OT(g,x){return ib(g)&&g4(x)?y4(Bl(g),x):function(L){var ce=pb(L,g);return ce===n&&ce===x?gb(L,g):Qh(x,ce,h|y)}}function Eg(g,x,L,ce,xe){g!==x&&V_(x,function(De,$e){if(xe||(xe=new Ri),ta(De))l$(g,x,$e,L,Eg,ce,xe);else{var tt=ce?ce(cb(g,$e),De,$e+"",g,x,xe):n;tt===n&&(tt=De),N_(g,$e,tt)}},bo)}function l$(g,x,L,ce,xe,De,$e){var tt=cb(g,L),ut=cb(x,L),Ft=$e.get(ut);if(Ft){N_(g,L,Ft);return}var Pt=De?De(tt,ut,L+"",g,x,$e):n,Vt=Pt===n;if(Vt){var Xt=Un(ut),dn=!Xt&&yu(ut),bn=!Xt&&!dn&&wf(ut);Pt=ut,Xt||dn||bn?Un(tt)?Pt=tt:pa(tt)?Pt=wo(tt):dn?(Vt=!1,Pt=XT(ut,!0)):bn?(Vt=!1,Pt=ZT(ut,!0)):Pt=[]:$h(ut)||Dd(ut)?(Pt=tt,Dd(tt)?Pt=J4(tt):(!ta(tt)||_c(tt))&&(Pt=p4(ut))):Vt=!1}Vt&&($e.set(ut,Pt),xe(Pt,ut,ce,De,$e),$e.delete(ut)),N_(g,L,Pt)}function QT(g,x){var L=g.length;if(L)return x+=x<0?L:0,wc(x,L)?g[x]:n}function HT(g,x,L){x.length?x=Ur(x,function(De){return Un(De)?function($e){return Td($e,De.length===1?De[0]:De)}:De}):x=[xo];var ce=-1;x=Ur(x,Lo(yn()));var xe=VT(g,function(De,$e,tt){var ut=Ur(x,function(Ft){return Ft(De)});return{criteria:ut,index:++ce,value:De}});return xl(xe,function(De,$e){return _$(De,$e,L)})}function c$(g,x){return KT(g,x,function(L,ce){return gb(g,ce)})}function KT(g,x,L){for(var ce=-1,xe=x.length,De={};++ce<xe;){var $e=x[ce],tt=Td(g,$e);L(tt,$e)&&Hh(De,pu($e,g),tt)}return De}function u$(g){return function(x){return Td(x,g)}}function z_(g,x,L,ce){var xe=ce?ha:kn,De=-1,$e=x.length,tt=g;for(g===x&&(x=wo(x)),L&&(tt=Ur(g,Lo(L)));++De<$e;)for(var ut=0,Ft=x[De],Pt=L?L(Ft):Ft;(ut=xe(tt,Pt,ut,ce))>-1;)tt!==g&&hg.call(tt,ut,1),hg.call(g,ut,1);return g}function GT(g,x){for(var L=g?x.length:0,ce=L-1;L--;){var xe=x[L];if(L==ce||xe!==De){var De=xe;wc(xe)?hg.call(g,xe,1):J_(g,xe)}}return g}function $_(g,x){return g+gg(CT()*(x-g+1))}function d$(g,x,L,ce){for(var xe=-1,De=La(pg((x-g)/(L||1)),0),$e=wt(De);De--;)$e[ce?De:++xe]=g,g+=L;return $e}function W_(g,x){var L="";if(!g||x<1||x>le)return L;do x%2&&(L+=g),x=gg(x/2),x&&(g+=g);while(x);return L}function On(g,x){return ub(w4(g,x,xo),g+"")}function A$(g){return ST(_f(g))}function f$(g,x){var L=_f(g);return Rg(L,Id(x,0,L.length))}function Hh(g,x,L,ce){if(!ta(g))return g;x=pu(x,g);for(var xe=-1,De=x.length,$e=De-1,tt=g;tt!=null&&++xe<De;){var ut=Bl(x[xe]),Ft=L;if(ut==="__proto__"||ut==="constructor"||ut==="prototype")return g;if(xe!=$e){var Pt=tt[ut];Ft=ce?ce(Pt,ut,tt):n,Ft===n&&(Ft=ta(Pt)?Pt:wc(x[xe+1])?[]:{})}Vh(tt,ut,Ft),tt=tt[ut]}return g}var zT=yg?function(g,x){return yg.set(g,x),g}:xo,m$=vg?function(g,x){return vg(g,"toString",{configurable:!0,enumerable:!1,value:wb(x),writable:!0})}:xo;function h$(g){return Rg(_f(g))}function ci(g,x,L){var ce=-1,xe=g.length;x<0&&(x=-x>xe?0:xe+x),L=L>xe?xe:L,L<0&&(L+=xe),xe=x>L?0:L-x>>>0,x>>>=0;for(var De=wt(xe);++ce<xe;)De[ce]=g[ce+x];return De}function v$(g,x){var L;return hu(g,function(ce,xe,De){return L=x(ce,xe,De),!L}),!!L}function Bg(g,x,L){var ce=0,xe=g==null?ce:g.length;if(typeof x=="number"&&x===x&&xe<=G){for(;ce<xe;){var De=ce+xe>>>1,$e=g[De];$e!==null&&!Mo($e)&&(L?$e<=x:$e<x)?ce=De+1:xe=De}return xe}return j_(g,x,xo,L)}function j_(g,x,L,ce){var xe=0,De=g==null?0:g.length;if(De===0)return 0;x=L(x);for(var $e=x!==x,tt=x===null,ut=Mo(x),Ft=x===n;xe<De;){var Pt=gg((xe+De)/2),Vt=L(g[Pt]),Xt=Vt!==n,dn=Vt===null,bn=Vt===Vt,Mn=Mo(Vt);if($e)var xn=ce||bn;else Ft?xn=bn&&(ce||Xt):tt?xn=bn&&Xt&&(ce||!dn):ut?xn=bn&&Xt&&!dn&&(ce||!Mn):dn||Mn?xn=!1:xn=ce?Vt<=x:Vt<x;xn?xe=Pt+1:De=Pt}return bs(De,U)}function $T(g,x){for(var L=-1,ce=g.length,xe=0,De=[];++L<ce;){var $e=g[L],tt=x?x($e):$e;if(!L||!Ni(tt,ut)){var ut=tt;De[xe++]=$e===0?0:$e}}return De}function WT(g){return typeof g=="number"?g:Mo(g)?ee:+g}function Vo(g){if(typeof g=="string")return g;if(Un(g))return Ur(g,Vo)+"";if(Mo(g))return ET?ET.call(g):"";var x=g+"";return x=="0"&&1/g==-W?"-0":x}function vu(g,x,L){var ce=-1,xe=Cd,De=g.length,$e=!0,tt=[],ut=tt;if(L)$e=!1,xe=_s;else if(De>=a){var Ft=x?null:S$(g);if(Ft)return ig(Ft);$e=!1,xe=Ph,ut=new kd}else ut=x?[]:tt;e:for(;++ce<De;){var Pt=g[ce],Vt=x?x(Pt):Pt;if(Pt=L||Pt!==0?Pt:0,$e&&Vt===Vt){for(var Xt=ut.length;Xt--;)if(ut[Xt]===Vt)continue e;x&&ut.push(Vt),tt.push(Pt)}else xe(ut,Vt,L)||(ut!==tt&&ut.push(Vt),tt.push(Pt))}return tt}function J_(g,x){return x=pu(x,g),g=_4(g,x),g==null||delete g[Bl(ui(x))]}function jT(g,x,L,ce){return Hh(g,x,L(Td(g,x)),ce)}function Sg(g,x,L,ce){for(var xe=g.length,De=ce?xe:-1;(ce?De--:++De<xe)&&x(g[De],De,g););return L?ci(g,ce?0:De,ce?De+1:xe):ci(g,ce?De+1:0,ce?xe:De)}function JT(g,x){var L=g;return L instanceof $n&&(L=L.value()),bl(x,function(ce,xe){return xe.func.apply(xe.thisArg,Fi([ce],xe.args))},L)}function q_(g,x,L){var ce=g.length;if(ce<2)return ce?vu(g[0]):[];for(var xe=-1,De=wt(ce);++xe<ce;)for(var $e=g[xe],tt=-1;++tt<ce;)tt!=xe&&(De[xe]=Mh(De[xe]||$e,g[tt],x,L));return vu(is(De,1),x,L)}function qT(g,x,L){for(var ce=-1,xe=g.length,De=x.length,$e={};++ce<xe;){var tt=ce<De?x[ce]:n;L($e,g[ce],tt)}return $e}function Y_(g){return pa(g)?g:[]}function X_(g){return typeof g=="function"?g:xo}function pu(g,x){return Un(g)?g:ib(g,x)?[g]:E4(yr(g))}var p$=On;function gu(g,x,L){var ce=g.length;return L=L===n?ce:L,!x&&L>=ce?g:ci(g,x,L)}var YT=az||function(g){return aa.clearTimeout(g)};function XT(g,x){if(x)return g.slice();var L=g.length,ce=yT?yT(L):new g.constructor(L);return g.copy(ce),ce}function Z_(g){var x=new g.constructor(g.byteLength);return new fg(x).set(new fg(g)),x}function g$(g,x){var L=x?Z_(g.buffer):g.buffer;return new g.constructor(L,g.byteOffset,g.byteLength)}function y$(g){var x=new g.constructor(g.source,fe.exec(g));return x.lastIndex=g.lastIndex,x}function w$(g){return Lh?Rr(Lh.call(g)):{}}function ZT(g,x){var L=x?Z_(g.buffer):g.buffer;return new g.constructor(L,g.byteOffset,g.length)}function e4(g,x){if(g!==x){var L=g!==n,ce=g===null,xe=g===g,De=Mo(g),$e=x!==n,tt=x===null,ut=x===x,Ft=Mo(x);if(!tt&&!Ft&&!De&&g>x||De&&$e&&ut&&!tt&&!Ft||ce&&$e&&ut||!L&&ut||!xe)return 1;if(!ce&&!De&&!Ft&&g<x||Ft&&L&&xe&&!ce&&!De||tt&&L&&xe||!$e&&xe||!ut)return-1}return 0}function _$(g,x,L){for(var ce=-1,xe=g.criteria,De=x.criteria,$e=xe.length,tt=L.length;++ce<$e;){var ut=e4(xe[ce],De[ce]);if(ut){if(ce>=tt)return ut;var Ft=L[ce];return ut*(Ft=="desc"?-1:1)}}return g.index-x.index}function t4(g,x,L,ce){for(var xe=-1,De=g.length,$e=L.length,tt=-1,ut=x.length,Ft=La(De-$e,0),Pt=wt(ut+Ft),Vt=!ce;++tt<ut;)Pt[tt]=x[tt];for(;++xe<$e;)(Vt||xe<De)&&(Pt[L[xe]]=g[xe]);for(;Ft--;)Pt[tt++]=g[xe++];return Pt}function n4(g,x,L,ce){for(var xe=-1,De=g.length,$e=-1,tt=L.length,ut=-1,Ft=x.length,Pt=La(De-tt,0),Vt=wt(Pt+Ft),Xt=!ce;++xe<Pt;)Vt[xe]=g[xe];for(var dn=xe;++ut<Ft;)Vt[dn+ut]=x[ut];for(;++$e<tt;)(Xt||xe<De)&&(Vt[dn+L[$e]]=g[xe++]);return Vt}function wo(g,x){var L=-1,ce=g.length;for(x||(x=wt(ce));++L<ce;)x[L]=g[L];return x}function El(g,x,L,ce){var xe=!L;L||(L={});for(var De=-1,$e=x.length;++De<$e;){var tt=x[De],ut=ce?ce(L[tt],g[tt],tt,L,g):n;ut===n&&(ut=g[tt]),xe?pc(L,tt,ut):Vh(L,tt,ut)}return L}function b$(g,x){return El(g,ob(g),x)}function x$(g,x){return El(g,h4(g),x)}function kg(g,x){return function(L,ce){var xe=Un(L)?sg:zz,De=x?x():{};return xe(L,g,yn(ce,2),De)}}function pf(g){return On(function(x,L){var ce=-1,xe=L.length,De=xe>1?L[xe-1]:n,$e=xe>2?L[2]:n;for(De=g.length>3&&typeof De=="function"?(xe--,De):n,$e&&Xs(L[0],L[1],$e)&&(De=xe<3?n:De,xe=1),x=Rr(x);++ce<xe;){var tt=L[ce];tt&&g(x,tt,ce,De)}return x})}function r4(g,x){return function(L,ce){if(L==null)return L;if(!_o(L))return g(L,ce);for(var xe=L.length,De=x?xe:-1,$e=Rr(L);(x?De--:++De<xe)&&ce($e[De],De,$e)!==!1;);return L}}function a4(g){return function(x,L,ce){for(var xe=-1,De=Rr(x),$e=ce(x),tt=$e.length;tt--;){var ut=$e[g?tt:++xe];if(L(De[ut],ut,De)===!1)break}return x}}function C$(g,x,L){var ce=x&w,xe=Kh(g);function De(){var $e=this&&this!==aa&&this instanceof De?xe:g;return $e.apply(ce?L:this,arguments)}return De}function s4(g){return function(x){x=yr(x);var L=uf(x)?Ui(x):n,ce=L?L[0]:x.charAt(0),xe=L?gu(L,1).join(""):x.slice(1);return ce[g]()+xe}}function gf(g){return function(x){return bl(rF(nF(x).replace(eg,"")),g,"")}}function Kh(g){return function(){var x=arguments;switch(x.length){case 0:return new g;case 1:return new g(x[0]);case 2:return new g(x[0],x[1]);case 3:return new g(x[0],x[1],x[2]);case 4:return new g(x[0],x[1],x[2],x[3]);case 5:return new g(x[0],x[1],x[2],x[3],x[4]);case 6:return new g(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new g(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var L=vf(g.prototype),ce=g.apply(L,x);return ta(ce)?ce:L}}function E$(g,x,L){var ce=Kh(g);function xe(){for(var De=arguments.length,$e=wt(De),tt=De,ut=yf(xe);tt--;)$e[tt]=arguments[tt];var Ft=De<3&&$e[0]!==ut&&$e[De-1]!==ut?[]:fu($e,ut);if(De-=Ft.length,De<L)return u4(g,x,Ig,xe.placeholder,n,$e,Ft,n,n,L-De);var Pt=this&&this!==aa&&this instanceof xe?ce:g;return ws(Pt,this,$e)}return xe}function o4(g){return function(x,L,ce){var xe=Rr(x);if(!_o(x)){var De=yn(L,3);x=qa(x),L=function(tt){return De(xe[tt],tt,xe)}}var $e=g(x,L,ce);return $e>-1?xe[De?x[$e]:$e]:n}}function i4(g){return yc(function(x){var L=x.length,ce=L,xe=ii.prototype.thru;for(g&&x.reverse();ce--;){var De=x[ce];if(typeof De!="function")throw new oi(o);if(xe&&!$e&&Dg(De)=="wrapper")var $e=new ii([],!0)}for(ce=$e?ce:L;++ce<L;){De=x[ce];var tt=Dg(De),ut=tt=="wrapper"?ab(De):n;ut&&lb(ut[0])&&ut[1]==(E|S|N|_)&&!ut[4].length&&ut[9]==1?$e=$e[Dg(ut[0])].apply($e,ut[3]):$e=De.length==1&&lb(De)?$e[tt]():$e.thru(De)}return function(){var Ft=arguments,Pt=Ft[0];if($e&&Ft.length==1&&Un(Pt))return $e.plant(Pt).value();for(var Vt=0,Xt=L?x[Vt].apply(this,Ft):Pt;++Vt<L;)Xt=x[Vt].call(this,Xt);return Xt}})}function Ig(g,x,L,ce,xe,De,$e,tt,ut,Ft){var Pt=x&E,Vt=x&w,Xt=x&b,dn=x&(S|T),bn=x&C,Mn=Xt?n:Kh(g);function xn(){for(var zn=arguments.length,jn=wt(zn),Oo=zn;Oo--;)jn[Oo]=arguments[Oo];if(dn)var Zs=yf(xn),Qo=LG(jn,Zs);if(ce&&(jn=t4(jn,ce,xe,dn)),De&&(jn=n4(jn,De,$e,dn)),zn-=Qo,dn&&zn<Ft){var ga=fu(jn,Zs);return u4(g,x,Ig,xn.placeholder,L,jn,ga,tt,ut,Ft-zn)}var Li=Vt?L:this,xc=Xt?Li[g]:g;return zn=jn.length,tt?jn=z$(jn,tt):bn&&zn>1&&jn.reverse(),Pt&&ut<zn&&(jn.length=ut),this&&this!==aa&&this instanceof xn&&(xc=Mn||Kh(xc)),xc.apply(Li,jn)}return xn}function l4(g,x){return function(L,ce){return Zz(L,g,x(ce),{})}}function Tg(g,x){return function(L,ce){var xe;if(L===n&&ce===n)return x;if(L!==n&&(xe=L),ce!==n){if(xe===n)return ce;typeof L=="string"||typeof ce=="string"?(L=Vo(L),ce=Vo(ce)):(L=WT(L),ce=WT(ce)),xe=g(L,ce)}return xe}}function eb(g){return yc(function(x){return x=Ur(x,Lo(yn())),On(function(L){var ce=this;return g(x,function(xe){return ws(xe,ce,L)})})})}function Fg(g,x){x=x===n?" ":Vo(x);var L=x.length;if(L<2)return L?W_(x,g):x;var ce=W_(x,pg(g/df(x)));return uf(x)?gu(Ui(ce),0,g).join(""):ce.slice(0,g)}function B$(g,x,L,ce){var xe=x&w,De=Kh(g);function $e(){for(var tt=-1,ut=arguments.length,Ft=-1,Pt=ce.length,Vt=wt(Pt+ut),Xt=this&&this!==aa&&this instanceof $e?De:g;++Ft<Pt;)Vt[Ft]=ce[Ft];for(;ut--;)Vt[Ft++]=arguments[++tt];return ws(Xt,xe?L:this,Vt)}return $e}function c4(g){return function(x,L,ce){return ce&&typeof ce!="number"&&Xs(x,L,ce)&&(L=ce=n),x=bc(x),L===n?(L=x,x=0):L=bc(L),ce=ce===n?x<L?1:-1:bc(ce),d$(x,L,ce,g)}}function Pg(g){return function(x,L){return typeof x=="string"&&typeof L=="string"||(x=di(x),L=di(L)),g(x,L)}}function u4(g,x,L,ce,xe,De,$e,tt,ut,Ft){var Pt=x&S,Vt=Pt?$e:n,Xt=Pt?n:$e,dn=Pt?De:n,bn=Pt?n:De;x|=Pt?N:k,x&=~(Pt?k:N),x&B||(x&=-4);var Mn=[g,x,xe,dn,Vt,bn,Xt,tt,ut,Ft],xn=L.apply(n,Mn);return lb(g)&&b4(xn,Mn),xn.placeholder=ce,x4(xn,g,x)}function tb(g){var x=Na[g];return function(L,ce){if(L=di(L),ce=ce==null?0:bs(Vn(ce),292),ce&&xT(L)){var xe=(yr(L)+"e").split("e"),De=x(xe[0]+"e"+(+xe[1]+ce));return xe=(yr(De)+"e").split("e"),+(xe[0]+"e"+(+xe[1]-ce))}return x(L)}}var S$=mf&&1/ig(new mf([,-0]))[1]==W?function(g){return new mf(g)}:xb;function d4(g){return function(x){var L=xs(x);return L==ie?F_(x):L==Se?GG(x):NG(x,g(x))}}function gc(g,x,L,ce,xe,De,$e,tt){var ut=x&b;if(!ut&&typeof g!="function")throw new oi(o);var Ft=ce?ce.length:0;if(Ft||(x&=-97,ce=xe=n),$e=$e===n?$e:La(Vn($e),0),tt=tt===n?tt:Vn(tt),Ft-=xe?xe.length:0,x&k){var Pt=ce,Vt=xe;ce=xe=n}var Xt=ut?n:ab(g),dn=[g,x,L,ce,xe,Pt,Vt,De,$e,tt];if(Xt&&H$(dn,Xt),g=dn[0],x=dn[1],L=dn[2],ce=dn[3],xe=dn[4],tt=dn[9]=dn[9]===n?ut?0:g.length:La(dn[9]-Ft,0),!tt&&x&(S|T)&&(x&=-25),!x||x==w)var bn=C$(g,x,L);else x==S||x==T?bn=E$(g,x,tt):(x==N||x==(w|N))&&!xe.length?bn=B$(g,x,L,ce):bn=Ig.apply(n,dn);var Mn=Xt?zT:b4;return x4(Mn(bn,dn),g,x)}function A4(g,x,L,ce){return g===n||Ni(g,ff[L])&&!kr.call(ce,L)?x:g}function f4(g,x,L,ce,xe,De){return ta(g)&&ta(x)&&(De.set(x,g),Eg(g,x,n,f4,De),De.delete(x)),g}function k$(g){return $h(g)?n:g}function m4(g,x,L,ce,xe,De){var $e=L&h,tt=g.length,ut=x.length;if(tt!=ut&&!($e&&ut>tt))return!1;var Ft=De.get(g),Pt=De.get(x);if(Ft&&Pt)return Ft==x&&Pt==g;var Vt=-1,Xt=!0,dn=L&y?new kd:n;for(De.set(g,x),De.set(x,g);++Vt<tt;){var bn=g[Vt],Mn=x[Vt];if(ce)var xn=$e?ce(Mn,bn,Vt,x,g,De):ce(bn,Mn,Vt,g,x,De);if(xn!==n){if(xn)continue;Xt=!1;break}if(dn){if(!ue(x,function(zn,jn){if(!Ph(dn,jn)&&(bn===zn||xe(bn,zn,L,ce,De)))return dn.push(jn)})){Xt=!1;break}}else if(!(bn===Mn||xe(bn,Mn,L,ce,De))){Xt=!1;break}}return De.delete(g),De.delete(x),Xt}function I$(g,x,L,ce,xe,De,$e){switch(L){case Ct:if(g.byteLength!=x.byteLength||g.byteOffset!=x.byteOffset)return!1;g=g.buffer,x=x.buffer;case ht:return!(g.byteLength!=x.byteLength||!De(new fg(g),new fg(x)));case Y:case ae:case _e:return Ni(+g,+x);case we:return g.name==x.name&&g.message==x.message;case ke:case st:return g==x+"";case ie:var tt=F_;case Se:var ut=ce&h;if(tt||(tt=ig),g.size!=x.size&&!ut)return!1;var Ft=$e.get(g);if(Ft)return Ft==x;ce|=y,$e.set(g,x);var Pt=m4(tt(g),tt(x),ce,xe,De,$e);return $e.delete(g),Pt;case je:if(Lh)return Lh.call(g)==Lh.call(x)}return!1}function T$(g,x,L,ce,xe,De){var $e=L&h,tt=nb(g),ut=tt.length,Ft=nb(x),Pt=Ft.length;if(ut!=Pt&&!$e)return!1;for(var Vt=ut;Vt--;){var Xt=tt[Vt];if(!($e?Xt in x:kr.call(x,Xt)))return!1}var dn=De.get(g),bn=De.get(x);if(dn&&bn)return dn==x&&bn==g;var Mn=!0;De.set(g,x),De.set(x,g);for(var xn=$e;++Vt<ut;){Xt=tt[Vt];var zn=g[Xt],jn=x[Xt];if(ce)var Oo=$e?ce(jn,zn,Xt,x,g,De):ce(zn,jn,Xt,g,x,De);if(!(Oo===n?zn===jn||xe(zn,jn,L,ce,De):Oo)){Mn=!1;break}xn||(xn=Xt=="constructor")}if(Mn&&!xn){var Zs=g.constructor,Qo=x.constructor;Zs!=Qo&&"constructor"in g&&"constructor"in x&&!(typeof Zs=="function"&&Zs instanceof Zs&&typeof Qo=="function"&&Qo instanceof Qo)&&(Mn=!1)}return De.delete(g),De.delete(x),Mn}function yc(g){return ub(w4(g,n,I4),g+"")}function nb(g){return UT(g,qa,ob)}function rb(g){return UT(g,bo,h4)}var ab=yg?function(g){return yg.get(g)}:xb;function Dg(g){for(var x=g.name+"",L=hf[x],ce=kr.call(hf,x)?L.length:0;ce--;){var xe=L[ce],De=xe.func;if(De==null||De==g)return xe.name}return x}function yf(g){var x=kr.call(Fe,"placeholder")?Fe:g;return x.placeholder}function yn(){var g=Fe.iteratee||_b;return g=g===_b?LT:g,arguments.length?g(arguments[0],arguments[1]):g}function Ug(g,x){var L=g.__data__;return V$(x)?L[typeof x=="string"?"string":"hash"]:L.map}function sb(g){for(var x=qa(g),L=x.length;L--;){var ce=x[L],xe=g[ce];x[L]=[ce,xe,g4(xe)]}return x}function Fd(g,x){var L=QG(g,x);return NT(L)?L:n}function F$(g){var x=kr.call(g,Bd),L=g[Bd];try{g[Bd]=n;var ce=!0}catch{}var xe=dg.call(g);return ce&&(x?g[Bd]=L:delete g[Bd]),xe}var ob=D_?function(g){return g==null?[]:(g=Rr(g),Ti(D_(g),function(x){return _T.call(g,x)}))}:Cb,h4=D_?function(g){for(var x=[];g;)Fi(x,ob(g)),g=mg(g);return x}:Cb,xs=Ys;(U_&&xs(new U_(new ArrayBuffer(1)))!=Ct||Uh&&xs(new Uh)!=ie||R_&&xs(R_.resolve())!=be||mf&&xs(new mf)!=Se||Rh&&xs(new Rh)!=Te)&&(xs=function(g){var x=Ys(g),L=x==re?g.constructor:n,ce=L?Pd(L):"";if(ce)switch(ce){case fz:return Ct;case mz:return ie;case hz:return be;case vz:return Se;case pz:return Te}return x});function P$(g,x,L){for(var ce=-1,xe=L.length;++ce<xe;){var De=L[ce],$e=De.size;switch(De.type){case"drop":g+=$e;break;case"dropRight":x-=$e;break;case"take":x=bs(x,g+$e);break;case"takeRight":g=La(g,x-$e);break}}return{start:g,end:x}}function D$(g){var x=g.match(Ce);return x?x[1].split(Re):[]}function v4(g,x,L){x=pu(x,g);for(var ce=-1,xe=x.length,De=!1;++ce<xe;){var $e=Bl(x[ce]);if(!(De=g!=null&&L(g,$e)))break;g=g[$e]}return De||++ce!=xe?De:(xe=g==null?0:g.length,!!xe&&Qg(xe)&&wc($e,xe)&&(Un(g)||Dd(g)))}function U$(g){var x=g.length,L=new g.constructor(x);return x&&typeof g[0]=="string"&&kr.call(g,"index")&&(L.index=g.index,L.input=g.input),L}function p4(g){return typeof g.constructor=="function"&&!Gh(g)?vf(mg(g)):{}}function R$(g,x,L){var ce=g.constructor;switch(x){case ht:return Z_(g);case Y:case ae:return new ce(+g);case Ct:return g$(g,L);case Dt:case Je:case Oe:case it:case at:case Xe:case Ut:case Yt:case bt:return ZT(g,L);case ie:return new ce;case _e:case st:return new ce(g);case ke:return y$(g);case Se:return new ce;case je:return w$(g)}}function N$(g,x){var L=x.length;if(!L)return g;var ce=L-1;return x[ce]=(L>1?"& ":"")+x[ce],x=x.join(L>2?", ":" "),g.replace(mn,`{
/* [wrapped with `+x+`] */
`)}function L$(g){return Un(g)||Dd(g)||!!(bT&&g&&g[bT])}function wc(g,x){var L=typeof g;return x=x??le,!!x&&(L=="number"||L!="symbol"&&lt.test(g))&&g>-1&&g%1==0&&g<x}function Xs(g,x,L){if(!ta(L))return!1;var ce=typeof x;return(ce=="number"?_o(L)&&wc(x,L.length):ce=="string"&&x in L)?Ni(L[x],g):!1}function ib(g,x){if(Un(g))return!1;var L=typeof g;return L=="number"||L=="symbol"||L=="boolean"||g==null||Mo(g)?!0:Qt.test(g)||!St.test(g)||x!=null&&g in Rr(x)}function V$(g){var x=typeof g;return x=="string"||x=="number"||x=="symbol"||x=="boolean"?g!=="__proto__":g===null}function lb(g){var x=Dg(g),L=Fe[x];if(typeof L!="function"||!(x in $n.prototype))return!1;if(g===L)return!0;var ce=ab(L);return!!ce&&g===ce[0]}function M$(g){return!!gT&&gT in g}var O$=cg?_c:Eb;function Gh(g){var x=g&&g.constructor,L=typeof x=="function"&&x.prototype||ff;return g===L}function g4(g){return g===g&&!ta(g)}function y4(g,x){return function(L){return L==null?!1:L[g]===x&&(x!==n||g in Rr(L))}}function Q$(g){var x=Mg(g,function(ce){return L.size===A&&L.clear(),ce}),L=x.cache;return x}function H$(g,x){var L=g[1],ce=x[1],xe=L|ce,De=xe<(w|b|E),$e=ce==E&&L==S||ce==E&&L==_&&g[7].length<=x[8]||ce==(E|_)&&x[7].length<=x[8]&&L==S;if(!(De||$e))return g;ce&w&&(g[2]=x[2],xe|=L&w?0:B);var tt=x[3];if(tt){var ut=g[3];g[3]=ut?t4(ut,tt,x[4]):tt,g[4]=ut?fu(g[3],u):x[4]}return tt=x[5],tt&&(ut=g[5],g[5]=ut?n4(ut,tt,x[6]):tt,g[6]=ut?fu(g[5],u):x[6]),tt=x[7],tt&&(g[7]=tt),ce&E&&(g[8]=g[8]==null?x[8]:bs(g[8],x[8])),g[9]==null&&(g[9]=x[9]),g[0]=x[0],g[1]=xe,g}function K$(g){var x=[];if(g!=null)for(var L in Rr(g))x.push(L);return x}function G$(g){return dg.call(g)}function w4(g,x,L){return x=La(x===n?g.length-1:x,0),function(){for(var ce=arguments,xe=-1,De=La(ce.length-x,0),$e=wt(De);++xe<De;)$e[xe]=ce[x+xe];xe=-1;for(var tt=wt(x+1);++xe<x;)tt[xe]=ce[xe];return tt[x]=L($e),ws(g,this,tt)}}function _4(g,x){return x.length<2?g:Td(g,ci(x,0,-1))}function z$(g,x){for(var L=g.length,ce=bs(x.length,L),xe=wo(g);ce--;){var De=x[ce];g[ce]=wc(De,L)?xe[De]:n}return g}function cb(g,x){if(!(x==="constructor"&&typeof g[x]=="function")&&x!="__proto__")return g[x]}var b4=C4(zT),zh=oz||function(g,x){return aa.setTimeout(g,x)},ub=C4(m$);function x4(g,x,L){var ce=x+"";return ub(g,N$(ce,$$(D$(ce),L)))}function C4(g){var x=0,L=0;return function(){var ce=uz(),xe=M-(ce-L);if(L=ce,xe>0){if(++x>=R)return arguments[0]}else x=0;return g.apply(n,arguments)}}function Rg(g,x){var L=-1,ce=g.length,xe=ce-1;for(x=x===n?ce:x;++L<x;){var De=$_(L,xe),$e=g[De];g[De]=g[L],g[L]=$e}return g.length=x,g}var E4=Q$(function(g){var x=[];return g.charCodeAt(0)===46&&x.push(""),g.replace(Rt,function(L,ce,xe,De){x.push(xe?De.replace(Me,"$1"):ce||L)}),x});function Bl(g){if(typeof g=="string"||Mo(g))return g;var x=g+"";return x=="0"&&1/g==-W?"-0":x}function Pd(g){if(g!=null){try{return ug.call(g)}catch{}try{return g+""}catch{}}return""}function $$(g,x){return ka(ne,function(L){var ce="_."+L[0];x&L[1]&&!Cd(g,ce)&&g.push(ce)}),g.sort()}function B4(g){if(g instanceof $n)return g.clone();var x=new ii(g.__wrapped__,g.__chain__);return x.__actions__=wo(g.__actions__),x.__index__=g.__index__,x.__values__=g.__values__,x}function W$(g,x,L){(L?Xs(g,x,L):x===n)?x=1:x=La(Vn(x),0);var ce=g==null?0:g.length;if(!ce||x<1)return[];for(var xe=0,De=0,$e=wt(pg(ce/x));xe<ce;)$e[De++]=ci(g,xe,xe+=x);return $e}function j$(g){for(var x=-1,L=g==null?0:g.length,ce=0,xe=[];++x<L;){var De=g[x];De&&(xe[ce++]=De)}return xe}function J$(){var g=arguments.length;if(!g)return[];for(var x=wt(g-1),L=arguments[0],ce=g;ce--;)x[ce-1]=arguments[ce];return Fi(Un(L)?wo(L):[L],is(x,1))}var q$=On(function(g,x){return pa(g)?Mh(g,is(x,1,pa,!0)):[]}),Y$=On(function(g,x){var L=ui(x);return pa(L)&&(L=n),pa(g)?Mh(g,is(x,1,pa,!0),yn(L,2)):[]}),X$=On(function(g,x){var L=ui(x);return pa(L)&&(L=n),pa(g)?Mh(g,is(x,1,pa,!0),n,L):[]});function Z$(g,x,L){var ce=g==null?0:g.length;return ce?(x=L||x===n?1:Vn(x),ci(g,x<0?0:x,ce)):[]}function eW(g,x,L){var ce=g==null?0:g.length;return ce?(x=L||x===n?1:Vn(x),x=ce-x,ci(g,0,x<0?0:x)):[]}function tW(g,x){return g&&g.length?Sg(g,yn(x,3),!0,!0):[]}function nW(g,x){return g&&g.length?Sg(g,yn(x,3),!0):[]}function rW(g,x,L,ce){var xe=g==null?0:g.length;return xe?(L&&typeof L!="number"&&Xs(g,x,L)&&(L=0,ce=xe),Jz(g,x,L,ce)):[]}function S4(g,x,L){var ce=g==null?0:g.length;if(!ce)return-1;var xe=L==null?0:Vn(L);return xe<0&&(xe=La(ce+xe,0)),Kt(g,yn(x,3),xe)}function k4(g,x,L){var ce=g==null?0:g.length;if(!ce)return-1;var xe=ce-1;return L!==n&&(xe=Vn(L),xe=L<0?La(ce+xe,0):bs(xe,ce-1)),Kt(g,yn(x,3),xe,!0)}function I4(g){var x=g==null?0:g.length;return x?is(g,1):[]}function aW(g){var x=g==null?0:g.length;return x?is(g,W):[]}function sW(g,x){var L=g==null?0:g.length;return L?(x=x===n?1:Vn(x),is(g,x)):[]}function oW(g){for(var x=-1,L=g==null?0:g.length,ce={};++x<L;){var xe=g[x];ce[xe[0]]=xe[1]}return ce}function T4(g){return g&&g.length?g[0]:n}function iW(g,x,L){var ce=g==null?0:g.length;if(!ce)return-1;var xe=L==null?0:Vn(L);return xe<0&&(xe=La(ce+xe,0)),kn(g,x,xe)}function lW(g){var x=g==null?0:g.length;return x?ci(g,0,-1):[]}var cW=On(function(g){var x=Ur(g,Y_);return x.length&&x[0]===g[0]?Q_(x):[]}),uW=On(function(g){var x=ui(g),L=Ur(g,Y_);return x===ui(L)?x=n:L.pop(),L.length&&L[0]===g[0]?Q_(L,yn(x,2)):[]}),dW=On(function(g){var x=ui(g),L=Ur(g,Y_);return x=typeof x=="function"?x:n,x&&L.pop(),L.length&&L[0]===g[0]?Q_(L,n,x):[]});function AW(g,x){return g==null?"":lz.call(g,x)}function ui(g){var x=g==null?0:g.length;return x?g[x-1]:n}function fW(g,x,L){var ce=g==null?0:g.length;if(!ce)return-1;var xe=ce;return L!==n&&(xe=Vn(L),xe=xe<0?La(ce+xe,0):bs(xe,ce-1)),x===x?$G(g,x,xe):Kt(g,gr,xe,!0)}function mW(g,x){return g&&g.length?QT(g,Vn(x)):n}var hW=On(F4);function F4(g,x){return g&&g.length&&x&&x.length?z_(g,x):g}function vW(g,x,L){return g&&g.length&&x&&x.length?z_(g,x,yn(L,2)):g}function pW(g,x,L){return g&&g.length&&x&&x.length?z_(g,x,n,L):g}var gW=yc(function(g,x){var L=g==null?0:g.length,ce=L_(g,x);return GT(g,Ur(x,function(xe){return wc(xe,L)?+xe:xe}).sort(e4)),ce});function yW(g,x){var L=[];if(!(g&&g.length))return L;var ce=-1,xe=[],De=g.length;for(x=yn(x,3);++ce<De;){var $e=g[ce];x($e,ce,g)&&(L.push($e),xe.push(ce))}return GT(g,xe),L}function db(g){return g==null?g:Az.call(g)}function wW(g,x,L){var ce=g==null?0:g.length;return ce?(L&&typeof L!="number"&&Xs(g,x,L)?(x=0,L=ce):(x=x==null?0:Vn(x),L=L===n?ce:Vn(L)),ci(g,x,L)):[]}function _W(g,x){return Bg(g,x)}function bW(g,x,L){return j_(g,x,yn(L,2))}function xW(g,x){var L=g==null?0:g.length;if(L){var ce=Bg(g,x);if(ce<L&&Ni(g[ce],x))return ce}return-1}function CW(g,x){return Bg(g,x,!0)}function EW(g,x,L){return j_(g,x,yn(L,2),!0)}function BW(g,x){var L=g==null?0:g.length;if(L){var ce=Bg(g,x,!0)-1;if(Ni(g[ce],x))return ce}return-1}function SW(g){return g&&g.length?$T(g):[]}function kW(g,x){return g&&g.length?$T(g,yn(x,2)):[]}function IW(g){var x=g==null?0:g.length;return x?ci(g,1,x):[]}function TW(g,x,L){return g&&g.length?(x=L||x===n?1:Vn(x),ci(g,0,x<0?0:x)):[]}function FW(g,x,L){var ce=g==null?0:g.length;return ce?(x=L||x===n?1:Vn(x),x=ce-x,ci(g,x<0?0:x,ce)):[]}function PW(g,x){return g&&g.length?Sg(g,yn(x,3),!1,!0):[]}function DW(g,x){return g&&g.length?Sg(g,yn(x,3)):[]}var UW=On(function(g){return vu(is(g,1,pa,!0))}),RW=On(function(g){var x=ui(g);return pa(x)&&(x=n),vu(is(g,1,pa,!0),yn(x,2))}),NW=On(function(g){var x=ui(g);return x=typeof x=="function"?x:n,vu(is(g,1,pa,!0),n,x)});function LW(g){return g&&g.length?vu(g):[]}function VW(g,x){return g&&g.length?vu(g,yn(x,2)):[]}function MW(g,x){return x=typeof x=="function"?x:n,g&&g.length?vu(g,n,x):[]}function Ab(g){if(!(g&&g.length))return[];var x=0;return g=Ti(g,function(L){if(pa(L))return x=La(L.length,x),!0}),Ed(x,function(L){return Ur(g,yo(L))})}function P4(g,x){if(!(g&&g.length))return[];var L=Ab(g);return x==null?L:Ur(L,function(ce){return ws(x,n,ce)})}var OW=On(function(g,x){return pa(g)?Mh(g,x):[]}),QW=On(function(g){return q_(Ti(g,pa))}),HW=On(function(g){var x=ui(g);return pa(x)&&(x=n),q_(Ti(g,pa),yn(x,2))}),KW=On(function(g){var x=ui(g);return x=typeof x=="function"?x:n,q_(Ti(g,pa),n,x)}),GW=On(Ab);function zW(g,x){return qT(g||[],x||[],Vh)}function $W(g,x){return qT(g||[],x||[],Hh)}var WW=On(function(g){var x=g.length,L=x>1?g[x-1]:n;return L=typeof L=="function"?(g.pop(),L):n,P4(g,L)});function D4(g){var x=Fe(g);return x.__chain__=!0,x}function jW(g,x){return x(g),g}function Ng(g,x){return x(g)}var JW=yc(function(g){var x=g.length,L=x?g[0]:0,ce=this.__wrapped__,xe=function(De){return L_(De,g)};return x>1||this.__actions__.length||!(ce instanceof $n)||!wc(L)?this.thru(xe):(ce=ce.slice(L,+L+(x?1:0)),ce.__actions__.push({func:Ng,args:[xe],thisArg:n}),new ii(ce,this.__chain__).thru(function(De){return x&&!De.length&&De.push(n),De}))});function qW(){return D4(this)}function YW(){return new ii(this.value(),this.__chain__)}function XW(){this.__values__===n&&(this.__values__=W4(this.value()));var g=this.__index__>=this.__values__.length,x=g?n:this.__values__[this.__index__++];return{done:g,value:x}}function ZW(){return this}function ej(g){for(var x,L=this;L instanceof _g;){var ce=B4(L);ce.__index__=0,ce.__values__=n,x?xe.__wrapped__=ce:x=ce;var xe=ce;L=L.__wrapped__}return xe.__wrapped__=g,x}function tj(){var g=this.__wrapped__;if(g instanceof $n){var x=g;return this.__actions__.length&&(x=new $n(this)),x=x.reverse(),x.__actions__.push({func:Ng,args:[db],thisArg:n}),new ii(x,this.__chain__)}return this.thru(db)}function nj(){return JT(this.__wrapped__,this.__actions__)}var rj=kg(function(g,x,L){kr.call(g,L)?++g[L]:pc(g,L,1)});function aj(g,x,L){var ce=Un(g)?Fh:jz;return L&&Xs(g,x,L)&&(x=n),ce(g,yn(x,3))}function sj(g,x){var L=Un(g)?Ti:PT;return L(g,yn(x,3))}var oj=o4(S4),ij=o4(k4);function lj(g,x){return is(Lg(g,x),1)}function cj(g,x){return is(Lg(g,x),W)}function uj(g,x,L){return L=L===n?1:Vn(L),is(Lg(g,x),L)}function U4(g,x){var L=Un(g)?ka:hu;return L(g,yn(x,3))}function R4(g,x){var L=Un(g)?og:FT;return L(g,yn(x,3))}var dj=kg(function(g,x,L){kr.call(g,L)?g[L].push(x):pc(g,L,[x])});function Aj(g,x,L,ce){g=_o(g)?g:_f(g),L=L&&!ce?Vn(L):0;var xe=g.length;return L<0&&(L=La(xe+L,0)),Hg(g)?L<=xe&&g.indexOf(x,L)>-1:!!xe&&kn(g,x,L)>-1}var fj=On(function(g,x,L){var ce=-1,xe=typeof x=="function",De=_o(g)?wt(g.length):[];return hu(g,function($e){De[++ce]=xe?ws(x,$e,L):Oh($e,x,L)}),De}),mj=kg(function(g,x,L){pc(g,L,x)});function Lg(g,x){var L=Un(g)?Ur:VT;return L(g,yn(x,3))}function hj(g,x,L,ce){return g==null?[]:(Un(x)||(x=x==null?[]:[x]),L=ce?n:L,Un(L)||(L=L==null?[]:[L]),HT(g,x,L))}var vj=kg(function(g,x,L){g[L?0:1].push(x)},function(){return[[],[]]});function pj(g,x,L){var ce=Un(g)?bl:Di,xe=arguments.length<3;return ce(g,yn(x,4),L,xe,hu)}function gj(g,x,L){var ce=Un(g)?P:Di,xe=arguments.length<3;return ce(g,yn(x,4),L,xe,FT)}function yj(g,x){var L=Un(g)?Ti:PT;return L(g,Og(yn(x,3)))}function wj(g){var x=Un(g)?ST:A$;return x(g)}function _j(g,x,L){(L?Xs(g,x,L):x===n)?x=1:x=Vn(x);var ce=Un(g)?Kz:f$;return ce(g,x)}function bj(g){var x=Un(g)?Gz:h$;return x(g)}function xj(g){if(g==null)return 0;if(_o(g))return Hg(g)?df(g):g.length;var x=xs(g);return x==ie||x==Se?g.size:K_(g).length}function Cj(g,x,L){var ce=Un(g)?ue:v$;return L&&Xs(g,x,L)&&(x=n),ce(g,yn(x,3))}var Ej=On(function(g,x){if(g==null)return[];var L=x.length;return L>1&&Xs(g,x[0],x[1])?x=[]:L>2&&Xs(x[0],x[1],x[2])&&(x=[x[0]]),HT(g,is(x,1),[])}),Vg=sz||function(){return aa.Date.now()};function Bj(g,x){if(typeof x!="function")throw new oi(o);return g=Vn(g),function(){if(--g<1)return x.apply(this,arguments)}}function N4(g,x,L){return x=L?n:x,x=g&&x==null?g.length:x,gc(g,E,n,n,n,n,x)}function L4(g,x){var L;if(typeof x!="function")throw new oi(o);return g=Vn(g),function(){return--g>0&&(L=x.apply(this,arguments)),g<=1&&(x=n),L}}var fb=On(function(g,x,L){var ce=w;if(L.length){var xe=fu(L,yf(fb));ce|=N}return gc(g,ce,x,L,xe)}),V4=On(function(g,x,L){var ce=w|b;if(L.length){var xe=fu(L,yf(V4));ce|=N}return gc(x,ce,g,L,xe)});function M4(g,x,L){x=L?n:x;var ce=gc(g,S,n,n,n,n,n,x);return ce.placeholder=M4.placeholder,ce}function O4(g,x,L){x=L?n:x;var ce=gc(g,T,n,n,n,n,n,x);return ce.placeholder=O4.placeholder,ce}function Q4(g,x,L){var ce,xe,De,$e,tt,ut,Ft=0,Pt=!1,Vt=!1,Xt=!0;if(typeof g!="function")throw new oi(o);x=di(x)||0,ta(L)&&(Pt=!!L.leading,Vt="maxWait"in L,De=Vt?La(di(L.maxWait)||0,x):De,Xt="trailing"in L?!!L.trailing:Xt);function dn(ga){var Li=ce,xc=xe;return ce=xe=n,Ft=ga,$e=g.apply(xc,Li),$e}function bn(ga){return Ft=ga,tt=zh(zn,x),Pt?dn(ga):$e}function Mn(ga){var Li=ga-ut,xc=ga-Ft,oF=x-Li;return Vt?bs(oF,De-xc):oF}function xn(ga){var Li=ga-ut,xc=ga-Ft;return ut===n||Li>=x||Li<0||Vt&&xc>=De}function zn(){var ga=Vg();if(xn(ga))return jn(ga);tt=zh(zn,Mn(ga))}function jn(ga){return tt=n,Xt&&ce?dn(ga):(ce=xe=n,$e)}function Oo(){tt!==n&&YT(tt),Ft=0,ce=ut=xe=tt=n}function Zs(){return tt===n?$e:jn(Vg())}function Qo(){var ga=Vg(),Li=xn(ga);if(ce=arguments,xe=this,ut=ga,Li){if(tt===n)return bn(ut);if(Vt)return YT(tt),tt=zh(zn,x),dn(ut)}return tt===n&&(tt=zh(zn,x)),$e}return Qo.cancel=Oo,Qo.flush=Zs,Qo}var Sj=On(function(g,x){return TT(g,1,x)}),kj=On(function(g,x,L){return TT(g,di(x)||0,L)});function Ij(g){return gc(g,C)}function Mg(g,x){if(typeof g!="function"||x!=null&&typeof x!="function")throw new oi(o);var L=function(){var ce=arguments,xe=x?x.apply(this,ce):ce[0],De=L.cache;if(De.has(xe))return De.get(xe);var $e=g.apply(this,ce);return L.cache=De.set(xe,$e)||De,$e};return L.cache=new(Mg.Cache||vc),L}Mg.Cache=vc;function Og(g){if(typeof g!="function")throw new oi(o);return function(){var x=arguments;switch(x.length){case 0:return!g.call(this);case 1:return!g.call(this,x[0]);case 2:return!g.call(this,x[0],x[1]);case 3:return!g.call(this,x[0],x[1],x[2])}return!g.apply(this,x)}}function Tj(g){return L4(2,g)}var Fj=p$(function(g,x){x=x.length==1&&Un(x[0])?Ur(x[0],Lo(yn())):Ur(is(x,1),Lo(yn()));var L=x.length;return On(function(ce){for(var xe=-1,De=bs(ce.length,L);++xe<De;)ce[xe]=x[xe].call(this,ce[xe]);return ws(g,this,ce)})}),mb=On(function(g,x){var L=fu(x,yf(mb));return gc(g,N,n,x,L)}),H4=On(function(g,x){var L=fu(x,yf(H4));return gc(g,k,n,x,L)}),Pj=yc(function(g,x){return gc(g,_,n,n,n,x)});function Dj(g,x){if(typeof g!="function")throw new oi(o);return x=x===n?x:Vn(x),On(g,x)}function Uj(g,x){if(typeof g!="function")throw new oi(o);return x=x==null?0:La(Vn(x),0),On(function(L){var ce=L[x],xe=gu(L,0,x);return ce&&Fi(xe,ce),ws(g,this,xe)})}function Rj(g,x,L){var ce=!0,xe=!0;if(typeof g!="function")throw new oi(o);return ta(L)&&(ce="leading"in L?!!L.leading:ce,xe="trailing"in L?!!L.trailing:xe),Q4(g,x,{leading:ce,maxWait:x,trailing:xe})}function Nj(g){return N4(g,1)}function Lj(g,x){return mb(X_(x),g)}function Vj(){if(!arguments.length)return[];var g=arguments[0];return Un(g)?g:[g]}function Mj(g){return li(g,v)}function Oj(g,x){return x=typeof x=="function"?x:n,li(g,v,x)}function Qj(g){return li(g,f|v)}function Hj(g,x){return x=typeof x=="function"?x:n,li(g,f|v,x)}function Kj(g,x){return x==null||IT(g,x,qa(x))}function Ni(g,x){return g===x||g!==g&&x!==x}var Gj=Pg(O_),zj=Pg(function(g,x){return g>=x}),Dd=RT((function(){return arguments})())?RT:function(g){return sa(g)&&kr.call(g,"callee")&&!_T.call(g,"callee")},Un=wt.isArray,$j=kh?Lo(kh):e$;function _o(g){return g!=null&&Qg(g.length)&&!_c(g)}function pa(g){return sa(g)&&_o(g)}function Wj(g){return g===!0||g===!1||sa(g)&&Ys(g)==Y}var yu=iz||Eb,jj=Ih?Lo(Ih):t$;function Jj(g){return sa(g)&&g.nodeType===1&&!$h(g)}function qj(g){if(g==null)return!0;if(_o(g)&&(Un(g)||typeof g=="string"||typeof g.splice=="function"||yu(g)||wf(g)||Dd(g)))return!g.length;var x=xs(g);if(x==ie||x==Se)return!g.size;if(Gh(g))return!K_(g).length;for(var L in g)if(kr.call(g,L))return!1;return!0}function Yj(g,x){return Qh(g,x)}function Xj(g,x,L){L=typeof L=="function"?L:n;var ce=L?L(g,x):n;return ce===n?Qh(g,x,n,L):!!ce}function hb(g){if(!sa(g))return!1;var x=Ys(g);return x==we||x==ge||typeof g.message=="string"&&typeof g.name=="string"&&!$h(g)}function Zj(g){return typeof g=="number"&&xT(g)}function _c(g){if(!ta(g))return!1;var x=Ys(g);return x==z||x==Ae||x==q||x==He}function K4(g){return typeof g=="number"&&g==Vn(g)}function Qg(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=le}function ta(g){var x=typeof g;return g!=null&&(x=="object"||x=="function")}function sa(g){return g!=null&&typeof g=="object"}var G4=lf?Lo(lf):r$;function eJ(g,x){return g===x||H_(g,x,sb(x))}function tJ(g,x,L){return L=typeof L=="function"?L:n,H_(g,x,sb(x),L)}function nJ(g){return z4(g)&&g!=+g}function rJ(g){if(O$(g))throw new Fn(s);return NT(g)}function aJ(g){return g===null}function sJ(g){return g==null}function z4(g){return typeof g=="number"||sa(g)&&Ys(g)==_e}function $h(g){if(!sa(g)||Ys(g)!=re)return!1;var x=mg(g);if(x===null)return!0;var L=kr.call(x,"constructor")&&x.constructor;return typeof L=="function"&&L instanceof L&&ug.call(L)==tz}var vb=cf?Lo(cf):a$;function oJ(g){return K4(g)&&g>=-le&&g<=le}var $4=Th?Lo(Th):s$;function Hg(g){return typeof g=="string"||!Un(g)&&sa(g)&&Ys(g)==st}function Mo(g){return typeof g=="symbol"||sa(g)&&Ys(g)==je}var wf=xd?Lo(xd):o$;function iJ(g){return g===n}function lJ(g){return sa(g)&&xs(g)==Te}function cJ(g){return sa(g)&&Ys(g)==Le}var uJ=Pg(G_),dJ=Pg(function(g,x){return g<=x});function W4(g){if(!g)return[];if(_o(g))return Hg(g)?Ui(g):wo(g);if(Dh&&g[Dh])return KG(g[Dh]());var x=xs(g),L=x==ie?F_:x==Se?ig:_f;return L(g)}function bc(g){if(!g)return g===0?g:0;if(g=di(g),g===W||g===-W){var x=g<0?-1:1;return x*K}return g===g?g:0}function Vn(g){var x=bc(g),L=x%1;return x===x?L?x-L:x:0}function j4(g){return g?Id(Vn(g),0,j):0}function di(g){if(typeof g=="number")return g;if(Mo(g))return ee;if(ta(g)){var x=typeof g.valueOf=="function"?g.valueOf():g;g=ta(x)?x+"":x}if(typeof g!="string")return g===0?g:+g;g=fT(g);var L=Ye.test(g);return L||ct.test(g)?bd(g.slice(2),L?2:8):Ze.test(g)?ee:+g}function J4(g){return El(g,bo(g))}function AJ(g){return g?Id(Vn(g),-le,le):g===0?g:0}function yr(g){return g==null?"":Vo(g)}var fJ=pf(function(g,x){if(Gh(x)||_o(x)){El(x,qa(x),g);return}for(var L in x)kr.call(x,L)&&Vh(g,L,x[L])}),q4=pf(function(g,x){El(x,bo(x),g)}),Kg=pf(function(g,x,L,ce){El(x,bo(x),g,ce)}),mJ=pf(function(g,x,L,ce){El(x,qa(x),g,ce)}),hJ=yc(L_);function vJ(g,x){var L=vf(g);return x==null?L:kT(L,x)}var pJ=On(function(g,x){g=Rr(g);var L=-1,ce=x.length,xe=ce>2?x[2]:n;for(xe&&Xs(x[0],x[1],xe)&&(ce=1);++L<ce;)for(var De=x[L],$e=bo(De),tt=-1,ut=$e.length;++tt<ut;){var Ft=$e[tt],Pt=g[Ft];(Pt===n||Ni(Pt,ff[Ft])&&!kr.call(g,Ft))&&(g[Ft]=De[Ft])}return g}),gJ=On(function(g){return g.push(n,f4),ws(Y4,n,g)});function yJ(g,x){return pt(g,yn(x,3),Cl)}function wJ(g,x){return pt(g,yn(x,3),M_)}function _J(g,x){return g==null?g:V_(g,yn(x,3),bo)}function bJ(g,x){return g==null?g:DT(g,yn(x,3),bo)}function xJ(g,x){return g&&Cl(g,yn(x,3))}function CJ(g,x){return g&&M_(g,yn(x,3))}function EJ(g){return g==null?[]:Cg(g,qa(g))}function BJ(g){return g==null?[]:Cg(g,bo(g))}function pb(g,x,L){var ce=g==null?n:Td(g,x);return ce===n?L:ce}function SJ(g,x){return g!=null&&v4(g,x,qz)}function gb(g,x){return g!=null&&v4(g,x,Yz)}var kJ=l4(function(g,x,L){x!=null&&typeof x.toString!="function"&&(x=dg.call(x)),g[x]=L},wb(xo)),IJ=l4(function(g,x,L){x!=null&&typeof x.toString!="function"&&(x=dg.call(x)),kr.call(g,x)?g[x].push(L):g[x]=[L]},yn),TJ=On(Oh);function qa(g){return _o(g)?BT(g):K_(g)}function bo(g){return _o(g)?BT(g,!0):i$(g)}function FJ(g,x){var L={};return x=yn(x,3),Cl(g,function(ce,xe,De){pc(L,x(ce,xe,De),ce)}),L}function PJ(g,x){var L={};return x=yn(x,3),Cl(g,function(ce,xe,De){pc(L,xe,x(ce,xe,De))}),L}var DJ=pf(function(g,x,L){Eg(g,x,L)}),Y4=pf(function(g,x,L,ce){Eg(g,x,L,ce)}),UJ=yc(function(g,x){var L={};if(g==null)return L;var ce=!1;x=Ur(x,function(De){return De=pu(De,g),ce||(ce=De.length>1),De}),El(g,rb(g),L),ce&&(L=li(L,f|m|v,k$));for(var xe=x.length;xe--;)J_(L,x[xe]);return L});function RJ(g,x){return X4(g,Og(yn(x)))}var NJ=yc(function(g,x){return g==null?{}:c$(g,x)});function X4(g,x){if(g==null)return{};var L=Ur(rb(g),function(ce){return[ce]});return x=yn(x),KT(g,L,function(ce,xe){return x(ce,xe[0])})}function LJ(g,x,L){x=pu(x,g);var ce=-1,xe=x.length;for(xe||(xe=1,g=n);++ce<xe;){var De=g==null?n:g[Bl(x[ce])];De===n&&(ce=xe,De=L),g=_c(De)?De.call(g):De}return g}function VJ(g,x,L){return g==null?g:Hh(g,x,L)}function MJ(g,x,L,ce){return ce=typeof ce=="function"?ce:n,g==null?g:Hh(g,x,L,ce)}var Z4=d4(qa),eF=d4(bo);function OJ(g,x,L){var ce=Un(g),xe=ce||yu(g)||wf(g);if(x=yn(x,4),L==null){var De=g&&g.constructor;xe?L=ce?new De:[]:ta(g)?L=_c(De)?vf(mg(g)):{}:L={}}return(xe?ka:Cl)(g,function($e,tt,ut){return x(L,$e,tt,ut)}),L}function QJ(g,x){return g==null?!0:J_(g,x)}function HJ(g,x,L){return g==null?g:jT(g,x,X_(L))}function KJ(g,x,L,ce){return ce=typeof ce=="function"?ce:n,g==null?g:jT(g,x,X_(L),ce)}function _f(g){return g==null?[]:T_(g,qa(g))}function GJ(g){return g==null?[]:T_(g,bo(g))}function zJ(g,x,L){return L===n&&(L=x,x=n),L!==n&&(L=di(L),L=L===L?L:0),x!==n&&(x=di(x),x=x===x?x:0),Id(di(g),x,L)}function $J(g,x,L){return x=bc(x),L===n?(L=x,x=0):L=bc(L),g=di(g),Xz(g,x,L)}function WJ(g,x,L){if(L&&typeof L!="boolean"&&Xs(g,x,L)&&(x=L=n),L===n&&(typeof x=="boolean"?(L=x,x=n):typeof g=="boolean"&&(L=g,g=n)),g===n&&x===n?(g=0,x=1):(g=bc(g),x===n?(x=g,g=0):x=bc(x)),g>x){var ce=g;g=x,x=ce}if(L||g%1||x%1){var xe=CT();return bs(g+xe*(x-g+I_("1e-"+((xe+"").length-1))),x)}return $_(g,x)}var jJ=gf(function(g,x,L){return x=x.toLowerCase(),g+(L?tF(x):x)});function tF(g){return yb(yr(g).toLowerCase())}function nF(g){return g=yr(g),g&&g.replace(xt,VG).replace(_d,"")}function JJ(g,x,L){g=yr(g),x=Vo(x);var ce=g.length;L=L===n?ce:Id(Vn(L),0,ce);var xe=L;return L-=x.length,L>=0&&g.slice(L,xe)==x}function qJ(g){return g=yr(g),g&&me.test(g)?g.replace($t,MG):g}function YJ(g){return g=yr(g),g&&En.test(g)?g.replace(jt,"\\$&"):g}var XJ=gf(function(g,x,L){return g+(L?"-":"")+x.toLowerCase()}),ZJ=gf(function(g,x,L){return g+(L?" ":"")+x.toLowerCase()}),eq=s4("toLowerCase");function tq(g,x,L){g=yr(g),x=Vn(x);var ce=x?df(g):0;if(!x||ce>=x)return g;var xe=(x-ce)/2;return Fg(gg(xe),L)+g+Fg(pg(xe),L)}function nq(g,x,L){g=yr(g),x=Vn(x);var ce=x?df(g):0;return x&&ce<x?g+Fg(x-ce,L):g}function rq(g,x,L){g=yr(g),x=Vn(x);var ce=x?df(g):0;return x&&ce<x?Fg(x-ce,L)+g:g}function aq(g,x,L){return L||x==null?x=0:x&&(x=+x),dz(yr(g).replace(hn,""),x||0)}function sq(g,x,L){return(L?Xs(g,x,L):x===n)?x=1:x=Vn(x),W_(yr(g),x)}function oq(){var g=arguments,x=yr(g[0]);return g.length<3?x:x.replace(g[1],g[2])}var iq=gf(function(g,x,L){return g+(L?"_":"")+x.toLowerCase()});function lq(g,x,L){return L&&typeof L!="number"&&Xs(g,x,L)&&(x=L=n),L=L===n?j:L>>>0,L?(g=yr(g),g&&(typeof x=="string"||x!=null&&!vb(x))&&(x=Vo(x),!x&&uf(g))?gu(Ui(g),0,L):g.split(x,L)):[]}var cq=gf(function(g,x,L){return g+(L?" ":"")+yb(x)});function uq(g,x,L){return g=yr(g),L=L==null?0:Id(Vn(L),0,g.length),x=Vo(x),g.slice(L,L+x.length)==x}function dq(g,x,L){var ce=Fe.templateSettings;L&&Xs(g,x,L)&&(x=n),g=yr(g),x=Kg({},x,ce,A4);var xe=Kg({},x.imports,ce.imports,A4),De=qa(xe),$e=T_(xe,De),tt,ut,Ft=0,Pt=x.interpolate||vt,Vt="__p += '",Xt=P_((x.escape||vt).source+"|"+Pt.source+"|"+(Pt===At?de:vt).source+"|"+(x.evaluate||vt).source+"|$","g"),dn="//# sourceURL="+(kr.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++k_+"]")+`
`;g.replace(Xt,function(xn,zn,jn,Oo,Zs,Qo){return jn||(jn=Oo),Vt+=g.slice(Ft,Qo).replace(_t,OG),zn&&(tt=!0,Vt+=`' +
__e(`+zn+`) +
'`),Zs&&(ut=!0,Vt+=`';
`+Zs+`;
__p += '`),jn&&(Vt+=`' +
((__t = (`+jn+`)) == null ? '' : __t) +
'`),Ft=Qo+xn.length,xn}),Vt+=`';
`;var bn=kr.call(x,"variable")&&x.variable;if(!bn)Vt=`with (obj) {
`+Vt+`
}
`;else if(Ie.test(bn))throw new Fn(i);Vt=(ut?Vt.replace(cn,""):Vt).replace(ln,"$1").replace(an,"$1;"),Vt="function("+(bn||"obj")+`) {
`+(bn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(tt?", __e = _.escape":"")+(ut?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Vt+`return __p
}`;var Mn=aF(function(){return Ar(De,dn+"return "+Vt).apply(n,$e)});if(Mn.source=Vt,hb(Mn))throw Mn;return Mn}function Aq(g){return yr(g).toLowerCase()}function fq(g){return yr(g).toUpperCase()}function mq(g,x,L){if(g=yr(g),g&&(L||x===n))return fT(g);if(!g||!(x=Vo(x)))return g;var ce=Ui(g),xe=Ui(x),De=mT(ce,xe),$e=hT(ce,xe)+1;return gu(ce,De,$e).join("")}function hq(g,x,L){if(g=yr(g),g&&(L||x===n))return g.slice(0,pT(g)+1);if(!g||!(x=Vo(x)))return g;var ce=Ui(g),xe=hT(ce,Ui(x))+1;return gu(ce,0,xe).join("")}function vq(g,x,L){if(g=yr(g),g&&(L||x===n))return g.replace(hn,"");if(!g||!(x=Vo(x)))return g;var ce=Ui(g),xe=mT(ce,Ui(x));return gu(ce,xe).join("")}function pq(g,x){var L=F,ce=I;if(ta(x)){var xe="separator"in x?x.separator:xe;L="length"in x?Vn(x.length):L,ce="omission"in x?Vo(x.omission):ce}g=yr(g);var De=g.length;if(uf(g)){var $e=Ui(g);De=$e.length}if(L>=De)return g;var tt=L-df(ce);if(tt<1)return ce;var ut=$e?gu($e,0,tt).join(""):g.slice(0,tt);if(xe===n)return ut+ce;if($e&&(tt+=ut.length-tt),vb(xe)){if(g.slice(tt).search(xe)){var Ft,Pt=ut;for(xe.global||(xe=P_(xe.source,yr(fe.exec(xe))+"g")),xe.lastIndex=0;Ft=xe.exec(Pt);)var Vt=Ft.index;ut=ut.slice(0,Vt===n?tt:Vt)}}else if(g.indexOf(Vo(xe),tt)!=tt){var Xt=ut.lastIndexOf(xe);Xt>-1&&(ut=ut.slice(0,Xt))}return ut+ce}function gq(g){return g=yr(g),g&&Ke.test(g)?g.replace(zt,WG):g}var yq=gf(function(g,x,L){return g+(L?" ":"")+x.toUpperCase()}),yb=s4("toUpperCase");function rF(g,x,L){return g=yr(g),x=L?n:x,x===n?HG(g)?qG(g):ft(g):g.match(x)||[]}var aF=On(function(g,x){try{return ws(g,n,x)}catch(L){return hb(L)?L:new Fn(L)}}),wq=yc(function(g,x){return ka(x,function(L){L=Bl(L),pc(g,L,fb(g[L],g))}),g});function _q(g){var x=g==null?0:g.length,L=yn();return g=x?Ur(g,function(ce){if(typeof ce[1]!="function")throw new oi(o);return[L(ce[0]),ce[1]]}):[],On(function(ce){for(var xe=-1;++xe<x;){var De=g[xe];if(ws(De[0],this,ce))return ws(De[1],this,ce)}})}function bq(g){return Wz(li(g,f))}function wb(g){return function(){return g}}function xq(g,x){return g==null||g!==g?x:g}var Cq=i4(),Eq=i4(!0);function xo(g){return g}function _b(g){return LT(typeof g=="function"?g:li(g,f))}function Bq(g){return MT(li(g,f))}function Sq(g,x){return OT(g,li(x,f))}var kq=On(function(g,x){return function(L){return Oh(L,g,x)}}),Iq=On(function(g,x){return function(L){return Oh(g,L,x)}});function bb(g,x,L){var ce=qa(x),xe=Cg(x,ce);L==null&&!(ta(x)&&(xe.length||!ce.length))&&(L=x,x=g,g=this,xe=Cg(x,qa(x)));var De=!(ta(L)&&"chain"in L)||!!L.chain,$e=_c(g);return ka(xe,function(tt){var ut=x[tt];g[tt]=ut,$e&&(g.prototype[tt]=function(){var Ft=this.__chain__;if(De||Ft){var Pt=g(this.__wrapped__),Vt=Pt.__actions__=wo(this.__actions__);return Vt.push({func:ut,args:arguments,thisArg:g}),Pt.__chain__=Ft,Pt}return ut.apply(g,Fi([this.value()],arguments))})}),g}function Tq(){return aa._===this&&(aa._=nz),this}function xb(){}function Fq(g){return g=Vn(g),On(function(x){return QT(x,g)})}var Pq=eb(Ur),Dq=eb(Fh),Uq=eb(ue);function sF(g){return ib(g)?yo(Bl(g)):u$(g)}function Rq(g){return function(x){return g==null?n:Td(g,x)}}var Nq=c4(),Lq=c4(!0);function Cb(){return[]}function Eb(){return!1}function Vq(){return{}}function Mq(){return""}function Oq(){return!0}function Qq(g,x){if(g=Vn(g),g<1||g>le)return[];var L=j,ce=bs(g,j);x=yn(x),g-=j;for(var xe=Ed(ce,x);++L<g;)x(L);return xe}function Hq(g){return Un(g)?Ur(g,Bl):Mo(g)?[g]:wo(E4(yr(g)))}function Kq(g){var x=++ez;return yr(g)+x}var Gq=Tg(function(g,x){return g+x},0),zq=tb("ceil"),$q=Tg(function(g,x){return g/x},1),Wq=tb("floor");function jq(g){return g&&g.length?xg(g,xo,O_):n}function Jq(g,x){return g&&g.length?xg(g,yn(x,2),O_):n}function qq(g){return va(g,xo)}function Yq(g,x){return va(g,yn(x,2))}function Xq(g){return g&&g.length?xg(g,xo,G_):n}function Zq(g,x){return g&&g.length?xg(g,yn(x,2),G_):n}var eY=Tg(function(g,x){return g*x},1),tY=tb("round"),nY=Tg(function(g,x){return g-x},0);function rY(g){return g&&g.length?Au(g,xo):0}function aY(g,x){return g&&g.length?Au(g,yn(x,2)):0}return Fe.after=Bj,Fe.ary=N4,Fe.assign=fJ,Fe.assignIn=q4,Fe.assignInWith=Kg,Fe.assignWith=mJ,Fe.at=hJ,Fe.before=L4,Fe.bind=fb,Fe.bindAll=wq,Fe.bindKey=V4,Fe.castArray=Vj,Fe.chain=D4,Fe.chunk=W$,Fe.compact=j$,Fe.concat=J$,Fe.cond=_q,Fe.conforms=bq,Fe.constant=wb,Fe.countBy=rj,Fe.create=vJ,Fe.curry=M4,Fe.curryRight=O4,Fe.debounce=Q4,Fe.defaults=pJ,Fe.defaultsDeep=gJ,Fe.defer=Sj,Fe.delay=kj,Fe.difference=q$,Fe.differenceBy=Y$,Fe.differenceWith=X$,Fe.drop=Z$,Fe.dropRight=eW,Fe.dropRightWhile=tW,Fe.dropWhile=nW,Fe.fill=rW,Fe.filter=sj,Fe.flatMap=lj,Fe.flatMapDeep=cj,Fe.flatMapDepth=uj,Fe.flatten=I4,Fe.flattenDeep=aW,Fe.flattenDepth=sW,Fe.flip=Ij,Fe.flow=Cq,Fe.flowRight=Eq,Fe.fromPairs=oW,Fe.functions=EJ,Fe.functionsIn=BJ,Fe.groupBy=dj,Fe.initial=lW,Fe.intersection=cW,Fe.intersectionBy=uW,Fe.intersectionWith=dW,Fe.invert=kJ,Fe.invertBy=IJ,Fe.invokeMap=fj,Fe.iteratee=_b,Fe.keyBy=mj,Fe.keys=qa,Fe.keysIn=bo,Fe.map=Lg,Fe.mapKeys=FJ,Fe.mapValues=PJ,Fe.matches=Bq,Fe.matchesProperty=Sq,Fe.memoize=Mg,Fe.merge=DJ,Fe.mergeWith=Y4,Fe.method=kq,Fe.methodOf=Iq,Fe.mixin=bb,Fe.negate=Og,Fe.nthArg=Fq,Fe.omit=UJ,Fe.omitBy=RJ,Fe.once=Tj,Fe.orderBy=hj,Fe.over=Pq,Fe.overArgs=Fj,Fe.overEvery=Dq,Fe.overSome=Uq,Fe.partial=mb,Fe.partialRight=H4,Fe.partition=vj,Fe.pick=NJ,Fe.pickBy=X4,Fe.property=sF,Fe.propertyOf=Rq,Fe.pull=hW,Fe.pullAll=F4,Fe.pullAllBy=vW,Fe.pullAllWith=pW,Fe.pullAt=gW,Fe.range=Nq,Fe.rangeRight=Lq,Fe.rearg=Pj,Fe.reject=yj,Fe.remove=yW,Fe.rest=Dj,Fe.reverse=db,Fe.sampleSize=_j,Fe.set=VJ,Fe.setWith=MJ,Fe.shuffle=bj,Fe.slice=wW,Fe.sortBy=Ej,Fe.sortedUniq=SW,Fe.sortedUniqBy=kW,Fe.split=lq,Fe.spread=Uj,Fe.tail=IW,Fe.take=TW,Fe.takeRight=FW,Fe.takeRightWhile=PW,Fe.takeWhile=DW,Fe.tap=jW,Fe.throttle=Rj,Fe.thru=Ng,Fe.toArray=W4,Fe.toPairs=Z4,Fe.toPairsIn=eF,Fe.toPath=Hq,Fe.toPlainObject=J4,Fe.transform=OJ,Fe.unary=Nj,Fe.union=UW,Fe.unionBy=RW,Fe.unionWith=NW,Fe.uniq=LW,Fe.uniqBy=VW,Fe.uniqWith=MW,Fe.unset=QJ,Fe.unzip=Ab,Fe.unzipWith=P4,Fe.update=HJ,Fe.updateWith=KJ,Fe.values=_f,Fe.valuesIn=GJ,Fe.without=OW,Fe.words=rF,Fe.wrap=Lj,Fe.xor=QW,Fe.xorBy=HW,Fe.xorWith=KW,Fe.zip=GW,Fe.zipObject=zW,Fe.zipObjectDeep=$W,Fe.zipWith=WW,Fe.entries=Z4,Fe.entriesIn=eF,Fe.extend=q4,Fe.extendWith=Kg,bb(Fe,Fe),Fe.add=Gq,Fe.attempt=aF,Fe.camelCase=jJ,Fe.capitalize=tF,Fe.ceil=zq,Fe.clamp=zJ,Fe.clone=Mj,Fe.cloneDeep=Qj,Fe.cloneDeepWith=Hj,Fe.cloneWith=Oj,Fe.conformsTo=Kj,Fe.deburr=nF,Fe.defaultTo=xq,Fe.divide=$q,Fe.endsWith=JJ,Fe.eq=Ni,Fe.escape=qJ,Fe.escapeRegExp=YJ,Fe.every=aj,Fe.find=oj,Fe.findIndex=S4,Fe.findKey=yJ,Fe.findLast=ij,Fe.findLastIndex=k4,Fe.findLastKey=wJ,Fe.floor=Wq,Fe.forEach=U4,Fe.forEachRight=R4,Fe.forIn=_J,Fe.forInRight=bJ,Fe.forOwn=xJ,Fe.forOwnRight=CJ,Fe.get=pb,Fe.gt=Gj,Fe.gte=zj,Fe.has=SJ,Fe.hasIn=gb,Fe.head=T4,Fe.identity=xo,Fe.includes=Aj,Fe.indexOf=iW,Fe.inRange=$J,Fe.invoke=TJ,Fe.isArguments=Dd,Fe.isArray=Un,Fe.isArrayBuffer=$j,Fe.isArrayLike=_o,Fe.isArrayLikeObject=pa,Fe.isBoolean=Wj,Fe.isBuffer=yu,Fe.isDate=jj,Fe.isElement=Jj,Fe.isEmpty=qj,Fe.isEqual=Yj,Fe.isEqualWith=Xj,Fe.isError=hb,Fe.isFinite=Zj,Fe.isFunction=_c,Fe.isInteger=K4,Fe.isLength=Qg,Fe.isMap=G4,Fe.isMatch=eJ,Fe.isMatchWith=tJ,Fe.isNaN=nJ,Fe.isNative=rJ,Fe.isNil=sJ,Fe.isNull=aJ,Fe.isNumber=z4,Fe.isObject=ta,Fe.isObjectLike=sa,Fe.isPlainObject=$h,Fe.isRegExp=vb,Fe.isSafeInteger=oJ,Fe.isSet=$4,Fe.isString=Hg,Fe.isSymbol=Mo,Fe.isTypedArray=wf,Fe.isUndefined=iJ,Fe.isWeakMap=lJ,Fe.isWeakSet=cJ,Fe.join=AW,Fe.kebabCase=XJ,Fe.last=ui,Fe.lastIndexOf=fW,Fe.lowerCase=ZJ,Fe.lowerFirst=eq,Fe.lt=uJ,Fe.lte=dJ,Fe.max=jq,Fe.maxBy=Jq,Fe.mean=qq,Fe.meanBy=Yq,Fe.min=Xq,Fe.minBy=Zq,Fe.stubArray=Cb,Fe.stubFalse=Eb,Fe.stubObject=Vq,Fe.stubString=Mq,Fe.stubTrue=Oq,Fe.multiply=eY,Fe.nth=mW,Fe.noConflict=Tq,Fe.noop=xb,Fe.now=Vg,Fe.pad=tq,Fe.padEnd=nq,Fe.padStart=rq,Fe.parseInt=aq,Fe.random=WJ,Fe.reduce=pj,Fe.reduceRight=gj,Fe.repeat=sq,Fe.replace=oq,Fe.result=LJ,Fe.round=tY,Fe.runInContext=ot,Fe.sample=wj,Fe.size=xj,Fe.snakeCase=iq,Fe.some=Cj,Fe.sortedIndex=_W,Fe.sortedIndexBy=bW,Fe.sortedIndexOf=xW,Fe.sortedLastIndex=CW,Fe.sortedLastIndexBy=EW,Fe.sortedLastIndexOf=BW,Fe.startCase=cq,Fe.startsWith=uq,Fe.subtract=nY,Fe.sum=rY,Fe.sumBy=aY,Fe.template=dq,Fe.times=Qq,Fe.toFinite=bc,Fe.toInteger=Vn,Fe.toLength=j4,Fe.toLower=Aq,Fe.toNumber=di,Fe.toSafeInteger=AJ,Fe.toString=yr,Fe.toUpper=fq,Fe.trim=mq,Fe.trimEnd=hq,Fe.trimStart=vq,Fe.truncate=pq,Fe.unescape=gq,Fe.uniqueId=Kq,Fe.upperCase=yq,Fe.upperFirst=yb,Fe.each=U4,Fe.eachRight=R4,Fe.first=T4,bb(Fe,(function(){var g={};return Cl(Fe,function(x,L){kr.call(Fe.prototype,L)||(g[L]=x)}),g})(),{chain:!1}),Fe.VERSION=r,ka(["bind","bindKey","curry","curryRight","partial","partialRight"],function(g){Fe[g].placeholder=Fe}),ka(["drop","take"],function(g,x){$n.prototype[g]=function(L){L=L===n?1:La(Vn(L),0);var ce=this.__filtered__&&!x?new $n(this):this.clone();return ce.__filtered__?ce.__takeCount__=bs(L,ce.__takeCount__):ce.__views__.push({size:bs(L,j),type:g+(ce.__dir__<0?"Right":"")}),ce},$n.prototype[g+"Right"]=function(L){return this.reverse()[g](L).reverse()}}),ka(["filter","map","takeWhile"],function(g,x){var L=x+1,ce=L==te||L==O;$n.prototype[g]=function(xe){var De=this.clone();return De.__iteratees__.push({iteratee:yn(xe,3),type:L}),De.__filtered__=De.__filtered__||ce,De}}),ka(["head","last"],function(g,x){var L="take"+(x?"Right":"");$n.prototype[g]=function(){return this[L](1).value()[0]}}),ka(["initial","tail"],function(g,x){var L="drop"+(x?"":"Right");$n.prototype[g]=function(){return this.__filtered__?new $n(this):this[L](1)}}),$n.prototype.compact=function(){return this.filter(xo)},$n.prototype.find=function(g){return this.filter(g).head()},$n.prototype.findLast=function(g){return this.reverse().find(g)},$n.prototype.invokeMap=On(function(g,x){return typeof g=="function"?new $n(this):this.map(function(L){return Oh(L,g,x)})}),$n.prototype.reject=function(g){return this.filter(Og(yn(g)))},$n.prototype.slice=function(g,x){g=Vn(g);var L=this;return L.__filtered__&&(g>0||x<0)?new $n(L):(g<0?L=L.takeRight(-g):g&&(L=L.drop(g)),x!==n&&(x=Vn(x),L=x<0?L.dropRight(-x):L.take(x-g)),L)},$n.prototype.takeRightWhile=function(g){return this.reverse().takeWhile(g).reverse()},$n.prototype.toArray=function(){return this.take(j)},Cl($n.prototype,function(g,x){var L=/^(?:filter|find|map|reject)|While$/.test(x),ce=/^(?:head|last)$/.test(x),xe=Fe[ce?"take"+(x=="last"?"Right":""):x],De=ce||/^find/.test(x);xe&&(Fe.prototype[x]=function(){var $e=this.__wrapped__,tt=ce?[1]:arguments,ut=$e instanceof $n,Ft=tt[0],Pt=ut||Un($e),Vt=function(zn){var jn=xe.apply(Fe,Fi([zn],tt));return ce&&Xt?jn[0]:jn};Pt&&L&&typeof Ft=="function"&&Ft.length!=1&&(ut=Pt=!1);var Xt=this.__chain__,dn=!!this.__actions__.length,bn=De&&!Xt,Mn=ut&&!dn;if(!De&&Pt){$e=Mn?$e:new $n(this);var xn=g.apply($e,tt);return xn.__actions__.push({func:Ng,args:[Vt],thisArg:n}),new ii(xn,Xt)}return bn&&Mn?g.apply(this,tt):(xn=this.thru(Vt),bn?ce?xn.value()[0]:xn.value():xn)})}),ka(["pop","push","shift","sort","splice","unshift"],function(g){var x=lg[g],L=/^(?:push|sort|unshift)$/.test(g)?"tap":"thru",ce=/^(?:pop|shift)$/.test(g);Fe.prototype[g]=function(){var xe=arguments;if(ce&&!this.__chain__){var De=this.value();return x.apply(Un(De)?De:[],xe)}return this[L](function($e){return x.apply(Un($e)?$e:[],xe)})}}),Cl($n.prototype,function(g,x){var L=Fe[x];if(L){var ce=L.name+"";kr.call(hf,ce)||(hf[ce]=[]),hf[ce].push({name:x,func:L})}}),hf[Ig(n,b).name]=[{name:"wrapper",func:n}],$n.prototype.clone=gz,$n.prototype.reverse=yz,$n.prototype.value=wz,Fe.prototype.at=JW,Fe.prototype.chain=qW,Fe.prototype.commit=YW,Fe.prototype.next=XW,Fe.prototype.plant=ej,Fe.prototype.reverse=tj,Fe.prototype.toJSON=Fe.prototype.valueOf=Fe.prototype.value=nj,Fe.prototype.first=Fe.prototype.head,Dh&&(Fe.prototype[Dh]=ZW),Fe}),Af=YG();si?((si.exports=Af)._=Af,sf._=Af):aa._=Af}).call(tde)})(v0,v0.exports)),v0.exports}var rde=nde();const Gn=ede(rde),o8=6048e5,ade=864e5,i8=6e4,l8=36e5,KD=Symbol.for("constructDateFrom");function qc(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&KD in e?e[KD](t):e instanceof Date?new e.constructor(t):new Date(t)}function ua(e,t){return qc(t||e,e)}let sde={};function Cw(){return sde}function kv(e,t){const n=Cw(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=ua(e,t?.in),s=a.getDay(),o=(s<r?7:0)+s-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Yy(e,t){return kv(e,{...t,weekStartsOn:1})}function c8(e,t){const n=ua(e,t?.in),r=n.getFullYear(),a=qc(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=Yy(a),o=qc(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Yy(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=i.getTime()?r:r-1}function GD(e){const t=ua(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ew(e,...t){const n=qc.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Xy(e,t){const n=ua(e,t?.in);return n.setHours(0,0,0,0),n}function ode(e,t,n){const[r,a]=Ew(n?.in,e,t),s=Xy(r),o=Xy(a),i=+s-GD(s),c=+o-GD(o);return Math.round((i-c)/ade)}function ide(e,t){const n=c8(e,t),r=qc(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Yy(r)}function zD(e,t){const n=+ua(e)-+ua(t);return n<0?-1:n>0?1:n}function lde(e,t,n){const[r,a]=Ew(n?.in,e,t);return+Xy(r)==+Xy(a)}function cde(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ude(e){return!(!cde(e)&&typeof e!="number"||isNaN(+ua(e)))}function dde(e,t,n){const[r,a]=Ew(n?.in,e,t);return r.getFullYear()-a.getFullYear()}function u8(e,t,n){const[r,a]=Ew(n?.in,e,t),s=zD(r,a),o=Math.abs(dde(r,a));r.setFullYear(1584),a.setFullYear(1584);const i=zD(r,a)===-s,c=s*(o-+i);return c===0?0:c}function Ade(e,t){const n=ua(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const fde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mde=(e,t,n)=>{let r;const a=fde[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ix(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const hde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gde={date:ix({formats:hde,defaultWidth:"full"}),time:ix({formats:vde,defaultWidth:"full"}),dateTime:ix({formats:pde,defaultWidth:"full"})},yde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wde=(e,t,n,r)=>yde[e];function Xh(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):o;a=e.formattingValues[i]||e.formattingValues[o]}else{const o=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;a=e.values[i]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const _de={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ede={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sde=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kde={ordinalNumber:Sde,era:Xh({values:_de,defaultWidth:"wide"}),quarter:Xh({values:bde,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xh({values:xde,defaultWidth:"wide"}),day:Xh({values:Cde,defaultWidth:"wide"}),dayPeriod:Xh({values:Ede,defaultWidth:"wide",formattingValues:Bde,defaultFormattingWidth:"wide"})};function Zh(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(i)?Tde(i,f=>f.test(o)):Ide(i,f=>f.test(o));let A;A=e.valueCallback?e.valueCallback(c):c,A=n.valueCallback?n.valueCallback(A):A;const u=t.slice(o.length);return{value:A,rest:u}}}function Ide(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Tde(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Fde(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const i=t.slice(a.length);return{value:o,rest:i}}}const Pde=/^(\d+)(th|st|nd|rd)?/i,Dde=/\d+/i,Ude={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rde={any:[/^b/i,/^(a|c)/i]},Nde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lde={any:[/1/i,/2/i,/3/i,/4/i]},Vde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ode={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gde={ordinalNumber:Fde({matchPattern:Pde,parsePattern:Dde,valueCallback:e=>parseInt(e,10)}),era:Zh({matchPatterns:Ude,defaultMatchWidth:"wide",parsePatterns:Rde,defaultParseWidth:"any"}),quarter:Zh({matchPatterns:Nde,defaultMatchWidth:"wide",parsePatterns:Lde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zh({matchPatterns:Vde,defaultMatchWidth:"wide",parsePatterns:Mde,defaultParseWidth:"any"}),day:Zh({matchPatterns:Ode,defaultMatchWidth:"wide",parsePatterns:Qde,defaultParseWidth:"any"}),dayPeriod:Zh({matchPatterns:Hde,defaultMatchWidth:"any",parsePatterns:Kde,defaultParseWidth:"any"})},zde={code:"en-US",formatDistance:mde,formatLong:gde,formatRelative:wde,localize:kde,match:Gde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $de(e,t){const n=ua(e,t?.in);return ode(n,Ade(n))+1}function Wde(e,t){const n=ua(e,t?.in),r=+Yy(n)-+ide(n);return Math.round(r/o8)+1}function d8(e,t){const n=ua(e,t?.in),r=n.getFullYear(),a=Cw(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=qc(t?.in||e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const i=kv(o,t),c=qc(t?.in||e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const A=kv(c,t);return+n>=+i?r+1:+n>=+A?r:r-1}function jde(e,t){const n=Cw(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=d8(e,t),s=qc(t?.in||e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),kv(s,t)}function Jde(e,t){const n=ua(e,t?.in),r=+kv(n,t)-+jde(n,t);return Math.round(r/o8)+1}function Ir(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const xu={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ir(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ir(n+1,2)},d(e,t){return Ir(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ir(e.getHours()%12||12,t.length)},H(e,t){return Ir(e.getHours(),t.length)},m(e,t){return Ir(e.getMinutes(),t.length)},s(e,t){return Ir(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Ir(a,t.length)}},kf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$D={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return xu.y(e,t)},Y:function(e,t,n,r){const a=d8(e,r),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return Ir(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ir(s,t.length)},R:function(e,t){const n=c8(e);return Ir(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ir(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ir(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ir(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return xu.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ir(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Jde(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Ir(a,t.length)},I:function(e,t,n){const r=Wde(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ir(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):xu.d(e,t)},D:function(e,t,n){const r=$de(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ir(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Ir(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Ir(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Ir(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=kf.noon:r===0?a=kf.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=kf.evening:r>=12?a=kf.afternoon:r>=4?a=kf.morning:a=kf.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xu.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):xu.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ir(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ir(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):xu.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):xu.s(e,t)},S:function(e,t){return xu.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return jD(r);case"XXXX":case"XX":return Hd(r);case"XXXXX":case"XXX":default:return Hd(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return jD(r);case"xxxx":case"xx":return Hd(r);case"xxxxx":case"xxx":default:return Hd(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+WD(r,":");case"OOOO":default:return"GMT"+Hd(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+WD(r,":");case"zzzz":default:return"GMT"+Hd(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Ir(r,t.length)},T:function(e,t,n){return Ir(+e,t.length)}};function WD(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return s===0?n+String(a):n+String(a)+t+Ir(s,2)}function jD(e,t){return e%60===0?(e>0?"-":"+")+Ir(Math.abs(e)/60,2):Hd(e,t)}function Hd(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Ir(Math.trunc(r/60),2),s=Ir(r%60,2);return n+a+t+s}const JD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},A8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},qde=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return JD(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",JD(r,t)).replace("{{time}}",A8(a,t))},Yde={p:A8,P:qde},Xde=/^D+$/,Zde=/^Y+$/,eAe=["D","DD","YY","YYYY"];function tAe(e){return Xde.test(e)}function nAe(e){return Zde.test(e)}function rAe(e,t,n){const r=aAe(e,t,n);if(console.warn(r),eAe.includes(e))throw new RangeError(r)}function aAe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iAe=/^'([^]*?)'?$/,lAe=/''/g,cAe=/[a-zA-Z]/;function Jl(e,t,n){const r=Cw(),a=r.locale??zde,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=ua(e,n?.in);if(!ude(i))throw new RangeError("Invalid time value");let c=t.match(oAe).map(u=>{const f=u[0];if(f==="p"||f==="P"){const m=Yde[f];return m(u,a.formatLong)}return u}).join("").match(sAe).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const f=u[0];if(f==="'")return{isToken:!1,value:uAe(u)};if($D[f])return{isToken:!0,value:u};if(f.match(cAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(i,c));const A={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const f=u.value;(nAe(f)||tAe(f))&&rAe(f,t,String(e));const m=$D[f[0]];return m(i,f,a.localize,A)}).join("")}function uAe(e){const t=e.match(iAe);return t?t[1].replace(lAe,"'"):e}function dAe(e){return Math.trunc(+ua(e)/1e3)}function AAe(e,t){return+ua(e)>+ua(t)}function Zm(e,t){const n=()=>qc(t?.in,NaN),a=vAe(e);let s;if(a.date){const A=pAe(a.date,2);s=gAe(A.restDateString,A.year)}if(!s||isNaN(+s))return n();const o=+s;let i=0,c;if(a.time&&(i=yAe(a.time),isNaN(i)))return n();if(a.timezone){if(c=wAe(a.timezone),isNaN(c))return n()}else{const A=new Date(o+i),u=ua(0,t?.in);return u.setFullYear(A.getUTCFullYear(),A.getUTCMonth(),A.getUTCDate()),u.setHours(A.getUTCHours(),A.getUTCMinutes(),A.getUTCSeconds(),A.getUTCMilliseconds()),u}return ua(o+i+c,t?.in)}const r1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fAe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mAe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hAe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vAe(e){const t={},n=e.split(r1.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],r1.timeZoneDelimiter.test(t.date)&&(t.date=e.split(r1.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=r1.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function pAe(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function gAe(e,t){if(t===null)return new Date(NaN);const n=e.match(fAe);if(!n)return new Date(NaN);const r=!!n[4],a=e0(n[1]),s=e0(n[2])-1,o=e0(n[3]),i=e0(n[4]),c=e0(n[5])-1;if(r)return EAe(t,i,c)?_Ae(t,i,c):new Date(NaN);{const A=new Date(0);return!xAe(t,s,o)||!CAe(t,a)?new Date(NaN):(A.setUTCFullYear(t,s,Math.max(a,o)),A)}}function e0(e){return e?parseInt(e):1}function yAe(e){const t=e.match(mAe);if(!t)return NaN;const n=lx(t[1]),r=lx(t[2]),a=lx(t[3]);return BAe(n,r,a)?n*l8+r*i8+a*1e3:NaN}function lx(e){return e&&parseFloat(e.replace(",","."))||0}function wAe(e){if(e==="Z")return 0;const t=e.match(hAe);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return SAe(r,a)?n*(r*l8+a*i8):NaN}function _Ae(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,s=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const bAe=[31,null,31,30,31,30,31,31,30,31,30,31];function f8(e){return e%400===0||e%4===0&&e%100!==0}function xAe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(bAe[t]||(f8(e)?29:28))}function CAe(e,t){return t>=1&&t<=(f8(e)?366:365)}function EAe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function BAe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function SAe(e,t){return t>=0&&t<=59}function kAe(e,t,n){const r=ua(e,n?.in);return r.setHours(t),r}function IAe(e,t,n){const r=ua(e,n?.in);return r.setMilliseconds(t),r}function TAe(e,t,n){const r=ua(e,n?.in);return r.setMinutes(t),r}function FAe(e,t,n){const r=ua(e,n?.in);return r.setSeconds(t),r}const tk=async(e,t,n=null)=>{try{const r=n||Jl(new Date,"yyyy-MM-dd");return{data:{consultation_id:(await Bt.post("/consultation/",{patient_id:e,doctor_id:t,consultation_date:r})).data?.data?.consultation_id||null},error:null}}catch(r){return console.error("There was an error adding the consultation:",r),{data:null,error:r}}},qD=async e=>{try{const t=await Bt.get(`/consultation/${e}`),n=Gn.cloneDeep(t.data.data.consultation),r=await h8(n.id);return n.medicines=r.data,{data:n,error:null}}catch(t){return console.error("Error updating consultation:",t),{data:[],error:t}}},m8=async e=>{try{return await Bt.put(`/consultation/${e.id}`,e),{error:null}}catch(t){return console.error("Error updating consultation:",t),{error:t}}};let a1={value:[]};const h8=async e=>{try{return{data:(await Bt.get(`/consultation/consultation_medicines/${e}`)).data.data.medicines,error:null}}catch(t){return console.error("Error fetching medicines:",t),{data:[],error:t}}},oy=async(e,t=null)=>{try{if(!e)throw new Error("patient_id is required");let n="";t?n=`?doctor_id=${t}`:console.warn(" fetchConsultations called without doctor_id - this will return ALL consultations for patient"),console.log(" Fetching consultations from:",`/consultation/consultations/${e}${n}`);const r=await Bt.get(`/consultation/consultations/${e}${n}`);a1=Gn.cloneDeep(r.data.data.consultations),console.log(" Raw consultations from API:",a1.length,"items");for(const a of a1){const s=await h8(a.id);a.medicines=s.data}return{data:a1,error:null}}catch(n){return console.error("Error fetching consultations from API:",n),{data:[],error:n}}},PAe=async e=>{try{console.log(`[Summary] Triggering summary generation for patient: ${e}`);const t=await Bt(a8({method:"post",url:`/consultation/generate-summary/${e}`}));return console.log(`[Summary] Summary generation queued successfully for patient: ${e}`),t}catch(t){return console.error(`[Summary] Failed to trigger summary generation for patient ${e}:`,t),{success:!1,error:t}}},v8=async e=>{try{return{data:(await Bt.post("/patient/create",e)).data.data.newPatient,error:null}}catch(t){return console.error("There was an error adding the patient:",t),{data:null,error:t}}},DAe=async e=>{try{return console.log(`DEBUG bulkCreatePatients - Sending ${e.length} patients to API`),e.forEach((n,r)=>{console.log(`DEBUG bulkCreatePatients PATIENT ${r} - Gender: ${JSON.stringify(n.gender)}, Type: ${typeof n.gender}`),r<3&&console.log(`DEBUG bulkCreatePatients PATIENT ${r} - Full data:`,JSON.stringify(n,null,2))}),{data:(await Bt.post("/patient/bulk-create",{patients:e})).data.data,error:null}}catch(t){return console.error("There was an error in bulk patient creation:",t),{data:null,error:t}}},nk=async e=>{try{return{data:(await Bt.get(`/patient/${e}`)).data.data.patient,error:null}}catch(t){return console.error("Error fetching patient details from API:",t),{data:null,error:t}}},UAe=async(e,t,n)=>{try{return{data:(await Bt.get("/patient/patients",{params:{name:e,phone:t,date:n}})).data.data.patients,error:null}}catch(r){return console.error("Error fetching patients from API:",r),{data:[],error:r}}},RAe=async e=>{try{return await Bt.put(`/patient/${e.id}`,e),{error:null}}catch(t){return{error:t}}},p8=async e=>{try{return{data:(await Bt.get(`/patient/search/${e}`)).data.data.patients,error:null}}catch(t){return console.error("Error fetching patient details from API:",t),{data:[],error:t}}},cx=e=>{if(!e)return"";try{const[t,n]=e.split(":");if(!t||!n)return e;let r=new Date;return r=kAe(r,parseInt(t)),r=TAe(r,parseInt(n)),r=FAe(r,0),r=IAe(r,0),Jl(r,"hh:mm a")}catch(t){return console.error("Error formatting time:",e,t),e}},rk=e=>{if(!e)return null;try{const t=typeof e=="string"?Zm(e):new Date(e);return u8(new Date,t)}catch(t){return console.error("Error calculating age:",e,t),null}};function g8(e){const t=new Date;t.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),lde(n,t)||AAe(n,t)}const ls=e=>{if(!e)return"";try{let t;if(typeof e=="string"){const n=e.replace(" ","T")+"Z";t=Zm(n)}else t=new Date(e);return Jl(t,"MMMM d")}catch(t){return console.error("Error formatting date:",e,t),""}},ux=Jl(new Date,"MMMM d"),Jn=()=>Jl(new Date,"yyyy-MM-dd"),ji=e=>{if(!e)return"";try{const t=typeof e=="string"?Zm(e):new Date(e);return Jl(t,"MMM d, yyyy")}catch(t){return console.error("Error formatting date for chip:",e,t),e}},Nu=e=>{if(!e)return null;try{const t=Zm(e);return dAe(t)}catch(t){return console.error("Error converting date to timestamp:",e,t),null}},NAe=e=>{if(!e||e<946684800)return"";try{const t=new Date(e*1e3);return Jl(t,"yyyy-MM-dd")}catch(t){return console.error("Error converting timestamp to date:",e,t),""}},Ei=[e=>e?!0:"this information is required"],Bw=[e=>{if(!e)return"this information is required";const t=e.toString().replace(/\s+/g,"");return/^\d+$/.test(t)?t.length!==10?"Contact number must be exactly 10 digits.":/^0+$/.test(t)||/^(.)\1{9}$/.test(t)?"Please enter a valid phone number.":!0:"Contact number must contain only digits."}],LAe=[e=>e?!0:"this information is required"],ak=[e=>{if(!e)return"this information is required.";const t=parseInt(e,10);return isNaN(t)||t<0||t>120?"Age must be a valid number between 0 and 120.":!0}],sk=[e=>{if(!e)return"this information is required.";const t=new Date(e);return g8(t)?"Birth date cannot be today or in the future.":!0}],ok=[e=>e?!0:"this information is required."],aE=[e=>{if(!e)return"this information is required.";const t=new Date(e);return g8(t)?!0:"Appointment date cannot be in the past."}],ik=[e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"Please enter a valid email address"],VAe=[e=>{if(!e)return"this information is required";const t=e.toString().replace(/\s+/g,"");return/^\d+$/.test(t)?t.length!==6?"Pincode must be exactly 6 digits.":!0:"Pincode must contain only digits."}],y8="/assets/images/add_patient-CvgE6aXm.png",MAe={class:"w-100",style:{"white-space":"normal",overflow:"visible","text-overflow":"unset"}},OAe={class:"text-subtitle-2 mb-1",style:{"white-space":"normal","line-height":"1.3",overflow:"visible","text-overflow":"unset"}},QAe={class:"text-caption",style:{opacity:"0.7"}},HAe={class:"d-flex justify-center"},KAe={class:"d-flex age-dob-container",style:{gap:"8px"}},GAe={class:"d-flex justify-center"},zAe={__name:"add-appointment",props:{doctorId:{type:[String,Number],required:!0},clinicId:{type:[String,Number],required:!0}},emits:["close","appointment-created","error"],setup(e,{emit:t}){const n=e,r=pr(),a=t;let s=null,o=null;const i=H(!1),c=H([]),A=H(""),u=H([]),f=H(!1),m=H(!1),v=H("dob"),h=H(""),y=H({name:"",contact_number:"",age:"",birthDate:"",gender:"",email:""}),w=H(new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})).toLocaleDateString("en-GB").split("/").reverse().join("-")),b=H(new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Kolkata"})),B=H("walkin"),S=H(new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Kolkata"})).toLocaleDateString("en-GB").split("/").reverse().join("-")),T=H(new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Kolkata"})),N=H("walkin"),k=Z(()=>n.doctorId),E=Z(()=>n.clinicId),_=Z(()=>r.getters["doctorModule/isProcedurePrimary"]),C=()=>_.value?"procedure":"consultation",F=H(C()),I=H(C()),R=oe=>oe?`${oe.name||""} (${oe.contactNumber||oe.contact_number||""})`:"",M=(oe,q=0,Y=!1)=>{if(q===0)return"First time patient";if(Y&&q>1)return oe?`Has appointment today  Last visit: ${ji(oe)}`:"Has appointment today";if(Y&&q===1)return"First visit today";if(oe){const ae=Jn(),ge=oe;if(ge<ae)return`Last visit: ${ji(ge)}`;if(ge>ae)return`Next visit: ${ji(ge)}`}return"No previous visits"},te=Z(()=>!A.value||A.value.length<1?"Start typing to search for patients":f.value?`No patients found matching "${A.value}"`:""),se=H(!1),O=H(!1),W=oe=>{const q=oe.target.value.replace(/[^0-9]/g,"").slice(0,10);y.value.contact_number=q},le=oe=>{if(v.value==="dob")if(oe){h.value=oe;const q=rk(oe);q!==null&&(y.value.age=q.toString())}else h.value=""};Ge(v,oe=>{oe==="age"?(y.value.birthDate&&(h.value=y.value.birthDate),y.value.birthDate=""):h.value&&(y.value.birthDate=h.value)});const K=async oe=>{if(!oe||oe.length<1){c.value=[],f.value=!1;return}o&&o.abort(),o=new AbortController,i.value=!0,f.value=!1;try{const q=await p8(oe,{signal:o.signal});o.signal.aborted||(c.value=q.data,(!c.value||c.value.length===0)&&(f.value=!0))}catch(q){q.name!=="AbortError"&&(console.error("Error fetching patients:",q),f.value=!0)}finally{o?.signal.aborted||(i.value=!1)}};Ge(A,oe=>{s&&clearTimeout(s),f.value=!1,s=setTimeout(()=>{K(oe)},300)}),Ge(_,(oe,q)=>{if(oe===q)return;const Y=oe?"procedure":"consultation",ae=q?"procedure":"consultation";F.value===ae&&(F.value=Y),I.value===ae&&(I.value=Y)},{immediate:!1});const ee=()=>{m.value=!m.value,m.value&&(v.value="dob",h.value="",y.value={name:"",contact_number:"",age:"",birthDate:"",gender:"",email:""})},j=async()=>{const oe={...y.value};if(v.value==="dob"&&oe.birthDate){const ae=Nu(oe.birthDate);ae!==null?oe.birthDate=ae.toString():oe.birthDate=""}else delete oe.birthDate;const q=await v8(oe),Y=q.data.id;q.error?console.error("There was an error adding the patient:",q.error):G(Y,k.value,E.value)},U=async(oe,q,Y)=>{const ae={patientId:oe,clinicId:Y,doctorId:q,appointmentDate:w.value,appointmentTime:b.value,status:"waiting",category:B.value,type:F.value};try{await Bt.post("/appointment/",ae),_.value||await ne(oe,k.value,w.value),a("appointment-created",{success:!0,message:"Appointment created successfully"}),X()}catch(ge){console.error("There was an error creating new appointment:",ge),ge.response?.status===409?a("error",{title:"Appointment Already Exists",message:"An appointment for this patient with the same doctor, clinic, and date already exists. Please choose a different date.",type:"warning"}):ge.response?.status===404?a("error",{title:"Patient Not Found",message:"The selected patient could not be found. Please try searching again.",type:"error"}):ge.response?.status===400?a("error",{title:"Invalid Data",message:ge.response.data?.error||"Please check your appointment details and try again.",type:"error"}):a("error",{title:"Error Creating Appointment",message:"An unexpected error occurred while creating the appointment. Please try again.",type:"error"})}},G=async(oe,q,Y)=>{const ae={patientId:oe,clinicId:Y,doctorId:q,appointmentDate:S.value,appointmentTime:T.value,status:"waiting",category:N.value,type:I.value};try{await Bt.post("/appointment/",ae),_.value||await ne(oe,k.value,S.value),a("appointment-created",{success:!0,message:"Patient and appointment created successfully"}),X()}catch(ge){console.error("There was an error creating new appointment:",ge),ge.response?.status===409?a("error",{title:"Appointment Already Exists",message:"An appointment for this patient with the same doctor, clinic, and date already exists. Please choose a different date.",type:"warning"}):ge.response?.status===404?a("error",{title:"Patient Not Found",message:"The selected patient could not be found. Please try searching again.",type:"error"}):ge.response?.status===400?a("error",{title:"Invalid Data",message:ge.response.data?.error||"Please check your appointment details and try again.",type:"error"}):a("error",{title:"Error Creating Appointment",message:"An unexpected error occurred while creating the appointment. Please try again.",type:"error"})}},ne=async(oe,q,Y=null)=>{await tk(oe,q,Y)},X=()=>{a("close")};return Br(()=>{s&&(clearTimeout(s),s=null),o&&(o.abort(),o=null)}),(oe,q)=>{const Y=D("v-card-title"),ae=D("v-col"),ge=D("v-icon"),we=D("v-btn"),z=D("v-row"),Ae=D("v-card"),ie=D("v-list-item"),_e=D("v-divider"),Pe=D("v-card-subtitle"),re=D("v-list"),be=D("v-autocomplete"),He=D("v-card-text"),ke=D("v-text-field"),Se=D("v-select"),st=D("v-form"),je=D("v-btn-toggle"),Ve=D("v-empty-state");return V(),he(Ae,{rounded:"lg",color:"surfaceContainer"},{default:d(()=>[l(z,{"no-gutters":""},{default:d(()=>[l(ae,{cols:"12"},{default:d(()=>[l(Ae,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(z,{"no-gutters":""},{default:d(()=>[l(ae,{cols:"11"},{default:d(()=>[l(Y,{class:"pa-0 pl-2"},{default:d(()=>[...q[25]||(q[25]=[Q("Add patient to queue",-1)])]),_:1})]),_:1}),l(ae,{cols:"1"},{default:d(()=>[l(we,{icon:"",size:"x-small",onClick:X,tabindex:"-1"},{default:d(()=>[l(ge,null,{default:d(()=>[...q[26]||(q[26]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(z,{"no-gutters":""},{default:d(()=>[l(ae,{cols:"12"},{default:d(()=>[l(Ae,{flat:"",class:"d-flex justify-center ma-2",color:"surfaceContainer"},{default:d(()=>[l(be,{ref:"searchRef",density:"compact",placeholder:"Search by name or phone",style:{width:"90%","max-width":"700px"},theme:"light",variant:"solo",rounded:"l",items:c.value,search:A.value,"onUpdate:search":q[2]||(q[2]=Te=>A.value=Te),loading:i.value,"item-title":R,"item-value":"id","return-object":"",modelValue:u.value,"onUpdate:modelValue":q[3]||(q[3]=Te=>u.value=Te),chips:"",clearable:"","prepend-inner-icon":"mdi-magnify","no-data-text":te.value,"menu-props":{maxHeight:"400px",closeOnContentClick:!1}},{item:d(({props:Te,item:Le,index:ht})=>[l(re,{density:"compact",class:"pa-0 py-1"},{default:d(()=>[l(ie,Ne(Te,{class:"py-0 my-0",style:{"min-height":"60px"}}),{default:d(()=>[p("div",MAe,[p("div",OAe," ID: "+J(Le.raw.id)+"  "+J(Le.raw.gender)+", "+J(Le.raw.age)+" yrs  Added On: "+J(We(ji)(Le.raw.createdAt))+J(Le.raw.importID?`  Import ID:
                      ${Le.raw.importID}`:""),1),p("div",QAe,J(M(Le.raw.lastAppointmentDate,Le.raw.totalAppointments,Le.raw.hasAppointmentToday)),1)])]),_:2},1040),ht===c.value.length-1?(V(),ye(ze,{key:0},[l(_e),l(Ae,{flat:"",class:"pt-1"},{default:d(()=>[l(Pe,null,{default:d(()=>[...q[27]||(q[27]=[Q("Patient not in list ?",-1)])]),_:1}),l(we,{class:"ml-3",variant:"outlined",onClick:q[0]||(q[0]=Ct=>{oe.$refs.searchRef.blur(),ee()})},{default:d(()=>[...q[28]||(q[28]=[Q("Add New",-1)])]),_:1})]),_:1})],64)):Be("",!0)]),_:2},1024)]),"no-data":d(()=>[l(re,{density:"compact"},{default:d(()=>[l(ie,null,{default:d(()=>[l(Pe,null,{default:d(()=>[Q(J(te.value),1)]),_:1})]),_:1}),f.value&&A.value&&A.value.length>=1?(V(),ye(ze,{key:0},[l(_e),l(Ae,{flat:"",class:"pt-1"},{default:d(()=>[l(Pe,null,{default:d(()=>[...q[29]||(q[29]=[Q("Patient not in list ?",-1)])]),_:1}),l(we,{class:"ml-3",variant:"outlined",onClick:q[1]||(q[1]=Te=>{oe.$refs.searchRef.blur(),ee()})},{default:d(()=>[...q[30]||(q[30]=[Q("Add New",-1)])]),_:1})]),_:1})],64)):Be("",!0)]),_:1})]),append:d(()=>[l(we,{variant:"elevated",icon:m.value?"mdi-close":"mdi-plus",onClick:ee,rounded:"xl"},null,8,["icon"])]),_:1},8,["items","search","loading","modelValue","no-data-text"])]),_:1})]),_:1})]),_:1}),l(z,{"no-gutters":""},{default:d(()=>[l(ae,{cols:"12",class:"scroll-element"},{default:d(()=>[l(Ae,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[u.value&&u.value.id?(V(),ye(ze,{key:0},[l(Ae,{flat:"",class:"text-left",variant:"text"},{default:d(()=>[l(He,{class:"ma-0 pa-0 pl-4 mb-1"},{default:d(()=>[l(z,{"no-gutters":""},{default:d(()=>[l(ae,{cols:"6"},{default:d(()=>[Q(J(`Name: ${u.value.name}`),1)]),_:1}),l(ae,{cols:"6"},{default:d(()=>[Q(J(`Gender: ${u.value.gender}`),1)]),_:1})]),_:1}),l(z,{"no-gutters":""},{default:d(()=>[l(ae,{cols:"6"},{default:d(()=>[Q(J(`Contact: ${u.value.contactNumber}`),1)]),_:1}),l(ae,{cols:"6"},{default:d(()=>[Q(J(u.value.age!==null?`Age: ${u.value.age} yrs`:""),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(Ae,{flat:"",class:"text-left",variant:"text"},{default:d(()=>[l(st,{modelValue:se.value,"onUpdate:modelValue":q[10]||(q[10]=Te=>se.value=Te),"validate-on":"input"},{default:d(()=>[l(z,{"no-gutters":""},{default:d(()=>[l(ae,{cols:"12"},{default:d(()=>[l(ke,{label:"Appointment Date *",modelValue:w.value,"onUpdate:modelValue":q[4]||(q[4]=Te=>w.value=Te),type:"date",density:"compact",rules:We(aE),class:"date-input",onClick:q[5]||(q[5]=Te=>Te.target.showPicker&&Te.target.showPicker())},null,8,["modelValue","rules"])]),_:1}),l(ae,{cols:"12"},{default:d(()=>[l(ke,{label:"Appointment Time",modelValue:b.value,"onUpdate:modelValue":q[6]||(q[6]=Te=>b.value=Te),type:"time",density:"compact"},null,8,["modelValue"])]),_:1}),l(ae,{cols:"12"},{default:d(()=>[l(Se,{modelValue:F.value,"onUpdate:modelValue":q[7]||(q[7]=Te=>F.value=Te),items:["consultation","followup","procedure"],label:"Appointment Type"},null,8,["modelValue"])]),_:1}),l(ae,{cols:"12"},{default:d(()=>[l(Se,{modelValue:B.value,"onUpdate:modelValue":q[8]||(q[8]=Te=>B.value=Te),items:["walkin","scheduled"],label:"Appointment Category"},null,8,["modelValue"])]),_:1}),l(ae,{cols:"12"},{default:d(()=>[l(_e,{class:"mb-2"}),p("div",HAe,[l(we,{variant:"outlined",onClick:q[9]||(q[9]=Te=>U(u.value.id,k.value,E.value)),disabled:!se.value},{default:d(()=>[...q[31]||(q[31]=[Q("Add to Queue",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)):m.value?(V(),he(Ae,{key:1,flat:"",class:"text-left",variant:"text"},{default:d(()=>[l(st,{modelValue:O.value,"onUpdate:modelValue":q[24]||(q[24]=Te=>O.value=Te),"validate-on":"input"},{default:d(()=>[l(z,{"no-gutters":"",class:"mt-0 mb-4"},{default:d(()=>[l(ae,{cols:"6",class:"pr-2"},{default:d(()=>[l(ke,{label:"Name *",modelValue:y.value.name,"onUpdate:modelValue":q[11]||(q[11]=Te=>y.value.name=Te),clearable:"",rules:We(Ei),density:"compact","hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),l(ae,{cols:"6",class:"pl-2"},{default:d(()=>[l(ke,{label:"Phone Number *",modelValue:y.value.contact_number,"onUpdate:modelValue":q[12]||(q[12]=Te=>y.value.contact_number=Te),type:"tel",rules:We(Bw),clearable:"",density:"compact",maxlength:"10",onInput:W,"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(z,{"no-gutters":"",class:"my-4"},{default:d(()=>[l(ae,{cols:"6",class:"pr-2"},{default:d(()=>[p("div",KAe,[l(je,{modelValue:v.value,"onUpdate:modelValue":q[13]||(q[13]=Te=>v.value=Te),mandatory:"",density:"compact",variant:"outlined",divided:"",class:"age-dob-toggle"},{default:d(()=>[l(we,{value:"dob",size:"small"},{default:d(()=>[...q[32]||(q[32]=[Q("DOB",-1)])]),_:1}),l(we,{value:"age",size:"small"},{default:d(()=>[...q[33]||(q[33]=[Q("Age",-1)])]),_:1})]),_:1},8,["modelValue"]),v.value==="age"?(V(),he(ke,{key:0,label:"Age (yrs) *",modelValue:y.value.age,"onUpdate:modelValue":q[14]||(q[14]=Te=>y.value.age=Te),clearable:"",density:"compact",rules:We(ak),disabled:!!y.value.birthDate||!!h.value,class:"flex-grow-1","hide-details":"auto"},null,8,["modelValue","rules","disabled"])):(V(),he(ke,{key:1,label:"Date of Birth *",modelValue:y.value.birthDate,"onUpdate:modelValue":[q[15]||(q[15]=Te=>y.value.birthDate=Te),le],type:"date",clearable:"",density:"compact",rules:We(sk),class:"flex-grow-1 date-input","hide-details":"auto",onClick:q[16]||(q[16]=Te=>Te.target.showPicker&&Te.target.showPicker())},null,8,["modelValue","rules"]))])]),_:1}),l(ae,{cols:"6",class:"pl-2"},{default:d(()=>[l(Se,{modelValue:y.value.gender,"onUpdate:modelValue":q[17]||(q[17]=Te=>y.value.gender=Te),items:["Male","Female"],label:"Gender *",clearable:"",density:"compact",rules:We(ok),"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(z,{"no-gutters":"",class:"my-4"},{default:d(()=>[l(ae,{cols:"12"},{default:d(()=>[l(ke,{label:"Email (optional)",modelValue:y.value.email,"onUpdate:modelValue":q[18]||(q[18]=Te=>y.value.email=Te),type:"email",clearable:"",density:"compact",rules:We(ik),"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(z,{"no-gutters":"",class:"my-4"},{default:d(()=>[l(ae,{cols:"6",class:"pr-2"},{default:d(()=>[l(ke,{label:"Appointment Date *",modelValue:S.value,"onUpdate:modelValue":q[19]||(q[19]=Te=>S.value=Te),type:"date",density:"compact",rules:We(aE),class:"date-input",onClick:q[20]||(q[20]=Te=>Te.target.showPicker&&Te.target.showPicker()),"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),l(ae,{cols:"6",class:"pl-2"},{default:d(()=>[l(ke,{label:"Appointment Time",modelValue:T.value,"onUpdate:modelValue":q[21]||(q[21]=Te=>T.value=Te),type:"time",density:"compact","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1}),l(z,{"no-gutters":"",class:"my-4"},{default:d(()=>[l(ae,{cols:"6",class:"pr-2"},{default:d(()=>[l(Se,{modelValue:I.value,"onUpdate:modelValue":q[22]||(q[22]=Te=>I.value=Te),items:["consultation","followup","procedure"],label:"Appointment Type",density:"compact","hide-details":"auto"},null,8,["modelValue"])]),_:1}),l(ae,{cols:"6",class:"pl-2"},{default:d(()=>[l(Se,{modelValue:N.value,"onUpdate:modelValue":q[23]||(q[23]=Te=>N.value=Te),items:["walkin","scheduled"],label:"Appointment Category",density:"compact","hide-details":"auto"},null,8,["modelValue"])]),_:1})]),_:1}),l(z,{"no-gutters":""},{default:d(()=>[l(ae,{cols:"12"},{default:d(()=>[l(_e,{class:"mb-2"}),p("div",GAe,[l(we,{variant:"outlined",disabled:!O.value,onClick:j},{default:d(()=>[...q[34]||(q[34]=[Q("Create and Add to Queue ",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})):(V(),he(Ve,{key:2,image:We(y8)},{title:d(()=>[...q[35]||(q[35]=[p("div",{class:"text-subtitle-2 mt-8"}," Search for old patients or add a new patient above ",-1)])]),text:d(()=>[...q[36]||(q[36]=[p("div",{class:"text-caption"},null,-1)])]),_:1},8,["image"]))]),_:1})]),_:1})]),_:1})]),_:1})}}},YD=on(zAe,[["__scopeId","data-v-eca72d0b"]]),$Ae=async(e,t,n=null)=>{try{console.log("fetchAppointments called with params:",{doctor_id:e,clinic_id:t,date:n});const r={doctor_id:e,clinic_id:t};return n?(r.date=n,console.log("Adding date to params:",n)):console.log("No date provided, will use server default (today)"),console.log("Final API params:",r),{data:(await Bt.get("/appointment/",{params:r})).data.data.appointments,error:null}}catch(r){return console.error("There was an error fetching the patients:",r?.response||r),{data:[],error:r}}},WAe=async(e="",t="")=>{try{const n={};e&&e.trim()!==""&&(n.doctor=e.trim()),t&&t.trim()!==""&&(n.fromdate=t.trim());const r=await Bt.get("/appointment/completed",{params:n});return{data:r.data.data.appointments||[],total:r.data.data.total||0,filters:r.data.data.filters||{},error:null}}catch(n){return console.error("There was an error fetching completed appointments:",n?.response||n),{data:[],total:0,filters:{},error:n}}},w8=async e=>{try{return await Bt.put(`/appointment/${e.id}`,e),{error:null}}catch(t){return console.error("Error updating consultation:",t),{error:t}}},jAe=async e=>{try{return await Bt.delete(`/appointment/${e}`),{error:null}}catch(t){return console.error("Error deleting appointment:",t),{error:t}}},JAe={class:"d-flex justify-center"},XD={__name:"edit-appointment",props:{appointment:{type:Object,required:!0}},emits:["close"],setup(e,{emit:t}){const a=H((u=>{console.log("Edit appointment - original appointment:",u);const f={...u};if(f.appointmentDate){console.log("Original appointmentDate:",f.appointmentDate);let m=f.appointmentDate;if(m.includes("T")?m=m.split("T")[0]:m.length>10&&(m=m.split(" ")[0]),/^\d{4}-\d{2}-\d{2}$/.test(m))f.appointmentDate=m;else try{const h=new Date(m);if(!isNaN(h.getTime())){const y=h.getFullYear(),w=String(h.getMonth()+1).padStart(2,"0"),b=String(h.getDate()).padStart(2,"0");f.appointmentDate=`${y}-${w}-${b}`}}catch(h){console.error("Error parsing appointment date:",m,h)}console.log("Formatted appointmentDate:",f.appointmentDate)}return f.category||(f.category="scheduled"),f.status||(f.status="waiting"),f})(e.appointment)),s=t,o=H(!1),i=()=>{s("close")},c=async()=>{await A(a.value),console.log("close modal",a.value),s("close")},A=async u=>{(await w8(u)).error?console.error("Error updating consultation:"):console.log("Appointment updated successfully")};return(u,f)=>{const m=D("v-card-title"),v=D("v-col"),h=D("v-icon"),y=D("v-btn"),w=D("v-row"),b=D("v-card"),B=D("v-text-field"),S=D("v-select"),T=D("v-divider"),N=D("v-form");return V(),he(b,{rounded:"lg",color:"surfaceContainer"},{default:d(()=>[l(w,{"no-gutters":""},{default:d(()=>[l(v,{cols:"12"},{default:d(()=>[l(b,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(w,{"no-gutters":""},{default:d(()=>[l(v,{cols:"11"},{default:d(()=>[l(m,{class:"pa-0 pl-2"},{default:d(()=>[...f[7]||(f[7]=[Q("Edit appointment details",-1)])]),_:1})]),_:1}),l(v,{cols:"1"},{default:d(()=>[l(y,{icon:"",size:"x-small",onClick:i},{default:d(()=>[l(h,null,{default:d(()=>[...f[8]||(f[8]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(w,{"no-gutters":""},{default:d(()=>[l(v,{cols:"12"},{default:d(()=>[l(b,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(N,{modelValue:o.value,"onUpdate:modelValue":f[6]||(f[6]=k=>o.value=k),"validate-on":"blur"},{default:d(()=>[l(w,{"no-gutters":""},{default:d(()=>[l(v,{cols:"12"},{default:d(()=>[l(B,{label:"Appointment Date *",modelValue:a.value.appointmentDate,"onUpdate:modelValue":f[0]||(f[0]=k=>a.value.appointmentDate=k),type:"date",rules:We(aE)},null,8,["modelValue","rules"])]),_:1}),l(v,{cols:"12"},{default:d(()=>[l(B,{label:"Appointment Time",modelValue:a.value.appointmentTime,"onUpdate:modelValue":f[1]||(f[1]=k=>a.value.appointmentTime=k),type:"time"},null,8,["modelValue"])]),_:1}),l(v,{cols:"12"},{default:d(()=>[l(S,{modelValue:a.value.type,"onUpdate:modelValue":f[2]||(f[2]=k=>a.value.type=k),items:["consultation","followup","procedure"],label:"Appointment Type"},null,8,["modelValue"])]),_:1}),l(v,{cols:"12"},{default:d(()=>[l(S,{modelValue:a.value.category,"onUpdate:modelValue":f[3]||(f[3]=k=>a.value.category=k),items:["walkin","scheduled"],label:"Appointment Category"},null,8,["modelValue"])]),_:1}),l(v,{cols:"12"},{default:d(()=>[l(S,{modelValue:a.value.status,"onUpdate:modelValue":f[4]||(f[4]=k=>a.value.status=k),items:[{title:"waiting",value:"waiting"},{title:"confirmed",value:"confirmed"},{title:"completed",value:"completed"},{title:"cancelled",value:"cancelled"}],label:"Appointment Status","item-title":"title","item-value":"value"},null,8,["modelValue"])]),_:1}),l(v,{cols:"12"},{default:d(()=>[l(T,{class:"mb-2"}),p("div",JAe,[l(y,{variant:"outlined",onClick:f[5]||(f[5]=k=>c()),disabled:!o.value},{default:d(()=>[...f[9]||(f[9]=[Q("Update Appointment",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},qAe=async e=>{try{return!e||e.trim().length===0?{data:{services:[]},error:null}:{data:(await Bt.get(`/services/search_services/${encodeURIComponent(e)}`)).data.data,error:null}}catch(t){return console.error("Error searching services:",t),{data:null,error:t}}},YAe=async e=>{try{if(!e)throw new Error("Doctor ID is required");return{data:(await Bt.get(`/paymentreceipt/next-identifier/${e}`)).data.data,error:null}}catch(t){return console.error("Error getting next receipt identifier:",t),t.response?.status===400&&t.response?.data?.error?.includes("No receipt series found")?{data:null,error:{message:"No receipt series found. Please create a receipt series first in Admin Settings  Payment Receipt Series Configuration.",needsSeries:!0}}:{data:null,error:t}}},_8=async e=>{try{if(!e.doctorId)throw new Error("Doctor ID is required");if(!e.appointmentId&&!e.billId)throw new Error("Either Appointment ID or Bill ID is required");if(!e.billId&&(!e.services||!Array.isArray(e.services)||e.services.length===0))throw new Error("At least one service is required when Bill ID is not provided");return{data:(await Bt.post("/paymentreceipt/with-services",e)).data.data,error:null}}catch(t){if(console.error("Error creating receipt with services:",t),t.response?.status===500){const n=t.response?.data?.error||t.message||"";if(n.includes("No receipt series found")||n.includes("receipt series")||t.response?.data&&JSON.stringify(t.response.data).includes("receipt series"))return{data:null,error:{message:"No receipt series found. Please create a receipt series first in Admin Settings  Payment Receipt Series Configuration.",needsSeries:!0}}}return t.response?.status===400&&t.response?.data?.error?.includes("No receipt series found")?{data:null,error:{message:"No receipt series found. Please create a receipt series first in Admin Settings  Payment Receipt Series Configuration.",needsSeries:!0}}:{data:null,error:t}}},b8=async e=>{try{if(!e)throw new Error("Receipt ID is required");return{data:(await Bt.get(`/paymentreceipt/${e}/with-services`)).data.data,error:null}}catch(t){return console.error("Error getting receipt with services:",t),{data:null,error:t}}},XAe=async(e,t)=>{try{if(!e)throw new Error("Receipt ID is required");if(!t.services||!Array.isArray(t.services)||t.services.length===0)throw new Error("At least one service is required");return{data:(await Bt.put(`/paymentreceipt/${e}/with-services`,t)).data.data,error:null}}catch(n){return console.error("Error updating receipt with services:",n),{data:null,error:n}}},ZAe=async(e,t)=>{try{if(!e)throw new Error("Receipt ID is required");console.log(`Updating payment receipt ${e} with data:`,t);const n=await Bt.put(`/paymentreceipt/${e}`,t);return console.log("Payment receipt updated successfully via basic endpoint"),{data:n.data.data,error:null}}catch(n){return console.error("Error updating payment receipt:",n),n.response&&console.error("API Error Response:",n.response.status,n.response.data),{data:null,error:n}}},efe={class:"service-name-truncate"},tfe={class:"text-caption"},nfe={class:"ml-3"},rfe={key:0,class:"ml-3"},afe={__name:"search-service",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","serviceSelected"],setup(e,{emit:t}){const n=e,r=t,a=H(!1),s=H([]),o=H(""),i=H(""),c=H(!1);let A=null;const u=v=>{o.value=v};Ge(i,v=>{typeof v=="string"?(r("update:modelValue",v),r("serviceSelected",{serviceDescription:v,isUserTyped:!0,isFromHistory:!1})):v&&typeof v=="object"?(r("update:modelValue",v.serviceDescription),r("serviceSelected",v)):v||(r("update:modelValue",""),r("serviceSelected",null))}),Ge(o,v=>{if(A&&clearTimeout(A),c.value=!1,!v||v.length<1){a.value=!1,s.value=[];return}A=setTimeout(()=>{f(v)},300)}),Ge(()=>n.modelValue,v=>{v!==i.value&&(i.value=v)},{immediate:!0});const f=async v=>{if(!(!v||v.length<1)){a.value=!0,c.value=!1;try{const h=await qAe(v);if(h.error){console.error("Error fetching services:",h.error),c.value=!0;return}s.value=h.data.services.filter(y=>y.serviceDescription&&y.serviceDescription.trim().length>0),(!s.value||s.value.length===0)&&(c.value=!0)}catch(h){console.error("Error fetching services:",h),c.value=!0}finally{a.value=!1}}},m=Z(()=>!o.value||o.value.length<1?"Start typing to search for services":a.value?"Searching services...":c.value?"No matching services found. You can create a new service by typing the description.":"");return(v,h)=>{const y=D("v-list-item"),w=D("v-card-subtitle"),b=D("v-card"),B=D("v-combobox");return V(),he(B,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=S=>i.value=S),items:s.value,search:o.value,"onUpdate:search":u,"item-title":"serviceDescription","item-value":"serviceDescription",placeholder:"Type service description...",variant:"underlined",loading:a.value,"no-data-text":m.value,clearable:"","hide-no-data":"","auto-select-first":"",density:"compact",class:"service-combobox"},{item:d(({props:S,item:T,index:N})=>[(V(),he(y,Ne({...S,title:void 0,value:T.raw.id||`service-${N}`},{key:T.raw.id||`service-temp-${N}`,density:"compact"}),{title:d(()=>[p("span",efe,J(T.raw.serviceDescription),1)]),subtitle:d(()=>[p("div",tfe,[p("span",null,"Base Cost: "+J(T.raw.baseCost),1),p("span",nfe,"GST: "+J(T.raw.gstPercent||0)+"%",1),T.raw.hsnSacCode?(V(),ye("span",rfe,"HSN/SAC: "+J(T.raw.hsnSacCode),1)):Be("",!0)])]),_:2},1040))]),"no-data":d(()=>[l(b,{flat:"",class:"pa-4 text-center"},{default:d(()=>[l(w,null,{default:d(()=>[Q(J(m.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue","items","search","loading","no-data-text"])}}},Sw=on(afe,[["__scopeId","data-v-788c40fd"]]),wp=async e=>{try{return console.log("Creating payment with data:",e),{success:!0,data:(await Bt.post("/payment",e)).data.data,message:"Payment created successfully"}}catch(t){return console.error("Error creating payment:",t),{success:!1,error:{message:t.response?.data?.error||t.message||"Failed to create payment",status:t.response?.status||500}}}},kw=async e=>{try{console.log("Fetching payments for receipt ID:",e);const t=await Bt.get(`/payment?paymentReceiptId=${e}`);return console.log("Raw API response:",t.data),{success:!0,data:t.data.data.payments,message:"Payments fetched successfully"}}catch(t){return console.error("Error fetching payments by receipt:",t),{success:!1,error:{message:t.response?.data?.error||t.message||"Failed to fetch payments",status:t.response?.status||500}}}},x8=async e=>{try{return console.log("Deleting payment with ID:",e),{success:!0,data:(await Bt.delete(`/payment/${e}`)).data.data,message:"Payment deleted successfully"}}catch(t){return console.error("Error deleting payment:",t),{success:!1,error:{message:t.response?.data?.error||t.message||"Failed to delete payment",status:t.response?.status||500}}}},sfe=async(e="",t=null,n=null)=>{try{console.log("Fetching payment receipts with filters:",{paymentReceiptDate:e,doctorId:t,treatmentPlanId:n});const r=new URLSearchParams;e&&r.append("paymentReceiptDate",e),t&&r.append("doctor_id",t.toString()),n&&r.append("treatmentPlanId",n.toString());const a=r.toString()?`/paymentreceipt?${r.toString()}`:"/paymentreceipt";return{success:!0,data:(await Bt.get(a)).data.data,message:"Payment receipts fetched successfully"}}catch(r){return console.error("Error fetching payment receipts:",r),{success:!1,error:{message:r.response?.data?.error||r.message||"Failed to fetch payment receipts",status:r.response?.status||500}}}},C8=async(e,t="",n=null)=>{try{const r=e.state.doctorModule?.doctorId;if(!r)throw new Error("No doctor selected. Please select a doctor first.");return console.log("Fetching payment receipts for current doctor:",r,"treatmentPlanId:",n),await sfe(t,r,n)}catch(r){return console.error("Error fetching payment receipts for current doctor:",r),{success:!1,error:{message:r.message||"Failed to fetch payment receipts for current doctor",status:500}}}},_p=["Cash","Card","UPI","Bank Transfer","Cheque","Online","Other"],Hr=e=>!e&&e!==0?"0":`${Number(e).toLocaleString("en-IN")}`,sE=async(e,t,n,r="",a="",s="",o=0)=>{try{return{data:(await Bt.post("/treatmentplan/",{patient_id:e,doctor_id:t,treatmentplan_name:n,start_date:r,end_date:a,notes:s,amount_paid:o})).data.data,error:null}}catch(i){return console.error("There was an error creating the treatment plan:",i),{data:null,error:i}}},lk=async(e,t)=>{try{if(!e)throw new Error("patient_id is required");if(!t)throw new Error("doctor_id is required");console.log(" Making API call to:",`/treatmentplan/patient/${e}/doctor/${t}`);const n=await Bt.get(`/treatmentplan/patient/${e}/doctor/${t}`);return console.log(" API Response status:",n.status),console.log(" API Response treatment plans count:",n.data?.data?.length||0),{data:Gn.cloneDeep(n.data.data),error:null}}catch(n){if(console.error(" Error fetching treatment plans:",n),console.error(" Error details:",{message:n.message,status:n.response?.status,statusText:n.response?.statusText,data:n.response?.data,url:n.config?.url,sqlError:n.response?.data?.error,sqlMessage:n.response?.data?.message}),n.response?.status===500){const r=n.response?.data?.message||n.response?.data?.error||n.message;if(r.includes("treatmentplan")&&(r.includes("table")||r.includes("relation")||r.includes("does not exist")))return console.error(" Database table 'treatmentplan' might not exist or have incorrect schema"),{data:[],error:{...n,message:"Treatment plans table not found or has incorrect schema. Please check database setup.",type:"DATABASE_TABLE_ERROR"}}}return{data:[],error:n}}},bA=async e=>{try{const t=await Bt.get(`/treatmentplan/${e}`);return{data:Gn.cloneDeep(t.data.data),error:null}}catch(t){return console.error("Error fetching treatment plan details:",t),{data:null,error:t}}},E8=async e=>{try{return await Bt.delete(`/treatmentplan/${e}`),{error:null}}catch(t){return console.error("Error deleting treatment plan:",t),{error:t}}},B8=async(e="",t)=>{try{if(!t)throw new Error("Doctor ID is required");const n=new URLSearchParams;e&&n.append("search",e),n.append("doctor_id",t);const r=`/procedure/?${n.toString()}`,a=await Bt.get(r);return{data:Gn.cloneDeep(a.data.data),error:null}}catch(n){return console.error("Error fetching procedures:",n),{data:[],error:n}}},ck=async(e,t=0,n="",r=!0,a="",s="",o)=>{try{if(!o)throw new Error("Doctor ID is required");const i=new URLSearchParams;return i.append("doctor_id",o),{data:(await Bt.post(`/procedure/?${i.toString()}`,{procedure_name:e,cost:t,description:n,isLocal:r,procedureId:a,identifier:s})).data.data,error:null}}catch(i){return console.error("There was an error creating the procedure:",i),{data:null,error:i}}},S8=async(e,t,n)=>{try{if(!n)throw new Error("Doctor ID is required");const r=new URLSearchParams;r.append("doctor_id",n);const a=await Bt.put(`/procedure/${e}?${r.toString()}`,t);return{data:Gn.cloneDeep(a.data.data),error:null}}catch(r){return console.error("Error updating procedure:",r),{data:null,error:r}}},p0=async(e,t,n=0,r="",a="",s="")=>{try{return{data:(await Bt.post(`/treatmentplan/${e}/procedure`,{procedure_id:t,cost_estimate:n,notes:r,location:a,option:s})).data.data,error:null}}catch(o){return console.error("There was an error creating the treatment plan-procedure mapping:",o),{data:null,error:o}}},oE=async(e,t,n)=>{try{return{data:(await Bt.put(`/treatmentplan/${e}/procedure-treatment/${t}`,n)).data.data,error:null}}catch(r){return console.error("There was an error updating the treatment plan-procedure mapping:",r),{data:null,error:r}}},k8=async(e,t)=>{try{return await Bt.delete(`/treatmentplan/${e}/procedure-treatment/${t}`),{error:null}}catch(n){return console.error("There was an error deleting the treatment plan-procedure mapping:",n),{error:n}}},ofe=async e=>{try{if(!e.doctor_id)throw new Error("doctor_id is required");const t=new URLSearchParams;e.procedureName?.trim()&&t.append("procedure_name",e.procedureName.trim()),e.dateFrom&&t.append("date_from",e.dateFrom),e.dateTo&&t.append("date_to",e.dateTo),e.gender?.trim()&&t.append("gender",e.gender.trim()),e.ageGreaterThan&&t.append("age_greater_than",e.ageGreaterThan),e.ageLessThan&&t.append("age_less_than",e.ageLessThan),t.append("doctor_id",e.doctor_id);const n=t.toString(),r=`/procedure/research${n?`?${n}`:""}`;console.log(" Making procedure research API call to:",r);const a=await Bt.get(r);return console.log(" API Response status:",a.status),console.log(" API Response procedure research results count:",a.data?.data?.length||0),{data:Gn.cloneDeep(a.data.data),error:null}}catch(t){if(console.error(" Error searching procedure research data:",t),console.error(" Error details:",{message:t.message,status:t.response?.status,statusText:t.response?.statusText,data:t.response?.data,url:t.config?.url,sqlError:t.response?.data?.error,sqlMessage:t.response?.data?.message}),t.response?.status===500){const n=t.response?.data?.message||t.response?.data?.error||t.message;if(n.includes("procedure")&&(n.includes("table")||n.includes("relation")||n.includes("does not exist")))return console.error(" Database table for procedure research might not exist or have incorrect schema"),{data:[],error:{...t,message:"Procedure research tables not found or have incorrect schema. Please check database setup.",type:"DATABASE_TABLE_ERROR"}}}return{data:[],error:t}}},bp=async(e,t)=>{try{const n=await lk(e,t);if(n.error)return n;const r=n.data.filter(a=>a.status!=="Cancelled"&&!a.isTemplate);return console.log(" Filtered treatment plans for receipt linking:",{total:n.data.length,filtered:r.length,excluded:n.data.length-r.length}),{data:r,error:null}}catch(n){return console.error(" Error fetching treatment plans for receipt:",n),{data:[],error:n}}},ife=Object.freeze(Object.defineProperty({__proto__:null,createProcedure:ck,createProcedureTreatment:p0,createTreatmentPlan:sE,deleteProcedureTreatment:k8,deleteTreatmentPlan:E8,fetchProcedureDetails:bA,fetchProcedures:B8,fetchTreatmentPlans:lk,fetchTreatmentPlansForReceipt:bp,searchProcedureResearch:ofe,updateProcedure:S8,updateProcedureTreatment:oE},Symbol.toStringTag,{value:"Module"}));function uk(e,t){const n=A=>{const u=parseFloat(A.baseCost)||0,f=parseInt(A.quantity)||1,m=parseFloat(A.discountAmount)||0;return Math.max(0,u-m)*f},r=Z(()=>e.value.map(A=>({...A,total:n(A)}))),a=Z(()=>e.value.reduce((A,u)=>{const f=parseFloat(u.baseCost)||0,m=parseInt(u.quantity)||1;return A+f*m},0)),s=Z(()=>e.value.reduce((A,u)=>{const f=parseFloat(u.discountAmount)||0,m=parseInt(u.quantity)||1;return A+f*m},0)),o=Z(()=>{const A=s.value,u=parseFloat(t.value)||0;return A+u}),i=Z(()=>{const A=a.value,u=o.value;return Math.max(0,A-u)}),c=Z(()=>e.value.some(A=>A.serviceDescription&&A.serviceDescription.trim().length>0&&parseFloat(A.baseCost)>0));return{servicesWithTotals:r,subtotal:a,totalLineDiscount:s,totalAllDiscounts:o,finalGrandTotal:i,hasValidService:c,calculateServiceTotal:n}}const lfe={class:"pa-1"},cfe={class:"text-body-1 font-weight-medium"},ufe={class:"text-body-2 text-medium-emphasis"},dfe={class:"pa-1"},Afe={class:"text-body-1 font-weight-medium"},ffe={class:"text-body-2 text-medium-emphasis"},mfe={class:"pa-1"},hfe={class:"text-body-2 text-medium-emphasis"},vfe={class:"d-flex flex-column py-1"},pfe={class:"text-body-2 font-weight-medium"},gfe={class:"text-caption text-medium-emphasis"},yfe={key:0},wfe={class:"text-caption"},_fe={key:0,class:"ml-2"},bfe={class:"font-weight-bold"},xfe={key:0,class:"text-body-2 mb-1"},Cfe={class:"text-body-2 mb-1"},Efe={class:"text-body-2 mb-1"},Bfe={key:0,class:"text-body-2 mb-1"},Sfe={class:"text-subtitle-1 font-weight-bold"},kfe={__name:"payment-receipt-create",props:{appointment:{type:Object,required:!0}},emits:["close","receiptCreated","view-receipt"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=pr(),i=Z(()=>o.state.doctorModule.doctorId),c=Z(()=>o.getters["doctorModule/currentDoctor"]),A=Z(()=>c.value?.doctorName||"Unknown Doctor"),u=H({patientName:n.appointment?.patient_name||"",patientId:n.appointment?.patientId||"",appointmentDate:n.appointment?.appointmentDate||"",receiptDate:Jn(),appointmentId:n.appointment?.id||null,doctorId:i.value,additionalDiscount:0}),f=H([{serviceDescription:"",baseCost:0,discountAmount:0,quantity:1,total:0,isFromHistory:!1}]),m=H(!1),v=H(null),h=H([]),y=H(!1);Z(()=>v.value?h.value.find(Y=>Y.id===v.value):null);const w=H(!1),b=uk(f,Z(()=>u.value.additionalDiscount)),{servicesWithTotals:B,subtotal:S,totalLineDiscount:T,finalGrandTotal:N,hasValidService:k}=b;H(null);const E=_p,_=H([{amount:null,mode:"Cash",paymentDate:Jn(),datePickerMenu:!1}]),C=[Y=>!!Y||"Amount is required",Y=>Y>0||"Amount must be greater than 0",Y=>Number.isInteger(Number(Y))||"Amount must be a whole number"],F=[Y=>!!Y||"Payment mode is required"],I=[Y=>!!Y||"Payment date is required"],R=()=>{f.value.push({serviceDescription:"",baseCost:0,discountAmount:0,quantity:1,total:0,isFromHistory:!1})},M=Y=>{f.value.length>1?f.value.splice(Y,1):f.value[0]={serviceDescription:"",baseCost:0,discountAmount:0,quantity:1,total:0,isFromHistory:!1}},te=(Y,ae)=>{f.value[Y]&&(f.value[Y].serviceDescription=ae)},se=(Y,ae)=>{console.log("Service selected:",ae),ae&&typeof ae=="object"&&!ae.isUserTyped?f.value[Y]={...f.value[Y],serviceDescription:ae.serviceDescription,baseCost:ae.baseCost||0,isFromHistory:!1}:ae===null&&(f.value[Y]={...f.value[Y],serviceDescription:"",baseCost:0,isFromHistory:!1})},O=async()=>{if(!u.value.patientId||!u.value.doctorId){console.log("Missing patient or doctor ID for loading treatment plans");return}y.value=!0;try{console.log("Loading treatment plans for patient:",u.value.patientId,"doctor:",u.value.doctorId);const Y=await bp(u.value.patientId,u.value.doctorId);if(Y.error)throw new Error(Y.error.message||"Failed to load treatment plans");h.value=Y.data||[],console.log("Loaded treatment plans:",h.value.length)}catch(Y){console.error("Error loading treatment plans:",Y),s("Failed to load treatment plans: "+(Y.message||"Unknown error")),h.value=[]}finally{y.value=!1}},W=Z(()=>_.value.reduce((Y,ae)=>Y+(parseFloat(ae.amount)||0),0));Z(()=>N.value-W.value);const le=Y=>{if(!Y)return"";try{return new Date(Y).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return Y}},K=Z(()=>{const Y=k.value,ae=u.value.doctorId&&u.value.appointmentId;return console.log("Validation check:",{hasValidService:Y,hasValidAppointment:ae,services:f.value,receiptData:u.value}),Y&&ae}),ee=()=>{_.value.push({amount:null,mode:"Cash",paymentDate:Jn(),datePickerMenu:!1})},j=Y=>{_.value.length>1?_.value.splice(Y,1):_.value[0]={amount:null,mode:"Cash",paymentDate:Jn(),datePickerMenu:!1}},U=Y=>{if(!Y)return null;try{if(typeof Y=="string")return Y.includes("T")?Y.split("T")[0]:Y;if(Y instanceof Date){const ae=Y.getFullYear(),ge=String(Y.getMonth()+1).padStart(2,"0"),we=String(Y.getDate()).padStart(2,"0");return`${ae}-${ge}-${we}`}return null}catch(ae){return console.error("Error parsing payment date:",ae),null}},G=(Y,ae)=>{if(Y)if(Y instanceof Date){const ge=Y.getFullYear(),we=String(Y.getMonth()+1).padStart(2,"0"),z=String(Y.getDate()).padStart(2,"0");ae.paymentDate=`${ge}-${we}-${z}`}else typeof Y=="string"&&(ae.paymentDate=Y);else ae.paymentDate="";ae.datePickerMenu=!1},ne=()=>{},X=async()=>{if(!K.value){s("Please add at least one valid service with description and cost");return}w.value=!0;try{const{data:Y,error:ae}=await YAe(u.value.doctorId);if(ae){if(ae.needsSeries){s("No receipt series found. Please create a receipt series first in Admin Settings  Payment Receipt Series Configuration.");return}throw new Error(ae.message||"Failed to get next receipt identifier")}console.log("Next receipt identifier:",Y);const ge=f.value.filter(ie=>ie.serviceDescription&&ie.serviceDescription.trim().length>0).map(ie=>({serviceDescription:ie.serviceDescription.trim(),baseCost:parseFloat(ie.baseCost)||0,gstPercent:0,quantity:parseInt(ie.quantity)||1,discountAmount:parseFloat(ie.discountAmount)||0})),we={doctorId:u.value.doctorId,appointmentId:u.value.appointmentId,paymentReceiptDate:u.value.receiptDate,additionalDiscount:parseFloat(u.value.additionalDiscount)||0,isThreeC:!0,treatmentPlanId:m.value?v.value:null,services:ge};console.log("Creating receipt with payload:",we);const z=await _8(we);if(z.error){s(z.error.message||"Failed to create receipt");return}console.log("Receipt created successfully:",z.data),a(`Receipt ${z.data.identifier} created successfully!`),_.value.some(ie=>ie.amount&&parseFloat(ie.amount)>0&&ie.mode&&ie.paymentDate)&&await oe(z.data.id),r("receiptCreated",z.data),r("view-receipt",z.data.id)}catch(Y){console.error("Error generating receipt:",Y),s("Failed to generate receipt. Please try again.")}finally{w.value=!1}},oe=async Y=>{if(!Y||_.value.length===0){console.log("No payment entries to create or no receipt ID");return}console.log("Creating payment entries for receipt:",Y);try{const ae=_.value.filter(ge=>ge.amount&&parseFloat(ge.amount)>0&&ge.mode&&ge.paymentDate);console.log("Valid payments to create:",ae);for(const ge of ae){const we={amount:Number(ge.amount),mode:ge.mode,paymentDate:ge.paymentDate,paymentReceiptId:Y,appointmentId:u.value.appointmentId};console.log("Creating payment with payload:",we);const z=await wp(we);z.success?console.log("Payment created successfully:",z.data):(console.error("Error creating payment entry:",z.error),s(`Failed to create payment: ${z.error?.message||"Unknown error"}`))}_.value=[{amount:null,mode:"Cash",paymentDate:Jn()}],console.log("Payment entries cleared")}catch(ae){console.error("Error creating payment entries:",ae)}},q=()=>{w.value=!1,f.value=[{serviceDescription:"",baseCost:0,discountAmount:0,quantity:1,total:0,isFromHistory:!1}],u.value={patientName:n.appointment?.patient_name||"",patientId:n.appointment?.patientId||"",appointmentDate:n.appointment?.appointmentDate||"",receiptDate:Jn(),appointmentId:n.appointment?.id||null,doctorId:i.value,additionalDiscount:0},_.value=[{amount:null,mode:"Cash",paymentDate:Jn(),datePickerMenu:!1}],r("close")};return Ge(m,Y=>{Y&&h.value.length===0?O():Y||(v.value=null)}),(Y,ae)=>{const ge=D("v-icon"),we=D("v-btn"),z=D("v-card-title"),Ae=D("v-col"),ie=D("v-row"),_e=D("v-label"),Pe=D("v-card-text"),re=D("v-card"),be=D("v-switch"),He=D("v-list-item"),ke=D("v-select"),Se=D("v-text-field"),st=D("v-table"),je=D("v-divider"),Ve=D("v-date-picker"),Te=D("v-menu"),Le=D("v-container");return V(),he(re,{rounded:"lg",color:"surfaceContainer",flat:"",ripple:!1},{default:d(()=>[l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12"},{default:d(()=>[l(z,{class:"d-flex align-center justify-space-between"},{default:d(()=>[ae[4]||(ae[4]=p("span",null,"Payment Receipt - Generate Receipt",-1)),l(we,{onClick:q,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(ge,{size:"18"},{default:d(()=>[...ae[3]||(ae[3]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),ae[23]||(ae[23]=Q()),l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"scroll-element"},{default:d(()=>[l(Le,{fluid:"",class:"pa-3"},{default:d(()=>[l(re,{flat:"",color:"surfaceContainerHigh",class:"mb-4 card-enhanced"},{default:d(()=>[l(Pe,{class:"pb-1 pt-2"},{default:d(()=>[l(ie,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(Ae,{cols:"4"},{default:d(()=>[p("div",lfe,[l(_e,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...ae[5]||(ae[5]=[Q("Patient Information",-1)])]),_:1}),p("div",cfe,J(u.value.patientName),1),p("div",ufe,"ID: "+J(u.value.patientId),1)])]),_:1}),l(Ae,{cols:"4"},{default:d(()=>[p("div",dfe,[l(_e,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...ae[6]||(ae[6]=[Q("Appointment Details",-1)])]),_:1}),p("div",Afe,"Dr. "+J(A.value),1),p("div",ffe,"Date: "+J(le(u.value.appointmentDate)),1)])]),_:1}),l(Ae,{cols:"4"},{default:d(()=>[p("div",mfe,[l(_e,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...ae[7]||(ae[7]=[Q("Receipt Information",-1)])]),_:1}),ae[8]||(ae[8]=p("div",{class:"text-body-1 font-weight-medium"},"New Receipt",-1)),p("div",hfe,"Date: "+J(le(u.value.receiptDate)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),l(re,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(Pe,{class:"pb-2"},{default:d(()=>[l(ie,{"no-gutters":"",align:"center",class:"mb-3"},{default:d(()=>[l(Ae,{cols:"2",class:"d-flex align-center"},{default:d(()=>[...ae[9]||(ae[9]=[p("div",{class:"text-subtitle-1"},"Treatment Plan",-1)])]),_:1}),l(Ae,{cols:"3",class:"d-flex align-center"},{default:d(()=>[l(be,{modelValue:m.value,"onUpdate:modelValue":ae[0]||(ae[0]=ht=>m.value=ht),label:"Link to treatment plan",color:"primary",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),m.value?(V(),he(Ae,{key:0,cols:"7"},{default:d(()=>[l(ke,{modelValue:v.value,"onUpdate:modelValue":ae[1]||(ae[1]=ht=>v.value=ht),items:h.value,"item-title":"treatmentPlanName","item-value":"id",label:"Select Treatment Plan",variant:"outlined",density:"compact",loading:y.value,disabled:y.value,clearable:"","hide-details":""},{selection:d(({item:ht})=>[p("div",vfe,[p("div",pfe,J(ht.raw.treatmentPlanName),1),p("div",gfe,[Q(" Status: "+J(ht.raw.status)+"  Created: "+J(le(ht.raw.createdAt))+" ",1),ht.raw.notes?(V(),ye("span",yfe,"  "+J(ht.raw.notes.substring(0,30))+"...",1)):Be("",!0)])])]),item:d(({props:ht,item:Ct})=>[l(He,LA(fd(ht)),{title:d(()=>[Q(J(Ct.raw.treatmentPlanName),1)]),subtitle:d(()=>[p("div",wfe,[Q(" Status: "+J(Ct.raw.status)+"  Created: "+J(le(Ct.raw.createdAt))+" ",1),Ct.raw.notes?(V(),ye("span",_fe," "+J(Ct.raw.notes.substring(0,50))+"...",1)):Be("",!0)])]),_:2},1040)]),_:1},8,["modelValue","items","loading","disabled"])]),_:1})):Be("",!0)]),_:1})]),_:1})]),_:1}),l(re,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(Pe,{class:"pb-2"},{default:d(()=>[ae[16]||(ae[16]=p("div",{class:"text-subtitle-1 mb-3"},"Item Details",-1)),l(st,{density:"compact",class:"mb-3"},{default:d(()=>[ae[11]||(ae[11]=p("thead",null,[p("tr",null,[p("th",{class:"text-left",style:{width:"60px"}},"Sr. No"),p("th",{class:"text-left",style:{width:"300px"}},"Description"),p("th",{class:"text-left",style:{width:"120px"}},"Base Cost per unit ()"),p("th",{class:"text-left",style:{width:"120px"}},"Discount per unit ()"),p("th",{class:"text-left",style:{width:"100px"}},"Quantity"),p("th",{class:"text-left",style:{width:"120px"}},"Total ()"),p("th",{class:"text-left",style:{width:"80px"}},"Actions")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(We(B),(ht,Ct)=>(V(),ye("tr",{key:Ct},[p("td",null,J(Ct+1),1),p("td",null,[l(Sw,{"model-value":ht.serviceDescription,"onUpdate:modelValue":Dt=>te(Ct,Dt),onServiceSelected:Dt=>se(Ct,Dt),"doctor-id":i.value,density:"compact"},null,8,["model-value","onUpdate:modelValue","onServiceSelected","doctor-id"])]),p("td",null,[l(Se,{modelValue:f.value[Ct].baseCost,"onUpdate:modelValue":Dt=>f.value[Ct].baseCost=Dt,modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"underlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(Se,{modelValue:f.value[Ct].discountAmount,"onUpdate:modelValue":Dt=>f.value[Ct].discountAmount=Dt,modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"underlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(Se,{modelValue:f.value[Ct].quantity,"onUpdate:modelValue":Dt=>f.value[Ct].quantity=Dt,modelModifiers:{number:!0},type:"number",density:"compact",variant:"underlined","hide-details":"",min:"1"},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[p("span",bfe,""+J(ht.total||0),1)]),p("td",null,[l(we,{icon:"",size:"small",color:"error",variant:"text",onClick:Dt=>M(Ct)},{default:d(()=>[l(ge,null,{default:d(()=>[...ae[10]||(ae[10]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])])]))),128))])]),_:1}),l(ie,{"no-gutters":"",class:"align-center"},{default:d(()=>[l(Ae,{cols:"auto"},{default:d(()=>[l(we,{variant:"outlined",color:"primary",onClick:R,"prepend-icon":"mdi-plus",class:"btn-hover-base"},{default:d(()=>[...ae[12]||(ae[12]=[Q(" Add Service ",-1)])]),_:1})]),_:1}),l(Ae),l(Ae,{cols:"3"},{default:d(()=>[l(Se,{label:"Additional Discount",modelValue:u.value.additionalDiscount,"onUpdate:modelValue":ae[2]||(ae[2]=ht=>u.value.additionalDiscount=ht),modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),l(je,{class:"mb-3"}),l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"8",class:"text-right"},{default:d(()=>[ae[13]||(ae[13]=p("div",{class:"text-body-2 mb-1"},"Subtotal:",-1)),ae[14]||(ae[14]=p("div",{class:"text-body-2 mb-1"},"Line Discounts:",-1)),u.value.additionalDiscount>0?(V(),ye("div",xfe,"Additional Discount:")):Be("",!0),ae[15]||(ae[15]=p("div",{class:"text-subtitle-1 font-weight-bold"},"Grand Total:",-1))]),_:1}),l(Ae,{cols:"4",class:"text-right"},{default:d(()=>[p("div",Cfe,J(We(Hr)(We(S))),1),p("div",Efe,"-"+J(We(Hr)(We(T))),1),u.value.additionalDiscount>0?(V(),ye("div",Bfe,"-"+J(We(Hr)(u.value.additionalDiscount)),1)):Be("",!0),p("div",Sfe,J(We(Hr)(We(N))),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(re,{flat:"",class:"mb-3 card-enhanced",color:"surfaceContainerHigh"},{default:d(()=>[l(Pe,{class:"pb-2"},{default:d(()=>[ae[21]||(ae[21]=p("div",{class:"text-subtitle-1 mb-3"},"Payment Information",-1)),l(st,{density:"compact",class:"mb-3"},{default:d(()=>[ae[19]||(ae[19]=p("thead",null,[p("tr",null,[p("th",{class:"text-left",style:{width:"60px"}},"Sr. No"),p("th",{class:"text-left",style:{width:"150px"}},"Amount ()"),p("th",{class:"text-left",style:{width:"150px"}},"Payment Mode"),p("th",{class:"text-left",style:{width:"150px"}},"Payment Date"),p("th",{class:"text-left",style:{width:"80px"}},"Actions")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(_.value,(ht,Ct)=>(V(),ye("tr",{key:Ct},[p("td",null,J(Ct+1),1),p("td",null,[l(Se,{modelValue:ht.amount,"onUpdate:modelValue":Dt=>ht.amount=Dt,modelModifiers:{number:!0},type:"number",prefix:"",min:"1",density:"compact",variant:"underlined","hide-details":"",rules:C,onInput:ne},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(ke,{modelValue:ht.mode,"onUpdate:modelValue":Dt=>ht.mode=Dt,items:We(E),density:"compact",variant:"underlined","hide-details":"",rules:F},null,8,["modelValue","onUpdate:modelValue","items"])]),p("td",null,[l(Te,{modelValue:ht.datePickerMenu,"onUpdate:modelValue":Dt=>ht.datePickerMenu=Dt,"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:d(({props:Dt})=>[l(Se,Ne({modelValue:ht.paymentDate,"onUpdate:modelValue":Je=>ht.paymentDate=Je,density:"compact",variant:"underlined","hide-details":"",rules:I,readonly:""},{ref_for:!0},Dt),{"append-inner":d(()=>[l(ge,{class:"text-medium-emphasis"},{default:d(()=>[...ae[17]||(ae[17]=[Q("mdi-calendar",-1)])]),_:1})]),_:1},16,["modelValue","onUpdate:modelValue"])]),default:d(()=>[l(Ve,{"model-value":U(ht.paymentDate),"onUpdate:modelValue":Dt=>G(Dt,ht),color:"primary",locale:"en-IN"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(we,{icon:"",size:"small",color:"error",variant:"text",onClick:Dt=>j(Ct)},{default:d(()=>[l(ge,null,{default:d(()=>[...ae[18]||(ae[18]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])])]))),128))])]),_:1}),l(ie,{"no-gutters":"",class:"align-center"},{default:d(()=>[l(Ae,{cols:"auto"},{default:d(()=>[l(we,{variant:"outlined",color:"secondary",onClick:ee,"prepend-icon":"mdi-plus",class:"btn-hover-base"},{default:d(()=>[...ae[20]||(ae[20]=[Q(" Add Payment ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(re,{flat:"",color:"surfaceContainerHigh",class:"card-enhanced"},{default:d(()=>[l(Pe,{class:"d-flex justify-center pb-2"},{default:d(()=>[l(we,{color:"primary",onClick:X,loading:w.value,disabled:!K.value,"prepend-icon":"mdi-receipt",class:"btn-hover-base"},{default:d(()=>[...ae[22]||(ae[22]=[Q(" Generate Receipt ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),Be("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}},Ife=on(kfe,[["__scopeId","data-v-57a37952"]]);function Tfe(e){const t=H([]),n=H(!1),r=H([]),a=H(!1),s=(f=1e4)=>new Promise((m,v)=>setTimeout(()=>v(new Error("API_TIMEOUT")),f)),o=async()=>{if(!e.value){console.log("No receipt ID available for loading payments"),t.value=[];return}if(n.value){console.log("Already loading payments, skipping duplicate call");return}n.value=!0,console.log("Loading payments for receipt ID:",e.value);try{const f=await Promise.race([kw(e.value),s(1e4)]);console.log("Full API response:",f),f.success?(t.value=Array.isArray(f.data)?f.data:[],console.log(" Payments loaded successfully:",t.value.length)):(console.error(" API Error loading payments:",f.error),t.value=[])}catch(f){f.message==="API_TIMEOUT"?console.error(" Payment loading timed out"):console.error(" Exception loading receipt payments:",f),t.value=[]}finally{n.value=!1}},i=async f=>{if(!e.value)throw new Error("No receipt ID available for payment creation");a.value=!0;try{const m={...f,amount:Number(f.amount),paymentReceiptId:e.value};console.log("Creating payment with payload:",m);const v=await Promise.race([wp(m),s(15e3)]);if(!v.success)throw new Error(v.error?.message||"Failed to create payment");return console.log("Payment created successfully:",v.data),await o(),v}catch(m){throw m.message==="API_TIMEOUT"?new Error("Payment creation timed out. Please try again."):m}finally{a.value=!1}},c=async f=>{if(f){if(r.value.includes(f)){console.log("Payment already being deleted:",f);return}r.value.push(f);try{const m=await Promise.race([x8(f),s(1e4)]);if(!m.success)throw new Error(m.error?.message||"Failed to delete payment");return console.log("Payment deleted successfully:",f),await o(),m}catch(m){throw m.message==="API_TIMEOUT"?new Error("Payment deletion timed out. Please try again."):m}finally{r.value=r.value.filter(m=>m!==f)}}},A=Z(()=>Array.isArray(t.value)?t.value.reduce((f,m)=>f+(parseFloat(m.amount)||0),0):0);let u=null;return Ge(e,async(f,m)=>{if(console.log("Receipt ID watcher triggered:",{newReceiptId:f||"null",oldReceiptId:m||"null",lastReceiptId:u||"null"}),f===u){console.log("Receipt ID unchanged, skipping reload");return}u=f,f?(console.log("Receipt ID changed, loading payments for:",f),await o()):(console.log("No receipt ID, clearing payments"),t.value=[])},{immediate:!0}),{receiptPayments:t,isLoadingPayments:n,deletingPayments:r,isSubmittingPayment:a,totalPaymentsMade:A,loadReceiptPayments:o,createNewPayment:i,deletePayment:c,formatPaymentAmount:Hr}}const Ffe={class:"text-center"},Pfe={class:"text-center"},Dfe={class:"text-body-2 text-medium-emphasis mb-4"},Ufe={class:"pa-1"},Rfe={class:"text-body-1 font-weight-medium"},Nfe={class:"text-body-2 text-medium-emphasis"},Lfe={class:"pa-1"},Vfe={class:"text-body-1 font-weight-medium"},Mfe={class:"text-body-2 text-medium-emphasis"},Ofe={class:"pa-1"},Qfe={class:"text-body-1 font-weight-medium"},Hfe={class:"text-body-2 text-medium-emphasis"},Kfe={class:"text-caption text-medium-emphasis mt-1"},Gfe={class:"d-flex flex-column py-1"},zfe={class:"text-body-2 font-weight-medium"},$fe={class:"text-caption text-medium-emphasis"},Wfe={key:0},jfe={class:"text-caption"},Jfe={key:0,class:"ml-2"},qfe={key:2,class:"text-body-2 text-medium-emphasis"},Yfe={key:0,class:"text-body-2 font-weight-medium"},Xfe={key:0,class:"text-body-2 font-weight-medium"},Zfe={key:0,class:"text-body-2 font-weight-medium"},eme={key:0,class:"text-body-2 font-weight-medium"},tme={class:"font-weight-bold"},nme={key:0,class:"text-body-2 mb-1"},rme={class:"text-body-2 mb-1"},ame={class:"text-body-2 mb-1"},sme={key:0,class:"text-body-2 mb-1"},ome={class:"text-subtitle-1 font-weight-bold"},ime={class:"text-h6"},lme={class:"text-h6 text-success"},cme={key:0,class:"text-center pa-4"},ume={class:"font-weight-bold"},dme={__name:"payment-receipt-edit",props:{receiptId:{type:[String,Number],required:!0}},emits:["close","receipt-updated"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=pr(),i=Z(()=>o.state.doctorModule.doctorId),c=Z(()=>o.getters["doctorModule/currentDoctor"]),A=Z(()=>c.value?.doctorName||"Unknown Doctor"),u=H(!1),f=H(!1),m=H(null),v=H(null),h=H([]),y=H(!1),w=H(null),b=H([]),B=H(!1),S=H(null);Z(()=>w.value?b.value.find(ke=>ke.id===w.value):null);const T=uk(h,Z(()=>v.value?.additionalDiscount||0)),{servicesWithTotals:N,subtotal:k,totalLineDiscount:E,finalGrandTotal:_,hasValidService:C}=T,F=H(null),I=Tfe(F),{receiptPayments:R,isLoadingPayments:M,deletingPayments:te,totalPaymentsMade:se,loadReceiptPayments:O,deletePayment:W}=I;H([]),H([]);const le=_p,K=H([]),ee=[ke=>!!ke||"Amount is required",ke=>ke>0||"Amount must be greater than 0",ke=>Number.isInteger(Number(ke))||"Amount must be a whole number"],j=[ke=>!!ke||"Payment mode is required"],U=[ke=>!!ke||"Payment date is required"],G=()=>{h.value.push({serviceDescription:"",baseCost:0,discountAmount:0,quantity:1,isFromHistory:!1,isPrepopulated:!1})},ne=ke=>{h.value.length>1?h.value.splice(ke,1):h.value[0]={serviceDescription:"",baseCost:0,discountAmount:0,quantity:1,isFromHistory:!1,isPrepopulated:!1}},X=(ke,Se)=>{h.value[ke]&&(h.value[ke].serviceDescription=Se)},oe=(ke,Se)=>{console.log("Service selected:",Se),Se&&typeof Se=="object"&&!Se.isUserTyped?h.value[ke]={...h.value[ke],serviceDescription:Se.serviceDescription,baseCost:Se.baseCost||0,isFromHistory:!1,isPrepopulated:h.value[ke].isPrepopulated===!0}:Se===null&&(h.value[ke]={...h.value[ke],serviceDescription:"",baseCost:0,isFromHistory:!1,isPrepopulated:h.value[ke].isPrepopulated===!0})},q=async()=>{if(!v.value?.patientId||!v.value?.doctorId){console.log("Missing patient or doctor ID for loading treatment plans");return}B.value=!0;try{console.log("Loading treatment plans for patient:",v.value.patientId,"doctor:",v.value.doctorId);const ke=await bp(v.value.patientId,v.value.doctorId);if(ke.error)throw new Error(ke.error.message||"Failed to load treatment plans");b.value=ke.data||[],console.log("Loaded treatment plans:",b.value.length)}catch(ke){console.error("Error loading treatment plans:",ke),s("Failed to load treatment plans: "+(ke.message||"Unknown error")),b.value=[]}finally{B.value=!1}},Y=Z(()=>Array.isArray(K.value)?K.value.reduce((ke,Se)=>ke+(parseFloat(Se.amount)||0),0):0),ae=Z(()=>{const ke=se.value,Se=Y.value;return Math.max(0,_.value-ke-Se)}),ge=Z(()=>{const ke=C.value,Se=v.value?.patientName;return ke&&Se});Z(()=>K.value.length>0&&K.value.every(ke=>ke.amount&&parseFloat(ke.amount)>0&&ke.mode&&ke.paymentDate));const we=()=>{K.value.push({amount:null,mode:"Cash",paymentDate:new Date().toISOString().split("T")[0],datePickerMenu:!1})},z=ke=>{K.value.splice(ke,1)},Ae=ke=>{if(!ke)return null;try{if(typeof ke=="string")return ke.includes("T")?ke.split("T")[0]:ke;if(ke instanceof Date){const Se=ke.getFullYear(),st=String(ke.getMonth()+1).padStart(2,"0"),je=String(ke.getDate()).padStart(2,"0");return`${Se}-${st}-${je}`}return null}catch(Se){return console.error("Error parsing payment date:",Se),null}},ie=(ke,Se)=>{if(ke)if(ke instanceof Date){const st=ke.getFullYear(),je=String(ke.getMonth()+1).padStart(2,"0"),Ve=String(ke.getDate()).padStart(2,"0");Se.paymentDate=`${st}-${je}-${Ve}`}else typeof ke=="string"&&(Se.paymentDate=ke);else Se.paymentDate="";Se.datePickerMenu=!1},_e=async()=>{if(!n.receiptId){m.value="No receipt ID provided";return}u.value=!0,m.value=null;try{console.log("Loading receipt data for editing, ID:",n.receiptId);const ke=await b8(n.receiptId);if(ke.error)throw new Error(ke.error.message||"Failed to load receipt");const Se=ke.data;if(v.value={identifier:Se.identifier,patientName:Se.patientName,patientId:Se.patientId,appointmentDate:Se.appointmentDate,paymentReceiptDate:Se.paymentReceiptDate||Se.receiptDate,appointmentId:Se.appointmentId,doctorId:Se.doctorId,additionalDiscount:Se.additionalDiscount||0},Se.services&&Se.services.length>0?h.value=Se.services.map(st=>({serviceDescription:st.serviceDescription,baseCost:st.baseCost,discountAmount:st.discountAmount,quantity:st.quantity,isFromHistory:!1,isPrepopulated:!0})):h.value=[{serviceDescription:"",baseCost:0,discountAmount:0,quantity:1,isFromHistory:!1,isPrepopulated:!1}],console.log("Receipt data loaded for editing:",v.value),console.log("Services loaded:",h.value),Se.treatmentPlanId){y.value=!0,w.value=Se.treatmentPlanId,await q();try{const st=await bA(Se.treatmentPlanId);S.value=st}catch(st){console.error("Error loading original treatment plan data:",st)}}await O()}catch(ke){console.error("Error loading receipt data:",ke),m.value=ke.message||"Failed to load receipt data",s(m.value)}finally{u.value=!1}},Pe=async()=>{if(!ge.value){s("Please add at least one valid service with description and cost");return}f.value=!0;try{const ke=h.value.filter(je=>je.serviceDescription&&je.serviceDescription.trim().length>0).map(je=>({serviceDescription:je.serviceDescription,baseCost:parseFloat(je.baseCost)||0,gstPercent:0,discountAmount:parseFloat(je.discountAmount)||0,quantity:parseInt(je.quantity)||1})),Se={patientName:v.value.patientName,paymentReceiptDate:v.value.paymentReceiptDate,appointmentDate:v.value.appointmentDate,additionalDiscount:parseFloat(v.value.additionalDiscount)||0,treatmentPlanId:y.value?w.value:null,services:ke};console.log("Updating receipt with payload:",Se);const st=await XAe(n.receiptId,Se);if(st.error)throw new Error(st.error.message||"Failed to update receipt");console.log("Receipt updated successfully:",st.data),await re(),a(`Receipt ${st.data.identifier} updated successfully!`),r("receipt-updated",st.data)}catch(ke){console.error("Error updating receipt:",ke),s("Failed to update receipt. Please try again.")}finally{f.value=!1}},re=async()=>{if(K.value.length===0){console.log("No new payment entries to create");return}console.log("Creating new payment entries:",K.value);try{const ke=K.value.filter(Se=>Se.amount&&parseFloat(Se.amount)>0&&Se.mode&&Se.paymentDate);console.log("Valid payments to create:",ke);for(const Se of ke){const st={amount:parseFloat(Se.amount),mode:Se.mode,paymentDate:Se.paymentDate,paymentReceiptId:n.receiptId};console.log("Creating payment with payload:",st);const je=await wp(st);je.success?console.log("Payment created successfully:",je.data):(console.error("Error creating payment entry:",je.error),s(`Failed to create payment: ${je.error?.message||"Unknown error"}`))}K.value=[],console.log("New payment entries cleared"),await O()}catch(ke){console.error("Error creating payment entries:",ke),s("Failed to create some payments. Please try again.")}},be=ke=>{if(!ke)return"";try{return new Date(ke).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return ke}},He=()=>{r("close")};return Ge(()=>n.receiptId,ke=>{F.value=ke},{immediate:!0}),Ge(y,ke=>{ke&&b.value.length===0?q():ke||(w.value=null)}),fn(()=>{_e()}),(ke,Se)=>{const st=D("v-icon"),je=D("v-btn"),Ve=D("v-card-title"),Te=D("v-col"),Le=D("v-row"),ht=D("v-progress-circular"),Ct=D("v-label"),Dt=D("v-card-text"),Je=D("v-card"),Oe=D("v-switch"),it=D("v-chip"),at=D("v-list-item"),Xe=D("v-select"),Ut=D("v-text-field"),Yt=D("v-table"),bt=D("v-divider"),cn=D("v-date-picker"),ln=D("v-menu"),an=D("v-container");return V(),he(Je,{rounded:"lg",color:"surfaceContainer",flat:"",ripple:!1},{default:d(()=>[l(Le,{"no-gutters":""},{default:d(()=>[l(Te,{cols:"12"},{default:d(()=>[l(Ve,{class:"d-flex align-center justify-space-between"},{default:d(()=>[Se[4]||(Se[4]=p("span",null,"Edit Payment Receipt",-1)),l(je,{onClick:He,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(st,{size:"18"},{default:d(()=>[...Se[3]||(Se[3]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(Le,{"no-gutters":""},{default:d(()=>[l(Te,{cols:"12",class:"scroll-element"},{default:d(()=>[u.value?(V(),he(Le,{key:0,"no-gutters":""},{default:d(()=>[l(Te,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",Ffe,[l(ht,{indeterminate:"",color:"primary",size:"64"}),Se[5]||(Se[5]=p("div",{class:"mt-4 text-subtitle-1"},"Loading receipt...",-1))])]),_:1})]),_:1})):m.value?(V(),he(Le,{key:1,"no-gutters":""},{default:d(()=>[l(Te,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",Pfe,[l(st,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...Se[6]||(Se[6]=[Q("mdi-alert-circle",-1)])]),_:1}),Se[8]||(Se[8]=p("div",{class:"text-h6 mb-2"},"Failed to Load Receipt",-1)),p("div",Dfe,J(m.value),1),l(je,{color:"primary",onClick:_e,"prepend-icon":"mdi-refresh"},{default:d(()=>[...Se[7]||(Se[7]=[Q(" Try Again ",-1)])]),_:1})])]),_:1})]),_:1})):v.value?(V(),he(an,{key:2,fluid:"",class:"pa-3"},{default:d(()=>[l(Je,{flat:"",color:"surfaceContainerHigh",class:"mb-4 card-enhanced"},{default:d(()=>[l(Dt,{class:"pb-1 pt-2"},{default:d(()=>[l(Le,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(Te,{cols:"4"},{default:d(()=>[p("div",Ufe,[l(Ct,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...Se[9]||(Se[9]=[Q("Patient Information",-1)])]),_:1}),p("div",Rfe,J(v.value.patientName||"Unknown Patient"),1),p("div",Nfe,"ID: "+J(v.value.patientId||"N/A"),1)])]),_:1}),l(Te,{cols:"4"},{default:d(()=>[p("div",Lfe,[l(Ct,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...Se[10]||(Se[10]=[Q("Appointment Details",-1)])]),_:1}),p("div",Vfe,"Dr. "+J(A.value),1),p("div",Mfe,"Date: "+J(be(v.value.appointmentDate)),1)])]),_:1}),l(Te,{cols:"4"},{default:d(()=>[p("div",Ofe,[l(Ct,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...Se[11]||(Se[11]=[Q("Receipt Information",-1)])]),_:1}),p("div",Qfe,J(v.value.identifier),1),p("div",Hfe,"Date: "+J(be(v.value.paymentReceiptDate)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),l(Je,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(Dt,{class:"pb-2"},{default:d(()=>[l(Le,{"no-gutters":"",align:"center",class:"mb-3"},{default:d(()=>[l(Te,{cols:"2",class:"d-flex align-center"},{default:d(()=>[...Se[12]||(Se[12]=[p("div",{class:"text-subtitle-1"},"Treatment Plan",-1)])]),_:1}),l(Te,{cols:"3",class:"d-flex align-center"},{default:d(()=>[l(Oe,{modelValue:y.value,"onUpdate:modelValue":Se[0]||(Se[0]=zt=>y.value=zt),label:"Link to treatment plan",color:"primary",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),l(Te,{cols:"7"},{default:d(()=>[!y.value&&S.value?(V(),ye(ze,{key:0},[l(it,{color:"secondary",variant:"outlined","prepend-icon":"mdi-link-variant",class:"mr-2"},{default:d(()=>[Q(J(S.value.treatmentPlanName),1)]),_:1}),p("div",Kfe," Status: "+J(S.value.status)+"  Created: "+J(be(S.value.createdAt)),1)],64)):y.value?(V(),he(Xe,{key:1,modelValue:w.value,"onUpdate:modelValue":Se[1]||(Se[1]=zt=>w.value=zt),items:b.value,"item-title":"treatmentPlanName","item-value":"id",label:"Select Treatment Plan",variant:"outlined",density:"compact",loading:B.value,disabled:B.value,clearable:"","hide-details":""},{selection:d(({item:zt})=>[p("div",Gfe,[p("div",zfe,J(zt.raw.treatmentPlanName),1),p("div",$fe,[Q(" Status: "+J(zt.raw.status)+"  Created: "+J(be(zt.raw.createdAt))+" ",1),zt.raw.notes?(V(),ye("span",Wfe,"  "+J(zt.raw.notes.substring(0,30))+"...",1)):Be("",!0)])])]),item:d(({props:zt,item:$t})=>[l(at,LA(fd(zt)),{title:d(()=>[Q(J($t.raw.treatmentPlanName),1)]),subtitle:d(()=>[p("div",jfe,[Q(" Status: "+J($t.raw.status)+"  Created: "+J(be($t.raw.createdAt))+" ",1),$t.raw.notes?(V(),ye("span",Jfe," "+J($t.raw.notes.substring(0,50))+"...",1)):Be("",!0)])]),_:2},1040)]),_:1},8,["modelValue","items","loading","disabled"])):(V(),ye("div",qfe," No treatment plan linked "))]),_:1})]),_:1})]),_:1})]),_:1}),l(Je,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(Dt,{class:"pb-2"},{default:d(()=>[Se[19]||(Se[19]=p("div",{class:"text-subtitle-1 mb-3"},"Item Details",-1)),l(Yt,{density:"compact",class:"mb-3"},{default:d(()=>[Se[14]||(Se[14]=p("thead",null,[p("tr",null,[p("th",{class:"text-left",style:{width:"60px"}},"Sr. No"),p("th",{class:"text-left",style:{width:"300px"}},"Description"),p("th",{class:"text-left",style:{width:"120px"}},"Base Cost per unit ()"),p("th",{class:"text-left",style:{width:"120px"}},"Discount per unit ()"),p("th",{class:"text-left",style:{width:"100px"}},"Quantity"),p("th",{class:"text-left",style:{width:"120px"}},"Total ()"),p("th",{class:"text-left",style:{width:"80px"}},"Actions")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(We(N),(zt,$t)=>(V(),ye("tr",{key:$t,class:rt(zt.isPrepopulated?"prepopulated-service":"")},[p("td",null,J($t+1),1),p("td",null,[zt.isPrepopulated?(V(),ye("span",Yfe,J(zt.serviceDescription),1)):(V(),he(Sw,{key:1,"model-value":zt.serviceDescription,"onUpdate:modelValue":Ke=>X($t,Ke),onServiceSelected:Ke=>oe($t,Ke),"doctor-id":i.value,density:"compact"},null,8,["model-value","onUpdate:modelValue","onServiceSelected","doctor-id"]))]),p("td",null,[zt.isPrepopulated?(V(),ye("span",Xfe,""+J(zt.baseCost?.toLocaleString()||0),1)):(V(),he(Ut,{key:1,modelValue:h.value[$t].baseCost,"onUpdate:modelValue":Ke=>h.value[$t].baseCost=Ke,modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"underlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue"]))]),p("td",null,[zt.isPrepopulated?(V(),ye("span",Zfe,""+J(zt.discountAmount?.toLocaleString()||0),1)):(V(),he(Ut,{key:1,modelValue:h.value[$t].discountAmount,"onUpdate:modelValue":Ke=>h.value[$t].discountAmount=Ke,modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"underlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue"]))]),p("td",null,[zt.isPrepopulated?(V(),ye("span",eme,J(zt.quantity||1),1)):(V(),he(Ut,{key:1,modelValue:h.value[$t].quantity,"onUpdate:modelValue":Ke=>h.value[$t].quantity=Ke,modelModifiers:{number:!0},type:"number",density:"compact",variant:"underlined","hide-details":"",min:"1"},null,8,["modelValue","onUpdate:modelValue"]))]),p("td",null,[p("span",tme,""+J(zt.total||0),1)]),p("td",null,[l(je,{icon:"",size:"small",color:"error",variant:"text",onClick:Ke=>ne($t),title:zt.isPrepopulated?"Delete existing service":"Delete new service"},{default:d(()=>[l(st,null,{default:d(()=>[...Se[13]||(Se[13]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick","title"])])],2))),128))])]),_:1}),l(Le,{"no-gutters":"",class:"align-center"},{default:d(()=>[l(Te,{cols:"auto"},{default:d(()=>[l(je,{variant:"outlined",color:"primary",onClick:G,"prepend-icon":"mdi-plus",class:"btn-hover-base"},{default:d(()=>[...Se[15]||(Se[15]=[Q(" Add Service ",-1)])]),_:1})]),_:1}),l(Te),l(Te,{cols:"3"},{default:d(()=>[l(Ut,{label:"Additional Discount",modelValue:v.value.additionalDiscount,"onUpdate:modelValue":Se[2]||(Se[2]=zt=>v.value.additionalDiscount=zt),modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),l(bt,{class:"mb-3"}),l(Le,{"no-gutters":""},{default:d(()=>[l(Te,{cols:"8",class:"text-right"},{default:d(()=>[Se[16]||(Se[16]=p("div",{class:"text-body-2 mb-1"},"Subtotal:",-1)),Se[17]||(Se[17]=p("div",{class:"text-body-2 mb-1"},"Line Discounts:",-1)),v.value.additionalDiscount>0?(V(),ye("div",nme,"Additional Discount:")):Be("",!0),Se[18]||(Se[18]=p("div",{class:"text-subtitle-1 font-weight-bold"},"Grand Total:",-1))]),_:1}),l(Te,{cols:"4",class:"text-right"},{default:d(()=>[p("div",rme,J(We(Hr)(We(k))),1),p("div",ame,"-"+J(We(Hr)(We(E))),1),v.value.additionalDiscount>0?(V(),ye("div",sme,"-"+J(We(Hr)(v.value.additionalDiscount)),1)):Be("",!0),p("div",ome,J(We(Hr)(We(_))),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(Je,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(Dt,{class:"pb-2"},{default:d(()=>[Se[30]||(Se[30]=p("div",{class:"text-subtitle-1 mb-3"},"Payment Information",-1)),l(Le,{"no-gutters":"",class:"mb-3"},{default:d(()=>[l(Te,{cols:"4"},{default:d(()=>[Se[20]||(Se[20]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Total Amount",-1)),p("div",ime,J(We(Hr)(We(_))),1)]),_:1}),l(Te,{cols:"4"},{default:d(()=>[Se[21]||(Se[21]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Paid Amount",-1)),p("div",lme,J(We(Hr)(We(se)+Y.value)),1)]),_:1}),l(Te,{cols:"4"},{default:d(()=>[Se[22]||(Se[22]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Balance Due",-1)),p("div",{class:rt(["text-h6",ae.value>0?"text-error":"text-success"])},J(We(Hr)(ae.value)),3)]),_:1})]),_:1}),We(M)?(V(),ye("div",cme,[l(ht,{indeterminate:"",size:"32",color:"primary"}),Se[23]||(Se[23]=p("div",{class:"text-body-2 mt-2"},"Loading payments...",-1))])):(V(),ye(ze,{key:1},[l(bt,{class:"mb-3"}),Se[29]||(Se[29]=p("div",{class:"text-subtitle-2 mb-2"},"Payments",-1)),l(Yt,{density:"compact",class:"mb-3"},{default:d(()=>[Se[27]||(Se[27]=p("thead",null,[p("tr",null,[p("th",{class:"text-left",style:{width:"60px"}},"Sr. No"),p("th",{class:"text-left",style:{width:"150px"}},"Amount ()"),p("th",{class:"text-left",style:{width:"150px"}},"Payment Mode"),p("th",{class:"text-left",style:{width:"150px"}},"Payment Date"),p("th",{class:"text-left",style:{width:"80px"}},"Actions")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(We(R),(zt,$t)=>(V(),ye("tr",{key:`existing-${zt.id}`},[p("td",null,J($t+1),1),p("td",ume,""+J(zt.amount.toLocaleString()),1),p("td",null,J(zt.mode),1),p("td",null,J(be(zt.paymentDate)),1),p("td",null,[l(je,{icon:"",size:"small",color:"error",variant:"text",onClick:Ke=>We(W)(zt.id),loading:We(te).includes(zt.id)},{default:d(()=>[l(st,null,{default:d(()=>[...Se[24]||(Se[24]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick","loading"])])]))),128)),(V(!0),ye(ze,null,Jt(K.value,(zt,$t)=>(V(),ye("tr",{key:`new-${$t}`},[p("td",null,J(We(R).length+$t+1),1),p("td",null,[l(Ut,{modelValue:zt.amount,"onUpdate:modelValue":Ke=>zt.amount=Ke,modelModifiers:{number:!0},type:"number",prefix:"",min:"1",density:"compact",variant:"underlined","hide-details":"",rules:ee},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(Xe,{modelValue:zt.mode,"onUpdate:modelValue":Ke=>zt.mode=Ke,items:We(le),density:"compact",variant:"underlined","hide-details":"",rules:j},null,8,["modelValue","onUpdate:modelValue","items"])]),p("td",null,[l(ln,{modelValue:zt.datePickerMenu,"onUpdate:modelValue":Ke=>zt.datePickerMenu=Ke,"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:d(({props:Ke})=>[l(Ut,Ne({modelValue:zt.paymentDate,"onUpdate:modelValue":me=>zt.paymentDate=me,density:"compact",variant:"underlined","hide-details":"",rules:U,readonly:""},{ref_for:!0},Ke),{"append-inner":d(()=>[l(st,{class:"text-medium-emphasis"},{default:d(()=>[...Se[25]||(Se[25]=[Q("mdi-calendar",-1)])]),_:1})]),_:1},16,["modelValue","onUpdate:modelValue"])]),default:d(()=>[l(cn,{"model-value":Ae(zt.paymentDate),"onUpdate:modelValue":Ke=>ie(Ke,zt),color:"primary",locale:"en-IN"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(je,{icon:"",size:"small",color:"error",variant:"text",onClick:Ke=>z($t)},{default:d(()=>[l(st,null,{default:d(()=>[...Se[26]||(Se[26]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])])]))),128))])]),_:1}),l(Le,{"no-gutters":"",class:"align-center"},{default:d(()=>[l(Te,{cols:"auto"},{default:d(()=>[l(je,{variant:"outlined",color:"secondary",onClick:we,"prepend-icon":"mdi-plus",class:"btn-hover-base"},{default:d(()=>[...Se[28]||(Se[28]=[Q(" Add Payment ",-1)])]),_:1})]),_:1})]),_:1})],64))]),_:1})]),_:1}),l(Je,{flat:"",color:"surfaceContainerHigh",class:"card-enhanced"},{default:d(()=>[l(Dt,{class:"d-flex justify-center pb-2"},{default:d(()=>[l(je,{color:"primary",onClick:Pe,loading:f.value,disabled:!ge.value,"prepend-icon":"mdi-content-save",class:"btn-hover-base"},{default:d(()=>[...Se[31]||(Se[31]=[Q(" Update Receipt ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})):Be("",!0)]),_:1})]),_:1})]),_:1})}}},I8=on(dme,[["__scopeId","data-v-c427f5d3"]]),T8="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M12.04%202C6.58%202%202.13%206.45%202.13%2011.91C2.13%2013.66%202.59%2015.36%203.45%2016.86L2.05%2022L7.3%2020.62C8.75%2021.41%2010.38%2021.83%2012.04%2021.83C17.5%2021.83%2021.95%2017.38%2021.95%2011.92C21.95%209.27%2020.92%206.78%2019.05%204.91C17.18%203.03%2014.69%202%2012.04%202M12.05%203.67C14.25%203.67%2016.31%204.53%2017.87%206.09C19.42%207.65%2020.28%209.72%2020.28%2011.92C20.28%2016.46%2016.58%2020.15%2012.04%2020.15C10.56%2020.15%209.11%2019.76%207.85%2019L7.55%2018.83L4.43%2019.65L5.26%2016.61L5.06%2016.29C4.24%2015%203.8%2013.47%203.8%2011.91C3.81%207.37%207.5%203.67%2012.05%203.67M8.53%207.33C8.37%207.33%208.1%207.39%207.87%207.64C7.65%207.89%207%208.5%207%209.71C7%2010.93%207.89%2012.1%208%2012.27C8.14%2012.44%209.76%2014.94%2012.25%2016C12.84%2016.27%2013.3%2016.42%2013.66%2016.53C14.25%2016.72%2014.79%2016.69%2015.22%2016.63C15.7%2016.56%2016.68%2016.03%2016.89%2015.45C17.1%2014.87%2017.1%2014.38%2017.04%2014.27C16.97%2014.17%2016.81%2014.11%2016.56%2014C16.31%2013.86%2015.09%2013.26%2014.87%2013.18C14.64%2013.1%2014.5%2013.06%2014.31%2013.3C14.15%2013.55%2013.67%2014.11%2013.53%2014.27C13.38%2014.44%2013.24%2014.46%2013%2014.34C12.74%2014.21%2011.94%2013.95%2011%2013.11C10.26%2012.45%209.77%2011.64%209.62%2011.39C9.5%2011.15%209.61%2011%209.73%2010.89C9.84%2010.78%2010%2010.6%2010.1%2010.45C10.23%2010.31%2010.27%2010.2%2010.35%2010.04C10.43%209.87%2010.39%209.73%2010.33%209.61C10.27%209.5%209.77%208.26%209.56%207.77C9.36%207.29%209.16%207.35%209%207.34C8.86%207.34%208.7%207.33%208.53%207.33Z'%20/%3e%3c/svg%3e",Ame="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M20%204H4c-1.1%200-1.99.9-1.99%202L2%2018c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2zm0%204l-8%205-8-5V6l8%205%208-5v2z'%20fill='currentColor'/%3e%3c/svg%3e";/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iE=function(e,t){return iE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},iE(e,t)};function pl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");iE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var lE=function(){return lE=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},lE.apply(this,arguments)};function no(e,t,n,r){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function i(u){try{A(r.next(u))}catch(f){o(f)}}function c(u){try{A(r.throw(u))}catch(f){o(f)}}function A(u){u.done?s(u.value):a(u.value).then(i,c)}A((r=r.apply(e,[])).next())})}function Es(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,o;return o={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function i(A){return function(u){return c([A,u])}}function c(A){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(s=A[0]&2?a.return:A[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,A[1])).done)return s;switch(a=0,s&&(A=[A[0]&2,s.value]),A[0]){case 0:case 1:s=A;break;case 4:return n.label++,{value:A[1],done:!1};case 5:n.label++,a=A[1],A=[0];continue;case 7:A=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(A[0]===6||A[0]===2)){n=0;continue}if(A[0]===3&&(!s||A[1]>s[0]&&A[1]<s[3])){n.label=A[1];break}if(A[0]===6&&n.label<s[1]){n.label=s[1],s=A;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(A);break}s[2]&&n.ops.pop(),n.trys.pop();continue}A=t.call(e,n)}catch(u){A=[6,u],a=0}finally{r=s=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function s1(e,t,n){if(arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||t)}var Yc=(function(){function e(t,n,r,a){this.left=t,this.top=n,this.width=r,this.height=a}return e.prototype.add=function(t,n,r,a){return new e(this.left+t,this.top+n,this.width+r,this.height+a)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(a){return a.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e})(),Iw=function(e,t){return Yc.fromClientRect(e,t.getBoundingClientRect())},fme=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),a=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new Yc(0,0,r,a)},Tw=function(e){for(var t=[],n=0,r=e.length;n<r;){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var s=e.charCodeAt(n++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),n--)}else t.push(a)}return t},_a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],a=-1,s="";++a<n;){var o=e[a];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(a+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},ZD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var o1=0;o1<ZD.length;o1++)mme[ZD.charCodeAt(o1)]=o1;var e3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i1=0;i1<e3.length;i1++)g0[e3.charCodeAt(i1)]=i1;var hme=function(e){var t=e.length*.75,n=e.length,r,a=0,s,o,i,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)s=g0[e.charCodeAt(r)],o=g0[e.charCodeAt(r+1)],i=g0[e.charCodeAt(r+2)],c=g0[e.charCodeAt(r+3)],u[a++]=s<<2|o>>4,u[a++]=(o&15)<<4|i>>2,u[a++]=(i&3)<<6|c&63;return A},vme=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},pme=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},cA=5,dk=11,dx=2,gme=dk-cA,F8=65536>>cA,yme=1<<cA,Ax=yme-1,wme=1024>>cA,_me=F8+wme,bme=_me,xme=32,Cme=bme+xme,Eme=65536>>dk,Bme=1<<gme,Sme=Bme-1,t3=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},kme=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Ime=function(e,t){var n=hme(e),r=Array.isArray(n)?pme(n):new Uint32Array(n),a=Array.isArray(n)?vme(n):new Uint16Array(n),s=24,o=t3(a,s/2,r[4]/2),i=r[5]===2?t3(a,(s+r[4])/2):kme(r,Math.ceil((s+r[4])/4));return new Tme(r[0],r[1],r[2],r[3],o,i)},Tme=(function(){function e(t,n,r,a,s,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=a,this.index=s,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>cA],n=(n<<dx)+(t&Ax),this.data[n];if(t<=65535)return n=this.index[F8+(t-55296>>cA)],n=(n<<dx)+(t&Ax),this.data[n];if(t<this.highStart)return n=Cme-Eme+(t>>dk),n=this.index[n],n+=t>>cA&Sme,n=this.index[n],n=(n<<dx)+(t&Ax),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),n3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fme=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var l1=0;l1<n3.length;l1++)Fme[n3.charCodeAt(l1)]=l1;var Pme="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",r3=50,Dme=1,P8=2,D8=3,Ume=4,Rme=5,a3=7,U8=8,s3=9,Vu=10,cE=11,o3=12,uE=13,Nme=14,y0=15,dE=16,c1=17,t0=18,Lme=19,i3=20,AE=21,n0=22,fx=23,If=24,Ho=25,w0=26,_0=27,Tf=28,Vme=29,Gd=30,Mme=31,u1=32,d1=33,fE=34,mE=35,hE=36,Iv=37,vE=38,iy=39,ly=40,mx=41,R8=42,Ome=43,Qme=[9001,65288],N8="!",Wn="",A1="",pE=Ime(Pme),Sc=[Gd,hE],gE=[Dme,P8,D8,Rme],L8=[Vu,U8],l3=[_0,w0],Hme=gE.concat(L8),c3=[vE,iy,ly,fE,mE],Kme=[y0,uE],Gme=function(e,t){t===void 0&&(t="strict");var n=[],r=[],a=[];return e.forEach(function(s,o){var i=pE.get(s);if(i>r3?(a.push(!0),i-=r3):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(o),n.push(dE);if(i===Ume||i===cE){if(o===0)return r.push(o),n.push(Gd);var c=n[o-1];return Hme.indexOf(c)===-1?(r.push(r[o-1]),n.push(c)):(r.push(o),n.push(Gd))}if(r.push(o),i===Mme)return n.push(t==="strict"?AE:Iv);if(i===R8||i===Vme)return n.push(Gd);if(i===Ome)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(Iv):n.push(Gd);n.push(i)}),[r,n,a]},hx=function(e,t,n,r){var a=r[n];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var s=n;s<=r.length;){s++;var o=r[s];if(o===t)return!0;if(o!==Vu)break}if(a===Vu)for(var s=n;s>0;){s--;var i=r[s];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var c=n;c<=r.length;){c++;var o=r[c];if(o===t)return!0;if(o!==Vu)break}if(i!==Vu)break}return!1},u3=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===Vu)n--;else return r}return 0},zme=function(e,t,n,r,a){if(n[r]===0)return Wn;var s=r-1;if(Array.isArray(a)&&a[s]===!0)return Wn;var o=s-1,i=s+1,c=t[s],A=o>=0?t[o]:0,u=t[i];if(c===P8&&u===D8)return Wn;if(gE.indexOf(c)!==-1)return N8;if(gE.indexOf(u)!==-1||L8.indexOf(u)!==-1)return Wn;if(u3(s,t)===U8)return A1;if(pE.get(e[s])===cE||(c===u1||c===d1)&&pE.get(e[i])===cE||c===a3||u===a3||c===s3||[Vu,uE,y0].indexOf(c)===-1&&u===s3||[c1,t0,Lme,If,Tf].indexOf(u)!==-1||u3(s,t)===n0||hx(fx,n0,s,t)||hx([c1,t0],AE,s,t)||hx(o3,o3,s,t))return Wn;if(c===Vu)return A1;if(c===fx||u===fx)return Wn;if(u===dE||c===dE)return A1;if([uE,y0,AE].indexOf(u)!==-1||c===Nme||A===hE&&Kme.indexOf(c)!==-1||c===Tf&&u===hE||u===i3||Sc.indexOf(u)!==-1&&c===Ho||Sc.indexOf(c)!==-1&&u===Ho||c===_0&&[Iv,u1,d1].indexOf(u)!==-1||[Iv,u1,d1].indexOf(c)!==-1&&u===w0||Sc.indexOf(c)!==-1&&l3.indexOf(u)!==-1||l3.indexOf(c)!==-1&&Sc.indexOf(u)!==-1||[_0,w0].indexOf(c)!==-1&&(u===Ho||[n0,y0].indexOf(u)!==-1&&t[i+1]===Ho)||[n0,y0].indexOf(c)!==-1&&u===Ho||c===Ho&&[Ho,Tf,If].indexOf(u)!==-1)return Wn;if([Ho,Tf,If,c1,t0].indexOf(u)!==-1)for(var f=s;f>=0;){var m=t[f];if(m===Ho)return Wn;if([Tf,If].indexOf(m)!==-1)f--;else break}if([_0,w0].indexOf(u)!==-1)for(var f=[c1,t0].indexOf(c)!==-1?o:s;f>=0;){var m=t[f];if(m===Ho)return Wn;if([Tf,If].indexOf(m)!==-1)f--;else break}if(vE===c&&[vE,iy,fE,mE].indexOf(u)!==-1||[iy,fE].indexOf(c)!==-1&&[iy,ly].indexOf(u)!==-1||[ly,mE].indexOf(c)!==-1&&u===ly||c3.indexOf(c)!==-1&&[i3,w0].indexOf(u)!==-1||c3.indexOf(u)!==-1&&c===_0||Sc.indexOf(c)!==-1&&Sc.indexOf(u)!==-1||c===If&&Sc.indexOf(u)!==-1||Sc.concat(Ho).indexOf(c)!==-1&&u===n0&&Qme.indexOf(e[i])===-1||Sc.concat(Ho).indexOf(u)!==-1&&c===t0)return Wn;if(c===mx&&u===mx){for(var v=n[s],h=1;v>0&&(v--,t[v]===mx);)h++;if(h%2!==0)return Wn}return c===u1&&u===d1?Wn:A1},$me=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Gme(e,t.lineBreak),r=n[0],a=n[1],s=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(i){return[Ho,Gd,R8].indexOf(i)!==-1?Iv:i}));var o=t.wordBreak==="keep-all"?s.map(function(i,c){return i&&e[c]>=19968&&e[c]<=40959}):void 0;return[r,a,o]},Wme=(function(){function e(t,n,r,a){this.codePoints=t,this.required=n===N8,this.start=r,this.end=a}return e.prototype.slice=function(){return _a.apply(void 0,this.codePoints.slice(this.start,this.end))},e})(),jme=function(e,t){var n=Tw(e),r=$me(n,t),a=r[0],s=r[1],o=r[2],i=n.length,c=0,A=0;return{next:function(){if(A>=i)return{done:!0,value:null};for(var u=Wn;A<i&&(u=zme(n,s,a,++A,o))===Wn;);if(u!==Wn||A===i){var f=new Wme(n,u,c,A);return c=A,{value:f,done:!1}}return{done:!0,value:null}}}},Jme=1,qme=2,xp=4,d3=8,Zy=10,A3=47,H0=92,Yme=9,Xme=32,f1=34,r0=61,Zme=35,ehe=36,the=37,m1=39,h1=40,a0=41,nhe=95,Eo=45,rhe=33,ahe=60,she=62,ohe=64,ihe=91,lhe=93,che=61,uhe=123,v1=63,dhe=125,f3=124,Ahe=126,fhe=128,m3=65533,vx=42,Yd=43,mhe=44,hhe=58,vhe=59,Tv=46,phe=0,ghe=8,yhe=11,whe=14,_he=31,bhe=127,Tl=-1,V8=48,M8=97,O8=101,xhe=102,Che=117,Ehe=122,Q8=65,H8=69,K8=70,Bhe=85,She=90,Ss=function(e){return e>=V8&&e<=57},khe=function(e){return e>=55296&&e<=57343},Ff=function(e){return Ss(e)||e>=Q8&&e<=K8||e>=M8&&e<=xhe},Ihe=function(e){return e>=M8&&e<=Ehe},The=function(e){return e>=Q8&&e<=She},Fhe=function(e){return Ihe(e)||The(e)},Phe=function(e){return e>=fhe},p1=function(e){return e===Zy||e===Yme||e===Xme},e2=function(e){return Fhe(e)||Phe(e)||e===nhe},h3=function(e){return e2(e)||Ss(e)||e===Eo},Dhe=function(e){return e>=phe&&e<=ghe||e===yhe||e>=whe&&e<=_he||e===bhe},Fu=function(e,t){return e!==H0?!1:t!==Zy},g1=function(e,t,n){return e===Eo?e2(t)||Fu(t,n):e2(e)?!0:!!(e===H0&&Fu(e,t))},px=function(e,t,n){return e===Yd||e===Eo?Ss(t)?!0:t===Tv&&Ss(n):Ss(e===Tv?t:e)},Uhe=function(e){var t=0,n=1;(e[t]===Yd||e[t]===Eo)&&(e[t]===Eo&&(n=-1),t++);for(var r=[];Ss(e[t]);)r.push(e[t++]);var a=r.length?parseInt(_a.apply(void 0,r),10):0;e[t]===Tv&&t++;for(var s=[];Ss(e[t]);)s.push(e[t++]);var o=s.length,i=o?parseInt(_a.apply(void 0,s),10):0;(e[t]===H8||e[t]===O8)&&t++;var c=1;(e[t]===Yd||e[t]===Eo)&&(e[t]===Eo&&(c=-1),t++);for(var A=[];Ss(e[t]);)A.push(e[t++]);var u=A.length?parseInt(_a.apply(void 0,A),10):0;return n*(a+i*Math.pow(10,-o))*Math.pow(10,c*u)},Rhe={type:2},Nhe={type:3},Lhe={type:4},Vhe={type:13},Mhe={type:8},Ohe={type:21},Qhe={type:9},Hhe={type:10},Khe={type:11},Ghe={type:12},zhe={type:14},y1={type:23},$he={type:1},Whe={type:25},jhe={type:24},Jhe={type:26},qhe={type:27},Yhe={type:28},Xhe={type:29},Zhe={type:31},yE={type:32},G8=(function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Tw(t))},e.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==yE;)t.push(n),n=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case f1:return this.consumeStringToken(f1);case Zme:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),a=this.peekCodePoint(2);if(h3(n)||Fu(r,a)){var s=g1(n,r,a)?qme:Jme,o=this.consumeName();return{type:5,value:o,flags:s}}break;case ehe:if(this.peekCodePoint(0)===r0)return this.consumeCodePoint(),Vhe;break;case m1:return this.consumeStringToken(m1);case h1:return Rhe;case a0:return Nhe;case vx:if(this.peekCodePoint(0)===r0)return this.consumeCodePoint(),zhe;break;case Yd:if(px(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case mhe:return Lhe;case Eo:var i=t,c=this.peekCodePoint(0),A=this.peekCodePoint(1);if(px(i,c,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(g1(i,c,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Eo&&A===she)return this.consumeCodePoint(),this.consumeCodePoint(),jhe;break;case Tv:if(px(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case A3:if(this.peekCodePoint(0)===vx)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===vx&&(u=this.consumeCodePoint(),u===A3))return this.consumeToken();if(u===Tl)return this.consumeToken()}break;case hhe:return Jhe;case vhe:return qhe;case ahe:if(this.peekCodePoint(0)===rhe&&this.peekCodePoint(1)===Eo&&this.peekCodePoint(2)===Eo)return this.consumeCodePoint(),this.consumeCodePoint(),Whe;break;case ohe:var f=this.peekCodePoint(0),m=this.peekCodePoint(1),v=this.peekCodePoint(2);if(g1(f,m,v)){var o=this.consumeName();return{type:7,value:o}}break;case ihe:return Yhe;case H0:if(Fu(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case lhe:return Xhe;case che:if(this.peekCodePoint(0)===r0)return this.consumeCodePoint(),Mhe;break;case uhe:return Khe;case dhe:return Ghe;case Che:case Bhe:var h=this.peekCodePoint(0),y=this.peekCodePoint(1);return h===Yd&&(Ff(y)||y===v1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case f3:if(this.peekCodePoint(0)===r0)return this.consumeCodePoint(),Qhe;if(this.peekCodePoint(0)===f3)return this.consumeCodePoint(),Ohe;break;case Ahe:if(this.peekCodePoint(0)===r0)return this.consumeCodePoint(),Hhe;break;case Tl:return yE}return p1(t)?(this.consumeWhiteSpace(),Zhe):Ss(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):e2(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:_a(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();Ff(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var r=!1;n===v1&&t.length<6;)t.push(n),n=this.consumeCodePoint(),r=!0;if(r){var a=parseInt(_a.apply(void 0,t.map(function(c){return c===v1?V8:c})),16),s=parseInt(_a.apply(void 0,t.map(function(c){return c===v1?K8:c})),16);return{type:30,start:a,end:s}}var o=parseInt(_a.apply(void 0,t),16);if(this.peekCodePoint(0)===Eo&&Ff(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var i=[];Ff(n)&&i.length<6;)i.push(n),n=this.consumeCodePoint();var s=parseInt(_a.apply(void 0,i),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===h1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===h1?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Tl)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===m1||n===f1){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Tl||this.peekCodePoint(0)===a0)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),y1)}for(;;){var a=this.consumeCodePoint();if(a===Tl||a===a0)return{type:22,value:_a.apply(void 0,t)};if(p1(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Tl||this.peekCodePoint(0)===a0?(this.consumeCodePoint(),{type:22,value:_a.apply(void 0,t)}):(this.consumeBadUrlRemnants(),y1);if(a===f1||a===m1||a===h1||Dhe(a))return this.consumeBadUrlRemnants(),y1;if(a===H0)if(Fu(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),y1;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;p1(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===a0||t===Tl)return;Fu(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var n=5e4,r="";t>0;){var a=Math.min(n,t);r+=_a.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),r},e.prototype.consumeStringToken=function(t){var n="",r=0;do{var a=this._value[r];if(a===Tl||a===void 0||a===t)return n+=this.consumeStringSlice(r),{type:0,value:n};if(a===Zy)return this._value.splice(0,r),$he;if(a===H0){var s=this._value[r+1];s!==Tl&&s!==void 0&&(s===Zy?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Fu(a,s)&&(n+=this.consumeStringSlice(r),n+=_a(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var t=[],n=xp,r=this.peekCodePoint(0);for((r===Yd||r===Eo)&&t.push(this.consumeCodePoint());Ss(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(r===Tv&&Ss(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=d3;Ss(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===H8||r===O8)&&((a===Yd||a===Eo)&&Ss(s)||Ss(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=d3;Ss(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Uhe(t),n]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],r=t[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(g1(a,s,o)){var i=this.consumeName();return{type:15,number:n,flags:r,unit:i}}return a===the?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Ff(t)){for(var n=_a(t);Ff(this.peekCodePoint(0))&&n.length<6;)n+=_a(this.consumeCodePoint());p1(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||khe(r)||r>1114111?m3:r}return t===Tl?m3:t},e.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(h3(n))t+=_a(n);else if(Fu(n,this.peekCodePoint(0)))t+=_a(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},e})(),z8=(function(){function e(t){this._tokens=t}return e.create=function(t){var n=new G8;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||t0e(r,t))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?yE:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e})(),Cp=function(e){return e.type===15},eh=function(e){return e.type===17},Pr=function(e){return e.type===20},e0e=function(e){return e.type===0},wE=function(e,t){return Pr(e)&&e.value===t},$8=function(e){return e.type!==31},Dm=function(e){return e.type!==31&&e.type!==4},oc=function(e){var t=[],n=[];return e.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&t.push(n),t},t0e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},nd=function(e){return e.type===17||e.type===15},Pa=function(e){return e.type===16||nd(e)},W8=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},fs={type:17,number:0,flags:xp},Ak={type:16,number:50,flags:xp},Mu={type:16,number:100,flags:xp},b0=function(e,t,n){var r=e[0],a=e[1];return[Kr(r,t),Kr(typeof a<"u"?a:r,n)]},Kr=function(e,t){if(e.type===16)return e.number/100*t;if(Cp(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},j8="deg",J8="grad",q8="rad",Y8="turn",Fw={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case j8:return Math.PI*t.number/180;case J8:return Math.PI/200*t.number;case q8:return t.number;case Y8:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},X8=function(e){return e.type===15&&(e.unit===j8||e.unit===J8||e.unit===q8||e.unit===Y8)},Z8=function(e){var t=e.filter(Pr).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[fs,fs];case"to top":case"bottom":return wi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[fs,Mu];case"to right":case"left":return wi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Mu,Mu];case"to bottom":case"top":return wi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Mu,fs];case"to left":case"right":return wi(270)}return 0},wi=function(e){return Math.PI*e/180},Ju={name:"color",parse:function(e,t){if(t.type===18){var n=n0e[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3);return Ou(parseInt(r+r,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3),o=t.value.substring(3,4);return Ou(parseInt(r+r,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6);return Ou(parseInt(r,16),parseInt(a,16),parseInt(s,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6),o=t.value.substring(6,8);return Ou(parseInt(r,16),parseInt(a,16),parseInt(s,16),parseInt(o,16)/255)}}if(t.type===20){var i=Qc[t.value.toUpperCase()];if(typeof i<"u")return i}return Qc.TRANSPARENT}},qu=function(e){return(255&e)===0},Ya=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+r+","+n+","+t/255+")":"rgb("+a+","+r+","+n+")"},Ou=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},v3=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},p3=function(e,t){var n=t.filter(Dm);if(n.length===3){var r=n.map(v3),a=r[0],s=r[1],o=r[2];return Ou(a,s,o,1)}if(n.length===4){var i=n.map(v3),a=i[0],s=i[1],o=i[2],c=i[3];return Ou(a,s,o,c)}return 0};function gx(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var g3=function(e,t){var n=t.filter(Dm),r=n[0],a=n[1],s=n[2],o=n[3],i=(r.type===17?wi(r.number):Fw.parse(e,r))/(Math.PI*2),c=Pa(a)?a.number/100:0,A=Pa(s)?s.number/100:0,u=typeof o<"u"&&Pa(o)?Kr(o,1):1;if(c===0)return Ou(A*255,A*255,A*255,1);var f=A<=.5?A*(c+1):A+c-A*c,m=A*2-f,v=gx(m,f,i+1/3),h=gx(m,f,i),y=gx(m,f,i-1/3);return Ou(v*255,h*255,y*255,u)},n0e={hsl:g3,hsla:g3,rgb:p3,rgba:p3},K0=function(e,t){return Ju.parse(e,z8.create(t).parseComponentValue())},Qc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},r0e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Pr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},a0e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Pw=function(e,t){var n=Ju.parse(e,t[0]),r=t[1];return r&&Pa(r)?{color:n,stop:r}:{color:n,stop:null}},y3=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=fs),r.stop===null&&(r.stop=Mu);for(var a=[],s=0,o=0;o<e.length;o++){var i=e[o].stop;if(i!==null){var c=Kr(i,t);c>s?a.push(c):a.push(s),s=c}else a.push(null)}for(var A=null,o=0;o<a.length;o++){var u=a[o];if(u===null)A===null&&(A=o);else if(A!==null){for(var f=o-A,m=a[A-1],v=(u-m)/(f+1),h=1;h<=f;h++)a[A+h-1]=v*h;A=null}}return e.map(function(y,w){var b=y.color;return{color:b,stop:Math.max(Math.min(1,a[w]/t),0)}})},s0e=function(e,t,n){var r=t/2,a=n/2,s=Kr(e[0],t)-r,o=a-Kr(e[1],n);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},o0e=function(e,t,n){var r=typeof e=="number"?e:s0e(e,t,n),a=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),s=t/2,o=n/2,i=a/2,c=Math.sin(r-Math.PI/2)*i,A=Math.cos(r-Math.PI/2)*i;return[a,s-A,s+A,o-c,o+c]},Oi=function(e,t){return Math.sqrt(e*e+t*t)},w3=function(e,t,n,r,a){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(o,i){var c=i[0],A=i[1],u=Oi(n-c,r-A);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:i,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},i0e=function(e,t,n,r,a){var s=0,o=0;switch(e.size){case 0:e.shape===0?s=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-a)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-a)));break;case 2:if(e.shape===0)s=o=Math.min(Oi(t,n),Oi(t,n-a),Oi(t-r,n),Oi(t-r,n-a));else if(e.shape===1){var i=Math.min(Math.abs(n),Math.abs(n-a))/Math.min(Math.abs(t),Math.abs(t-r)),c=w3(r,a,t,n,!0),A=c[0],u=c[1];s=Oi(A-t,(u-n)/i),o=i*s}break;case 1:e.shape===0?s=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-a)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-a)));break;case 3:if(e.shape===0)s=o=Math.max(Oi(t,n),Oi(t,n-a),Oi(t-r,n),Oi(t-r,n-a));else if(e.shape===1){var i=Math.max(Math.abs(n),Math.abs(n-a))/Math.max(Math.abs(t),Math.abs(t-r)),f=w3(r,a,t,n,!1),A=f[0],u=f[1];s=Oi(A-t,(u-n)/i),o=i*s}break}return Array.isArray(e.size)&&(s=Kr(e.size[0],r),o=e.size.length===2?Kr(e.size[1],a):s),[s,o]},l0e=function(e,t){var n=wi(180),r=[];return oc(t).forEach(function(a,s){if(s===0){var o=a[0];if(o.type===20&&o.value==="to"){n=Z8(a);return}else if(X8(o)){n=Fw.parse(e,o);return}}var i=Pw(e,a);r.push(i)}),{angle:n,stops:r,type:1}},w1=function(e,t){var n=wi(180),r=[];return oc(t).forEach(function(a,s){if(s===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=Z8(a);return}else if(X8(o)){n=(Fw.parse(e,o)+wi(270))%wi(360);return}}var i=Pw(e,a);r.push(i)}),{angle:n,stops:r,type:1}},c0e=function(e,t){var n=wi(180),r=[],a=1,s=0,o=3,i=[];return oc(t).forEach(function(c,A){var u=c[0];if(A===0){if(Pr(u)&&u.value==="linear"){a=1;return}else if(Pr(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var f=Ju.parse(e,u.values[0]);r.push({stop:fs,color:f})}else if(u.name==="to"){var f=Ju.parse(e,u.values[0]);r.push({stop:Mu,color:f})}else if(u.name==="color-stop"){var m=u.values.filter(Dm);if(m.length===2){var f=Ju.parse(e,m[1]),v=m[0];eh(v)&&r.push({stop:{type:16,number:v.number*100,flags:v.flags},color:f})}}}}),a===1?{angle:(n+wi(180))%wi(360),stops:r,type:a}:{size:o,shape:s,stops:r,position:i,type:a}},eM="closest-side",tM="farthest-side",nM="closest-corner",rM="farthest-corner",aM="circle",sM="ellipse",oM="cover",iM="contain",u0e=function(e,t){var n=0,r=3,a=[],s=[];return oc(t).forEach(function(o,i){var c=!0;if(i===0){var A=!1;c=o.reduce(function(f,m){if(A)if(Pr(m))switch(m.value){case"center":return s.push(Ak),f;case"top":case"left":return s.push(fs),f;case"right":case"bottom":return s.push(Mu),f}else(Pa(m)||nd(m))&&s.push(m);else if(Pr(m))switch(m.value){case aM:return n=0,!1;case sM:return n=1,!1;case"at":return A=!0,!1;case eM:return r=0,!1;case oM:case tM:return r=1,!1;case iM:case nM:return r=2,!1;case rM:return r=3,!1}else if(nd(m)||Pa(m))return Array.isArray(r)||(r=[]),r.push(m),!1;return f},c)}if(c){var u=Pw(e,o);a.push(u)}}),{size:r,shape:n,stops:a,position:s,type:2}},_1=function(e,t){var n=0,r=3,a=[],s=[];return oc(t).forEach(function(o,i){var c=!0;if(i===0?c=o.reduce(function(u,f){if(Pr(f))switch(f.value){case"center":return s.push(Ak),!1;case"top":case"left":return s.push(fs),!1;case"right":case"bottom":return s.push(Mu),!1}else if(Pa(f)||nd(f))return s.push(f),!1;return u},c):i===1&&(c=o.reduce(function(u,f){if(Pr(f))switch(f.value){case aM:return n=0,!1;case sM:return n=1,!1;case iM:case eM:return r=0,!1;case tM:return r=1,!1;case nM:return r=2,!1;case oM:case rM:return r=3,!1}else if(nd(f)||Pa(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return u},c)),c){var A=Pw(e,o);a.push(A)}}),{size:r,shape:n,stops:a,position:s,type:2}},d0e=function(e){return e.type===1},A0e=function(e){return e.type===2},fk={name:"image",parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=lM[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function f0e(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!lM[e.name])}var lM={"linear-gradient":l0e,"-moz-linear-gradient":w1,"-ms-linear-gradient":w1,"-o-linear-gradient":w1,"-webkit-linear-gradient":w1,"radial-gradient":u0e,"-moz-radial-gradient":_1,"-ms-radial-gradient":_1,"-o-radial-gradient":_1,"-webkit-radial-gradient":_1,"-webkit-gradient":c0e},m0e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(r){return Dm(r)&&f0e(r)}).map(function(r){return fk.parse(e,r)})}},h0e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(n){if(Pr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},v0e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return oc(t).map(function(n){return n.filter(Pa)}).map(W8)}},p0e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return oc(t).map(function(n){return n.filter(Pr).map(function(r){return r.value}).join(" ")}).map(g0e)}},g0e=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},um;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(um||(um={}));var y0e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return oc(t).map(function(n){return n.filter(w0e)})}},w0e=function(e){return Pr(e)||Pa(e)},Dw=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},_0e=Dw("top"),b0e=Dw("right"),x0e=Dw("bottom"),C0e=Dw("left"),Uw=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return W8(n.filter(Pa))}}},E0e=Uw("top-left"),B0e=Uw("top-right"),S0e=Uw("bottom-right"),k0e=Uw("bottom-left"),Rw=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},I0e=Rw("top"),T0e=Rw("right"),F0e=Rw("bottom"),P0e=Rw("left"),Nw=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return Cp(n)?n.number:0}}},D0e=Nw("top"),U0e=Nw("right"),R0e=Nw("bottom"),N0e=Nw("left"),L0e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},V0e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},M0e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Pr).reduce(function(n,r){return n|O0e(r.value)},0)}},O0e=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Q0e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},H0e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},t2;(function(e){e.NORMAL="normal",e.STRICT="strict"})(t2||(t2={}));var K0e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return t2.STRICT;case"normal":default:return t2.NORMAL}}},G0e={name:"line-height",initialValue:"normal",prefix:!1,type:4},_3=function(e,t){return Pr(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Pa(e)?Kr(e,t):t},z0e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:fk.parse(e,t)}},$0e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},_E={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Lw=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},W0e=Lw("top"),j0e=Lw("right"),J0e=Lw("bottom"),q0e=Lw("left"),Y0e={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Pr).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},X0e={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Vw=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Z0e=Vw("top"),eve=Vw("right"),tve=Vw("bottom"),nve=Vw("left"),rve={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ave={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},sve={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&wE(t[0],"none")?[]:oc(t).map(function(n){for(var r={color:Qc.TRANSPARENT,offsetX:fs,offsetY:fs,blur:fs},a=0,s=0;s<n.length;s++){var o=n[s];nd(o)?(a===0?r.offsetX=o:a===1?r.offsetY=o:r.blur=o,a++):r.color=Ju.parse(e,o)}return r})}},ove={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ive={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=uve[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},lve=function(e){var t=e.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},cve=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),n=t[0],r=t[1];t[2],t[3];var a=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],i=t[13];return t[14],t[15],t.length===16?[n,r,a,s,o,i]:null},uve={matrix:lve,matrix3d:cve},b3={type:16,number:50,flags:xp},dve=[b3,b3],Ave={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Pa);return n.length!==2?dve:[n[0],n[1]]}},fve={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},G0;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(G0||(G0={}));var mve={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return G0.BREAK_ALL;case"keep-all":return G0.KEEP_ALL;case"normal":default:return G0.NORMAL}}},hve={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(eh(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},cM={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},vve={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return eh(t)?t.number:1}},pve={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gve={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Pr).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},yve={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(a){switch(a.type){case 20:case 0:n.push(a.value);break;case 17:n.push(a.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},wve={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},_ve={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(eh(t))return t.number;if(Pr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},bve={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Pr).map(function(n){return n.value})}},xve={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ha=function(e,t){return(e&t)!==0},Cve={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},Eve={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var r=[],a=t.filter($8),s=0;s<a.length;s++){var o=a[s],i=a[s+1];if(o.type===20){var c=i&&eh(i)?i.number:1;r.push({counter:o.value,increment:c})}}return r}},Bve={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter($8),a=0;a<r.length;a++){var s=r[a],o=r[a+1];if(Pr(s)&&s.value!=="none"){var i=o&&eh(o)?o.number:0;n.push({counter:s.value,reset:i})}}return n}},Sve={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Cp).map(function(n){return cM.parse(e,n)})}},kve={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var r=[],a=t.filter(e0e);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var o=a[s].value,i=a[s+1].value;r.push({open:o,close:i})}return r}},x3=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},Ive={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&wE(t[0],"none")?[]:oc(t).map(function(n){for(var r={color:255,offsetX:fs,offsetY:fs,blur:fs,spread:fs,inset:!1},a=0,s=0;s<n.length;s++){var o=n[s];wE(o,"inset")?r.inset=!0:nd(o)?(a===0?r.offsetX=o:a===1?r.offsetY=o:a===2?r.blur=o:r.spread=o,a++):r.color=Ju.parse(e,o)}return r})}},Tve={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Pr).forEach(function(a){switch(a.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(a){r.indexOf(a)===-1&&r.push(a)}),r}},Fve={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Pve={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Cp(t)?t.number:0}},Dve=(function(){function e(t,n){var r,a;this.animationDuration=rn(t,Sve,n.animationDuration),this.backgroundClip=rn(t,r0e,n.backgroundClip),this.backgroundColor=rn(t,a0e,n.backgroundColor),this.backgroundImage=rn(t,m0e,n.backgroundImage),this.backgroundOrigin=rn(t,h0e,n.backgroundOrigin),this.backgroundPosition=rn(t,v0e,n.backgroundPosition),this.backgroundRepeat=rn(t,p0e,n.backgroundRepeat),this.backgroundSize=rn(t,y0e,n.backgroundSize),this.borderTopColor=rn(t,_0e,n.borderTopColor),this.borderRightColor=rn(t,b0e,n.borderRightColor),this.borderBottomColor=rn(t,x0e,n.borderBottomColor),this.borderLeftColor=rn(t,C0e,n.borderLeftColor),this.borderTopLeftRadius=rn(t,E0e,n.borderTopLeftRadius),this.borderTopRightRadius=rn(t,B0e,n.borderTopRightRadius),this.borderBottomRightRadius=rn(t,S0e,n.borderBottomRightRadius),this.borderBottomLeftRadius=rn(t,k0e,n.borderBottomLeftRadius),this.borderTopStyle=rn(t,I0e,n.borderTopStyle),this.borderRightStyle=rn(t,T0e,n.borderRightStyle),this.borderBottomStyle=rn(t,F0e,n.borderBottomStyle),this.borderLeftStyle=rn(t,P0e,n.borderLeftStyle),this.borderTopWidth=rn(t,D0e,n.borderTopWidth),this.borderRightWidth=rn(t,U0e,n.borderRightWidth),this.borderBottomWidth=rn(t,R0e,n.borderBottomWidth),this.borderLeftWidth=rn(t,N0e,n.borderLeftWidth),this.boxShadow=rn(t,Ive,n.boxShadow),this.color=rn(t,L0e,n.color),this.direction=rn(t,V0e,n.direction),this.display=rn(t,M0e,n.display),this.float=rn(t,Q0e,n.cssFloat),this.fontFamily=rn(t,yve,n.fontFamily),this.fontSize=rn(t,wve,n.fontSize),this.fontStyle=rn(t,xve,n.fontStyle),this.fontVariant=rn(t,bve,n.fontVariant),this.fontWeight=rn(t,_ve,n.fontWeight),this.letterSpacing=rn(t,H0e,n.letterSpacing),this.lineBreak=rn(t,K0e,n.lineBreak),this.lineHeight=rn(t,G0e,n.lineHeight),this.listStyleImage=rn(t,z0e,n.listStyleImage),this.listStylePosition=rn(t,$0e,n.listStylePosition),this.listStyleType=rn(t,_E,n.listStyleType),this.marginTop=rn(t,W0e,n.marginTop),this.marginRight=rn(t,j0e,n.marginRight),this.marginBottom=rn(t,J0e,n.marginBottom),this.marginLeft=rn(t,q0e,n.marginLeft),this.opacity=rn(t,vve,n.opacity);var s=rn(t,Y0e,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=rn(t,X0e,n.overflowWrap),this.paddingTop=rn(t,Z0e,n.paddingTop),this.paddingRight=rn(t,eve,n.paddingRight),this.paddingBottom=rn(t,tve,n.paddingBottom),this.paddingLeft=rn(t,nve,n.paddingLeft),this.paintOrder=rn(t,Tve,n.paintOrder),this.position=rn(t,ave,n.position),this.textAlign=rn(t,rve,n.textAlign),this.textDecorationColor=rn(t,pve,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=rn(t,gve,(a=n.textDecorationLine)!==null&&a!==void 0?a:n.textDecoration),this.textShadow=rn(t,sve,n.textShadow),this.textTransform=rn(t,ove,n.textTransform),this.transform=rn(t,ive,n.transform),this.transformOrigin=rn(t,Ave,n.transformOrigin),this.visibility=rn(t,fve,n.visibility),this.webkitTextStrokeColor=rn(t,Fve,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=rn(t,Pve,n.webkitTextStrokeWidth),this.wordBreak=rn(t,mve,n.wordBreak),this.zIndex=rn(t,hve,n.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return qu(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ha(this.display,4)||Ha(this.display,33554432)||Ha(this.display,268435456)||Ha(this.display,536870912)||Ha(this.display,67108864)||Ha(this.display,134217728)},e})(),Uve=(function(){function e(t,n){this.content=rn(t,Cve,n.content),this.quotes=rn(t,kve,n.quotes)}return e})(),C3=(function(){function e(t,n){this.counterIncrement=rn(t,Eve,n.counterIncrement),this.counterReset=rn(t,Bve,n.counterReset)}return e})(),rn=function(e,t,n){var r=new G8,a=n!==null&&typeof n<"u"?n.toString():t.initialValue;r.write(a);var s=new z8(r.read());switch(t.type){case 2:var o=s.parseComponentValue();return t.parse(e,Pr(o)?o.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Fw.parse(e,s.parseComponentValue());case"color":return Ju.parse(e,s.parseComponentValue());case"image":return fk.parse(e,s.parseComponentValue());case"length":var i=s.parseComponentValue();return nd(i)?i:fs;case"length-percentage":var c=s.parseComponentValue();return Pa(c)?c:fs;case"time":return cM.parse(e,s.parseComponentValue())}break}},Rve="data-html2canvas-debug",Nve=function(e){var t=e.getAttribute(Rve);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bE=function(e,t){var n=Nve(e);return n===1||t===n},ic=(function(){function e(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,bE(n,3))debugger;this.styles=new Dve(t,window.getComputedStyle(n,null)),EE(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Iw(this.context,n),bE(n,4)&&(this.flags|=16)}return e})(),Lve="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",E3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var b1=0;b1<E3.length;b1++)x0[E3.charCodeAt(b1)]=b1;var Vve=function(e){var t=e.length*.75,n=e.length,r,a=0,s,o,i,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)s=x0[e.charCodeAt(r)],o=x0[e.charCodeAt(r+1)],i=x0[e.charCodeAt(r+2)],c=x0[e.charCodeAt(r+3)],u[a++]=s<<2|o>>4,u[a++]=(o&15)<<4|i>>2,u[a++]=(i&3)<<6|c&63;return A},Mve=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Ove=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},uA=5,mk=11,yx=2,Qve=mk-uA,uM=65536>>uA,Hve=1<<uA,wx=Hve-1,Kve=1024>>uA,Gve=uM+Kve,zve=Gve,$ve=32,Wve=zve+$ve,jve=65536>>mk,Jve=1<<Qve,qve=Jve-1,B3=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Yve=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Xve=function(e,t){var n=Vve(e),r=Array.isArray(n)?Ove(n):new Uint32Array(n),a=Array.isArray(n)?Mve(n):new Uint16Array(n),s=24,o=B3(a,s/2,r[4]/2),i=r[5]===2?B3(a,(s+r[4])/2):Yve(r,Math.ceil((s+r[4])/4));return new Zve(r[0],r[1],r[2],r[3],o,i)},Zve=(function(){function e(t,n,r,a,s,o){this.initialValue=t,this.errorValue=n,this.highStart=r,this.highValueIndex=a,this.index=s,this.data=o}return e.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>uA],n=(n<<yx)+(t&wx),this.data[n];if(t<=65535)return n=this.index[uM+(t-55296>>uA)],n=(n<<yx)+(t&wx),this.data[n];if(t<this.highStart)return n=Wve-jve+(t>>mk),n=this.index[n],n+=t>>uA&qve,n=this.index[n],n=(n<<yx)+(t&wx),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e})(),S3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",epe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var x1=0;x1<S3.length;x1++)epe[S3.charCodeAt(x1)]=x1;var tpe=1,_x=2,bx=3,k3=4,I3=5,npe=7,T3=8,xx=9,Cx=10,F3=11,P3=12,D3=13,U3=14,Ex=15,rpe=function(e){for(var t=[],n=0,r=e.length;n<r;){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var s=e.charCodeAt(n++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),n--)}else t.push(a)}return t},ape=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],a=-1,s="";++a<n;){var o=e[a];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(a+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},spe=Xve(Lve),hi="",Bx="",ope=function(e){return spe.get(e)},ipe=function(e,t,n){var r=n-2,a=t[r],s=t[n-1],o=t[n];if(s===_x&&o===bx)return hi;if(s===_x||s===bx||s===k3||o===_x||o===bx||o===k3)return Bx;if(s===T3&&[T3,xx,F3,P3].indexOf(o)!==-1||(s===F3||s===xx)&&(o===xx||o===Cx)||(s===P3||s===Cx)&&o===Cx||o===D3||o===I3||o===npe||s===tpe)return hi;if(s===D3&&o===U3){for(;a===I3;)a=t[--r];if(a===U3)return hi}if(s===Ex&&o===Ex){for(var i=0;a===Ex;)i++,a=t[--r];if(i%2===0)return hi}return Bx},lpe=function(e){var t=rpe(e),n=t.length,r=0,a=0,s=t.map(ope);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=hi;r<n&&(o=ipe(t,s,++r))===hi;);if(o!==hi||r===n){var i=ape.apply(null,t.slice(a,r));return a=r,{value:i,done:!1}}return{done:!0,value:null}}}},cpe=function(e){for(var t=lpe(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},upe=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var a=n.getBoundingClientRect(),s=Math.round(a.height);if(e.body.removeChild(r),s===t)return!0}}return!1},dpe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,a=Tw(r.data).map(function(c){return _a(c)}),s=0,o={},i=a.every(function(c,A){n.setStart(r,s),n.setEnd(r,s+c.length);var u=n.getBoundingClientRect();s+=c.length;var f=u.x>o.x||u.y>o.y;return o=u,A===0?!0:f});return e.body.removeChild(t),i},Ape=function(){return typeof new Image().crossOrigin<"u"},fpe=function(){return typeof new XMLHttpRequest().responseType=="string"},mpe=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},R3=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},hpe=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var a=new Image,s=t.toDataURL();a.src=s;var o=xE(n,n,0,0,a);return r.fillStyle="red",r.fillRect(0,0,n,n),N3(o).then(function(i){r.drawImage(i,0,0);var c=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var A=e.createElement("div");return A.style.backgroundImage="url("+s+")",A.style.height=n+"px",R3(c)?N3(xE(n,n,0,0,A)):Promise.reject(!1)}).then(function(i){return r.drawImage(i,0,0),R3(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},xE=function(e,t,n,r,a){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),i=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%"),i.setAttributeNS(null,"x",n.toString()),i.setAttributeNS(null,"y",r.toString()),i.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(i),i.appendChild(a),o},N3=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},cs={get SUPPORT_RANGE_BOUNDS(){var e=upe(document);return Object.defineProperty(cs,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=cs.SUPPORT_RANGE_BOUNDS&&dpe(document);return Object.defineProperty(cs,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=mpe(document);return Object.defineProperty(cs,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?hpe(document):Promise.resolve(!1);return Object.defineProperty(cs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=Ape();return Object.defineProperty(cs,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=fpe();return Object.defineProperty(cs,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(cs,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(cs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},z0=(function(){function e(t,n){this.text=t,this.bounds=n}return e})(),vpe=function(e,t,n,r){var a=ype(t,n),s=[],o=0;return a.forEach(function(i){if(n.textDecorationLine.length||i.trim().length>0)if(cs.SUPPORT_RANGE_BOUNDS){var c=L3(r,o,i.length).getClientRects();if(c.length>1){var A=hk(i),u=0;A.forEach(function(m){s.push(new z0(m,Yc.fromDOMRectList(e,L3(r,u+o,m.length).getClientRects()))),u+=m.length})}else s.push(new z0(i,Yc.fromDOMRectList(e,c)))}else{var f=r.splitText(i.length);s.push(new z0(i,ppe(e,r))),r=f}else cs.SUPPORT_RANGE_BOUNDS||(r=r.splitText(i.length));o+=i.length}),s},ppe=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(r,t);var s=Iw(e,r);return r.firstChild&&a.replaceChild(r.firstChild,r),s}}return Yc.EMPTY},L3=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var a=r.createRange();return a.setStart(e,t),a.setEnd(e,t+n),a},hk=function(e){if(cs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(n){return n.segment})}return cpe(e)},gpe=function(e,t){if(cs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(r){return r.segment})}return _pe(e,t)},ype=function(e,t){return t.letterSpacing!==0?hk(e):gpe(e,t)},wpe=[32,160,4961,65792,65793,4153,4241],_pe=function(e,t){for(var n=jme(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],a,s=function(){if(a.value){var o=a.value.slice(),i=Tw(o),c="";i.forEach(function(A){wpe.indexOf(A)===-1?c+=_a(A):(c.length&&r.push(c),r.push(_a(A)),c="")}),c.length&&r.push(c)}};!(a=n.next()).done;)s();return r},bpe=(function(){function e(t,n,r){this.text=xpe(n.data,r.textTransform),this.textBounds=vpe(t,this.text,r,n)}return e})(),xpe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Cpe,Epe);case 2:return e.toUpperCase();default:return e}},Cpe=/(^|\s|:|-|\(|\))([a-z])/g,Epe=function(e,t,n){return e.length>0?t+n.toUpperCase():e},dM=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.src=r.currentSrc||r.src,a.intrinsicWidth=r.naturalWidth,a.intrinsicHeight=r.naturalHeight,a.context.cache.addImage(a.src),a}return t})(ic),AM=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.canvas=r,a.intrinsicWidth=r.width,a.intrinsicHeight=r.height,a}return t})(ic),fM=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this,s=new XMLSerializer,o=Iw(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),a.intrinsicWidth=r.width.baseVal.value,a.intrinsicHeight=r.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t})(ic),mM=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.value=r.value,a}return t})(ic),CE=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.start=r.start,a.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,a}return t})(ic),Bpe=[{type:15,flags:0,unit:"px",number:3}],Spe=[{type:16,flags:0,number:50}],kpe=function(e){return e.width>e.height?new Yc(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Yc(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Ipe=function(e){var t=e.type===Tpe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},n2="checkbox",r2="radio",Tpe="password",V3=707406591,vk=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this;switch(a.type=r.type.toLowerCase(),a.checked=r.checked,a.value=Ipe(r),(a.type===n2||a.type===r2)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=kpe(a.bounds)),a.type){case n2:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Bpe;break;case r2:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Spe;break}return a}return t})(ic),hM=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return a.value=s&&s.text||"",a}return t})(ic),vM=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.value=r.value,a}return t})(ic),pM=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this;a.src=r.src,a.width=parseInt(r.width,10)||0,a.height=parseInt(r.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){a.tree=yM(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?K0(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Qc.TRANSPARENT,o=r.contentWindow.document.body?K0(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Qc.TRANSPARENT;a.backgroundColor=qu(s)?qu(o)?a.styles.backgroundColor:o:s}}catch{}return a}return t})(ic),Fpe=["OL","UL","MENU"],cy=function(e,t,n,r){for(var a=t.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,wM(a)&&a.data.trim().length>0)n.textNodes.push(new bpe(e,a,n.styles));else if($f(a))if(CM(a)&&a.assignedNodes)a.assignedNodes().forEach(function(i){return cy(e,i,n,r)});else{var o=gM(e,a);o.styles.isVisible()&&(Ppe(a,o,r)?o.flags|=4:Dpe(o.styles)&&(o.flags|=2),Fpe.indexOf(a.tagName)!==-1&&(o.flags|=8),n.elements.push(o),a.slot,a.shadowRoot?cy(e,a.shadowRoot,o,r):!a2(a)&&!_M(a)&&!s2(a)&&cy(e,a,o,r))}},gM=function(e,t){return BE(t)?new dM(e,t):bM(t)?new AM(e,t):_M(t)?new fM(e,t):Upe(t)?new mM(e,t):Rpe(t)?new CE(e,t):Npe(t)?new vk(e,t):s2(t)?new hM(e,t):a2(t)?new vM(e,t):xM(t)?new pM(e,t):new ic(e,t)},yM=function(e,t){var n=gM(e,t);return n.flags|=4,cy(e,t,n,n),n},Ppe=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||pk(e)&&n.styles.isTransparent()},Dpe=function(e){return e.isPositioned()||e.isFloating()},wM=function(e){return e.nodeType===Node.TEXT_NODE},$f=function(e){return e.nodeType===Node.ELEMENT_NODE},EE=function(e){return $f(e)&&typeof e.style<"u"&&!uy(e)},uy=function(e){return typeof e.className=="object"},Upe=function(e){return e.tagName==="LI"},Rpe=function(e){return e.tagName==="OL"},Npe=function(e){return e.tagName==="INPUT"},Lpe=function(e){return e.tagName==="HTML"},_M=function(e){return e.tagName==="svg"},pk=function(e){return e.tagName==="BODY"},bM=function(e){return e.tagName==="CANVAS"},M3=function(e){return e.tagName==="VIDEO"},BE=function(e){return e.tagName==="IMG"},xM=function(e){return e.tagName==="IFRAME"},O3=function(e){return e.tagName==="STYLE"},Vpe=function(e){return e.tagName==="SCRIPT"},a2=function(e){return e.tagName==="TEXTAREA"},s2=function(e){return e.tagName==="SELECT"},CM=function(e){return e.tagName==="SLOT"},Q3=function(e){return e.tagName.indexOf("-")>0},Mpe=(function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},e.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},e.prototype.pop=function(t){var n=this;t.forEach(function(r){return n.counters[r].pop()})},e.prototype.parse=function(t){var n=this,r=t.counterIncrement,a=t.counterReset,s=!0;r!==null&&r.forEach(function(i){var c=n.counters[i.counter];c&&i.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=i.increment)});var o=[];return s&&a.forEach(function(i){var c=n.counters[i.counter];o.push(i.counter),c||(c=n.counters[i.counter]=[]),c.push(i.reset)}),o},e})(),H3={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},K3={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ope={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Qpe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Pf=function(e,t,n,r,a,s){return e<t||e>n?Fv(e,a,s.length>0):r.integers.reduce(function(o,i,c){for(;e>=i;)e-=i,o+=r.values[c];return o},"")+s},EM=function(e,t,n,r){var a="";do n||e--,a=r(e)+a,e/=t;while(e*t>=t);return a},ya=function(e,t,n,r,a){var s=n-t+1;return(e<0?"-":"")+(EM(Math.abs(e),s,r,function(o){return _a(Math.floor(o%s)+t)})+a)},Md=function(e,t,n){n===void 0&&(n=". ");var r=t.length;return EM(Math.abs(e),r,!1,function(a){return t[Math.floor(a%r)]})+n},Qf=1,Bu=2,Su=4,C0=8,kc=function(e,t,n,r,a,s){if(e<-9999||e>9999)return Fv(e,4,a.length>0);var o=Math.abs(e),i=a;if(o===0)return t[0]+i;for(var c=0;o>0&&c<=4;c++){var A=o%10;A===0&&Ha(s,Qf)&&i!==""?i=t[A]+i:A>1||A===1&&c===0||A===1&&c===1&&Ha(s,Bu)||A===1&&c===1&&Ha(s,Su)&&e>100||A===1&&c>1&&Ha(s,C0)?i=t[A]+(c>0?n[c-1]:"")+i:A===1&&c>0&&(i=n[c-1]+i),o=Math.floor(o/10)}return(e<0?r:"")+i},G3="",z3="",$3="",Sx="",Fv=function(e,t,n){var r=n?". ":"",a=n?"":"",s=n?", ":"",o=n?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var i=ya(e,48,57,!0,r);return i.length<4?"0"+i:i;case 4:return Md(e,"",a);case 6:return Pf(e,1,3999,H3,3,r).toLowerCase();case 7:return Pf(e,1,3999,H3,3,r);case 8:return ya(e,945,969,!1,r);case 9:return ya(e,97,122,!1,r);case 10:return ya(e,65,90,!1,r);case 11:return ya(e,1632,1641,!0,r);case 12:case 49:return Pf(e,1,9999,K3,3,r);case 35:return Pf(e,1,9999,K3,3,r).toLowerCase();case 13:return ya(e,2534,2543,!0,r);case 14:case 30:return ya(e,6112,6121,!0,r);case 15:return Md(e,"",a);case 16:return Md(e,"",a);case 17:case 48:return kc(e,"",G3,"",a,Bu|Su|C0);case 47:return kc(e,"",z3,"",a,Qf|Bu|Su|C0);case 42:return kc(e,"",G3,"",a,Bu|Su|C0);case 41:return kc(e,"",z3,"",a,Qf|Bu|Su|C0);case 26:return kc(e,"","",$3,a,0);case 25:return kc(e,"","",$3,a,Qf|Bu|Su);case 31:return kc(e,"","",Sx,s,Qf|Bu|Su);case 33:return kc(e,"","",Sx,s,0);case 32:return kc(e,"","",Sx,s,Qf|Bu|Su);case 18:return ya(e,2406,2415,!0,r);case 20:return Pf(e,1,19999,Qpe,3,r);case 21:return ya(e,2790,2799,!0,r);case 22:return ya(e,2662,2671,!0,r);case 22:return Pf(e,1,10999,Ope,3,r);case 23:return Md(e,"");case 24:return Md(e,"");case 27:return ya(e,3302,3311,!0,r);case 28:return Md(e,"",a);case 29:return Md(e,"",a);case 34:return ya(e,3792,3801,!0,r);case 37:return ya(e,6160,6169,!0,r);case 38:return ya(e,4160,4169,!0,r);case 39:return ya(e,2918,2927,!0,r);case 40:return ya(e,1776,1785,!0,r);case 43:return ya(e,3046,3055,!0,r);case 44:return ya(e,3174,3183,!0,r);case 45:return ya(e,3664,3673,!0,r);case 46:return ya(e,3872,3881,!0,r);case 3:default:return ya(e,48,57,!0,r)}},BM="data-html2canvas-ignore",W3=(function(){function e(t,n,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new Mpe,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,n){var r=this,a=Hpe(t,n);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,i=a.contentWindow,c=i.document,A=zpe(a).then(function(){return no(r,void 0,void 0,function(){var u,f;return Es(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(Jpe),i&&(i.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(i.scrollY!==n.top||i.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(i.scrollX-n.left,i.scrollY-n.top,0,0))),u=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Gpe(c)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,f)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(Wpe(document.doctype)+"<html></html>"),jpe(this.referenceElement.ownerDocument,s,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(t){if(bE(t,2))debugger;if(bM(t))return this.createCanvasClone(t);if(M3(t))return this.createVideoClone(t);if(O3(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return BE(n)&&(BE(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),Q3(n)?this.createCustomElementClone(n):n},e.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return kx(t.style,n),n},e.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),a=t.cloneNode(!1);return a.textContent=r,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var s=t.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var i=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(i){var c=i.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,n,r){(!$f(n)||!Vpe(n)&&!n.hasAttribute(BM)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!$f(n)||!O3(n))&&t.appendChild(this.cloneNode(n,r))},e.prototype.cloneChildNodes=function(t,n,r){for(var a=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if($f(s)&&CM(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(i){return a.appendChildNode(n,i,r)})}else this.appendChildNode(n,s,r)},e.prototype.cloneNode=function(t,n){if(wM(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&$f(t)&&(EE(t)||uy(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var s=r.getComputedStyle(t),o=r.getComputedStyle(t,":before"),i=r.getComputedStyle(t,":after");this.referenceElement===t&&EE(a)&&(this.clonedReferenceElement=a),pk(a)&&Xpe(a);var c=this.counters.parse(new C3(this.context,s)),A=this.resolvePseudoContent(t,a,o,$0.BEFORE);Q3(t)&&(n=!0),M3(t)||this.cloneChildNodes(t,a,n),A&&a.insertBefore(A,a.firstChild);var u=this.resolvePseudoContent(t,a,i,$0.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(s&&(this.options.copyStyles||uy(t))&&!xM(t)||n)&&kx(s,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(a2(t)||s2(t))&&(a2(a)||s2(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,n,r,a){var s=this;if(r){var o=r.content,i=n.ownerDocument;if(!(!i||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new C3(this.context,r));var c=new Uve(this.context,r),A=i.createElement("html2canvaspseudoelement");kx(r,A),c.content.forEach(function(f){if(f.type===0)A.appendChild(i.createTextNode(f.value));else if(f.type===22){var m=i.createElement("img");m.src=f.value,m.style.opacity="1",A.appendChild(m)}else if(f.type===18){if(f.name==="attr"){var v=f.values.filter(Pr);v.length&&A.appendChild(i.createTextNode(t.getAttribute(v[0].value)||""))}else if(f.name==="counter"){var h=f.values.filter(Dm),y=h[0],w=h[1];if(y&&Pr(y)){var b=s.counters.getCounterValue(y.value),B=w&&Pr(w)?_E.parse(s.context,w.value):3;A.appendChild(i.createTextNode(Fv(b,B,!1)))}}else if(f.name==="counters"){var S=f.values.filter(Dm),y=S[0],T=S[1],w=S[2];if(y&&Pr(y)){var N=s.counters.getCounterValues(y.value),k=w&&Pr(w)?_E.parse(s.context,w.value):3,E=T&&T.type===0?T.value:"",_=N.map(function(I){return Fv(I,k,!1)}).join(E);A.appendChild(i.createTextNode(_))}}}else if(f.type===20)switch(f.value){case"open-quote":A.appendChild(i.createTextNode(x3(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":A.appendChild(i.createTextNode(x3(c.quotes,--s.quoteDepth,!1)));break;default:A.appendChild(i.createTextNode(f.value))}}),A.className=SE+" "+kE;var u=a===$0.BEFORE?" "+SE:" "+kE;return uy(n)?n.className.baseValue+=u:n.className+=u,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e})(),$0;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})($0||($0={}));var Hpe=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(BM,"true"),e.body.appendChild(n),n},Kpe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Gpe=function(e){return Promise.all([].slice.call(e.images,0).map(Kpe))},zpe=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var a=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},$pe=["all","d","content"],kx=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);$pe.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},Wpe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},jpe=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Jpe=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},qpe=":before",Ype=":after",SE="___html2canvas___pseudoelement_before",kE="___html2canvas___pseudoelement_after",j3=`{
    content: "" !important;
    display: none !important;
}`,Xpe=function(e){Zpe(e,"."+SE+qpe+j3+`
         .`+kE+Ype+j3)},Zpe=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},SM=(function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e})(),ege=(function(){function e(t,n){this.context=t,this._options=n,this._cache={}}return e.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(Tx(t)||age(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return no(this,void 0,void 0,function(){var n,r,a,s,o=this;return Es(this,function(i){switch(i.label){case 0:return n=SM.isSameOrigin(t),r=!Ix(t)&&this._options.useCORS===!0&&cs.SUPPORT_CORS_IMAGES&&!n,a=!Ix(t)&&!n&&!Tx(t)&&typeof this._options.proxy=="string"&&cs.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!Ix(t)&&!Tx(t)&&!a&&!r?[2]:(s=t,a?[4,this.proxy(s)]:[3,2]);case 1:s=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,A){var u=new Image;u.onload=function(){return c(u)},u.onerror=A,(sge(s)||r)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(s,o){var i=cs.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(i==="text")s(c.response);else{var f=new FileReader;f.addEventListener("load",function(){return s(f.result)},!1),f.addEventListener("error",function(m){return o(m)},!1),f.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var A=r.indexOf("?")>-1?"&":"?";if(c.open("GET",""+r+A+"url="+encodeURIComponent(t)+"&responseType="+i),i!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=i),n._options.imageTimeout){var u=n._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},e})(),tge=/^data:image\/svg\+xml/i,nge=/^data:image\/.*;base64,/i,rge=/^data:image\/.*/i,age=function(e){return cs.SUPPORT_SVG_DRAWING||!oge(e)},Ix=function(e){return rge.test(e)},sge=function(e){return nge.test(e)},Tx=function(e){return e.substr(0,4)==="blob"},oge=function(e){return e.substr(-3).toLowerCase()==="svg"||tge.test(e)},nn=(function(){function e(t,n){this.type=0,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e})(),Df=function(e,t,n){return new nn(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},C1=(function(){function e(t,n,r,a){this.type=1,this.start=t,this.startControl=n,this.endControl=r,this.end=a}return e.prototype.subdivide=function(t,n){var r=Df(this.start,this.startControl,t),a=Df(this.startControl,this.endControl,t),s=Df(this.endControl,this.end,t),o=Df(r,a,t),i=Df(a,s,t),c=Df(o,i,t);return n?new e(this.start,r,o,c):new e(c,i,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e})(),pi=function(e){return e.type===1},ige=(function(){function e(t){var n=t.styles,r=t.bounds,a=b0(n.borderTopLeftRadius,r.width,r.height),s=a[0],o=a[1],i=b0(n.borderTopRightRadius,r.width,r.height),c=i[0],A=i[1],u=b0(n.borderBottomRightRadius,r.width,r.height),f=u[0],m=u[1],v=b0(n.borderBottomLeftRadius,r.width,r.height),h=v[0],y=v[1],w=[];w.push((s+c)/r.width),w.push((h+f)/r.width),w.push((o+y)/r.height),w.push((A+m)/r.height);var b=Math.max.apply(Math,w);b>1&&(s/=b,o/=b,c/=b,A/=b,f/=b,m/=b,h/=b,y/=b);var B=r.width-c,S=r.height-m,T=r.width-f,N=r.height-y,k=n.borderTopWidth,E=n.borderRightWidth,_=n.borderBottomWidth,C=n.borderLeftWidth,F=Kr(n.paddingTop,t.bounds.width),I=Kr(n.paddingRight,t.bounds.width),R=Kr(n.paddingBottom,t.bounds.width),M=Kr(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?Yr(r.left+C/3,r.top+k/3,s-C/3,o-k/3,wr.TOP_LEFT):new nn(r.left+C/3,r.top+k/3),this.topRightBorderDoubleOuterBox=s>0||o>0?Yr(r.left+B,r.top+k/3,c-E/3,A-k/3,wr.TOP_RIGHT):new nn(r.left+r.width-E/3,r.top+k/3),this.bottomRightBorderDoubleOuterBox=f>0||m>0?Yr(r.left+T,r.top+S,f-E/3,m-_/3,wr.BOTTOM_RIGHT):new nn(r.left+r.width-E/3,r.top+r.height-_/3),this.bottomLeftBorderDoubleOuterBox=h>0||y>0?Yr(r.left+C/3,r.top+N,h-C/3,y-_/3,wr.BOTTOM_LEFT):new nn(r.left+C/3,r.top+r.height-_/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?Yr(r.left+C*2/3,r.top+k*2/3,s-C*2/3,o-k*2/3,wr.TOP_LEFT):new nn(r.left+C*2/3,r.top+k*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?Yr(r.left+B,r.top+k*2/3,c-E*2/3,A-k*2/3,wr.TOP_RIGHT):new nn(r.left+r.width-E*2/3,r.top+k*2/3),this.bottomRightBorderDoubleInnerBox=f>0||m>0?Yr(r.left+T,r.top+S,f-E*2/3,m-_*2/3,wr.BOTTOM_RIGHT):new nn(r.left+r.width-E*2/3,r.top+r.height-_*2/3),this.bottomLeftBorderDoubleInnerBox=h>0||y>0?Yr(r.left+C*2/3,r.top+N,h-C*2/3,y-_*2/3,wr.BOTTOM_LEFT):new nn(r.left+C*2/3,r.top+r.height-_*2/3),this.topLeftBorderStroke=s>0||o>0?Yr(r.left+C/2,r.top+k/2,s-C/2,o-k/2,wr.TOP_LEFT):new nn(r.left+C/2,r.top+k/2),this.topRightBorderStroke=s>0||o>0?Yr(r.left+B,r.top+k/2,c-E/2,A-k/2,wr.TOP_RIGHT):new nn(r.left+r.width-E/2,r.top+k/2),this.bottomRightBorderStroke=f>0||m>0?Yr(r.left+T,r.top+S,f-E/2,m-_/2,wr.BOTTOM_RIGHT):new nn(r.left+r.width-E/2,r.top+r.height-_/2),this.bottomLeftBorderStroke=h>0||y>0?Yr(r.left+C/2,r.top+N,h-C/2,y-_/2,wr.BOTTOM_LEFT):new nn(r.left+C/2,r.top+r.height-_/2),this.topLeftBorderBox=s>0||o>0?Yr(r.left,r.top,s,o,wr.TOP_LEFT):new nn(r.left,r.top),this.topRightBorderBox=c>0||A>0?Yr(r.left+B,r.top,c,A,wr.TOP_RIGHT):new nn(r.left+r.width,r.top),this.bottomRightBorderBox=f>0||m>0?Yr(r.left+T,r.top+S,f,m,wr.BOTTOM_RIGHT):new nn(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=h>0||y>0?Yr(r.left,r.top+N,h,y,wr.BOTTOM_LEFT):new nn(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||o>0?Yr(r.left+C,r.top+k,Math.max(0,s-C),Math.max(0,o-k),wr.TOP_LEFT):new nn(r.left+C,r.top+k),this.topRightPaddingBox=c>0||A>0?Yr(r.left+Math.min(B,r.width-E),r.top+k,B>r.width+E?0:Math.max(0,c-E),Math.max(0,A-k),wr.TOP_RIGHT):new nn(r.left+r.width-E,r.top+k),this.bottomRightPaddingBox=f>0||m>0?Yr(r.left+Math.min(T,r.width-C),r.top+Math.min(S,r.height-_),Math.max(0,f-E),Math.max(0,m-_),wr.BOTTOM_RIGHT):new nn(r.left+r.width-E,r.top+r.height-_),this.bottomLeftPaddingBox=h>0||y>0?Yr(r.left+C,r.top+Math.min(N,r.height-_),Math.max(0,h-C),Math.max(0,y-_),wr.BOTTOM_LEFT):new nn(r.left+C,r.top+r.height-_),this.topLeftContentBox=s>0||o>0?Yr(r.left+C+M,r.top+k+F,Math.max(0,s-(C+M)),Math.max(0,o-(k+F)),wr.TOP_LEFT):new nn(r.left+C+M,r.top+k+F),this.topRightContentBox=c>0||A>0?Yr(r.left+Math.min(B,r.width+C+M),r.top+k+F,B>r.width+C+M?0:c-C+M,A-(k+F),wr.TOP_RIGHT):new nn(r.left+r.width-(E+I),r.top+k+F),this.bottomRightContentBox=f>0||m>0?Yr(r.left+Math.min(T,r.width-(C+M)),r.top+Math.min(S,r.height+k+F),Math.max(0,f-(E+I)),m-(_+R),wr.BOTTOM_RIGHT):new nn(r.left+r.width-(E+I),r.top+r.height-(_+R)),this.bottomLeftContentBox=h>0||y>0?Yr(r.left+C+M,r.top+N,Math.max(0,h-(C+M)),y-(_+R),wr.BOTTOM_LEFT):new nn(r.left+C+M,r.top+r.height-(_+R))}return e})(),wr;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(wr||(wr={}));var Yr=function(e,t,n,r,a){var s=4*((Math.sqrt(2)-1)/3),o=n*s,i=r*s,c=e+n,A=t+r;switch(a){case wr.TOP_LEFT:return new C1(new nn(e,A),new nn(e,A-i),new nn(c-o,t),new nn(c,t));case wr.TOP_RIGHT:return new C1(new nn(e,t),new nn(e+o,t),new nn(c,A-i),new nn(c,A));case wr.BOTTOM_RIGHT:return new C1(new nn(c,t),new nn(c,t+i),new nn(e+o,A),new nn(e,A));case wr.BOTTOM_LEFT:default:return new C1(new nn(c,A),new nn(c-o,A),new nn(e,t+i),new nn(e,t))}},o2=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},lge=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},i2=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},cge=(function(){function e(t,n,r){this.offsetX=t,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return e})(),E1=(function(){function e(t,n){this.path=t,this.target=n,this.type=1}return e})(),uge=(function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e})(),dge=function(e){return e.type===0},kM=function(e){return e.type===1},Age=function(e){return e.type===2},J3=function(e,t){return e.length===t.length?e.some(function(n,r){return n===t[r]}):!1},fge=function(e,t,n,r,a){return e.map(function(s,o){switch(o){case 0:return s.add(t,n);case 1:return s.add(t+r,n);case 2:return s.add(t+r,n+a);case 3:return s.add(t,n+a)}return s})},IM=(function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e})(),TM=(function(){function e(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new ige(this.container),this.container.styles.opacity<1&&this.effects.push(new uge(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new cge(r,a,s))}if(this.container.styles.overflowX!==0){var o=o2(this.curves),i=i2(this.curves);J3(o,i)?this.effects.push(new E1(o,6)):(this.effects.push(new E1(o,2)),this.effects.push(new E1(i,4)))}}return e.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,a=this.effects.slice(0);r;){var s=r.effects.filter(function(c){return!kM(c)});if(n||r.container.styles.position!==0||!r.parent){if(a.unshift.apply(a,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=o2(r.curves),i=i2(r.curves);J3(o,i)||a.unshift(new E1(i,6))}}else a.unshift.apply(a,s);r=r.parent}return a.filter(function(c){return Ha(c.target,t)})},e})(),IE=function(e,t,n,r){e.container.elements.forEach(function(a){var s=Ha(a.flags,4),o=Ha(a.flags,2),i=new TM(a,e);Ha(a.styles.display,2048)&&r.push(i);var c=Ha(a.flags,8)?[]:r;if(s||o){var A=s||a.styles.isPositioned()?n:t,u=new IM(i);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var m=0;A.negativeZIndex.some(function(h,y){return f>h.element.container.styles.zIndex.order?(m=y,!1):m>0}),A.negativeZIndex.splice(m,0,u)}else if(f>0){var v=0;A.positiveZIndex.some(function(h,y){return f>=h.element.container.styles.zIndex.order?(v=y+1,!1):v>0}),A.positiveZIndex.splice(v,0,u)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?A.nonPositionedFloats.push(u):A.nonPositionedInlineLevel.push(u);IE(i,u,s?u:n,c)}else a.styles.isInlineLevel()?t.inlineLevel.push(i):t.nonInlineLevel.push(i),IE(i,t,n,c);Ha(a.flags,8)&&FM(a,c)})},FM=function(e,t){for(var n=e instanceof CE?e.start:1,r=e instanceof CE?e.reversed:!1,a=0;a<t.length;a++){var s=t[a];s.container instanceof mM&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=Fv(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},mge=function(e){var t=new TM(e,null),n=new IM(t),r=[];return IE(t,n,n,r),FM(t.container,r),n},q3=function(e,t){switch(t){case 0:return _i(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return _i(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return _i(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return _i(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},hge=function(e,t){switch(t){case 0:return _i(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return _i(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return _i(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return _i(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},vge=function(e,t){switch(t){case 0:return _i(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return _i(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return _i(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return _i(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},pge=function(e,t){switch(t){case 0:return B1(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return B1(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return B1(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return B1(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},B1=function(e,t){var n=[];return pi(e)?n.push(e.subdivide(.5,!1)):n.push(e),pi(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},_i=function(e,t,n,r){var a=[];return pi(e)?a.push(e.subdivide(.5,!1)):a.push(e),pi(n)?a.push(n.subdivide(.5,!0)):a.push(n),pi(r)?a.push(r.subdivide(.5,!0).reverse()):a.push(r),pi(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},PM=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},l2=function(e){var t=e.styles,n=e.bounds,r=Kr(t.paddingLeft,n.width),a=Kr(t.paddingRight,n.width),s=Kr(t.paddingTop,n.width),o=Kr(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+a),-(t.borderTopWidth+t.borderBottomWidth+s+o))},gge=function(e,t){return e===0?t.bounds:e===2?l2(t):PM(t)},yge=function(e,t){return e===0?t.bounds:e===2?l2(t):PM(t)},Fx=function(e,t,n){var r=gge(Hf(e.styles.backgroundOrigin,t),e),a=yge(Hf(e.styles.backgroundClip,t),e),s=wge(Hf(e.styles.backgroundSize,t),n,r),o=s[0],i=s[1],c=b0(Hf(e.styles.backgroundPosition,t),r.width-o,r.height-i),A=_ge(Hf(e.styles.backgroundRepeat,t),c,s,r,a),u=Math.round(r.left+c[0]),f=Math.round(r.top+c[1]);return[A,u,f,o,i]},Uf=function(e){return Pr(e)&&e.value===um.AUTO},S1=function(e){return typeof e=="number"},wge=function(e,t,n){var r=t[0],a=t[1],s=t[2],o=e[0],i=e[1];if(!o)return[0,0];if(Pa(o)&&i&&Pa(i))return[Kr(o,n.width),Kr(i,n.height)];var c=S1(s);if(Pr(o)&&(o.value===um.CONTAIN||o.value===um.COVER)){if(S1(s)){var A=n.width/n.height;return A<s!=(o.value===um.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var u=S1(r),f=S1(a),m=u||f;if(Uf(o)&&(!i||Uf(i))){if(u&&f)return[r,a];if(!c&&!m)return[n.width,n.height];if(m&&c){var v=u?r:a*s,h=f?a:r/s;return[v,h]}var y=u?r:n.width,w=f?a:n.height;return[y,w]}if(c){var b=0,B=0;return Pa(o)?b=Kr(o,n.width):Pa(i)&&(B=Kr(i,n.height)),Uf(o)?b=B*s:(!i||Uf(i))&&(B=b/s),[b,B]}var S=null,T=null;if(Pa(o)?S=Kr(o,n.width):i&&Pa(i)&&(T=Kr(i,n.height)),S!==null&&(!i||Uf(i))&&(T=u&&f?S/r*a:n.height),T!==null&&Uf(o)&&(S=u&&f?T/a*r:n.width),S!==null&&T!==null)return[S,T];throw new Error("Unable to calculate background-size for element")},Hf=function(e,t){var n=e[t];return typeof n>"u"?e[0]:n},_ge=function(e,t,n,r,a){var s=t[0],o=t[1],i=n[0],c=n[1];switch(e){case 2:return[new nn(Math.round(r.left),Math.round(r.top+o)),new nn(Math.round(r.left+r.width),Math.round(r.top+o)),new nn(Math.round(r.left+r.width),Math.round(c+r.top+o)),new nn(Math.round(r.left),Math.round(c+r.top+o))];case 3:return[new nn(Math.round(r.left+s),Math.round(r.top)),new nn(Math.round(r.left+s+i),Math.round(r.top)),new nn(Math.round(r.left+s+i),Math.round(r.height+r.top)),new nn(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new nn(Math.round(r.left+s),Math.round(r.top+o)),new nn(Math.round(r.left+s+i),Math.round(r.top+o)),new nn(Math.round(r.left+s+i),Math.round(r.top+o+c)),new nn(Math.round(r.left+s),Math.round(r.top+o+c))];default:return[new nn(Math.round(a.left),Math.round(a.top)),new nn(Math.round(a.left+a.width),Math.round(a.top)),new nn(Math.round(a.left+a.width),Math.round(a.height+a.top)),new nn(Math.round(a.left),Math.round(a.height+a.top))]}},bge="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Y3="Hidden Text",xge=(function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,n){var r=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),a.src=bge,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Y3)),r.appendChild(s),r.appendChild(a);var i=a.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(Y3)),r.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:i,middle:c}},e.prototype.getMetrics=function(t,n){var r=t+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,n)),this._data[r]},e})(),DM=(function(){function e(t,n){this.context=t,this.options=n}return e})(),Cge=1e4,Ege=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a._activeEffects=[],a.canvas=r.canvas?r.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),r.canvas||(a.canvas.width=Math.floor(r.width*r.scale),a.canvas.height=Math.floor(r.height*r.scale),a.canvas.style.width=r.width+"px",a.canvas.style.height=r.height+"px"),a.fontMetrics=new xge(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-r.x,-r.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),a}return t.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(a){return r.applyEffect(a)})},t.prototype.applyEffect=function(n){this.ctx.save(),Age(n)&&(this.ctx.globalAlpha=n.opacity),dge(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),kM(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return no(this,void 0,void 0,function(){var r;return Es(this,function(a){switch(a.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return no(this,void 0,void 0,function(){return Es(this,function(r){switch(r.label){case 0:if(Ha(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,r,a){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+a);else{var o=hk(n.text);o.reduce(function(i,c){return s.ctx.fillText(c,i,n.bounds.top+a),i+s.ctx.measureText(c).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=Tge(n.fontFamily).join(", "),s=Cp(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,a].join(" "),a,s]},t.prototype.renderTextNode=function(n,r){return no(this,void 0,void 0,function(){var a,s,o,i,c,A,u,f,m=this;return Es(this,function(v){return a=this.createFontStyle(r),s=a[0],o=a[1],i=a[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,i),A=c.baseline,u=c.middle,f=r.paintOrder,n.textBounds.forEach(function(h){f.forEach(function(y){switch(y){case 0:m.ctx.fillStyle=Ya(r.color),m.renderTextWithLetterSpacing(h,r.letterSpacing,A);var w=r.textShadow;w.length&&h.text.trim().length&&(w.slice(0).reverse().forEach(function(b){m.ctx.shadowColor=Ya(b.color),m.ctx.shadowOffsetX=b.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=b.offsetY.number*m.options.scale,m.ctx.shadowBlur=b.blur.number,m.renderTextWithLetterSpacing(h,r.letterSpacing,A)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),r.textDecorationLine.length&&(m.ctx.fillStyle=Ya(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(b){switch(b){case 1:m.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top+A),h.bounds.width,1);break;case 2:m.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top),h.bounds.width,1);break;case 3:m.ctx.fillRect(h.bounds.left,Math.ceil(h.bounds.top+u),h.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&h.text.trim().length&&(m.ctx.strokeStyle=Ya(r.webkitTextStrokeColor),m.ctx.lineWidth=r.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(h.text,h.bounds.left,h.bounds.top+A)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,r,a){if(a&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=l2(n),o=i2(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return no(this,void 0,void 0,function(){var r,a,s,o,i,c,B,B,A,u,f,m,T,v,h,N,y,w,b,B,S,T,N;return Es(this,function(k){switch(k.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,a=n.curves,s=r.styles,o=0,i=r.textNodes,k.label=1;case 1:return o<i.length?(c=i[o],[4,this.renderTextNode(c,s)]):[3,4];case 2:k.sent(),k.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof dM))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return B=k.sent(),this.renderReplacedElement(r,a,B),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof AM&&this.renderReplacedElement(r,a,r.canvas),!(r instanceof fM))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return B=k.sent(),this.renderReplacedElement(r,a,B),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof pM&&r.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,A.render(r.tree)]):[3,14];case 13:u=k.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),k.label=14;case 14:if(r instanceof vk&&(f=Math.min(r.bounds.width,r.bounds.height),r.type===n2?r.checked&&(this.ctx.save(),this.path([new nn(r.bounds.left+f*.39363,r.bounds.top+f*.79),new nn(r.bounds.left+f*.16,r.bounds.top+f*.5549),new nn(r.bounds.left+f*.27347,r.bounds.top+f*.44071),new nn(r.bounds.left+f*.39694,r.bounds.top+f*.5649),new nn(r.bounds.left+f*.72983,r.bounds.top+f*.23),new nn(r.bounds.left+f*.84,r.bounds.top+f*.34085),new nn(r.bounds.left+f*.39363,r.bounds.top+f*.79)]),this.ctx.fillStyle=Ya(V3),this.ctx.fill(),this.ctx.restore()):r.type===r2&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+f/2,r.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ya(V3),this.ctx.fill(),this.ctx.restore())),Bge(r)&&r.value.length){switch(m=this.createFontStyle(s),T=m[0],v=m[1],h=this.fontMetrics.getMetrics(T,v).baseline,this.ctx.font=T,this.ctx.fillStyle=Ya(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=kge(r.styles.textAlign),N=l2(r),y=0,r.styles.textAlign){case 1:y+=N.width/2;break;case 2:y+=N.width;break}w=N.add(y,0,0,-N.height/2+1),this.ctx.save(),this.path([new nn(N.left,N.top),new nn(N.left+N.width,N.top),new nn(N.left+N.width,N.top+N.height),new nn(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new z0(r.value,w),s.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ha(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(b=r.styles.listStyleImage,b.type!==0)return[3,18];B=void 0,S=b.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return B=k.sent(),this.ctx.drawImage(B,r.bounds.left-(B.width+10),r.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(T=this.createFontStyle(s)[0],this.ctx.font=T,this.ctx.fillStyle=Ya(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new Yc(r.bounds.left,r.bounds.top+Kr(r.styles.paddingTop,r.bounds.width),r.bounds.width,_3(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new z0(n.listValue,N),s.letterSpacing,_3(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return no(this,void 0,void 0,function(){var r,a,b,s,o,b,i,c,b,A,u,b,f,m,b,v,h,b,y,w,b;return Es(this,function(B){switch(B.label){case 0:if(Ha(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:B.sent(),r=0,a=n.negativeZIndex,B.label=2;case 2:return r<a.length?(b=a[r],[4,this.renderStack(b)]):[3,5];case 3:B.sent(),B.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:B.sent(),s=0,o=n.nonInlineLevel,B.label=7;case 7:return s<o.length?(b=o[s],[4,this.renderNode(b)]):[3,10];case 8:B.sent(),B.label=9;case 9:return s++,[3,7];case 10:i=0,c=n.nonPositionedFloats,B.label=11;case 11:return i<c.length?(b=c[i],[4,this.renderStack(b)]):[3,14];case 12:B.sent(),B.label=13;case 13:return i++,[3,11];case 14:A=0,u=n.nonPositionedInlineLevel,B.label=15;case 15:return A<u.length?(b=u[A],[4,this.renderStack(b)]):[3,18];case 16:B.sent(),B.label=17;case 17:return A++,[3,15];case 18:f=0,m=n.inlineLevel,B.label=19;case 19:return f<m.length?(b=m[f],[4,this.renderNode(b)]):[3,22];case 20:B.sent(),B.label=21;case 21:return f++,[3,19];case 22:v=0,h=n.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return v<h.length?(b=h[v],[4,this.renderStack(b)]):[3,26];case 24:B.sent(),B.label=25;case 25:return v++,[3,23];case 26:y=0,w=n.positiveZIndex,B.label=27;case 27:return y<w.length?(b=w[y],[4,this.renderStack(b)]):[3,30];case 28:B.sent(),B.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var r=this;n.forEach(function(a,s){var o=pi(a)?a.start:a;s===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),pi(a)&&r.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(n,r,a,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},t.prototype.resizeImage=function(n,r,a){var s;if(n.width===r&&n.height===a)return n;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,i=o.createElement("canvas");i.width=Math.max(1,r),i.height=Math.max(1,a);var c=i.getContext("2d");return c.drawImage(n,0,0,n.width,n.height,0,0,r,a),i},t.prototype.renderBackgroundImage=function(n){return no(this,void 0,void 0,function(){var r,a,s,o,i,c;return Es(this,function(A){switch(A.label){case 0:r=n.styles.backgroundImage.length-1,a=function(u){var f,m,v,F,O,W,M,te,_,h,F,O,W,M,te,y,w,b,B,S,T,N,k,E,_,C,F,I,R,M,te,se,O,W,le,K,ee,j,U,G,ne,X;return Es(this,function(oe){switch(oe.label){case 0:if(u.type!==0)return[3,5];f=void 0,m=u.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,s.context.cache.match(m)];case 2:return f=oe.sent(),[3,4];case 3:return oe.sent(),s.context.logger.error("Error loading background-image "+m),[3,4];case 4:return f&&(v=Fx(n,r,[f.width,f.height,f.width/f.height]),F=v[0],O=v[1],W=v[2],M=v[3],te=v[4],_=s.ctx.createPattern(s.resizeImage(f,M,te),"repeat"),s.renderRepeat(F,_,O,W)),[3,6];case 5:d0e(u)?(h=Fx(n,r,[null,null,null]),F=h[0],O=h[1],W=h[2],M=h[3],te=h[4],y=o0e(u.angle,M,te),w=y[0],b=y[1],B=y[2],S=y[3],T=y[4],N=document.createElement("canvas"),N.width=M,N.height=te,k=N.getContext("2d"),E=k.createLinearGradient(b,S,B,T),y3(u.stops,w).forEach(function(q){return E.addColorStop(q.stop,Ya(q.color))}),k.fillStyle=E,k.fillRect(0,0,M,te),M>0&&te>0&&(_=s.ctx.createPattern(N,"repeat"),s.renderRepeat(F,_,O,W))):A0e(u)&&(C=Fx(n,r,[null,null,null]),F=C[0],I=C[1],R=C[2],M=C[3],te=C[4],se=u.position.length===0?[Ak]:u.position,O=Kr(se[0],M),W=Kr(se[se.length-1],te),le=i0e(u,O,W,M,te),K=le[0],ee=le[1],K>0&&ee>0&&(j=s.ctx.createRadialGradient(I+O,R+W,0,I+O,R+W,K),y3(u.stops,K*2).forEach(function(q){return j.addColorStop(q.stop,Ya(q.color))}),s.path(F),s.ctx.fillStyle=j,K!==ee?(U=n.bounds.left+.5*n.bounds.width,G=n.bounds.top+.5*n.bounds.height,ne=ee/K,X=1/ne,s.ctx.save(),s.ctx.translate(U,G),s.ctx.transform(1,0,0,ne,0,0),s.ctx.translate(-U,-G),s.ctx.fillRect(I,X*(R-G)+G,M,te*X),s.ctx.restore()):s.ctx.fill())),oe.label=6;case 6:return r--,[2]}})},s=this,o=0,i=n.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<i.length?(c=i[o],[5,a(c)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,r,a){return no(this,void 0,void 0,function(){return Es(this,function(s){return this.path(q3(a,r)),this.ctx.fillStyle=Ya(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,r,a,s){return no(this,void 0,void 0,function(){var o,i;return Es(this,function(c){switch(c.label){case 0:return r<3?[4,this.renderSolidBorder(n,a,s)]:[3,2];case 1:return c.sent(),[2];case 2:return o=hge(s,a),this.path(o),this.ctx.fillStyle=Ya(n),this.ctx.fill(),i=vge(s,a),this.path(i),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return no(this,void 0,void 0,function(){var r,a,s,o,i,c,A,u,f=this;return Es(this,function(m){switch(m.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,a=!qu(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=Sge(Hf(r.backgroundClip,0),n.curves),a||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),qu(r.backgroundColor)||(this.ctx.fillStyle=Ya(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(v){f.ctx.save();var h=o2(n.curves),y=v.inset?0:Cge,w=fge(h,-y+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(f.path(h),f.ctx.clip(),f.mask(w)):(f.mask(h),f.ctx.clip(),f.path(w)),f.ctx.shadowOffsetX=v.offsetX.number+y,f.ctx.shadowOffsetY=v.offsetY.number,f.ctx.shadowColor=Ya(v.color),f.ctx.shadowBlur=v.blur.number,f.ctx.fillStyle=v.inset?Ya(v.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),m.label=2;case 2:i=0,c=0,A=s,m.label=3;case 3:return c<A.length?(u=A[c],u.style!==0&&!qu(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,i,n.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,i,n.curves,3)];case 6:return m.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,i,n.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,i,n.curves)];case 10:m.sent(),m.label=11;case 11:i++,m.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,r,a,s,o){return no(this,void 0,void 0,function(){var i,c,A,u,f,m,v,h,y,w,b,B,S,T,N,k,N,k;return Es(this,function(E){return this.ctx.save(),i=pge(s,a),c=q3(s,a),o===2&&(this.path(c),this.ctx.clip()),pi(c[0])?(A=c[0].start.x,u=c[0].start.y):(A=c[0].x,u=c[0].y),pi(c[1])?(f=c[1].end.x,m=c[1].end.y):(f=c[1].x,m=c[1].y),a===0||a===2?v=Math.abs(A-f):v=Math.abs(u-m),this.ctx.beginPath(),o===3?this.formatPath(i):this.formatPath(c.slice(0,2)),h=r<3?r*3:r*2,y=r<3?r*2:r,o===3&&(h=r,y=r),w=!0,v<=h*2?w=!1:v<=h*2+y?(b=v/(2*h+y),h*=b,y*=b):(B=Math.floor((v+y)/(h+y)),S=(v-B*h)/(B-1),T=(v-(B+1)*h)/B,y=T<=0||Math.abs(y-S)<Math.abs(y-T)?S:T),w&&(o===3?this.ctx.setLineDash([0,h+y]):this.ctx.setLineDash([h,y])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ya(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(pi(c[0])&&(N=c[3],k=c[0],this.ctx.beginPath(),this.formatPath([new nn(N.end.x,N.end.y),new nn(k.start.x,k.start.y)]),this.ctx.stroke()),pi(c[1])&&(N=c[1],k=c[2],this.ctx.beginPath(),this.formatPath([new nn(N.end.x,N.end.y),new nn(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return no(this,void 0,void 0,function(){var r;return Es(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ya(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=mge(n),[4,this.renderStack(r)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(DM),Bge=function(e){return e instanceof vM||e instanceof hM?!0:e instanceof vk&&e.type!==r2&&e.type!==n2},Sge=function(e,t){switch(e){case 0:return o2(t);case 2:return lge(t);case 1:default:return i2(t)}},kge=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Ige=["-apple-system","system-ui"],Tge=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Ige.indexOf(t)===-1}):e},Fge=(function(e){pl(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.canvas=r.canvas?r.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=r,a.canvas.width=Math.floor(r.width*r.scale),a.canvas.height=Math.floor(r.height*r.scale),a.canvas.style.width=r.width+"px",a.canvas.style.height=r.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-r.x,-r.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),a}return t.prototype.render=function(n){return no(this,void 0,void 0,function(){var r,a;return Es(this,function(s){switch(s.label){case 0:return r=xE(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Pge(r)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ya(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(DM),Pge=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Dge=(function(){function e(t){var n=t.id,r=t.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,s1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,s1([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,s1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,s1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e})(),Uge=(function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Dge({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new ege(this,t)}return e.instanceCount=1,e})(),Rge=function(e,t){return t===void 0&&(t={}),Nge(e,t)};typeof window<"u"&&SM.setContext(window);var Nge=function(e,t){return no(void 0,void 0,void 0,function(){var n,r,a,s,o,i,c,A,u,f,m,v,h,y,w,b,B,S,T,N,E,k,E,_,C,F,I,R,M,te,se,O,W,le,K,ee,j,U,G,ne;return Es(this,function(X){switch(X.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=e.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return a={allowTaint:(_=t.allowTaint)!==null&&_!==void 0?_:!1,imageTimeout:(C=t.imageTimeout)!==null&&C!==void 0?C:15e3,proxy:t.proxy,useCORS:(F=t.useCORS)!==null&&F!==void 0?F:!1},s=lE({logging:(I=t.logging)!==null&&I!==void 0?I:!0,cache:t.cache},a),o={windowWidth:(R=t.windowWidth)!==null&&R!==void 0?R:r.innerWidth,windowHeight:(M=t.windowHeight)!==null&&M!==void 0?M:r.innerHeight,scrollX:(te=t.scrollX)!==null&&te!==void 0?te:r.pageXOffset,scrollY:(se=t.scrollY)!==null&&se!==void 0?se:r.pageYOffset},i=new Yc(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Uge(s,i),A=(O=t.foreignObjectRendering)!==null&&O!==void 0?O:!1,u={allowTaint:(W=t.allowTaint)!==null&&W!==void 0?W:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},c.logger.debug("Starting document clone with size "+i.width+"x"+i.height+" scrolled to "+-i.left+","+-i.top),f=new W3(c,e,u),m=f.clonedReferenceElement,m?[4,f.toIFrame(n,i)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=X.sent(),h=pk(m)||Lpe(m)?fme(m.ownerDocument):Iw(c,m),y=h.width,w=h.height,b=h.left,B=h.top,S=Lge(c,m,t.backgroundColor),T={canvas:t.canvas,backgroundColor:S,scale:(K=(le=t.scale)!==null&&le!==void 0?le:r.devicePixelRatio)!==null&&K!==void 0?K:1,x:((ee=t.x)!==null&&ee!==void 0?ee:0)+b,y:((j=t.y)!==null&&j!==void 0?j:0)+B,width:(U=t.width)!==null&&U!==void 0?U:Math.ceil(y),height:(G=t.height)!==null&&G!==void 0?G:Math.ceil(w)},A?(c.logger.debug("Document cloned, using foreign object rendering"),E=new Fge(c,T),[4,E.render(m)]):[3,3];case 2:return N=X.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+b+","+B+" with size "+y+"x"+w+" using computed rendering"),c.logger.debug("Starting DOM parsing"),k=yM(c,m),S===k.styles.backgroundColor&&(k.styles.backgroundColor=Qc.TRANSPARENT),c.logger.debug("Starting renderer for element at "+T.x+","+T.y+" with size "+T.width+"x"+T.height),E=new Ege(c,T),[4,E.render(k)];case 4:N=X.sent(),X.label=5;case 5:return(!((ne=t.removeContainer)!==null&&ne!==void 0)||ne)&&(W3.destroy(v)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},Lge=function(e,t,n){var r=t.ownerDocument,a=r.documentElement?K0(e,getComputedStyle(r.documentElement).backgroundColor):Qc.TRANSPARENT,s=r.body?K0(e,getComputedStyle(r.body).backgroundColor):Qc.TRANSPARENT,o=typeof n=="string"?K0(e,n):n===null?Qc.TRANSPARENT:4294967295;return t===r.documentElement?qu(a)?qu(s)?o:s:a:o};class Vge{constructor(){this.languagePatterns={gujarati:/[\u0A80-\u0AFF]/,devanagari:/[\u0900-\u097F]/,kannada:/[\u0C80-\u0CFF]/,malayalam:/[\u0D00-\u0D7F]/,telugu:/[\u0C00-\u0C7F]/,tamil:/[\u0B80-\u0BFF]/,english:/^[A-Za-z0-9\s.,;:!?\-'"()]+$/},this.languageFonts={gujarati:'"Noto Sans Gujarati", "Shruti", "Gujarati Sangam MN", sans-serif',hindi:'"Noto Sans Devanagari", "Mangal", "Devanagari Sangam MN", sans-serif',marathi:'"Noto Sans Devanagari", "Mangal", "Devanagari Sangam MN", sans-serif',devanagari:'"Noto Sans Devanagari", "Mangal", "Devanagari Sangam MN", sans-serif',kannada:'"Noto Sans Kannada", "Tunga", "Kannada Sangam MN", sans-serif',malayalam:'"Noto Sans Malayalam", "Kartika", "Malayalam Sangam MN", sans-serif',telugu:'"Noto Sans Telugu", "Gautami", "Telugu Sangam MN", sans-serif',tamil:'"Noto Sans Tamil", "Latha", "Tamil Sangam MN", sans-serif'}}detectLanguage(t){return!t||typeof t!="string"?null:this.languagePatterns.gujarati.test(t)?"gujarati":this.languagePatterns.kannada.test(t)?"kannada":this.languagePatterns.malayalam.test(t)?"malayalam":this.languagePatterns.telugu.test(t)?"telugu":this.languagePatterns.tamil.test(t)?"tamil":this.languagePatterns.devanagari.test(t)?"hindi":(this.languagePatterns.english.test(t),"english")}getFixedContainerDimensions(t){switch(t?.toLowerCase()){case"letter":case"legal":return{width:580,minHeight:45,fontSize:17};case"a4":default:return{width:520,minHeight:40,fontSize:16}}}getMaxWidthForPageSize(t){switch(t?.toLowerCase()){case"letter":return 530;case"legal":return 530;case"a4":default:return 480}}createHtmlTemplate(t,n,r={},a="A4"){const s=this.getFixedContainerDimensions(a),o=r.fontSize||s.fontSize,i=r.color||"#2d3748",c=this.languageFonts[n]||this.languageFonts.devanagari,A=r.lineHeight||1.4,u=r.textAlign||"left",f=r.padding||3;return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="UTF-8">
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Gujarati:wght@400;500&family=Noto+Sans+Devanagari:wght@400;500&family=Noto+Sans+Kannada:wght@400;500&family=Noto+Sans+Malayalam:wght@400;500&family=Noto+Sans+Telugu:wght@400;500&family=Noto+Sans+Tamil:wght@400;500&display=swap" rel="stylesheet">
        <style>
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: ${c};
            font-size: ${o}px;
            color: ${i};
            line-height: ${A};
            text-align: ${u};
            background: white;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
            padding: ${f}px;
            width: ${s.width}px; /* Fixed width for consistency */
            min-height: ${s.minHeight}px; /* Minimum height for consistency */
            /* Remove fixed height and overflow hidden to allow dynamic content */
            display: flex;
            align-items: flex-start; /* Align content to top instead of center */
          }
          
          .text-content {
            word-wrap: break-word;
            overflow-wrap: break-word;
            width: 100%;
            /* Remove text-overflow ellipsis to show all content */
          }
        </style>
      </head>
      <body>
        <div class="text-content">${t.replace(/\n/g,"<br>")}</div>
      </body>
      </html>
    `}async renderTextAsImage(t,n,r={},a="A4"){return new Promise((s,o)=>{try{const i=document.createElement("iframe");i.style.cssText=`
          position: absolute;
          top: -10000px;
          left: -10000px;
          width: 800px;
          height: 600px;
          border: none;
          visibility: hidden;
        `,document.body.appendChild(i);const c=i.contentDocument||i.contentWindow.document,A=this.createHtmlTemplate(t,n,r,a);c.open(),c.write(A),c.close(),this.waitForFontsToLoad(c).then(()=>{try{const u=this.getFixedContainerDimensions(a),f=c.body,m=u.width,h=Math.max(f.offsetHeight,u.minHeight),y=r.scale||2;Rge(c.body,{width:m,height:h,scale:y,useCORS:!0,allowTaint:!1,backgroundColor:"white"}).then(w=>{const b=w.toDataURL("image/png");document.body.removeChild(i),s(b)}).catch(w=>{console.error("Canvas rendering failed:",w),document.body.removeChild(i),s(null)})}catch(u){console.error("Text rendering failed:",u),document.body.removeChild(i),s(null)}})}catch(i){console.error("Error in renderTextAsImage:",i),o(i)}})}waitForFontsToLoad(t){return new Promise(n=>{t.fonts&&t.fonts.ready?t.fonts.ready.then(()=>{setTimeout(n,100)}):setTimeout(n,500)})}async processTextForPdf(t,n={},r="A4",a=!1){if(!t)return{content:{text:"",style:n},success:!0,isRegional:!1};const s=this.detectLanguage(t);if(a||!["gujarati","hindi","marathi","kannada","malayalam","telugu","tamil"].includes(s))return{content:{text:t,style:n},success:!0,isRegional:!1};try{const o=await this.renderTextAsImage(t,s,{fontSize:n.fontSize||8,color:n.color||"#2d3748",lineHeight:n.lineHeight||1.4},r);return o?{content:{image:o,margin:n.margin||[0,0,0,0]},success:!0,isRegional:!0}:{content:{text:t,style:n},success:!1,isRegional:!1,error:"Regional text rendering failed"}}catch(o){return console.error("Regional text processing failed:",o),{content:{text:t,style:n},success:!1,isRegional:!1,error:o.message}}}}const Px=async e=>{try{const n=await(await fetch(e)).blob();return new Promise((r,a)=>{const s=new FileReader;s.readAsDataURL(n),s.onload=()=>r(s.result),s.onerror=o=>a(o)})}catch(t){throw console.error("Error converting URL to base64:",t),t}},Mw=async e=>{try{return{data:(await Bt.get(`/print/${e}`)).data.data.config,error:null}}catch(t){return t?.response?.status===404?(console.log("No print configurations found for doctor ID:",e,"- this is normal for new users"),{data:null,error:null,isNewUser:!0}):(console.error("Error fetching print details:",t),{data:null,error:t,isNewUser:!1})}},so=typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),dy=async(e,t=null)=>{if(t){const{createFileURL:a}=await Ca(async()=>{const{createFileURL:o}=await Promise.resolve().then(()=>aU);return{createFileURL:o}},void 0),s=`doctorHeaderImages/${t}`;return await a(s,"/api/print/header-image-file")}const{getCurrentServerURL:n}=await Ca(async()=>{const{getCurrentServerURL:a}=await Promise.resolve().then(()=>aU);return{getCurrentServerURL:a}},void 0);return`${await n()}/api/print/${e}/header-image`},Mge=Object.freeze(Object.defineProperty({__proto__:null,fetchPrintConfigs:Mw,getPrescriptionHeaderImageUrl:dy,isMobile:so},Symbol.toStringTag,{value:"Module"}));let ao;const s0=async()=>{if(!ao)try{const[e,t]=await Promise.all([Ca(()=>import("./pdfmake-DmV0_7um.js").then(r=>r.p),[]),Ca(()=>import("./vfs_fonts-CRXR-6vA.js").then(r=>r.v),[])]);ao=e.default||e;const n=t.default||t;n.pdfMake&&n.pdfMake.vfs?ao.vfs=n.pdfMake.vfs:n.vfs?ao.vfs=n.vfs:(typeof n=="object"&&n["Roboto-Regular.ttf"],ao.vfs=n),console.log("PDFMake initialized successfully with VFS fonts")}catch(e){throw console.error("Failed to initialize PDFMake:",e),new Error("PDFMake initialization failed")}};class Oge{constructor(){this.regionalTextRenderer=new Vge,this.styles={clinicHeader:{fontSize:24,color:"#1a472a",alignment:"center",margin:[0,0,0,5]},doctorName:{fontSize:20,color:"#2d5aa0",margin:[0,0,0,3]},doctorCredentials:{fontSize:14,color:"#4a5568",margin:[0,0,0,2]},registrationInfo:{fontSize:12,color:"#718096",margin:[0,0,0,8]},prescriptionHeader:{fontSize:28,color:"#1a202c",alignment:"center",margin:[0,0,0,25]},patientSectionTitle:{fontSize:12,color:"#2d5aa0",margin:[12,3,12,3],padding:[8,4,8,4],alignment:"left"},patientLabel:{fontSize:11,color:"#4a5568"},patientValue:{fontSize:12,color:"#1a202c",margin:[0,2,0,0]},patientInlineInfo:{fontSize:11,color:"#4a5568",lineHeight:1.3,margin:[0,0,0,0]},medicalSectionTitle:{fontSize:12,color:"#2d5aa0",margin:[12,3,12,3],padding:[8,4,8,4],alignment:"left"},vitalLabel:{fontSize:12,color:"#2b6cb0"},vitalValue:{fontSize:12,color:"#1a202c",margin:[0,1,0,2]},diagnosisText:{fontSize:12,color:"#2d3748",lineHeight:1.2,margin:[0,0,0,0]},clinicalNotesText:{fontSize:12,color:"#2d3748",lineHeight:1.2,margin:[0,0,0,0]},prescriptionTableHeader:{fontSize:11,color:"#2d3748",margin:[8,8,8,8]},medicineNumber:{fontSize:18,color:"#2b6cb0",margin:[5,5,5,5]},cleanMedicineName:{fontSize:12,color:"#1a202c",margin:[0,0,0,4]},saltComposition:{fontSize:11,color:"#1a202c",margin:[0,0,0,4]},cleanMedicineDetails:{fontSize:12,color:"#4a5568",margin:[0,0,0,0]},cleanFieldLabel:{fontSize:12,color:"#2b6cb0",margin:[0,0,0,2]},cleanFieldValue:{fontSize:11,color:"#2d3748",margin:[0,0,0,0]},dosageInstructionsTitle:{fontSize:12,color:"#4a5568",margin:[0,3,0,5]},cleanDosageItem:{fontSize:12,color:"#2d3748",margin:[0,3,0,3],lineHeight:1.3},medicineName:{fontSize:14,color:"#1a202c",margin:[0,2,0,2]},medicineStrength:{fontSize:12,color:"#2b6cb0",margin:[0,1,0,2]},medicineComposition:{fontSize:10,color:"#718096",margin:[0,0,0,5]},dosageInstruction:{fontSize:11,color:"#2d3748",margin:[3,2,3,2],border:[!0,!0,!0,!0],borderColor:["#e2e8f0","#e2e8f0","#e2e8f0","#e2e8f0"],padding:[4,2,4,2]},durationText:{fontSize:9,color:"#c53030",alignment:"center",margin:[3,4,3,4],fillColor:"#fed7d7",border:[!0,!0,!0,!0],borderColor:["#fc8181","#fc8181","#fc8181","#fc8181"],borderWidth:[1,1,1,1]},instructionsText:{fontSize:11,color:"#4a5568",margin:[5,5,5,5]},medicalAdviceTitle:{fontSize:12,color:"#2d5aa0",margin:[12,3,12,3],padding:[8,4,8,4],alignment:"left"},adviceText:{fontSize:12,color:"#2d3748",lineHeight:1.2,margin:[0,0,0,0]},followupTitle:{fontSize:12,color:"#4a5568",margin:[0,3,0,3]},followupText:{fontSize:12,color:"#4a5568",margin:[0,2,0,0]},translationTitle:{fontSize:12,color:"#4a5568",margin:[15,5,15,3]},translatedText:{fontSize:12,color:"#4a5568",lineHeight:1.3,margin:[15,0,15,8]},medicalFooter:{fontSize:9,color:"#718096",alignment:"center",margin:[0,10,0,0]},disclaimer:{fontSize:9,color:"#6b7280",alignment:"center",lineHeight:1.3,margin:[0,3,0,3]},receiptTitle:{fontSize:20,color:"#2d5aa0",alignment:"center",margin:[0,5,0,10]},sectionHeader:{fontSize:12,color:"#2d5aa0",margin:[0,5,0,5],bold:!0},patientInfo:{fontSize:11,color:"#1a202c",margin:[5,2,5,2]},receiptInfo:{fontSize:11,color:"#1a202c",margin:[5,2,5,2]},tableHeader:{fontSize:11,color:"#2d3748",bold:!0,margin:[5,5,5,5]},tableCell:{fontSize:10,color:"#1a202c",margin:[5,3,5,3]},summaryLabel:{fontSize:11,color:"#4a5568",margin:[5,2,5,2]},summaryValue:{fontSize:11,color:"#1a202c",margin:[5,2,5,2]},summaryLabelBold:{fontSize:12,color:"#2d3748",bold:!0,margin:[5,3,5,3]},summaryValueBold:{fontSize:12,color:"#1a202c",bold:!0,margin:[5,3,5,3]},summaryValuePaid:{fontSize:11,color:"#1a202c",margin:[5,2,5,2]},summaryValueDue:{fontSize:11,color:"#1a202c",margin:[5,2,5,2]},noDataText:{fontSize:11,color:"#6b7280",alignment:"center",margin:[0,10,0,10]}}}async processRegionalText(t,n={},r="A4",a=!1){return(await this.regionalTextRenderer.processTextForPdf(t,n,r,a)).content}getRegionalImageWidth(t){switch(t?.toLowerCase()){case"letter":case"legal":return 460;case"a4":default:return 450}}async applyLanguageFont(t,n={},r="A4",a=!1){const s=this.regionalTextRenderer.detectLanguage(t);if(["gujarati","hindi","marathi","kannada","malayalam","telugu","tamil"].includes(s)&&!a){const o=this.regionalTextRenderer.getFixedContainerDimensions(r),i=this.getRegionalImageWidth(r);return{image:await this.regionalTextRenderer.renderTextAsImage(t,s,{fontSize:o.fontSize,color:n.color||"#2d3748",fontFamily:s==="gujarati"?"Noto Sans Gujarati":s==="kannada"?"Noto Sans Kannada":s==="malayalam"?"Noto Sans Malayalam":s==="telugu"?"Noto Sans Telugu":s==="tamil"?"Noto Sans Tamil":"Noto Sans Devanagari",padding:5},r),width:i,margin:[0,2,15,2],alignment:n.alignment||"left"}}return{text:t,...n}}async generateConsultationPDF(t,n){ao||await s0();let r=null;if(t.printConfigurations?.headerImagePath&&t.printConfigurations?.doctorId)try{const o=await dy(t.printConfigurations.doctorId,t.printConfigurations.headerImagePath);r=await Px(o)}catch(o){console.error("Failed to load header image for PDF:",o)}let a=null;t.printConfigurations?.headerSize!==void 0&&t.printConfigurations?.headerSize!==null?a=Math.round(t.printConfigurations.headerSize*72):t.headerSize!==void 0&&(a=t.headerSize);const s={pageSize:this.getPageSize(t.printConfigurations?.pageSize),pageMargins:this.getPageMargins(t.printConfigurations?.pageSize,a),defaultStyle:{fontSize:10,columnGap:20},header:()=>t.printConfigurations?.useHeader?this.createProfessionalMedicalHeader(t.printConfigurations,t.printConfigurations?.pageSize,r,a):null,footer:(o,i)=>t.printConfigurations?.useFooter?this.createMedicalFooter(o,i,t.printConfigurations):null,content:[this.createProfessionalPatientCard(n,t.consultation),...this.hasVitals(t.vitals)?[this.createProfessionalVitalsCard(t.vitals)]:[],await this.createClinicalFindingsSection(t.consultation,t.printConfigurations?.pageSize),await this.createProfessionalPrescriptionSection(t.medicines||[],t.translationLanguage,t.printConfigurations?.pageSize,t.translationFailed),await this.createMedicalAdviceSection(t.consultation,t.translatedPatientNotes,t.printConfigurations?.pageSize,t.translationFailed)],styles:this.styles,pageBreakBefore:function(o,i,c){return o.style==="prescriptionTableHeader"&&o.pageNumbers.length>1?!0:(i&&i.length===0&&c&&c.length<2,!1)},info:{title:"Medical Prescription",author:"Professional Medical System",subject:"Patient Prescription and Medical Advice"},compress:!1};return ao.createPdf(s)}createProfessionalMedicalHeader(t,n="A4",r=null,a=null){const s=this.getHeaderMargins(n,a),i=this.getPageWidth(n)-(s[0]+s[2]);return r?{table:{headerRows:0,widths:["*"],body:[[{stack:[{image:r,width:i,height:80,alignment:"center",margin:[0,0,0,0]},{canvas:[{type:"line",x1:0,y1:4,x2:500,y2:4,lineWidth:2,lineColor:"#2b6cb0"},{type:"line",x1:0,y1:8,x2:500,y2:8,lineWidth:1,lineColor:"#4a5568"}],margin:[0,10,0,0],alignment:"center"}],margin:[0,0,0,0]}]]},layout:"noBorders",margin:[s[0],s[1],s[2],s[3]]}:{table:{headerRows:0,widths:["*"],body:[[{stack:[{columns:[{width:"40%",stack:[{text:`Dr. ${t.doctorName}`,style:"doctorName"},{text:t.doctorDegrees||"MBBS",style:"doctorCredentials"},{text:`Reg. No: ${t.doctorRegistrationNumber}`,style:"registrationInfo"}]},{width:"60%",stack:[...t.clinicAddress?[{stack:t.clinicAddress.split(/\r?\n|\r/).map(c=>({text:c.trim(),fontSize:10,color:"#4a5568",alignment:"right",margin:[0,1,0,1]})),margin:[0,5,0,2]}]:[],...t.contactNumber?[{text:` ${t.contactNumber}`,fontSize:10,color:"#4a5568",alignment:"right"}]:[],...t.email?[{text:`Email: ${t.email}`,fontSize:10,color:"#4a5568",alignment:"right"}]:[]]}]},{canvas:[{type:"line",x1:0,y1:4,x2:500,y2:4,lineWidth:2,lineColor:"#2b6cb0"},{type:"line",x1:0,y1:8,x2:500,y2:8,lineWidth:1,lineColor:"#4a5568"}],margin:[0,10,0,0],alignment:"center"}],margin:s}]]},layout:"noBorders",margin:[0,0,0,20]}}createProfessionalPatientCard(t,n){const r=[`Patient Name - ${t.name||t.patientName||"N/A"}`,`${t.age||"N/A"} yrs/${t.gender||"N/A"}`,`ID - ${t.id||t.patientId||"N/A"}`,`Contact - ${t.contactNumber||t.phoneNumber||"N/A"}`].join(" | ");return{table:{headerRows:0,widths:["*","auto"],body:[[{text:r,style:"patientInlineInfo",margin:[6,3,15,3]},{text:(s=>{const o=new Date(s),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][o.getMonth()],A=o.getDate(),u=o.getFullYear().toString().slice(-2);return`${A} ${c}' ${u}`})(n.consultationDate||n.createdAt),fontSize:11,color:"#4a5568",lineHeight:1.3,alignment:"right",margin:[15,3,12,3]}]]},layout:"noBorders",margin:[0,0,0,3],alignment:"left"}}createProfessionalVitalsCard(t){const n=[];if(t.pulse&&n.push(`Pulse Rate: ${t.pulse}bpm`),t.systolicBP&&t.diastolicBP&&n.push(`Blood Pressure: ${t.systolicBP}/${t.diastolicBP}mmHg`),t.temperature&&n.push(`Temperature: ${t.temperature}C`),t.respiratoryRate&&n.push(`Respiratory Rate: ${t.respiratoryRate}/min`),t.weight&&n.push(`Weight: ${t.weight}kg`),t.height){const r=t.weight&&t.height?(t.weight/(t.height/100*(t.height/100))).toFixed(1):null;n.push(`Height: ${t.height}cm${r?` (BMI: ${r})`:""}`)}return{table:{headerRows:0,widths:["*"],body:[[{text:[{text:"VITAL SIGNS: ",style:"patientSectionTitle"},{text:n.join(", "),style:"vitalValue"}],margin:[6,3,15,5]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,5],alignment:"left"}}async createClinicalFindingsSection(t,n="A4"){const r=[];if(t.diagnosis){const a=await this.applyLanguageFont(t.diagnosis,{style:"diagnosisText",margin:[0,0,0,0]},n,!1);r.push([{text:[{text:"DIAGNOSIS: ",style:"medicalAdviceTitle"},a.text?a:{text:t.diagnosis,style:"diagnosisText"}],margin:[6,3,15,1]}])}if(t.clinicalNotes?.trim()){const a=await this.applyLanguageFont(t.clinicalNotes,{style:"clinicalNotesText",margin:[0,0,0,0]},n,!1);r.push([{text:[{text:"CLINICAL NOTES: ",style:"medicalAdviceTitle"},a.text?a:{text:t.clinicalNotes,style:"clinicalNotesText"}],margin:[6,0,15,3]}])}return r.length===0?[]:[{table:{headerRows:0,widths:["*"],body:r},layout:{hLineWidth:(a,s)=>a===0||a===s.table.body.length?1:0,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,5],alignment:"left"}]}async createProfessionalPrescriptionSection(t,n="none",r="A4",a=!1){const s=t.filter(i=>i.isSelected!==!1);if(s.length===0)return{text:""};const o=[];for(const i of s){const A=this.createSimpleDosageText(i)||"As directed",u=i.duration||"As directed",f=i.instructions||"";let m=`Schedule: ${A}   Duration: ${u}`;f.trim()&&(m+=`   ${f}`);let v=i.productName||"";if(i.productForm||i.quantityUnits!==null&&i.quantityUnits!==void 0){const y=[];i.productForm&&y.push(i.productForm),i.quantityUnits!==null&&i.quantityUnits!==void 0&&y.push(`Qty:${i.quantityUnits}`),v+=` (${y.join(",")})`}const h=i.saltComposition?` - ${i.saltComposition.toUpperCase()}`:"";if(o.push({text:[{text:v,style:"cleanMedicineName",bold:!0},{text:h,fontSize:10,color:"#1a202c"}],margin:[0,0,0,0]}),o.push({text:m,style:"cleanFieldValue",margin:[0,0,0,n&&n!=="none"?0:4]}),n&&n!=="none")try{const y=[];if(A&&A!=="As directed"&&y.push(A),u&&u!=="As directed"&&y.push(u),f.trim()&&y.push(f),y.length>0){const w=y.map(T=>this.translateMedicineText(T,n)),b=await Promise.all(w);let B="",S=0;if(A&&A!=="As directed"){const T=b[S];T&&T.trim()&&(B+=T),S++}if(u&&u!=="As directed"){const T=b[S];T&&T.trim()&&(B&&(B+="   "),B+=T),S++}if(f.trim()){const T=b[S];T&&T.trim()&&(B&&(B+="   "),B+=T)}if(B&&B.trim()&&!a){const T=await this.applyLanguageFont(B,{style:"translatedText"},r,!1);o.push({...T,margin:[-6,1,0,2]})}}}catch(y){console.error("Error translating medicine text:",y)}}return[{table:{headerRows:0,widths:["*"],body:[[{text:"PRESCRIPTION (Rx)",style:"medicalAdviceTitle",margin:[6,3,15,1]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,2],alignment:"left"},{table:{headerRows:0,widths:["*"],body:[[{stack:o,margin:[6,3,6,1]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,5],alignment:"left"}]}createSimpleDosageText(t){return t?.dosage_schedule||"As directed"}async translateMedicineText(t,n){if(!t||!n||n==="none")return"";try{const{translationLanguages:r}=await Ca(async()=>{const{translationLanguages:c}=await Promise.resolve().then(()=>TE);return{translationLanguages:c}},void 0),s=r.find(c=>c.value===n)?.label||n,{translateText:o}=await Ca(async()=>{const{translateText:c}=await import("./translationUtils-CFw90TCN.js");return{translateText:c}},[]);return await o(t,s)||t}catch(r){return console.error("Translation failed for medicine text:",r),t}}async createMedicalAdviceSection(t,n,r="A4",a=!1){const s=[];if(t.investigations?.trim()){const o=await this.applyLanguageFont(t.investigations,{style:"adviceText",margin:[0,0,0,0]},r,!1);s.push({stack:[{table:{headerRows:0,widths:["*"],body:[[{text:[{text:"INVESTIGATIONS ADVISED: ",style:"medicalAdviceTitle"},o.text?o:{text:t.investigations,style:"adviceText"}],margin:[6,3,15,1]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"}}],margin:[0,0,0,5],alignment:"left"})}if(t.followupDate){const o=i=>{const c=new Date(i),u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c.getMonth()],f=c.getDate(),m=c.getFullYear().toString().slice(-2);return`${f} ${u}' ${m}`};s.push({stack:[{table:{headerRows:0,widths:["*"],body:[[{text:[{text:"FOLLOW-UP APPOINTMENT: ",style:"medicalAdviceTitle"},{text:o(t.followupDate),style:"followupText"}],margin:[6,3,15,5]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"}}],margin:[0,0,0,8],alignment:"left"})}if(t.patientNotes?.trim()){const o=await this.applyLanguageFont(t.patientNotes,{style:"adviceText",margin:[0,0,0,0]},r,!1),c=[{text:[{text:"PATIENT ADVICE: ",style:"medicalAdviceTitle"},o.text?o:{text:t.patientNotes,style:"adviceText"}],margin:[0,0,0,0]}];if(n&&!a){const A=await this.applyLanguageFont(n,{style:"translatedText"},r,!1);c.push({...A,margin:[-6,2,0,0]})}s.push({stack:[{table:{headerRows:0,widths:["*"],body:[[{stack:c,margin:[6,3,15,1]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"}}],margin:[0,0,0,5],alignment:"left"})}return s}createMedicalDisclaimer(){return{stack:[{table:{headerRows:0,widths:["*"],body:[[{stack:[{text:" IMPORTANT MEDICAL NOTICE",style:"medicalAdviceTitle",alignment:"center"},{text:[` Take medications exactly as prescribed
`,` Do not stop medication without consulting your doctor
`,` Contact your doctor immediately if you experience any adverse reactions
`,` Keep all medications out of reach of children
`," This prescription is valid for 30 days from date of issue"].join(""),style:"disclaimer",margin:[15,5,15,10]}]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#fed7d7",vLineColor:()=>"#fed7d7",fillColor:()=>"#fffbf5"}}],unbreakable:!0,margin:[0,15,0,0],alignment:"left",pageBreakBefore:function(t,n,r,a){return 842-(a?a.length*30:0)<120&&n.length===0}}}createMedicalFooter(t,n,r){return{columns:[{width:"*",text:`Dr. ${r?.doctorName||"Doctor"} - Reg. No: ${r?.doctorRegistrationNumber||"REG001"} | This is a computer-generated prescription.`,style:"medicalFooter"},{width:"auto",text:`Page ${t} of ${n}`,style:"medicalFooter"}],margin:[40,5,40,5],alignment:"left"}}createReceiptFooter(t,n,r){return{columns:[{width:"*",text:`Dr. ${r?.doctorName||"Doctor"} - Reg. No: ${r?.doctorRegistrationNumber||"REG001"} | This is a computer-generated receipt.`,style:"medicalFooter"},{width:"auto",text:`Page ${t} of ${n}`,style:"medicalFooter"}],margin:[40,5,40,5],alignment:"left"}}createTreatmentPlanFooter(t,n,r){return{columns:[{width:"*",text:`Dr. ${r?.doctorName||"Doctor"} - Reg. No: ${r?.doctorRegistrationNumber||"REG001"} | Charges are indicative and do not include taxes if applicable`,style:"medicalFooter"},{width:"auto",text:`Page ${t} of ${n}`,style:"medicalFooter"}],margin:[40,5,40,5],alignment:"left"}}createPatientField(t,n){return{columns:[{width:"35%",text:t,style:"patientLabel"},{width:"*",text:n,style:"patientValue"}],margin:[0,0,0,1]}}createVitalField(t,n){return{text:`${t}: ${n}`,style:"vitalValue",margin:[8,3,8,3]}}createCleanDosageSchedule(t){return t?.dosage_schedule?[{text:t.dosage_schedule,style:"cleanDosageItem",alignment:"left",color:"#2d3748"}]:[{text:"Take as directed by your physician",style:"cleanDosageItem",alignment:"center",italics:!0,color:"#4a5568"}]}createDosageSchedule(t){return t?.dosage_schedule?[{text:t.dosage_schedule,style:"dosageInstruction",alignment:"left"}]:[{text:"Take as directed by physician",style:"dosageInstruction"}]}getBPStatus(t,n){return t>140||n>90?" High":t<90||n<60?" Low":" Normal"}async generateTreatmentPlanPDF(t,n){ao||await s0();let r=null;if(t.printConfigurations?.headerImagePath&&t.printConfigurations?.doctorId)try{const o=await dy(t.printConfigurations.doctorId,t.printConfigurations.headerImagePath);r=await Px(o)}catch(o){console.error("Failed to load header image for PDF:",o)}let a=null;t.printConfigurations?.headerSize!==void 0&&t.printConfigurations?.headerSize!==null?a=Math.round(t.printConfigurations.headerSize*72):t.headerSize!==void 0&&(a=t.headerSize);const s={pageSize:this.getPageSize(t.printConfigurations?.pageSize),pageMargins:this.getPageMargins(t.printConfigurations?.pageSize,a),defaultStyle:{fontSize:10,columnGap:20},header:()=>t.printConfigurations?.useHeader?this.createProfessionalMedicalHeader(t.printConfigurations,t.printConfigurations?.pageSize,r,a):null,footer:(o,i)=>t.printConfigurations?.useFooter?this.createTreatmentPlanFooter(o,i,t.printConfigurations):null,content:[this.createProfessionalPatientCard(n,{createdAt:new Date}),this.createTreatmentPlanDetailsSection(t.treatmentPlan),...this.getCompletedProcedures(t.procedureTreatments).length>0?[this.createProceduresSection("COMPLETED PROCEDURES",this.getCompletedProcedures(t.procedureTreatments))]:[],...this.createPendingProceduresSections(t.procedureTreatments),...t.paymentReceipts&&t.paymentReceipts.length>0?[this.createPaymentDetailsSection(t.paymentReceipts)]:[],...this.hasMultipleOptions(t.procedureTreatments)?[]:[this.createCostSummarySection(t.procedureTreatments,t.paymentReceipts)],this.createPaymentSummarySection(t.procedureTreatments,t.paymentReceipts)],styles:this.styles,pageBreakBefore:function(o,i,c){return i&&i.length===0&&c&&c.length<2,!1},info:{title:"Treatment Plan",author:"Professional Medical System",subject:"Patient Treatment Plan"},compress:!1};return ao.createPdf(s)}createTreatmentPlanDetailsSection(t){const n=t?.treatmentPlanName;return!n||n.startsWith("New Treatment Plan")?null:{stack:[{table:{headerRows:0,widths:["*"],body:[[{text:[{text:"TREATMENT PLAN: ",style:"medicalAdviceTitle"},{text:n,style:"patientValue"}],margin:[6,3,15,5]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"}}],unbreakable:!0,margin:[0,0,0,8],alignment:"left",pageBreakBefore:function(r,a){return a.length===0}}}getCompletedProcedures(t){return t?t.filter(n=>n.status?.toLowerCase()==="completed"&&n.isSelected!==!1&&n.status?.toLowerCase()!=="cancelled"):[]}getPendingProcedures(t){return t?t.filter(n=>n.status?.toLowerCase()!=="completed"&&n.isSelected!==!1&&n.status?.toLowerCase()!=="cancelled"):[]}hasMultipleOptions(t){if(!t)return!1;const n=t.filter(a=>a.status?.toLowerCase()!=="completed"&&a.isSelected!==!1&&a.status?.toLowerCase()!=="cancelled"),r=new Set;return n.forEach(a=>{const s=(a.option||a.options||"").trim();s&&r.add(s)}),r.size>=2}groupPendingProceduresByOption(t){const n=this.getPendingProcedures(t),r={};return n.forEach(a=>{const o=(a.option||a.options||"").trim()||"no-option";r[o]||(r[o]=[]),r[o].push(a)}),r}calculateGroupTotal(t){return t.reduce((n,r)=>{const a=r.costEstimate||r.procedureCost||0;return n+a},0)}createPendingProceduresSections(t){const n=this.getPendingProcedures(t);if(n.length===0)return[];if(this.hasMultipleOptions(t)){const r=this.groupPendingProceduresByOption(t),a=[];return r["no-option"]&&a.push(this.createProceduresSection("PENDING PROCEDURES",r["no-option"])),Object.keys(r).filter(o=>o!=="no-option").sort((o,i)=>o.localeCompare(i)).forEach(o=>{const i=r[o],c=this.calculateGroupTotal(i);a.push(this.createProceduresWithTotalSection(`OPTION ${o.toUpperCase()}`,i,c))}),a}else return[this.createProceduresSection("PENDING PROCEDURES",n)]}createProceduresWithTotalSection(t,n,r){if(!n||n.length===0)return null;const a={table:{headerRows:1,widths:["70%","30%"],body:[[{text:"PROCEDURE",style:"prescriptionTableHeader"},{text:"COST",style:"prescriptionTableHeader",alignment:"center"}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,2,0,8]};return n.forEach(s=>{const o=s.procedure?.procedure_name||s.procedureName||"Unknown Procedure",i=s.location&&s.location.trim()?`${o} (${s.location.trim()})`:o,c=s.procedure?.description||s.description||"",A=s.procedureCost||0,u=s.costEstimate||s.procedureCost||0,f=A-u;let m=`${u.toLocaleString()}`;f>0&&(m+=` (${f.toLocaleString()} discount)`),a.table.body.push([{stack:[{text:i,style:"cleanMedicineName"},...c?[{text:c,style:"cleanMedicineDetails"}]:[]]},{text:m,style:"cleanFieldValue",alignment:"center"}])}),a.table.body.push([{text:`${t} Total:`,style:"cleanMedicineName",bold:!0,alignment:"right"},{text:`${r.toLocaleString()}`,style:"cleanMedicineName",bold:!0,alignment:"center"}]),[{table:{headerRows:0,widths:["*"],body:[[{text:t,style:"medicalSectionTitle"}]]},layout:"noBorders",margin:[0,0,0,2]},a]}createProceduresSection(t,n){if(!n||n.length===0)return null;const r={table:{headerRows:1,widths:["70%","30%"],body:[[{text:"PROCEDURE",style:"prescriptionTableHeader"},{text:"COST",style:"prescriptionTableHeader",alignment:"center"}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,2,0,8]};return n.forEach(a=>{const s=a.procedure?.procedure_name||a.procedureName||"Unknown Procedure",o=a.location&&a.location.trim()?`${s} (${a.location.trim()})`:s,i=a.procedure?.description||a.description||"",c=a.procedureCost||0,A=a.costEstimate||a.procedureCost||0,u=c-A;let f=`${A.toLocaleString()}`;u>0&&(f+=` (${u.toLocaleString()} discount)`),r.table.body.push([{stack:[{text:o,style:"cleanMedicineName"},...i?[{text:i,style:"cleanMedicineDetails"}]:[]]},{text:f,style:"cleanFieldValue",alignment:"center"}])}),[{table:{headerRows:0,widths:["*"],body:[[{text:t,style:"medicalSectionTitle"}]]},layout:"noBorders",margin:[0,0,0,2]},r]}createPaymentDetailsSection(t){if(!t||t.length===0)return null;const n={table:{headerRows:1,widths:["25%","20%","18%","18%","19%"],body:[[{text:"RECEIPT ID",style:"prescriptionTableHeader"},{text:"DATE",style:"prescriptionTableHeader",alignment:"center"},{text:"TOTAL",style:"prescriptionTableHeader",alignment:"center"},{text:"PAID",style:"prescriptionTableHeader",alignment:"center"},{text:"BALANCE",style:"prescriptionTableHeader",alignment:"center"}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,2,0,8]};return t.forEach(r=>{n.table.body.push([{text:r.identifier||"N/A",style:"cleanFieldValue"},{text:ls(r.paymentReceiptDate),style:"cleanFieldValue",alignment:"center"},{text:`${(r.totalAmount||0).toLocaleString()}`,style:"cleanFieldValue",alignment:"center"},{text:`${(r.totalPaid||0).toLocaleString()}`,style:"cleanFieldValue",alignment:"center"},{text:`${(r.balanceDue||0).toLocaleString()}`,style:"cleanFieldValue",alignment:"center"}])}),[{table:{headerRows:0,widths:["*"],body:[[{text:"PAYMENT INFORMATION",style:"medicalSectionTitle"}]]},layout:"noBorders",margin:[0,0,0,2]},n]}createCostSummarySection(t,n){const r=t?.filter(u=>u.isSelected!==!1&&u.status?.toLowerCase()!=="cancelled")||[],a=r.reduce((u,f)=>u+(f.procedureCost||0),0),s=r.reduce((u,f)=>u+(f.costEstimate||f.procedureCost||0),0),o=a-s;let i=`${s.toLocaleString()}`;o>0&&(i+=` (${o.toLocaleString()} total discount)`);const A={table:{headerRows:0,widths:["60%","40%"],body:[["Total Cost:",i]].map(([u,f])=>[{text:u,fontSize:12,color:"#000000",bold:!0,margin:[5,2,5,2]},{text:f,style:"cleanFieldValue",alignment:"right",margin:[5,2,5,2]}])},layout:{hLineWidth:(u,f)=>u===0||u===f.table.body.length?1:0,vLineWidth:(u,f)=>u===0||u===f.table.widths.length?1:0,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,2,0,8]};return[{table:{headerRows:0,widths:["*"],body:[[{text:"COST SUMMARY",style:"medicalSectionTitle"}]]},layout:"noBorders",margin:[0,0,0,2]},A]}createPaymentSummarySection(t,n){const r=t?.filter(A=>A.isSelected!==!1&&A.status?.toLowerCase()==="completed"&&A.status?.toLowerCase()!=="cancelled")||[],a=n?.reduce((A,u)=>A+(u.totalPaid||0),0)||0,s=r.reduce((A,u)=>{const f=u.costEstimate||u.cost_estimate,m=u.procedureCost||0;return A+(f!==void 0?f:m)},0),o=Math.max(0,s-a),i=[["Amount Due:",`${s.toLocaleString()}`],["Amount Paid:",`${a.toLocaleString()}`],["Amount Pending:",`${o.toLocaleString()}`]],c={table:{headerRows:0,widths:["60%","40%"],body:i.map(([A,u])=>[{text:A,fontSize:12,color:"#000000",bold:!0,margin:[5,2,5,2]},{text:u,style:"cleanFieldValue",alignment:"right",margin:[5,2,5,2]}])},layout:{hLineWidth:(A,u)=>A===0||A===u.table.body.length?1:0,vLineWidth:(A,u)=>A===0||A===u.table.widths.length?1:0,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,2,0,8]};return[{table:{headerRows:0,widths:["*"],body:[[{text:"PAYMENT SUMMARY",style:"medicalSectionTitle"}]]},layout:"noBorders",margin:[0,0,0,2]},c]}getLanguageDisplayName(t){return{hi:"Hindi",bn:"Bengali",te:"Telugu",mr:"Marathi",ta:"Tamil",gu:"Gujarati",ur:"Urdu",ml:"Malayalam",kn:"Kannada",or:"Odia",pa:"Punjabi",as:"Assamese",hindi:"Hindi",marathi:"Marathi",gujarati:"Gujarati",kannada:"Kannada",malayalam:"Malayalam",telugu:"Telugu",tamil:"Tamil"}[t]||(t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():"Translation")}getPageSize(t){switch(t?.toLowerCase()){case"letter":return"LETTER";case"legal":return"LEGAL";case"a4":default:return"A4"}}getPageMargins(t,n=null){const r=n??130;switch(t?.toLowerCase()){case"letter":return[45,r,45,45];case"legal":return[35,r,35,55];case"a4":default:return[40,r,40,40]}}getHeaderMargins(t,n=null){const r=this.getPageMargins(t,n);return[r[0],20,r[2],15]}getPageWidth(t){switch(t?.toLowerCase()){case"letter":return 612;case"legal":return 612;case"a4":default:return 595}}hasVitals(t){return t?!!(t.pulse||t.systolicBP||t.diastolicBP||t.respiratoryRate||t.temperature||t.weight||t.height):!1}async generateBillPDF(t,n){ao||await s0();const r=t.headerSize!==void 0?t.headerSize:null,a={pageSize:this.getPageSize(t.printConfigurations?.pageSize),pageMargins:this.getPageMargins(t.printConfigurations?.pageSize,r),defaultStyle:{fontSize:10,columnGap:20},header:()=>this.createProfessionalBillHeader(t.printConfigurations,t.printConfigurations?.pageSize,t.doctor,r),footer:(s,o)=>this.createBillFooter(s,o,t.printConfigurations),content:[this.createBillTitle(),this.createBillPatientInfo(n,t.consultation,t.printConfigurations,t.doctor),this.createBillServicesTable(t.consultation),...t.consultation.associatedReceipt?[this.createAssociatedReceiptSection(t.consultation.associatedReceipt,t.consultation.payments)]:[]],styles:this.styles,pageBreakBefore:function(s,o,i){return!!(s.table&&s.table.body&&s.table.body.length>15)},info:{title:"Tax Invoice cum Bill of Supply",author:"Professional Medical System",subject:"Patient Bill and Tax Invoice"},compress:!1};return ao.createPdf(a)}async generatePharmacyBillPDF(t,n){ao||await s0();const r=t.pharmacyBill,a=t.pharmacyConfigurations||{},s={pageSize:"A4",pageOrientation:"landscape",pageMargins:[40,60,40,40],defaultStyle:{fontSize:10,columnGap:20},header:()=>a.useHeader?this.createPharmacyBillHeader(a):null,footer:()=>null,content:[this.createPharmacyBillTitle(n,r,a),this.createPharmacyBillItemsTable(r),this.createPharmacyBillBottomSection(r)],styles:this.styles,pageBreakBefore:function(o,i,c){return!!(o.table&&o.table.body&&o.table.body.length>15)},info:{title:"Pharmacy Bill",author:"Professional Medical System",subject:"Pharmacy Bill"},compress:!1};return ao.createPdf(s)}async generateReceiptPDF(t,n){await s0(),console.log("Generating receipt PDF with data:",t);const r=t.consultation,a=t.printConfigurations||{},s=a.pageSize||"A4";let o=null;if(a?.headerImagePath&&a?.doctorId)try{const A=await dy(a.doctorId,a.headerImagePath);o=await Px(A)}catch(A){console.error("Failed to load header image for PDF:",A)}let i=null;a?.headerSize!==void 0&&a?.headerSize!==null?i=Math.round(a.headerSize*72):t?.headerSize!==void 0&&(i=t.headerSize);const c={pageSize:this.getPageSize(s),pageMargins:this.getPageMargins(s,i),header:()=>a?.useHeader?this.createProfessionalMedicalHeader(a,s,o,i):null,footer:(A,u)=>a?.useFooter?this.createReceiptFooter(A,u,a):null,content:[this.createReceiptTitle(),this.createReceiptPatientInfo(n,r,t),this.createReceiptServicesTable(r),...this.createReceiptPaymentSection(r)],styles:this.styles,info:{title:"Payment Receipt",author:"Professional Medical System",subject:"Patient Payment Receipt"}};return ao.createPdf(c)}createReceiptTitle(){return{text:"PAYMENT RECEIPT",style:"receiptTitle",alignment:"center",margin:[0,0,0,15]}}createReceiptPatientInfo(t,n,r={}){return{table:{headerRows:0,widths:["33%","33%","34%"],body:[[{stack:[{text:"Patient Information",style:"sectionHeader",margin:[0,0,0,3]},{text:n.patientName||t.name||t.patientName||"Unknown Patient",style:"patientInfo"},{text:`ID: ${n.patientId||t.patientId||"N/A"}`,style:"patientInfo"}],margin:[6,3,6,3]},{stack:[{text:"Appointment Details",style:"sectionHeader",margin:[0,0,0,3]},{text:`Dr. ${n.doctorName||r?.doctor?.doctorName||"Unknown Doctor"}`,style:"patientInfo"},{text:`Date: ${this.formatReceiptDate(n.appointmentDate)}`,style:"patientInfo"}],margin:[6,3,6,3]},{stack:[{text:"Receipt Information",style:"sectionHeader",margin:[0,0,0,3]},{text:n.receiptNumber||n.identifier||"N/A",style:"patientInfo"},{text:`Date: ${this.formatReceiptDate(n.receiptDate||n.paymentReceiptDate)}`,style:"patientInfo"}],margin:[6,3,6,3]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,10]}}createReceiptServicesTable(t){const n=t.services||[];if(n.length===0)return{text:"No services recorded",style:"noDataText",margin:[0,10]};const r=n.some(i=>parseFloat(i.discountAmount)>0);let a,s;r?(a=[{text:"Description",style:"tableHeader"},{text:"Base Cost per unit",style:"tableHeader",alignment:"right"},{text:"Discount per unit",style:"tableHeader",alignment:"right"},{text:"Quantity",style:"tableHeader",alignment:"center"},{text:"Total",style:"tableHeader",alignment:"right"}],s=["35%","20%","20%","10%","15%"]):(a=[{text:"Description",style:"tableHeader"},{text:"Base Cost per unit",style:"tableHeader",alignment:"right"},{text:"Quantity",style:"tableHeader",alignment:"center"},{text:"Total",style:"tableHeader",alignment:"right"}],s=["45%","25%","15%","15%"]);const o=[a];return n.forEach(i=>{const c=parseFloat(i.baseCost)||0,A=parseFloat(i.discountAmount)||0,u=parseInt(i.quantity)||1,f=(c-A)*u;let m;r?m=[{text:i.serviceDescription||"Service",style:"tableCell"},{text:this.formatAmount(c),style:"tableCell",alignment:"right"},{text:this.formatAmount(A),style:"tableCell",alignment:"right"},{text:u.toString(),style:"tableCell",alignment:"center"},{text:this.formatAmount(f),style:"tableCell",alignment:"right"}]:m=[{text:i.serviceDescription||"Service",style:"tableCell"},{text:this.formatAmount(c),style:"tableCell",alignment:"right"},{text:u.toString(),style:"tableCell",alignment:"center"},{text:this.formatAmount(f),style:"tableCell",alignment:"right"}],o.push(m)}),[{table:{headerRows:0,widths:["*"],body:[[{text:"Item Details",style:"sectionHeader",margin:[6,3,6,3]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,2]},{table:{headerRows:1,widths:s,body:o},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0",fillColor:function(i){return i===0?"#f8f9fa":null}},margin:[0,0,0,5]},this.createReceiptSummary(t,r)]}createReceiptSummary(t,n){const r=t.subtotal||0,a=t.totalLineDiscount||0,s=parseFloat(t.additionalDiscount)||0,o=t.grandTotal||0,i=[];return i.push(["Subtotal:",this.formatAmount(r)]),n&&a>0&&i.push(["Line Discounts:",`-${this.formatAmount(a)}`]),s>0&&i.push(["Additional Discount:",`-${this.formatAmount(s)}`]),i.push(["Grand Total:",this.formatAmount(o)]),{table:{headerRows:0,widths:["70%","30%"],body:i.map(([c,A])=>[{text:c,style:c==="Grand Total:"?"summaryLabelBold":"summaryLabel",alignment:"right",margin:[5,2,5,2]},{text:A,style:c==="Grand Total:"?"summaryValueBold":"summaryValue",alignment:"right",margin:[5,2,5,2]}])},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,2,0,10]}}createReceiptPaymentSection(t){const n=t.grandTotal||0,r=t.totalPaid||0,a=t.balanceDue||0,s=t.payments||[],o=[];if(o.push({table:{headerRows:0,widths:["*"],body:[[{text:"Payment Information",style:"sectionHeader",margin:[6,3,6,3]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,2]}),o.push({table:{headerRows:0,widths:["33%","33%","34%"],body:[[{stack:[{text:"Total Amount",style:"summaryLabel",margin:[0,0,0,2]},{text:this.formatAmount(n),style:"summaryValueBold"}],margin:[6,8,6,8]},{stack:[{text:"Paid Amount",style:"summaryLabel",margin:[0,0,0,2]},{text:this.formatAmount(r),style:"summaryValuePaid"}],margin:[6,8,6,8]},{stack:[{text:"Balance Due",style:"summaryLabel",margin:[0,0,0,2]},{text:this.formatAmount(a),style:a>0?"summaryValueDue":"summaryValuePaid"}],margin:[6,8,6,8]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,10]}),s&&s.length>0){o.push({text:"Payment History",style:"summaryLabel",margin:[6,5,6,5]});const i=[[{text:"Date",style:"tableHeader"},{text:"Mode",style:"tableHeader"},{text:"Amount",style:"tableHeader",alignment:"right"}]];s.forEach(c=>{i.push([{text:this.formatReceiptDate(c.paymentDate),style:"tableCell"},{text:c.mode||"Cash",style:"tableCell"},{text:this.formatAmount(c.amount),style:"tableCell",alignment:"right"}])}),o.push({table:{headerRows:1,widths:["40%","30%","30%"],body:i},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0",fillColor:function(c){return c===0?"#f8f9fa":null}},margin:[0,0,0,10]})}else o.push({stack:[{text:"Payment History",style:"summaryLabel",margin:[6,5,6,2]},{text:"No payments recorded",style:"noDataText",margin:[0,5,0,5]}]});return o}formatAmount(t){if(t==null)return"0.00";const n=parseFloat(t)||0;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}formatReceiptDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return t}}formatDateTime(t){if(!t)return"N/A";try{return new Date(t*1e3).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return t}}createBillTitle(){return{text:"Tax Invoice cum Bill of Supply",style:"receiptTitle",margin:[0,10,0,15]}}createProfessionalBillHeader(t,n="A4",r=null,a=null){const s=this.getHeaderMargins(n,a);return{table:{headerRows:0,widths:["*"],body:[[{stack:[{columns:[{width:"40%",stack:[{text:`Dr. ${t.doctorName}`,style:"doctorName"},{text:t.doctorDegrees||"MBBS",style:"doctorCredentials"},{text:`Reg. No: ${t.doctorRegistrationNumber}`,style:"registrationInfo"}]},{width:"60%",stack:[...t.clinicAddress?[{stack:t.clinicAddress.split(/\r?\n|\r/).map(o=>({text:o.trim(),fontSize:10,color:"#4a5568",alignment:"right",margin:[0,1,0,1]})),margin:[0,5,0,2]}]:[],...t.contactNumber?[{text:` ${t.contactNumber}`,fontSize:10,color:"#4a5568",alignment:"right"}]:[],...t.email?[{text:`Email: ${t.email}`,fontSize:10,color:"#4a5568",alignment:"right"}]:[]]}]},{canvas:[{type:"line",x1:0,y1:4,x2:500,y2:4,lineWidth:2,lineColor:"#2b6cb0"},{type:"line",x1:0,y1:8,x2:500,y2:8,lineWidth:1,lineColor:"#4a5568"}],margin:[0,10,0,0],alignment:"center"}],margin:s}]]},layout:"noBorders",margin:[0,0,0,20]}}createBillPatientInfo(t,n,r,a=null){return{table:{headerRows:0,widths:["50%","50%"],body:[[{stack:[{text:"BILL TO:",style:"sectionHeader"},{text:t.patientName||t.name||"Unknown Patient",style:"patientInfo"},{text:`Patient ID: ${t.patientId||"N/A"}`,style:"patientInfo"},{text:`Age: ${n.patientAge||t.age||"N/A"} | Gender: ${n.patientGender||t.gender||"N/A"}`,style:"patientInfo"}],margin:[12,8,12,8]},{stack:[{text:"TAX INVOICE CUM BILL OF SUPPLY:",style:"sectionHeader"},{text:`No: ${n.billNumber}`,style:"receiptInfo"},{text:`Date: ${this.formatReceiptDate(n.billDate)}`,style:"receiptInfo"},{text:`Appointment Date: ${this.formatReceiptDate(n.appointmentDate)}`,style:"receiptInfo"},...a?.isGST&&a?.gstIdentifier?[{text:`GST No: ${a.gstIdentifier}`,style:"receiptInfo",bold:!0}]:[]],margin:[12,8,12,8]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,15]}}createBillServicesTable(t){const n=t.services||[];if(n.length===0)return{text:"No services found",style:"noDataText"};const r=n.some(c=>parseFloat(c.discountAmount)>0);let a,s;r?(a=[{text:"Sr.",style:"tableHeader"},{text:"Description",style:"tableHeader"},{text:"HSN/SAC Code",style:"tableHeader"},{text:"Base Cost per unit",style:"tableHeader"},{text:"Discount per unit",style:"tableHeader"},{text:"GST%",style:"tableHeader"},{text:"Quantity",style:"tableHeader"},{text:"GST Amount",style:"tableHeader"},{text:"Total",style:"tableHeader"}],s=["4%","18%","10%","11%","11%","11%","11%","12%","12%"]):(a=[{text:"Sr.",style:"tableHeader"},{text:"Description",style:"tableHeader"},{text:"HSN/SAC Code",style:"tableHeader"},{text:"Base Cost per unit",style:"tableHeader"},{text:"GST%",style:"tableHeader"},{text:"Quantity",style:"tableHeader"},{text:"GST Amount",style:"tableHeader"},{text:"Total",style:"tableHeader"}],s=["4%","20%","12%","12%","12%","12%","14%","14%"]);const o=[a];n.forEach((c,A)=>{let u;r?u=[{text:(A+1).toString(),style:"tableCell"},{text:c.serviceDescription||"N/A",style:"tableCell"},{text:c.hsnSacCode||"N/A",style:"tableCell",alignment:"center"},{text:this.formatAmount(c.baseCost),style:"tableCell",alignment:"right"},{text:this.formatAmount(c.discountAmount),style:"tableCell",alignment:"right"},{text:`${c.gstPercent||0}%`,style:"tableCell",alignment:"center"},{text:c.quantity?.toString()||"1",style:"tableCell",alignment:"center"},{text:this.formatAmount(c.gstAmount),style:"tableCell",alignment:"right"},{text:this.formatAmount(c.totalWithGst),style:"tableCell",alignment:"right",bold:!0}]:u=[{text:(A+1).toString(),style:"tableCell"},{text:c.serviceDescription||"N/A",style:"tableCell"},{text:c.hsnSacCode||"N/A",style:"tableCell",alignment:"center"},{text:this.formatAmount(c.baseCost),style:"tableCell",alignment:"right"},{text:`${c.gstPercent||0}%`,style:"tableCell",alignment:"center"},{text:c.quantity?.toString()||"1",style:"tableCell",alignment:"center"},{text:this.formatAmount(c.gstAmount),style:"tableCell",alignment:"right"},{text:this.formatAmount(c.totalWithGst),style:"tableCell",alignment:"right",bold:!0}],o.push(u)});const i=[];return r&&i.push([{text:"Base Cost Total:",style:"summaryLabel",alignment:"right"},{text:this.formatAmount(t.baseSubtotal),style:"summaryValue",alignment:"right"}],[{text:"Line Item Discounts:",style:"summaryLabel",alignment:"right"},{text:`-${this.formatAmount(t.totalLineDiscount)}`,style:"summaryValue",alignment:"right"}]),i.push([{text:"Total:",style:"summaryLabel",alignment:"right"},{text:this.formatAmount(r?t.baseSubtotal-t.totalLineDiscount:t.baseSubtotal),style:"summaryValue",alignment:"right"}],[{text:"GST:",style:"summaryLabel",alignment:"right"},{text:this.formatAmount(t.totalGSTAmount),style:"summaryValue",alignment:"right"}],[{text:"Total with GST:",style:"summaryLabel",alignment:"right"},{text:this.formatAmount(t.subtotalWithGST),style:"summaryValue",alignment:"right"}]),t.additionalDiscount>0&&i.push([{text:"Additional Discount:",style:"summaryLabel",alignment:"right"},{text:`-${this.formatAmount(t.additionalDiscount)}`,style:"summaryValue",alignment:"right"}]),i.push([{text:"Grand Total:",style:"summaryLabelBold",alignment:"right"},{text:this.formatAmount(t.grandTotal),style:"summaryValueBold",alignment:"right"}]),[{table:{headerRows:1,widths:s,body:o},layout:{hLineWidth:(c,A)=>c===0||c===1?2:1,vLineWidth:()=>1,hLineColor:()=>"#2b6cb0",vLineColor:()=>"#e2e8f0",fillColor:c=>c===0?"#f8fafc":null},margin:[0,0,0,10]},{table:{headerRows:0,widths:["70%","30%"],body:i},layout:{hLineWidth:(c,A)=>c===A.table.body.length-1?2:0,vLineWidth:()=>0,hLineColor:()=>"#2b6cb0",fillColor:(c,A)=>c===A.table.body.length-1?"#f1f5f9":null},margin:[0,5,0,15]}]}createAssociatedReceiptSection(t,n=[]){const r=[{text:"ASSOCIATED PAYMENT RECEIPT",style:"sectionHeader",margin:[0,15,0,10]}];if(t){if(r.push({table:{headerRows:0,widths:["50%","50%"],body:[[{stack:[{text:"Receipt Information:",style:"summaryLabel"},{text:`Receipt No: ${t.identifier}`,style:"receiptInfo"},{text:`Receipt Date: ${this.formatReceiptDate(t.paymentReceiptDate)}`,style:"receiptInfo"}],margin:[8,8,8,8]},{stack:[{text:"Payment Summary:",style:"summaryLabel"},{text:`Total Paid: ${this.formatAmount(n.reduce((a,s)=>a+(parseFloat(s.amount)||0),0))}`,style:"summaryValuePaid"},{text:`Balance Due: ${this.formatAmount(Math.max(0,t.balanceDue||0))}`,style:t.balanceDue>0?"summaryValueDue":"summaryValuePaid"}],margin:[8,8,8,8]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,10]}),n&&n.length>0){const a=[[{text:"Date",style:"tableHeader"},{text:"Method",style:"tableHeader"},{text:"Amount",style:"tableHeader"}]];n.forEach(s=>{a.push([{text:s.paymentDate||this.formatReceiptDate(s.paymentDate)||"N/A",style:"tableCell"},{text:s.paymentMethod||s.mode||"N/A",style:"tableCell"},{text:this.formatAmount(s.amount),style:"tableCell",alignment:"right"}])}),r.push({table:{headerRows:1,widths:["35%","30%","35%"],body:a},layout:{hLineWidth:s=>s===0||s===1?2:1,vLineWidth:()=>1,hLineColor:()=>"#2b6cb0",vLineColor:()=>"#e2e8f0",fillColor:s=>s===0?"#f8fafc":null},margin:[0,0,0,10]})}}else r.push({text:"No associated payment receipt found",style:"noDataText"});return r}createPharmacyBillTitle(t,n,r){const a=n.patientId||t.patientId||"N/A",s=n.patientName||t.name||t.patientName||"Unknown Patient";return{columns:[{width:"40%",text:"Tax Invoice cum Bill of Supply",style:"receiptTitle",fontSize:16,alignment:"left"},{width:"60%",table:{headerRows:0,widths:["50%","50%"],body:[[{text:`Patient: ${s} (ID${a})`,style:"patientInfo",fontSize:9,margin:[0,0,0,0]},{text:`Doctor: ${n.doctorName||"Unknown"}`,style:"patientInfo",fontSize:9,alignment:"right",margin:[0,0,0,0]}],[{text:`Invoice No.: ${n.identifier||"N/A"}`,style:"patientInfo",fontSize:9,margin:[0,1,0,0]},{text:`Date: ${this.formatReceiptDate(n.billDate)}`,style:"patientInfo",fontSize:9,alignment:"right",margin:[0,1,0,0]}]]},layout:"noBorders",alignment:"right"}],margin:[0,3,0,3]}}createPharmacyBillHeader(t){const n=t.header||"";return{table:{headerRows:0,widths:["*"],body:[[{stack:[{columns:[{width:"*",stack:n?n.split(/\r?\n|\r/).map(r=>r.trim()).filter(r=>r).map((r,a,s)=>({text:r,fontSize:a===0?14:12,color:a===0?"#1a202c":"#4a5568",alignment:"left",margin:[0,a===0?3:1,0,a===s.length-1?0:.5]})):[{text:"",fontSize:10}]},{width:"auto",stack:t.gstNumber?[{text:`GSTIN: ${t.gstNumber}`,fontSize:10,color:"#4a5568",alignment:"right",margin:[0,3,0,0]}]:[]}],margin:[0,0,0,0]},{canvas:[{type:"line",x1:0,y1:4,x2:762,y2:4,lineWidth:2,lineColor:"#2b6cb0"},{type:"line",x1:0,y1:8,x2:762,y2:8,lineWidth:1,lineColor:"#4a5568"}],margin:[0,3,0,0],alignment:"center"}],margin:[40,10,40,8]}]]},layout:"noBorders",margin:[0,0,0,3]}}createPharmacyBillPatientInfo(t,n,r){const a=n.patientId||t.patientId||"N/A",s=n.patientName||t.name||t.patientName||"Unknown Patient";return{table:{headerRows:0,widths:["35%","30%","35%"],body:[[{stack:[{text:`Patient: ${s} (ID${a})`,style:"patientInfo"},...n.patientPhone?[{text:`Phone: ${n.patientPhone}`,style:"patientInfo",margin:[0,2,0,0]}]:[]],margin:[6,2,6,2]},{stack:[{text:`Doctor: ${n.doctorName||"Unknown"}`,style:"patientInfo"}],margin:[6,2,6,2]},{columns:[{width:"auto",text:`Invoice No.: ${n.identifier||"N/A"}`,style:"patientInfo"},{width:"*",text:`Date: ${this.formatReceiptDate(n.billDate)}`,style:"patientInfo",alignment:"right"}],margin:[6,2,6,2]}]]},layout:{hLineWidth:()=>1,vLineWidth:()=>1,hLineColor:()=>"#e2e8f0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,8]}}createPharmacyBillItemsTable(t){const n=t.items||[];if(n.length===0)return{text:"No items found",style:"noDataText",margin:[0,10]};const r=[{text:"Item",style:"tableHeader",fontSize:9},{text:"HSN",style:"tableHeader",alignment:"center",fontSize:9},{text:"Batch",style:"tableHeader",fontSize:9},{text:"Expiry",style:"tableHeader",fontSize:9},{text:"MRP/Unit",style:"tableHeader",alignment:"right",fontSize:8},{text:"Discount",style:"tableHeader",alignment:"right",fontSize:9},{text:"Taxable/Unit",style:"tableHeader",alignment:"right",fontSize:8},{text:"GST",style:"tableHeader",alignment:"right",fontSize:9},{text:"Final/Unit",style:"tableHeader",alignment:"right",fontSize:9},{text:"Qty",style:"tableHeader",alignment:"right",fontSize:9},{text:"Total",style:"tableHeader",alignment:"right",fontSize:9}],a=["24%","7%","8%","8%","8%","9%","9%","5%","9%","5%","8%"],s=[r];return n.forEach((o,i)=>{const c=o.taxableValuePerUnit!==void 0?o.taxableValuePerUnit:this.calculatePharmacyTaxableValuePerUnit(o),A=o.finalValuePerUnit!==void 0?o.finalValuePerUnit:this.calculatePharmacyFinalValuePerUnit(o),u=o.itemTotal!==void 0?o.itemTotal:this.calculatePharmacyItemTotal(o);let f="N/A",m=!1;if(o.expiryDate){const B=typeof o.expiryDate=="number"?new Date(o.expiryDate*1e3):new Date(o.expiryDate);if(!isNaN(B.getTime())){f=this.formatReceiptDate(o.expiryDate);const S=new Date;S.setHours(0,0,0,0),B.setHours(0,0,0,0),m=B<S}}const h=[{text:o.medicineName||"N/A",fontSize:9,bold:!0}];o.marketer&&h.push({text:"  ",fontSize:9,bold:!0},{text:o.marketer,fontSize:9});const y=o.batchNumber||"N/A",w=o.mrp&&o.unitsPerPack&&o.unitsPerPack>0?o.mrp/o.unitsPerPack:0,b=[{text:h,style:"tableCell",fontSize:9},{text:o.hsnCode||"N/A",style:"tableCell",fontSize:9,alignment:"center"},{text:y,style:"tableCell",fontSize:9},{text:f,style:"tableCell",fontSize:9,color:m?"#c53030":"#1a202c"},{text:this.formatAmount(w),style:"tableCell",fontSize:9,alignment:"right"},{text:`${o.discountPercentage||0}%`,style:"tableCell",fontSize:9,alignment:"right"},{text:this.formatAmount(c),style:"tableCell",fontSize:9,alignment:"right"},{text:`${o.gstPercentage||0}%`,style:"tableCell",fontSize:9,alignment:"right"},{text:this.formatAmount(A),style:"tableCell",fontSize:9,alignment:"right"},{text:(o.quantityUnits||0).toString(),style:"tableCell",fontSize:9,alignment:"right"},{text:this.formatAmount(u),style:"tableCell",fontSize:9,alignment:"right",bold:!0}];s.push(b)}),{table:{headerRows:1,widths:a,body:s},layout:{hLineWidth:(o,i)=>o===0||o===1?2:1,vLineWidth:()=>1,hLineColor:()=>"#2b6cb0",vLineColor:()=>"#e2e8f0"},margin:[0,0,0,3]}}calculatePharmacyTaxableValuePerUnit(t){if(!t.mrp||!t.unitsPerPack||t.unitsPerPack<=0)return 0;const n=parseFloat(t.mrp)||0,r=parseFloat(t.unitsPerPack)||1,a=parseFloat(t.gstPercentage)||0,s=parseFloat(t.discountPercentage)||0,o=n/r,i=1+a/100,c=o/i,A=1-s/100;return c*A}calculatePharmacyFinalValuePerUnit(t){if(!t.mrp||!t.unitsPerPack||t.unitsPerPack<=0)return 0;const n=this.calculatePharmacyTaxableValuePerUnit(t),a=1+(parseFloat(t.gstPercentage)||0)/100;return n*a}calculatePharmacyItemTotal(t){if(!t.mrp||!t.unitsPerPack||t.unitsPerPack<=0)return 0;const n=this.calculatePharmacyFinalValuePerUnit(t),r=parseFloat(t.quantityUnits)||0;return n*r}createPharmacyBillSummary(t){const n=[],r=(c,A,u=!1,f=9)=>{const m=u?{text:c,fontSize:f,bold:!0}:{text:c,fontSize:f},v=u?{text:A,fontSize:f,bold:!0}:{text:A,fontSize:f};n.push({columns:[{text:m.text,fontSize:m.fontSize,bold:m.bold,alignment:"right"},{text:v.text,fontSize:v.fontSize,bold:v.bold,alignment:"right",margin:[8,0,0,0]}],margin:[0,.5,0,.5]})};r("Total MRP:",this.formatAmount(t.totalMrp||0)),r("Total Discount:",`-${this.formatAmount(t.totalDiscount||0)}`);const a=this.formatAmount(t.totalGst||0);r("Total GST:",a);const s=this.formatAmount(t.totalCgst||0),o=this.formatAmount(t.totalSgst||0);n.push({columns:[{width:"*",text:"",fontSize:9},{width:"auto",text:`(CGST: ${s}, SGST: ${o})`,fontSize:9,alignment:"right"}],margin:[0,.5,0,.5]}),t.additionalDiscountAmount>0&&r("Additional Discount:",`-${this.formatAmount(t.additionalDiscountAmount)}`,!1),r("Net Amount:",this.formatAmount(t.netAmount||0),!0);const i=t.roundOff||0;return r("Round Off:",`${i>0?"+":""}${this.formatAmount(i)}`),r("Final Amount:",this.formatAmount(t.finalAmount||0),!0),{stack:n,margin:[0,0,0,8],alignment:"right"}}createPharmacyBillBottomSection(t){const n=[];t.payments&&t.payments.length>0?(n.push({text:"Payment Information",style:"sectionHeader",margin:[0,0,0,5]}),t.payments.forEach(s=>{const o=this.formatAmount(s.amount),i=s.mode||"Cash";n.push({text:`${o} - ${i}`,fontSize:9,margin:[0,2,0,2]})})):(n.push({text:"Payment Information",style:"sectionHeader",margin:[0,0,0,5]}),n.push({text:"No payments recorded",fontSize:9,color:"#718096",margin:[0,2,0,2]}));const r={stack:[{text:"",fontSize:10},{text:"Sign",style:"sectionHeader",alignment:"center",margin:[0,0,0,0]}],margin:[10,0,10,0]},a=this.createPharmacyBillSummary(t);return{columns:[{width:"33%",stack:n,margin:[0,5,10,0]},{width:"33%",stack:[r],margin:[10,5,10,0]},{width:"34%",stack:[a],margin:[10,5,0,0]}],margin:[0,10,0,0]}}createPharmacyBillFooter(t,n,r){return{margin:[40,5,40,15],table:{widths:["*"],body:[[{stack:[{text:"This is a computer generated bill",style:"disclaimer"}],border:[!1,!0,!1,!1],borderColor:["","#e2e8f0","",""]}]]},layout:"noBorders"}}createBillFooter(t,n,r){return{margin:[40,10,40,20],table:{widths:["*"],body:[[{stack:[{text:"Tax Invoice cum Bill of Supply - Computer Generated",style:"disclaimer"},{text:"This is a system generated bill and does not require physical signature.",style:"disclaimer"},...r?.clinicName?[{text:`${r.clinicName} - Professional Medical Services`,style:"medicalFooter"}]:[],{text:`Page ${t} of ${n}`,style:"medicalFooter"}],border:[!1,!0,!1,!1],borderColor:["","#e2e8f0","",""]}]]},layout:"noBorders"}}}const o0=new Oge,Qge=async(e,t="both",n=null)=>{try{const r={type:t};n&&(r.doctorId=n);const a=await Bt.get(`/upload/patient/${e}/images`,{params:r});if(a.data.success)return{success:!0,data:a.data.data,message:a.data.message};throw new Error(a.data.error||"Failed to fetch patient images")}catch(r){return console.error("Patient images fetch error:",r),{success:!1,error:r.response?.data?.error||r.message||"Failed to fetch patient images"}}},Hge=async(e,t=null)=>{try{const n={};t&&(n.doctorId=t);const r=await Bt.get(`/upload/patient/${e}/all`,{params:n});if(r.data.success)return{success:!0,data:r.data.data,message:r.data.message};throw new Error(r.data.error||"Failed to fetch patient uploads")}catch(n){return console.error("Patient uploads fetch error:",n),{success:!1,error:n.response?.data?.error||n.message||"Failed to fetch patient uploads"}}},X3=async(e,t)=>{try{const n=await Bt.post("/upload/upload-pdf",{pdfBase64:e,filename:t});if(n.data.success)return{success:!0,data:n.data.data,message:n.data.message};throw new Error(n.data.error||"Upload failed")}catch(n){return console.error("PDF upload error:",n),{success:!1,error:n.response?.data?.error||n.message||"Failed to upload PDF"}}},Kge=async e=>{try{const t=await Bt.delete(`/upload/${e}`);if(t.data.success)return{success:!0,message:t.data.message||"Upload deleted successfully"};throw new Error(t.data.error||"Failed to delete upload")}catch(t){return console.error("Upload delete error:",t),{success:!1,error:t.response?.data?.error||t.message||"Failed to delete upload"}}},UM=["Dermatology","Cardiology","Dentistry","Endocrinology","Neurology","Pediatrics","Orthopedics","Psychiatry","Ophthalmology","Gynecology"],gk=["Tablet","Capsule","Chewable Tablet","Effervescent Tablet","Sublingual Tablet","Gelatin coated Tablet","Soft Gelatin Capsule","Soft Gelatine Capsule","Capsule ER","Capsule XR","Eye Capsule","Vaginal Capsule","Capsule Combipack","TabCap","RotaCap","Instacap","TransCap","AliCap","RediCap","RespiCap","NexCap","OxyCap","Vegicap","Captab","Caplet","Pellet","Softule","Opticops","Diskette","Grain","Powder","Powder for Injection","Powder for Oral Suspension","Powder for Inhalation","Powder for Infusion","Powder for Oral Solution","Dusting Powder","Dry Syrup","Dry Suspension","Syrup","Solution","Suspension","Lotion","Liquid","Oral Solution","Oral Suspension","Solution for Injection","Solution for Infusion","Solution for Inhalation","Suspension for Injection","Nasal Solution","Ophthalmic Solution","Ophthalmic Suspension","Redimix Suspension","Rediuse Suspension","Oral Liquid","Oral Emulsion","Emulsion","Ophthalmic Emulsion","Elixir","Tonic","Linctus","Mouth Wash","Mouthwash","Expectorant","Cream","Ointment","Gel","Eye Gel","Eye Ointment","Ophthalmic Gel","Oral Gel","Dental Gel","Vaginal Gel","Rectal Gel","Rectal Ointment","Rectal Cream","Vaginal Cream","Eye Cream","Paste","Oral Paste","Gum Paint","Mouth Paint","Paint","Toothpaste","Serum","Oil","Moisturiser","Shampoo","Conditioner","Face Wash","Soap","Scrub","Cleanser","Liniment","Foam","Drop","Eye Drop","Ear Drop","Oral Drop","Nasal Drop","Eye/Ear Drop","Spray","Nasal Spray","Mouth Spray","Vaginal Spray","Intranasal Spray","Inhaler","Respule","Autohaler","Multihaler","Transihaler","Transpule","Oxipule","Nebuliser","Aerosol","Injection","Infusion","Prefilled Syringe","Water for Injection","Solvent for Injection","Ampule","Ampoule","Vial","Patch","Transdermal Patch","Vaginal Suppository","Suppository","Pessary","Enema","Lozenge","Pastille","Chewing Gum","Gummy","Gum","Bio-Adhesive","Disintegrating Strip","Strip","Film","Gargle","Oral Jelly","Jelly","Nail Lacquer","Intrauterine system","Wipe","Kit","Combo Pack","Tablet Combikit","Sachet","Bottle","Pen","Disposable Pen","Pre-filled Pen","Cartridge","Tube","Jar","Pouch","Bar","Box","Toothbrush","Vaccine","Granule","Particle","Husk","Various","Unit"],Ow=["Strip","Bottle","Box","Sachet","Tube","Vial","Ampoule","Ampule","Cartridge","Pouch","Jar","Kit","Combo Pack","Unit","Bag","Can","Dose","Pack"],RM=[{label:"No Translation",value:"none"},{label:"Gujarati",value:"gujarati"},{label:"Marathi",value:"marathi"},{label:"Hindi",value:"hindi"},{label:"Kannada",value:"kannada"},{label:"Malayalam",value:"malayalam"},{label:"Telugu",value:"telugu"},{label:"Tamil",value:"tamil"}],NM=[{name:"Practo",value:"practo"},{name:"Eka.Care",value:"ekacare"},{name:"Healthplix",value:"healthplix"},{name:"Evamed Custom Template",value:"evamed-custom"},{name:"TatvaCare",value:"tatvacare"}],LM=[{name:"Patient Records",value:"patients",disabled:!1}],TE=Object.freeze(Object.defineProperty({__proto__:null,dataImportTypes:LM,doctorSpecialization:UM,emrSystems:NM,packTypeOptions:Ow,productPhysicalForm:gk,translationLanguages:RM},Symbol.toStringTag,{value:"Module"})),Gge={key:0,class:"d-flex justify-center align-center pdf-loading"},zge={key:1,class:"pdf-viewer"},$ge=["src"],Wge={key:2,class:"d-flex justify-center align-center pdf-error"},jge={__name:"pdf-share-component",props:{contentType:{type:String,required:!0,validator:e=>["consultation","treatment-plan","receipt","bill","pharmacy-bill"].includes(e)},data:{type:Object,required:!0},patient:{type:Object,required:!0}},emits:["pdfGenerated"],setup(e,{emit:t}){const n=e,r=t,a=pr(),s=Z(()=>a.getters["doctorModule/currentDoctor"]),{showWarning:o}=dr(),i=Z({get:()=>a.state.selectedTranslationLanguage,set:ee=>a.dispatch("updateSelectedTranslationLanguage",ee)}),c=Z(()=>{const ee=n.data?.printConfigurations?.headerSize;return ee!=null?Math.round(ee*72):130}),A=()=>n.contentType==="consultation"||n.contentType!=="pharmacy-bill"?4:12,u=H(!1),f=H(!1),m=H(null),v=H(null),h=H(null),y=H(!1),w=H(!1),b=H(!1);let B=null;const S={consultation:{title:"Prescription PDF",filenamePrefix:"prescription"},"treatment-plan":{title:"Treatment Plan PDF",filenamePrefix:"treatment-plan"},receipt:{title:"Payment Receipt PDF",filenamePrefix:"receipt"},bill:{title:"Tax Invoice cum Bill of Supply PDF",filenamePrefix:"bill"},"pharmacy-bill":{title:"Pharmacy Bill PDF",filenamePrefix:"pharmacy-bill"}},T=Z(()=>S[n.contentType]);Z(()=>T.value.title);const N=Z(()=>{const ee=n.patient.name||n.patient.patientName||"patient",j=new Date().toISOString().split("T")[0];return`${T.value.filenamePrefix}-${ee}-${j}.pdf`}),k=H(""),E=H(!1),_=Z(()=>{const ee=n.data.printConfigurations,j={...n.data,translatedPatientNotes:k.value,translationLanguage:i.value,translationFailed:i.value&&i.value!=="none"&&n.data.consultation?.patientNotes?.trim()&&C(n.data.consultation.patientNotes)&&!k.value};if(n.contentType!=="pharmacy-bill"&&(j.headerSize=c.value),ee&&ee.doctorName)return j;const U=s.value,G={doctorName:U?.doctorName||"Doctor",doctorDegrees:U?.doctorDegrees||"MBBS",doctorRegistrationNumber:U?.doctorRegistrationNumber||"REG001",email:U?.email||"",clinicAddress:U?.clinicAddress||`Medical Center
Healthcare District`,contactNumber:U?.contactNumber||"+1-234-567-8900",useHeader:!0,pageSize:"A4",doctorId:U?.id||1};return{...j,printConfigurations:G}}),C=ee=>{if(!ee||!ee.trim())return!1;const j=ee.trim();return j.length<3?!1:![/^[-_.\/\\]+$/,/^[nN][aA]$/,/^[nN]\/[aA]$/,/^[nN][iI][lL]$/,/^[nN][oO][nN][eE]$/,/^[nN][oO][tT]\s+[aA][pP][pP][lL][iI][cC][aA][bB][lL][eE]$/i,/^[\s\-\.\,\;\:]*$/].some(G=>G.test(j))},F=async()=>{if(n.contentType!=="consultation"||!n.data.consultation?.patientNotes?.trim()||!i.value||i.value==="none"||!C(n.data.consultation.patientNotes)){k.value="";return}try{E.value=!0;const{translationLanguages:ee}=await Ca(async()=>{const{translationLanguages:X}=await Promise.resolve().then(()=>TE);return{translationLanguages:X}},void 0),U=ee.find(X=>X.value===i.value)?.label||i.value,{translateText:G}=await Ca(async()=>{const{translateText:X}=await import("./translationUtils-CFw90TCN.js");return{translateText:X}},[]),ne=await G(n.data.consultation.patientNotes,U);if(!ne||ne.trim()===""||ne===n.data.consultation.patientNotes){o(`Translation to ${U} temporarily unavailable - showing original text`),k.value="";return}k.value=ne}catch(ee){console.error("Error translating patient notes:",ee);const{translationLanguages:j}=await Ca(async()=>{const{translationLanguages:ne}=await Promise.resolve().then(()=>TE);return{translationLanguages:ne}},void 0),G=j.find(ne=>ne.value===i.value)?.label||i.value;o(`Translation to ${G} temporarily unavailable - showing original text`),k.value=""}finally{E.value=!1}};Ge(()=>[n.data,n.patient],async()=>{b.value||(n.contentType==="consultation"&&i.value&&i.value!=="none"&&n.data.consultation?.patientNotes?.trim()?await F():k.value="",await new Promise(ee=>setTimeout(ee,100)),R())});const I=async(ee,j)=>{B&&(clearTimeout(B),B=null),B=setTimeout(async()=>{ee!==j&&n.data&&n.patient&&!b.value&&(n.contentType==="consultation"&&ee&&ee!=="none"&&n.data.consultation?.patientNotes?.trim()?await F():k.value="",await new Promise(U=>setTimeout(U,100)),R()),B=null},400)};Ge(i,(ee,j)=>{I(ee,j)}),fn(async()=>{n.contentType==="consultation"&&i.value&&i.value!=="none"&&n.data.consultation?.patientNotes?.trim()&&await F(),await new Promise(ee=>setTimeout(ee,200)),R()});const R=async()=>{if(b.value){console.log("PDF generation already in progress, skipping...");return}try{b.value=!0,console.log(`Generating ${n.contentType} PDF with Professional PDFMake...`),console.log("Data:",_.value),console.log("Patient:",n.patient),u.value=!0,v.value=null,f.value=!1,m.value=null;let ee;n.contentType==="consultation"?ee=await o0.generateConsultationPDF(_.value,n.patient):n.contentType==="treatment-plan"?ee=await o0.generateTreatmentPlanPDF(_.value,n.patient):n.contentType==="receipt"?ee=await o0.generateReceiptPDF(_.value,n.patient):n.contentType==="bill"?ee=await o0.generateBillPDF(_.value,n.patient):n.contentType==="pharmacy-bill"&&(ee=await o0.generatePharmacyBillPDF(_.value,n.patient)),ee.getBlob(j=>{u.value=!1,b.value=!1,f.value=!0,h.value=j;const U=URL.createObjectURL(j);m.value=U,r("pdfGenerated",j),console.log("Professional PDF generation with PDFMake completed successfully")})}catch(ee){console.error("Error generating Professional PDF with PDFMake:",ee),v.value="Failed to generate PDF. Please try again.",u.value=!1,b.value=!1}},M=async()=>{m.value&&(URL.revokeObjectURL(m.value),m.value=null),h.value=null,await R()},te=async()=>{if(!h.value){console.error("No PDF to share");return}try{y.value=!0;const ee=await le(h.value),j=await X3(ee,N.value);if(j.success){const U=j.data.file_url;await se(U),alert("Please check the browser window to complete sharing PDF via WhatsApp.")}else throw new Error(`Failed to upload PDF: ${j.error}`)}catch(ee){console.error("Error sharing PDF:",ee),alert(`Failed to share PDF: ${ee.message}`)}finally{y.value=!1}},se=async ee=>{const j=s.value?.doctorName||"Your Doctor",U=n.patient.name||n.patient.patientName||"Patient",G=n.patient.contactNumber||n.patient.phoneNumber;let ne;if(n.contentType==="consultation"){const oe=ls(_.value.consultation.consultationDate),q=_.value.consultation.followupDate?ls(_.value.consultation.followupDate):"Not scheduled";ne=`Hi ${U},

Your prescription from Dr.${j} for consultation on ${oe} is ready.

 **View your prescription:** ${ee}
 (Please download document within 24 hours)

 Please follow the dosage instructions carefully and complete the full course of medication. 
 Please schedule your follow-up appointment for: ${q}.

 For any questions, please contact your doctor.`,_.value.doctor?.doctorReviewLink&&(ne+=`

 Kindly leave your feedback for Dr.${j}: ${_.value.doctor.doctorReviewLink}`),ne+=`

Best regards,
Dr.${j}`}else if(n.contentType==="treatment-plan"){const oe=_.value.treatmentPlan.treatmentPlanName||"Treatment Plan",q=ls(Jn());ne=`Hello ${U},

Your treatment plan from Dr. ${j} is ready.

 **Treatment Plan:** ${oe}
 **Date:** ${q}

 **View your treatment plan:** ${ee}
 (Please download document within 24 hours)

 Please follow the treatment schedule and contact us for any questions.

Best regards,
Dr. ${j}`}else if(n.contentType==="receipt"){const oe=_.value.consultation.receiptNumber||"Receipt",q=ls(_.value.consultation.receiptDate||Jn());ne=`Hello ${U},

Your payment receipt from Dr. ${j} is ready.

 **Receipt Number:** ${oe}
 **Receipt Date:** ${q}

 **View your receipt:** ${ee}
 (Please download document within 24 hours)

 Thank you for your payment. Please keep this receipt for your records.

Best regards,
Dr. ${j}`}else if(n.contentType==="bill"){const oe=_.value.consultation.billNumber||"Bill",q=ls(_.value.consultation.billDate||Jn()),Y=_.value.consultation.grandTotal||0;ne=`Hello ${U},

Your tax invoice cum bill of supply from Dr. ${j} is ready.

 **Bill Number:** ${oe}
 **Bill Date:** ${q}
 **Total Amount:** ${Y.toFixed(2)}

 **View your bill:** ${ee}
 (Please download document within 24 hours)

Best regards,
Dr. ${j}`}else if(n.contentType==="pharmacy-bill"){const oe=_.value.pharmacyBill?.identifier||"Bill",q=ls(_.value.pharmacyBill?.billDate||Jn()),Y=_.value.pharmacyBill?.finalAmount||0;ne=`Hello ${U},

Your pharmacy bill from Dr. ${j} is ready.

 **Bill Number:** ${oe}
 **Bill Date:** ${q}
 **Total Amount:** ${Y.toFixed(2)}

 **View your bill:** ${ee}
 (Please download document within 24 hours)

 Thank you for your purchase.

Best regards,
Dr. ${j}`}const X=`https://api.whatsapp.com/send?phone=${G}&text=${encodeURIComponent(ne)}`;try{const{ipcRenderer:oe}=window.require("electron"),q=await oe.invoke("open-external",X);q.success?console.log("Successfully opened WhatsApp with system default browser"):(console.error("Failed to open WhatsApp:",q.error),window.open(X,"_blank","noopener,noreferrer"))}catch(oe){console.error("Failed to use Electron IPC:",oe),window.open(X,"_blank","noopener,noreferrer")}},O=async()=>{if(!h.value){console.error("No PDF to share");return}try{w.value=!0;const ee=await le(h.value),j=await X3(ee,N.value);if(j.success){const U=j.data.file_url;await W(U),alert("Please check your email client to complete sharing PDF via email.")}else throw new Error(`Failed to upload PDF: ${j.error}`)}catch(ee){console.error("Error sharing PDF via email:",ee),alert(`Failed to share PDF via email: ${ee.message}`)}finally{w.value=!1}},W=async ee=>{const j=s.value?.doctorName||"Your Doctor",U=n.patient.name||n.patient.patientName||"Patient",G=n.patient.email||n.patient.emailAddress;let ne,X;if(n.contentType==="consultation"){const q=ls(_.value.consultation.consultationDate),Y=_.value.consultation.followupDate?ls(_.value.consultation.followupDate):"Not scheduled";ne=`Prescription - Consultation ${q} - Dr. ${j}`,X=`Dear ${U},

Your prescription from Dr. ${j} for the consultation on ${q} is ready for review.

You can access your prescription document by clicking the link below:

${ee}

Please note: This document will be available for download for 24 hours.

Important Instructions:
- Please follow the dosage instructions carefully
- Complete the full course of medication as prescribed
- Schedule your follow-up appointment for: ${Y}

If you have any questions or concerns, please contact our clinic directly.`,_.value.doctor?.doctorReviewLink&&(X+=`

We value your feedback. Please share your experience: ${_.value.doctor.doctorReviewLink}`),X+=`

Best regards,
Dr. ${j}
${s.value?.clinicAddress||""}
${s.value?.contactNumber||""}`}else if(n.contentType==="treatment-plan"){const q=_.value.treatmentPlan.treatmentPlanName||"Treatment Plan",Y=ls(Jn());ne=`Treatment Plan - ${q} - Dr. ${j}`,X=`Dear ${U},

Your treatment plan from Dr. ${j} has been prepared.

Treatment Plan Details:
- Plan Name: ${q}
- Date Created: ${Y}

You can access your treatment plan document by clicking the link below:

${ee}

Please note: This document will be available for download for 24 hours.

Please follow the treatment schedule as outlined in the document. If you have any questions or concerns, please contact our clinic directly.

Best regards,
Dr. ${j}
${s.value?.clinicAddress||""}
${s.value?.contactNumber||""}`}else if(n.contentType==="receipt"){const q=_.value.consultation.receiptNumber||"Receipt",Y=ls(_.value.consultation.receiptDate||Jn());ne=`Payment Receipt - ${q} - Dr. ${j}`,X=`Dear ${U},

Your payment receipt from Dr. ${j} is ready.

Receipt Details:
- Receipt Number: ${q}
- Receipt Date: ${Y}

You can access your receipt document by clicking the link below:

${ee}

Please note: This document will be available for download for 24 hours.

Thank you for your payment. Please keep this receipt for your records.

Best regards,
Dr. ${j}
${s.value?.clinicAddress||""}
${s.value?.contactNumber||""}`}else if(n.contentType==="bill"){const q=_.value.consultation.billNumber||"Bill",Y=ls(_.value.consultation.billDate||Jn()),ae=_.value.consultation.grandTotal||0;ne=`Tax Invoice - ${q} - Dr. ${j}`,X=`Dear ${U},

Your tax invoice cum bill of supply from Dr. ${j} is ready.

Invoice Details:
- Bill Number: ${q}
- Bill Date: ${Y}
- Total Amount: ${ae.toFixed(2)}

You can access your invoice document by clicking the link below:

${ee}

Please note: This document will be available for download for 24 hours.

Best regards,
Dr. ${j}
${s.value?.clinicAddress||""}
${s.value?.contactNumber||""}`}else if(n.contentType==="pharmacy-bill"){const q=_.value.pharmacyBill?.identifier||"Bill",Y=ls(_.value.pharmacyBill?.billDate||Jn()),ae=_.value.pharmacyBill?.finalAmount||0;ne=`Pharmacy Bill - ${q} - Dr. ${j}`,X=`Dear ${U},

Your pharmacy bill from Dr. ${j} is ready.

Bill Details:
- Bill Number: ${q}
- Bill Date: ${Y}
- Total Amount: ${ae.toFixed(2)}

You can access your pharmacy bill document by clicking the link below:

${ee}

Please note: This document will be available for download for 24 hours.

Thank you for your purchase.

Best regards,
Dr. ${j}
${s.value?.clinicAddress||""}
${s.value?.contactNumber||""}`}let oe="mailto:";G&&(oe+=encodeURIComponent(G)),oe+=`?subject=${encodeURIComponent(ne)}&body=${encodeURIComponent(X)}`;try{const{ipcRenderer:q}=window.require("electron"),Y=await q.invoke("open-external",oe);Y.success?console.log("Successfully opened email client with system default email application"):(console.error("Failed to open email client:",Y.error),window.open(oe,"_blank","noopener,noreferrer"))}catch(q){console.error("Failed to use Electron IPC:",q),window.open(oe,"_blank","noopener,noreferrer")}},le=ee=>new Promise((j,U)=>{const G=new FileReader;G.readAsDataURL(ee),G.onload=()=>{const ne=G.result.split(",")[1];j(ne)},G.onerror=ne=>U(ne)}),K=()=>{console.log("PDF loaded in iframe")};return nc(()=>{B&&(clearTimeout(B),B=null),m.value&&URL.revokeObjectURL(m.value)}),(ee,j)=>{const U=D("v-select"),G=D("v-col"),ne=D("v-icon"),X=D("v-btn"),oe=D("v-tooltip"),q=D("v-row"),Y=D("v-card"),ae=D("v-progress-circular"),ge=D("v-alert-title"),we=D("v-alert");return V(),ye(ze,null,[l(q,{"no-gutters":"","aria-label":"toolbar"},{default:d(()=>[l(G,{cols:"12"},{default:d(()=>[l(Y,{rounded:"0",class:"pa-0",color:"surfaceContainerHigh"},{default:d(()=>[l(q,{"no-gutters":"",align:"center",class:"px-2 py-1"},{default:d(()=>[e.contentType==="consultation"?(V(),he(G,{key:0,cols:"4",class:"d-flex align-center justify-start"},{default:d(()=>[l(U,{modelValue:i.value,"onUpdate:modelValue":j[0]||(j[0]=z=>i.value=z),items:We(RM),"item-title":"label","item-value":"value",label:"Translation Language",density:"compact",variant:"underlined",clearable:"",style:{"max-width":"200px"},class:"text-caption compact-select","hide-details":"",disabled:u.value},null,8,["modelValue","items","disabled"])]),_:1})):Be("",!0),l(G,{cols:A(),class:"d-flex align-center justify-end"},{default:d(()=>[l(oe,{text:"WhatsApp PDF"},{activator:d(({props:z})=>[l(X,Ne({rounded:"x-small",size:"small",onClick:te,class:"mr-1 btn-hover-base",disabled:!f.value,loading:y.value},z),{default:d(()=>[l(ne,{size:"large"},{default:d(()=>[...j[1]||(j[1]=[p("img",{src:T8,alt:"Share PDF",class:"whatsapp-icon"},null,-1)])]),_:1})]),_:1},16,["disabled","loading"])]),_:1}),l(oe,{text:"Email PDF"},{activator:d(({props:z})=>[l(X,Ne({rounded:"x-small",size:"small",onClick:O,class:"mr-1 btn-hover-base",disabled:!f.value,loading:w.value},z),{default:d(()=>[l(ne,{size:"large"},{default:d(()=>[...j[2]||(j[2]=[p("img",{src:Ame,alt:"Email PDF",class:"email-icon"},null,-1)])]),_:1})]),_:1},16,["disabled","loading"])]),_:1}),l(X,{rounded:"x-small",size:"small",variant:"outlined",onClick:M,class:"btn-hover-base"},{default:d(()=>[l(ne,{size:"large"},{default:d(()=>[...j[3]||(j[3]=[p("img",{src:dw,alt:"Refresh"},null,-1)])]),_:1})]),_:1})]),_:1},8,["cols"])]),_:1})]),_:1})]),_:1})]),_:1}),l(q,{"no-gutters":"",class:"pdf-row"},{default:d(()=>[l(G,{cols:"12",class:"pdf-container"},{default:d(()=>[u.value?(V(),ye("div",Gge,[l(ae,{indeterminate:"",color:"primary",size:"64"}),j[4]||(j[4]=p("span",{class:"ml-4"},"Generating PDF...",-1))])):m.value?(V(),ye("div",zge,[p("iframe",{src:m.value,width:"100%",height:"100%",style:{border:"none","border-radius":"8px"},onLoad:K},null,40,$ge)])):v.value?(V(),ye("div",Wge,[l(we,{type:"error",variant:"tonal"},{append:d(()=>[l(X,{onClick:M,variant:"text"},{default:d(()=>[...j[6]||(j[6]=[Q("Retry",-1)])]),_:1})]),default:d(()=>[l(ge,null,{default:d(()=>[...j[5]||(j[5]=[Q("Error generating PDF",-1)])]),_:1}),Q(" "+J(v.value)+" ",1)]),_:1})])):Be("",!0)]),_:1})]),_:1})],64)}}},Ep=on(jge,[["__scopeId","data-v-326409fb"]]),Jge={class:"text-center"},qge={class:"text-center"},Yge={class:"text-body-2 text-medium-emphasis mb-4"},Xge={class:"pa-1"},Zge={class:"text-body-1 font-weight-medium"},e1e={class:"text-body-2 text-medium-emphasis"},t1e={class:"pa-1"},n1e={class:"text-body-1 font-weight-medium"},r1e={class:"text-body-2 text-medium-emphasis"},a1e={class:"pa-1"},s1e={class:"text-body-1 font-weight-medium"},o1e={class:"text-body-2 text-medium-emphasis"},i1e={key:0,class:"d-flex align-center"},l1e={key:1,class:"text-body-2 text-error"},c1e={key:2,class:"d-flex flex-column"},u1e={class:"text-body-2 font-weight-medium"},d1e={class:"text-caption text-medium-emphasis"},A1e={key:0},f1e={key:1},m1e={key:0,class:"text-caption text-medium-emphasis mt-1"},h1e={key:0},v1e={class:"text-left"},p1e={class:"text-left"},g1e={class:"text-left"},y1e={class:"text-left"},w1e={class:"text-left"},_1e={key:0,class:"text-body-2 mb-1"},b1e={class:"text-body-2 mb-1"},x1e={class:"text-body-2 mb-1"},C1e={key:0,class:"text-body-2 mb-1"},E1e={class:"text-subtitle-1 font-weight-bold"},B1e={class:"text-h6"},S1e={class:"text-h6 text-success"},k1e={key:0,class:"text-center pa-4"},I1e={class:"text-left"},T1e={class:"text-left"},F1e={class:"text-right"},P1e={class:"text-right"},D1e={class:"text-center pa-4"},U1e={__name:"payment-receipt-view",props:{receiptId:{type:[String,Number],required:!0}},emits:["close","edit-receipt"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=pr(),i=Z(()=>o.getters["doctorModule/currentDoctor"]),c=Z(()=>i.value?.doctorName||"Unknown Doctor"),A=H(!1),u=H(!1),f=H(null),m=H(null),v=H([]),h=H("view"),y=H({}),w=H(null),b=H(null),B=H(!1),S=H(null),T=Z(()=>m.value?.services||[]),N=uk(T,Z(()=>m.value?.additionalDiscount||0)),{subtotal:k,totalLineDiscount:E,finalGrandTotal:_,calculateServiceTotal:C}=N,F=Z(()=>Array.isArray(v.value)?v.value.reduce((U,G)=>U+(parseFloat(G.amount)||0),0):0),I=Z(()=>Math.max(0,_.value-F.value)),R=Z(()=>m.value?{patientName:m.value.patientName||"Unknown Patient",patientId:m.value.patientId||"N/A",patientContactNumber:m.value.patientContactNumber,doctorName:c.value,receiptNumber:m.value.identifier,receiptDate:m.value.paymentReceiptDate,appointmentDate:m.value.appointmentDate,services:m.value.services||[],subtotal:k.value,totalLineDiscount:E.value,additionalDiscount:parseFloat(m.value.additionalDiscount)||0,grandTotal:_.value,totalPaid:F.value,balanceDue:I.value,payments:v.value||[]}:null),M=async()=>{if(!n.receiptId){f.value="No receipt ID provided";return}A.value=!0,f.value=null;try{console.log("Loading receipt data for ID:",n.receiptId);const U=await b8(n.receiptId);if(U.error)throw new Error(U.error.message||"Failed to load receipt");m.value=U.data,console.log("Receipt data loaded:",m.value),U.data.treatmentPlanId&&(w.value=U.data.treatmentPlanId,await te()),await se(),await O()}catch(U){console.error("Error loading receipt data:",U),f.value=U.message||"Failed to load receipt data",s(f.value)}finally{A.value=!1}},te=async()=>{if(!w.value){b.value=null;return}B.value=!0,S.value=null;try{console.log("Loading treatment plan data for ID:",w.value);const U=await bA(w.value);if(U.error)throw new Error(U.error.message||"Failed to load treatment plan");b.value=U.data,console.log("Treatment plan data loaded:",b.value)}catch(U){console.error("Error loading treatment plan data:",U),S.value=U.message||"Failed to load treatment plan"}finally{B.value=!1}},se=async()=>{if(!n.receiptId){v.value=[];return}u.value=!0;try{console.log("Loading payments for receipt ID:",n.receiptId);const U=await kw(n.receiptId);U.success&&Array.isArray(U.data)?(v.value=U.data,console.log("Payments loaded:",v.value)):(console.warn("No payments found or invalid response:",U),v.value=[])}catch(U){console.error("Error loading receipt payments:",U),v.value=[]}finally{u.value=!1}},O=async()=>{try{const U=o.state.doctorModule.doctorId;if(!U){console.warn("No doctor ID available for print configurations");return}const G=await Mw(U);y.value=G.data||{},console.log("Print configurations fetched:",y.value)}catch(U){console.error("Error fetching print configs:",U),s("Failed to load print configurations")}},W=U=>{if(!U)return"";try{return new Date(U).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return U}},le=U=>{if(!U)return"";try{return new Date(U*1e3).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return U}},K=()=>{console.log("Edit receipt:",n.receiptId),r("edit-receipt",n.receiptId)},ee=U=>{console.log("Receipt PDF generated successfully:",U),a("Receipt PDF generated successfully")},j=()=>{r("close")};return fn(()=>{M()}),(U,G)=>{const ne=D("v-icon"),X=D("v-btn"),oe=D("v-card-title"),q=D("v-col"),Y=D("v-row"),ae=D("v-tab"),ge=D("v-tabs"),we=D("v-progress-circular"),z=D("v-label"),Ae=D("v-card-text"),ie=D("v-card"),_e=D("v-table"),Pe=D("v-divider"),re=D("v-container"),be=D("v-tabs-window-item"),He=D("v-tabs-window");return V(),he(ie,{rounded:"lg",color:"surfaceContainer",flat:"",ripple:!1},{default:d(()=>[l(Y,{"no-gutters":""},{default:d(()=>[l(q,{cols:"12"},{default:d(()=>[l(oe,{class:"d-flex align-center justify-space-between"},{default:d(()=>[G[3]||(G[3]=p("span",null,"Payment Receipt",-1)),l(X,{onClick:j,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(ne,{size:"18"},{default:d(()=>[...G[2]||(G[2]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(Y,{"no-gutters":""},{default:d(()=>[l(q,{cols:"12"},{default:d(()=>[l(ge,{modelValue:h.value,"onUpdate:modelValue":G[0]||(G[0]=ke=>h.value=ke),color:"primary","bg-color":"surfaceContainerHigh","align-tabs":"start",class:"mx-3 mb-3"},{default:d(()=>[l(ae,{value:"view"},{default:d(()=>[l(ne,{start:""},{default:d(()=>[...G[4]||(G[4]=[Q("mdi-eye",-1)])]),_:1}),G[5]||(G[5]=Q(" View Receipt ",-1))]),_:1}),l(ae,{value:"share"},{default:d(()=>[l(ne,{start:""},{default:d(()=>[...G[6]||(G[6]=[Q("mdi-share-variant",-1)])]),_:1}),G[7]||(G[7]=Q(" Share Receipt ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(Y,{"no-gutters":""},{default:d(()=>[l(q,{cols:"12",class:"scroll-element"},{default:d(()=>[l(He,{modelValue:h.value,"onUpdate:modelValue":G[1]||(G[1]=ke=>h.value=ke)},{default:d(()=>[l(be,{value:"view"},{default:d(()=>[A.value?(V(),he(Y,{key:0,"no-gutters":""},{default:d(()=>[l(q,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",Jge,[l(we,{indeterminate:"",color:"primary",size:"64"}),G[8]||(G[8]=p("div",{class:"mt-4 text-subtitle-1"},"Loading receipt...",-1))])]),_:1})]),_:1})):f.value?(V(),he(Y,{key:1,"no-gutters":""},{default:d(()=>[l(q,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",qge,[l(ne,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...G[9]||(G[9]=[Q("mdi-alert-circle",-1)])]),_:1}),G[11]||(G[11]=p("div",{class:"text-h6 mb-2"},"Failed to Load Receipt",-1)),p("div",Yge,J(f.value),1),l(X,{color:"primary",onClick:M,"prepend-icon":"mdi-refresh"},{default:d(()=>[...G[10]||(G[10]=[Q(" Try Again ",-1)])]),_:1})])]),_:1})]),_:1})):m.value?(V(),he(re,{key:2,fluid:"",class:"pa-3"},{default:d(()=>[l(ie,{flat:"",color:"surfaceContainerHigh",class:"mb-4 card-enhanced"},{default:d(()=>[l(Ae,{class:"pb-1 pt-2"},{default:d(()=>[l(Y,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(q,{cols:"4"},{default:d(()=>[p("div",Xge,[l(z,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...G[12]||(G[12]=[Q("Patient Information",-1)])]),_:1}),p("div",Zge,J(m.value.patientName||"Unknown Patient"),1),p("div",e1e,"ID: "+J(m.value.patientId||"N/A"),1)])]),_:1}),l(q,{cols:"4"},{default:d(()=>[p("div",t1e,[l(z,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...G[13]||(G[13]=[Q("Appointment Details",-1)])]),_:1}),p("div",n1e,"Dr. "+J(c.value),1),p("div",r1e,"Date: "+J(W(m.value.appointmentDate)),1)])]),_:1}),l(q,{cols:"4"},{default:d(()=>[p("div",a1e,[l(z,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...G[14]||(G[14]=[Q("Receipt Information",-1)])]),_:1}),p("div",s1e,J(m.value.identifier),1),p("div",o1e,"Date: "+J(W(m.value.paymentReceiptDate)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),w.value?(V(),he(ie,{key:0,flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(Ae,{class:"pb-2"},{default:d(()=>[l(Y,{"no-gutters":"",align:"center",class:"mb-2"},{default:d(()=>[l(q,{cols:"3",class:"d-flex align-center"},{default:d(()=>[...G[15]||(G[15]=[p("div",{class:"text-subtitle-1"},"Treatment Plan",-1)])]),_:1}),l(q,{cols:"9"},{default:d(()=>[B.value?(V(),ye("div",i1e,[l(we,{indeterminate:"",size:"16",color:"primary",class:"mr-2"}),G[16]||(G[16]=p("span",{class:"text-body-2"},"Loading treatment plan...",-1))])):S.value?(V(),ye("div",l1e,[l(ne,{size:"16",class:"mr-1"},{default:d(()=>[...G[17]||(G[17]=[Q("mdi-alert-circle",-1)])]),_:1}),Q(" "+J(S.value),1)])):b.value?(V(),ye("div",c1e,[p("div",u1e,J(b.value.treatmentPlanName),1),p("div",d1e,[Q(" Status: "+J(b.value.status)+" ",1),b.value.startDate?(V(),ye("span",A1e,"  Start: "+J(W(b.value.startDate)),1)):Be("",!0),b.value.endDate?(V(),ye("span",f1e,"  End: "+J(W(b.value.endDate)),1)):Be("",!0)]),b.value.notes?(V(),ye("div",m1e,[G[18]||(G[18]=p("strong",null,"Notes:",-1)),Q(" "+J(b.value.notes.substring(0,80)),1),b.value.notes.length>80?(V(),ye("span",h1e,"...")):Be("",!0)])):Be("",!0)])):Be("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):Be("",!0),l(ie,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(Ae,{class:"pb-2"},{default:d(()=>[G[23]||(G[23]=p("div",{class:"text-subtitle-1 mb-3"},"Item Details",-1)),l(_e,{density:"compact",class:"mb-3"},{default:d(()=>[G[19]||(G[19]=p("thead",null,[p("tr",null,[p("th",{class:"text-left",style:{width:"60px"}},"Sr. No"),p("th",{class:"text-left",style:{width:"300px"}},"Description"),p("th",{class:"text-left",style:{width:"120px"}},"Base Cost per unit ()"),p("th",{class:"text-left",style:{width:"120px"}},"Discount per unit ()"),p("th",{class:"text-left",style:{width:"100px"}},"Quantity"),p("th",{class:"text-left",style:{width:"120px"}},"Total ()")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(m.value.services,(ke,Se)=>(V(),ye("tr",{key:Se},[p("td",null,J(Se+1),1),p("td",v1e,J(ke.serviceDescription),1),p("td",p1e,J(We(Hr)(ke.baseCost)),1),p("td",g1e,J(We(Hr)(ke.discountAmount)),1),p("td",y1e,J(ke.quantity),1),p("td",w1e,J(We(Hr)(We(C)(ke))),1)]))),128))])]),_:1}),l(Pe,{class:"mb-3"}),l(Y,{"no-gutters":""},{default:d(()=>[l(q,{cols:"8",class:"text-right"},{default:d(()=>[G[20]||(G[20]=p("div",{class:"text-body-2 mb-1"},"Subtotal:",-1)),G[21]||(G[21]=p("div",{class:"text-body-2 mb-1"},"Line Discounts:",-1)),m.value.additionalDiscount>0?(V(),ye("div",_1e,"Additional Discount:")):Be("",!0),G[22]||(G[22]=p("div",{class:"text-subtitle-1 font-weight-bold"},"Grand Total:",-1))]),_:1}),l(q,{cols:"4",class:"text-right"},{default:d(()=>[p("div",b1e,J(We(Hr)(We(k))),1),p("div",x1e,"-"+J(We(Hr)(We(E))),1),m.value.additionalDiscount>0?(V(),ye("div",C1e,"-"+J(We(Hr)(m.value.additionalDiscount)),1)):Be("",!0),p("div",E1e,J(We(Hr)(We(_))),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(ie,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(Ae,{class:"pb-2"},{default:d(()=>[G[32]||(G[32]=p("div",{class:"text-subtitle-1 mb-3"},"Payment Information",-1)),l(Y,{"no-gutters":"",class:"mb-3"},{default:d(()=>[l(q,{cols:"4"},{default:d(()=>[G[24]||(G[24]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Total Amount",-1)),p("div",B1e,J(We(Hr)(We(_))),1)]),_:1}),l(q,{cols:"4"},{default:d(()=>[G[25]||(G[25]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Paid Amount",-1)),p("div",S1e,J(We(Hr)(F.value)),1)]),_:1}),l(q,{cols:"4"},{default:d(()=>[G[26]||(G[26]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Balance Due",-1)),p("div",{class:rt(["text-h6",I.value>0?"text-error":"text-success"])},J(We(Hr)(I.value)),3)]),_:1})]),_:1}),u.value?(V(),ye("div",k1e,[l(we,{indeterminate:"",size:"32",color:"primary"}),G[27]||(G[27]=p("div",{class:"text-body-2 mt-2"},"Loading payments...",-1))])):v.value&&v.value.length>0?(V(),ye(ze,{key:1},[l(Pe,{class:"mb-3"}),G[29]||(G[29]=p("div",{class:"text-subtitle-2 mb-2"},"Payment History",-1)),l(_e,{density:"compact"},{default:d(()=>[G[28]||(G[28]=p("thead",null,[p("tr",null,[p("th",{class:"text-left"},"Date"),p("th",{class:"text-left"},"Mode"),p("th",{class:"text-right"},"Amount"),p("th",{class:"text-right"},"Created")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(v.value,ke=>(V(),ye("tr",{key:ke.id},[p("td",I1e,J(W(ke.paymentDate)),1),p("td",T1e,J(ke.mode),1),p("td",F1e,J(We(Hr)(ke.amount)),1),p("td",P1e,J(le(ke.createdAt)),1)]))),128))])]),_:1})],64)):(V(),ye(ze,{key:2},[l(Pe,{class:"mb-3"}),p("div",D1e,[l(ne,{size:"48",color:"outline",class:"mb-2"},{default:d(()=>[...G[30]||(G[30]=[Q("mdi-currency-inr",-1)])]),_:1}),G[31]||(G[31]=p("div",{class:"text-body-2 text-medium-emphasis"},"No payments recorded",-1))])],64))]),_:1})]),_:1}),l(ie,{flat:"",color:"surfaceContainerHigh",class:"card-enhanced"},{default:d(()=>[l(Ae,{class:"d-flex justify-center gap-3 pb-2"},{default:d(()=>[l(X,{color:"secondary",variant:"outlined",onClick:K,"prepend-icon":"mdi-pencil",class:"btn-hover-base"},{default:d(()=>[...G[33]||(G[33]=[Q(" Edit Receipt ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})):Be("",!0)]),_:1}),l(be,{value:"share",class:"h-100"},{default:d(()=>[l(Y,{"no-gutters":"",class:"h-100"},{default:d(()=>[l(q,{cols:"12"},{default:d(()=>[l(Ep,{"content-type":"receipt",data:{consultation:R.value,printConfigurations:y.value,doctor:i.value},patient:{name:m.value?.patientName,patientName:m.value?.patientName,patientId:m.value?.patientId,contactNumber:m.value?.patientContactNumber},onPdfGenerated:ee},null,8,["data","patient"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}},VM=on(U1e,[["__scopeId","data-v-2cbfd0d5"]]),R1e=async e=>{try{if(!e)throw new Error("Doctor ID is required");return{data:(await Bt.get(`/billreceipt/next-identifier/${e}`)).data.data,error:null}}catch(t){return console.error("Error getting next bill identifier:",t),t.response?.status===400&&t.response?.data?.error?.includes("No bill series found")?{data:null,error:{message:"No bill series found. Please create a bill series first in Admin Settings.",needsSeries:!0}}:{data:null,error:t}}},N1e=async e=>{try{if(!e.doctorId||!e.appointmentId||!e.services)throw new Error("Doctor ID, Appointment ID, and services are required");if(!Array.isArray(e.services)||e.services.length===0)throw new Error("At least one service is required");return{data:(await Bt.post("/billreceipt/with-services",e)).data.data,error:null}}catch(t){return console.error("Error creating bill with services:",t),{data:null,error:t}}},MM=async e=>{try{if(!e)throw new Error("Bill ID is required");return{data:(await Bt.get(`/billreceipt/${e}/with-services`)).data.data,error:null}}catch(t){return console.error("Error getting bill with services:",t),{data:null,error:t}}},L1e=async(e,t)=>{try{if(!e)throw new Error("Bill ID is required");if(!t.services||!Array.isArray(t.services)||t.services.length===0)throw new Error("At least one service is required");return{data:(await Bt.put(`/billreceipt/${e}/with-services`,t)).data.data,error:null}}catch(n){return console.error("Error updating bill with services:",n),{data:null,error:n}}},OM=async e=>{try{if(!e)throw new Error("Bill ID is required");return console.log("Fetching payment receipts for bill ID:",e),{success:!0,data:(await Bt.get("/paymentreceipt",{params:{bill_id:e}})).data.data||[],message:"Payment receipts fetched successfully"}}catch(t){return console.error("Error fetching payment receipts for bill:",t),{success:!1,error:{message:t.response?.data?.error||t.message||"Failed to fetch payment receipts",status:t.response?.status||500}}}},fr=e=>!e&&e!==0?"0":`${Number(e).toLocaleString("en-IN")}`;function yk(e,t){const n=h=>{const y=parseFloat(h.baseCost)||0,w=parseInt(h.quantity)||1,b=parseFloat(h.gstPercent)||0,B=parseFloat(h.discountAmount)||0,S=y*w,T=B*w,N=Math.max(0,S-T),k=Math.round(N*b/100),E=N+k;return{baseAmount:S,gstAmount:k,subtotalWithGST:E,discountAmount:T,total:E}},r=Z(()=>e.value.map(h=>({...h,...n(h)}))),a=Z(()=>e.value.reduce((h,y)=>{const w=parseFloat(y.baseCost)||0,b=parseInt(y.quantity)||1;return h+w*b},0)),s=Z(()=>e.value.reduce((h,y)=>{const w=parseFloat(y.baseCost)||0,b=parseInt(y.quantity)||1,B=parseFloat(y.gstPercent)||0,S=parseFloat(y.discountAmount)||0,T=w*b,N=S*b,k=Math.max(0,T-N),E=Math.round(k*B/100);return h+E},0)),o=Z(()=>e.value.reduce((h,y)=>{const w=n(y).total;return h+w},0)),i=Z(()=>e.value.reduce((h,y)=>{const w=parseFloat(y.discountAmount)||0,b=parseInt(y.quantity)||1;return h+w*b},0)),c=Z(()=>{const h=i.value,y=parseFloat(t.value)||0;return h+y}),A=Z(()=>{const h=o.value,y=parseFloat(t.value)||0;return Math.max(0,h-y)}),u=Z(()=>e.value.some(h=>h.serviceDescription&&h.serviceDescription.trim().length>0&&parseFloat(h.baseCost)>0)),f=Z(()=>{const h={};return e.value.forEach(y=>{const w=parseFloat(y.gstPercent)||0;if(w>0){h[w]||(h[w]={rate:w,baseAmount:0,gstAmount:0});const b=parseFloat(y.baseCost)||0,B=parseInt(y.quantity)||1,S=parseFloat(y.discountAmount)||0,T=b*B,N=S*B,k=Math.max(0,T-N),E=Math.round(k*w/100);h[w].baseAmount+=k,h[w].gstAmount+=E}}),Object.values(h)}),m=h=>n(h),v=Z(()=>a.value===0?0:s.value/a.value*100);return{servicesWithTotals:r,baseSubtotal:a,totalGSTAmount:s,subtotalWithGST:o,totalLineDiscount:i,totalAllDiscounts:c,finalGrandTotal:A,gstBreakdown:f,effectiveTaxRate:v,hasValidService:u,calculateServiceTotal:n,getServiceGSTDetails:m}}const V1e={class:"pa-1"},M1e={class:"text-body-1 font-weight-medium"},O1e={class:"text-body-2 text-medium-emphasis"},Q1e={class:"pa-1"},H1e={class:"text-body-1 font-weight-medium"},K1e={class:"text-body-2 text-medium-emphasis"},G1e={class:"pa-1"},z1e={class:"text-body-2 text-medium-emphasis"},$1e={class:"d-flex flex-column py-1"},W1e={class:"text-body-2 font-weight-medium"},j1e={class:"text-caption text-medium-emphasis"},J1e={key:0},q1e={class:"text-caption"},Y1e={key:0,class:"ml-2"},X1e={key:0,class:"text-left",style:{width:"120px"}},Z1e={key:0},eye={class:"text-body-2 font-weight-medium"},tye={class:"text-caption text-medium-emphasis"},nye={key:0,class:"text-body-2 mb-1"},rye={class:"text-body-2 mb-1"},aye={class:"text-body-2 mb-1"},sye={class:"text-body-2 mb-1"},oye={class:"text-body-2 mb-1"},iye={key:0,class:"text-body-2 mb-1"},lye={class:"text-subtitle-1 font-weight-bold"},cye={class:"text-body-2 mb-1"},uye={class:"text-body-2 mb-1"},dye={__name:"bill-receipt-create",props:{appointment:{type:Object,required:!0}},emits:["close","billCreated","view-bill"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=pr(),i=Z(()=>o.state.doctorModule.doctorId),c=Z(()=>o.getters["doctorModule/currentDoctor"]),A=Z(()=>c.value?.doctorName||"Unknown Doctor"),u=Z(()=>c.value?.isGST||!1),f=H({patientName:n.appointment?.patient_name||"",patientId:n.appointment?.patientId||"",appointmentDate:n.appointment?.appointmentDate||"",billDate:Jn(),appointmentId:n.appointment?.id||null,doctorId:i.value,additionalDiscount:0}),m=H([{serviceDescription:"",hsnSacCode:"",baseCost:null,gstPercent:0,quantity:1,discountAmount:0,isFromHistory:!1}]),v=H(!1),h=H(null),y=H([]),w=H(!1);Z(()=>h.value?y.value.find(we=>we.id===h.value):null);const b=H(!1),B=_p,S=H([{amount:null,mode:"Cash",paymentDate:Jn(),datePickerMenu:!1}]);H(!1);const T=yk(m,Z(()=>f.value.additionalDiscount)),{servicesWithTotals:N,baseSubtotal:k,totalGSTAmount:E,subtotalWithGST:_,totalLineDiscount:C,totalAllDiscounts:F,finalGrandTotal:I,hasValidService:R,gstBreakdown:M,calculateServiceTotal:te}=T,se=()=>{m.value.push({serviceDescription:"",hsnSacCode:"",baseCost:null,gstPercent:0,quantity:1,discountAmount:0,isFromHistory:!1})},O=we=>{m.value.length>1?m.value.splice(we,1):s("At least one service is required")},W=(we,z)=>{m.value[we]&&(m.value[we].serviceDescription=z)},le=(we,z)=>{console.log("Service selected:",z),z&&typeof z=="object"&&!z.isUserTyped?(m.value[we]={...m.value[we],serviceDescription:z.serviceDescription,hsnSacCode:z.hsnSacCode||"",baseCost:z.baseCost||0,gstPercent:z.gstPercent||z.gstRate||0,isFromHistory:!1},console.log("Updated service with baseCost:",m.value[we].baseCost,"and GST%:",m.value[we].gstPercent,"and HSN/SAC:",m.value[we].hsnSacCode)):z===null&&(m.value[we]={...m.value[we],serviceDescription:"",hsnSacCode:"",baseCost:0,gstPercent:0,isFromHistory:!1})},K=Z(()=>{const we=R.value,z=f.value.doctorId&&f.value.appointmentId;return console.log("Bill validation check:",{hasValidService:we,hasValidAppointment:z,billData:f.value}),we&&z}),ee=async()=>{if(!f.value.patientId||!f.value.doctorId){console.log("Missing patient or doctor ID for loading treatment plans");return}w.value=!0;try{console.log("Loading treatment plans for patient:",f.value.patientId,"doctor:",f.value.doctorId);const we=await bp(f.value.patientId,f.value.doctorId);if(we.error)throw new Error(we.error.message||"Failed to load treatment plans");y.value=we.data||[],console.log("Loaded treatment plans:",y.value.length)}catch(we){console.error("Error loading treatment plans:",we),s("Failed to load treatment plans: "+(we.message||"Unknown error")),y.value=[]}finally{w.value=!1}},j=Z(()=>S.value.reduce((we,z)=>we+(parseFloat(z.amount)||0),0)),U=Z(()=>I.value-j.value),G=we=>{if(!we)return"";try{return new Date(we).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return we}},ne=()=>{S.value.push({amount:null,mode:"Cash",paymentDate:Jn(),datePickerMenu:!1})},X=we=>{S.value.length>1?S.value.splice(we,1):S.value[0]={amount:null,mode:"Cash",paymentDate:Jn(),datePickerMenu:!1}},oe=we=>{if(!we)return null;try{if(typeof we=="string")return we.includes("T")?we.split("T")[0]:we;if(we instanceof Date){const z=we.getFullYear(),Ae=String(we.getMonth()+1).padStart(2,"0"),ie=String(we.getDate()).padStart(2,"0");return`${z}-${Ae}-${ie}`}return null}catch(z){return console.error("Error parsing payment date:",z),null}},q=(we,z)=>{if(we)if(we instanceof Date){const Ae=we.getFullYear(),ie=String(we.getMonth()+1).padStart(2,"0"),_e=String(we.getDate()).padStart(2,"0");z.paymentDate=`${Ae}-${ie}-${_e}`}else typeof we=="string"&&(z.paymentDate=we);else z.paymentDate="";z.datePickerMenu=!1},Y=async()=>{if(!K.value){s("Please fill in all required fields and add at least one valid service");return}b.value=!0;try{const{data:we,error:z}=await R1e(f.value.doctorId);if(z){if(z.needsSeries){s("No bill series found. Please create a bill series first in Admin Settings  GST Bill Series Configuration.");return}throw new Error(z.message||"Failed to get next bill identifier")}console.log("Next bill identifier:",we);const Ae={doctorId:f.value.doctorId,appointmentId:f.value.appointmentId,billDate:f.value.billDate,additionalDiscount:f.value.additionalDiscount||0,treatmentPlanId:v.value?h.value:null,services:m.value.map(re=>({serviceDescription:re.serviceDescription,hsnSacCode:re.hsnSacCode||"",baseCost:re.baseCost,gstPercent:re.gstPercent||0,quantity:re.quantity||1,discountAmount:re.discountAmount||0}))};console.log("Creating bill with data:",Ae);const{data:ie,error:_e}=await N1e(Ae);if(_e)throw new Error(_e.message||"Failed to create bill");console.log("Bill created successfully:",ie),S.value.some(re=>re.amount&&parseFloat(re.amount)>0&&re.mode&&re.paymentDate)&&await ae(ie.id),a("Bill created successfully!"),r("billCreated",ie),r("view-bill",ie.id)}catch(we){console.error("Error generating bill:",we),s("Failed to generate bill. Please try again.")}finally{b.value=!1}},ae=async we=>{try{console.log("Creating payment receipt for bill:",we);const z={doctorId:f.value.doctorId,appointmentId:f.value.appointmentId,billId:we,paymentReceiptDate:Jn(),additionalDiscount:0,isThreeC:!0,treatmentPlanId:v.value?h.value:null};console.log("Creating payment receipt with payload:",z);const Ae=await _8(z);if(Ae.error){console.error("Error creating payment receipt:",Ae.error),s("Bill created but failed to create payment receipt: "+Ae.error.message);return}const ie=Ae.data.id;console.log("Payment receipt created:",ie);const _e=S.value.filter(Pe=>Pe.amount&&parseFloat(Pe.amount)>0&&Pe.mode&&Pe.paymentDate);console.log("Creating payments:",_e);for(const Pe of _e){const re={amount:Number(Pe.amount),mode:Pe.mode,paymentDate:Pe.paymentDate,paymentReceiptId:ie,appointmentId:f.value.appointmentId};console.log("Creating payment with payload:",re);const be=await wp(re);be.success?console.log("Payment created successfully:",be.data):(console.error("Error creating payment:",be.error),s(`Failed to create payment: ${be.error?.message||"Unknown error"}`))}S.value=[{amount:null,mode:"Cash",paymentDate:Jn()}],a("Payment receipt and payments created successfully!")}catch(z){console.error("Error creating payment receipt and payments:",z),s("Bill created but failed to create payments: "+(z.message||"Unknown error"))}},ge=()=>{b.value=!1,m.value=[{serviceDescription:"",hsnSacCode:"",baseCost:null,gstPercent:0,quantity:1,discountAmount:0,isFromHistory:!1}],f.value={patientName:n.appointment?.patient_name||"",patientId:n.appointment?.patientId||"",appointmentDate:n.appointment?.appointmentDate||"",billDate:Jn(),appointmentId:n.appointment?.id||null,doctorId:i.value,additionalDiscount:0},S.value=[{amount:null,mode:"Cash",paymentDate:Jn(),datePickerMenu:!1}],v.value=!1,h.value=null,y.value=[],w.value=!1,r("close")};return Ge(v,we=>{we&&y.value.length===0?ee():we||(h.value=null)}),(we,z)=>{const Ae=D("v-icon"),ie=D("v-btn"),_e=D("v-card-title"),Pe=D("v-col"),re=D("v-row"),be=D("v-label"),He=D("v-card-text"),ke=D("v-card"),Se=D("v-switch"),st=D("v-list-item"),je=D("v-select"),Ve=D("v-text-field"),Te=D("v-table"),Le=D("v-divider"),ht=D("v-date-picker"),Ct=D("v-menu"),Dt=D("v-container");return V(),he(ke,{rounded:"lg",color:"surfaceContainer",flat:"",ripple:!1},{default:d(()=>[l(re,{"no-gutters":""},{default:d(()=>[l(Pe,{cols:"12"},{default:d(()=>[l(_e,{class:"d-flex align-center justify-space-between"},{default:d(()=>[z[4]||(z[4]=p("span",null,"Tax Invoice cum Bill of Supply - Generate",-1)),l(ie,{onClick:ge,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(Ae,{size:"18"},{default:d(()=>[...z[3]||(z[3]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(re,{"no-gutters":""},{default:d(()=>[l(Pe,{cols:"12",class:"scroll-element"},{default:d(()=>[l(Dt,{fluid:"",class:"pa-3"},{default:d(()=>[l(ke,{flat:"",color:"surfaceContainerHigh",class:"mb-4 card-enhanced"},{default:d(()=>[l(He,{class:"pb-1 pt-2"},{default:d(()=>[l(re,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(Pe,{cols:"4"},{default:d(()=>[p("div",V1e,[l(be,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...z[5]||(z[5]=[Q("Patient Information",-1)])]),_:1}),p("div",M1e,J(f.value.patientName),1),p("div",O1e,"ID: "+J(f.value.patientId),1)])]),_:1}),l(Pe,{cols:"4"},{default:d(()=>[p("div",Q1e,[l(be,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...z[6]||(z[6]=[Q("Appointment Details",-1)])]),_:1}),p("div",H1e,"Dr. "+J(A.value),1),p("div",K1e,"Date: "+J(G(f.value.appointmentDate)),1)])]),_:1}),l(Pe,{cols:"4"},{default:d(()=>[p("div",G1e,[l(be,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...z[7]||(z[7]=[Q("Tax Invoice cum Bill of Supply Information",-1)])]),_:1}),z[8]||(z[8]=p("div",{class:"text-body-1 font-weight-medium"},"New Bill",-1)),p("div",z1e,"Date: "+J(G(f.value.billDate)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),l(ke,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(He,{class:"pb-2"},{default:d(()=>[l(re,{"no-gutters":"",align:"center",class:"mb-3"},{default:d(()=>[l(Pe,{cols:"2",class:"d-flex align-center"},{default:d(()=>[...z[9]||(z[9]=[p("div",{class:"text-subtitle-1"},"Treatment Plan",-1)])]),_:1}),l(Pe,{cols:"3",class:"d-flex align-center"},{default:d(()=>[l(Se,{modelValue:v.value,"onUpdate:modelValue":z[0]||(z[0]=Je=>v.value=Je),label:"Link to treatment plan",color:"primary",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),v.value?(V(),he(Pe,{key:0,cols:"7"},{default:d(()=>[l(je,{modelValue:h.value,"onUpdate:modelValue":z[1]||(z[1]=Je=>h.value=Je),items:y.value,"item-title":"treatmentPlanName","item-value":"id",label:"Select Treatment Plan",variant:"outlined",density:"compact",loading:w.value,disabled:w.value,clearable:"","hide-details":""},{selection:d(({item:Je})=>[p("div",$1e,[p("div",W1e,J(Je.raw.treatmentPlanName),1),p("div",j1e,[Q(" Status: "+J(Je.raw.status)+"  Created: "+J(G(Je.raw.createdAt))+" ",1),Je.raw.notes?(V(),ye("span",J1e,"  "+J(Je.raw.notes.substring(0,30))+"...",1)):Be("",!0)])])]),item:d(({props:Je,item:Oe})=>[l(st,LA(fd(Je)),{title:d(()=>[Q(J(Oe.raw.treatmentPlanName),1)]),subtitle:d(()=>[p("div",q1e,[Q(" Status: "+J(Oe.raw.status)+"  Created: "+J(G(Oe.raw.createdAt))+" ",1),Oe.raw.notes?(V(),ye("span",Y1e," "+J(Oe.raw.notes.substring(0,50))+"...",1)):Be("",!0)])]),_:2},1040)]),_:1},8,["modelValue","items","loading","disabled"])]),_:1})):Be("",!0)]),_:1})]),_:1})]),_:1}),l(ke,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(He,{class:"pb-2"},{default:d(()=>[z[25]||(z[25]=p("div",{class:"text-subtitle-1 mb-3"},"Goods and Services Information",-1)),l(Te,{density:"compact",class:"mb-3"},{default:d(()=>[p("thead",null,[p("tr",null,[z[10]||(z[10]=p("th",{class:"text-left",style:{width:"60px"}},"Sr. No",-1)),z[11]||(z[11]=p("th",{class:"text-left",style:{width:"250px"}},"Description",-1)),u.value?(V(),ye("th",X1e,"HSN/SAC Code")):Be("",!0),z[12]||(z[12]=p("th",{class:"text-left",style:{width:"120px"}},"Base Cost per unit ()",-1)),z[13]||(z[13]=p("th",{class:"text-left",style:{width:"120px"}},"Discount per unit ()",-1)),z[14]||(z[14]=p("th",{class:"text-left",style:{width:"100px"}},"GST %",-1)),z[15]||(z[15]=p("th",{class:"text-left",style:{width:"100px"}},"Quantity",-1)),z[16]||(z[16]=p("th",{class:"text-left",style:{width:"120px"}},"Total ()",-1)),z[17]||(z[17]=p("th",{class:"text-left",style:{width:"80px"}},"Actions",-1))])]),p("tbody",null,[(V(!0),ye(ze,null,Jt(We(N),(Je,Oe)=>(V(),ye("tr",{key:Oe},[p("td",null,J(Oe+1),1),p("td",null,[l(Sw,{"model-value":Je.serviceDescription,"onUpdate:modelValue":it=>W(Oe,it),onServiceSelected:it=>le(Oe,it),"doctor-id":i.value,density:"compact"},null,8,["model-value","onUpdate:modelValue","onServiceSelected","doctor-id"])]),u.value?(V(),ye("td",Z1e,[l(Ve,{modelValue:m.value[Oe].hsnSacCode,"onUpdate:modelValue":it=>m.value[Oe].hsnSacCode=it,density:"compact",variant:"underlined","hide-details":"",placeholder:"HSN/SAC"},null,8,["modelValue","onUpdate:modelValue"])])):Be("",!0),p("td",null,[l(Ve,{modelValue:m.value[Oe].baseCost,"onUpdate:modelValue":it=>m.value[Oe].baseCost=it,modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"underlined","hide-details":"",min:"0",step:"1"},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(Ve,{modelValue:m.value[Oe].discountAmount,"onUpdate:modelValue":it=>m.value[Oe].discountAmount=it,modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"underlined","hide-details":"",min:"0",step:"1"},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(Ve,{modelValue:m.value[Oe].gstPercent,"onUpdate:modelValue":it=>m.value[Oe].gstPercent=it,modelModifiers:{number:!0},type:"number",suffix:"%",density:"compact",variant:"underlined","hide-details":"",min:"0",max:"100",step:"0.1"},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(Ve,{modelValue:m.value[Oe].quantity,"onUpdate:modelValue":it=>m.value[Oe].quantity=it,modelModifiers:{number:!0},type:"number",density:"compact",variant:"underlined","hide-details":"",min:"1",step:"1"},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[p("div",eye," "+J(We(te)(m.value[Oe]).total||0),1),p("div",tye," GST: "+J(We(te)(m.value[Oe]).gstAmount||0),1)]),p("td",null,[l(ie,{icon:"",size:"small",color:"error",variant:"text",onClick:it=>O(Oe)},{default:d(()=>[l(Ae,null,{default:d(()=>[...z[18]||(z[18]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])])]))),128))])]),_:1}),l(re,{"no-gutters":"",class:"align-center"},{default:d(()=>[l(Pe,{cols:"auto"},{default:d(()=>[l(ie,{variant:"outlined",color:"primary",onClick:se,"prepend-icon":"mdi-plus",class:"btn-hover-base"},{default:d(()=>[...z[19]||(z[19]=[Q(" Add Service ",-1)])]),_:1})]),_:1}),l(Pe),l(Pe,{cols:"3"},{default:d(()=>[l(Ve,{label:"Additional Discount",modelValue:f.value.additionalDiscount,"onUpdate:modelValue":z[2]||(z[2]=Je=>f.value.additionalDiscount=Je),modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),l(Le,{class:"mb-3"}),l(re,{"no-gutters":""},{default:d(()=>[l(Pe,{cols:"8",class:"text-right"},{default:d(()=>[z[20]||(z[20]=p("div",{class:"text-body-2 mb-1"},"Base Cost Total:",-1)),z[21]||(z[21]=p("div",{class:"text-body-2 mb-1"},"Line Item Discounts:",-1)),z[22]||(z[22]=p("div",{class:"text-body-2 mb-1"},"GST:",-1)),z[23]||(z[23]=p("div",{class:"text-body-2 mb-1"},"Subtotal with GST:",-1)),f.value.additionalDiscount>0?(V(),ye("div",nye,"Additional Discount:")):Be("",!0),z[24]||(z[24]=p("div",{class:"text-subtitle-1 font-weight-bold"},"Grand Total:",-1))]),_:1}),l(Pe,{cols:"4",class:"text-right"},{default:d(()=>[p("div",rye,J(We(fr)(We(k))),1),p("div",aye,"-"+J(We(fr)(We(C))),1),p("div",sye,J(We(fr)(We(E))),1),p("div",oye,J(We(fr)(We(_))),1),f.value.additionalDiscount>0?(V(),ye("div",iye,"-"+J(We(fr)(f.value.additionalDiscount)),1)):Be("",!0),p("div",lye,J(We(fr)(We(I))),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(ke,{flat:"",class:"mb-3 card-enhanced",color:"surfaceContainerHigh"},{default:d(()=>[l(He,{class:"pb-2"},{default:d(()=>[z[30]||(z[30]=p("div",{class:"text-subtitle-1 mb-3"},"Payment Information",-1)),l(Te,{density:"compact",class:"mb-3"},{default:d(()=>[z[28]||(z[28]=p("thead",null,[p("tr",null,[p("th",{class:"text-left",style:{width:"60px"}},"Sr. No"),p("th",{class:"text-left",style:{width:"150px"}},"Amount ()"),p("th",{class:"text-left",style:{width:"120px"}},"Payment Mode"),p("th",{class:"text-left",style:{width:"150px"}},"Payment Date"),p("th",{class:"text-left",style:{width:"80px"}},"Actions")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(S.value,(Je,Oe)=>(V(),ye("tr",{key:Oe},[p("td",null,J(Oe+1),1),p("td",null,[l(Ve,{modelValue:Je.amount,"onUpdate:modelValue":it=>Je.amount=it,modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"underlined","hide-details":"",min:"0",step:"1"},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(je,{modelValue:Je.mode,"onUpdate:modelValue":it=>Je.mode=it,items:We(B),density:"compact",variant:"underlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue","items"])]),p("td",null,[l(Ct,{modelValue:Je.datePickerMenu,"onUpdate:modelValue":it=>Je.datePickerMenu=it,"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:d(({props:it})=>[l(Ve,Ne({modelValue:Je.paymentDate,"onUpdate:modelValue":at=>Je.paymentDate=at,density:"compact",variant:"underlined","hide-details":"",readonly:""},{ref_for:!0},it),{"append-inner":d(()=>[l(Ae,{class:"text-medium-emphasis"},{default:d(()=>[...z[26]||(z[26]=[Q("mdi-calendar",-1)])]),_:1})]),_:1},16,["modelValue","onUpdate:modelValue"])]),default:d(()=>[l(ht,{"model-value":oe(Je.paymentDate),"onUpdate:modelValue":it=>q(it,Je),color:"primary",locale:"en-IN"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(ie,{icon:"",size:"small",color:"error",variant:"text",onClick:it=>X(Oe)},{default:d(()=>[l(Ae,null,{default:d(()=>[...z[27]||(z[27]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])])]))),128))])]),_:1}),l(re,{"no-gutters":"",class:"align-center"},{default:d(()=>[l(Pe,{cols:"auto"},{default:d(()=>[l(ie,{variant:"outlined",color:"secondary",onClick:ne,"prepend-icon":"mdi-plus",class:"btn-hover-base"},{default:d(()=>[...z[29]||(z[29]=[Q(" Add Payment ",-1)])]),_:1})]),_:1}),l(Pe),l(Pe,{cols:"4",class:"text-right"},{default:d(()=>[p("div",cye,"Bill Total: "+J(We(fr)(We(I))),1),p("div",uye,"Total Payments: "+J(We(fr)(j.value)),1),p("div",{class:rt(["text-subtitle-1 font-weight-bold",U.value>=0?"text-success":"text-error"])}," Balance: "+J(We(fr)(U.value)),3)]),_:1})]),_:1})]),_:1})]),_:1}),l(ke,{flat:"",color:"surfaceContainerHigh",class:"card-enhanced"},{default:d(()=>[l(He,{class:"d-flex justify-center pb-2"},{default:d(()=>[l(ie,{color:"primary",onClick:Y,disabled:!K.value||b.value,loading:b.value,"prepend-icon":"mdi-receipt",class:"btn-hover-base"},{default:d(()=>[...z[31]||(z[31]=[Q(" Generate Bill ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},Aye=on(dye,[["__scopeId","data-v-2b956934"]]),fye={class:"text-center"},mye={class:"text-center"},hye={class:"text-body-2 text-medium-emphasis mb-4"},vye={class:"pa-1"},pye={class:"text-body-1 font-weight-medium"},gye={class:"text-body-2 text-medium-emphasis"},yye={class:"pa-1"},wye={class:"text-body-1 font-weight-medium"},_ye={class:"text-body-2 text-medium-emphasis"},bye={class:"pa-1"},xye={class:"text-body-1 font-weight-medium"},Cye={class:"text-body-2 text-medium-emphasis"},Eye={key:0,class:"text-body-2 text-medium-emphasis"},Bye={key:0,class:"d-flex align-center"},Sye={key:1,class:"text-body-2 text-error"},kye={key:2,class:"d-flex flex-column"},Iye={class:"text-body-2 font-weight-medium"},Tye={class:"text-caption text-medium-emphasis"},Fye={key:0},Pye={key:1},Dye={key:0,class:"text-caption text-medium-emphasis mt-1"},Uye={key:0},Rye={key:0,class:"text-left"},Nye={key:1,class:"text-right"},Lye={class:"text-left"},Vye={class:"text-left"},Mye={key:0,class:"text-left"},Oye={class:"text-right"},Qye={key:1,class:"text-right"},Hye={class:"text-center"},Kye={class:"text-center"},Gye={class:"text-right"},zye={class:"text-right"},$ye={key:0,class:"text-body-2 mb-1"},Wye={key:1,class:"text-body-2 mb-1"},jye={key:2,class:"text-body-2 mb-1"},Jye={key:0,class:"text-body-2 mb-1"},qye={key:1,class:"text-body-2 mb-1"},Yye={class:"text-body-2 mb-1"},Xye={class:"text-body-2 mb-1"},Zye={key:2,class:"text-body-2 mb-1"},e2e={class:"text-subtitle-1 font-weight-bold"},t2e={key:0,class:"text-center pa-4"},n2e={key:1,class:"text-center pa-4"},r2e={class:"text-body-2 text-error"},a2e={class:"text-body-1 font-weight-medium"},s2e={class:"text-caption text-medium-emphasis"},o2e={class:"text-h6"},i2e={class:"text-h6 text-success"},l2e={key:0,class:"text-center pa-4"},c2e={class:"text-left"},u2e={class:"text-left"},d2e={class:"text-right"},A2e={class:"text-center pa-4"},f2e={key:3,class:"text-center pa-4"},m2e={__name:"bill-receipt-view",props:{billId:{type:[String,Number],required:!0}},emits:["close","edit-bill"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=pr(),i=Z(()=>o.getters["doctorModule/currentDoctor"]),c=Z(()=>i.value?.doctorName||"Unknown Doctor"),A=Z(()=>i.value?.isGST||!1),u=H(!1),f=H(!1),m=H(!1),v=H(null),h=H(null),y=H(null),w=H(null),b=H([]),B=H("view"),S=H({}),T=H(null),N=H(null),k=H(!1),E=H(null),_=Z(()=>{if(!y.value?.services)return null;const Y=H(y.value.services||[]),ae=H(y.value.additionalDiscount||0);return yk(Y,ae)}),C=Z(()=>_.value?.baseSubtotal.value||0),F=Z(()=>_.value?.totalGSTAmount.value||0),I=Z(()=>_.value?.subtotalWithGST.value||0),R=Z(()=>_.value?.totalLineDiscount.value||0),M=Z(()=>_.value?.finalGrandTotal.value||0),te=Y=>_.value?_.value.calculateServiceTotal(Y):{total:0,gstAmount:0},se=Z(()=>Array.isArray(b.value)?b.value.reduce((Y,ae)=>Y+(parseFloat(ae.amount)||0),0):0),O=Z(()=>Math.max(0,M.value-se.value)),W=Z(()=>y.value?.services?y.value.services.some(Y=>(parseFloat(Y.discountAmount)||0)>0):!1),le=Z(()=>y.value?{patientName:y.value.patientName||"Unknown Patient",patientId:y.value.patientId||"N/A",patientAge:y.value.patientAge||y.value.age||"N/A",patientGender:y.value.patientGender||y.value.gender||"N/A",patientContactNumber:y.value.patientContactNumber,doctorName:c.value,billNumber:y.value.identifier,billDate:y.value.billDate,appointmentDate:y.value.appointmentDate,services:(y.value.services||[]).map(Y=>{const ae=te(Y);return{...Y,gstAmount:ae.gstAmount,totalWithGst:ae.total}}),baseSubtotal:C.value,totalGSTAmount:F.value,subtotalWithGST:I.value,totalLineDiscount:R.value,additionalDiscount:parseFloat(y.value.additionalDiscount)||0,grandTotal:M.value,associatedReceipt:w.value?{...w.value,balanceDue:O.value}:null,totalPaid:se.value,balanceDue:O.value,payments:(b.value||[]).map(Y=>({...Y,paymentDate:Y.paymentDate?ne(Y.paymentDate):"N/A",paymentMethod:Y.mode||"N/A",amount:Y.amount||0}))}:null),K=async()=>{if(!n.billId){v.value="No bill ID provided";return}u.value=!0,v.value=null;try{console.log("Loading bill data for ID:",n.billId);const Y=await MM(n.billId);if(Y.error)throw new Error(Y.error.message||"Failed to load bill");if(y.value=Y.data,console.log("Bill data loaded:",y.value),y.value&&(!y.value.patientAge||!y.value.patientGender))try{const ae=y.value.patientId;if(ae&&o.getters["patientModule/getPatientById"]){const ge=o.getters["patientModule/getPatientById"](ae);ge&&(y.value.patientAge=y.value.patientAge||ge.age,y.value.patientGender=y.value.patientGender||ge.gender)}}catch(ae){console.warn("Could not fetch additional patient details:",ae)}Y.data.treatmentPlanId&&(T.value=Y.data.treatmentPlanId,await ee()),await j(),await G()}catch(Y){console.error("Error loading bill data:",Y),v.value=Y.message||"Failed to load bill data",s(v.value)}finally{u.value=!1}},ee=async()=>{if(!T.value){N.value=null;return}k.value=!0,E.value=null;try{console.log("Loading treatment plan data for ID:",T.value);const Y=await bA(T.value);if(Y.error)throw new Error(Y.error.message||"Failed to load treatment plan");N.value=Y.data,console.log("Treatment plan data loaded:",N.value)}catch(Y){console.error("Error loading treatment plan data:",Y),E.value=Y.message||"Failed to load treatment plan"}finally{k.value=!1}},j=async()=>{if(!n.billId){w.value=null;return}f.value=!0,h.value=null;try{console.log("Loading associated payment receipt for bill ID:",n.billId);const Y=await OM(n.billId);Y.success&&Array.isArray(Y.data)&&Y.data.length>0?(w.value=Y.data[0],console.log("Associated payment receipt loaded:",w.value),await U()):(console.warn("No associated payment receipt found for bill:",n.billId),w.value=null)}catch(Y){console.error("Error loading associated payment receipt:",Y),h.value=Y.message||"Failed to load payment information"}finally{f.value=!1}},U=async()=>{if(!w.value?.id){b.value=[];return}m.value=!0;try{console.log("Loading payments for receipt ID:",w.value.id);const Y=await kw(w.value.id);Y.success&&Array.isArray(Y.data)?(b.value=Y.data,console.log("Payments loaded:",b.value)):(console.warn("No payments found or invalid response:",Y),b.value=[])}catch(Y){console.error("Error loading receipt payments:",Y),b.value=[]}finally{m.value=!1}},G=async()=>{try{const Y=o.state.doctorModule.doctorId;if(!Y){console.warn("No doctor ID available for print configurations");return}const ae=await Mw(Y);S.value=ae.data||{},console.log("Print configurations fetched:",S.value)}catch(Y){console.error("Error fetching print configs:",Y),s("Failed to load print configurations")}},ne=Y=>{if(!Y)return"";try{return new Date(Y).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return Y}},X=()=>{r("edit-bill",n.billId)},oe=Y=>{console.log("Bill PDF generated successfully:",Y),a("Bill PDF generated successfully")},q=()=>{r("close")};return fn(()=>{K()}),(Y,ae)=>{const ge=D("v-icon"),we=D("v-btn"),z=D("v-card-title"),Ae=D("v-col"),ie=D("v-row"),_e=D("v-tab"),Pe=D("v-tabs"),re=D("v-progress-circular"),be=D("v-label"),He=D("v-card-text"),ke=D("v-card"),Se=D("v-table"),st=D("v-divider"),je=D("v-container"),Ve=D("v-tabs-window-item"),Te=D("v-tabs-window");return V(),he(ke,{rounded:"lg",color:"surfaceContainer",flat:"",ripple:!1},{default:d(()=>[l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12"},{default:d(()=>[l(z,{class:"d-flex align-center justify-space-between"},{default:d(()=>[ae[3]||(ae[3]=p("span",null,"Tax Invoice cum Bill of Supply - View",-1)),l(we,{onClick:q,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(ge,{size:"18"},{default:d(()=>[...ae[2]||(ae[2]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12"},{default:d(()=>[l(Pe,{modelValue:B.value,"onUpdate:modelValue":ae[0]||(ae[0]=Le=>B.value=Le),color:"primary","bg-color":"surfaceContainerHigh","align-tabs":"start",class:"mx-3 mb-3"},{default:d(()=>[l(_e,{value:"view"},{default:d(()=>[l(ge,{start:""},{default:d(()=>[...ae[4]||(ae[4]=[Q("mdi-eye",-1)])]),_:1}),ae[5]||(ae[5]=Q(" View Bill ",-1))]),_:1}),l(_e,{value:"share"},{default:d(()=>[l(ge,{start:""},{default:d(()=>[...ae[6]||(ae[6]=[Q("mdi-share-variant",-1)])]),_:1}),ae[7]||(ae[7]=Q(" Share Bill ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"scroll-element"},{default:d(()=>[l(Te,{modelValue:B.value,"onUpdate:modelValue":ae[1]||(ae[1]=Le=>B.value=Le)},{default:d(()=>[l(Ve,{value:"view"},{default:d(()=>[u.value?(V(),he(ie,{key:0,"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",fye,[l(re,{indeterminate:"",color:"primary",size:"64"}),ae[8]||(ae[8]=p("div",{class:"mt-4 text-subtitle-1"},"Loading bill...",-1))])]),_:1})]),_:1})):v.value?(V(),he(ie,{key:1,"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",mye,[l(ge,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...ae[9]||(ae[9]=[Q("mdi-alert-circle",-1)])]),_:1}),ae[11]||(ae[11]=p("div",{class:"text-h6 mb-2"},"Failed to Load Bill",-1)),p("div",hye,J(v.value),1),l(we,{color:"primary",onClick:K,"prepend-icon":"mdi-refresh"},{default:d(()=>[...ae[10]||(ae[10]=[Q(" Try Again ",-1)])]),_:1})])]),_:1})]),_:1})):y.value?(V(),he(je,{key:2,fluid:"",class:"pa-3"},{default:d(()=>[l(ke,{flat:"",color:"surfaceContainerHigh",class:"mb-4 card-enhanced"},{default:d(()=>[l(He,{class:"pb-1 pt-2"},{default:d(()=>[l(ie,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(Ae,{cols:"4"},{default:d(()=>[p("div",vye,[l(be,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...ae[12]||(ae[12]=[Q("Patient Information",-1)])]),_:1}),p("div",pye,J(y.value.patientName||"Unknown Patient"),1),p("div",gye,"ID: "+J(y.value.patientId||"N/A"),1)])]),_:1}),l(Ae,{cols:"4"},{default:d(()=>[p("div",yye,[l(be,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...ae[13]||(ae[13]=[Q("Appointment Details",-1)])]),_:1}),p("div",wye,"Dr. "+J(c.value),1),p("div",_ye,"Date: "+J(ne(y.value.appointmentDate)),1)])]),_:1}),l(Ae,{cols:"4"},{default:d(()=>[p("div",bye,[l(be,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...ae[14]||(ae[14]=[Q("Tax Invoice cum Bill of Supply Information",-1)])]),_:1}),p("div",xye,J(y.value.identifier),1),p("div",Cye,"Date: "+J(ne(y.value.billDate)),1),i.value?.isGST&&i.value?.gstIdentifier?(V(),ye("div",Eye,"GST: "+J(i.value.gstIdentifier),1)):Be("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),T.value?(V(),he(ke,{key:0,flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(He,{class:"pb-2"},{default:d(()=>[l(ie,{"no-gutters":"",align:"center",class:"mb-2"},{default:d(()=>[l(Ae,{cols:"3",class:"d-flex align-center"},{default:d(()=>[...ae[15]||(ae[15]=[p("div",{class:"text-subtitle-1"},"Treatment Plan",-1)])]),_:1}),l(Ae,{cols:"9"},{default:d(()=>[k.value?(V(),ye("div",Bye,[l(re,{indeterminate:"",size:"16",color:"primary",class:"mr-2"}),ae[16]||(ae[16]=p("span",{class:"text-body-2"},"Loading treatment plan...",-1))])):E.value?(V(),ye("div",Sye,[l(ge,{size:"16",class:"mr-1"},{default:d(()=>[...ae[17]||(ae[17]=[Q("mdi-alert-circle",-1)])]),_:1}),Q(" "+J(E.value),1)])):N.value?(V(),ye("div",kye,[p("div",Iye,J(N.value.treatmentPlanName),1),p("div",Tye,[Q(" Status: "+J(N.value.status)+" ",1),N.value.startDate?(V(),ye("span",Fye,"  Start: "+J(ne(N.value.startDate)),1)):Be("",!0),N.value.endDate?(V(),ye("span",Pye,"  End: "+J(ne(N.value.endDate)),1)):Be("",!0)]),N.value.notes?(V(),ye("div",Dye,[ae[18]||(ae[18]=p("strong",null,"Notes:",-1)),Q(" "+J(N.value.notes.substring(0,80)),1),N.value.notes.length>80?(V(),ye("span",Uye,"...")):Be("",!0)])):Be("",!0)])):Be("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):Be("",!0),l(ke,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(He,{class:"pb-2"},{default:d(()=>[ae[29]||(ae[29]=p("div",{class:"text-subtitle-1 mb-3"},"Goods and Services Information",-1)),l(Se,{density:"compact",class:"mb-3"},{default:d(()=>[p("thead",null,[p("tr",null,[ae[19]||(ae[19]=p("th",{class:"text-left"},"Sr. No",-1)),ae[20]||(ae[20]=p("th",{class:"text-left"},"Description",-1)),A.value?(V(),ye("th",Rye,"HSN/SAC Code")):Be("",!0),ae[21]||(ae[21]=p("th",{class:"text-right"},"Base Cost per unit",-1)),W.value?(V(),ye("th",Nye,"Discount per unit")):Be("",!0),ae[22]||(ae[22]=p("th",{class:"text-center"},"GST %",-1)),ae[23]||(ae[23]=p("th",{class:"text-center"},"Qty",-1)),ae[24]||(ae[24]=p("th",{class:"text-right"},"GST Amt",-1)),ae[25]||(ae[25]=p("th",{class:"text-right"},"Total",-1))])]),p("tbody",null,[(V(!0),ye(ze,null,Jt(y.value.services,(Le,ht)=>(V(),ye("tr",{key:ht},[p("td",Lye,J(ht+1),1),p("td",Vye,J(Le.serviceDescription),1),A.value?(V(),ye("td",Mye,J(Le.hsnSacCode||"N/A"),1)):Be("",!0),p("td",Oye,J(We(fr)(Le.baseCost)),1),W.value?(V(),ye("td",Qye,J(We(fr)(Le.discountAmount)),1)):Be("",!0),p("td",Hye,J(Le.gstPercent)+"%",1),p("td",Kye,J(Le.quantity),1),p("td",Gye,J(We(fr)(te(Le).gstAmount)),1),p("td",zye,J(We(fr)(te(Le).total)),1)]))),128))])]),_:1}),l(st,{class:"mb-3"}),l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"8",class:"text-right"},{default:d(()=>[W.value?(V(),ye("div",$ye,"Base Cost Total:")):Be("",!0),W.value?(V(),ye("div",Wye,"Line Item Discounts:")):Be("",!0),ae[26]||(ae[26]=p("div",{class:"text-body-2 mb-1"},"GST:",-1)),ae[27]||(ae[27]=p("div",{class:"text-body-2 mb-1"},"Subtotal with GST:",-1)),y.value.additionalDiscount>0?(V(),ye("div",jye,"Additional Discount:")):Be("",!0),ae[28]||(ae[28]=p("div",{class:"text-subtitle-1 font-weight-bold"},"Grand Total:",-1))]),_:1}),l(Ae,{cols:"4",class:"text-right"},{default:d(()=>[W.value?(V(),ye("div",Jye,J(We(fr)(C.value)),1)):Be("",!0),W.value?(V(),ye("div",qye,"-"+J(We(fr)(R.value)),1)):Be("",!0),p("div",Yye,J(We(fr)(F.value)),1),p("div",Xye,J(We(fr)(I.value)),1),y.value.additionalDiscount>0?(V(),ye("div",Zye,"-"+J(We(fr)(y.value.additionalDiscount)),1)):Be("",!0),p("div",e2e,J(We(fr)(M.value)),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(ke,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(He,{class:"pb-2"},{default:d(()=>[ae[42]||(ae[42]=p("div",{class:"text-subtitle-1 mb-3"},"Payment Information",-1)),f.value?(V(),ye("div",t2e,[l(re,{indeterminate:"",size:"32",color:"primary"}),ae[30]||(ae[30]=p("div",{class:"text-body-2 mt-2"},"Loading payment information...",-1))])):h.value?(V(),ye("div",n2e,[l(ge,{size:"48",color:"error",class:"mb-2"},{default:d(()=>[...ae[31]||(ae[31]=[Q("mdi-alert-circle",-1)])]),_:1}),p("div",r2e,J(h.value),1)])):w.value?(V(),ye(ze,{key:2},[l(ie,{"no-gutters":"",class:"mb-3"},{default:d(()=>[l(Ae,{cols:"4"},{default:d(()=>[ae[32]||(ae[32]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Payment Receipt",-1)),p("div",a2e,J(w.value.identifier),1),p("div",s2e,J(ne(w.value.paymentReceiptDate)),1)]),_:1}),l(Ae,{cols:"4"},{default:d(()=>[ae[33]||(ae[33]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Total Amount",-1)),p("div",o2e,J(We(fr)(M.value)),1)]),_:1}),l(Ae,{cols:"4"},{default:d(()=>[ae[34]||(ae[34]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Paid Amount",-1)),p("div",i2e,J(We(fr)(se.value)),1)]),_:1})]),_:1}),m.value?(V(),ye("div",l2e,[l(re,{indeterminate:"",size:"32",color:"primary"}),ae[35]||(ae[35]=p("div",{class:"text-body-2 mt-2"},"Loading payment history...",-1))])):b.value&&b.value.length>0?(V(),ye(ze,{key:1},[l(st,{class:"mb-3"}),ae[37]||(ae[37]=p("div",{class:"text-subtitle-2 mb-2"},"Payment History",-1)),l(Se,{density:"compact"},{default:d(()=>[ae[36]||(ae[36]=p("thead",null,[p("tr",null,[p("th",{class:"text-left"},"Date"),p("th",{class:"text-left"},"Method"),p("th",{class:"text-right"},"Amount")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(b.value,Le=>(V(),ye("tr",{key:Le.id},[p("td",c2e,J(ne(Le.paymentDate)),1),p("td",u2e,J(Le.mode||"N/A"),1),p("td",d2e,J(We(fr)(Le.amount)),1)]))),128))])]),_:1})],64)):(V(),ye(ze,{key:2},[l(st,{class:"mb-3"}),p("div",A2e,[l(ge,{size:"48",color:"outline",class:"mb-2"},{default:d(()=>[...ae[38]||(ae[38]=[Q("mdi-currency-inr",-1)])]),_:1}),ae[39]||(ae[39]=p("div",{class:"text-body-2 text-medium-emphasis"},"No payments recorded",-1))])],64))],64)):(V(),ye("div",f2e,[l(ge,{size:"48",color:"outline",class:"mb-2"},{default:d(()=>[...ae[40]||(ae[40]=[Q("mdi-receipt",-1)])]),_:1}),ae[41]||(ae[41]=p("div",{class:"text-body-2 text-medium-emphasis"},"No associated payment receipt found",-1))]))]),_:1})]),_:1}),l(ke,{flat:"",color:"surfaceContainerHigh",class:"card-enhanced"},{default:d(()=>[l(He,{class:"d-flex justify-center gap-3 pb-2"},{default:d(()=>[l(we,{color:"secondary",variant:"outlined",onClick:X,"prepend-icon":"mdi-pencil",class:"btn-hover-base"},{default:d(()=>[...ae[43]||(ae[43]=[Q(" Edit Bill ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})):Be("",!0)]),_:1}),l(Ve,{value:"share",class:"h-100"},{default:d(()=>[l(ie,{"no-gutters":"",class:"h-100"},{default:d(()=>[l(Ae,{cols:"12"},{default:d(()=>[l(Ep,{"content-type":"bill",data:{consultation:le.value,printConfigurations:S.value,doctor:i.value},patient:{name:y.value?.patientName,patientName:y.value?.patientName,patientId:y.value?.patientId,contactNumber:y.value?.patientContactNumber},onPdfGenerated:oe},null,8,["data","patient"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}},QM=on(m2e,[["__scopeId","data-v-3f75af44"]]),h2e={class:"text-center"},v2e={class:"text-center"},p2e={class:"text-body-2 text-medium-emphasis mb-4"},g2e={class:"pa-1"},y2e={class:"text-body-1 font-weight-medium"},w2e={class:"text-body-2 text-medium-emphasis"},_2e={class:"pa-1"},b2e={class:"text-body-1 font-weight-medium"},x2e={class:"text-body-2 text-medium-emphasis"},C2e={class:"pa-1"},E2e={class:"text-body-1 font-weight-medium"},B2e={class:"text-body-2 text-medium-emphasis"},S2e={class:"text-caption text-medium-emphasis mt-1"},k2e={class:"d-flex flex-column py-1"},I2e={class:"text-body-2 font-weight-medium"},T2e={class:"text-caption text-medium-emphasis"},F2e={key:0},P2e={class:"text-caption"},D2e={key:0,class:"ml-2"},U2e={key:2,class:"text-body-2 text-medium-emphasis"},R2e={key:0,class:"text-left",style:{width:"120px"}},N2e={key:0,class:"text-body-2 font-weight-medium"},L2e={key:0},V2e={key:0,class:"text-body-2 font-weight-medium"},M2e={key:0,class:"text-body-2 font-weight-medium"},O2e={key:0,class:"text-body-2 font-weight-medium"},Q2e={key:0,class:"text-body-2 font-weight-medium"},H2e={key:0,class:"text-body-2 font-weight-medium"},K2e={class:"text-body-2 font-weight-medium"},G2e={class:"text-caption text-medium-emphasis"},z2e={key:0,class:"text-body-2 mb-1"},$2e={class:"text-body-2 mb-1"},W2e={class:"text-body-2 mb-1"},j2e={class:"text-body-2 mb-1"},J2e={class:"text-body-2 mb-1"},q2e={key:0,class:"text-body-2 mb-1"},Y2e={class:"text-subtitle-1 font-weight-bold"},X2e={key:0,class:"text-center pa-4"},Z2e={class:"text-subtitle-2"},ewe={class:"text-body-2"},twe={class:"text-h6"},nwe={class:"text-h6 text-success"},rwe={key:0,class:"text-center pa-4"},awe={class:"font-weight-bold"},swe={__name:"bill-receipt-edit",props:{billId:{type:[String,Number],required:!0}},emits:["close","bill-updated"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=pr(),i=Z(()=>o.state.doctorModule.doctorId),c=Z(()=>o.getters["doctorModule/currentDoctor"]),A=Z(()=>c.value?.doctorName||"Unknown Doctor"),u=Z(()=>c.value?.isGST||!1),f=H(!1),m=H(!1),v=H(null),h=H(null),y=H([]),w=H(!1),b=H(!1),B=H(null),S=H(null),T=H([]),N=H([]),k=H(!1),E=H(null),_=H([]),C=H(!1),F=H(null);Z(()=>E.value?_.value.find(Ve=>Ve.id===E.value):null);const I=yk(y,Z(()=>h.value?.additionalDiscount||0)),{servicesWithTotals:R,baseSubtotal:M,totalGSTAmount:te,subtotalWithGST:se,totalLineDiscount:O,finalGrandTotal:W,hasValidService:le,calculateServiceTotal:K}=I,ee=_p,j=H([]),U=()=>{y.value.push({serviceDescription:"",hsnSacCode:"",baseCost:null,gstPercent:0,quantity:1,discountAmount:0,isFromHistory:!1,isPrepopulated:!1})},G=Ve=>{y.value.length>1?y.value.splice(Ve,1):s("At least one service is required")},ne=(Ve,Te)=>{y.value[Ve]&&(y.value[Ve].serviceDescription=Te)},X=(Ve,Te)=>{console.log("Service selected:",Te),Te&&typeof Te=="object"&&!Te.isUserTyped?y.value[Ve]={...y.value[Ve],serviceDescription:Te.serviceDescription,hsnSacCode:Te.hsnSacCode||"",baseCost:Te.baseCost,gstPercent:Te.gstPercent||0,isFromHistory:!0,isPrepopulated:y.value[Ve].isPrepopulated===!0}:Te===null&&(y.value[Ve]={serviceDescription:"",hsnSacCode:"",baseCost:null,gstPercent:0,quantity:1,discountAmount:0,isFromHistory:!1,isPrepopulated:y.value[Ve].isPrepopulated===!0})},oe=async()=>{if(!h.value?.patientId||!h.value?.doctorId){console.log("Missing patient or doctor ID for loading treatment plans");return}C.value=!0;try{console.log("Loading treatment plans for patient:",h.value.patientId,"doctor:",h.value.doctorId);const Ve=await bp(h.value.patientId,h.value.doctorId);if(Ve.error)throw new Error(Ve.error.message||"Failed to load treatment plans");_.value=Ve.data||[],console.log("Loaded treatment plans:",_.value.length)}catch(Ve){console.error("Error loading treatment plans:",Ve),s("Failed to load treatment plans: "+(Ve.message||"Unknown error")),_.value=[]}finally{C.value=!1}},q=Z(()=>Array.isArray(T.value)?T.value.reduce((Ve,Te)=>Ve+(parseFloat(Te.amount)||0),0):0),Y=Z(()=>Array.isArray(j.value)?j.value.reduce((Ve,Te)=>Ve+(parseFloat(Te.amount)||0),0):0),ae=Z(()=>{const Ve=q.value,Te=Y.value;return Math.max(0,W.value-Ve-Te)}),ge=Z(()=>{const Ve=le.value,Te=h.value?.patientName;return Ve&&Te}),we=()=>{j.value.push({amount:null,mode:"Cash",paymentDate:new Date().toISOString().split("T")[0],datePickerMenu:!1})},z=Ve=>{j.value.splice(Ve,1)},Ae=Ve=>{if(!Ve)return null;try{if(typeof Ve=="string")return Ve.includes("T")?Ve.split("T")[0]:Ve;if(Ve instanceof Date){const Te=Ve.getFullYear(),Le=String(Ve.getMonth()+1).padStart(2,"0"),ht=String(Ve.getDate()).padStart(2,"0");return`${Te}-${Le}-${ht}`}return null}catch(Te){return console.error("Error parsing payment date:",Te),null}},ie=(Ve,Te)=>{if(Ve)if(Ve instanceof Date){const Le=Ve.getFullYear(),ht=String(Ve.getMonth()+1).padStart(2,"0"),Ct=String(Ve.getDate()).padStart(2,"0");Te.paymentDate=`${Le}-${ht}-${Ct}`}else typeof Ve=="string"&&(Te.paymentDate=Ve);else Te.paymentDate="";Te.datePickerMenu=!1},_e=async()=>{if(!n.billId){v.value="No bill ID provided";return}f.value=!0,v.value=null;try{console.log("Loading bill data for editing, ID:",n.billId);const Ve=await MM(n.billId);if(Ve.error)throw new Error(Ve.error.message||"Failed to load bill");const Te=Ve.data;if(h.value={id:Te.id,identifier:Te.identifier,patientName:Te.patientName,patientId:Te.patientId,appointmentDate:Te.appointmentDate,billDate:Te.billDate,doctorId:Te.doctorId,appointmentId:Te.appointmentId,additionalDiscount:Te.additionalDiscount||0,treatmentPlanId:Te.treatmentPlanId},Te.services&&Te.services.length>0?y.value=Te.services.map(Le=>({id:Le.id,serviceDescription:Le.serviceDescription,hsnSacCode:Le.hsnSacCode||"",baseCost:Le.baseCost,gstPercent:Le.gstPercent||0,quantity:Le.quantity||1,discountAmount:Le.discountAmount||0,isFromHistory:!1,isPrepopulated:!0})):y.value=[{serviceDescription:"",hsnSacCode:"",baseCost:null,gstPercent:0,quantity:1,discountAmount:0,isFromHistory:!1,isPrepopulated:!1}],console.log("Bill data loaded for editing:",h.value),console.log("Services loaded:",y.value),Te.treatmentPlanId){k.value=!0,E.value=Te.treatmentPlanId,await oe();try{const Le=await bA(Te.treatmentPlanId);F.value=Le}catch(Le){console.error("Error loading original treatment plan data:",Le)}}await Pe()}catch(Ve){console.error("Error loading bill data:",Ve),v.value=Ve.message||"Failed to load bill data",s(v.value)}finally{f.value=!1}},Pe=async()=>{if(!n.billId){S.value=null;return}w.value=!0,B.value=null;try{console.log("Loading associated payment receipt for bill ID:",n.billId);const Ve=await OM(n.billId);Ve.success&&Array.isArray(Ve.data)&&Ve.data.length>0?(S.value=Ve.data[0],console.log("Associated payment receipt loaded:",S.value),await re()):(console.warn("No associated payment receipt found for bill:",n.billId),S.value=null)}catch(Ve){console.error("Error loading associated payment receipt:",Ve),B.value=Ve.message||"Failed to load payment information"}finally{w.value=!1}},re=async()=>{if(!S.value?.id){T.value=[];return}b.value=!0;try{console.log("Loading payments for receipt ID:",S.value.id);const Ve=await kw(S.value.id);Ve.success&&Array.isArray(Ve.data)?(T.value=Ve.data,console.log("Payments loaded:",T.value)):(console.warn("No payments found or invalid response:",Ve),T.value=[])}catch(Ve){console.error("Error loading receipt payments:",Ve),T.value=[]}finally{b.value=!1}},be=async()=>{if(!ge.value){s("Please add at least one valid service with description and cost");return}m.value=!0;try{const Ve=y.value.filter(ht=>ht.serviceDescription&&ht.baseCost>0).map(ht=>({id:ht.id,serviceDescription:ht.serviceDescription,hsnSacCode:ht.hsnSacCode||"",baseCost:parseFloat(ht.baseCost)||0,gstPercent:parseFloat(ht.gstPercent)||0,quantity:parseInt(ht.quantity)||1,discountAmount:parseFloat(ht.discountAmount)||0})),Te={patientName:h.value.patientName,patientId:h.value.patientId,appointmentDate:h.value.appointmentDate,billDate:h.value.billDate,doctorId:h.value.doctorId,appointmentId:h.value.appointmentId,additionalDiscount:parseFloat(h.value.additionalDiscount)||0,treatmentPlanId:k.value?E.value:null,services:Ve};console.log("Updating bill with payload:",Te);const Le=await L1e(n.billId,Te);if(Le.error)throw new Error(Le.error.message||"Failed to update bill");console.log("Bill updated successfully:",Le.data),await Se(),await He(),a(`Bill ${Le.data.identifier} updated successfully!`),r("bill-updated",Le.data)}catch(Ve){console.error("Error updating bill:",Ve),s("Failed to update bill. Please try again.")}finally{m.value=!1}},He=async()=>{if(j.value.length===0||!S.value){console.log("No new payment entries to create or no associated receipt");return}console.log("Creating new payment entries:",j.value);try{const Ve=j.value.filter(Te=>Te.amount&&Te.amount>0&&Te.mode&&Te.paymentDate);console.log("Valid payments to create:",Ve);for(const Te of Ve){const Le={amount:parseFloat(Te.amount),mode:Te.mode,paymentDate:Te.paymentDate,paymentReceiptId:S.value.id};console.log("Creating payment with payload:",Le);const ht=await wp(Le);ht.success?console.log("Payment created successfully:",ht.data):(console.error("Error creating payment entry:",ht.error),s(`Failed to create payment: ${ht.error?.message||"Unknown error"}`))}await re(),j.value=[]}catch(Ve){console.error("Error creating payment entries:",Ve),s("Failed to create some payments: "+(Ve.message||"Unknown error"))}},ke=async Ve=>{if(Ve){N.value.push(Ve);try{console.log("Deleting payment:",Ve);const Te=await x8(Ve);if(Te.error)throw new Error(Te.error.message||"Failed to delete payment");T.value=T.value.filter(Le=>Le.id!==Ve),a("Payment deleted successfully")}catch(Te){console.error("Error deleting payment:",Te),s("Failed to delete payment: "+(Te.message||"Unknown error"))}finally{N.value=N.value.filter(Te=>Te!==Ve)}}},Se=async()=>{if(!S.value?.id){console.log("No associated payment receipt to update");return}try{console.log("Updating payment receipt treatment plan");const Ve={treatmentPlanId:k.value?E.value:null};console.log("Updating payment receipt with data:",Ve);const Te=await ZAe(S.value.id,Ve);if(Te.error)throw new Error(Te.error.message||"Failed to update payment receipt treatment plan");console.log("Payment receipt treatment plan updated successfully"),S.value.treatmentPlanId=Ve.treatmentPlanId}catch(Ve){console.error("Error updating payment receipt treatment plan:",Ve),console.warn("Payment receipt treatment plan update failed, but bill was updated successfully")}},st=Ve=>{if(!Ve)return"";try{return new Date(Ve).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return Ve}},je=()=>{r("close")};return Ge(k,Ve=>{Ve&&_.value.length===0?oe():Ve||(E.value=null)}),fn(()=>{_e()}),(Ve,Te)=>{const Le=D("v-icon"),ht=D("v-btn"),Ct=D("v-card-title"),Dt=D("v-col"),Je=D("v-row"),Oe=D("v-progress-circular"),it=D("v-label"),at=D("v-card-text"),Xe=D("v-card"),Ut=D("v-switch"),Yt=D("v-chip"),bt=D("v-list-item"),cn=D("v-select"),ln=D("v-text-field"),an=D("v-table"),zt=D("v-divider"),$t=D("v-alert"),Ke=D("v-date-picker"),me=D("v-menu"),Ee=D("v-container");return V(),he(Xe,{rounded:"lg",color:"surfaceContainer",flat:"",ripple:!1},{default:d(()=>[l(Je,{"no-gutters":""},{default:d(()=>[l(Dt,{cols:"12"},{default:d(()=>[l(Ct,{class:"d-flex align-center justify-space-between"},{default:d(()=>[Te[4]||(Te[4]=p("span",null,"Tax Invoice cum Bill of Supply - Edit",-1)),l(ht,{onClick:je,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(Le,{size:"18"},{default:d(()=>[...Te[3]||(Te[3]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(Je,{"no-gutters":""},{default:d(()=>[l(Dt,{cols:"12",class:"scroll-element"},{default:d(()=>[f.value?(V(),he(Je,{key:0,"no-gutters":""},{default:d(()=>[l(Dt,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",h2e,[l(Oe,{indeterminate:"",color:"primary",size:"64"}),Te[5]||(Te[5]=p("div",{class:"mt-4 text-subtitle-1"},"Loading bill...",-1))])]),_:1})]),_:1})):v.value?(V(),he(Je,{key:1,"no-gutters":""},{default:d(()=>[l(Dt,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",v2e,[l(Le,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...Te[6]||(Te[6]=[Q("mdi-alert-circle",-1)])]),_:1}),Te[8]||(Te[8]=p("div",{class:"text-h6 mb-2"},"Failed to Load Bill",-1)),p("div",p2e,J(v.value),1),l(ht,{color:"primary",onClick:_e,"prepend-icon":"mdi-refresh"},{default:d(()=>[...Te[7]||(Te[7]=[Q(" Retry ",-1)])]),_:1})])]),_:1})]),_:1})):h.value?(V(),he(Ee,{key:2,fluid:"",class:"pa-3"},{default:d(()=>[l(Xe,{flat:"",color:"surfaceContainerHigh",class:"mb-4 card-enhanced"},{default:d(()=>[l(at,{class:"pb-1 pt-2"},{default:d(()=>[l(Je,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(Dt,{cols:"4"},{default:d(()=>[p("div",g2e,[l(it,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...Te[9]||(Te[9]=[Q("Patient Information",-1)])]),_:1}),p("div",y2e,J(h.value.patientName||"Unknown Patient"),1),p("div",w2e,"ID: "+J(h.value.patientId||"N/A"),1)])]),_:1}),l(Dt,{cols:"4"},{default:d(()=>[p("div",_2e,[l(it,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...Te[10]||(Te[10]=[Q("Appointment Details",-1)])]),_:1}),p("div",b2e,"Dr. "+J(A.value),1),p("div",x2e,"Date: "+J(st(h.value.appointmentDate)),1)])]),_:1}),l(Dt,{cols:"4"},{default:d(()=>[p("div",C2e,[l(it,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...Te[11]||(Te[11]=[Q("Tax Invoice cum Bill of Supply Information",-1)])]),_:1}),p("div",E2e,J(h.value.identifier),1),p("div",B2e,"Date: "+J(st(h.value.billDate)),1)])]),_:1})]),_:1})]),_:1})]),_:1}),l(Xe,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(at,{class:"pb-2"},{default:d(()=>[l(Je,{"no-gutters":"",align:"center",class:"mb-3"},{default:d(()=>[l(Dt,{cols:"2",class:"d-flex align-center"},{default:d(()=>[...Te[12]||(Te[12]=[p("div",{class:"text-subtitle-1"},"Treatment Plan",-1)])]),_:1}),l(Dt,{cols:"3",class:"d-flex align-center"},{default:d(()=>[l(Ut,{modelValue:k.value,"onUpdate:modelValue":Te[0]||(Te[0]=nt=>k.value=nt),label:"Link to treatment plan",color:"primary",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),l(Dt,{cols:"7"},{default:d(()=>[!k.value&&F.value?(V(),ye(ze,{key:0},[l(Yt,{color:"secondary",variant:"outlined","prepend-icon":"mdi-link-variant",class:"mr-2"},{default:d(()=>[Q(J(F.value.treatmentPlanName),1)]),_:1}),p("div",S2e," Status: "+J(F.value.status)+"  Created: "+J(st(F.value.createdAt)),1)],64)):k.value?(V(),he(cn,{key:1,modelValue:E.value,"onUpdate:modelValue":Te[1]||(Te[1]=nt=>E.value=nt),items:_.value,"item-title":"treatmentPlanName","item-value":"id",label:"Select Treatment Plan",variant:"outlined",density:"compact",loading:C.value,disabled:C.value,clearable:"","hide-details":""},{selection:d(({item:nt})=>[p("div",k2e,[p("div",I2e,J(nt.raw.treatmentPlanName),1),p("div",T2e,[Q(" Status: "+J(nt.raw.status)+"  Created: "+J(st(nt.raw.createdAt))+" ",1),nt.raw.notes?(V(),ye("span",F2e,"  "+J(nt.raw.notes.substring(0,30))+"...",1)):Be("",!0)])])]),item:d(({props:nt,item:At})=>[l(bt,LA(fd(nt)),{title:d(()=>[Q(J(At.raw.treatmentPlanName),1)]),subtitle:d(()=>[p("div",P2e,[Q(" Status: "+J(At.raw.status)+"  Created: "+J(st(At.raw.createdAt))+" ",1),At.raw.notes?(V(),ye("span",D2e," "+J(At.raw.notes.substring(0,50))+"...",1)):Be("",!0)])]),_:2},1040)]),_:1},8,["modelValue","items","loading","disabled"])):(V(),ye("div",U2e," No treatment plan linked "))]),_:1})]),_:1})]),_:1})]),_:1}),l(Xe,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(at,{class:"pb-2"},{default:d(()=>[Te[28]||(Te[28]=p("div",{class:"text-subtitle-1 mb-3"},"Goods and Services Information",-1)),l(an,{density:"compact",class:"mb-3"},{default:d(()=>[p("thead",null,[p("tr",null,[Te[13]||(Te[13]=p("th",{class:"text-left",style:{width:"60px"}},"Sr. No",-1)),Te[14]||(Te[14]=p("th",{class:"text-left",style:{width:"250px"}},"Description",-1)),u.value?(V(),ye("th",R2e,"HSN/SAC Code")):Be("",!0),Te[15]||(Te[15]=p("th",{class:"text-left",style:{width:"120px"}},"Base Cost per unit ()",-1)),Te[16]||(Te[16]=p("th",{class:"text-left",style:{width:"120px"}},"Discount per unit ()",-1)),Te[17]||(Te[17]=p("th",{class:"text-left",style:{width:"100px"}},"GST %",-1)),Te[18]||(Te[18]=p("th",{class:"text-left",style:{width:"100px"}},"Quantity",-1)),Te[19]||(Te[19]=p("th",{class:"text-left",style:{width:"120px"}},"Total ()",-1)),Te[20]||(Te[20]=p("th",{class:"text-left",style:{width:"80px"}},"Actions",-1))])]),p("tbody",null,[(V(!0),ye(ze,null,Jt(We(R),(nt,At)=>(V(),ye("tr",{key:At,class:rt(nt.isPrepopulated?"prepopulated-service":"")},[p("td",null,J(At+1),1),p("td",null,[nt.isPrepopulated?(V(),ye("span",N2e,J(nt.serviceDescription),1)):(V(),he(Sw,{key:1,"model-value":nt.serviceDescription,"onUpdate:modelValue":St=>ne(At,St),onServiceSelected:St=>X(At,St),"doctor-id":i.value,density:"compact"},null,8,["model-value","onUpdate:modelValue","onServiceSelected","doctor-id"]))]),u.value?(V(),ye("td",L2e,[nt.isPrepopulated?(V(),ye("span",V2e,J(nt.hsnSacCode||"N/A"),1)):(V(),he(ln,{key:1,modelValue:y.value[At].hsnSacCode,"onUpdate:modelValue":St=>y.value[At].hsnSacCode=St,density:"compact",variant:"underlined","hide-details":"",placeholder:"HSN/SAC"},null,8,["modelValue","onUpdate:modelValue"]))])):Be("",!0),p("td",null,[nt.isPrepopulated?(V(),ye("span",M2e,""+J(nt.baseCost?.toLocaleString()||0),1)):(V(),he(ln,{key:1,modelValue:y.value[At].baseCost,"onUpdate:modelValue":St=>y.value[At].baseCost=St,modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"underlined","hide-details":"",min:"0",step:"1"},null,8,["modelValue","onUpdate:modelValue"]))]),p("td",null,[nt.isPrepopulated?(V(),ye("span",O2e,""+J(nt.discountAmount?.toLocaleString()||0),1)):(V(),he(ln,{key:1,modelValue:y.value[At].discountAmount,"onUpdate:modelValue":St=>y.value[At].discountAmount=St,modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"underlined","hide-details":"",min:"0",step:"1"},null,8,["modelValue","onUpdate:modelValue"]))]),p("td",null,[nt.isPrepopulated?(V(),ye("span",Q2e,J(nt.gstPercent||0)+"%",1)):(V(),he(ln,{key:1,modelValue:y.value[At].gstPercent,"onUpdate:modelValue":St=>y.value[At].gstPercent=St,modelModifiers:{number:!0},type:"number",suffix:"%",density:"compact",variant:"underlined","hide-details":"",min:"0",max:"100",step:"0.1"},null,8,["modelValue","onUpdate:modelValue"]))]),p("td",null,[nt.isPrepopulated?(V(),ye("span",H2e,J(nt.quantity||1),1)):(V(),he(ln,{key:1,modelValue:y.value[At].quantity,"onUpdate:modelValue":St=>y.value[At].quantity=St,modelModifiers:{number:!0},type:"number",density:"compact",variant:"underlined","hide-details":"",min:"1",step:"1"},null,8,["modelValue","onUpdate:modelValue"]))]),p("td",null,[p("div",K2e," "+J(We(K)(y.value[At]).total||0),1),p("div",G2e," GST: "+J(We(K)(y.value[At]).gstAmount||0),1)]),p("td",null,[l(ht,{icon:"",size:"small",color:"error",variant:"text",onClick:St=>G(At),title:nt.isPrepopulated?"Delete existing service":"Delete new service"},{default:d(()=>[l(Le,null,{default:d(()=>[...Te[21]||(Te[21]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick","title"])])],2))),128))])]),_:1}),l(Je,{"no-gutters":"",class:"align-center"},{default:d(()=>[l(Dt,{cols:"auto"},{default:d(()=>[l(ht,{variant:"outlined",color:"primary",onClick:U,"prepend-icon":"mdi-plus",class:"btn-hover-base"},{default:d(()=>[...Te[22]||(Te[22]=[Q(" Add Service ",-1)])]),_:1})]),_:1}),l(Dt),l(Dt,{cols:"3"},{default:d(()=>[l(ln,{label:"Additional Discount",modelValue:h.value.additionalDiscount,"onUpdate:modelValue":Te[2]||(Te[2]=nt=>h.value.additionalDiscount=nt),modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),l(zt,{class:"mb-3"}),l(Je,{"no-gutters":""},{default:d(()=>[l(Dt,{cols:"8",class:"text-right"},{default:d(()=>[Te[23]||(Te[23]=p("div",{class:"text-body-2 mb-1"},"Base Cost Total:",-1)),Te[24]||(Te[24]=p("div",{class:"text-body-2 mb-1"},"Line Item Discounts:",-1)),Te[25]||(Te[25]=p("div",{class:"text-body-2 mb-1"},"GST:",-1)),Te[26]||(Te[26]=p("div",{class:"text-body-2 mb-1"},"Subtotal with GST:",-1)),h.value.additionalDiscount>0?(V(),ye("div",z2e,"Additional Discount:")):Be("",!0),Te[27]||(Te[27]=p("div",{class:"text-subtitle-1 font-weight-bold"},"Grand Total:",-1))]),_:1}),l(Dt,{cols:"4",class:"text-right"},{default:d(()=>[p("div",$2e,J(We(fr)(We(M))),1),p("div",W2e,"-"+J(We(fr)(We(O))),1),p("div",j2e,J(We(fr)(We(te))),1),p("div",J2e,J(We(fr)(We(se))),1),h.value.additionalDiscount>0?(V(),ye("div",q2e,"-"+J(We(fr)(h.value.additionalDiscount)),1)):Be("",!0),p("div",Y2e,J(We(fr)(We(W))),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(Xe,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(at,{class:"pb-2"},{default:d(()=>[Te[42]||(Te[42]=p("div",{class:"text-subtitle-1 mb-3"},"Payment Information",-1)),w.value?(V(),ye("div",X2e,[l(Oe,{indeterminate:"",color:"primary",size:"32"}),Te[29]||(Te[29]=p("div",{class:"mt-2 text-body-2"},"Loading payment information...",-1))])):B.value?(V(),he($t,{key:1,type:"warning",variant:"tonal",class:"mb-3"},{default:d(()=>[Q(J(B.value),1)]),_:1})):S.value?(V(),ye(ze,{key:2},[l(Je,{"no-gutters":"",class:"mb-3"},{default:d(()=>[l(Dt,{cols:"12"},{default:d(()=>[l($t,{type:"info",variant:"tonal",density:"compact"},{title:d(()=>[p("span",Z2e,"Payment Receipt: "+J(S.value.identifier),1)]),default:d(()=>[p("div",ewe,[Te[30]||(Te[30]=p("strong",null,"Date:",-1)),Q(" "+J(st(S.value.paymentReceiptDate)),1)])]),_:1})]),_:1})]),_:1}),l(Je,{"no-gutters":"",class:"mb-3"},{default:d(()=>[l(Dt,{cols:"4"},{default:d(()=>[Te[31]||(Te[31]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Total Amount",-1)),p("div",twe,J(We(fr)(We(W))),1)]),_:1}),l(Dt,{cols:"4"},{default:d(()=>[Te[32]||(Te[32]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Paid Amount",-1)),p("div",nwe,J(We(fr)(q.value+Y.value)),1)]),_:1}),l(Dt,{cols:"4"},{default:d(()=>[Te[33]||(Te[33]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Balance Due",-1)),p("div",{class:rt(["text-h6",ae.value>0?"text-error":"text-success"])},J(We(fr)(ae.value)),3)]),_:1})]),_:1}),b.value?(V(),ye("div",rwe,[l(Oe,{indeterminate:"",size:"32",color:"primary"}),Te[34]||(Te[34]=p("div",{class:"text-body-2 mt-2"},"Loading payments...",-1))])):(V(),ye(ze,{key:1},[l(zt,{class:"mb-3"}),Te[40]||(Te[40]=p("div",{class:"text-subtitle-2 mb-2"},"Payments",-1)),l(an,{density:"compact",class:"mb-3"},{default:d(()=>[Te[38]||(Te[38]=p("thead",null,[p("tr",null,[p("th",{class:"text-left",style:{width:"60px"}},"Sr. No"),p("th",{class:"text-left",style:{width:"150px"}},"Amount ()"),p("th",{class:"text-left",style:{width:"150px"}},"Payment Mode"),p("th",{class:"text-left",style:{width:"150px"}},"Payment Date"),p("th",{class:"text-left",style:{width:"80px"}},"Actions")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(T.value,(nt,At)=>(V(),ye("tr",{key:`existing-${nt.id}`},[p("td",null,J(At+1),1),p("td",awe,""+J(nt.amount.toLocaleString()),1),p("td",null,J(nt.mode),1),p("td",null,J(st(nt.paymentDate)),1),p("td",null,[l(ht,{icon:"",size:"small",color:"error",variant:"text",onClick:St=>ke(nt.id),loading:N.value.includes(nt.id)},{default:d(()=>[l(Le,null,{default:d(()=>[...Te[35]||(Te[35]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick","loading"])])]))),128)),(V(!0),ye(ze,null,Jt(j.value,(nt,At)=>(V(),ye("tr",{key:`new-${At}`},[p("td",null,J(T.value.length+At+1),1),p("td",null,[l(ln,{modelValue:nt.amount,"onUpdate:modelValue":St=>nt.amount=St,modelModifiers:{number:!0},type:"number",prefix:"",min:"1",density:"compact",variant:"underlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(cn,{modelValue:nt.mode,"onUpdate:modelValue":St=>nt.mode=St,items:We(ee),density:"compact",variant:"underlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue","items"])]),p("td",null,[l(me,{modelValue:nt.datePickerMenu,"onUpdate:modelValue":St=>nt.datePickerMenu=St,"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:d(({props:St})=>[l(ln,Ne({modelValue:nt.paymentDate,"onUpdate:modelValue":Qt=>nt.paymentDate=Qt,density:"compact",variant:"underlined","hide-details":"",readonly:""},{ref_for:!0},St),{"append-inner":d(()=>[l(Le,{class:"text-medium-emphasis"},{default:d(()=>[...Te[36]||(Te[36]=[Q("mdi-calendar",-1)])]),_:1})]),_:1},16,["modelValue","onUpdate:modelValue"])]),default:d(()=>[l(Ke,{"model-value":Ae(nt.paymentDate),"onUpdate:modelValue":St=>ie(St,nt),color:"primary",locale:"en-IN"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(ht,{icon:"",size:"small",color:"error",variant:"text",onClick:St=>z(At)},{default:d(()=>[l(Le,null,{default:d(()=>[...Te[37]||(Te[37]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])])]))),128))])]),_:1}),l(Je,{"no-gutters":"",class:"align-center"},{default:d(()=>[l(Dt,{cols:"auto"},{default:d(()=>[l(ht,{variant:"outlined",color:"secondary",onClick:we,"prepend-icon":"mdi-plus",class:"btn-hover-base"},{default:d(()=>[...Te[39]||(Te[39]=[Q(" Add Payment ",-1)])]),_:1})]),_:1})]),_:1})],64))],64)):(V(),he($t,{key:3,type:"info",variant:"tonal"},{default:d(()=>[...Te[41]||(Te[41]=[Q(" No associated payment receipt found. Payments will be managed separately. ",-1)])]),_:1}))]),_:1})]),_:1}),l(Xe,{flat:"",color:"surfaceContainerHigh",class:"card-enhanced"},{default:d(()=>[l(at,{class:"d-flex justify-center pb-2"},{default:d(()=>[l(ht,{color:"primary",onClick:be,loading:m.value,disabled:!ge.value,"prepend-icon":"mdi-content-save",class:"btn-hover-base"},{default:d(()=>[...Te[43]||(Te[43]=[Q(" Update Bill ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})):Be("",!0)]),_:1})]),_:1})]),_:1})}}},HM=on(swe,[["__scopeId","data-v-61a9d1a3"]]),Dx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABCcAAAOKCAYAAACoEDoaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAYfNJREFUeNrs3W+MXed9J/Yzd/5xKA5li7Jl/YtkKdIyTlYKHEtruY6TRutsuraBpC+8RZE/fpE2m26BAjG6fdGiGxTZN32x6BZJgXYDbOIEi2yKbNwmziJV3Y0SxVYkW7Ekx1IoibIsSjJlkZKG5JDzv/M7nEtdjmbI+XPPeZ7n3M8HuBiSoob3nnOeO+f53t/ze6oKAAAAAAAAAAAAAAAAAAAAAAAAAABaNOYQMOp+/V/9zu3rXz638dtv/9f/xc/9lqPCkK6tuK5u3/jtb61fW992VIAt3it+fP3Lj2/89s/W3yv+zFFhSNfWr/Z/vX5d/aojAuRswiGAevL4z/o3hTGJdEgYkl8YnHCsP77tkABb+PGBn0P99wsYhsHr6lcdDiBnPYcAAAAASEk4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkpoYodc65nSzldXV1bFerzd4nbhWGPr7Tlxnri1gK2tra9XY2NilX3uvwL0wMMwfM6U80S6HE96AAQAAGGWb58XZhhWdCSde+s6rt69/uX11dTU+ddgymIj/tsWfjW18SsGI+tsXXrz3OyderX89NTn5nr89dvw/dlQYhoe/8th7FpeW6l/f/n23/PD6tSU0Bd7lr5548oNzZ87Wv7728OwH/RxiWB56+C/fud9xXUFnraysvPWhH7jrG1v8p60mumNX+G9Jdaly4nPrj382UJ7/LuPj465c3uWWGz9Q9cOJ2dlD9x44cODLjgrDsH49VadOv9m/zv7F+rXloADvcuMN76/64cT6r39+/b3i5x0Vhs39DXTX2traw+tf/v5W/2mbr2Gsyiyg6Eo4MTa4XhMAAABGwcbKgcFP4tc2HmObvg7+96rKrIqiC+GERAIAAICRtLZWN17vz+0HqyS2ewz+vf6cOnlAMeFUAgAAQJlWV9eit8Hkxm83BxGrm75u/m/ZKD2cUDUBAADAyFpdXY1wIpqbbRVGrG7x6P95r3onoEhePVFyODEYTIzFrhsaXgIAADBKVlZWImSYqd4dSKxseoxtPPqBRFYBRVd6TqigAAAAYORsVE5EONEPJvphxPKmXy9v+l83N85MqtRwYnMYMbbRoRQAAABGxsrKSiwhOFRdHkwsDXxd2mIeHWFEb+PX/YqL/t9JElR0oedEfYBjK1EAAAAYJSsryxFOzFaXBxP9x/jGI4KIxWrrnTv6c2s9J/YpDmJP5QQAAACjZnl5Jeb1/XAiAonlja8LG4/+XHmr3Tq2qp5IojO7dQgnAAAAGDUblROHq8uDiQvVxeBhcJ48uGPHysZ/z6Z6osRwYmyL349Z1gEAAMCoWVm5VDnRX8oR1RL9pRxhsFHmcvXOUo+VwTl1lbjvROlbifaDirG1tVWVEwAAAIyUgYaY/XAi5vnj1Tshw2AwMVG9UzXRf9hKdEg2KidsJwoAAMBoWVlZHQwnomqiv5xj8+4dk9U7AcbYFg89J4bBsg4AAABGzepqXTlxsLoYOgwu5VjeeERgEcHE4M4dvYG/m8UH/V0JJ8YShzwAAADQutXV1QgZZqqLwUOIyXFUS0xV2wcTgxUTWZhwKgEAAKBMa2trETZMb/y2v5RjsboYSkxW7/Sg2KpqIhulN8S89Gs9JwAAABg1a2trMReOEKJfMbFcvRNKDAYTY9s8Ns+zkyxL6HXojLgqAQAAGCkD4cT4Fo/eFo9Lu15WGS3r6EI4oWICAACAkbQRTlwpkLhSpUQ2c+qeUwkAAABFG6u2DyUGf11VmVVM9PU6cALqrxZ1AAAAMII2BxCbQ4id7MyRPLDoUOXEmuUdAAAAjJaLn9SPVTtreDlIzwkAAABgqLJcrrFTwgkAAAAgKeEEAAAAdEtxVRTCCQAAAOiOIpd2CCcAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAElNOASU6Hd/57eql176diPf+z/86f/tADN0Tz3+F0P9fv/9//CrDiok9M9/rZkxOOz3Cmji2rrttturn/25zzmowFCpnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUhMOAVzdD//wD1e33nprdffdd1dHjhypH4y2U6dO1Y9jx45VL7/8cvWNb3zDQQEacfDgweree++tfw7Fw88hQvzsiZ9DJ06cqP72b/+2/nkEUDLhBGwjgoiPfexj9Q1h3BjCoP7kIK6Tvq9+9avVV77yFTeIwFA88MADdTgeD9isH1bF9fHpT3+6mp+fr38OffnLX65DC4DSCCdgk5hsfuYzn7ls0gk7nUjEI8KJP/qjPxJSAHsSk83PfvazqiPYlfgg5cEHH6wfEVLEzyEhBVAS4QQM/FCPTx7ihzrsRwRbn//85+tPr/74j/+4/jQL4GoijPjc5z4nHGffIiiPys/4GRQ/iwBKIJyA6mJp5C/8wi/UX2FYIuiKScZv//Zv12uDAbYT7xW//Mu/bBkhQxPXUlTg9H8OCcqB3Nmtg5EXgcSv/MqvCCZwfQFJxKfcUW0lmKAJsUwofg65voDcCScwcfQDm4bF9SWgALYSwUQs5QD3O8CoE04w8hNGP6hxvQEpRLm9YIK29AMKgFwJJxhZ1vbStn5AARDvB/FzCNoUAUX0oQDIkXCCkWSrUFLeGMb1B4y2aMIsICeFfrNmgNwIJxg5cTP4Ez/xEw4EycT1F1sGAqMpJobRpBBSUT0B5Eg4wUj+QPZpFSnF9ad6AkaX8U9qUcUXzVgBciKcYOQmhffee68DQXJxHQrJYPRE1YSSenIQyzsAcjLhEFCiT/7kT1UXLlzY9f8Xk8GzZ8/XD0jtZ3/uc9X8/LwDAYWO372IJV2vv37KASS56emDe76ODxw44AACQyecoEg33PCBPf+/FxYWHUCy8L73vd9BgELddtvtfg4x0tcxwLBZ1gEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkproygu55eYPVNdee60zCgBb+M7LrzkIAEC2VE4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJKa6MoLef7556vZ2VlnFIZorDdR9cbHd/z3V1dWqrXVZQcOhujIkSP1AwCgyzoTTvz6r/96NTU15YzCEE0dvLaanLl2x39/6fzb1eL82w4cDNFnPvOZ6tOf/rQDAQB0mmUdAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFITDgEAwPb+4s//rPrz9Qe07cG//w8u/fpDH/rB6vDhw43+e//8137VQad1d9zx/dUH77jz0u/jOo/rndGjcgIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASGrCIWjG5C231Q+GdDzHxqqD4+ON/zsXVlerhfVHCrPrr29p7q3q9NN/7YQPyYEP3Vv1Dl/rQBQ2DudXVqqltbVk4/Dcy9+uzn7nRSccAKBFwommbuJvua06+Pc+4UAMQW+sqm6Ynqom1idGTVpaXateX1ysxhPMiWYnxqv3TE7UEyLhxPBM/8A9QsIhjsMbp6frr02Pw5X1cTiZcBx+95H/IJwAAGj7ftMhIHfXT002Hkysz4eqNxaX6q9ti9d2eEJOSN7ePzXVeDAR4y8CwhTjcHL9xUUwAQBAGsIJshaThele85dpTIiWE5WRXzc10fikD/Z7jU72mg8IUwUT4cjkpBMNAJCQcIJsXTM+XpdZN+304nJdSp7CtS2FL7CfcXhNC30m3lpKOw4nJYQAAEmZFZGltkqszyyvVOdWVpK9xsMthC+wn2s0qiaaNpdwHEY4aBwCAKQnnCC/i3LsYol10x9kxq4c8WltKsrIyX0cRp+JpkUo8XaicRivsY3wBQCAq3NXRnauW5+0N11iHeXj0QAzlfcoIydzbTTAjHGYMiCMRrRNN9ulG44cOVLdfffdDgSd5zonhWuvfa+DQE04QV5vTuuT9pnxZgt6Yln7qaWlZI33oox8Vhk5GWsjPEvdADPeZ4xDduqBj32s+qmf+kkHgtb9/v/571r99z7/+c876LTub771TPU3f/OMA4FlHeQjJgttrP2OiolUjfeUkZO7NhrRpg4m6nFoWRUAQFaEE2ShbrzXwmQhduaIXhOpxCfSysjJeRy20Yg25c4c4boWetoAALA7wgnSX4QtNcCMxnupdgQIURnSxpaMsNdxeP1U8+Mw5c4cIcZg00vHAADYw/2oQ0BqbTTAjGqJqJpIOfFTRk7OIphouqon5c4cIV5fG5UhAADs4V7NIWhG9E644cCUA3EV0RxyqvHGe2vV2tpYdXPC8xGf1O5k4rfckxcOe8J9yDjMaBz2qpmE5+Pg+jgc38E4tJMOAED7zIRIJibrTU+IYlX7+dW1ai3h64zXqM8EuYqJeBvjcH5lNfk4HDcOAQCyJZwgzYW3Pkc40MK67/PrE6L4xDbl65xSDUG243CsrppoWupgoq3XCQDAPu7ZHALaFp9dzqxPFJr+DPPC6mq1sraW9LUeaOF1wp7H4Xg743A18TicsUwDACB7wglaN70+Ieo1XF69tD4ZSrlVYf06ez1l5GQrgommfwAsruYxDnvGIQBA9jTEpFWx7nuy4YlCVEtcWFlN+jp7LfTTgP1M2JsOzpbXx2HskpPSuHFIps6cPVc9e+yFLJ/bTTfeUN28/nBMHdNhePa549WZM2ezfG73ffgex9QxJTPCCVqdKDS97jvKx88nDiaCMnKyfdNvYcK+mkFAGK+wjb42sBdz6xOLx554Ksvndv/65KLEibRjmulE+tgL1SuvnTSRdkxhZ/epDgFtiLnQTMMThRx25gjKyMl3HI41PmG/OA5X04/DFpatwF4dnj1UT1hzdFOhk2jHNE9H775zZIMZxxR2TzhB41prgLmSvvGeMnLyHodjjY/D+XocJv7BNtb88jHYj9lD1/iE0TEdjYn0XXc4CI4p7JgPlmhcGw0wY237cuJgQhk5OTvQwjjMYWcO4xAAoEzu4GhUGw0wY2eOxdQf1VbKyMlXLDWaaHgc5rAzRzgwbvteAIASWdZBY3otNcC8kEEDTGXkZPsm38JSoxx25gjxOieMQzLzeKZNGrdTws4Sjml+okHjq5k2adxO7suAHFNG8r7VIaAJMT042HBpdUyF5jMIJpSRk6s2GmDmEhBG/jLVMw7Jz2OFTaRL2FnCMc1PTKJLOy+5T6QdU0aRcIJGHGy4tLreEWAl/Y4AQRk5OWqjAWYuO3PU47BnHJLvxLQkJews4Zjm+RrvNzF1TGGfhBM0MllvvPFeBjtzBGXkjPI4zGFnjhDLx8aNQzLlk0THdBTcPAJLVxxTaJ4aWIZqsoUGmDnszFEPHmXkZKqN0CyHnTkujkPb9wIAdIGZFUOdJBxoeLKey84cQRk5ORpvoRFtLjtzhBnBBABAN+aTDgHD0EoDzEwa7wVl5GT5hr5+Sc40PA5z2ZmjPw57xiEAQDfuZR0ChqHpBpi57MxxcQKojJz8XGyA2fA4zCggHDcOAQA6RTjBvjXdeC+nnTmqShk5eZpuYxyurmUxDm3fCwDQPe7u2Jc2GmDmsjNHPQFURk6GploYh+dzGocRxDjtAACd4v6OvV88LTTey2VnjqCMnBy10QAzduZYyWQcxi4kkwJCAIDOmXAI2It6fXvDfSZy2plDGTk5aqMBZozDJeMQhurM2XPVs8deyPK53XTjDdXN6w/H1DEdhmefO16dOXM2y+d234fvcUwdUzIjnGBPZhouq86p8V61MSEyJSK7cdhwA8yVDMehmgm6YG59YvHYE09l+dzuX59clDiRdkwznUgfe6F65bWTJtKOKeyIcIJda3obzfiMdj6jCVGUkU8oIyczTTeijYDwfEbjMJZUGYd0xeHZQ/WENUc3FTqJdkzzdPTuO0c2mHFMYQ/zLoeA3YgGmE32XegHE7nszKGMnFzH4eSI7MwR4i1nqmcc0h2zh67xCaNjOhoT6bvucBAcU9j5PZ9DwM4nCO00wMxlR4Awo4ycDMfhgYbHYU47c4QDPeMQAKDz97kOATvRRgPMaH6ZS+O9EBUi48rIyWwcHhwfnZ05QtPLyAAAyINlHexI0w0wY0eAqJrIhTJycnSwhR1ycgoIe7bvpQMez7RJ43ZK2FnCMc1PNGh8NdMmjdvJfRmQY8ooEk5wVU1/chnl4wsZNd4LM8rIyUzTDTBz25nj4jg0CinfY4VNpEvYWcIxzU9Moks7L7lPpB1TRpFwgitfIGOj1QAzRBjTU0ZORppugJnbzhzGIV1yf2E36yXsLOGY5vka7zcxdUxhv3NPh4Dt1I33GlzfnmMwoYycLMdhr9lxmNPOHGHcOKRDfJLomI6Cm0dg6YpjCi3c9zoEbKVugLk+OWhyepDbzhz91ww5XZNNN8DMbWcO2/cCAIwmd4Bsqen17bntzBGmlJGTmaZ3yFnIbGeOMN1w810AAPLkHpB3Tw7WJ+kTDU7Sc9uZIygjJ8dxON7wOFzMLCCM951JASEAwEgSTvCuyUGTk/Qcd+ZQRk5uogFm0+PwgnEIAEBG3AnyzsUwgg0wq40JkYFATuNwusEGmKsb47DKcByqmQAAGOH7YIeA0HQDzFyDiagUmVBGTk7jsMFJer0zR4bjMKpEjEMAgNEmnKDWdAPM3Hbm6E8ElZGTk5mGq3gurOQ3DmP1ylTPOAQAGHXuCGm8AWaOO3P0J4I+qyWncTjecEC4vJbhOOwZhwAACCdGXtO7VCxnuDNHiNc8roycTDTdADPHnTnCtO17AQDYIJwY5ZM/drF6oCk57gjQf93KyMnnemy4AWa249D2vQAADNwfOgSj6WIDzIYb763m13ivqpSRk9k4bHB5Ua47c/Qb8AIAQJ9wYkRNN9wAc75uvJfh61ZGTkaa3MY21505wpRxCADAJhMOweiJUurJBicGFzLcmSMoIycnTTeizXFnjjBuHAJ0ziOPfq1649SbnX19H//oR6rrj7zXiYaGCSdGzHjD69tz3ZlDGTlZvfE2PEHPdWcO2/cCdFMEE6+8drKzr29hcdFJhjbukR2C0dF0A8xcd+YIysjJZxyONTpBz3VnjtDkMhYA0utahUHXK0IgN8KJEdF0A8xcdwQIysjJaxyOjeQ4jGqRCQEhQKdFMHHzjTd05vVMT005qdAiH2KNiCYbYOa8M4cycnJyoOFxOJ9pMGEcAgBwNSonRsBkww0wc92Z49Jk0CVABppsgNkPJjIdho1ulwpA2X7jN3+3lX/n/g/fU923/gDyJZzouHp9e4MNMHPdmaO+uJWRk9G12HQDzFzHYbzuceMQgG20tQxkdvaQgw253zM7BN0V04GD46O3M0f/tSsjJwdNN8DMeRxGHjPVMw4B2N5Pf+qTDgJQE0502MEGS6lz3pkjKCMnB003wFzKfRz2jEMAaMtWu4tEZYrlLJRCONFRTTbey3lHgKCMnFxMNzwOFzIeh9O274XkYpKysLjoQFQXd5Gw8wJd9sprJ6snv/nsln8unKAUwokOarIB5sWdOdaybbzXq9f2KyMnvamGx2HODTB7tu+FLMSnqDEx4eLSgS5tcQmb9bdx3TzmXfeURDjRMU03wDy/km/jvdBkCT3sVFTuTDc0DnMPJvpLWQCA9kRlUAQUmwknKIlwokOaboAZO3OsZBxMKCMnBzEvn2lwHOa8M0eYMg4hO6O8hWJb21RCapZ10In7aIegO5psgBmN93LdEeDihFAZOeldrBpobhzmvDNHGDcOAWBozpw9t+O+Mf1lHZvtpnIi/q34NyEVlRMd0WTVwErmDTDrCaFtQ8lhHDbYADP3nTls3wvAdp597nj17LEXsn1+uW1nGiHBI49+vbr+uvdW9/7Q0Z3dg0xN7ft1xPd46pvP1v/+xz/6ERcurRNOdEA0wGzq08ooHz+fcTAR6jJylwHJr8PmGmDmvjNHqHcIchlA58SOH9FYM5X4NNgkqXyzh67R+2AXvvzwV6tXXztZH7MYg1v1kthKhAr//qGHLzXFjGBjN+Onvw1pf3mIsUfbhBOF6zXceC/nnTmCMnJyuQ5HtQFm/YNk/fVP6DMBnRSTHTt+sF8xyRZO7Nwbpy9uA/zlh79y2Z9v1fTySuMzQobNfSg2n4ft/v+5M5Z3kOCe0iEoV385Q1NTgtx35rCcg65fhyUEE5ZzQLfFRChlyXtMxiifZR07F9ULP/rRH6lDhc3BwTDCwp38/x+87dbqjttv3VXVBgyDcKJgMw2WUee+M0e1MSHyWS2pNdmINvedOfrvQ8YhdFeEAz7xZr8s69jBz/yNJRlH776zOnrXHXVAEH8Wyzv6yy2uFizMnT1XnTlz9vJjP3uoOrx+/K+kf25uWv8aYUQ/FIyA5LEnnqoe/LEHBIUIJ7jCzUKvV5eSNyH3nTnqC1cZORk40GADzNx35gixpGrcOATgKizruLovfumh6syZc9X01OQ79/tTU3VIEY9w31W+x+NPPFWHCYN+4K479ryV6PT0VPXiSy9X//6hxeyahtJNwokCNdkAM/edOUK8dGXk5DAOm2qAuZz5zhz9cTjVMw4BYL9eGaiO+JOHHq6/DlYwbBfsbK6UmNtiG9Bnnjt+WcXF4PcdFFUa/ecw+Ov+84M2CCcK02QDzBJ25ggHesrIST8ODzQ4Di8UMA5njEMAGIqbN5ZTDAYCwwoHIrwYDDD28r1iqQm0QThRkCYbYJawM0dQRk4O4/DgeJM75KxmPw4jIO0ZhwCwb9Es9I1Tp+tlE9Ff4vhLJ+oAYXPviLZFr4oITaL/RVRaxJbCsbzE8hyaJJwoSJMNMHPfmSP06m1DlZGTVpMNMOfrcVgVMA4FE8Boi3X4/T4AsBf9BphT6xP/f/jJH6v/bLC/xODSivi6uP77q4lQY3NlxE77fUwNbFO61d//+JGP1H0xnp09VD34iQecQBohnChEkw0wS9iZI8ysT4hMiUipyQaYFwrYmWNsYxwCjLq/ePTrwgn25ZH1ayiChKhQiOqJCARmB3bVGNwpZ8fVCk88tWU4sdeGmH1nzp671BcjvsbuH/v9nrAV4UQJJ6nBTypL2JmjfoNWRk5iTTbALGFnjjBlHAJcnKwlLrmnO9dQfP3yw1+5LEzYHC4M2tysctBWf765IeZuvvd2/1Z8v/ucQpqY9zoEeasb742PduM9ZeRkMQ4bWlJUws4cYdw4hM56fNPWgyW5yRaVFCqu261Cg81/tt+dMjY3xBzG9773h446gTRCOJGxfgl1E9OBmArNFxBM9JuAQhevwVICQuMQuq3kbQKjJB5KEcsjnvzmM9X1R66rl0VEuPbkN5+te5iUIJYyRTBx88bzPnP27Prvf+Cy5SiwH8KJjDW1vr3eEWAl/x0BQl1G7lIgoaYa0ZayM0f/vUjNBHRX7BIANCsqlGKJxc+sj7f+ZL7frLK/fCJ269jcCHNhB40whykCv8Mbzy8aZM4eOlR/3VyhFCFFPL8//NJD1b0/eFQ1BcKJLoseCxNNNd4rYGeOoIycHMZhU41oS9iZo/4hsf76J/SZAKDBSXsbUi4B+vKff7V69tgLdeXBVlUG/eaX+31+cSwf23Q87//wPY01r4zQYnpqst5mNHYT0SSTfd93OgR5TgaampTH2vblAoIJZeSkFg0wmxqHJezMEeLlHzAOofN+4zd/t9jn3uTEi3Y81lI4EddKinAiqgsimAixfOML//aL1R233VI/l/72nRFO7Fcsz5o7e+5dfx5/Fs+hv03ovuYRG1UdZ+rvebo6/tKJS/0s4jze80NHh/JaEE6QzWSguQaYsTPHYgkf1VbKyEk/DqcbaoBZys4c9TjsGYcwCu4veHJ/k2aYxWtrWdHhRP1JNi/LiMl89GuIx1auFKBE0LDbnWIiGOmHI1u5UjhypZ1BtnLmzLlq+ohwgr0TTmSk0QaYhTTeqy9KZeSkHocNhWOl7MwRompk3DiEkaDygJS6vttKvL4IAHY6yW+7Qe1uwocrOXr3nUOpzmC0qdfNSFMNMEvZmaO+IJWRk1hTDTBLCggvbt9rHALAMER1SFQodXHJQzTQ/PhHP1I9+IkHnGj2TeVEJuJTyokR35kjKCMnpaYaYJa0M0doqoILAEby/mJqqq5QikdURsSuHPE1xW4c+xVhxPXXvbd635H31g0+VUswTMKJDIw3uL69lJ05gjJyUmqyAeb5QnbmqG+ges1UcAEA72wfet/G7yOceOTRr9d/Fjt5vLqPZR2vbIQeW/17exV9XS42wTxbhysaXtIk4URiMRdqaleKUnbmuHgclJGT9vprLCBcH4crRY1DwQQAtCF274hdLh78xMcuVSDsqwfH+vfaKpzYb1+ZmzcCii9+6aF6CcfNGtHSEOFEQhcbYDazjKGknTmqShk5qcfhWGPjsJSdOWzfC0BTYuvJuV3uMtGmFJPtZ587Xn354a/USyNmZ6/J/hzGc4yqiQgoooeGgIImCCcSmm6qAWZBjffq46CMnISaakS7Utg4jMol0QS0N1G70tZ+4aZ9lmJDTuLT/Ktd8ynd3NJ2poP6xyOqJ37zCy9ftvwi+jrEEo+dWBzY7nOrnT7qP3viqfrXUZ0xtcNlGWc2ti3tbyc6+L0fX/9+KY4ZwgkamwiMVZMjvjNHUEZOShGMTTQUEJ4vaByOG4fQqvgE+bGNycJ2orO/cIKuOHrXHfWDgbnAppBgq34Rw9DE943wBJognEg0EWhifXtpO3MoIyfpm19DE/KLO3OsGYfAFUXwcPTuOy/9fnpqslpYXKp//cap0w5QpuIT436w9Bu/+bt1iLTf9fyjwLKOd3vwxx6oHnl0KuuKkq3c+0NHXfM0d3/uELSr6QaYpezMEZSRk24cjtXLOZpwfqWscRjHQc0EpLHdJ8mPZzyJG2WPPPq16vhLJy77s2eeO15/iqwq4MpiAn61aqGU/skv/mzr/2b0b3jwEw/UAdcrl7YWPX1piUYu6l1E1q/x+PrB226xWweNEk60rKkGmNH8cqmgBpjKyEmlyQaYJe3MUf8AWB+HE/q9wFBt/oQ4Jhoxqe2LRnLxZ7GOe7tS67n17xEG/3t8j/6kJbrlx9rxmCT0O/zTnMHzdWZTcBS/jz+P/gDOx/buU2Gyrbh2+ste+v1ooklmXHOX7vMH+kps+T02elREk83NlRhRoRXfO/7/xYHvudnmfhRxPce1ffTuOwQSCCe6qKnGe7EjQFRNFDU5VEZOB8dhSQFhZIMHjEMYuui+f6X13dHpfqtfb2W7cu/BsCPFJ76jJo73lc5pnKd4xCfLP61JIHsUwcKT33ymvoa2CgMisLiaV7e4Tg8fuuayZpu79Tu/98X6OQneEE50yGRTDTAjmCio8V5/cuizWlJoqgFmaTtz1OOwZxwCV7dwlU9sG3/fVo3ACIiKiQg2wyOPfr2647ZbqtlDh5Jd+zHmz5w9Wy9jiveACFJ/8ec/60TROOFEC+r17Q01wJwvqAFmiJBGGTlJ3uwaWkpU2s4cIY7DuHEI7HCScrUKjyapRmAULCy8s9yiX4kzLI8NNHHd8/O7wnIQGOr9ukPQrLj9PzgumAgxL2xilxLYybV3oKFxWNLOHBePxVjdjBZgJ6JyIeWWpqomGAVxnUcvmdgNJrcgIN4DPv7AR5wkWiGcaNjBhpYwlLYzR1BGTgoXG2A2c+2VtjNHVTXXDBTYu/52lNHXIGWVwnaTJpUL208mN0/iYK9ii85oPvnqpZ073qyb455pefeeaK7Z71MR1/lOel3AsAgnmpyMN9R4r7SdOYIyclKZbmgclrYzR30ses0cC4BRs9VyF0tQ2Pc9/uJSHQZsFQj0d43p619/m6+5qL7oN3CNnTru/cGjl/6/2K3jTx56+F3/3+GN3T42i/8vHoI3hBOlH9ixZhpglrYzR4jJkOUcpDDVa24clhYQ9mzfCwDZil1hIgTYbsvVwSVOZza2G968C0cEE7EdaFRhhLkz5+qgov/7EJURUY2xk+Va8Xzie8b/E9uRQuNzaIeguYnAsJW4M0eYMSEi1RtcQ+OwtJ05bN8L+RmcGMSNf38iMPjnKUq62ZmtdhHRH4O9igDhyW8+W78XxLg/vEUVw6Dvbeyg03/v6H+PrRpfvvjSy5eFE/G9432lH4Zc7d+JZSZRPfHB225RQYFwgotKbIBZ//BWRk6HrG6Mw9JEA0zRBORlq/L/zf0dHh9Cl30ael+dfnej0MGJIuxGjP1YglHv1LGLQHIwxIjvEY/NW/9uVyERYchORbghmKANwokClBpMjCsjp2Pj8LxxCMC6+OR5c3AUk0Cl7+xFTPwf/MQD1cc/+iN1uBCPxSvs2vHKRtPMzd/jjtturWYPHaret1HFE39nu3Bi85KQzWY3+lCk3K2H0SOcKECJO3PEVOiAMnI65MJKmePQcg7I02/85u9e+nXOu3UA7ekv7bpaIHD8D7/0rj8bXNYRSzkG/3ywj0V87/izqSv0t4BUhBOZK3FnjqCMnC6JgHB5rbxxeGDc9r3A1T1e8NKRm3YwkWuCrURp2rPPHa9DhKjSiestrq/o/XD8pROXetEM9jnZ7bKOCDD+7R9+qa62CP0eN/3mlyomSEE4kbESd+aoLypl5HRsHC4WGBDGOJzQ7wXYgc3l4SVJ1efBVqI0LQKCeMS19uxzL1TPPHf8sga5EVbcNBAgxO//0c986urf9+47634TEXT0l5DUPS/uurOu4pq9SjNOaPT+1SHIU6k7c1jOQdfG4YUCx2Fkg8YhFBYOPPFU/cllCibUtCEmwbFDxDCv1aguiCaSe7VVBUxu6ud45CP184wtROc2AorDs4f2VK0T4cM/+k8/den79KsyIAfCiQzVjfdWy2u8F5SR0xWl7sxRj8OecQgl2aq5HXmzlejeJtnDDsL61QWjIoKFfmVDBDNPfvOZOvSJaog7brulrqTYHDREhURsB/rMseP1Uo66cev639e8lRwJJzI0XzfeK+95T/aUkdMNpe7MEWJJ1bhxCOzCYHPO0vSbibb+XmsrURKJMOJP/t+HL1viUW9BulFBMhicbRV69sPQCDYe/MTHhGpkRTiRmQsF7swRoox8uqeMnI6Mw5VSx+FY3YwWYLcT/FLdlKhpn61Ed6/f42A/NgdCg8sc9mKrCpjcg4nodbJwhW1G47/tpBKr/71iiYc+E+RCOJGRUnfmCMrI6czNU6E7c4SZ3phxCIn1t+lrw7AmVbYTpJX73MWlennBfsfXoAgm9vM9o9qlpHAiKiYifIhQJZbITE9PVX/y0J/tOPSJ4/effPLHLgs5/uKrX6v+4fqfQQ6EE5lYLnRnjqCMnK4odWeOEJVLPeMQkrsv0TID2mUr0T0EAYeuGfrYuDnRVrKpDG4h2g9VYivQnYYT0WsirtP+cYsgNfpQQC6EExkodUeAEJMhyznSufXWW6vPfvazu/7/vvKVr1Rf/epXi3m+L7/8cvX7v//7xuE2xm3fC9AqW4mSQgQL/eUxESzEjh2xxehORZ+JuE6Pf/vlSxVeeqWQE+FEYiXvzBFmTIjSHv+Zmeruu+/e9f937Nixop5v00remcP2vQCUwFai+3fvDx2te51EQLE5HNvpOfjC7/3hZX/2ox/9ERcn2RBOJFbqzhxBGTldUPLOHCEaYIomAFq+B7KV6J6CAFuJ7k8sixlsLBpfr9Qc82rXblRRfPC2W12cZEM4kVCpO3MEZeRl601MV1MHr62WLpyr1laXs3++Y72Jxp5vqTtz1G/gxiFAErYSJZXNlR5RPfLIV7921ZAirs+okhBGkPW9rUOQRsk7cygjL9/45IFqcubaamVpoVopIJzojY838nxjHJa6M4dxCJCOrUTJRVxzH7ztlup3fu+L2wYU/aoVTVvJnXAigZJ35gjKyOmCpcLHYQQTaiYAgAgdfvHnP3vZko++UdrNhPIJJ1pW8o4A9QWjjJyOjMOFgsfh5PoYnNDvBQAY0N8mFIqdazoE7Sl9Zw5l5HRlHM4X3AAzskHb9wI0q7/NYthpw8H4e4P/n0kiwO4IJ1pU8s4cQRk5pSs9mKjHYc84BGjaXrdpHPz//skv/qwDCbALwomWlLwzR1BGThcsFD4OY0nVuHEI0Litqh6utG2jKgmA/RNOtCAa7y0VXDKhjJwuKHmHnIvjcMw4BGhJ7GywWVRFDC7buNrfB2B3hBMNWym8AWZQRk7pSt+ZI8xoRAtA5h559Gud2q5y884XQLOEEw2K8vHzhQcTysjpwjhcKHwcRsVEzzgEaN2T33y2WtxYyjF39ty2f+/xJ5669Ov7PnzPyB4vk3lgP4QTDVmLYGJ1rejGe8rIKX4cVuU3wBy3fS9AMlEJsBOPDYQTR+++s5o9dM1IHaePf/QjO97VpETXH3mvwQAtEE40JMrIS268F5SRU7qoXDpU8PO3fS/QlphYDvNT760aRJ45e66aO3N2KN8/lg60MWH8+f/sZ3b1nA/PHhq5YMLkHRgW4QRb/9BXRg7JTcU4dBiAFiwuLlWvbtPscS+2Cidikj+sf2N29lArE+IIGkYxbABIQTjBuygjhwzenI1DoEUxAW+6V0IEFrbcBGA7PpTjMsrIwTgEAIC2ufvlMtPjysghtQgm1EwAADBKLOvgnYthbKya1GcCkprsjdVjEaBN0QxzpztT7MRPf+qT7/qzZ587Xj177IWhfP/oNxE7RADQofmoQ0BQRg7pRYsJ2/cCKcRkf6tAYZiO3nVH/QCALe+FHQKCMnLIYBz2jEMAAEaTcIJ6RwBl5JB+HI4bhwAAjCjLOkZclJFPKSOHxONwzHIOICk9JwBITTgx4pSRQ3ozPaMQSEvPCQBS81HdCItPapWRQ/px2DMOAQAYccKJUT3x65OhKZ/WQlLjxiEAAFycozoEo0kZOaRl+14AAHiHnhMjSBk5pBeNaEUTAJTsi196yEHgXY7efaf+MuyJcGLEKCOHDN54jUMAOuCV107WX2++8QYHg3rXn4XFRdcDe79HdghGhzJyMA4BYNia3umFMkQlTT+wgr1whzxCpseVkUNqEUyomQAAgMuZq46IKCOf1GcCkoqlHBPGIQAAvHvO6hB0nzJySC9aTEQTTAAYZW2X/V9/5L3V9NSUAw8FEE6MAGXkkME47BmHAND2Dh/RD0ODRiiDcKLjlJFDerF977hxCCTy2BNP1Q/IQdtBgaoJKIdwosOUkUMO49C2oQDQZ2cPYDvCiQ5TRg7pzQgmgESO3n2ncvYNh2cPOQgAmRNOdJQycshjHPaMQyCRo3fd4SAAUAw1/108qcrIIblx4xAAAHY+j3UIukcZOaRl+14AANgdyzo6Rhk5ZDAOx3uSXwDY5JXXTnbj5/zUVHX9kfde8e8sLC5Wb5x6sxOvN3q2zB66xgVM44QTHaKMHDJ4U10fh5MCQgB4ly9+6aFOvI5oNHu1XUcimOjK673/w/dU960/oPH7aIegG5SRg3EIALlP6rvgalUTIaoruvJ6Z+12Q0uEEx2hjBzSi2BCzQQAbO1q1QZdEgHGKL1eGAbz2Q5QRg7pxZKqCeMQAAD2RDhROGXkkMEb6ViEE8YhAADs+Z7aISjbjDJySO5AzzgEAID9EE4ULMrIx5WRQ1Kxfa9xCAAA+yOcKPXEKSOHDMah7XsBAGAo99YOQZlmlJFDBuPQKAQAgGEQThQoysh7ysjBOAQAgI6YcAjKoowc0hs3DgFg1774pYc68TquP/Le6uMf/cgV/84bp96sHnn0a514vUfvvrM6etcdLmAaJ5woSEyFlJFD+nFo+14A2L1XXjs5Mq91YXGxM6/35htvcPHSCuFEQaaUkUNy0+M96+EAYA9++lOf7Ma9wNTUVf9OVFd05fUenj3k4qUVwolCKCOHDN4w18fhpIAQ2KczZ89Vzx57IcvndtONNxT5KaljWoZROg4RYDjvsMt7bYcgf8rIwTgEumPuzNnqsSeeyvK53f/he4qcUDmmAOUTThTggDJyyGIcqpkAhiFKpGPCmqObCp1EO6YA5RNO5H6CxsbqB5BOLKkyDoFhmT10TXVfphNpxxSAVHwgnzFl5JDBm+TYxWa0AABAg/fdDkG+ZpSRQ3IHesYhAAA0zbKOTEUZ+bgyckhqutczDoF9eTzTJo3bKWFnCccUoJuEExlSRg45jEPb9wL791hhE+kSdpZwTAG6STiRoRll5JDUWD0OjUJg/376U58s6vnGrheO6egdU4AcCCcyE2XkPWXkkNSUcQgMiU/MHdNRUNpSG5oxd/acg8C+CCcyoowc0hs3DgFgVx4TTgBDIJzIhDJyyGMc2r4XAHamtCU2tMNSJvZKOJEJZeSQXgQTogkA2BlLbIBhch+eAWXkkN7E+jicEBACAEASwonElJGDcQgAAKPO3XhiysghvZlx2/cCAEBK5sUJKSOH9GJJ1bhxCAAASQknElFGDhm8AY5dbEYLAAAkvjd3CNJQRg4ZjMOecQgAADkQTiSgjBzSm7Z9LwAAZEM40fYBV0YOGYxD2/cCAEBW9+gOQbuUkUNaY/U4NAoBACAnwokWKSOH9KaMQwAAyM6EQ9AOZeSQ3rhxCOzB8vJytbCweOn3586dq1ZWVhwYOmfwOu9f+/Pz8w4MjTp3zjXGRcKJFigjhzzGoe17gb3dOJ+vH33f+tbfVHNzcw4MnXPy9VOX/T6u87jeAdrgTr0FysghvQgmvOEBAECe3Ks3TBk5pDexPg4nBIQAAJAt4USD6uUcysgh+Ti0nAMAAPKm50SDYkLks1pIa8Y4BIbs9ttvr5aXNcSkXddcczDJv/mhD/2gg0+7E9SJcQdhVM+9Q9DQgVVGDsnFkqpx4xAYsoMHr3EQGAnj4xPV4cOHHQigFWqdmzqwJkSQnIAQAAAKmUM7BAAAAEBKwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApCYcgma8/dLx6jsOA7u08NabDsIQvf7UE9Xb33nRgWDX798AALRLONHYze2L9QNI5+RTTzgIAABQAMs6AAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApCYcAijXsWPHql/6pV+qDhy+oRqfnC7m+U4dvLaanLnWCQQAAGoqJwAAAICkhBMAAABAUpZ1QAcszr9ZjY3tPmtcXV5M8nyXLpyrVpYWinm+AABAs4QT0AGlTdrXVperlfUHAABAsKwDAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhqwiEAAEbBH8x9r3ro3JvV3MpK/ftXlheqmyemq59c6FWz4xPV9x++tjo0MVnduf41By/MvV2dXV6qnl//em5pqfrG6e9VJ+fnqxsOHqz/ezzX/+iGm6p/cMv3jcT5mltdrg73Jqr7F6rq1vGp7M7Xd8/PVyfXH6N6vv7q/Nz6OXujOrG0cNn4+shyr7p+aa2698j19Z/fe931WZ2v7873z9tb9Z/V52pysv5an6+bv+/S70fhfH14daJ6/8KK84VwAgBg2J5ZmK/+25Mv1F83ixvzp89eqN7/2ul3/bf+zXlMKr//8Hsu/XlMhvd783t2ffIa4UNf3GhHEBGePPXGVW/S+/7y5GvVH3z7+eq/u+dHspmk79fc6kr1j189Vk+etvLk+cXqAyfe2PH5umHmYPWBjYBgWOfru+fPXToPdYi0tLTj8/WF556p/qcf+Winztc/XR9fD519c8vx9dcLS+vn61TVW3/dg/rjqInztXkc7eZ8bf4ecb7+xd/70c6cr/BPTx6vw7+tztfjq6vVLS++vu35Cj983fsu/fk1k5N1UDjM83V2abF6/szbez5f/9UP3NPZEFA4AQBQqLjZ/s9PfKueQG1n/tCB6uzhg9Whufltb5ZjUpmruHn/lb/6i+p///hPVB+YOVj0+YrzFOdrqyCp78LMVPXWkdnqPafOFHm+YpIc56sLE96dnK/F6cn6fF33vbffdd2WcL5iYvxfPvL/Vf/H+vjqQkCxXTDRt9rrVW/c8J53BbaD5+tqAWrq8/U/P/X1+tcCivLoOQEAdNY/fu3YFYOJvtPvO1wtT44X+zrjhvx//Pqj5Z+vV49dcaLb99Z1s/Wkt/TztdNPhHP1v546saPzNfeea+oQsGQRKBV/vk6/csVgoi/OVZyzkv1vzzx1WaBCGYQTAEAnxY34TiZOIT4tfP3G64p+vXEj/gfffqHY5x/LArZbyrGVOF9x3koVFRT/ruDzFefqX7/13R3//fg0vvQAMCa8pYoqsn956sSO//7p911bfAD4GwWfr1ElnAAAOieqJf71m7srFY8b8bghL9kXNq0TL8mvvfHSrv5+THRjwluy6BdS6qfx//LUK7v6+10IAP/0xHcu6yFSkghrd6v0ADCWnzx5+o2KcggnAIDOeejs6R0t59gsSpmj/0SpYqIbE6jyztebl3YN2I3Sy8/jfJVYPREVSbupcumLALD0QKnEADDG1k6Wc2zWiQDwxef9QCyIcAIA6JzdlJtvFv0nSi5njk/ji3vOZ763j/N1bXVhZrrY8/WnJ14aqfEV4V/JAWA07yyt2iW25N2rCACjoWnJ56vUapdRJJwAADolPiXcaa+JrfTLz0stZ47eEyXdjEeFy1bbUO7G6ze9t9hAKc5VaY37ojJpP+LT+FLPVwQTOe8uspW9VE0Miga0JTc0Le18jTLhBADQKfv5lLAvypm/e8sRN+MFTHRDf/vDUgOlkqonIvjby5KpzWJ8ldog88nT3yvmue43rO0rOVD6y5Ov+sFYCOEEANApe1kLv5WS18c/eep7BZ2vM0M7X6UGSt8oqGnfMMK/UHKFUknh37DeD+M8xfgq8XxFY0zKIJwAADrlr+bnhva9Ym18iQFFSR3qhzV5CqUGSiUt63h0frjn6/WbytvBI5Z2lLJ0aljhXyg6oLBrRxGEEwBAZwyr5PyyiUiBDfxKmTzFudrLLh1XO18CpSYnu3ND/X4XZqbKPF+FfBr/rYVzQ/1+pVYoqZ4og3ACAOiMYd+I98XkqbSAooRP459p6HzFuSpti9ESJk/D6F2w3fkqLaB4Ye6tIp5nE+esxAql5ws5X6NOOAEAdMYry4uNfe/SAooSwolhlpxvFluMlnS+vnv+XPbPcdhVLoNKCyieP1PC+Jpzvi6NL9uJlkA4AQB0xjDXw2+lpICihE8K51aWna+CJk/PLDb7HEua8JYQ/jUZJjlfNEE4AQB0xtzqcuP/RikT3rPLS9k/x28tzDtfG0pY1tH0ZLekCW/0dcldk5VkpZ2vIKDIn3ACAOiMZxba+fS5hAlvCZPdV5YXWjtfpfWgyFEb4URJE97cJ7tN9eAp9XyVENiOOuEEANAJw96lw4S3O5PdED0ocp9A5b5jR1thUikT3twnu3MrK62er1e/731ZbzP6vMqJ7AknAIBOeGah/YaCuU94c57sth0mDU54c55A5azNMKmECW/uk902w6TQ32Y01/N1bknlRO68MwMA7HMC9fqN15nw7lKKMKl/vnKdQH13Pt+mmCnCpMEJ7/LkuMnuLrUdJvXP14kPvr/+mt179dJiRd78FAUAOqHJbSmvZv7QgSwnUDn3nUgxcRqcQMUn8rlNoE5mvGNHqjBp8HxdmJnO6pjkvCNOyvEVwV+8H+bWl6eE7V9HnXACAOiElDfjgxOoCCpy8d3z57I9X23sJHAlESTlNoH6xunvZXu+vrWQNjjpT3hz6vOS8/avbS/p2Op8xRKqWPqWC7t15E84AQB0Qupwon9DHks8crkhz3ny9Oj8XBbnKyZQufShOJnxso5XMhhfIcZWLsuocp7spqwkGxRhUoS2OVSVxfavZ/WdyJpwAgDohL86P5fNc8nlhjznZR2pP9m9bNKy0Xgx9TKPnMOk1JUTg6I6Kfoa5LDMI9eA4sRSPuMrp6qyFyztyNqEQwAA3ffSiROdfn2vV6vZPaf+Dfl7Tp2pDr+VbnnFX7/4YnXdZH7N6XKaPIUIkurzdfpMfc5S+X+efab6O4dmsztfKXtObKW/zCPGVpyv3mqa94CnT7xcTRw+k935enLh7ezOV1S8HDx7obr+5FvJztfDLx6v3jN/oXM/A187ebITr0M4AQAjYH7+fKdf3zerxaoay+95xQ15lKHPH5qprvve29XUQvslxS/PvV0dmLkmq+PydLWc5fkKb103W52dPVhPoA6cbz9AefXc2erWXl636OeqtWpubCXL8xVVSvPXHKiue+PteuLbtqic+DsT09kdl+fH8tyZoq56Ofj+9ffDuerQXPvVONF0tos/D88vLHTidVjWAQAU73imE6e+CzNT9afyEVS0vVb+uQybYr5e5X2++s0yoxdF20tzTizkN3E6XsD5ik/lv3vL9QnO1wXna5f6vV7ifLW9lOqU7USzJpwAAIqX+814X3zKG2vl3zrSXtn+6eX8GsCdHFst4nz1e1HE+WorVMpzsrtcxPmKEPDE7Te0GgKeXs5vsvt6Ie+H/dC2zRDwuYx3MMKyDgCgA0q5GQ8xaeovHYj+Bk2XNuf4SeHThUx2B89XBEvR3+Dwm+caXS+fYzjx4thKUe8Hca7OHp4Z2fN1vLDzFSFgPOK9MN4TJ5aaff4R2F43MVmRH5UTAEDxjlcrxT3n+KQwPjH8zp0faPSTecs6hqMfUvQrX5r6pPf86kr9yMnJarXo89X0J/O5jbES3w9DBBRR+RLnq8nlHpZ25EvlBABQtFJvxDdPouIRnxwemjs/9EaM8enuLdMHsni90VyxxMnuVucrGjAeOjM/9EaMcb7uyqiJ6dPVUtHnq//J/IHzixtjbLjVSrktnXq98PfE/vmKBsJR/RLja5jVLxEm3ZVZk2CEEwBAB5R+I77VTXmUNR88d6GeRA1jh49YF59LOHG8Q+crdh6IR0ycYgIV52wYQUVO4cTrBQdJm0WPg3icft/hoZ6v3D6J78oYi+qJqKKobqjq98IIl4YRVOS4FIeLhBMAQNFKW1+9E1GCHuvm4xE34gfmF+tqirg530tYETfj91xzOJOJ03Lnztfgp/PDOF+vLOYzeTrZoXBiq/MVYsIb52tqYXlPVUs5Let4uoPjK1w6XzdU9biqx9fGONutHJuYIpwAADqgqzfjgxOp/if0ff1Jb38iXN/ULS9v20gup08KXx9bHcnzNbG0fn6WVy6et5W1K56vnD6Jf3psqfPvIZvPV5yjeAyerxhr2wVNOS3r6FIl2Xb6FTDVde+crxhLU4tLOzpfKieEEwAAbsaHfXMerrv63+9V41W1lsdzPz6i56vqn68d+Pb6479xvpKJ5QS7acgY5+vc2lp1TTWW/Lmf7Hj4d6XzNV/tfOna8bWV6o5qvCIvdusAAIrWxbLzLk8wS26u2KZcej2MYvhX8hjreiWZ67rbhBMAQLHciJd1rF4XJO1YLqHbcZO4HR6nZc+jpPM15rrOkXACADAhGAE5fFKoymXncuj1IJjYxfjKYDlFbNN7Lpf1W7mPLz87siScAABMCEZADmvRR6G5YpeCgRdN4Io6X8KkXfzscKyyJJwAAEwIRkAOnxQ6X2VNnk4K/3YxvnKodBEm7fjarlZVmWRIOAEAmBCMgONZ9JwQTuz8fK1kML5Mdnd3facNc17UR6G4McblhBMAgInACMhhPbrJQFnhgE/iyzpeerq4vksnnAAAiuRGvKxwwKfwu5ey0kRzxT2Mr8SVCyrJdjm+LFvKjnACACiS5oplHTNLOsqa7KpyKeuYOV+OWRcIJwAAN5YjIuVSGM0Vy7rGhX97GV8rI/lvl0qlSX6EEwCAicDITHbTLa2wrKOs86Wny17OV8LKCc0wXecdIJwAAEwEHLNOT7RLFT0fUk2e9HTZm1QhnPDP+1IXCCcAABOAkboZbz+g0FyxvJBAyfvepKroUkm2x/dDFSdZEU4AACYAI+TFBMGOKpd9hAQJej84X2VNdiP4U+niWu8C4QQAYAIwQlI0ptRcsazJ04sqk4o6XybYrvWuEE4AACYAI+RplRNFSVElZGeV/YyvFJUuJth7vtZVnGRlwiEAAErjZrysY/f6mnBi7+er/WOnp8s+r/f1Ce/7W/wM+EWVZPu+3v+uaXEWVE4AAMXd+GuuuHcpmlMej3Ai/kmPPT3aDguEf2UdP5/+u967QkQEAJR3Iymb2OcxXGntk8Knna99q5d2jLVzvuysMoTxNbZSfbTFQ2hnlf2pK09c8lkQTgAAxU2s3UjuczIzttRaOPH62ur6+Rpz0Pd5zT84ZnwV9R7VwX+rq1Se5EM4AQCUdeO/6mZ838cwlln02jpfKidKmoDWn8I7X/tS7wDRUphkW+VdWtvmmicLwgkAoKwb/7q5ok/i9zehae+Twkv9Jth7YLC2Ptkdb+naqCtdHPP9qD+JV+nSrCG/5liKc0dbg4xtCScAgLJu/NeU4A5lQtPWv7UqnBhWaPD+sV4750v4t28RKP3dFvqE1MFV6TJ4f4gKlDvGhBOp2a0DACjG/7J8zu4NQ3rUx7Jh/9fKQnVudc3xHsLj3yyfb/x8fXl10c4qQ3r8q5X5VoKJp9eW9vgcx4b/+P/Zu/fQyK77DuBHmpE0K+1qJe+ud9dJE3tpnAds6rgU6vSvxoaWPgi0hTRuoPQPJ1AoNBTaP5p/Sh3q/0ya/xwSUmhcCqXEbRIK2ZRQaB1KnDo1TYidbBwn63147X3oOS+p91zN9c6OpPVIGs2ZGX0+cBitNJqdOT9d6f6+c+69a7sc6+nH0+urTgQ7AKycAACGQmx0zzVrJqJHzoVaODs2ER4uTe7P4zdq4an6sonuka9n8zkdxsLHJ6b3rdF9sg+B1UERVyfFAPBPyzP78/jrzfD42mLYt1UuB6xPz+dzfTH8TemIH96EhBMAwMD71lo9fG4Pje6RhaUwu7Acbh6ZDgtHZkZiTqZq9fx1VScndv2anqwv5YcKnB3v7S5hPDTgqdrKrhun6eXVMLu48dquzc2OVL2apfFdv6Zn6rVwZqwcHin3NlCKh4w8Xl/cdUMaX9vxq9fD8nQl38aapeFfHl9qNsP8tYXQLJeyeu2uYY1h6n1ZvT5cmurpc4vv8H+6udjdO/3rW7+2U5feCNWpbPuaPzIa9Wps1Cu6emJuV48RA7rPheXwWGk6IJwAANgknmPiyereFtzePDwTlg9Vwtz1hfCeV18OjaxBjA19/vmsoRqmBnf++s0wVa2Hpex5x6apERuLPUzO49XF8LeV2XCyR+czWFpfD4+vLuW3uxVrFcfx16+Hd/3olVDOmqmbWb0WDm/UbKjqdeNmHrbE533t6JG82d1LvZ6qroQz46V89EoMJvLDb3apOjERLpw+kf1sLoT7zl/I6rW2sX0NWRhYBEhx+4q/I64en9to3PdQrxiqxnMZ9DIAfLyxGC6v7f7cO83sZ+fCPSfy1/qOly/lP58LszMbNZsdnnApDySyn7n4/ONzjvWKgcte6hVX6J3JWuT9WlGGcAIAGGKPV5fCYr6zubfly42sObh613w+iib/zMsXwvTK6q2gIjbF04fyd+wHYuc7a8pnswbiyOJGwxSf57W5o7c/vz0uv44Lw5+sLocnKod78pyfXF3eU+PU7updc/komvx3/OziRr0Ot9Xr0IDVa3GjXrFBj8/v2tHZcOn4sZ7VK8Z0cY6fOHQ4zIztfUn/U/WV8KNmb06Q+sbRI/mIr30u275OXn4jvOcHL+c/txvbViUPmQalXlHcvmKDO5n9jMXndfXYXHjtrrme1Wvjd9hi+ELlaE/q9XRzNbzQ7M1JMON2FEexSuTY1Wvh5196Ja9TXrPpyptjUBSr4A4trYTa1GQeSMSa9bJeTzWW8zCpHyegRTgBAAyJp2ur4Xyz91eWiO/0XjpxLB+x6Y/NZGx+T115Pd9Rj+/CxWZqo5GaDLWsaVnK/r2f7yjG/3cma7xj8x3fCZxeWckb79iEXzh598Y77j3cAW8Xm504149O7q0JeaZWDc/W672vVzmr17Fj+cgbqZsLeQhw/I3rYapWe7NeS5VKVqvJ/ONYt1jnfa3Xaqte2W18Ho3xUh5GXD52/PYGvMcXmImHzXypuho+Xjm057o/U6+GXp+3IM5DEQTGd7djrWIAcM+rr4X7ahc2GuNs24rb1G31mtrf0CIGEbFek1mtZrJtLK46is/j0onjt//fPd6+8gCwthw+NbW3VSTxvAhP13t/YtS4kiI2+EWTH2sVQ4CTl1/PfxcV9YpzFOtVHLqz36FFsYql+J0YxdVicQVSXKmzq3p1cd8YAP51bTF8dmo0DikTTgAA9KgB22+xga3OZzvm8xs75tNFQLC60lq1cOW2+y+3Qoq8mWo1oEVz3NUO9+Ktkw7Otj6On4vvYMZmbTlrOGMYsend5X2+gmqc64fLk+Hk+O7eLYyrJb6UNen7fSK9vJGam8tHlC/FX1rK6xXDnVNXX7+9XpWNejXaahQfo+t6LW1Rr+xz8XFjeBRvY2gSb3faBO0pCKpWw0PliXC2vLvd+XjYTVwxs+/1Km0ENnHk9cqbzZV8G4vzeeL163nQ8+b22AoDGx3N70KXh/PExy0eL26/xefi9pTXK6v71fn58Mrb+luvZxv18Gypntdst56sZW1zH05UWayAiUrNtY1Qp3UemLjC4p5Xr7TVayJfwRAPg4mrzm7Va3oH9dr45Ta9vJKvupluBUf5Co78cKjZ8JO3n+7r78Pz2fN4ur4aHp0YnsP+hBMAAPvkqazZTHHG+LzpzBvNW0uFYwM8Va+9GSzMZs1pfKc8jvaw4Y6P27by4ubMRqMVQ4jGdo1ygteeHy4wvbvDOz6XNZx7OW/BbuXhUh5UbK5XXNEQG9V4Wy4OuVha6vrnYFO97r57o2mqDEi9lpfDF2Z39+7ul2qr4XJzLU29snEte94XToZWA3xr1VBprZnflluHNLWHDXd83FaokQcvrW0tHk5Tba3M2GQtzfb1/pnZXR3eEVe4nM/rNdbX59wcvxUuXWh9Lq6GmclXoNQ3fg9WN25nb+6hXuWN1TaxblueVyZBvb6czXke2Dq8QzgBABxc57Id3RfqjYF5PkVDdXO61aT2+j8YkMv2xTl/odHY8bvx8XuerTX63jhtX6/JfNycPrw//8GA1Otycz3fVh6Z3NnJ++Iql7jyYlDEBjgGQEUINKr1iqtV4qFPj05Vdvx9MUwamHptFyD0aq4HqF5PV1fDJyuu3tEvYiAAYOA8XRweYPR9PLWy82Pav7RcNXeJxtPLVdvXEI0vV6s7vpJNXDWRf08/n+vaLseI1etcvdazE/zy1qycAAAGSnwXPr4jPCjvwh805xtrO1o9EXfcX6g1TFwicf7PVWvhkanuVk/EJjeutiCNYv4/PDXV9fd8ea+rXNbN+17kqycOWT3RD8IJAGCgnFut25kegBqcPdzdbuIzyzX1Suxb1UbX4UQMMsK64C/p9lWtdx1OxKvfvLnSwnaWxLO1evjkIfPQD8IJAGCwdgSrwonUdnK+j3zVhHql3WZioDfbbW2b6pXY+UYzX/HSzZVx4iqm4KiCPtk6tFtaD7s6Fw87Z4YBgIER3yFMccUHbne50X03dL7eNGED0vCeKZe6up9mN70rze7CiXiYlZUuPbTLPy/xyjZndc77zhQDAIPTFMdL5ckmhmxnX+M0CJa6DBx2Ejwx3A21eemdK0LzvhBOAAADI3/n1z7gUJkJYzu++gC9d3epu5DoTKm0sXqC4Wis18Po/04cgtd3X8lFLvtBOAEADJSzExOu/pDYQ1PlHd333HLdpKXcZrIanOyyeXpocsKhOInFWp2d7G4be2RyyH4fjmCQMjM2Ft4/oW3uB7MMAAyUTx6thD95bcm78Ql3xB+brXR9/49n9TpfXwvnaxreJPUaH8tq0P1lKT88MxmeXW1YPZHQY4e7v/TDI5XJ/CSm51b7fPlXv35v/Y47Usl/L7L/hBMAwECJ7yp+9sRM+MyF18LVhZsmpI+OH5kNf/n2u/OGdyfN8RPHp8Onf3pFvfq9rczMhD96+8lwZqLUfb2yJuuJu6bD31+9Hp577apJ7KOJyanwZ/e+bUf1ij555FCYqtXC81eumMQ+qpRK4bF739H1Khf2zkwDAIPXdJXG83fk/+6Vl0xGH33i3nt2FEy82fBm3/Pnp+bCZ36qXv30kdPv3XGjW9TrE3fPh7968f9MYh/92pkzu6pX9MfHjobP/PilcH111UT2yS/fc49gos+c2QMAGEj3Hj1qEvrs1MzMrr93bmrKBPZZpVxOVm/6P9+2sf46WqmYhD4TBQEAA2su2zn0TmF/TFZXwxc//9TemuWfuzesTk+bzD4YX2uGb/7TP+7pMRZP3ZN1YHMms0/1OvfMP4dyffcnj71x/EQIx06YzD4RkCfYTkwBADCoPvLe99pB7IPK8nI4ceGne36c+BjTiwsmtA/1OvnKT/b8OPNXLofDN66b0H0WA4kTF362p2AiOnr1tTB77Q0Tus9iKB7/9lhZlGBbMQUAwKCKO4d/ePZsuF6thpdv3AiXFxfDpaWlsNpo5LfsXFwhMd5cy28nslFZXtpz01SI7w7HgKIxMRFWp2dCM94e2tjBt6Ji7/Uq1Wt5+NPLeh279GoeUsT61LOmTL32HkRsjFpr+1rOa9cr81cu5SGFevUuiIiHy8TbeILZGIYLJYQTAADb70BmO48P3H13CHG0tB+CEJvhxsTktt8fvx4b5VFUajVD2zdLtZ41sztp0Ip35I+G17asx0Gt11izmTWr1e0Dg/zr/T2UKYYU+YqXbGxVr7XxUqjd4fj7tfHxvFFWL/Ua9HpFMZAt/Ppv/HY4dfq0P7LCCQCA3jXD/W7AUa+DIjbD7Q3dlhzOo16w159dUwAAAACkZOUEADByTp2+x1JdgANucWEh/PClF03EkBBOAAAjJwYTD3zgF00EwAF26eJF4cQQcVgHAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkiqbAgAYfb/04C+M3Gv64ue3/9rbTp8cydcMQPdeeulQ+Levbf/199x/JrzrXfcP/eusTIyNRL2EEwBwANw1f/RAvd5DlcqBe80A3O7IkcNv+fVR+FtxdPbISNRLOAEADO+OTLkcKpVKmJiYyP+9tLQUarWaiQHgtr8V09PToVQqhWazGVZXV/2tGMQ6mQIAYBjNz8+Hubm52z4X/x13OuOOKAAcO3YszM7Obvp8/FsxPu4UjINENQCAofPVr35tUzBRiCspvvu/L+Q7ngAcXN/5zv9sGUwUfyu+/vVv+FsxQIQTAMBQuXjxYvjP/3r2jveJO5tf+erXTBbAARWDie997/t7/ntC/wgnAICh2+Hs5f0AGD3f+/73u/xb8R2TNSCEEwDAULl48VLX9/3xj39swgAOoGvXrvf0fuw/4QQAMLLiMcUAwOATTgAAQ+X06VNd3S8GE6dPnzZhAAfQ/PxcT+/H/hNOAABD5YMf/GBX93vf+95rsgAOqF/54ENd3e/BBx80WQNCOAEADJX4LtfDD3/ojveJKyZ+6zd/w2QBHFD33XdfePDBD7zl34qHP/SrJmtAlE0BADBs4s5kPGzjG9/4903XqD+T7ZB+7GOPOt8EwAH3e7/7O2F+fj7/W9EpBhdC7MEyNsTPebxtTDzwwAOfKpVKf6Gk0DuliUo2prq+f7NezcaqiYMeuv/++8O73/3uPT/ON7/5zZGcn5WV1XDx0sXwzne8M1y/cSOMj4V8RxQA2v9WXLt2LZw8eXIk/1YsLi6+/u1vf/s/sg+r8eVmYzkbC61xo23cbI2l1n3i/Wut0czGWmust0ZfjczKieeff95WB8DIee6550xCF175yU9MAgB39OKLPzAJA8w5JwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBS5VF5Ib//0UfD5OSkigIAAHBgvPHGG+Er//ovQ/86Riac+OijfxBmZmb8ZAIAAHBg/OiHPxyJcMJhHQAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAICnhBAAAAJCUcAIAAABISjgBAAAAJCWcAAAAAJISTgAAAABJCScAAACApIQTAAAAQFLCCQAAACAp4QQAAACQlHACAAAASEo4AQAAACQlnAAAAACSEk4AAAAASQknAAAAgKSEEwAAAEBSwgkAAAAgKeEEAAAAkJRwAgAAAEhKOAEAAAAkJZwAAAAAkhJOAAAAAEkJJwAAAICkhBMAAABAUsIJAAAAGB3rw/ikhRMAAAAwWtbDkIUUwgkAAAAgKeEEAAAADL+hWy3RbnzECgEAAAAHzfodxlt9z0Aoj0AB8tvvPv/8P9x1113/vbi4OLW0tFhZWlo+tLy8NL2ysjJTXV2dqdZq0/VababeaEw3m41Ks7lWWVtbm1iPY329nI3x9RjWZLetxxzz8w0AAMDA9cBjYX0sjK1lt2sLCwur2WfWwuZAYqiCimFswIvnPN76uBQ2QpbJ1jiUjZlsHM7GkWzMtsbR1u3h1tens1HJxlTr+0utMdY2AAAAYFB0hg3NbDSyUc9GDClWsrGcjcVsLGTjZjZutG5vtj6/2LpPNRu11vfGx9gq4Oib8ogU560Ktt6a6PbRbBvtQYRwAgAAgEHtfzvDic7R2fu+1eqJgTi0ozxiRWr/eC3cOZAoEqbxju8pVmQAAADAIPa+7T1vvTW6CSrWwubDPgZCecgLMtYxqevh9mSoPZBotBUtjvZDONZb/x4PwgkAAAAGuxduDyeKXrfW0fM2WqPoibs5YWaysKI8wkVqT4vaCxQLNhFuDyFiwZxzAgAAgGHoeTsP6yh63WJ0hhRbraQYKOURLFDnYRxFMYoixWCi1PZ9zXArmCjCiRA2hxPCCgAAAPrd6271763CieKkmKtt/W+xqqIznEh24svtjNo5JzrPLVEsYylCiVikIpgo7leEFcVhHVutmhBMAAAAkKrX7fx351EDRThRDbcCiuJqHNsFFGvbPH4So3K1jjsVpxY2Xyq0/T6d4UQIm6/eAQAAACn73s6Pt+p/21dPVNtu2w/x2OoKHskDimE/IWZxUsytDudoP+6mfVVE+8kxJ8Kt4KL4+lYBBQAAAAxCH9zeD3eeFLNYPRHHSti8gqI4/8RW555IGlCUh7QYYx3/3upEmMUVOdpPfNn+9fbzT3Qe0iGYAAAAYFB74u2OHihCiu1WTrRfOGK7S4omCSnKI1CU9suJdp5vorbF19fC5mCiONzDZUQBAAAYhl646HE7T4xZBBTVtlELt1+5o/3EmO2PmcyonHOiWIrSfthG8e/2cGKr80xYNQEAAMCw9cF3Ooqgc7SHE+3nndgqpEhiFFZORJ2rIxqtz9XC5mUuWwUT7SsmhBMAAAAMQy/cee6J9oCiM6go3sgfuFUTUXmIC9F53on21RNrrckvJrgILMrh1rkoOk+CKZQAAABg2Hrj9sM7Ok910P5x+yEd262aSBZSjMphHVH7VTsKRSpUhBHNsHm1xHjb/QUUAAAADFMvHMLmgKI9pCjGWsdY3+Jxkhn2Znys4+PxLW47x1b3G6U5AQAAYLStb/HvzoCiPajoDCXab7d7zGTN/bDaKqAI4faTXHaGEe0nvtzqJJgCCgAAAAbRdsFE+8fbhRWdX9vuMZM29sNqq2ChPXAY3+bjsTt8PwAAAAyq9W3+vV1IsdW40+Mlb+yH1XYBQ+cKic7PjeJcAAAAcDCsb/O57cKKrb7HOSf68HreapXEQZgTAAAARsv6Du4z0KHEKDfiYzv8mjACAACAYbbe5ee6+drANfLDTugAAAAAt6wP6hM7SA28sAIAAICDZN0UAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADLX/F2AA32DsV1epXdQAAAAASUVORK5CYII=",Z3={__name:"delete-appointment",props:{deleteSelectedAppointment:{type:Object,required:!0}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,a=H(n.deleteSelectedAppointment),s=()=>{r("close")},o=async i=>{const c=await jAe(i.id);c.error?console.error("Error deleting appointment:",c.error):console.log("Appointment deleted successfully"),s()};return(i,c)=>{const A=D("v-card-title"),u=D("v-col"),f=D("v-icon"),m=D("v-btn"),v=D("v-row"),h=D("v-card"),y=D("v-card-text"),w=D("v-divider");return V(),he(h,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(h,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"11"},{default:d(()=>[l(A,{class:"pa-0 pl-2"},{default:d(()=>[...c[1]||(c[1]=[Q("Confirm Appointment Delete",-1)])]),_:1})]),_:1}),l(u,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(m,{icon:"",size:"x-small",onClick:s},{default:d(()=>[l(f,null,{default:d(()=>[...c[2]||(c[2]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(h,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(y,{class:"text-left"},{default:d(()=>[...c[3]||(c[3]=[Q(" Are you sure you want to delete this appointment? ",-1),p("span",{class:"text-red font-weight-bold"}," You will not be able to recover data once deleted. ",-1)])]),_:1})]),_:1})]),_:1}),l(w),l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"2"}),l(u,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(m,{variant:"outlined",onClick:c[0]||(c[0]=b=>o(a.value))},{default:d(()=>[...c[4]||(c[4]=[Q("Yes, Delete Appointment",-1)])]),_:1})]),_:1}),l(u,{cols:"2"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},owe={class:"tab-content"},iwe={class:"tab-content"},lwe={class:"tab-content"},cwe={class:"scroll-hover",style:{height:"calc(100% - 8px)"}},uwe={class:"d-flex align-center flex-wrap"},dwe={class:"text-caption mr-2"},Awe={class:"d-flex align-center"},fwe={class:"scroll-hover",style:{height:"calc(100vh - 280px)"}},mwe={class:"text-caption mr-2 text-success"},hwe={class:"d-flex align-center flex-wrap"},vwe={class:"text-caption mr-2"},pwe={class:"d-flex align-center"},gwe={class:"scroll-hover",style:{height:"calc(100vh - 280px)"}},ywe={class:"text-caption mr-2 text-error"},wwe={class:"d-flex align-center flex-wrap"},_we={class:"text-caption mr-2"},bwe={class:"d-flex align-center"},xwe={__name:"appointment-queue",setup(e,{expose:t}){const n=pr(),r=au(),{showSuccess:a}=dr(),s=H("in-queue"),o=H(!1),i=H([]),c=H(!1),A=H(null),u=H(!1),f=H(null),m=H(!1),v=H(!1),h=H(!1),y=H(null),w=H(!1),b=H(null),B=H(!1),S=H(null),T=H(!1),N=H(null),k=H(!1),E=H(null),_=()=>{const at=new Date,Xe=new Date(at.getTime()+330*60*1e3),Ut=Xe.getUTCFullYear(),Yt=String(Xe.getUTCMonth()+1).padStart(2,"0"),bt=String(Xe.getUTCDate()).padStart(2,"0");return`${Ut}-${Yt}-${bt}`},C=at=>{if(at instanceof Date){const Xe=at.getFullYear(),Ut=String(at.getMonth()+1).padStart(2,"0"),Yt=String(at.getDate()).padStart(2,"0");return`${Xe}-${Ut}-${Yt}`}return at},F=H(_()),I=H(""),R=H(null),M=Z(()=>n.state.doctorModule.doctorId),te=Z(()=>n.state.clinicModule.clinicId),se=Z(()=>n.getters["doctorModule/isGSTRegistered"]),O=at=>{if(!I.value||I.value.trim()==="")return at;const Xe=I.value.toLowerCase().trim();return at.filter(Ut=>Ut.patient_name.toLowerCase().includes(Xe))},W=Z(()=>{const at=i.value.filter(Xe=>Xe.status==="waiting"||Xe.status==="confirmed");return O(at)}),le=Z(()=>{const at=i.value.filter(Xe=>Xe.status==="completed");return O(at)}),K=Z(()=>{const at=i.value.filter(Xe=>Xe.status==="cancelled");return O(at)}),ee=at=>{console.log("Is this mobile",so),so?r.push({name:"PatientDetailMobile",params:{id:at},query:{from:"home"}}):r.push({name:"PatientDetailPage",params:{id:at},query:{from:"home"}})},j=at=>{console.log("Tab changed to:",at),u.value=!0,setTimeout(()=>{u.value=!1},500),requestAnimationFrame(()=>{u.value=!0,setTimeout(()=>{u.value=!1},300)}),f.value=at,setTimeout(()=>{f.value=null},600)},U=at=>{if(!at)return"Select Date";const Xe=_(),Ut=new Date(Date.now()+330*60*1e3-1440*60*1e3).toISOString().slice(0,10),Yt=new Date(Date.now()+330*60*1e3+1440*60*1e3).toISOString().slice(0,10);if(at===Xe)return"Today";if(at===Ut)return"Yesterday";if(at===Yt)return"Tomorrow";const bt=new Date(at+"T12:00:00");return bt.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:bt.getFullYear()!==new Date().getFullYear()?"numeric":void 0})},G=async at=>{let Xe;typeof at=="string"?Xe=at.includes("T")?at.split("T")[0]:at:at instanceof Date?Xe=C(at):Xe=_(),F.value=Xe,m.value=!1,await Je(M.value,te.value,Xe)},ne=()=>{R.value&&clearTimeout(R.value),R.value=setTimeout(()=>{console.log("Search query:",I.value)},300)};Al(()=>{Je(M.value,te.value,F.value)});const X=()=>{o.value=!0},oe=async()=>{o.value=!1,await Je(M.value,te.value,F.value)},q=async at=>{a(at.message),await Je(M.value,te.value,F.value)},Y=at=>{at.type,a(at.message)},ae=H(!1),ge=H(null),we=at=>{ae.value=!0,ge.value=at,console.log("Selected Appointment for Deletion:",at)},z=async()=>{ae.value=!1,ge.value=null,await Je(M.value,te.value,F.value)},Ae=at=>{A.value={...at},c.value=!0},ie=async()=>{await Je(M.value,te.value,F.value),c.value=!1},_e=at=>{y.value=at,se.value?h.value=!0:v.value=!0},Pe=()=>{v.value=!1,h.value=!1,y.value=null},re=at=>{console.log("Receipt created successfully:",at),a(`Receipt ${at.identifier} created successfully!`)},be=at=>{console.log("Bill created successfully:",at),a(`Bill ${at.identifier} created successfully!`),h.value=!1,y.value=null,Ve(at.id)},He=at=>{console.log("Edit receipt requested for ID:",at),v.value=!1,h.value=!1,b.value=at,w.value=!0},ke=()=>{w.value=!1,b.value=null},Se=()=>{B.value=!1,S.value=null},st=at=>{console.log("View receipt requested for ID:",at),v.value=!1,h.value=!1,N.value=at,T.value=!0},je=()=>{T.value=!1,N.value=null},Ve=at=>{console.log("View bill requested for ID:",at),v.value=!1,h.value=!1,E.value=at,k.value=!0},Te=()=>{k.value=!1,E.value=null},Le=at=>{console.log("Edit bill requested from view for ID:",at),k.value=!1,E.value=null,S.value=at,B.value=!0},ht=at=>{console.log("Edit receipt requested from view for ID:",at),T.value=!1,N.value=null,b.value=at,w.value=!0},Ct=at=>{console.log("Receipt updated successfully:",at),a(`Receipt ${at.identifier} updated successfully!`),ke()},Dt=at=>{console.log("Bill updated successfully:",at),a(`Bill ${at.identifier} updated successfully!`),Se()},Je=async(at,Xe,Ut=null,Yt=!1)=>{const bt=await $Ae(at,Xe,Ut);bt.error||(i.value=[...bt.data],Yt&&a("Appointment list refreshed"))},Oe=async at=>{at.status=at.status==="waiting"?"completed":"waiting",await w8(at)},it=async()=>{await Je(M.value,te.value,F.value,!0)};return t({refreshAppointments:Je}),(at,Xe)=>{const Ut=D("v-icon"),Yt=D("v-btn"),bt=D("v-date-picker"),cn=D("v-menu"),ln=D("v-col"),an=D("v-tooltip"),zt=D("v-spacer"),$t=D("v-row"),Ke=D("v-badge"),me=D("v-tab"),Ee=D("v-tabs"),nt=D("v-card"),At=D("v-text-field"),St=D("v-progress-circular"),Qt=D("v-card-title"),Rt=D("v-chip"),jt=D("v-card-text"),En=D("v-card-actions"),hn=D("v-empty-state"),Ot=D("v-tabs-window-item"),mn=D("v-tabs-window"),Ce=D("v-bottom-sheet"),Re=D("v-dialog");return V(),ye(ze,null,[l(nt,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex flex-column"},{default:d(()=>[l(nt,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l($t,{"no-gutters":""},{default:d(()=>[l(ln,{cols:"7",class:"d-flex justify-start"},{default:d(()=>[l(cn,{modelValue:m.value,"onUpdate:modelValue":Xe[1]||(Xe[1]=pe=>m.value=pe),"close-on-content-click":!1,transition:"scale-transition","offset-y":""},{activator:d(({props:pe})=>[l(Yt,Ne(pe,{variant:"outlined",size:"small",rounded:"x-small",class:"btn-hover-enhanced"}),{default:d(()=>[Q(J(U(F.value))+" ",1),l(Ut,{class:"ml-1"},{default:d(()=>[...Xe[19]||(Xe[19]=[Q("mdi-calendar",-1)])]),_:1})]),_:1},16)]),default:d(()=>[l(bt,{modelValue:F.value,"onUpdate:modelValue":[Xe[0]||(Xe[0]=pe=>F.value=pe),G],color:"primary",locale:"en-IN"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),l(ln,{cols:"5",class:"d-flex justify-end"},{default:d(()=>[l(an,{text:"Add Patient to Appointment Queue"},{activator:d(({props:pe})=>[l(Yt,Ne({rounded:"x-small",onClick:X,size:"small",variant:"outlined"},pe,{class:"btn-hover-enhanced mr-1"}),{default:d(()=>[...Xe[20]||(Xe[20]=[Q(" Add Patient ",-1)])]),_:1},16)]),_:1}),l(zt),l(an,{text:"Refresh Appointment Queue"},{activator:d(({props:pe})=>[l(Yt,Ne({rounded:"x-small",onClick:it,size:"small"},pe,{class:"btn-hover-enhanced"}),{default:d(()=>[l(Ut,{size:"large"},{default:d(()=>[...Xe[21]||(Xe[21]=[p("img",{src:dw,alt:"Refresh",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1},16)]),_:1})]),_:1})]),_:1}),l($t,{"no-gutters":""},{default:d(()=>[l(ln,{cols:"12"},{default:d(()=>[l(Ee,{modelValue:s.value,"onUpdate:modelValue":[Xe[2]||(Xe[2]=pe=>s.value=pe),j],"align-tabs":"center",density:"compact",class:"tabs-hover-container"},{default:d(()=>[l(an,{text:"Patients Waiting & Confirmed"},{activator:d(({props:pe})=>[l(me,Ne({value:"in-queue"},pe,{class:["tab-hover",{"tab-active":s.value==="in-queue"}]}),{default:d(()=>[p("div",owe,[l(Ke,{color:s.value==="in-queue"?"warning":"primary",content:W.value.length,inline:"",class:"tab-badge"},{default:d(()=>[l(Ut,{size:"large",class:"tab-icon"},{default:d(()=>[...Xe[22]||(Xe[22]=[p("img",{src:Xae,alt:"waiting"},null,-1)])]),_:1})]),_:1},8,["color","content"])])]),_:1},16,["class"])]),_:1}),l(an,{text:"Consultations Completed"},{activator:d(({props:pe})=>[l(me,Ne({value:"completed"},pe,{class:["tab-hover",{"tab-active":s.value==="completed"}]}),{default:d(()=>[p("div",iwe,[l(Ke,{color:s.value==="completed"?"success":"primary",content:le.value.length,inline:"",class:"tab-badge"},{default:d(()=>[l(Ut,{size:"large",class:"tab-icon"},{default:d(()=>[...Xe[23]||(Xe[23]=[p("img",{src:Zae,alt:"completed"},null,-1)])]),_:1})]),_:1},8,["color","content"])])]),_:1},16,["class"])]),_:1}),l(an,{text:"Cancelled Appointments"},{activator:d(({props:pe})=>[l(me,Ne({value:"cancelled"},pe,{class:["tab-hover",{"tab-active":s.value==="cancelled"}]}),{default:d(()=>[p("div",lwe,[l(Ke,{color:s.value==="cancelled"?"error":"primary",content:K.value.length,inline:"",class:"tab-badge"},{default:d(()=>[l(Ut,{size:"large",class:"tab-icon"},{default:d(()=>[...Xe[24]||(Xe[24]=[p("img",{src:ese,alt:"cancelled"},null,-1)])]),_:1})]),_:1},8,["color","content"])])]),_:1},16,["class"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(mn,{modelValue:s.value,"onUpdate:modelValue":Xe[6]||(Xe[6]=pe=>s.value=pe),class:"flex-grow-1"},{default:d(()=>[l(Ot,{value:"in-queue",class:"h-100"},{default:d(()=>[l($t,{"no-gutters":"",class:"h-100"},{default:d(()=>[l(ln,{cols:"12",class:"pa-2"},{default:d(()=>[l(At,{modelValue:I.value,"onUpdate:modelValue":Xe[3]||(Xe[3]=pe=>I.value=pe),placeholder:"Search waiting patients by name...",variant:"outlined",density:"compact","hide-details":"",clearable:"",class:"search-field",onInput:ne},{"prepend-inner":d(()=>[l(Ut,{size:"small",color:"secondary"},{default:d(()=>[...Xe[25]||(Xe[25]=[Q("mdi-magnify",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(ln,{cols:"12",class:"h-100",style:{height:"calc(100% - 80px)"}},{default:d(()=>[p("div",cwe,[W.value?W.value.length>0?(V(!0),ye(ze,{key:1},Jt(W.value.sort((pe,Ie)=>new Date(pe.appointmentDate+" "+pe.appointmentTime)-new Date(Ie.appointmentDate+" "+Ie.appointmentTime)),pe=>(V(),he(nt,{key:pe.id,style:It([{textAlign:"left"},{cursor:"pointer",position:"relative",overflow:"visible"}]),density:"compact",class:"ma-2 card-enhanced card-hover-base card-status-waiting",onClick:Ie=>ee(pe.patientId)},{default:d(()=>[l(Qt,{class:"pb-0"},{default:d(()=>[l($t,{"no-gutters":"",align:"center"},{default:d(()=>[l(ln,{cols:"6"},{default:d(()=>[Q(J(pe.patient_name.length>22?pe.patient_name.slice(0,22)+"..":pe.patient_name),1)]),_:2},1024),l(ln,{cols:"6",class:"d-flex justify-end align-center"},{default:d(()=>[p("span",{class:rt(["text-caption mr-2",new Date(pe.appointmentDate+" "+pe.appointmentTime)<new Date?"text-error":"text-primary"])},J(We(cx)(pe.appointmentTime)),3),pe.status==="confirmed"?(V(),he(Ut,{key:0,size:"small",color:"secondary"},{default:d(()=>[...Xe[26]||(Xe[26]=[p("img",{src:tse,alt:"Confirmed"},null,-1)])]),_:1})):Be("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),l(jt,{class:"py-1"},{default:d(()=>[l($t,{"no-gutters":"",align:"center"},{default:d(()=>[l(ln,{cols:"12",class:"d-flex align-center justify-space-between"},{default:d(()=>[p("div",uwe,[p("span",dwe,J(`${pe.patient_gender}`)+J(pe.patient_age!==null?`  ${pe.patient_age}y`:"")+J(pe.contactNumber?`  ${pe.contactNumber}`:"")+J(pe.importID?`  Import ID: ${pe.importID}`:""),1)]),p("div",Awe,[l(an,{text:pe.category==="walkin"?"Walk-in Patient":"Scheduled Appointment"},{activator:d(({props:Ie})=>[l(Ut,Ne({size:"small",class:"mr-1",color:"secondary"},{ref_for:!0},Ie),{default:d(()=>[Q(J(pe.category==="walkin"?"mdi-walk":"mdi-calendar-account-outline"),1)]),_:2},1040)]),_:2},1032,["text"]),pe.type==="procedure"?(V(),he(an,{key:0,text:"Procedure Appointment"},{activator:d(({props:Ie})=>[l(Ut,Ne({size:"small",class:"mr-1",color:"secondary"},{ref_for:!0},Ie),{default:d(()=>[...Xe[27]||(Xe[27]=[p("img",{src:Jb,alt:"Procedure"},null,-1)])]),_:1},16)]),_:1})):Be("",!0),pe.has_prior_consultation?(V(),he(an,{key:1,text:"Past Consultations Available"},{activator:d(({props:Ie})=>[l(Ut,Ne({size:"small",class:"mr-1",color:"secondary"},{ref_for:!0},Ie),{default:d(()=>[...Xe[28]||(Xe[28]=[Q("mdi-file-eye",-1)])]),_:1},16)]),_:1})):Be("",!0),pe.type==="followup"?(V(),he(Rt,{key:2,size:"x-small",color:"primary","text-color":"black",class:"mr-1"},{default:d(()=>[...Xe[29]||(Xe[29]=[Q(" follow-up ",-1)])]),_:1})):Be("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(En,{class:"pa-0 px-4 action-row-highlight"},{default:d(()=>[l(an,{text:"Edit Appointment"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"primary",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>Ae(pe),["stop"]),class:"btn-hover-base mr-1"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[30]||(Xe[30]=[p("img",{src:sm,alt:"Edit"},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(an,{text:"Delete Appointment"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"secondary",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>we(pe),["stop"]),class:"btn-hover-base"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[31]||(Xe[31]=[p("img",{src:zu},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(zt),l(an,{text:"Generate Receipt"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"primary",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>_e(pe),["stop"]),class:"btn-hover-base mr-1"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[32]||(Xe[32]=[Q("mdi-currency-inr",-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(an,{text:"Mark Complete"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"#2e7d32",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>Oe(pe),["stop"]),class:"btn-hover-base"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[33]||(Xe[33]=[Q("mdi-check-circle-outline",-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):W.value.length===0?(V(),he(ln,{key:2,class:"text-center"},{default:d(()=>[l(nt,{flat:"",color:"surfaceContainer"},{default:d(()=>[l(hn,{image:We(Dx)},{title:d(()=>[...Xe[34]||(Xe[34]=[p("div",{class:"text-subtitle-2 mt-8"}," No patients in the wait queue ",-1)])]),text:d(()=>[...Xe[35]||(Xe[35]=[p("div",{class:"text-caption"}," appointments will show here once you add them to wait queue ",-1)])]),_:1},8,["image"])]),_:1})]),_:1})):Be("",!0):(V(),he($t,{key:0,"no-gutters":""},{default:d(()=>[l(ln,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[l(St,{indeterminate:"",color:"primary"})]),_:1})]),_:1}))])]),_:1})]),_:1})]),_:1}),l(Ot,{value:"completed"},{default:d(()=>[l($t,{"no-gutters":""},{default:d(()=>[l(ln,{cols:"12",class:"pa-2"},{default:d(()=>[l(At,{modelValue:I.value,"onUpdate:modelValue":Xe[4]||(Xe[4]=pe=>I.value=pe),placeholder:"Search completed patients by name...",variant:"outlined",density:"compact","hide-details":"",clearable:"",class:"search-field",onInput:ne},{"prepend-inner":d(()=>[l(Ut,{size:"small",color:"secondary"},{default:d(()=>[...Xe[36]||(Xe[36]=[Q("mdi-magnify",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(ln,{cols:"12"},{default:d(()=>[p("div",fwe,[le.value?le.value.length>0?(V(!0),ye(ze,{key:1},Jt(le.value.sort((pe,Ie)=>new Date(Ie.appointmentDate+" "+Ie.appointmentTime)-new Date(pe.appointmentDate+" "+pe.appointmentTime)),pe=>(V(),he(nt,{key:pe.id,style:It([{textAlign:"left"},{cursor:"pointer",position:"relative",overflow:"visible"}]),density:"compact",class:"ma-2 card-enhanced card-hover-base card-status-completed",onClick:Ie=>ee(pe.patientId)},{default:d(()=>[l(Qt,{class:"pb-0"},{default:d(()=>[l($t,{"no-gutters":"",align:"center"},{default:d(()=>[l(ln,{cols:"6"},{default:d(()=>[Q(J(pe.patient_name.length>22?pe.patient_name.slice(0,22)+"..":pe.patient_name),1)]),_:2},1024),l(ln,{cols:"6",class:"d-flex justify-end align-center"},{default:d(()=>[p("span",mwe,J(We(cx)(pe.appointmentTime)),1),l(Ut,{size:"small",color:"success"},{default:d(()=>[...Xe[37]||(Xe[37]=[Q(" mdi-check-circle ",-1)])]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),l(jt,{class:"py-1"},{default:d(()=>[l($t,{"no-gutters":"",align:"center"},{default:d(()=>[l(ln,{cols:"12",class:"d-flex align-center justify-space-between"},{default:d(()=>[p("div",hwe,[p("span",vwe,J(`${pe.patient_gender}`)+J(pe.patient_age!==null?`  ${pe.patient_age}y`:"")+J(pe.contactNumber?`  ${pe.contactNumber}`:"")+J(pe.importID?`  Import ID: ${pe.importID}`:""),1)]),p("div",pwe,[l(an,{text:pe.category==="walkin"?"Walk-in Patient":"Scheduled Appointment"},{activator:d(({props:Ie})=>[l(Ut,Ne({size:"small",class:"mr-1",color:"secondary"},{ref_for:!0},Ie),{default:d(()=>[Q(J(pe.category==="walkin"?"mdi-walk":"mdi-calendar-account-outline"),1)]),_:2},1040)]),_:2},1032,["text"]),pe.type==="procedure"?(V(),he(an,{key:0,text:"Procedure Appointment"},{activator:d(({props:Ie})=>[l(Ut,Ne({size:"small",class:"mr-1",color:"secondary"},{ref_for:!0},Ie),{default:d(()=>[...Xe[38]||(Xe[38]=[p("img",{src:Jb,alt:"Procedure"},null,-1)])]),_:1},16)]),_:1})):Be("",!0),pe.has_prior_consultation?(V(),he(an,{key:1,text:"Past Consultations Available"},{activator:d(({props:Ie})=>[l(Ut,Ne({size:"small",class:"mr-1",color:"secondary"},{ref_for:!0},Ie),{default:d(()=>[...Xe[39]||(Xe[39]=[Q("mdi-file-eye",-1)])]),_:1},16)]),_:1})):Be("",!0),pe.type==="followup"?(V(),he(Rt,{key:2,size:"x-small",color:"primary","text-color":"black",class:"mr-1"},{default:d(()=>[...Xe[40]||(Xe[40]=[Q(" follow-up ",-1)])]),_:1})):Be("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(En,{class:"pa-0 px-4 action-row-highlight"},{default:d(()=>[l(an,{text:"Edit Appointment"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"primary",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>Ae(pe),["stop"]),class:"btn-hover-base mr-1"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[41]||(Xe[41]=[p("img",{src:sm,alt:"Edit"},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(an,{text:"Delete Appointment"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"secondary",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>we(pe),["stop"]),class:"btn-hover-base"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[42]||(Xe[42]=[p("img",{src:zu},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(zt),l(an,{text:"Generate Receipt"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"primary",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>_e(pe),["stop"]),class:"btn-hover-base mr-1"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[43]||(Xe[43]=[Q("mdi-currency-inr",-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(an,{text:"Unmark Complete"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"#f57c00",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>Oe(pe),["stop"]),class:"btn-hover-base"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[44]||(Xe[44]=[Q("mdi-undo",-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):Be("",!0):(V(),he($t,{key:0,"no-gutters":""},{default:d(()=>[l(ln,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[l(St,{indeterminate:"",color:"primary"})]),_:1})]),_:1})),le.value.length===0?(V(),he(ln,{key:2,class:"text-center"},{default:d(()=>[l(nt,{flat:"",color:"surfaceContainer"},{default:d(()=>[l(hn,{image:We(Dx)},{title:d(()=>[...Xe[45]||(Xe[45]=[p("div",{class:"text-subtitle-2 mt-8"}," No patients in the completed list ",-1)])]),text:d(()=>[...Xe[46]||(Xe[46]=[p("div",{class:"text-caption"}," appointments will show here once you completed them ",-1)])]),_:1},8,["image"])]),_:1})]),_:1})):Be("",!0)])]),_:1})]),_:1})]),_:1}),l(Ot,{value:"cancelled"},{default:d(()=>[l($t,{"no-gutters":""},{default:d(()=>[l(ln,{cols:"12",class:"pa-2"},{default:d(()=>[l(At,{modelValue:I.value,"onUpdate:modelValue":Xe[5]||(Xe[5]=pe=>I.value=pe),placeholder:"Search cancelled patients by name...",variant:"outlined",density:"compact","hide-details":"",clearable:"",class:"search-field",onInput:ne},{"prepend-inner":d(()=>[l(Ut,{size:"small",color:"secondary"},{default:d(()=>[...Xe[47]||(Xe[47]=[Q("mdi-magnify",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(ln,{cols:"12"},{default:d(()=>[p("div",gwe,[K.value?K.value.length>0?(V(!0),ye(ze,{key:1},Jt(K.value.sort((pe,Ie)=>new Date(Ie.appointmentDate+" "+Ie.appointmentTime)-new Date(pe.appointmentDate+" "+pe.appointmentTime)),pe=>(V(),he(nt,{key:pe.id,style:It([{textAlign:"left"},{cursor:"pointer",position:"relative",overflow:"visible"}]),density:"compact",class:"ma-2 card-enhanced card-hover-base card-status-cancelled",onClick:Ie=>ee(pe.patientId)},{default:d(()=>[l(Qt,{class:"pb-0"},{default:d(()=>[l($t,{"no-gutters":"",align:"center"},{default:d(()=>[l(ln,{cols:"6"},{default:d(()=>[Q(J(pe.patient_name.length>22?pe.patient_name.slice(0,22)+"..":pe.patient_name),1)]),_:2},1024),l(ln,{cols:"6",class:"d-flex justify-end align-center"},{default:d(()=>[p("span",ywe,J(We(cx)(pe.appointmentTime)),1),l(Ut,{size:"small",color:"error"},{default:d(()=>[...Xe[48]||(Xe[48]=[Q(" mdi-cancel ",-1)])]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024),l(jt,{class:"py-1"},{default:d(()=>[l($t,{"no-gutters":"",align:"center"},{default:d(()=>[l(ln,{cols:"12",class:"d-flex align-center justify-space-between"},{default:d(()=>[p("div",wwe,[p("span",_we,J(`${pe.patient_gender}`)+J(pe.patient_age!==null?`  ${pe.patient_age}y`:"")+J(pe.contactNumber?`  ${pe.contactNumber}`:"")+J(pe.importID?`  Import ID: ${pe.importID}`:""),1)]),p("div",bwe,[l(an,{text:pe.category==="walkin"?"Walk-in Patient":"Scheduled Appointment"},{activator:d(({props:Ie})=>[l(Ut,Ne({size:"small",class:"mr-1",color:"secondary"},{ref_for:!0},Ie),{default:d(()=>[Q(J(pe.category==="walkin"?"mdi-walk":"mdi-calendar-account-outline"),1)]),_:2},1040)]),_:2},1032,["text"]),pe.type==="procedure"?(V(),he(an,{key:0,text:"Procedure Appointment"},{activator:d(({props:Ie})=>[l(Ut,Ne({size:"small",class:"mr-1",color:"secondary"},{ref_for:!0},Ie),{default:d(()=>[...Xe[49]||(Xe[49]=[p("img",{src:Jb,alt:"Procedure"},null,-1)])]),_:1},16)]),_:1})):Be("",!0),pe.has_prior_consultation?(V(),he(an,{key:1,text:"Past Consultations Available"},{activator:d(({props:Ie})=>[l(Ut,Ne({size:"small",class:"mr-1",color:"secondary"},{ref_for:!0},Ie),{default:d(()=>[...Xe[50]||(Xe[50]=[Q("mdi-file-eye",-1)])]),_:1},16)]),_:1})):Be("",!0),pe.type==="followup"?(V(),he(Rt,{key:2,size:"x-small",color:"primary","text-color":"black",class:"mr-1"},{default:d(()=>[...Xe[51]||(Xe[51]=[Q(" follow-up ",-1)])]),_:1})):Be("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(En,{class:"pa-0 px-4 action-row-highlight"},{default:d(()=>[l(an,{text:"Edit Appointment"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"primary",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>Ae(pe),["stop"]),class:"btn-hover-base mr-1"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[52]||(Xe[52]=[p("img",{src:sm,alt:"Edit"},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(an,{text:"Delete Appointment"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"secondary",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>we(pe),["stop"]),class:"btn-hover-base mr-1"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[53]||(Xe[53]=[p("img",{src:zu},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(zt),l(an,{text:"Generate Receipt"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"primary",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>_e(pe),["stop"]),class:"btn-hover-base mr-1"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[54]||(Xe[54]=[Q("mdi-currency-inr",-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(an,{text:"Reschedule"},{activator:d(({props:Ie})=>[l(Yt,Ne({color:"#f57c00",variant:"plain",size:"default"},{ref_for:!0},Ie,{onClick:Qn(Me=>Ae(pe),["stop"]),class:"btn-hover-base"}),{default:d(()=>[l(Ut,{size:"default"},{default:d(()=>[...Xe[55]||(Xe[55]=[Q("mdi-calendar-edit",-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):Be("",!0):(V(),he($t,{key:0,"no-gutters":""},{default:d(()=>[l(ln,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[l(St,{indeterminate:"",color:"primary"})]),_:1})]),_:1})),K.value.length===0?(V(),he(ln,{key:2,class:"text-center"},{default:d(()=>[l(nt,{flat:"",color:"surfaceContainer"},{default:d(()=>[l(hn,{image:We(Dx)},{title:d(()=>[...Xe[56]||(Xe[56]=[p("div",{class:"text-subtitle-2 mt-8"}," No cancelled appointments ",-1)])]),text:d(()=>[...Xe[57]||(Xe[57]=[p("div",{class:"text-caption"}," cancelled appointments will show here ",-1)])]),_:1},8,["image"])]),_:1})]),_:1})):Be("",!0)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),We(so)?(V(),he(Ce,{key:0,modelValue:o.value,"onUpdate:modelValue":Xe[7]||(Xe[7]=pe=>o.value=pe),class:"elevation-24","max-width":"100%"},{default:d(()=>[l(YD,{onClose:oe,onAppointmentCreated:q,onError:Y,doctorId:M.value,clinicId:te.value},null,8,["doctorId","clinicId"])]),_:1},8,["modelValue"])):Be("",!0),We(so)?Be("",!0):(V(),he(Re,{key:1,modelValue:o.value,"onUpdate:modelValue":Xe[8]||(Xe[8]=pe=>o.value=pe),persistent:"","max-width":"1000px"},{default:d(()=>[l(YD,{onClose:oe,onAppointmentCreated:q,onError:Y,doctorId:M.value,clinicId:te.value},null,8,["doctorId","clinicId"])]),_:1},8,["modelValue"])),We(so)?(V(),he(Ce,{key:2,modelValue:c.value,"onUpdate:modelValue":Xe[9]||(Xe[9]=pe=>c.value=pe),class:"elevation-24","max-width":"100%"},{default:d(()=>[l(XD,{onClose:ie,appointment:A.value},null,8,["appointment"])]),_:1},8,["modelValue"])):Be("",!0),We(so)?Be("",!0):(V(),he(Re,{key:3,modelValue:c.value,"onUpdate:modelValue":Xe[10]||(Xe[10]=pe=>c.value=pe),persistent:"","max-width":"30%"},{default:d(()=>[l(XD,{onClose:ie,appointment:A.value},null,8,["appointment"])]),_:1},8,["modelValue"])),We(so)?(V(),he(Ce,{key:4,modelValue:ae.value,"onUpdate:modelValue":Xe[11]||(Xe[11]=pe=>ae.value=pe),class:"elevation-24","max-width":"100%"},{default:d(()=>[l(Z3,{onClose:z,deleteSelectedAppointment:ge.value},null,8,["deleteSelectedAppointment"])]),_:1},8,["modelValue"])):Be("",!0),We(so)?Be("",!0):(V(),he(Re,{key:5,modelValue:ae.value,"onUpdate:modelValue":Xe[12]||(Xe[12]=pe=>ae.value=pe),persistent:"","max-width":"30%"},{default:d(()=>[l(Z3,{onClose:z,deleteSelectedAppointment:ge.value},null,8,["deleteSelectedAppointment"])]),_:1},8,["modelValue"])),l(Re,{modelValue:v.value,"onUpdate:modelValue":Xe[13]||(Xe[13]=pe=>v.value=pe),persistent:"","max-width":"70%"},{default:d(()=>[y.value?(V(),he(Ife,{key:0,appointment:y.value,onClose:Pe,onReceiptCreated:re,onEditReceipt:He,onViewReceipt:st},null,8,["appointment"])):Be("",!0)]),_:1},8,["modelValue"]),Xe[58]||(Xe[58]=Q()),l(Re,{modelValue:h.value,"onUpdate:modelValue":Xe[14]||(Xe[14]=pe=>h.value=pe),persistent:"","max-width":"80%"},{default:d(()=>[y.value?(V(),he(Aye,{key:0,appointment:y.value,onClose:Pe,onBillCreated:be,onEditReceipt:He,onViewBill:Ve},null,8,["appointment"])):Be("",!0)]),_:1},8,["modelValue"]),l(Re,{modelValue:w.value,"onUpdate:modelValue":Xe[15]||(Xe[15]=pe=>w.value=pe),persistent:"","max-width":"70%"},{default:d(()=>[w.value&&b.value?(V(),he(I8,{key:0,receiptId:b.value,onClose:ke,onReceiptUpdated:Ct},null,8,["receiptId"])):Be("",!0)]),_:1},8,["modelValue"]),l(Re,{modelValue:B.value,"onUpdate:modelValue":Xe[16]||(Xe[16]=pe=>B.value=pe),persistent:"","max-width":"85%"},{default:d(()=>[B.value&&S.value?(V(),he(HM,{key:0,billId:S.value,onClose:Se,onBillUpdated:Dt},null,8,["billId"])):Be("",!0)]),_:1},8,["modelValue"]),l(Re,{modelValue:T.value,"onUpdate:modelValue":Xe[17]||(Xe[17]=pe=>T.value=pe),persistent:"","max-width":"70%"},{default:d(()=>[T.value&&N.value?(V(),he(VM,{key:0,receiptId:N.value,onClose:je,onEditReceipt:ht},null,8,["receiptId"])):Be("",!0)]),_:1},8,["modelValue"]),l(Re,{modelValue:k.value,"onUpdate:modelValue":Xe[18]||(Xe[18]=pe=>k.value=pe),persistent:"","max-width":"80%"},{default:d(()=>[k.value&&E.value?(V(),he(QM,{key:0,billId:E.value,onClose:Te,onEditBill:Le},null,8,["billId"])):Be("",!0)]),_:1},8,["modelValue"])],64)}}},KM=on(xwe,[["__scopeId","data-v-99ca602b"]]),Cwe="/assets/images/default-BWombGQT.jpg",dA=[{src:Cwe,alt:"evamed logo",url:"https://www.evamed.in"}],Ewe=async(e=null)=>{try{console.log("=== MAKING API CALL TO FETCH CAROUSEL ITEMS ===");let t=e;if(!t){const i=Ns.state.doctorModule?.doctors||[],c=Ns.state.doctorModule?.doctorId,A=i.find(u=>u.id===c);A&&A.doctorSpecialization&&(t=A.doctorSpecialization)}console.log("API call with specialization:",t);const n=new URLSearchParams;n.append("active_only","true"),t&&n.append("specialization",t);const r=`https://api.origamimed.com/advertisements/?${n.toString()}`;console.log("Fetching carousel items from:",r);const a={"Content-Type":"application/json"},s=ts.currentUser;if(s){const i=await s.getIdToken();a.Authorization=`Bearer ${i}`}const o=await fetch(r,{method:"GET",headers:a,signal:AbortSignal.timeout(1e4)});if(console.log("API Response Status:",o.status),o.ok){const i=await o.json();if(console.log("API Response Data:",i),i.success&&i.data&&i.data.advertisements){const c=i.data.advertisements.map(A=>({src:A.image_url,alt:A.title||"Advertisement",url:A.link_url,title:A.title,description:A.description,id:A.id}));return console.log("Returning",c.length,"carousel items from API"),GM(c),c}else console.warn("API response success but no advertisements found:",i)}else console.error("API request failed with status:",o.status);return console.log("Falling back to default carousel items"),dA.map(i=>({...i,isDefault:!0}))}catch(t){return console.error("Error fetching carousel items:",t),dA.map(n=>({...n,isDefault:!0}))}},GM=e=>{try{if(!e||e.length===0)return;const t={items:e,timestamp:Date.now(),specialization:Bwe()};localStorage.setItem("carouselItemsSimple",JSON.stringify(t)),console.log(" Saved",e.length,"items to cache")}catch(t){console.error(" Error saving to cache:",t)}},Ux=()=>{try{const e=localStorage.getItem("carouselItemsSimple");if(!e)return console.log(" No cache found"),null;const t=JSON.parse(e);if(t.items&&t.items.length>0){const n=Date.now()-t.timestamp;return console.log(" Found cached items:",t.items.length,"age:",Math.round(n/(60*1e3)),"min"),t.items}return null}catch(e){return console.error(" Error loading from cache:",e),null}},eU=async(e=!1)=>{if(console.log(" getCarouselItemsSimple called, forceRefresh:",e),!e){const t=Ux();if(t&&t.length>0)return console.log(" Using cached items"),t}try{console.log(" Fetching from API...");const t=await Ewe();if(t&&t.length>0&&!t[0].isDefault)return console.log(" Got real API data:",t.length,"items"),GM(t),t;console.log(" API failed, trying cache fallback");const n=Ux();return n&&n.length>0?(console.log(" Using cache as fallback"),n):(console.log(" No cache available, using defaults"),dA)}catch(t){console.error(" API error:",t);const n=Ux();return n&&n.length>0?n:dA}},Bwe=()=>{const e=Ns.state.doctorModule?.doctors||[],t=Ns.state.doctorModule?.doctorId;return e.find(r=>r.id===t)?.doctorSpecialization||null},tU=()=>{try{console.log("=== CACHE DEBUG ===");const e=localStorage.getItem("carouselItems");if(e){const n=JSON.parse(e);console.log(" Old cache found:",n.items?.length||0,"items")}else console.log(" No old cache");const t=localStorage.getItem("carouselItemsSimple");if(t){const n=JSON.parse(t);console.log(" New cache found:",n.items?.length||0,"items"),console.log(" First item:",n.items?.[0])}else console.log(" No new cache");console.log("=== END CACHE DEBUG ===")}catch(e){console.error(" Debug error:",e)}},Swe=e=>typeof e=="object"&&e!==null&&typeof e.src=="string"&&e.src.length>0&&typeof e.alt=="string"&&(e.url===null||typeof e.url=="string"),nU=e=>{console.log("filterValidCarouselItems - input items:",e);const n=e.filter((r,a)=>{const s=Swe(r);return s||console.log(`filterValidCarouselItems - item ${a} failed validation:`,r),s}).map(r=>{const a={...r};return delete a.isDefault,a});return console.log("filterValidCarouselItems - output items:",n),n},kwe=()=>{try{const e=localStorage.getItem("carouselState");if(e){const t=JSON.parse(e),n=Date.now()-3600*1e3;if(t.timestamp>n)return t}}catch(e){console.error("Error loading carousel state:",e)}return null},Iwe=(e,t)=>{try{const n={currentSlide:e,viewTime:t,timestamp:Date.now()};localStorage.setItem("carouselState",JSON.stringify(n))}catch(n){console.error("Error saving carousel state:",n)}},Twe={key:0,class:"d-flex align-center justify-center",style:{height:"100%"}},Fwe={class:"carousel-overlay"},Pwe={key:0,class:"cta-container"},Dwe={class:"progress-container"},Uwe={class:"progress-text"},Rwe={key:2,class:"d-flex align-center justify-center",style:{height:"100%"}},Rx=1e4,rU=2e3,Nwe={__name:"home-content",setup(e){const t=pr(),n=Z(()=>{const k=t.state.doctorModule?.doctors||[],E=t.state.doctorModule?.doctorId;return k.find(_=>_.id===E)||null}),r=Z(()=>n.value?.doctorSpecialization||null),a=H([]),s=H(!0),o=H(0),i=H(0),c=H(null),A=H(!0),u=H(!1),f=H(!1),m=H(!1),v=()=>{Iwe(o.value,i.value)},h=()=>{const k=kwe();return k?(u.value=!0,o.value=k.currentSlide||0,i.value=k.viewTime||0,setTimeout(()=>{u.value=!1},100),!0):!1},y=()=>{if(c.value&&(clearInterval(c.value),c.value=null),!f.value){console.log("Component not active, skipping timer start");return}c.value=setInterval(()=>{A.value&&f.value&&(i.value+=rU,i.value>=Rx&&b(),i.value%1e3===0&&v())},rU),console.log("Timer started with ID:",c.value)},w=()=>{c.value&&(clearInterval(c.value),c.value=null)},b=()=>{a.value.length>0&&(o.value=(o.value+1)%a.value.length,i.value=0,v())},B=()=>{u.value||(i.value=0)},S=k=>{if(k)if(window.require)try{const{shell:E}=window.require("electron");E.openExternal(k)}catch(E){console.error("Error opening external URL:",E),window.open(k,"_blank")}else window.open(k,"_blank")},T=async()=>{try{console.log("refreshCarouselItems called - forcing fresh fetch due to doctor change"),s.value=!0,tU();const k=await eU(!0);if(console.log("refreshCarouselItems - freshItems:",k),k&&k.length>0){const E=nU(k);console.log("refreshCarouselItems - validItems:",E),E.length>0?(a.value=E,o.value=0,i.value=0,v()):console.log("refreshCarouselItems - no valid items after filtering, keeping existing items")}else console.log("refreshCarouselItems - no fresh items, keeping existing items")}catch(k){console.error("Error refreshing carousel items:",k)}finally{s.value=!1}},N=()=>{A.value=!document.hidden};return Ge(o,(k,E)=>{!u.value&&E!==k&&(i.value=0),v()}),Ge(a,k=>{k.length>0&&o.value>=k.length&&(o.value=0,i.value=0)},{immediate:!0}),Ge(r,async(k,E)=>{if(console.log("Doctor specialization changed:",{oldSpecialization:E,newSpecialization:k}),m.value){console.log("Already refreshing, skipping...");return}if(E!==void 0&&k!==E&&a.value.length>0){console.log("Refreshing carousel items due to specialization change");try{m.value=!0,await T()}finally{m.value=!1}}},{immediate:!1}),fn(async()=>{try{console.log("onMounted - starting carousel setup"),tU(),s.value=!0;const k=await eU();if(console.log("onMounted - received carousel data:",k),k&&k.length>0){const _=nU(k);console.log("onMounted - validItems:",_),_.length>0?a.value=_:(console.log("onMounted - no valid items after filtering, using defaults"),a.value=dA)}else console.log("onMounted - no data, using defaults"),a.value=dA;h()||(o.value=0,i.value=0),o.value>=a.value.length&&(o.value=0,i.value=0)}catch(k){console.error("Error loading carousel items:",k),a.value.length===0&&(a.value=dA)}finally{s.value=!1,await An(),f.value=!0,y(),document.addEventListener("visibilitychange",N)}}),nc(()=>{f.value=!1,w(),v(),document.removeEventListener("visibilitychange",N)}),tS(()=>{f.value=!0}),ew(()=>{f.value=!1,v()}),(k,E)=>{const _=D("v-skeleton-loader"),C=D("v-icon"),F=D("v-btn"),I=D("v-progress-linear"),R=D("v-carousel-item"),M=D("v-carousel"),te=D("v-alert"),se=D("v-card");return V(),he(se,{flat:"",color:"surfaceContainer",class:"pa-1",style:{height:"100%"}},{default:d(()=>[s.value?(V(),ye("div",Twe,[l(_,{type:"card",width:"80%",height:"80%",class:"mx-auto"})])):a.value.length>0?(V(),he(M,{key:1,modelValue:o.value,"onUpdate:modelValue":[E[0]||(E[0]=O=>o.value=O),B],"show-arrows":"hover",cycle:!1,"hide-delimiters":"",style:{height:"100%"}},{default:d(()=>[(V(!0),ye(ze,null,Jt(a.value,(O,W)=>(V(),he(R,{key:W,src:O.src,alt:O.alt,contain:""},{default:d(()=>[p("div",Fwe,[O.url?(V(),ye("div",Pwe,[l(F,{variant:"elevated",color:"primary",size:"large",onClick:le=>S(O.url),class:"btn-hover-enhanced"},{default:d(()=>[E[2]||(E[2]=Q(" Know More ",-1)),l(C,{right:"",class:"ml-2"},{default:d(()=>[...E[1]||(E[1]=[Q("mdi-open-in-new",-1)])]),_:1})]),_:1},8,["onClick"])])):Be("",!0),p("div",Dwe,[l(I,{"model-value":i.value/Rx*100,color:"white",height:"3",class:"progress-bar"},null,8,["model-value"]),p("div",Uwe,J(Math.ceil((Rx-i.value)/1e3))+"s ",1)])])]),_:2},1032,["src","alt"]))),128))]),_:1},8,["modelValue"])):(V(),ye("div",Rwe,[l(te,{type:"info",variant:"tonal"},{default:d(()=>[...E[3]||(E[3]=[Q(" No carousel items available ",-1)])]),_:1})]))]),_:1})}}},Lwe=on(Nwe,[["__scopeId","data-v-8073aa0a"]]),Vwe={class:"scrollable-content"},Mwe={class:"scrollable-content"},Owe={class:"text-h6 mb-4"},Qwe=["aria-label"],Hwe={key:0,class:"d-flex align-center justify-center",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(255, 255, 255, 0.95)","z-index":"9999"}},Kwe={__name:"home-page",setup(e){const t=pr(),n=zm(),r=au(),a=H(null);let s=null;try{window.require&&(s=window.require("electron").ipcRenderer)}catch(_){console.error("Failed to access ipcRenderer:",_)}const o=H(0),i=H(new Map),c=H({}),A=H(!1),u=H(""),f=H(!1),m=H(""),v=H(null),h=H(new Map),y=H(100),w=H([{title:"Queue"},{title:"Appointments",url:"https://calendar.google.com/",id:"calendar"}]);w.value.slice(1).forEach(_=>{_.id&&(c.value[_.id]=!1)}),fn(async()=>{try{await b(),n.params.tab==="1"?o.value=1:o.value=0}catch(_){console.error("Error during initialization:",_),v.value="Failed to initialize component properly"}if(s)try{s.on("external-site-loading",(_,{siteId:C,isLoading:F})=>{Object.prototype.hasOwnProperty.call(c.value,C)&&(c.value[C]=F)}),s.on("external-site-loaded",(_,{siteId:C})=>{if(Object.prototype.hasOwnProperty.call(c.value,C)){c.value[C]=!1;const F=h.value.get(C);F&&(clearTimeout(F),h.value.delete(C))}}),s.on("external-site-error",(_,{siteId:C,error:F})=>{if(Object.prototype.hasOwnProperty.call(c.value,C)){c.value[C]=!1,f.value=!0,m.value=`Failed to load ${C}: ${F}`;const I=h.value.get(C);I&&(clearTimeout(I),h.value.delete(C))}})}catch(_){console.error("Error setting up IPC listeners:",_),v.value="Failed to initialize external site integration"}try{window.addEventListener("doctor-selection-changed",k),window.addEventListener("clinic-selection-changed",E)}catch(_){console.error("Error setting up event listeners:",_),v.value="Failed to initialize data refresh listeners"}}),Ge(o,async(_,C)=>{try{if(_===1&&await b(),_>=1&&_<w.value.length){const F=w.value[_];F.url&&F.id&&setTimeout(()=>{An(()=>{T(F.id,F.url)})},500)}if(C>=1&&C<w.value.length){const F=w.value[C];F.url&&F.id&&N(F.id)}}catch(F){console.error("Error in tab watcher:",F),v.value="Failed to switch tabs properly"}}),Ge(()=>r.currentRoute.value.params.tab,_=>{if(_){let C=0;_==="1"&&(C=1),C!==o.value&&(console.log("Route tab parameter changed, switching to tab:",C),o.value=C)}}),Br(()=>{try{w.value.slice(1).forEach(_=>{if(_.url&&_.id)try{N(_.id)}catch(C){console.error(`Error closing external site ${_.id}:`,C)}}),s&&(s.removeAllListeners("external-site-loading"),s.removeAllListeners("external-site-loaded"),s.removeAllListeners("external-site-error")),window.removeEventListener("doctor-selection-changed",k),window.removeEventListener("clinic-selection-changed",E),h.value.forEach(_=>clearTimeout(_)),h.value.clear(),i.value.clear()}catch(_){console.error("Error during component cleanup:",_)}});const b=async()=>{try{if(s){const _=await s.invoke("get-zoom-level");_.success?y.value=_.zoomFactor||100:console.error("Failed to get zoom level:",_.error)}else console.warn("ipcRenderer not available for zoom check")}catch(_){console.error("Error checking zoom level:",_)}},B=(_,C)=>{C?i.value.set(_,C):i.value.delete(_)},S=_=>i.value.get(_)||null,T=async(_,C)=>{try{if(_==="calendar"&&(await b(),y.value!==100))return;An(()=>{const F=S(_);if(!(F instanceof HTMLElement)){console.error(`${_}Container is not a DOM element`),f.value=!0,m.value=`Failed to load ${_}. Please try again.`;return}if(!s){console.error("ipcRenderer is not available");try{window.open(C,"_blank"),A.value=!0,u.value=`${_} opened in external browser`}catch{f.value=!0,m.value=`Failed to open ${_}`}return}if(F){c.value[_]=!0;const I=setTimeout(()=>{c.value[_]=!1,f.value=!0,m.value=`${_} is taking too long to load`},15e3);h.value.set(_,I);const R=F.getBoundingClientRect(),M=12,te=4;s.send("open-external-site",{siteId:_,url:C,bounds:{x:R.left+te,y:R.top+te,width:R.width-te*2,height:R.height-te*2}})}else console.error(`${_}Container is not defined`),f.value=!0,m.value=`Failed to initialize ${_} container`})}catch(F){console.error("Error opening external site:",F),c.value[_]=!1,f.value=!0,m.value="Failed to open external application"}},N=_=>{try{An(()=>{c.value[_]=!1;const C=h.value.get(_);C&&(clearTimeout(C),h.value.delete(_)),s?s.send("close-external-site",{siteId:_}):console.error("ipcRenderer is not available")})}catch(C){console.error("Error closing external site:",C)}},k=async _=>{try{const{doctorId:C,doctorName:F}=_.detail;if(console.log("Doctor changed:",F),!C){console.warn("No doctorId provided in doctor change event");return}if(!a.value?.refreshAppointments){console.warn("AppointmentQueue component not ready for refresh");return}const I=t.state.clinicModule?.clinicId;if(!I){console.warn("No clinicId available for appointment refresh");return}await a.value.refreshAppointments(C,I)}catch(C){console.error("Error handling doctor change:",C),f.value=!0,m.value="Failed to refresh appointments after doctor change"}},E=async _=>{try{const{clinicId:C,clinicName:F}=_.detail;if(console.log("Clinic changed:",F),!C){console.warn("No clinicId provided in clinic change event");return}if(!a.value?.refreshAppointments){console.warn("AppointmentQueue component not ready for refresh");return}const I=t.state.doctorModule?.doctorId;if(!I){console.warn("No doctorId available for appointment refresh");return}await a.value.refreshAppointments(I,C)}catch(C){console.error("Error handling clinic change:",C),f.value=!0,m.value="Failed to refresh appointments after clinic change"}};return(_,C)=>{const F=D("v-alert"),I=D("v-tab"),R=D("v-tabs"),M=D("v-card"),te=D("v-col"),se=D("v-row"),O=D("v-snackbar"),W=D("v-window-item"),le=D("v-icon"),K=D("v-card-title"),ee=D("v-card-text"),j=D("v-skeleton-loader"),U=D("v-window"),G=D("v-main");return V(),he(G,null,{default:d(()=>[v.value?(V(),he(F,{key:0,type:"error",dismissible:"","onClick:close":C[0]||(C[0]=ne=>v.value=null),class:"ma-3"},{default:d(()=>[Q(J(v.value),1)]),_:1})):Be("",!0),l(se,{"no-gutters":"",class:"pl-3 pr-3 mb-2",style:{height:"50px"}},{default:d(()=>[l(te,{cols:"12"},{default:d(()=>[l(M,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex align-center"},{default:d(()=>[l(R,{modelValue:o.value,"onUpdate:modelValue":C[1]||(C[1]=ne=>o.value=ne),color:"primary","align-tabs":"start",class:"w-100"},{default:d(()=>[(V(!0),ye(ze,null,Jt(w.value,(ne,X)=>(V(),he(I,{key:X,value:X},{default:d(()=>[Q(J(ne.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(U,{modelValue:o.value,"onUpdate:modelValue":C[4]||(C[4]=ne=>o.value=ne),class:"pl-3 pr-3 stable-height-main"},{default:d(()=>[l(W,{value:0,style:{height:"100%"}},{default:d(()=>[l(se,{"no-gutters":"","aria-label":"main row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(te,{cols:"4",order:"1",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",Vwe,[l(KM,{ref_key:"appointmentQueueRef",ref:a},null,512)])]),_:1}),l(te,{cols:"8",order:"2",class:"pl-1 stable-height-column"},{default:d(()=>[p("div",Mwe,[l(Lwe)])]),_:1})]),_:1}),l(O,{modelValue:A.value,"onUpdate:modelValue":C[2]||(C[2]=ne=>A.value=ne),class:"elevation-24",color:"success"},{default:d(()=>[Q(J(u.value),1)]),_:1},8,["modelValue"]),l(O,{modelValue:f.value,"onUpdate:modelValue":C[3]||(C[3]=ne=>f.value=ne),class:"elevation-24",color:"failure"},{default:d(()=>[Q(J(m.value),1)]),_:1},8,["modelValue"])]),_:1}),(V(!0),ye(ze,null,Jt(w.value.slice(1),(ne,X)=>(V(),he(W,{key:ne.id,value:X+1,style:{height:"100%"}},{default:d(()=>[l(se,{"no-gutters":"","aria-label":"main-row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(te,{cols:"12",order:"1",class:"stable-height-column"},{default:d(()=>[ne.id==="calendar"&&y.value!==100?(V(),he(M,{key:0,color:"surface",variant:"elevated",class:"pa-6 ma-2 d-flex flex-column align-center justify-center scrollable-content"},{default:d(()=>[l(le,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...C[5]||(C[5]=[Q(" mdi-magnify-close ",-1)])]),_:1}),l(K,{class:"text-h5 text-center mb-2"},{default:d(()=>[...C[6]||(C[6]=[Q(" Calendar Unavailable ",-1)])]),_:1}),l(ee,{class:"text-center"},{default:d(()=>[C[7]||(C[7]=p("p",{class:"text-h6 mb-3"},"Calendar requires 100% zoom level to display properly.",-1)),p("p",Owe,[p("strong",null,"Current zoom: "+J(y.value)+"%",1)]),C[8]||(C[8]=p("p",{class:"text-body-1 mb-4"}," The calendar positioning system requires the default zoom level to work correctly. Please use the zoom controls in the top navigation bar to reset to 100%. ",-1))]),_:1})]),_:1})):(V(),he(M,{key:1,color:"surfaceContainer",flat:"",class:"pa-1 scrollable-content"},{default:d(()=>[p("div",{ref_for:!0,ref:oe=>B(ne.id,oe),style:{width:"100%",height:"100%",position:"relative"},"aria-label":`${ne.title} Container`},[c.value[ne.id]?(V(),ye("div",Hwe,[l(j,{type:"card",width:"80%",height:"80%",class:"mx-auto"})])):Be("",!0)],8,Qwe)]),_:2},1024))]),_:2},1024)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})}}},Gwe=on(Kwe,[["__scopeId","data-v-4e914e77"]]),zwe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M14,2H6A2,2%200%200,0%204,4V20A2,2%200%200,0%206,22H18A2,2%200%200,0%2020,20V8L14,2M13.5,16V19H10.5V16H8L12,12L16,16H13.5M13,9V3.5L18.5,9H13Z'%20/%3e%3c/svg%3e",$we={__name:"TabsExtension",props:{items:{type:Array,required:!0},modelValue:{type:Number,default:0},alignTabs:{type:String,default:"start"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,a=H(n.modelValue);Ge(()=>n.modelValue,o=>{a.value=o});const s=o=>{r("update:modelValue",o)};return(o,i)=>{const c=D("v-tab"),A=D("v-tabs");return V(),he(A,{modelValue:a.value,"onUpdate:modelValue":[i[0]||(i[0]=u=>a.value=u),s],"align-tabs":e.alignTabs||"start",density:"compact"},{default:d(()=>[(V(!0),ye(ze,null,Jt(e.items,(u,f)=>(V(),he(c,{key:u.title||f,disabled:u.disabled},{default:d(()=>[Q(J(u.title),1)]),_:2},1032,["disabled"]))),128))]),_:1},8,["modelValue","align-tabs"])}}},Wwe={__name:"BreadcrumbsExtension",props:{items:{type:Array,required:!0}},setup(e){return(t,n)=>{const r=D("v-icon"),a=D("v-breadcrumbs-item"),s=D("v-breadcrumbs");return V(),he(s,null,{default:d(()=>[(V(!0),ye(ze,null,Jt(e.items,(o,i)=>(V(),he(a,{key:i,to:o.to,disabled:o.disabled},{default:d(()=>[o.icon?(V(),he(r,{key:0,start:o.iconPosition!=="end",end:o.iconPosition==="end",small:"",class:rt(o.iconClass)},{default:d(()=>[Q(J(o.icon),1)]),_:2},1032,["start","end","class"])):Be("",!0),Q(" "+J(o.text),1)]),_:2},1032,["to","disabled"]))),128))]),_:1})}}};function jwe(){const e=pr(),t=(a,s=0,o="start",i=null)=>{e.dispatch("appBar/setExtensionContent",{component:yy($we),props:{items:a,modelValue:s,alignTabs:o,"onUpdate:modelValue":i||(()=>{})}})},n=a=>{e.dispatch("appBar/setExtensionContent",{component:yy(Wwe),props:{items:a}})},r=()=>{e.dispatch("appBar/clearExtensionContent")};return nc(()=>{r()}),{setTabs:t,setBreadcrumbs:n,clearExtension:r}}const Jwe={class:"filter-header pa-2 mb-2"},qwe={class:"text-h6 font-weight-medium text-primary"},Ywe={class:"filter-cards-container pa-2",style:{flex:"1 1 auto"}},Xwe={class:"d-flex justify-center mt-4"},Zwe={class:"d-flex align-center"},e_e={class:"d-flex age-dob-container",style:{gap:"8px"}},t_e={__name:"PatientFilter",props:{modelValueName:{type:String,default:""},modelValuePhone:{type:String,default:""},modelValueDate:{type:String,default:""}},emits:["update:modelValueName","update:modelValuePhone","update:modelValueDate","filter-change","clear-filters","patient-created"],setup(e,{expose:t,emit:n}){const r=e,a=n,s=H(r.modelValueName),o=H(r.modelValuePhone),i=H(r.modelValueDate),c=H(""),A=H(""),u=H(""),f=H(!1),m=H(!1),v=H("dob"),h=H(""),y=H({name:"",contact_number:"",age:"",birthDate:"",gender:"",email:""}),w=()=>{f.value=!0},b=()=>{f.value=!1,v.value="dob",h.value="",y.value={name:"",contact_number:"",age:"",birthDate:"",gender:"",email:""},m.value=!1},B=F=>{if(v.value==="dob")if(F){h.value=F;const I=rk(F);I!==null&&(y.value.age=I.toString())}else h.value=""};Ge(v,F=>{F==="age"?(y.value.birthDate&&(h.value=y.value.birthDate),y.value.birthDate=""):h.value&&(y.value.birthDate=h.value)}),t({openCreatePatientDialog:w});const S=()=>{c.value="",s.value&&s.value.length<2&&(c.value="Name must be at least 2 characters long"),E()},T=()=>{A.value="",o.value&&o.value.replace(/\D/g,"").length>15&&(A.value="Phone number cannot exceed 15 digits"),E()},N=()=>{if(u.value="",i.value){const F=new Date(i.value);isNaN(F.getTime())&&(u.value="Please enter a valid date")}E()},k=()=>{s.value="",o.value="",i.value="",c.value="",A.value="",u.value="",a("update:modelValueName",""),a("update:modelValuePhone",""),a("update:modelValueDate",""),a("clear-filters")},E=()=>{a("update:modelValueName",s.value),a("update:modelValuePhone",o.value),a("update:modelValueDate",i.value),a("filter-change",{name:s.value,phone:o.value,date:i.value,hasErrors:!!(c.value||A.value||u.value)})};Ge(()=>r.modelValueName,F=>{s.value=F}),Ge(()=>r.modelValuePhone,F=>{o.value=F}),Ge(()=>r.modelValueDate,F=>{i.value=F}),Ge([s,o,i],()=>{E()});const _=F=>{const I=F.target.value.replace(/[^0-9]/g,"").slice(0,10);y.value.contact_number=I},C=async()=>{try{const F={...y.value};if(v.value==="dob"&&F.birthDate){const R=Nu(F.birthDate);R!==null?F.birthDate=R.toString():F.birthDate=""}else delete F.birthDate;const I=await v8(F);I.error?(a("patient-created",{success:!1,message:"Error creating patient. Please try again.",error:I.error}),console.error("There was an error creating the patient:",I.error)):(b(),a("patient-created",{success:!0,message:"Patient created successfully",patient:I.data}))}catch(F){console.error("There was an error creating the patient:",F),a("patient-created",{success:!1,message:"An unexpected error occurred. Please try again.",error:F})}};return(F,I)=>{const R=D("v-icon"),M=D("v-card-title"),te=D("v-text-field"),se=D("v-card-text"),O=D("v-card"),W=D("v-btn"),le=D("v-divider"),K=D("v-col"),ee=D("v-btn-toggle"),j=D("v-select"),U=D("v-row"),G=D("v-form"),ne=D("v-spacer"),X=D("v-card-actions"),oe=D("v-dialog");return V(),he(O,{color:"surfaceContainer",flat:"",style:{height:"100%",display:"flex","flex-direction":"column"}},{default:d(()=>[p("div",Jwe,[p("h3",qwe,[l(R,{class:"mr-2",color:"primary"},{default:d(()=>[...I[13]||(I[13]=[Q("mdi-filter-variant",-1)])]),_:1}),I[14]||(I[14]=Q(" Filter Patients ",-1))]),I[15]||(I[15]=p("p",{class:"text-caption text-medium-emphasis mb-0"},"Refine your search criteria",-1))]),p("div",Ywe,[l(O,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(M,{class:"pa-0 pb-2"},{default:d(()=>[l(R,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...I[16]||(I[16]=[Q("mdi-account-search",-1)])]),_:1}),I[17]||(I[17]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Patient Name",-1))]),_:1}),l(se,{class:"pa-0"},{default:d(()=>[l(te,{modelValue:s.value,"onUpdate:modelValue":I[0]||(I[0]=q=>s.value=q),placeholder:"Enter patient name...",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-magnify",class:"input-hover","error-messages":c.value,onInput:S,maxlength:"100"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),l(O,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(M,{class:"pa-0 pb-2"},{default:d(()=>[l(R,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...I[18]||(I[18]=[Q("mdi-phone-search",-1)])]),_:1}),I[19]||(I[19]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Phone Number",-1))]),_:1}),l(se,{class:"pa-0"},{default:d(()=>[l(te,{modelValue:o.value,"onUpdate:modelValue":I[1]||(I[1]=q=>o.value=q),placeholder:"Enter phone number...",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-phone",class:"input-hover","error-messages":A.value,onInput:T,maxlength:"15"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),l(O,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(M,{class:"pa-0 pb-2"},{default:d(()=>[l(R,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...I[20]||(I[20]=[Q("mdi-calendar-search",-1)])]),_:1}),I[21]||(I[21]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Appointment Date",-1))]),_:1}),l(se,{class:"pa-0"},{default:d(()=>[l(te,{modelValue:i.value,"onUpdate:modelValue":I[2]||(I[2]=q=>i.value=q),type:"date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar",class:"input-hover","error-messages":u.value,onInput:N},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),p("div",Xwe,[l(W,{variant:"outlined",color:"secondary","prepend-icon":"mdi-filter-remove",onClick:k,class:"btn-hover-enhanced"},{default:d(()=>[...I[22]||(I[22]=[Q(" Clear All Filters ",-1)])]),_:1})])]),l(oe,{modelValue:f.value,"onUpdate:modelValue":I[12]||(I[12]=q=>f.value=q),persistent:"","max-width":"900px"},{default:d(()=>[l(O,{rounded:"lg",color:"surfaceContainer"},{default:d(()=>[l(M,{class:"d-flex justify-space-between align-center pa-3"},{default:d(()=>[p("div",Zwe,[l(R,{class:"mr-2",color:"primary"},{default:d(()=>[...I[23]||(I[23]=[Q("mdi-account-plus",-1)])]),_:1}),I[24]||(I[24]=p("span",{class:"text-h6 font-weight-medium"},"Create Patient",-1))]),l(W,{icon:"",size:"x-small",onClick:b,tabindex:"-1"},{default:d(()=>[l(R,null,{default:d(()=>[...I[25]||(I[25]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1}),l(le),l(se,{class:"pa-4"},{default:d(()=>[l(G,{modelValue:m.value,"onUpdate:modelValue":I[11]||(I[11]=q=>m.value=q),"validate-on":"input"},{default:d(()=>[l(U,{"no-gutters":""},{default:d(()=>[l(K,{cols:"6",class:"pr-2 mb-2"},{default:d(()=>[l(te,{label:"Name *",modelValue:y.value.name,"onUpdate:modelValue":I[3]||(I[3]=q=>y.value.name=q),clearable:"",rules:We(Ei),density:"comfortable",variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),l(K,{cols:"6",class:"pl-2 mb-2"},{default:d(()=>[l(te,{label:"Phone Number *",modelValue:y.value.contact_number,"onUpdate:modelValue":I[4]||(I[4]=q=>y.value.contact_number=q),type:"tel",counter:10,rules:We(Bw),clearable:"",density:"comfortable",variant:"outlined",maxlength:"10",onInput:_},null,8,["modelValue","rules"])]),_:1}),l(K,{cols:"6",class:"pr-2 mb-2"},{default:d(()=>[p("div",e_e,[l(ee,{modelValue:v.value,"onUpdate:modelValue":I[5]||(I[5]=q=>v.value=q),mandatory:"",density:"compact",variant:"outlined",divided:"",class:"age-dob-toggle"},{default:d(()=>[l(W,{value:"dob",size:"small"},{default:d(()=>[...I[26]||(I[26]=[Q("DOB",-1)])]),_:1}),l(W,{value:"age",size:"small"},{default:d(()=>[...I[27]||(I[27]=[Q("Age",-1)])]),_:1})]),_:1},8,["modelValue"]),v.value==="age"?(V(),he(te,{key:0,label:"Age (yrs) *",modelValue:y.value.age,"onUpdate:modelValue":I[6]||(I[6]=q=>y.value.age=q),clearable:"",density:"comfortable",variant:"outlined",rules:We(ak),disabled:!!y.value.birthDate||!!h.value,class:"flex-grow-1","hide-details":"auto"},null,8,["modelValue","rules","disabled"])):(V(),he(te,{key:1,label:"Date of Birth *",modelValue:y.value.birthDate,"onUpdate:modelValue":[I[7]||(I[7]=q=>y.value.birthDate=q),B],type:"date",clearable:"",density:"comfortable",variant:"outlined",rules:We(sk),class:"flex-grow-1 date-input","hide-details":"auto",onClick:I[8]||(I[8]=q=>q.target.showPicker&&q.target.showPicker())},null,8,["modelValue","rules"]))])]),_:1}),l(K,{cols:"6",class:"pl-2 mb-2"},{default:d(()=>[l(j,{modelValue:y.value.gender,"onUpdate:modelValue":I[9]||(I[9]=q=>y.value.gender=q),items:["Male","Female"],label:"Gender *",clearable:"",density:"comfortable",variant:"outlined",rules:We(ok)},null,8,["modelValue","rules"])]),_:1}),l(K,{cols:"12",class:"mb-2"},{default:d(()=>[l(te,{label:"Email (optional)",modelValue:y.value.email,"onUpdate:modelValue":I[10]||(I[10]=q=>y.value.email=q),type:"email",clearable:"",density:"comfortable",variant:"outlined",rules:We(ik)},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(le),l(X,{class:"pa-3"},{default:d(()=>[l(ne),l(W,{variant:"text",onClick:b},{default:d(()=>[...I[28]||(I[28]=[Q(" Cancel ",-1)])]),_:1}),l(W,{variant:"outlined",disabled:!m.value,onClick:C,"prepend-icon":"mdi-account-plus",class:"btn-hover-enhanced"},{default:d(()=>[...I[29]||(I[29]=[Q(" Create Patient ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},n_e=on(t_e,[["__scopeId","data-v-90f0757e"]]),r_e={class:"filter-header pa-2 mb-2"},a_e={class:"text-h6 font-weight-medium text-primary"},s_e={class:"filter-cards-container pa-2",style:{flex:"1 1 auto"}},o_e={class:"d-flex justify-center mt-4"},i_e={class:"text-caption text-medium-emphasis"},l_e={key:0},c_e={key:1},u_e={key:2,class:"text-medium-emphasis"},d_e={key:0,class:"d-flex justify-center mt-4"},A_e={__name:"TrendsFilter",props:{modelValueDoctor:{type:String,default:null},modelValueFromDate:{type:String,default:""},availableDoctors:{type:Array,default:()=>[]},maxDate:{type:String,default:""},isLoading:{type:Boolean,default:!1}},emits:["update:modelValueDoctor","update:modelValueFromDate","show-trends","clear-filters"],setup(e,{emit:t}){const n=e,r=t,a=H(n.modelValueDoctor),s=H(n.modelValueFromDate);Ge(()=>n.modelValueDoctor,A=>{a.value=A}),Ge(()=>n.modelValueFromDate,A=>{s.value=A}),Ge(a,A=>{r("update:modelValueDoctor",A)}),Ge(s,A=>{r("update:modelValueFromDate",A)});const o=A=>{if(!A)return"";try{return new Date(A).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return A}},i=()=>{r("show-trends",{doctor:a.value,fromDate:s.value})},c=()=>{a.value=null,s.value="",r("clear-filters")};return(A,u)=>{const f=D("v-icon"),m=D("v-card-title"),v=D("v-list-item"),h=D("v-select"),y=D("v-card-text"),w=D("v-card"),b=D("v-text-field"),B=D("v-btn"),S=D("v-divider");return V(),he(w,{color:"surfaceContainer",flat:"",style:{height:"100%",display:"flex","flex-direction":"column"}},{default:d(()=>[p("div",r_e,[p("h3",a_e,[l(f,{class:"mr-2",color:"primary"},{default:d(()=>[...u[2]||(u[2]=[Q("mdi-chart-line",-1)])]),_:1}),u[3]||(u[3]=Q(" Trends Analysis ",-1))]),u[4]||(u[4]=p("p",{class:"text-caption text-medium-emphasis mb-0"},"Configure your trends analysis",-1))]),p("div",s_e,[l(w,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(m,{class:"pa-0 pb-2"},{default:d(()=>[l(f,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...u[5]||(u[5]=[Q("mdi-doctor",-1)])]),_:1}),u[6]||(u[6]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Doctor",-1))]),_:1}),l(y,{class:"pa-0"},{default:d(()=>[l(h,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=T=>a.value=T),items:e.availableDoctors,"item-title":"doctorName","item-value":"doctorName",placeholder:"Select a doctor (optional)",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-account-search",class:"input-hover"},{item:d(({props:T,item:N})=>[l(v,Ne(T,{title:N.raw.doctorName}),{subtitle:d(()=>[Q(J(N.raw.doctorSpecialization),1)]),_:2},1040,["title"])]),_:1},8,["modelValue","items"])]),_:1})]),_:1}),l(w,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(m,{class:"pa-0 pb-2"},{default:d(()=>[l(f,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...u[7]||(u[7]=[Q("mdi-calendar-range",-1)])]),_:1}),u[8]||(u[8]=p("span",{class:"text-subtitle-1 font-weight-medium"},"From Date",-1))]),_:1}),l(y,{class:"pa-0"},{default:d(()=>[l(b,{modelValue:s.value,"onUpdate:modelValue":u[1]||(u[1]=T=>s.value=T),type:"date",placeholder:"Select start date (optional)",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar",class:"input-hover",max:e.maxDate},null,8,["modelValue","max"])]),_:1})]),_:1}),p("div",o_e,[l(B,{variant:"outlined",color:"secondary","prepend-icon":"mdi-chart-line",onClick:i,loading:e.isLoading,class:"btn-hover-enhanced"},{default:d(()=>[...u[9]||(u[9]=[Q(" Show Trends ",-1)])]),_:1},8,["loading"])]),l(S,{class:"my-4"}),p("div",i_e,[u[10]||(u[10]=p("div",{class:"mb-2"},[p("strong",null,"Current Configuration:")],-1)),a.value?(V(),ye("div",l_e," Doctor: "+J(a.value),1)):Be("",!0),s.value?(V(),ye("div",c_e," From: "+J(o(s.value)),1)):Be("",!0),!a.value&&!s.value?(V(),ye("div",u_e," Showing all completed appointments ")):Be("",!0)]),a.value||s.value?(V(),ye("div",d_e,[l(B,{variant:"outlined",color:"secondary","prepend-icon":"mdi-filter-remove",onClick:c,class:"btn-hover-enhanced"},{default:d(()=>[...u[11]||(u[11]=[Q(" Clear All Filters ",-1)])]),_:1})])):Be("",!0)])]),_:1})}}},f_e=on(A_e,[["__scopeId","data-v-dd7df359"]]),Um="/assets/images/search_here-_oFYQxGX.png",m_e={class:"scrollable-content"},h_e={class:"scrollable-content"},v_e={class:"text-center"},p_e={class:"text-center"},g_e={class:"text-body-2 text-medium-emphasis mb-4"},y_e={class:"text-center"},w_e={key:0,class:"text-body-2 text-medium-emphasis ml-2",style:{"font-weight":"500"}},__e={class:"d-flex align-center flex-wrap"},b_e={key:0,class:"text-body-2 text-medium-emphasis mr-3"},x_e={key:1,class:"text-body-2 text-medium-emphasis mr-3"},C_e={key:2,class:"text-body-2 text-medium-emphasis mr-3"},E_e={key:3,class:"text-body-2 text-medium-emphasis mr-3"},B_e={class:"scrollable-content"},S_e={class:"scrollable-content"},k_e={key:1},I_e={class:"text-center"},T_e={class:"text-center"},F_e={class:"text-center"},P_e={class:"text-body-2 text-medium-emphasis mb-4"},D_e={class:"text-center"},U_e={key:4,class:"trends-scroll-container",style:{"overflow-y":"auto","max-height":"75vh"}},R_e={class:"text-h4"},N_e={class:"text-h4"},L_e={class:"text-h4"},V_e={class:"text-h4"},M_e={class:"chart-container"},O_e={class:"text-center"},Q_e={class:"font-weight-medium"},H_e={class:"text-center"},K_e={class:"font-weight-medium"},G_e={class:"d-flex justify-center"},z_e={__name:"patients-landing-page",setup(e){jwe();const{showSnackbar:t}=dr(),n=pr(),r=H(0),a=zm(),s=au(),o=H(a.params.id),i=H([]),c=H(""),A=H(""),u=H(""),f=H(null),m=H(!1),v=H(null),h=H(!1),y=H(null),w=Z(()=>Jn()),b=Z(()=>[{title:"Start Date",key:"startDate",sortable:!0,align:"center",width:"35%"},{title:"End Date",key:"endDate",sortable:!0,align:"center",width:"35%"},{title:"Appointments",key:"count",sortable:!0,align:"center",width:"30%"}]),B=Z(()=>{if(!se.value.length)return[];const ge={};return se.value.forEach(we=>{const z=new Date(we.appointmentDate),Ae=z.getFullYear(),ie=E(z),_e=`${Ae}-W${ie.toString().padStart(2,"0")}`;ge[_e]||(ge[_e]={week:_e,count:0,dates:[],year:Ae,weekNumber:ie}),ge[_e].count++,ge[_e].dates.push(we.appointmentDate)}),Object.values(ge).map(we=>{const z=_(we.year,we.weekNumber),Ae=C(we.year,we.weekNumber);return{...we,startDate:z.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),endDate:Ae.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),dateRange:`${z.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${Ae.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}}).sort((we,z)=>we.week.localeCompare(z.week))}),S=Z(()=>se.value.length?new Set(se.value.map(we=>we.patientId)).size:0),T=Z(()=>{if(!B.value.length)return 0;const ge=B.value.reduce((we,z)=>we+z.count,0);return Math.round(ge/B.value.length)}),N=Z(()=>B.value.length),k=Z(()=>n.getters["doctorModule/allDoctors"]||[]),E=ge=>{const we=new Date(ge.getFullYear(),0,1),z=we.getDay(),Ae=(ge-we)/(1440*60*1e3)+1;return Math.ceil((Ae+z-1)/7)},_=(ge,we)=>{const Ae=new Date(ge,0,1).getDay(),ie=(we-1)*7-Ae+1;return new Date(ge,0,1+ie)},C=(ge,we)=>{const z=_(ge,we);return new Date(z.getTime()+8640*60*1e3)},F=async()=>{if(!M.value)try{M.value=!0,te.value=null,W.value=!0;const ge=await WAe(O.value.selectedDoctor?.trim()||"",O.value.fromDate||"");if(ge.error)throw new Error(`Failed to fetch trends data: ${ge.error.message||"Unknown error"}`);se.value=Array.isArray(ge.data)?ge.data:[],t({message:`Loaded ${se.value.length} completed appointments for trends analysis`,color:"success",timeout:3e3})}catch(ge){console.error("Error fetching trends data:",ge),te.value=ge.message||"Failed to load trends data",se.value=[],t({message:te.value,color:"error",timeout:5e3})}finally{M.value=!1}},I=()=>{try{O.value.selectedDoctor=null,O.value.fromDate="",te.value=null,W.value=!1,se.value=[],t({message:"Trends configuration cleared successfully",color:"success",timeout:3e3})}catch(ge){console.error("Error clearing trends configuration:",ge),f.value="Failed to clear trends configuration"}},R=async()=>{try{n.getters["doctorModule/isInitialized"]||await n.dispatch("doctorModule/initializeDoctors")}catch(ge){console.error("Error initializing doctors:",ge)}},M=H(!1),te=H(null),se=H([]),O=H({selectedDoctor:null,fromDate:""}),W=H(!1),le=H([{title:"List",disabled:!1},{title:"Trends",disabled:!1}]),K=async()=>{try{if(await s.isReady(),o.value=a.params.id,!o.value)throw new Error("No user ID found in URL parameters")}catch(ge){console.error("Error extracting URL parameters:",ge),f.value="Invalid URL parameters"}},ee=Z(()=>{try{return a.path!=="/patients"}catch(ge){return console.error("Error checking child route:",ge),!1}});Z(()=>a.query.from==="patients-landing-page"),fn(()=>{try{a.path!=="/patients"?K():(h.value=!0,j(),R())}catch(ge){console.error("Error on mount:",ge),f.value="Failed to initialize"}}),Ge(()=>a.path,()=>{try{a.path!=="/patients"?K():(h.value=!0,j())}catch(ge){console.error("Error on route change:",ge),f.value="Navigation update failed"}}),Ge(()=>a.path,()=>{try{a.path!=="/patients"||f.value==="Navigation error occurred"&&(f.value=null)}catch(ge){console.error("Error in route validation:",ge),f.value="Navigation error occurred"}},{immediate:!0}),Ge(r,ge=>{try{ge===1&&R()}catch(we){console.error("Error handling tab change:",we)}});const j=async()=>{if(!m.value)try{m.value=!0,v.value=null;const ge=await UAe(c.value?.trim()||"",A.value?.trim()||"",u.value||"");if(ge.error)throw new Error(`Search failed: ${ge.error.message||"Unknown error"}`);i.value=Array.isArray(ge.data)?ge.data:[],h.value=!0,(c.value||A.value||u.value)&&t({message:`Found ${i.value.length} patient${i.value.length!==1?"s":""}`,color:"success",timeout:3e3})}catch(ge){console.error("Error fetching patients:",ge),v.value=ge.message||"Failed to search patients",i.value=[],h.value=!0,t({message:v.value,color:"error",timeout:5e3})}finally{m.value=!1}},U=()=>{v.value=null,j()},G=()=>{try{c.value="",A.value="",u.value="",v.value=null,h.value=!0,j(),t({message:"Filters cleared successfully",color:"success",timeout:3e3})}catch(ge){console.error("Error clearing filters:",ge),f.value="Failed to clear filters"}},ne=ge=>{ge.hasErrors||(h.value=!0,ae())},X=ge=>{ge.success?(t({message:ge.message||"Patient created successfully",color:"success",timeout:3e3}),j()):t({message:ge.message||"Error creating patient",color:"error",timeout:5e3})},oe=()=>{y.value&&y.value.openCreatePatientDialog()},q=ge=>{try{if(!ge)throw new Error("Invalid patient ID");s.push({path:`/patients/${ge}`,query:{from:"patients-landing-page"}})}catch(we){console.error("Error navigating to patient:",we),t({message:"Failed to open patient details",color:"error",timeout:5e3})}};let Y;const ae=()=>{clearTimeout(Y),Y=setTimeout(()=>{j()},500)};return Ge([c,A,u],()=>{h.value=!0,ae()}),(ge,we)=>{const z=D("v-alert"),Ae=D("v-tab"),ie=D("v-tabs"),_e=D("v-btn"),Pe=D("v-card"),re=D("v-col"),be=D("v-row"),He=D("v-progress-circular"),ke=D("v-icon"),Se=D("v-card-text"),st=D("v-empty-state"),je=D("v-card-title"),Ve=D("v-tooltip"),Te=D("v-lazy"),Le=D("v-window-item"),ht=D("v-chip"),Ct=D("v-data-table"),Dt=D("v-window"),Je=D("router-view"),Oe=D("v-main");return V(),he(Oe,null,{default:d(()=>[f.value?(V(),he(z,{key:0,type:"error",dismissible:"","onClick:close":we[0]||(we[0]=it=>f.value=null),class:"ma-3"},{default:d(()=>[Q(J(f.value),1)]),_:1})):Be("",!0),ee.value?(V(),he(Je,{key:2})):(V(),ye(ze,{key:1},[l(be,{"no-gutters":"",class:"pl-3 pr-3 mb-2",style:{height:"50px"}},{default:d(()=>[l(re,{cols:"12"},{default:d(()=>[l(Pe,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex align-center justify-space-between"},{default:d(()=>[l(ie,{modelValue:r.value,"onUpdate:modelValue":we[1]||(we[1]=it=>r.value=it),color:"primary","align-tabs":"start",class:"flex-grow-1"},{default:d(()=>[(V(!0),ye(ze,null,Jt(le.value,(it,at)=>(V(),he(Ae,{key:at,value:at,disabled:it.disabled},{default:d(()=>[Q(J(it.title),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"]),l(_e,{color:"primary",variant:"flat","prepend-icon":"mdi-account-plus",onClick:oe,class:"create-patient-btn",size:"small"},{default:d(()=>[...we[8]||(we[8]=[Q(" Create Patient ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),l(Dt,{modelValue:r.value,"onUpdate:modelValue":we[7]||(we[7]=it=>r.value=it),class:"pl-3 pr-3 stable-height-main"},{default:d(()=>[l(Le,{value:0,style:{height:"100%"}},{default:d(()=>[l(be,{"aria-label":"main row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(re,{cols:"4",order:"1",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",m_e,[l(n_e,{ref_key:"patientFilterRef",ref:y,"model-value-name":c.value,"onUpdate:modelValueName":we[2]||(we[2]=it=>c.value=it),"model-value-phone":A.value,"onUpdate:modelValuePhone":we[3]||(we[3]=it=>A.value=it),"model-value-date":u.value,"onUpdate:modelValueDate":we[4]||(we[4]=it=>u.value=it),onFilterChange:ne,onClearFilters:G,onPatientCreated:X},null,8,["model-value-name","model-value-phone","model-value-date"])])]),_:1}),l(re,{cols:"8",order:"2",class:"pl-1 stable-height-column"},{default:d(()=>[p("div",h_e,[l(Pe,{flat:"",color:"surfaceContainer",style:{height:"100%"}},{default:d(()=>[m.value?(V(),he(be,{key:0,"no-gutters":""},{default:d(()=>[l(re,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",v_e,[l(He,{indeterminate:"",color:"primary",size:"64"}),we[9]||(we[9]=p("div",{class:"mt-4 text-subtitle-1"},"Searching patients...",-1))])]),_:1})]),_:1})):v.value?(V(),he(be,{key:1,"no-gutters":""},{default:d(()=>[l(re,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",p_e,[l(ke,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...we[10]||(we[10]=[Q("mdi-alert-circle",-1)])]),_:1}),we[12]||(we[12]=p("div",{class:"text-h6 mb-2"},"Search Failed",-1)),p("div",g_e,J(v.value),1),l(_e,{color:"primary",onClick:U,"prepend-icon":"mdi-refresh"},{default:d(()=>[...we[11]||(we[11]=[Q(" Try Again ",-1)])]),_:1})])]),_:1})]),_:1})):i.value&&i.value.length===0&&h.value?(V(),ye(ze,{key:2},[l(Pe,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(Se,{class:"pt-2 pb-0"},{default:d(()=>[...we[13]||(we[13]=[p("strong",null,"0",-1),Q(" results found ",-1)])]),_:1})]),_:1}),l(st,{image:We(Um),class:"d-flex justify-center"},{title:d(()=>[...we[14]||(we[14]=[p("div",{class:"text-subtitle-2 mt-8 text-center"}," No Patients Found ",-1)])]),text:d(()=>[...we[15]||(we[15]=[p("div",{class:"text-caption text-center"}," Try adjusting your search criteria or clear filters to see all patients ",-1)])]),actions:d(()=>[l(_e,{color:"primary",variant:"outlined",onClick:G,"prepend-icon":"mdi-filter-remove"},{default:d(()=>[...we[16]||(we[16]=[Q(" Clear Filters ",-1)])]),_:1})]),_:1},8,["image"])],64)):h.value?i.value&&i.value.length>0?(V(),ye(ze,{key:4},[l(Pe,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(Se,{class:"pt-2 pb-0"},{default:d(()=>[p("strong",null,J(i.value.length),1),Q(" result"+J(i.value.length!==1?"s":"")+" found ",1)]),_:1})]),_:1}),l(be,{"no-gutters":""},{default:d(()=>[l(re,{cols:"12",class:"scroll-element mt-2",style:{"padding-bottom":"20px"}},{default:d(()=>[(V(!0),ye(ze,null,Jt(i.value,it=>(V(),he(Te,{key:it?.id||Math.random(),options:{threshold:.1,rootMargin:"50px"},"min-height":"70"},{default:d(()=>[it?(V(),he(Pe,{key:0,style:It([{textAlign:"left"},{cursor:"pointer"}]),density:"compact",class:"ma-2 card-enhanced card-status-default card-hover-base",rounded:"lg",onClick:at=>q(it.id)},{default:d(()=>[l(be,{"no-gutters":""},{default:d(()=>[l(re,{cols:"12"},{default:d(()=>[l(je,null,{default:d(()=>[Q(J(it?.name||"Unknown Patient")+" ",1),it?.contactNumber?(V(),ye("span",w_e," ("+J(it.contactNumber)+") ",1)):Be("",!0)]),_:2},1024),l(Se,{class:"pb-1"},{default:d(()=>[p("div",__e,[it?.id?(V(),ye("span",b_e,[we[20]||(we[20]=p("strong",null,"ID:",-1)),Q(" "+J(it.id),1)])):Be("",!0),it?.gender&&it.gender!==""?(V(),ye("span",x_e,[we[21]||(we[21]=p("strong",null,"Gender:",-1)),Q(" "+J(it.gender),1)])):Be("",!0),it?.age&&it.age!==""?(V(),ye("span",C_e,[we[22]||(we[22]=p("strong",null,"Age:",-1)),Q(" "+J(it.age?`${it.age} yrs`:""),1)])):Be("",!0),it?.importID?(V(),ye("span",E_e,[we[23]||(we[23]=p("strong",null,"Import ID:",-1)),Q(" "+J(it.importID),1)])):Be("",!0),it?.isImported===!0||it?.isImported===1?(V(),he(Ve,{key:4,text:"Imported Patient"},{activator:d(({props:at})=>[l(ke,Ne({size:"small",color:"info"},{ref_for:!0},at,{class:"ml-1"}),{default:d(()=>[...we[24]||(we[24]=[p("img",{src:zwe,alt:"Imported",style:{width:"16px",height:"16px",filter:"invert(0.5)"}},null,-1)])]),_:1},16)]),_:1})):Be("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])):Be("",!0)]),_:2},1024))),128))]),_:1})]),_:1})],64)):Be("",!0):(V(),he(be,{key:3,"no-gutters":""},{default:d(()=>[l(re,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",y_e,[l(ke,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...we[17]||(we[17]=[Q("mdi-account-search",-1)])]),_:1}),we[18]||(we[18]=p("div",{class:"text-h6 mb-2"},"Search for Patients",-1)),we[19]||(we[19]=p("div",{class:"text-body-2 text-medium-emphasis"},"Use the filters on the left to find patients",-1))])]),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1}),l(Le,{value:1,style:{height:"100%"}},{default:d(()=>[l(be,{"aria-label":"trends row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(re,{cols:"4",order:"1",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",B_e,[l(f_e,{"model-value-doctor":O.value.selectedDoctor,"onUpdate:modelValueDoctor":we[5]||(we[5]=it=>O.value.selectedDoctor=it),"model-value-from-date":O.value.fromDate,"onUpdate:modelValueFromDate":we[6]||(we[6]=it=>O.value.fromDate=it),"available-doctors":k.value,"max-date":w.value,"is-loading":M.value,onShowTrends:F,onClearFilters:I},null,8,["model-value-doctor","model-value-from-date","available-doctors","max-date","is-loading"])])]),_:1}),l(re,{cols:"8",order:"2",class:"pl-1 stable-height-column"},{default:d(()=>[p("div",S_e,[l(Pe,{flat:"",color:"surfaceContainer",style:{height:"100%"}},{default:d(()=>[l(Pe,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(Se,{class:"pt-2 pb-0 d-flex align-center justify-center"},{default:d(()=>[se.value.length>0?(V(),ye(ze,{key:0},[p("strong",null,J(se.value.length),1),we[25]||(we[25]=Q(" appointments analyzed ",-1))],64)):(V(),ye("strong",k_e,"Trends Analysis"))]),_:1})]),_:1}),W.value?M.value?(V(),he(be,{key:1,"no-gutters":""},{default:d(()=>[l(re,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",T_e,[l(He,{indeterminate:"",color:"primary",size:"64"}),we[30]||(we[30]=p("div",{class:"mt-4 text-subtitle-1"},"Loading trends data...",-1))])]),_:1})]),_:1})):te.value?(V(),he(be,{key:2,"no-gutters":""},{default:d(()=>[l(re,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",F_e,[l(ke,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...we[31]||(we[31]=[Q("mdi-alert-circle",-1)])]),_:1}),we[33]||(we[33]=p("div",{class:"text-h6 mb-2"},"Failed to Load Trends",-1)),p("div",P_e,J(te.value),1),l(_e,{color:"primary",onClick:F,"prepend-icon":"mdi-refresh"},{default:d(()=>[...we[32]||(we[32]=[Q(" Try Again ",-1)])]),_:1})])]),_:1})]),_:1})):se.value.length===0&&W.value?(V(),he(be,{key:3,"no-gutters":""},{default:d(()=>[l(re,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",D_e,[l(ke,{size:"64",color:"warning",class:"mb-4"},{default:d(()=>[...we[34]||(we[34]=[Q("mdi-chart-line-variant",-1)])]),_:1}),we[36]||(we[36]=p("div",{class:"text-h6 mb-2"},"No Trends Data",-1)),we[37]||(we[37]=p("div",{class:"text-body-2 text-medium-emphasis mb-4"}," No completed appointments found for the selected criteria ",-1)),l(_e,{color:"primary",variant:"outlined",onClick:I,"prepend-icon":"mdi-refresh"},{default:d(()=>[...we[35]||(we[35]=[Q(" Clear Configuration ",-1)])]),_:1})])]),_:1})]),_:1})):se.value.length>0?(V(),ye("div",U_e,[l(Se,{class:"pt-3"},{default:d(()=>[l(be,{class:"mb-4"},{default:d(()=>[l(re,{cols:"3"},{default:d(()=>[l(Pe,{color:"primary",variant:"tonal"},{default:d(()=>[l(Se,{class:"text-center"},{default:d(()=>[p("div",R_e,J(se.value.length),1),we[38]||(we[38]=p("div",{class:"text-caption"},"Total Appointments",-1))]),_:1})]),_:1})]),_:1}),l(re,{cols:"3"},{default:d(()=>[l(Pe,{color:"success",variant:"tonal"},{default:d(()=>[l(Se,{class:"text-center"},{default:d(()=>[p("div",N_e,J(S.value),1),we[39]||(we[39]=p("div",{class:"text-caption"},"Unique Patients",-1))]),_:1})]),_:1})]),_:1}),l(re,{cols:"3"},{default:d(()=>[l(Pe,{color:"info",variant:"tonal"},{default:d(()=>[l(Se,{class:"text-center"},{default:d(()=>[p("div",L_e,J(T.value),1),we[40]||(we[40]=p("div",{class:"text-caption"},"Weekly Average",-1))]),_:1})]),_:1})]),_:1}),l(re,{cols:"3"},{default:d(()=>[l(Pe,{color:"warning",variant:"tonal"},{default:d(()=>[l(Se,{class:"text-center"},{default:d(()=>[p("div",V_e,J(N.value),1),we[41]||(we[41]=p("div",{class:"text-caption"},"Weeks of Data",-1))]),_:1})]),_:1})]),_:1})]),_:1}),p("div",M_e,[l(Ct,{headers:b.value,items:B.value,"items-per-page":10,class:"elevation-1 trends-table",density:"comfortable","fixed-header":""},{"item.startDate":d(({item:it})=>[p("div",O_e,[p("span",Q_e,J(it.startDate),1)])]),"item.endDate":d(({item:it})=>[p("div",H_e,[p("span",K_e,J(it.endDate),1)])]),"item.count":d(({item:it})=>[p("div",G_e,[l(ht,{color:"primary",size:"small"},{default:d(()=>[Q(J(it.count),1)]),_:2},1024)])]),_:2},1032,["headers","items"])])]),_:1})])):Be("",!0):(V(),he(be,{key:0,"no-gutters":""},{default:d(()=>[l(re,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",I_e,[l(ke,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...we[26]||(we[26]=[Q("mdi-chart-line-variant",-1)])]),_:1}),we[28]||(we[28]=p("div",{class:"text-h6 mb-2"},"Ready to Analyze Trends",-1)),we[29]||(we[29]=p("div",{class:"text-body-2 text-medium-emphasis mb-4"},' Configure your analysis settings and click "Show Trends" to view appointment trends ',-1)),l(_e,{color:"primary",variant:"outlined",onClick:F,"prepend-icon":"mdi-chart-line"},{default:d(()=>[...we[27]||(we[27]=[Q(" Show All Trends ",-1)])]),_:1})])]),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))]),_:1})}}},$_e=on(z_e,[["__scopeId","data-v-9579fef0"]]),W_e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,21H8V7H19M19,5H8A2,2%200%200,0%206,7V21A2,2%200%200,0%208,23H19A2,2%200%200,0%2021,21V7A2,2%200%200,0%2019,5M16,1H4A2,2%200%200,0%202,3V17H4V3H16V1Z'%20/%3e%3c/svg%3e",FE="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1%200%200,1%2013,4A1,1%200%200,1%2012,5A1,1%200%200,1%2011,4A1,1%200%200,1%2012,3M19,3H14.82C14.4,1.84%2013.3,1%2012,1C10.7,1%209.6,1.84%209.18,3H5A2,2%200%200,0%203,5V19A2,2%200%200,0%205,21H19A2,2%200%200,0%2021,19V5A2,2%200%200,0%2019,3Z'%20/%3e%3c/svg%3e",j_e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,3H14.82C14.4,1.84%2013.3,1%2012,1C10.7,1%209.6,1.84%209.18,3H5A2,2%200%200,0%203,5V19A2,2%200%200,0%205,21H19A2,2%200%200,0%2021,19V5A2,2%200%200,0%2019,3M12,3A1,1%200%200,1%2013,4A1,1%200%200,1%2012,5A1,1%200%200,1%2011,4A1,1%200%200,1%2012,3M5,13.46H7.17L10.5,7.08L11.44,14.05L13.93,10.86L16.53,13.46H19V15H15.89L14.07,13.21L10.38,17.92L9.62,12.15L8.11,15H5V13.46Z'%20/%3e%3c/svg%3e",J_e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='currentColor'%20d='M16,11.78L20.24,4.45L21.97,5.45L16.74,14.5L10.23,10.75L5.46,19H22V21H2V3H4V17.54L9.5,8L16,11.78Z'%20/%3e%3c/svg%3e",q_e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M14%202H6C4.89%202%204%202.89%204%204V20C4%2021.11%204.89%2022%206%2022H13.81C13.28%2021.09%2013%2020.05%2013%2019C13%2018.67%2013.03%2018.33%2013.08%2018H6V16H13.81C14.27%2015.2%2014.91%2014.5%2015.68%2014H6V12H18V13.08C18.33%2013.03%2018.67%2013%2019%2013S19.67%2013.03%2020%2013.08V8L14%202M13%209V3.5L18.5%209H13M18%2015V18H15V20H18V23H20V20H23V18H20V15H18Z'%20/%3e%3c/svg%3e",PE="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z'%20/%3e%3c/svg%3e",Xc="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M4,6H20V16H4M20,18A2,2%200%200,0%2022,16V6C22,4.89%2021.1,4%2020,4H4C2.89,4%202,4.89%202,6V16A2,2%200%200,0%204,18H0V20H24V18H20Z'%20/%3e%3c/svg%3e",th="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M6,19A5,5%200%200,1%201,14A5,5%200%200,1%206,9C7,6.65%209.3,5%2012,5C15.43,5%2018.24,7.66%2018.5,11.03L19,11A4,4%200%200,1%2023,15A4,4%200%200,1%2019,19H6M19,13H17V12A5,5%200%200,0%2012,7C9.5,7%207.45,8.82%207.06,11.19C6.73,11.07%206.37,11%206,11A3,3%200%200,0%203,14A3,3%200%200,0%206,17H19A2,2%200%200,0%2021,15A2,2%200%200,0%2019,13Z'%20/%3e%3c/svg%3e",Y_e=async e=>{try{return{data:(await Bt.post("/diagnosis/",e)).data.data.new_diagnosis,error:null}}catch(t){return console.error("There was an error creating patients:",t?.response||t),{data:[],error:t}}},X_e=async e=>{try{return await Bt.put("/diagnosis/",e),{error:null}}catch(t){return console.error("Error updating diagnosis:",t),{error:t}}},zM=async e=>{try{return{data:(await Bt.post("/medicine/medicines",e)).data.data.id_mapping,error:null}}catch(t){return console.error("Error adding medicine:",t),{data:[],error:t}}},$M=async(e,t)=>{try{return{data:(await Bt.post(`/dosages?doctor_id=${t}`,e)).data.data.id_mapping,error:null}}catch(n){return console.error("Error creating dosage:",n),{data:null,error:n}}},WM=async(e,t)=>{try{return await Bt.post(`/consultation/consultation_medicines/${e}`,t),{error:null}}catch(n){return console.error("Error updating consultation:",n),{error:n}}},wk=async e=>{try{return{data:(await Bt.post("/medicine/",e)).data.data.newMedicine,error:null}}catch(t){return console.error("Error adding medicine:",t),{data:[],error:t}}},c2=async(e,t)=>{try{return await Bt.post(`/diagnosis/diagnosis_medicines/${e}`,t),{error:null}}catch(n){return console.error("Error adding diagnosis medicine mapping:",n),{error:n}}},jM=async e=>{try{return{data:(await Bt.get(`/medicine/diagnosis_medicines/${e.id}`)).data.data.medicines,error:null}}catch(t){return console.error("Error adding diagnosis medicine mapping:",t),{data:[],error:t}}},JM=async(e,t,n={})=>{try{const r=n.skipMessages?{skipMessages:!0}:{};return{data:(await Bt.get(`/medicine/dosage/${e.id}?doctor_id=${t}`,r)).data.data.dosages,error:null,errorMessage:null}}catch(r){if(console.error("Error fetching dosages:",r),r.response?.status===404){const a=r.response?.data?.error||null;return{data:[],error:null,errorMessage:a}}return{data:[],error:r,errorMessage:null}}},_k=async(e,t=!1)=>{try{const n=t?{include_pharmacy_details:!0}:{};return{data:(await Bt.get(`/medicine/search_medicines/${e}`,{params:n})).data.data.medicines,error:null}}catch(n){return console.error("Error fetching medicines:",n),n.response?.status===404?{data:[],error:null}:{data:[],error:n}}},qM=async(e,t)=>{try{return{data:(await Bt.put(`/medicine/${e}`,t)).data.data,error:null}}catch(n){return console.error("Error updating medicine:",n),{data:null,error:n}}},YM=Object.freeze(Object.defineProperty({__proto__:null,createDiagnosisMedicines:c2,createDosages:$M,createMedicines:zM,createNewMedicine:wk,getDiagnosisMedicines:jM,getDosages:JM,saveConsultationMedicines:WM,searchMedicines:_k,updateMedicine:qM},Symbol.toStringTag,{value:"Module"})),Z_e={__name:"create-diagnosis-template",props:{medicineList:{type:Array,default:()=>[]},diagnosis:{type:String,default:""},patientNotes:{type:String,default:""},investigations:{type:String,default:""},doctorId:{type:[String,Number],required:!0}},emits:["close","update&close"],setup(e,{emit:t}){const n=e,r=t,a=H(n.diagnosis),s=H(n.patientNotes),o=H(n.investigations),i=H(!1),c=H(!1),A=H([]),u=H(""),f=H(null),m=Z(()=>n.medicineList.filter(w=>w.isLocal&&w.productName&&w.id!==void 0&&w.id!==null)),v=()=>{f.value&&f.value.abort(),r("close")},h=(w,b)=>{if(b)A.value.includes(w.id)||A.value.push(w.id),console.log("Medicine selected:",w.productName);else{const B=A.value.indexOf(w.id);B>-1&&A.value.splice(B,1),console.log("Medicine deselected:",w.productName)}u.value=""},y=async()=>{c.value=!0,u.value="",f.value=new AbortController;const w=n.medicineList.filter(B=>A.value.includes(B.id)),b={diagnosisName:a.value,instructions:s.value,investigations:o.value,isBookmark:1,isCreatedByUser:1,isImportedFromServer:0,doctor_id:n.doctorId};console.log("Creating new diagnosis:",b);try{const B=await Y_e(b);if(f.value?.signal.aborted)return;if(B.error)u.value="Failed to create diagnosis template. Please try again.",console.error("Error creating diagnosis:",B.error);else{b.id=B.data.id;const S=await c2(b.id,w);if(f.value?.signal.aborted)return;if(S.error){u.value="Diagnosis created but failed to associate medicines. Please try editing the template to add medicines.",console.error("Error creating diagnosis medicines:",S.error);return}console.log("Diagnosis template created successfully"),r("update&close")}}catch(B){f.value?.signal.aborted||(u.value="An unexpected error occurred. Please try again.",console.error("Error creating diagnosis template:",B))}finally{f.value?.signal.aborted||(c.value=!1),f.value=null}};return Br(()=>{f.value&&f.value.abort()}),(w,b)=>{const B=D("v-card-title"),S=D("v-col"),T=D("v-icon"),N=D("v-btn"),k=D("v-row"),E=D("v-card"),_=D("v-text-field"),C=D("v-textarea"),F=D("v-divider"),I=D("v-card-subtitle"),R=D("v-checkbox"),M=D("v-tooltip"),te=D("v-chip"),se=D("v-card-text"),O=D("v-alert"),W=D("v-form");return V(),he(E,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(k,{"no-gutters":""},{default:d(()=>[l(S,{cols:"12"},{default:d(()=>[l(E,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(k,{"no-gutters":""},{default:d(()=>[l(S,{cols:"11"},{default:d(()=>[l(B,{class:"pa-0 pl-2"},{default:d(()=>[...b[4]||(b[4]=[Q("Create Diagnosis Template",-1)])]),_:1})]),_:1}),l(S,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(N,{icon:"",size:"x-small",onClick:v},{default:d(()=>[l(T,null,{default:d(()=>[...b[5]||(b[5]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(k,{"no-gutters":""},{default:d(()=>[l(S,{cols:"12"},{default:d(()=>[l(E,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(W,{modelValue:i.value,"onUpdate:modelValue":b[3]||(b[3]=le=>i.value=le),"validate-on":"blur"},{default:d(()=>[l(k,{"no-gutters":""},{default:d(()=>[l(S,{cols:"12"},{default:d(()=>[l(_,{label:"Diagnosis Name *",density:"compact",modelValue:a.value,"onUpdate:modelValue":b[0]||(b[0]=le=>a.value=le),rules:We(Ei)},null,8,["modelValue","rules"])]),_:1}),l(S,{cols:"12"},{default:d(()=>[l(C,{label:"Instructions",density:"compact",modelValue:s.value,"onUpdate:modelValue":b[1]||(b[1]=le=>s.value=le),rows:"2","auto-grow":""},null,8,["modelValue"])]),_:1}),l(S,{cols:"12"},{default:d(()=>[l(C,{label:"Investigations",density:"compact",modelValue:o.value,"onUpdate:modelValue":b[2]||(b[2]=le=>o.value=le),rows:"1","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1}),l(k,{"no-gutters":""},{default:d(()=>[l(S,{cols:"12"},{default:d(()=>[l(F,{class:"my-3"},{default:d(()=>[...b[6]||(b[6]=[Q("Medicines",-1)])]),_:1}),m.value.length>0?(V(),he(E,{key:0,variant:"outlined"},{default:d(()=>[l(I,{class:"pb-2"},{default:d(()=>[...b[7]||(b[7]=[Q("Available Medicines (from current consultation):",-1)])]),_:1}),l(se,null,{default:d(()=>[(V(!0),ye(ze,null,Jt(m.value,le=>(V(),he(E,{key:`available-${le.id}`,flat:""},{default:d(()=>[l(k,{"no-gutters":""},{default:d(()=>[l(S,{cols:"5",class:"d-flex align-center justify-start"},{default:d(()=>[l(R,{"model-value":A.value.includes(le.id),color:"primary",density:"compact","hide-details":"","onUpdate:modelValue":K=>h(le,K)},null,8,["model-value","onUpdate:modelValue"]),l(te,{color:"primary","text-color":"black",size:"small",class:"ml-2"},gm({default:d(()=>[p("strong",null,J(le.productName),1)]),_:2},[le.isLocal?{name:"append",fn:d(()=>[l(M,{text:"Saved Medicine"},{activator:d(({props:K})=>[l(T,Ne({size:"small"},{ref_for:!0},K,{class:"ml-1"}),{default:d(()=>[...b[8]||(b[8]=[p("img",{src:Xc,alt:"Saved Medicine"},null,-1)])]),_:1},16)]),_:1})]),key:"0"}:{name:"append",fn:d(()=>[l(M,{text:"External Medicine"},{activator:d(({props:K})=>[l(T,Ne({size:"small"},{ref_for:!0},K,{class:"ml-1"}),{default:d(()=>[...b[9]||(b[9]=[p("img",{src:th,alt:"External Medicine"},null,-1)])]),_:1},16)]),_:1})]),key:"1"}]),1024)]),_:2},1024),l(S,{cols:"7",class:"d-flex align-center justify-start"},{default:d(()=>[l(I,null,{default:d(()=>[Q(J(le.saltComposition),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(V(),he(O,{key:1,type:"info",variant:"outlined"},{default:d(()=>[...b[10]||(b[10]=[Q(" No medicines available from current consultation to add to template. ",-1)])]),_:1})),u.value?(V(),he(O,{key:2,type:"error",variant:"outlined",class:"mt-3"},{default:d(()=>[Q(J(u.value),1)]),_:1})):Be("",!0)]),_:1})]),_:1}),l(F),l(k,{"no-gutters":""},{default:d(()=>[l(S,{cols:"2"}),l(S,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(N,{variant:"outlined",onClick:y,disabled:!i.value,loading:c.value},{default:d(()=>[...b[11]||(b[11]=[Q(" Create ",-1)])]),_:1},8,["disabled","loading"])]),_:1}),l(S,{cols:"2"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},ebe=on(Z_e,[["__scopeId","data-v-92535624"]]),tbe={__name:"edit-diagnosis-template",props:{medicineList:{type:Array,required:!0},selectedDiagnosis:{type:Object,default:null}},emits:["close","update&close"],setup(e,{emit:t}){const n=e,r=t,a=H(null),s=H({}),o=H([]),i=H(!1),c=H(!1),A=H([]),u=H(!1),f=H(""),m=H(null);Ge(()=>n.medicineList,()=>{v()},{deep:!0});const v=()=>{const S=o.value.map(T=>T.id);A.value=n.medicineList.filter(T=>T.isLocal&&T.id!==void 0&&T.id!==null&&!S.includes(T.id)).map(T=>({...T,isSelected:!1,_uniqueKey:`available_${T.id}`}))};fn(async()=>{n.selectedDiagnosis?(a.value=n.selectedDiagnosis,await h(n.selectedDiagnosis)):v()});const h=async S=>{if(!S){s.value={},o.value=[],v();return}s.value=Gn.cloneDeep(S),u.value=!0,f.value="";try{const T=await jM(S);o.value=(T.data||[]).map(N=>({...N,isSelected:!0,_uniqueKey:`template_${N.id}`})),console.log("Template medicines fetched:",o.value),v()}catch(T){console.error("Error fetching template medicines:",T),f.value="Failed to load template medicines. Please try again.",o.value=[],v()}finally{u.value=!1}},y=S=>{console.log("Medicine selection changed:",S.productName,S.isSelected)},w=S=>{console.log("Template medicine selection changed:",S.productName,S.isSelected)},b=async()=>{if(!(!a.value||!c.value)){i.value=!0;try{const S=await X_e(s.value);if(S.error){console.error("Error updating diagnosis:",S.error);return}const T=o.value.filter(E=>E.isSelected),N=A.value.filter(E=>E.isSelected),k=[...T,...N];if(k.length>0){const E=await c2(a.value.id,k);if(E.error){console.error("Error updating diagnosis medicines:",E.error);return}}else{const E=await c2(a.value.id,[]);if(E.error){console.error("Error clearing diagnosis medicines:",E.error);return}}console.log("Template updated successfully"),r("update&close")}catch(S){console.error("Error updating template:",S)}finally{i.value=!1}}},B=()=>{m.value&&m.value.abort(),r("close")};return Br(()=>{m.value&&m.value.abort()}),(S,T)=>{const N=D("v-card-title"),k=D("v-col"),E=D("v-icon"),_=D("v-btn"),C=D("v-row"),F=D("v-card"),I=D("v-text-field"),R=D("v-textarea"),M=D("v-divider"),te=D("v-card-subtitle"),se=D("v-progress-linear"),O=D("v-card-text"),W=D("v-checkbox"),le=D("v-tooltip"),K=D("v-chip"),ee=D("v-alert"),j=D("v-form");return V(),he(F,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(C,{"no-gutters":""},{default:d(()=>[l(k,{cols:"12"},{default:d(()=>[l(F,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(C,{"no-gutters":""},{default:d(()=>[l(k,{cols:"11"},{default:d(()=>[l(N,{class:"pa-0 pl-2"},{default:d(()=>[...T[4]||(T[4]=[Q("Edit Diagnosis Template",-1)])]),_:1})]),_:1}),l(k,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(_,{icon:"",size:"x-small",onClick:B},{default:d(()=>[l(E,null,{default:d(()=>[...T[5]||(T[5]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(C,{"no-gutters":""},{default:d(()=>[l(k,{cols:"12"},{default:d(()=>[l(F,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(j,{modelValue:c.value,"onUpdate:modelValue":T[3]||(T[3]=U=>c.value=U),"validate-on":"blur"},{default:d(()=>[l(C,{"no-gutters":""},{default:d(()=>[a.value?(V(),ye(ze,{key:0},[l(k,{cols:"12"},{default:d(()=>[l(I,{label:"Diagnosis Name *",density:"compact",modelValue:s.value.diagnosisName,"onUpdate:modelValue":T[0]||(T[0]=U=>s.value.diagnosisName=U),rules:We(Ei)},null,8,["modelValue","rules"])]),_:1}),l(k,{cols:"12"},{default:d(()=>[l(R,{label:"Instructions",density:"compact",rows:"2","auto-grow":"",modelValue:s.value.instructions,"onUpdate:modelValue":T[1]||(T[1]=U=>s.value.instructions=U)},null,8,["modelValue"])]),_:1}),l(k,{cols:"12"},{default:d(()=>[l(R,{label:"Investigations",density:"compact",modelValue:s.value.investigations,"onUpdate:modelValue":T[2]||(T[2]=U=>s.value.investigations=U),rows:"1","auto-grow":""},null,8,["modelValue"])]),_:1}),l(k,{cols:"12"},{default:d(()=>[l(M,{class:"my-3"},{default:d(()=>[...T[6]||(T[6]=[Q("Medicines",-1)])]),_:1}),u.value?(V(),he(F,{key:0,variant:"outlined",class:"mb-3"},{default:d(()=>[l(te,{class:"pb-2"},{default:d(()=>[...T[7]||(T[7]=[Q("Loading template medicines...",-1)])]),_:1}),l(O,null,{default:d(()=>[l(se,{indeterminate:""})]),_:1})]),_:1})):o.value.length>0?(V(),he(F,{key:1,variant:"outlined",class:"mb-3"},{default:d(()=>[l(te,{class:"pb-2"},{default:d(()=>[...T[8]||(T[8]=[Q("Current Template Medicines:",-1)])]),_:1}),l(O,null,{default:d(()=>[(V(!0),ye(ze,null,Jt(o.value,U=>(V(),he(F,{key:U._uniqueKey||`template-${U.id}`,flat:""},{default:d(()=>[l(C,{"no-gutters":""},{default:d(()=>[l(k,{cols:"5",class:"d-flex align-center justify-start"},{default:d(()=>[l(W,{modelValue:U.isSelected,"onUpdate:modelValue":G=>U.isSelected=G,color:"primary",density:"compact","hide-details":"",onChange:G=>w(U)},null,8,["modelValue","onUpdate:modelValue","onChange"]),l(K,{color:"primary","text-color":"black",size:"small",class:"ml-2"},{append:d(()=>[l(le,{text:"Saved Medicine"},{activator:d(({props:G})=>[l(E,Ne({size:"small"},{ref_for:!0},G,{class:"ml-1"}),{default:d(()=>[...T[9]||(T[9]=[p("img",{src:Xc,alt:"Saved Medicine"},null,-1)])]),_:1},16)]),_:1})]),default:d(()=>[p("strong",null,J(U.productName),1)]),_:2},1024)]),_:2},1024),l(k,{cols:"7",class:"d-flex align-center justify-start"},{default:d(()=>[l(te,null,{default:d(()=>[Q(J(U.saltComposition),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):Be("",!0),A.value.length>0?(V(),he(F,{key:2,variant:"outlined"},{default:d(()=>[l(te,{class:"pb-2"},{default:d(()=>[...T[10]||(T[10]=[Q("Available Medicines (from current consultation):",-1)])]),_:1}),l(O,null,{default:d(()=>[(V(!0),ye(ze,null,Jt(A.value,U=>(V(),he(F,{key:U._uniqueKey||`available-${U.id}`,flat:""},{default:d(()=>[l(C,{"no-gutters":""},{default:d(()=>[l(k,{cols:"5",class:"d-flex align-center justify-start"},{default:d(()=>[l(W,{modelValue:U.isSelected,"onUpdate:modelValue":G=>U.isSelected=G,color:"primary",density:"compact","hide-details":"",onChange:G=>y(U)},null,8,["modelValue","onUpdate:modelValue","onChange"]),l(K,{color:"primary","text-color":"black",size:"small",class:"ml-2"},gm({default:d(()=>[p("strong",null,J(U.productName),1)]),_:2},[U.isLocal?{name:"append",fn:d(()=>[l(le,{text:"Saved Medicine"},{activator:d(({props:G})=>[l(E,Ne({size:"small"},{ref_for:!0},G,{class:"ml-1"}),{default:d(()=>[...T[11]||(T[11]=[p("img",{src:Xc,alt:"Saved Medicine"},null,-1)])]),_:1},16)]),_:1})]),key:"0"}:{name:"append",fn:d(()=>[l(le,{text:"External Medicine"},{activator:d(({props:G})=>[l(E,Ne({size:"small"},{ref_for:!0},G,{class:"ml-1"}),{default:d(()=>[...T[12]||(T[12]=[p("img",{src:th,alt:"External Medicine"},null,-1)])]),_:1},16)]),_:1})]),key:"1"}]),1024)]),_:2},1024),l(k,{cols:"7",class:"d-flex align-center justify-start"},{default:d(()=>[l(te,null,{default:d(()=>[Q(J(U.saltComposition),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(V(),he(ee,{key:3,type:"info",variant:"outlined"},{default:d(()=>[...T[13]||(T[13]=[Q(" No medicines available from current consultation to add to template. ",-1)])]),_:1})),f.value?(V(),he(ee,{key:4,type:"error",variant:"outlined",class:"mt-3"},{default:d(()=>[Q(J(f.value),1)]),_:1})):Be("",!0)]),_:1})],64)):(V(),he(k,{key:1,cols:"12"},{default:d(()=>[l(ee,{type:"info",variant:"outlined"},{default:d(()=>[...T[14]||(T[14]=[Q(" No diagnosis template selected for editing. ",-1)])]),_:1})]),_:1}))]),_:1}),l(M),l(C,{"no-gutters":""},{default:d(()=>[l(k,{cols:"2"}),l(k,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(_,{variant:"outlined",onClick:b,disabled:!c.value||!a.value,loading:i.value},{default:d(()=>[...T[15]||(T[15]=[Q(" Update ",-1)])]),_:1},8,["disabled","loading"])]),_:1}),l(k,{cols:"2"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},nbe=on(tbe,[["__scopeId","data-v-217bbc0c"]]),rbe={class:"diagnosis-name-truncate"},abe={__name:"search-diagnosis",props:{modelValue:{type:String,default:""},doctorId:{type:[String,Number],required:!0}},emits:["update:modelValue","diagnosisSelected"],setup(e,{emit:t}){const n=e,r=t,a=H(!1),s=H([]),o=H(""),i=H(""),c=H(!1);let A=null;const u=v=>{o.value=v};Ge(i,v=>{typeof v=="string"?(r("update:modelValue",v),r("diagnosisSelected",{diagnosisName:v,isUserTyped:!0,isFromHistory:!1})):v&&typeof v=="object"?(r("update:modelValue",v.diagnosisName),r("diagnosisSelected",v)):v||(r("update:modelValue",""),r("diagnosisSelected",null))}),Ge(o,v=>{if(A&&clearTimeout(A),c.value=!1,!v||v.length<1){a.value=!1,s.value=[];return}A=setTimeout(()=>{f(v)},300)}),Ge(()=>n.modelValue,v=>{v!==i.value&&(i.value=v)},{immediate:!0});const f=async v=>{if(!(!v||v.length<1)){a.value=!0,c.value=!1;try{const h=await Bt.get(`diagnosis/search_diagnosis/${v}`,{params:{doctor_id:n.doctorId}});s.value=h.data.data.diagnosis,(!s.value||s.value.length===0)&&(c.value=!0)}catch(h){console.error("Error fetching diagnosis:",h),c.value=!0}finally{a.value=!1}}},m=Z(()=>!o.value||o.value.length<1?"Start typing to search consultation history, or type custom diagnosis":a.value?"Searching consultation history and external sources...":c.value?"No matches found in consultation history or external sources. You can still type custom diagnosis.":"");return(v,h)=>{const y=D("v-icon"),w=D("v-tooltip"),b=D("v-list-item"),B=D("v-card-subtitle"),S=D("v-card"),T=D("v-combobox");return V(),he(T,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=N=>i.value=N),items:s.value,search:o.value,"onUpdate:search":u,"item-title":"diagnosisName","item-value":"diagnosisName",label:"Diagnosis - search history or type directly",placeholder:"Type diagnosis or search consultation history...",variant:"underlined",loading:a.value,"no-data-text":m.value,clearable:"","hide-no-data":"","auto-select-first":"",density:"compact",class:"diagnosis-combobox"},{item:d(({props:N,item:k})=>[l(b,Ne(N,{density:"compact"}),{title:d(()=>[p("span",rbe,J(k.raw.diagnosisName),1)]),append:d(()=>[l(w,{location:"top"},{activator:d(({props:E})=>[l(y,Ne(E,{size:"small"}),{default:d(()=>[k.raw.isFromHistory?(V(),he(y,{key:0,icon:"mdi-history",color:"primary"})):(V(),he(y,{key:1,icon:"mdi-cloud",color:"secondary"}))]),_:2},1040)]),default:d(()=>[p("span",null,J(k.raw.isFromHistory?"From your consultation history":"External suggestion"),1)]),_:2},1024)]),_:2},1040)]),"no-data":d(()=>[l(S,{flat:"",class:"pa-4 text-center"},{default:d(()=>[l(B,null,{default:d(()=>[Q(J(m.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue","items","search","loading","no-data-text"])}}},sbe=on(abe,[["__scopeId","data-v-18a25720"]]),obe={class:"investigation-name-truncate"},ibe={__name:"search-investigation",props:{modelValue:{type:String,default:""},doctorId:{type:[String,Number],required:!0}},emits:["update:modelValue","investigationSelected"],setup(e,{emit:t}){const n=e,r=t,a=H(!1),s=H([]),o=H(""),i=H(""),c=H(!1);let A=null;const u=v=>{o.value=v};Ge(i,v=>{typeof v=="string"?(r("update:modelValue",v),r("investigationSelected",{investigationName:v,isUserTyped:!0,isFromHistory:!1})):v&&typeof v=="object"?(r("update:modelValue",v.investigationName),r("investigationSelected",v)):v||(r("update:modelValue",""),r("investigationSelected",null))}),Ge(o,v=>{if(A&&clearTimeout(A),c.value=!1,!v||v.length<1){a.value=!1,s.value=[];return}A=setTimeout(()=>{f(v)},300)}),Ge(()=>n.modelValue,v=>{v!==i.value&&(i.value=v)},{immediate:!0});const f=async v=>{if(!(!v||v.length<1)){a.value=!0,c.value=!1;try{const h=await Bt.get(`consultation/search_investigations/${v}`,{params:{doctor_id:n.doctorId}});s.value=h.data.data.investigations.filter(y=>y.investigationName&&y.investigationName.trim().length>0),(!s.value||s.value.length===0)&&(c.value=!0)}catch(h){console.error("Error fetching investigations:",h),c.value=!0}finally{a.value=!1}}},m=Z(()=>!o.value||o.value.length<1?"Start typing to search consultation history, or type custom investigations":a.value?"Searching consultation history...":c.value?"No matches found in consultation history. You can still type custom investigations.":"");return(v,h)=>{const y=D("v-icon"),w=D("v-tooltip"),b=D("v-list-item"),B=D("v-card-subtitle"),S=D("v-card"),T=D("v-combobox");return V(),he(T,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=N=>i.value=N),items:s.value,search:o.value,"onUpdate:search":u,"item-title":"investigationName","item-value":"investigationName",label:"Investigations - search history or type directly",placeholder:"Type investigations or search consultation history...",variant:"underlined",loading:a.value,"no-data-text":m.value,clearable:"","hide-no-data":"","auto-select-first":"",density:"compact",class:"investigation-combobox"},{item:d(({props:N,item:k})=>[l(b,Ne(N,{density:"compact"}),{title:d(()=>[p("span",obe,J(k.raw.investigationName),1)]),append:d(()=>[l(w,{location:"top"},{activator:d(({props:E})=>[l(y,Ne(E,{size:"small"}),{default:d(()=>[k.raw.isFromHistory?(V(),he(y,{key:0,icon:"mdi-history",color:"primary"})):Be("",!0)]),_:2},1040)]),default:d(()=>[p("span",null,J(k.raw.isFromHistory?"From your consultation history":"Custom investigation"),1)]),_:2},1024)]),_:2},1040)]),"no-data":d(()=>[l(S,{flat:"",class:"pa-4 text-center"},{default:d(()=>[l(B,null,{default:d(()=>[Q(J(m.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue","items","search","loading","no-data-text"])}}},lbe=on(ibe,[["__scopeId","data-v-4f59e225"]]),cbe={class:"patient-advice-multiline"},ube={__name:"search-patient-advice",props:{doctorId:{type:[String,Number],required:!0}},emits:["patientAdviceSelected"],setup(e,{emit:t}){const n=e,r=t,a=H(!1),s=H([]),o=H(""),i=H(null),c=H(!1);let A=null;const u=y=>{s.value.some(b=>b.patientAdvice===y)||(o.value=y)},f=()=>{(!o.value||o.value.length===0)&&s.value.length===0&&v("")},m=y=>{y&&(r("patientAdviceSelected",y),i.value=null)};Ge(o,y=>{A&&clearTimeout(A),c.value=!1,A=setTimeout(()=>{v(y||"")},300)});const v=async y=>{a.value=!0,c.value=!1;try{const w=y||"",b=await Bt.get(`consultation/search_patient_advice/${encodeURIComponent(w)}`,{params:{doctor_id:n.doctorId}});s.value=b.data.data.patientAdvices.filter(B=>B.patientAdvice&&B.patientAdvice.trim().length>0),(!s.value||s.value.length===0)&&(c.value=!0)}catch(w){console.error("Error fetching patient advice:",w),c.value=!0}finally{a.value=!1}},h=Z(()=>!o.value||o.value.length<1?a.value?"Loading recent patient advice...":c.value?"No patient advice found in consultation history. Start typing to search.":"Start typing to search consultation history":a.value?"Searching consultation history...":c.value?"No matches found in consultation history.":"");return(y,w)=>{const b=D("v-icon"),B=D("v-tooltip"),S=D("v-list-item"),T=D("v-card-subtitle"),N=D("v-card"),k=D("v-autocomplete");return V(),he(k,{modelValue:i.value,"onUpdate:modelValue":[w[0]||(w[0]=E=>i.value=E),m],items:s.value,search:o.value,"onUpdate:search":u,onFocus:f,"item-title":"patientAdvice","item-value":"patientAdvice",label:"Search Patient Advice History",placeholder:"Type to search consultation history...",variant:"outlined",loading:a.value,"no-data-text":h.value,clearable:"","hide-no-data":"","auto-select-first":"",density:"compact","return-object":"",class:"patient-advice-search"},{item:d(({props:E,item:_})=>[l(S,Ne(E,{density:"compact",class:"patient-advice-list-item"}),{title:d(()=>[p("div",cbe,J(_.raw.patientAdvice),1)]),append:d(()=>[l(B,{location:"top"},{activator:d(({props:C})=>[l(b,Ne(C,{size:"small"}),{default:d(()=>[_.raw.isFromHistory?(V(),he(b,{key:0,icon:"mdi-history",color:"primary"})):Be("",!0)]),_:2},1040)]),default:d(()=>[p("span",null,J(_.raw.isFromHistory?"From your consultation history":"Custom patient advice"),1)]),_:2},1024)]),_:2},1040)]),"no-data":d(()=>[l(N,{flat:"",class:"pa-4 text-center"},{default:d(()=>[l(T,null,{default:d(()=>[Q(J(h.value),1)]),_:1})]),_:1})]),_:1},8,["modelValue","items","search","loading","no-data-text"])}}},dbe=on(ube,[["__scopeId","data-v-daaff071"]]),Abe={class:"template-name template-name-truncate"},fbe={class:"text-caption template-subtitle-truncate"},mbe={key:0},hbe={__name:"diagnosis-template-autocomplete",props:{doctorId:{type:[String,Number],required:!0}},emits:["template-selected"],setup(e,{emit:t}){const n=e,r=t,a=H(null),s=H([]),o=H(""),i=H(!1),c=H(!1);let A=null;const u=b=>{o.value=b},f=()=>{s.value.length===0&&(!o.value||o.value.length===0)&&v()};Ge(o,b=>{if(A&&clearTimeout(A),!b||b.length===0){v();return}A=setTimeout(()=>{h(b)},300)});const m=b=>{b&&typeof b=="object"&&(console.log("Template selected:",b),r("template-selected",{template:b,autoFillData:{diagnosis:b.diagnosisName,instructions:b.instructions||"",investigations:b.investigations||"",medicines:b.diagnosisMedicines||[]}}),setTimeout(()=>{a.value=null,o.value="",s.value=[]},100))},v=async()=>{i.value=!0;try{const b=await Bt.get("diagnosis/search_templates/all",{params:{doctor_id:n.doctorId}});s.value=b.data.data.templates||[],c.value=!0}catch(b){console.error("Error fetching all templates:",b),s.value=[],c.value=!0}finally{i.value=!1}},h=async b=>{if(!(!b||b.length===0)){i.value=!0;try{const B=await Bt.get(`diagnosis/search_templates/${b}`,{params:{doctor_id:n.doctorId}});s.value=B.data.data.templates||[]}catch(B){console.error("Error fetching templates:",B),s.value=[]}finally{i.value=!1}}},y=b=>{const B=[];return b.instructions&&B.push(`Instructions: ${b.instructions.substring(0,30)}...`),b.investigations&&B.push(`Investigations: ${b.investigations.substring(0,20)}...`),b.diagnosisMedicines&&b.diagnosisMedicines.length>0&&B.push(`${b.diagnosisMedicines.length} medicine(s)`),B.join(" | ")||"Template"},w=Z(()=>i.value?!o.value||o.value.length===0?"Loading templates...":"Searching templates...":!o.value||o.value.length===0?c.value&&s.value.length===0?"No saved diagnosis templates found. Create templates during consultations to see them here.":"Click to view your saved diagnosis templates":o.value&&s.value.length===0?`No templates found for "${o.value}". Try a different search term.`:"");return(b,B)=>{const S=D("v-icon"),T=D("v-tooltip"),N=D("v-list-item"),k=D("v-list"),E=D("v-card-subtitle"),_=D("v-card-text"),C=D("v-card"),F=D("v-autocomplete");return V(),he(F,{modelValue:a.value,"onUpdate:modelValue":[B[0]||(B[0]=I=>a.value=I),m],items:s.value,search:o.value,"onUpdate:search":u,onFocus:f,"item-title":"diagnosisName","item-value":"diagnosisName",label:"select diagnosis template (optional)",placeholder:"Search saved templates...",variant:"outlined",loading:i.value,"no-data-text":w.value,clearable:"","return-object":"",density:"compact","prepend-inner-icon":"mdi-magnify",class:"template-autocomplete"},{item:d(({props:I,item:R})=>[l(k,{density:"compact",class:"template-search-list"},{default:d(()=>[l(N,Ne(I,{class:"template-search-item"}),{title:d(()=>[p("span",Abe,J(R.raw.diagnosisName),1)]),subtitle:d(()=>[p("span",fbe,J(y(R.raw)),1)]),append:d(()=>[l(T,{location:"top"},{activator:d(({props:M})=>[l(S,Ne(M,{size:"small",color:"primary"}),{default:d(()=>[...B[1]||(B[1]=[Q(" mdi-bookmark ",-1)])]),_:1},16)]),default:d(()=>[B[2]||(B[2]=p("span",null,"Saved Template",-1))]),_:1})]),_:2},1040)]),_:2},1024)]),"no-data":d(()=>[l(C,{flat:"",class:"pa-4 text-center"},{default:d(()=>[c.value&&s.value.length===0&&!o.value?(V(),ye("div",mbe,[l(S,{color:"grey-lighten-1",size:"48",class:"mb-2"},{default:d(()=>[...B[3]||(B[3]=[Q("mdi-bookmark-outline",-1)])]),_:1}),l(E,{class:"text-wrap mb-2"},{default:d(()=>[...B[4]||(B[4]=[Q("No saved diagnosis templates found",-1)])]),_:1}),l(_,{class:"text-caption text-grey"},{default:d(()=>[...B[5]||(B[5]=[Q(" Save diagnosis templates during consultations to quickly reuse them here. ",-1)])]),_:1})])):(V(),he(E,{key:1,class:"text-wrap"},{default:d(()=>[Q(J(w.value),1)]),_:1}))]),_:1})]),_:1},8,["modelValue","items","search","loading","no-data-text"])}}},vbe=on(hbe,[["__scopeId","data-v-fd6a829c"]]),pbe={class:"font-weight-medium medicine-chip-truncate"},gbe={class:"d-flex align-center"},ybe={class:"medicine-name-truncate"},wbe={key:0,class:"ml-2"},_be={key:1,class:"ml-2"},bbe={class:"text-center"},xbe={__name:"search-medicine",props:{showInventoryStatus:{type:Boolean,default:!1}},emits:["searchedMedicines","addMedicine"],setup(e,{emit:t}){const n=e,r=t,a=()=>{r("addMedicine")},s=H(!1),o=H([]),i=H(""),c=H([]),A=H(!1);let u=null;Ge(i,y=>{if(u&&clearTimeout(u),A.value=!1,!y||y.trim().length===0){s.value=!1;return}u=setTimeout(()=>{f(y)},300)}),Ge(c,y=>{y.length>0&&r("searchedMedicines",y)});const f=async y=>{if(!(!y||y.trim().length===0)){s.value=!0,A.value=!1;try{const w=await _k(y,n.showInventoryStatus);w.error?(console.error("Medicine search error:",w.error),A.value=!0):(o.value=w.data,(!o.value||o.value.length===0)&&(A.value=!0))}catch(w){console.error("Medicine search failed:",w),A.value=!0}finally{s.value=!1}}},m=y=>y.isPharmacy?y.inventoryUnits===void 0||y.inventoryUnits===null?"grey":y.inventoryUnits===0?"error":y.lowStock?"warning":"success":"default",v=y=>y.isPharmacy?y.inventoryUnits===void 0||y.inventoryUnits===null?"No Inventory":y.inventoryUnits===0?y.closestExpiry&&new Date(y.closestExpiry)<new Date?"Expired - No stock":"No stock":`${y.inventoryUnits} units`:"",h=Z(()=>!i.value||i.value.trim().length===0?"Start typing to search medicines":s.value?"Searching medicines...":A.value?"No medicines found matching your search. Try different keywords or create new medicine below.":"");return(y,w)=>{const b=D("v-chip"),B=D("v-list-item-subtitle"),S=D("v-icon"),T=D("v-list-item"),N=D("v-divider"),k=D("v-card-subtitle"),E=D("v-btn"),_=D("v-card"),C=D("v-list"),F=D("v-autocomplete");return V(),he(F,{multiple:"",clearable:"","clear-on-select":"","hide-selected":"",chips:"","closable-chips":"",density:"compact",variant:"outlined",label:"search medicine by trade name",items:o.value,search:i.value,"onUpdate:search":w[0]||(w[0]=I=>i.value=I),loading:s.value,"item-title":"productName","item-value":"item","return-object":"",modelValue:c.value,"onUpdate:modelValue":w[1]||(w[1]=I=>c.value=I),rounded:"l","prepend-inner-icon":"mdi-magnify","no-data-text":h.value,placeholder:s.value?"Searching...":"Start typing to search medicines"},{chip:d(({props:I,item:R})=>[l(b,Ne(I,{size:"small",class:"mr-1"}),{default:d(()=>[p("span",pbe,J(R.raw.productName),1)]),_:2},1040)]),item:d(({props:I,item:R,index:M})=>[l(C,{density:"compact",class:"medicine-search-list"},{default:d(()=>[l(T,Ne(I,{class:"medicine-search-item"}),{title:d(()=>[p("div",gbe,[p("span",ybe,J(R.raw.productName),1),e.showInventoryStatus&&R.raw.isPharmacy?(V(),he(b,{key:0,color:m(R.raw),size:"x-small",variant:"flat",class:"ml-2"},{default:d(()=>[Q(J(v(R.raw)),1)]),_:2},1032,["color"])):Be("",!0)])]),append:d(()=>[e.showInventoryStatus&&R.raw.isPharmacy?(V(),he(S,{key:0,size:"small"},{default:d(()=>[...w[2]||(w[2]=[Q(" mdi-store-plus-outline ",-1)])]),_:1})):R.raw.isLocal?(V(),he(S,{key:1,size:"small"},{default:d(()=>[...w[3]||(w[3]=[p("img",{src:Xc,alt:"Saved Medicine"},null,-1)])]),_:1})):(V(),he(S,{key:2,size:"small"},{default:d(()=>[...w[4]||(w[4]=[p("img",{src:th,alt:"External Medicine"},null,-1)])]),_:1}))]),default:d(()=>[l(B,{class:"medicine-subtitle-truncate"},{default:d(()=>[Q(J(R.raw.marketer)+" ",1),e.showInventoryStatus&&R.raw.isPharmacy?(V(),ye(ze,{key:0},[R.raw.mrp!==null&&R.raw.mrp!==void 0?(V(),ye("span",wbe,"  MRP: "+J(Math.round(R.raw.mrp)),1)):Be("",!0),R.raw.discountPercentage!==null&&R.raw.discountPercentage!==void 0?(V(),ye("span",_be,"  Discount: "+J(R.raw.discountPercentage)+"% ",1)):Be("",!0)],64)):Be("",!0)]),_:2},1024)]),_:2},1040),M===o.value.length-1?(V(),ye(ze,{key:0},[l(N),l(_,{flat:"",class:"pt-1"},{default:d(()=>[l(k,null,{default:d(()=>[...w[5]||(w[5]=[Q("Medicine not in list?",-1)])]),_:1}),l(E,{class:"ml-3",variant:"outlined",onClick:a},{default:d(()=>[l(S,{class:"mr-2"},{default:d(()=>[...w[6]||(w[6]=[Q("mdi-plus",-1)])]),_:1}),w[7]||(w[7]=Q(" Create Medicine ",-1))]),_:1})]),_:1})],64)):Be("",!0)]),_:2},1024)]),"no-data":d(()=>[i.value&&i.value.trim().length>0?(V(),he(_,{key:0,flat:"",class:"pa-4"},{default:d(()=>[p("div",bbe,[l(k,{class:"mb-2"},{default:d(()=>[Q(J(h.value),1)]),_:1}),l(E,{variant:"outlined",color:"primary",onClick:a},{default:d(()=>[l(S,{class:"mr-2"},{default:d(()=>[...w[8]||(w[8]=[Q("mdi-plus",-1)])]),_:1}),w[9]||(w[9]=Q(" Create Medicine ",-1))]),_:1})])]),_:1})):(V(),he(_,{key:1,flat:"",class:"pa-4 text-center"},{default:d(()=>[l(k,null,{default:d(()=>[Q(J(h.value),1)]),_:1})]),_:1}))]),_:1},8,["items","search","loading","modelValue","no-data-text","placeholder"])}}},XM=on(xbe,[["__scopeId","data-v-da685ba5"]]),Cbe={__name:"search-dosage-schedule",props:{modelValue:{type:String,default:""},medicineId:{type:[String,Number],default:null},productForm:{type:String,default:null},doctorId:{type:[String,Number],required:!0}},emits:["update:modelValue","dosageScheduleSelected"],setup(e,{emit:t}){const n=e,r=t,a=H(!1),s=H([]),o=H(""),i=H(""),c=H(!1);let A=null,u=!0;const f=h=>{o.value=h};Ge(i,h=>{typeof h=="string"?(r("update:modelValue",h),r("dosageScheduleSelected",{dosage_schedule:h,isUserTyped:!0,isFromHistory:!1})):h&&typeof h=="object"?(r("update:modelValue",h.dosage_schedule),r("dosageScheduleSelected",h)):h||(r("update:modelValue",""),r("dosageScheduleSelected",null))}),Ge(o,h=>{if(A&&clearTimeout(A),c.value=!1,!h||h.length<1){a.value=!1,s.value=[];return}A=setTimeout(()=>{m(h)},300)}),Ge(()=>n.modelValue,h=>{h!==i.value&&(i.value=h)},{immediate:!0}),Ge([()=>n.medicineId,()=>n.productForm],()=>{o.value&&o.value.length>0&&m(o.value)});const m=async h=>{if(!(!h||h.length<1)){a.value=!0,c.value=!1;try{const y={};n.medicineId&&(y.medicine_id=n.medicineId),n.productForm&&(y.product_form=n.productForm),n.doctorId&&(y.doctor_id=n.doctorId);const w=await Bt.get(`/medicine/search_dosage_schedules/${encodeURIComponent(h)}`,{params:y});if(!u)return;if(w.data.success&&w.data.data.dosage_schedules){const b=w.data.data.dosage_schedules.filter(B=>B&&B.trim().length>0).map(B=>({dosage_schedule:B,isFromHistory:!0}));s.value=b,b.length===0&&(c.value=!0)}else s.value=[],c.value=!0}catch(y){if(!u)return;console.error("Error fetching dosage schedules:",y),c.value=!0}finally{u&&(a.value=!1)}}},v=Z(()=>!o.value||o.value.length<1?"Start typing to search dosage history, or type custom schedule":a.value?"Searching dosage history...":c.value?"No matches found in dosage history. You can still type custom schedule.":"");return Br(()=>{u=!1,A&&(clearTimeout(A),A=null)}),(h,y)=>{const w=D("v-icon"),b=D("v-tooltip"),B=D("v-combobox");return V(),he(B,{modelValue:i.value,"onUpdate:modelValue":y[0]||(y[0]=S=>i.value=S),items:s.value,search:o.value,"onUpdate:search":f,"item-title":"dosage_schedule","item-value":"dosage_schedule",label:"Dosage Schedule",placeholder:"Type or search dosage...",variant:"outlined",loading:a.value,"no-data-text":v.value,clearable:"","hide-no-data":"","auto-select-first":"",density:"compact",class:"dosage-schedule-combobox","single-line":"","hide-details":"","hide-dropdown-icon":""},{"prepend-inner":d(()=>[l(b,{text:"Dosage Schedule e.g. 1 after breakfast",location:"top"},{activator:d(({props:S})=>[l(w,Ne(S,{size:"small",class:"text-medium-emphasis mr-1"}),{default:d(()=>[...y[1]||(y[1]=[Q(" mdi-clock-outline ",-1)])]),_:1},16)]),_:1})]),_:1},8,["modelValue","items","search","loading","no-data-text"])}}},Ebe=on(Cbe,[["__scopeId","data-v-7d8abf1b"]]),Bbe={__name:"search-dosage-duration",props:{modelValue:{type:String,default:""},medicineId:{type:[String,Number],default:null},productForm:{type:String,default:null},doctorId:{type:[String,Number],required:!0}},emits:["update:modelValue","durationSelected"],setup(e,{emit:t}){const n=e,r=t,a=H(!1),s=H([]),o=H(""),i=H(""),c=H(!1);let A=null,u=!0;const f=h=>{o.value=h};Ge(i,h=>{typeof h=="string"?(r("update:modelValue",h),r("durationSelected",{duration:h,isUserTyped:!0,isFromHistory:!1})):h&&typeof h=="object"?(r("update:modelValue",h.duration),r("durationSelected",h)):h||(r("update:modelValue",""),r("durationSelected",null))}),Ge(o,h=>{if(A&&clearTimeout(A),c.value=!1,!h||h.length<1){a.value=!1,s.value=[];return}A=setTimeout(()=>{m(h)},300)}),Ge(()=>n.modelValue,h=>{h!==i.value&&(i.value=h)},{immediate:!0}),Ge([()=>n.medicineId,()=>n.productForm],()=>{o.value&&o.value.length>0&&m(o.value)});const m=async h=>{if(!(!h||h.length<1)){a.value=!0,c.value=!1;try{const y={};n.medicineId&&(y.medicine_id=n.medicineId),n.productForm&&(y.product_form=n.productForm),n.doctorId&&(y.doctor_id=n.doctorId);const w=await Bt.get(`/medicine/search_dosage_duration/${encodeURIComponent(h)}`,{params:y});if(!u)return;if(w.data.success&&w.data.data.dosage_durations){const b=w.data.data.dosage_durations.filter(B=>B&&B.trim().length>0).map(B=>({duration:B,isFromHistory:!0}));s.value=b,b.length===0&&(c.value=!0)}else s.value=[],c.value=!0}catch(y){if(!u)return;console.error("Error fetching dosage durations:",y),c.value=!0}finally{u&&(a.value=!1)}}},v=Z(()=>!o.value||o.value.length<1?"Start typing to search duration history, or type custom duration":a.value?"Searching duration history...":c.value?"No matches found in duration history. You can still type custom duration.":"");return Br(()=>{u=!1,A&&(clearTimeout(A),A=null)}),(h,y)=>{const w=D("v-icon"),b=D("v-tooltip"),B=D("v-combobox");return V(),he(B,{modelValue:i.value,"onUpdate:modelValue":y[0]||(y[0]=S=>i.value=S),items:s.value,search:o.value,"onUpdate:search":f,"item-title":"duration","item-value":"duration",label:"Duration",placeholder:"Type or search duration...",variant:"outlined",loading:a.value,"no-data-text":v.value,clearable:"","hide-no-data":"","auto-select-first":"",density:"compact",class:"dosage-duration-combobox","single-line":"","hide-details":"","hide-dropdown-icon":""},{"prepend-inner":d(()=>[l(b,{text:"Duration e.g. 5 days",location:"top"},{activator:d(({props:S})=>[l(w,Ne(S,{size:"small",class:"text-medium-emphasis mr-1"}),{default:d(()=>[...y[1]||(y[1]=[Q(" mdi-calendar-range ",-1)])]),_:1},16)]),_:1})]),_:1},8,["modelValue","items","search","loading","no-data-text"])}}},Sbe=on(Bbe,[["__scopeId","data-v-6b82c8fb"]]),kbe={__name:"search-dosage-instructions",props:{modelValue:{type:String,default:""},medicineId:{type:[String,Number],default:null},productForm:{type:String,default:null},doctorId:{type:[String,Number],required:!0}},emits:["update:modelValue","instructionsSelected"],setup(e,{emit:t}){const n=e,r=t,a=H(!1),s=H([]),o=H(""),i=H(""),c=H(!1);let A=null,u=!0;const f=h=>{o.value=h};Ge(i,h=>{typeof h=="string"?(r("update:modelValue",h),r("instructionsSelected",{instructions:h,isUserTyped:!0,isFromHistory:!1})):h&&typeof h=="object"?(r("update:modelValue",h.instructions),r("instructionsSelected",h)):h||(r("update:modelValue",""),r("instructionsSelected",null))}),Ge(o,h=>{if(A&&clearTimeout(A),c.value=!1,!h||h.length<1){a.value=!1,s.value=[];return}A=setTimeout(()=>{m(h)},300)}),Ge(()=>n.modelValue,h=>{h!==i.value&&(i.value=h)},{immediate:!0}),Ge([()=>n.medicineId,()=>n.productForm],()=>{o.value&&o.value.length>0&&m(o.value)});const m=async h=>{if(!(!h||h.length<1)){a.value=!0,c.value=!1;try{const y={};n.medicineId&&(y.medicine_id=n.medicineId),n.productForm&&(y.product_form=n.productForm),n.doctorId&&(y.doctor_id=n.doctorId);const w=await Bt.get(`/medicine/search_dosage_instructions/${encodeURIComponent(h)}`,{params:y});if(!u)return;if(w.data.success&&w.data.data.dosage_instructions){const b=w.data.data.dosage_instructions.filter(B=>B&&B.trim().length>0).map(B=>({instructions:B,isFromHistory:!0}));s.value=b,b.length===0&&(c.value=!0)}else s.value=[],c.value=!0}catch(y){if(!u)return;console.error("Error fetching dosage instructions:",y),c.value=!0}finally{u&&(a.value=!1)}}},v=Z(()=>!o.value||o.value.length<1?"Start typing to search instruction history, or type custom instructions":a.value?"Searching instruction history...":c.value?"No matches found in instruction history. You can still type custom instructions.":"");return Br(()=>{u=!1,A&&(clearTimeout(A),A=null)}),(h,y)=>{const w=D("v-icon"),b=D("v-tooltip"),B=D("v-combobox");return V(),he(B,{modelValue:i.value,"onUpdate:modelValue":y[0]||(y[0]=S=>i.value=S),items:s.value,search:o.value,"onUpdate:search":f,"item-title":"instructions","item-value":"instructions",label:"Instructions",placeholder:"Type or search instructions...",variant:"outlined",loading:a.value,"no-data-text":v.value,clearable:"","hide-no-data":"","auto-select-first":"",density:"compact",class:"dosage-instructions-combobox","single-line":"","hide-details":"","hide-dropdown-icon":""},{"prepend-inner":d(()=>[l(b,{text:"Instructions e.g. on empty stomach",location:"top"},{activator:d(({props:S})=>[l(w,Ne(S,{size:"small",class:"text-medium-emphasis mr-1"}),{default:d(()=>[...y[1]||(y[1]=[Q(" mdi-information-outline ",-1)])]),_:1},16)]),_:1})]),_:1},8,["modelValue","items","search","loading","no-data-text"])}}},Ibe=on(kbe,[["__scopeId","data-v-617fb4ad"]]),ZM={__name:"edit-medicine",props:{medicine:{type:Object,required:!0},mode:{type:String,default:"consultation",validator:e=>["consultation","pharmacy"].includes(e)}},emits:["close","update:medicine"],setup(e,{emit:t}){const n=e,r=t,a=H(gk),s=Z(()=>n.mode==="pharmacy"),o=H({productName:"",marketer:"",saltComposition:"",productForm:"",group:"",hsnCode:"",alertUnits:0}),i=H(!1),c=f=>{f&&(o.value={productName:f.productName||"",marketer:f.marketer||"",saltComposition:f.saltComposition||"",productForm:f.productForm||"",group:f.group||"",hsnCode:f.hsnCode||"",alertUnits:f.alertUnits!==void 0&&f.alertUnits!==null?f.alertUnits:0},console.log("Edit medicine form populated from:",f),console.log("Edit medicine form populated to:",o.value))};Ge(()=>n.medicine,f=>{c(f)},{immediate:!0,deep:!0}),Ge(()=>n.medicine?.id,f=>{f&&n.medicine&&c(n.medicine)},{immediate:!0});const A=()=>{r("close")},u=async()=>{const f={productName:o.value.productName,marketer:o.value.marketer||"",saltComposition:o.value.saltComposition||"",productForm:o.value.productForm,group:o.value.group||""};s.value&&(f.hsnCode=o.value.hsnCode||"",f.alertUnits=o.value.alertUnits||0,f.isPharmacy=!0);const m=await qM(n.medicine.id,f);if(m.error)console.error("Error updating medicine:",m.error);else{const v=m.data||{...n.medicine,...f};r("update:medicine",v),A()}};return(f,m)=>{const v=D("v-card-title"),h=D("v-col"),y=D("v-icon"),w=D("v-btn"),b=D("v-row"),B=D("v-card"),S=D("v-text-field"),T=D("v-combobox"),N=D("v-divider"),k=D("v-form");return V(),he(B,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"12"},{default:d(()=>[l(B,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"11"},{default:d(()=>[l(v,{class:"pa-0 pl-2"},{default:d(()=>[...m[8]||(m[8]=[Q("Edit Medicine",-1)])]),_:1})]),_:1}),l(h,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(w,{icon:"",size:"x-small",onClick:A},{default:d(()=>[l(y,null,{default:d(()=>[...m[9]||(m[9]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"12"},{default:d(()=>[l(B,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(k,{modelValue:i.value,"onUpdate:modelValue":m[7]||(m[7]=E=>i.value=E),"validate-on":"blur"},{default:d(()=>[l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"12"},{default:d(()=>[l(S,{label:"Trade Name *",density:"compact",modelValue:o.value.productName,"onUpdate:modelValue":m[0]||(m[0]=E=>o.value.productName=E),rules:We(Ei)},null,8,["modelValue","rules"])]),_:1}),l(h,{cols:"12"},{default:d(()=>[l(T,{label:"Product Form *",density:"compact",items:a.value,rules:We(Ei),modelValue:o.value.productForm,"onUpdate:modelValue":m[1]||(m[1]=E=>o.value.productForm=E),clearable:""},null,8,["items","rules","modelValue"])]),_:1}),l(h,{cols:"12"},{default:d(()=>[l(S,{label:"Company Name",density:"compact",modelValue:o.value.marketer,"onUpdate:modelValue":m[2]||(m[2]=E=>o.value.marketer=E)},null,8,["modelValue"])]),_:1}),l(h,{cols:"12"},{default:d(()=>[l(S,{label:"Salt Composition",density:"compact",modelValue:o.value.saltComposition,"onUpdate:modelValue":m[3]||(m[3]=E=>o.value.saltComposition=E)},null,8,["modelValue"])]),_:1}),l(h,{cols:"12"},{default:d(()=>[l(S,{label:"Group",density:"compact",modelValue:o.value.group,"onUpdate:modelValue":m[4]||(m[4]=E=>o.value.group=E)},null,8,["modelValue"])]),_:1}),s.value?(V(),ye(ze,{key:0},[l(h,{cols:"12"},{default:d(()=>[l(S,{label:"HSN Code",density:"compact",modelValue:o.value.hsnCode,"onUpdate:modelValue":m[5]||(m[5]=E=>o.value.hsnCode=E),hint:"4-8 digits, alphanumeric","persistent-hint":""},null,8,["modelValue"])]),_:1}),l(h,{cols:"12"},{default:d(()=>[l(S,{label:"Alert Units",density:"compact",type:"number",modelValue:o.value.alertUnits,"onUpdate:modelValue":m[6]||(m[6]=E=>o.value.alertUnits=E),modelModifiers:{number:!0},hint:"Low stock alert threshold","persistent-hint":"",rules:[E=>E>=0||"Must be 0 or greater"]},null,8,["modelValue","rules"])]),_:1})],64)):Be("",!0)]),_:1}),l(N),l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"2"}),l(h,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(w,{variant:"outlined",onClick:u,disabled:!i.value},{default:d(()=>[...m[10]||(m[10]=[Q("Update",-1)])]),_:1},8,["disabled"])]),_:1}),l(h,{cols:"2"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},bk={__name:"create-medicine",props:{mode:{type:String,default:"consultation",validator:e=>["consultation","pharmacy"].includes(e)}},emits:["close","update:medicinelist","medicine-created"],setup(e,{emit:t}){const n=e,r=t,a=H(gk),s=H({productName:"",marketer:"",saltComposition:"",productForm:"",group:"",hsnCode:"",alertUnits:0}),o=Z(()=>n.mode==="pharmacy"),i=H(!1),c=()=>{r("close")},A=async u=>{const f={productName:u.productName,marketer:u.marketer||"",saltComposition:u.saltComposition||"",productForm:u.productForm,group:u.group||""};o.value&&(f.hsnCode=u.hsnCode||"",f.alertUnits=u.alertUnits||0,f.isPharmacy=!0);const m=await wk(f);m.error?console.error("Error creating medicine:",m.error):(r("update:medicinelist",m.data),r("medicine-created",m.data),c())};return(u,f)=>{const m=D("v-card-title"),v=D("v-col"),h=D("v-icon"),y=D("v-btn"),w=D("v-row"),b=D("v-card"),B=D("v-text-field"),S=D("v-combobox"),T=D("v-divider"),N=D("v-form");return V(),he(b,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(w,{"no-gutters":""},{default:d(()=>[l(v,{cols:"12"},{default:d(()=>[l(b,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(w,{"no-gutters":""},{default:d(()=>[l(v,{cols:"11"},{default:d(()=>[l(m,{class:"pa-0 pl-2"},{default:d(()=>[...f[9]||(f[9]=[Q("Create New Medicine",-1)])]),_:1})]),_:1}),l(v,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(y,{icon:"",size:"x-small",onClick:c},{default:d(()=>[l(h,null,{default:d(()=>[...f[10]||(f[10]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(w,{"no-gutters":""},{default:d(()=>[l(v,{cols:"12"},{default:d(()=>[l(b,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(N,{modelValue:i.value,"onUpdate:modelValue":f[8]||(f[8]=k=>i.value=k),"validate-on":"blur"},{default:d(()=>[l(w,{"no-gutters":""},{default:d(()=>[l(v,{cols:"12"},{default:d(()=>[l(B,{label:"Trade Name *",density:"compact",modelValue:s.value.productName,"onUpdate:modelValue":f[0]||(f[0]=k=>s.value.productName=k),rules:We(Ei)},null,8,["modelValue","rules"])]),_:1}),l(v,{cols:"12"},{default:d(()=>[l(S,{label:"Product Form *",density:"compact",items:a.value,rules:We(Ei),modelValue:s.value.productForm,"onUpdate:modelValue":f[1]||(f[1]=k=>s.value.productForm=k),clearable:""},null,8,["items","rules","modelValue"])]),_:1}),l(v,{cols:"12"},{default:d(()=>[l(B,{label:"Company Name",density:"compact",modelValue:s.value.marketer,"onUpdate:modelValue":f[2]||(f[2]=k=>s.value.marketer=k)},null,8,["modelValue"])]),_:1}),l(v,{cols:"12"},{default:d(()=>[l(B,{label:"Salt Composition",density:"compact",modelValue:s.value.saltComposition,"onUpdate:modelValue":f[3]||(f[3]=k=>s.value.saltComposition=k)},null,8,["modelValue"])]),_:1}),l(v,{cols:"12"},{default:d(()=>[l(B,{label:"Group",density:"compact",modelValue:s.value.group,"onUpdate:modelValue":f[4]||(f[4]=k=>s.value.group=k)},null,8,["modelValue"])]),_:1}),o.value?(V(),ye(ze,{key:0},[l(v,{cols:"12"},{default:d(()=>[l(B,{label:"HSN Code",density:"compact",modelValue:s.value.hsnCode,"onUpdate:modelValue":f[5]||(f[5]=k=>s.value.hsnCode=k),hint:"4-8 digits, alphanumeric","persistent-hint":""},null,8,["modelValue"])]),_:1}),l(v,{cols:"12"},{default:d(()=>[l(B,{label:"Alert Units",density:"compact",type:"number",modelValue:s.value.alertUnits,"onUpdate:modelValue":f[6]||(f[6]=k=>s.value.alertUnits=k),modelModifiers:{number:!0},hint:"Low stock alert threshold","persistent-hint":"",rules:[k=>k>=0||"Must be 0 or greater"]},null,8,["modelValue","rules"])]),_:1})],64)):Be("",!0)]),_:1}),l(T),l(w,{"no-gutters":""},{default:d(()=>[l(v,{cols:"2"}),l(v,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(y,{variant:"outlined",onClick:f[7]||(f[7]=k=>A(s.value)),disabled:!i.value},{default:d(()=>[...f[11]||(f[11]=[Q("Create",-1)])]),_:1},8,["disabled"])]),_:1}),l(v,{cols:"2"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},eO=async()=>{const e=pp();if(e){console.log("Using stored endpoint for WebSocket:",e);try{return new URL(e).hostname}catch(t){console.error("Failed to parse stored endpoint URL:",t)}}try{const t=ll(),n=t||window.location.hostname,r=uo(n).api.https+"/network-info",s=await(await fetch(r)).json();return s.success&&s.localIP?s.localIP:(console.warn("API returned unsuccessful response:",s),t||"localhost")}catch(t){return console.error("Failed to get local IP from API:",t),ll()||"localhost"}},tO=async()=>{if(ZS()){const r=gp();if(r)return console.log(" URL parameters detected, skipping network API initialization"),console.log(" Using URL configuration:",r),null}const t=ll()||window.location.hostname,n=uo(t).api.https;return xw(n),console.log(`API initialized for web browser: ${n}`),n},Qw=async()=>{const e=lA();if(e){const t=e.replace(/\/api\/?$/,"");if(t&&t!=="undefined")return console.log("Using server URL from API client base URL:",t),t}try{const n=ll()||window.location.hostname,r=uo(n).api.https+"/network-info",s=await(await fetch(r)).json();return s.success&&s.serverURL?s.serverURL:(console.warn("API returned unsuccessful response for server URL:",s),uo(n).api.https.replace(/\/api\/?$/,""))}catch(t){console.error("Failed to get server URL from API:",t);const r=ll()||window.location.hostname;return uo(r).api.https.replace(/\/api\/?$/,"")}},Tbe=async(e,t="/api/upload/file")=>{try{return`${await Qw()}${t}?path=${encodeURIComponent(e)}`}catch(n){console.error("Failed to create file URL, using stored IP or localhost fallback:",n);const a=ll()||"localhost";return`${uo(a).https}${t}?path=${encodeURIComponent(e)}`}},nO=async()=>{try{return await Qw()}catch(e){console.error("Failed to get server URL, using API client base URL or fallback:",e);const t=lA();if(t){const s=t.replace(/\/api\/?$/,"");if(s&&s!=="undefined")return s}const r=ll()||"localhost";return uo(r).api.https.replace(/\/api\/?$/,"")}},xk=async(e,t="/api/upload/file")=>{try{const n=await Qw();return e.map(r=>`${n}${t}?path=${encodeURIComponent(r)}`)}catch(n){console.error("Failed to create file URLs, using stored IP or localhost fallback:",n);const a=ll()||"localhost",s=uo(a).api.https;return e.map(o=>`${s}${t}?path=${encodeURIComponent(o)}`)}},aU=Object.freeze(Object.defineProperty({__proto__:null,createFileURL:Tbe,createFileURLBatch:xk,createServerURLRef:nO,getCurrentServerURL:Qw,getLocalIP:eO,getServerURLs:uo,initializeNetworkAPI:tO},Symbol.toStringTag,{value:"Module"})),Fbe={class:"transcription-container pa-4"},Pbe={key:0,class:"text-center"},Dbe={key:1,class:"text-center"},Ube={key:2,class:"text-center"},Rbe={key:3,class:"transcription-text"},Nbe={class:"text-body-1 mb-0 text-white"},Lbe={key:4,class:"text-center text-medium-emphasis"},Vbe={key:0,class:"d-flex justify-center mb-4"},Mbe={__name:"dictation-modal",props:{modelValue:{type:Boolean,default:!1},currentText:{type:String,default:""},label:{type:String,default:"Dictation"}},emits:["update:modelValue","transcriptionComplete","transcriptionUpdate"],setup(e,{emit:t}){const n=e,r=t,a=H(!1),s=H(!1),o=H(!1),i=H(!1),c=H("");window.dictationModalActive=!1;let A=null,u=null,f=null,m=null;Ge(()=>n.modelValue,E=>{a.value=E,window.dictationModalActive=E,E&&(c.value="",setTimeout(()=>{S()},300))}),Ge(a,E=>{r("update:modelValue",E),window.dictationModalActive=E,E||k()});const v=()=>o.value?"Requesting permission...":i.value?"Connecting...":s.value?"Recording...":"Processing...",h=E=>{if(!a.value)return;const _=E.target;_&&(_.isContentEditable||["INPUT","TEXTAREA","SELECT"].includes(_.tagName))||E.repeat||(window.dictationModalActive=!0,E.key==="Enter"?(E.preventDefault(),E.stopPropagation(),E.stopImmediatePropagation(),s.value?T():N()):E.key==="Escape"&&(E.preventDefault(),E.stopPropagation(),E.stopImmediatePropagation(),s.value&&T()),setTimeout(()=>{window.dictationModalActive=!1},10))};fn(()=>{document.addEventListener("keydown",h,{capture:!0})});const y=()=>{if(m&&(clearTimeout(m),m=null),A){if(A.readyState===WebSocket.OPEN)try{A.send(JSON.stringify({action:"close"}))}catch(E){console.warn("Error sending close message to WebSocket:",E)}A.close(),A=null}};nc(()=>{document.removeEventListener("keydown",h,{capture:!0}),y(),k()});const w=async()=>{try{const E=pp();if(console.log("Stored endpoint:",E),E)return console.log("Using stored endpoint for WebSocket:",E),await jb(E,"/ws/transcribe");const _=await eO();return await jb(_,"/ws/transcribe")}catch(E){return console.error("Failed to get local IP for WebSocket, using localhost:",E),await jb("localhost","/ws/transcribe")}},b=async()=>{try{return"permissions"in navigator?(await navigator.permissions.query({name:"microphone"})).state:"unknown"}catch(E){return console.log("Permissions API not available:",E),"unknown"}},B=async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}})).getTracks().forEach(_=>_.stop()),!0}catch(E){throw console.error("Failed to get microphone access:",E),E}},S=async()=>{if(!(s.value||o.value||i.value))try{if(o.value=!0,await b()==="denied"){alert("Microphone access is blocked. Please enable microphone permissions in your browser settings and refresh the page.");return}await B(),f=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:16e3}}),o.value=!1,i.value=!0,c.value="";const _=await w();A=new WebSocket(_),m=setTimeout(()=>{A.readyState!==WebSocket.OPEN&&(console.error("WebSocket connection timeout"),alert("Connection timeout. Please check your network connection and try again."),k(),N())},1e4),A.onopen=()=>{m&&(clearTimeout(m),m=null),A.send(JSON.stringify({action:"open"})),u=new MediaRecorder(f),u.ondataavailable=C=>{if(C.data.size>0&&A.readyState===WebSocket.OPEN){const F=new FileReader;F.onload=()=>{const I=F.result.split(",")[1];A.send(JSON.stringify({action:"audio_data",data:I}))},F.readAsDataURL(C.data)}},u.start(1e3),i.value=!1,s.value=!0},A.onmessage=C=>{try{const F=JSON.parse(C.data);if(console.log("WebSocket message received:",F),F.status==="transcription")F.type==="interim"?(c.value=F.fullText+(F.text?" "+F.text:""),r("transcriptionUpdate",c.value),console.log("Interim transcription updated:",c.value)):F.type==="final"&&(c.value=F.fullText,r("transcriptionUpdate",c.value),console.log("Final transcription updated:",c.value));else if(F.status==="completed"){console.log("Received transcription:",F.transcription),console.log("Received summary:",F.summary);const I=(F.summary||F.transcription||"").trim();c.value="Processing complete...",setTimeout(()=>{r("transcriptionComplete",I),N()},1e3),A.close()}else F.status==="error"&&(console.error("WebSocket error:",F.message),A.close())}catch{console.log("Received message:",C.data)}},A.onerror=C=>{console.error("WebSocket error:",C),m&&(clearTimeout(m),m=null),i.value=!1,k()},A.onclose=()=>{m&&(clearTimeout(m),m=null),i.value=!1,s.value=!1}}catch(E){console.error("Error starting recording:",E),o.value=!1,i.value=!1,m&&(clearTimeout(m),m=null);let _="Unable to access microphone. ";E.name==="NotAllowedError"?_+="Please allow microphone access in your browser settings and try again.":E.name==="NotFoundError"?_+="No microphone found on this device.":E.name==="NotSupportedError"?_+="Microphone is not supported in this browser.":E.name==="NotReadableError"?_+="Microphone is already in use by another application.":_+="Please check your permissions and try again.",alert(_),N()}},T=()=>{s.value&&(u&&u.state==="recording"&&u.stop(),A&&A.readyState===WebSocket.OPEN&&A.send(JSON.stringify({action:"close"})),s.value=!1)},N=()=>{k(),a.value=!1},k=()=>{m&&(clearTimeout(m),m=null),u&&u.state==="recording"&&u.stop(),f&&(f.getTracks().forEach(E=>E.stop()),f=null),A&&A.readyState===WebSocket.OPEN&&A.close(),A=null,u=null,s.value=!1,o.value=!1,i.value=!1};return(E,_)=>{const C=D("v-icon"),F=D("v-card-title"),I=D("v-col"),R=D("v-btn"),M=D("v-row"),te=D("v-card"),se=D("v-progress-circular"),O=D("v-sheet"),W=D("v-dialog");return V(),he(W,{modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=le=>a.value=le),persistent:"","max-width":"500px"},{default:d(()=>[l(te,{rounded:"lg",color:"surfaceContainer"},{default:d(()=>[l(M,{"no-gutters":""},{default:d(()=>[l(I,{cols:"12"},{default:d(()=>[l(te,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(M,{"no-gutters":""},{default:d(()=>[l(I,{cols:"11"},{default:d(()=>[l(F,{class:"pa-0 pl-2"},{default:d(()=>[l(C,{class:rt([{"recording-pulse":s.value},"mr-2"]),color:s.value?"error":i.value?"warning":"primary"},{default:d(()=>[..._[1]||(_[1]=[Q(" mdi-microphone ",-1)])]),_:1},8,["class","color"]),Q(" "+J(v()),1)]),_:1})]),_:1}),l(I,{cols:"1"},{default:d(()=>[l(R,{icon:"",size:"x-small",onClick:N},{default:d(()=>[l(C,null,{default:d(()=>[..._[2]||(_[2]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(M,{"no-gutters":""},{default:d(()=>[l(I,{cols:"12"},{default:d(()=>[l(te,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[p("div",Fbe,[l(O,{class:rt(["transcription-display pa-4",{"transcription-active":s.value}]),rounded:"lg",color:"surface-variant","min-height":"150"},{default:d(()=>[o.value?(V(),ye("div",Pbe,[l(se,{indeterminate:"",color:"primary",class:"mb-3"}),_[3]||(_[3]=p("p",{class:"text-body-1 text-medium-emphasis"},"Requesting microphone permission...",-1))])):i.value?(V(),ye("div",Dbe,[l(se,{indeterminate:"",color:"primary",class:"mb-3"}),_[4]||(_[4]=p("p",{class:"text-body-1 text-medium-emphasis"},"Connecting to transcription service...",-1))])):s.value&&!c.value?(V(),ye("div",Ube,[..._[5]||(_[5]=[p("div",{class:"listening-indicator mb-3"},[p("div",{class:"listening-dots"},[p("span"),p("span"),p("span")])],-1),p("p",{class:"text-body-1 text-white"},"Listening... Start speaking now",-1)])])):c.value?(V(),ye("div",Rbe,[p("p",Nbe,J(c.value),1)])):(V(),ye("div",Lbe,[..._[6]||(_[6]=[p("p",{class:"text-body-1"},"Preparing to record...",-1)])]))]),_:1},8,["class"])]),s.value?(V(),ye("div",Vbe,[l(R,{color:"error",variant:"outlined",onClick:T,size:"large",class:"stop-recording-btn"},{default:d(()=>[l(C,null,{default:d(()=>[..._[7]||(_[7]=[Q("mdi-stop",-1)])]),_:1}),_[8]||(_[8]=Q(" Stop Dictation ",-1))]),_:1})])):Be("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Ay=on(Mbe,[["__scopeId","data-v-1540d8ce"]]),Obe=async(e=null,t=null)=>{try{const n={};return e&&(n.date=e),t&&(n.status=t),{data:(await Bt.get("/pharmacy/bills",{params:n})).data.data.bills||[],error:null}}catch(n){return console.error("Error fetching pharmacy bills:",n),{data:[],error:n}}},rO=async e=>{try{return{data:(await Bt.get(`/pharmacy/bills/${e}`)).data.data.bill||null,error:null}}catch(t){return console.error("Error fetching pharmacy bill:",t),{data:null,error:t}}},aO=async e=>{try{return{data:(await Bt.post("/pharmacy/bills",{consultationId:e})).data.data.bill||null,error:null}}catch(t){return console.error("Error creating draft bill:",t),{data:null,error:t}}},Qbe=async(e,t,n=0)=>{try{return{data:{success:!0,message:(await Bt.put(`/pharmacy/bills/${e}`,{items:t,additionalDiscountAmount:n})).data.message},error:null}}catch(r){return console.error("Error updating draft bill:",r),{data:null,error:r}}},Hbe=async(e,t=null)=>{try{const n={};return t&&(n.paymentMethod=t.paymentMethod,n.paymentAmount=t.paymentAmount,n.paymentDate=t.paymentDate,n.notes=t.notes),{data:(await Bt.post(`/pharmacy/bills/${e}/finalize`,n)).data.data.bill||null,error:null}}catch(n){return console.error("Error finalizing bill:",n),{data:null,error:n}}},Kbe=async e=>{try{return{data:(await Bt.post(`/pharmacy/bills/${e}/cancel`,{})).data.data.bill||null,error:null}}catch(t){return console.error("Error cancelling bill:",t),{data:null,error:t}}},Hw=async()=>{try{return{data:(await Bt.get("/pharmacy/inventory")).data.data.inventory||[],error:null}}catch(e){return console.error("Error fetching pharmacy inventory:",e),{data:[],error:e}}},Gbe=async e=>{try{return{data:(await Bt.get(`/pharmacy/batches/available/${e}`)).data.data.batches||[],error:null}}catch(t){return console.error("Error fetching available batches:",t),{data:[],error:t}}},sO=async e=>{try{return{data:(await Bt.post("/pharmacy/batches",e)).data.data.batch||null,error:null}}catch(t){return console.error("Error creating batch:",t),{data:null,error:t}}},zbe=async(e,t)=>{try{return{data:(await Bt.put(`/pharmacy/batches/${e}`,t)).data.data.batch||null,error:null}}catch(n){return console.error("Error updating batch:",n),{data:null,error:n}}},$be=async(e,t,n,r="stock_correction",a=void 0)=>{try{const s={purchase:1,stock_correction:2},o={medicineBatchId:e,adjustment:t,note:n};return r&&s[r]&&(o.transactionType=s[r]),a&&(o.inwardBillId=a),{data:(await Bt.post("/pharmacy/inventory/adjust",o)).data.data.transaction||null,error:null}}catch(s){return console.error("Error adjusting stock:",s),{data:null,error:s}}},Wbe=async(e,t)=>{try{return{data:(await Bt.post(`/pharmacy/bills/${e}/return`,{items:t})).data.data||null,error:null}}catch(n){return console.error("Error processing return:",n),{data:null,error:n}}},jbe=async()=>{try{return{data:(await Bt.get("/pharmacy/config")).data.data.config||null,error:null}}catch(e){return console.error("Error fetching pharmacy config:",e),{data:null,error:e}}},Jbe=async e=>{try{return{data:(await Bt.get(`/pharmacy/medicines/search/${encodeURIComponent(e)}`)).data.data.medicines||[],error:null}}catch(t){return console.error("Error searching pharmacy medicines:",t),t.response?.status===404?{data:[],error:null}:{data:[],error:t}}},qbe=async e=>{try{const{updateMedicine:t}=await Ca(async()=>{const{updateMedicine:r}=await Promise.resolve().then(()=>YM);return{updateMedicine:r}},void 0),n=await t(e,{isPharmacy:!0});return{data:n.data,error:n.error}}catch(t){return console.error("Error marking medicine as pharmacy:",t),{data:null,error:t}}},Ybe=async e=>{try{const{updateMedicine:t}=await Ca(async()=>{const{updateMedicine:r}=await Promise.resolve().then(()=>YM);return{updateMedicine:r}},void 0),n=await t(e,{isPharmacy:!1});return{data:n.data,error:n.error}}catch(t){return console.error("Error unmarking medicine as pharmacy:",t),{data:null,error:t}}},Xbe=async(e,t)=>{try{return console.log("Creating pharmacy payment with data:",{billId:e,paymentData:t}),{success:!0,data:(await Bt.post(`/pharmacy/bills/${e}/payments`,t)).data.data,message:"Payment created successfully"}}catch(n){return console.error("Error creating pharmacy payment:",n),{success:!1,error:{message:n.response?.data?.error||n.message||"Failed to create payment",status:n.response?.status||500}}}},Zbe=async e=>{try{console.log("Fetching payments for pharmacy bill ID:",e);const t=await Bt.get(`/pharmacy/bills/${e}/payments`);return console.log("Raw API response:",t.data),{success:!0,data:t.data.data.payments||[],message:"Payments fetched successfully"}}catch(t){return console.error("Error fetching payments by pharmacy bill:",t),{success:!1,error:{message:t.response?.data?.error||t.message||"Failed to fetch payments",status:t.response?.status||500}}}},exe=async(e,t)=>{try{return console.log("Deleting pharmacy payment:",{billId:e,paymentId:t}),{success:!0,message:(await Bt.delete(`/pharmacy/bills/${e}/payments/${t}`)).data.message||"Payment deleted successfully"}}catch(n){return console.error("Error deleting pharmacy payment:",n),{success:!1,error:{message:n.response?.data?.error||n.message||"Failed to delete payment",status:n.response?.status||500}}}},txe=async e=>{try{return{data:(await Bt.get(`/pharmacy/batches/${e}/usage-check`)).data.data||null,error:null}}catch(t){return console.error("Error checking batch usage:",t),{data:null,error:t}}},nxe=async e=>{try{return{data:(await Bt.delete(`/pharmacy/batches/${e}`)).data||null,error:null}}catch(t){return console.error("Error deleting batch:",t),{data:null,error:{message:t.response?.data?.error||t.message||"Failed to delete batch",status:t.response?.status||500}}}},oO=async()=>{try{return{data:(await Bt.get("/pharmacy/suppliers")).data.data||[],error:null}}catch(e){return console.error("Error fetching pharmacy suppliers:",e),{data:[],error:e}}},rxe=async e=>{try{return{data:(await Bt.post("/pharmacy/suppliers",e)).data.data||null,error:null}}catch(t){return console.error("Error creating supplier:",t),{data:null,error:t}}},axe=async(e,t)=>{try{return{data:(await Bt.put(`/pharmacy/suppliers/${e}`,t)).data.data||null,error:null}}catch(n){return console.error("Error updating supplier:",n),{data:null,error:n}}},sxe=async(e={})=>{try{const t={};return e.supplierId&&(t.supplierId=e.supplierId),e.identifier&&(t.identifier=e.identifier),{data:(await Bt.get("/pharmacy/purchase-invoices",{params:t})).data.data||[],error:null}}catch(t){return console.error("Error fetching pharmacy purchase invoices:",t),{data:[],error:t}}},oxe=async e=>{try{return{data:(await Bt.post("/pharmacy/purchase-invoices",e)).data.data||null,error:null}}catch(t){return console.error("Error creating purchase invoice:",t),{data:null,error:t}}},Bp=async e=>{try{return{data:(await Bt.get(`/pharmacy/purchase-invoices/${e}`)).data.data||null,error:null}}catch(t){return console.error("Error fetching purchase invoice:",t),{data:null,error:t}}},ixe=async(e,t)=>{try{return{data:(await Bt.put(`/pharmacy/purchase-invoices/${e}`,t)).data.data||null,error:null}}catch(n){return console.error("Error updating purchase invoice:",n),{data:null,error:n}}},lxe=async()=>{try{return{data:((await Bt.get("/pharmacy/purchase-invoices")).data.data||[]).map(n=>({id:n.id,identifier:n.pharmacyPurchaseInvoiceIdentifier,date:n.pharmacyPurchaseInvoiceDate,displayText:`${n.pharmacyPurchaseInvoiceIdentifier} (${new Date(n.pharmacyPurchaseInvoiceDate*1e3).toLocaleDateString()})`})),error:null}}catch(e){return console.error("Error fetching purchase invoices for dropdown:",e),{data:[],error:e}}},cxe=async(e,t)=>{try{return{data:(await Bt.delete(`/pharmacy/purchase-invoices/${e}/batches/${t}`)).data||null,error:null}}catch(n){return console.error("Error removing batch from invoice:",n),{data:null,error:n}}},iO=async e=>{try{return{data:(await Bt.post("/vitals",e)).data.data.vitals,error:null}}catch(t){return console.error("Error creating vitals:",t),{data:null,error:t}}},uxe=async e=>{try{return{data:(await Bt.get(`/vitals/consultation/${e}`)).data.data.vitals,error:null}}catch(t){return console.error("Error fetching vitals:",t),{data:null,error:t}}},lO=async(e,t=10,n=0)=>{try{return{data:(await Bt.get(`/vitals/patient/${e}?limit=${t}&offset=${n}`)).data.data.vitals,error:null}}catch(r){return console.error("Error fetching patient vitals history:",r),{data:[],error:r}}},cO=async(e,t)=>{try{return{data:(await Bt.put(`/vitals/consultation/${e}`,t)).data.data.vitals,error:null}}catch(n){return console.error("Error updating vitals:",n),{data:null,error:n}}},uO=async(e,t,n)=>{try{const r=await iO({consultationId:e,patientId:t,...n});return r.error&&r.error.response?.status===400?await cO(e,n):r}catch(r){return console.error("Error saving vitals:",r),{data:null,error:r}}},ba=(e,t)=>e==null||e===""?"":`${e} ${t}`,fy=(e,t)=>{if(!t)return{isNormal:null,range:""};const r={pulse:{min:60,max:100,range:"60-100 bpm"},systolicBP:{min:90,max:120,range:"90-120 mmHg"},diastolicBP:{min:60,max:80,range:"60-80 mmHg"},respiratoryRate:{min:12,max:20,range:"12-20 breaths/min"},temperature:{min:36.1,max:37.2,range:"36.1-37.2C"},serumBilirubin:{min:.2,max:1.2,range:"0.2-1.2 mg/dL"},bloodGlucoseFF:{min:70,max:100,range:"70-100 mg/dL"},bloodGlucosePP:{min:0,max:140,range:"<140 mg/dL"},bloodGlucoseRandom:{min:0,max:200,range:"<200 mg/dL"},serumCreatinine:{min:.7,max:1.3,range:"0.7-1.3 mg/dL"}}[e];return r?{isNormal:t>=r.min&&t<=r.max,range:r.range}:{isNormal:null,range:""}},dxe=Object.freeze(Object.defineProperty({__proto__:null,createVitals:iO,fetchVitalsByConsultation:uxe,fetchVitalsByPatient:lO,formatVitalWithUnit:ba,isVitalInNormalRange:fy,saveVitals:uO,updateVitals:cO},Symbol.toStringTag,{value:"Module"})),DE="vitalsPreferences",i0={pulse:!0,bloodPressure:!0,temperature:!0,respiratoryRate:!0,height:!1,weight:!0,serumBilirubin:!1,bloodGlucoseFF:!1,bloodGlucosePP:!1,bloodGlucoseRandom:!1,serumCreatinine:!1},Ck=e=>{try{if(!e)return console.warn("Doctor ID is required to get vitals preferences"),{...i0};const t=localStorage.getItem(DE);if(!t)return{...i0};const r=JSON.parse(t)[e];return r?{...i0,...r,weight:!0}:{...i0}}catch(t){return console.error("Error getting vitals preferences:",t),{...i0}}},Axe=(e,t)=>{try{if(!e)return console.error("Doctor ID is required to save vitals preferences"),!1;if(!t||typeof t!="object")return console.error("Valid preferences object is required"),!1;let n={};const r=localStorage.getItem(DE);r&&(n=JSON.parse(r));const a={...t,weight:!0};return n[e]=a,localStorage.setItem(DE,JSON.stringify(n)),console.log(`Vitals preferences saved for doctor ${e}:`,a),!0}catch(n){return console.error("Error saving vitals preferences:",n),!1}},fxe={__name:"add-edit-vitals",props:{consultation:{type:Object,required:!0},patient:{type:Object,required:!0},existingVitals:{type:Object,default:null}},emits:["close","vitals-saved"],setup(e,{emit:t}){const n=e,r=t,a=pr(),s=H(!1),o=H(!1),i=Z(()=>a.state.doctorModule.doctorId),c=H({}),A=()=>{const O=i.value;O&&(c.value=Ck(O),console.log("Loaded vitals preferences:",c.value))},u=H({pulse:null,systolicBP:null,diastolicBP:null,respiratoryRate:null,weight:null,height:null,temperature:null,serumBilirubin:null,bloodGlucoseFF:null,bloodGlucosePP:null,bloodGlucoseRandom:null,serumCreatinine:null}),f=Z(()=>!!n.existingVitals),m=Z(()=>Object.values(u.value).some(O=>O!=null&&O!=="")),v=Z(()=>c.value.pulse===!0),h=Z(()=>c.value.bloodPressure===!0),y=Z(()=>c.value.temperature===!0),w=Z(()=>c.value.respiratoryRate===!0),b=Z(()=>!0),B=Z(()=>c.value.height===!0),S=Z(()=>c.value.serumBilirubin===!0),T=Z(()=>c.value.bloodGlucoseFF===!0),N=Z(()=>c.value.bloodGlucosePP===!0),k=Z(()=>c.value.bloodGlucoseRandom===!0),E=Z(()=>c.value.serumCreatinine===!0),_=Z(()=>S.value||T.value||N.value||k.value||E.value),C=[O=>!O||!isNaN(O)&&O>0||"Must be a positive number"],F=[O=>!O||!isNaN(O)&&O>0&&O<50||"Must be a valid temperature"],I=[O=>!O||!isNaN(O)&&O>=0&&O<=20||"Must be between 0-20 mg/dL"],R=[O=>!O||!isNaN(O)&&O>=30&&O<=600||"Must be between 30-600 mg/dL"],M=[O=>!O||!isNaN(O)&&O>=.1&&O<=10||"Must be between 0.1-10 mg/dL"],te=()=>{r("close")},se=async()=>{if(m.value){o.value=!0;try{const O={};Object.keys(u.value).forEach(le=>{const K=u.value[le];K!=null&&K!==""&&(O[le]=parseFloat(K))});const W=await uO(n.consultation.id,n.patient.id,O);W.error?console.error("Error saving vitals:",W.error):(r("vitals-saved",W.data),te())}catch(O){console.error("Error saving vitals:",O)}finally{o.value=!1}}};return fn(()=>{A(),n.existingVitals&&Object.keys(u.value).forEach(O=>{n.existingVitals[O]!==null&&n.existingVitals[O]!==void 0&&(u.value[O]=n.existingVitals[O])})}),(O,W)=>{const le=D("v-card-title"),K=D("v-col"),ee=D("v-icon"),j=D("v-btn"),U=D("v-row"),G=D("v-card"),ne=D("v-text-field"),X=D("v-subheader"),oe=D("v-divider"),q=D("v-form");return V(),he(G,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(U,{"no-gutters":""},{default:d(()=>[l(K,{cols:"12"},{default:d(()=>[l(G,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(U,{"no-gutters":""},{default:d(()=>[l(K,{cols:"11"},{default:d(()=>[l(le,{class:"pa-0 pl-2"},{default:d(()=>[Q(J(f.value?"Edit Vitals":"Add Vitals"),1)]),_:1})]),_:1}),l(K,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(j,{icon:"",size:"x-small",onClick:te},{default:d(()=>[l(ee,null,{default:d(()=>[...W[13]||(W[13]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(U,{"no-gutters":""},{default:d(()=>[l(K,{cols:"12"},{default:d(()=>[l(G,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(q,{modelValue:s.value,"onUpdate:modelValue":W[12]||(W[12]=Y=>s.value=Y),"validate-on":"blur"},{default:d(()=>[l(U,{"no-gutters":""},{default:d(()=>[v.value?(V(),he(K,{key:0,cols:"6",class:"pr-1"},{default:d(()=>[l(ne,{label:"Pulse (bpm)",density:"compact",type:"number",modelValue:u.value.pulse,"onUpdate:modelValue":W[0]||(W[0]=Y=>u.value.pulse=Y),rules:C,suffix:"bpm",hint:"Normal range: 60-100 bpm","persistent-hint":"",clearable:""},null,8,["modelValue"])]),_:1})):Be("",!0),w.value?(V(),he(K,{key:1,cols:v.value?6:12,class:rt(v.value?"pl-1":"")},{default:d(()=>[l(ne,{label:"Respiratory Rate",density:"compact",type:"number",modelValue:u.value.respiratoryRate,"onUpdate:modelValue":W[1]||(W[1]=Y=>u.value.respiratoryRate=Y),rules:C,suffix:"breaths/min",hint:"Normal range: 12-20 breaths/min","persistent-hint":"",clearable:""},null,8,["modelValue"])]),_:1},8,["cols","class"])):Be("",!0)]),_:1}),h.value?(V(),he(U,{key:0,"no-gutters":""},{default:d(()=>[l(K,{cols:"6",class:"pr-1"},{default:d(()=>[l(ne,{label:"Systolic BP",density:"compact",type:"number",modelValue:u.value.systolicBP,"onUpdate:modelValue":W[2]||(W[2]=Y=>u.value.systolicBP=Y),rules:C,suffix:"mmHg",hint:"Normal: 90-120","persistent-hint":"",clearable:""},null,8,["modelValue"])]),_:1}),l(K,{cols:"6",class:"pl-1"},{default:d(()=>[l(ne,{label:"Diastolic BP",density:"compact",type:"number",modelValue:u.value.diastolicBP,"onUpdate:modelValue":W[3]||(W[3]=Y=>u.value.diastolicBP=Y),rules:C,suffix:"mmHg",hint:"Normal: 60-80","persistent-hint":"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})):Be("",!0),l(U,{"no-gutters":""},{default:d(()=>[b.value?(V(),he(K,{key:0,cols:"6",class:"pr-1"},{default:d(()=>[l(ne,{label:"Weight",density:"compact",type:"number",modelValue:u.value.weight,"onUpdate:modelValue":W[4]||(W[4]=Y=>u.value.weight=Y),rules:C,suffix:"kg",clearable:""},null,8,["modelValue"])]),_:1})):Be("",!0),B.value?(V(),he(K,{key:1,cols:b.value?6:12,class:rt(b.value?"pl-1":"")},{default:d(()=>[l(ne,{label:"Height",density:"compact",type:"number",modelValue:u.value.height,"onUpdate:modelValue":W[5]||(W[5]=Y=>u.value.height=Y),rules:C,suffix:"cm",clearable:""},null,8,["modelValue"])]),_:1},8,["cols","class"])):Be("",!0)]),_:1}),y.value?(V(),he(U,{key:1,"no-gutters":""},{default:d(()=>[l(K,{cols:"6",class:"pr-1"},{default:d(()=>[l(ne,{label:"Temperature",density:"compact",type:"number",step:"0.1",modelValue:u.value.temperature,"onUpdate:modelValue":W[6]||(W[6]=Y=>u.value.temperature=Y),rules:F,suffix:"C",hint:"Normal range: 36.1-37.2C","persistent-hint":"",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})):Be("",!0),_.value?(V(),he(U,{key:2,"no-gutters":"",class:"mt-4"},{default:d(()=>[l(K,{cols:"12"},{default:d(()=>[l(X,{class:"text-subtitle-2 font-weight-medium pa-0 mb-2"},{default:d(()=>[...W[14]||(W[14]=[Q("Blood Chemistry",-1)])]),_:1})]),_:1})]),_:1})):Be("",!0),S.value||E.value?(V(),he(U,{key:3,"no-gutters":""},{default:d(()=>[S.value?(V(),he(K,{key:0,cols:E.value?6:12,class:rt(E.value?"pr-1":"")},{default:d(()=>[l(ne,{label:"Serum Bilirubin",density:"compact",type:"number",step:"0.1",modelValue:u.value.serumBilirubin,"onUpdate:modelValue":W[7]||(W[7]=Y=>u.value.serumBilirubin=Y),rules:I,suffix:"mg/dL",hint:"Normal range: 0.2-1.2 mg/dL","persistent-hint":"",clearable:""},null,8,["modelValue"])]),_:1},8,["cols","class"])):Be("",!0),E.value?(V(),he(K,{key:1,cols:S.value?6:12,class:rt(S.value?"pl-1":"")},{default:d(()=>[l(ne,{label:"Serum Creatinine",density:"compact",type:"number",step:"0.1",modelValue:u.value.serumCreatinine,"onUpdate:modelValue":W[8]||(W[8]=Y=>u.value.serumCreatinine=Y),rules:M,suffix:"mg/dL",hint:"Normal range: 0.7-1.3 mg/dL","persistent-hint":"",clearable:""},null,8,["modelValue"])]),_:1},8,["cols","class"])):Be("",!0)]),_:1})):Be("",!0),T.value||N.value||k.value?(V(),he(U,{key:4,"no-gutters":"",class:"mt-2"},{default:d(()=>[T.value?(V(),he(K,{key:0,cols:"4",class:"pr-1"},{default:d(()=>[l(ne,{label:"Blood Glucose (FF)",density:"compact",type:"number",modelValue:u.value.bloodGlucoseFF,"onUpdate:modelValue":W[9]||(W[9]=Y=>u.value.bloodGlucoseFF=Y),rules:R,suffix:"mg/dL",hint:"Normal: 70-100 mg/dL","persistent-hint":"",clearable:""},null,8,["modelValue"])]),_:1})):Be("",!0),N.value?(V(),he(K,{key:1,cols:"4",class:rt([T.value?"px-1":"pr-1",k.value?"":"pl-0"])},{default:d(()=>[l(ne,{label:"Blood Glucose (PP)",density:"compact",type:"number",modelValue:u.value.bloodGlucosePP,"onUpdate:modelValue":W[10]||(W[10]=Y=>u.value.bloodGlucosePP=Y),rules:R,suffix:"mg/dL",hint:"Normal: <140 mg/dL","persistent-hint":"",clearable:""},null,8,["modelValue"])]),_:1},8,["class"])):Be("",!0),k.value?(V(),he(K,{key:2,cols:"4",class:"pl-1"},{default:d(()=>[l(ne,{label:"Blood Glucose (Random)",density:"compact",type:"number",modelValue:u.value.bloodGlucoseRandom,"onUpdate:modelValue":W[11]||(W[11]=Y=>u.value.bloodGlucoseRandom=Y),rules:R,suffix:"mg/dL",hint:"Normal: <200 mg/dL","persistent-hint":"",clearable:""},null,8,["modelValue"])]),_:1})):Be("",!0)]),_:1})):Be("",!0),l(oe,{class:"mt-3"}),l(U,{"no-gutters":""},{default:d(()=>[l(K,{cols:"2"}),l(K,{cols:"8",class:"mt-3 d-flex justify-center gap-2"},{default:d(()=>[l(j,{variant:"outlined",onClick:te},{default:d(()=>[...W[15]||(W[15]=[Q("Cancel",-1)])]),_:1}),l(j,{variant:"elevated",color:"primary",onClick:se,disabled:!m.value,loading:o.value},{default:d(()=>[Q(J(f.value?"Update":"Save"),1)]),_:1},8,["disabled","loading"])]),_:1}),l(K,{cols:"2"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},mxe=on(fxe,[["__scopeId","data-v-7bcda799"]]),hxe={key:0,class:"d-flex justify-center align-center",style:{height:"200px"}},vxe={key:1,class:"text-center pa-4"},pxe={class:"text-error"},gxe={key:2,class:"text-center pa-4"},yxe={key:3},wxe={class:"font-weight-medium"},_xe={key:1,class:"text-grey"},bxe={key:1,class:"text-grey"},xxe={key:1,class:"text-grey"},Cxe={key:1,class:"text-grey"},Exe={key:0,class:"font-weight-medium"},Bxe={key:1,class:"text-grey"},Sxe={key:0,class:"font-weight-medium"},kxe={key:1,class:"text-grey"},Ixe={key:1,class:"text-grey"},Txe={key:1,class:"text-grey"},Fxe={key:1,class:"text-grey"},Pxe={key:1,class:"text-grey"},Dxe={key:1,class:"text-grey"},Uxe={__name:"vitals-trends",props:{patientId:{type:[String,Number],required:!0},patientName:{type:String,default:"Patient"}},emits:["close"],setup(e){const t=e,n=pr(),r=H([]),a=H(!1),s=H(null),o=Z(()=>n.state.doctorModule.doctorId),i=H({}),c=()=>{const w=o.value;w&&(i.value=Ck(w),console.log("Loaded vitals preferences for trends:",i.value))},A=[{title:"Date",key:"date",width:"120px",alwaysShow:!0},{title:"Pulse",key:"pulse",width:"100px",vitalKey:"pulse"},{title:"Blood Pressure",key:"bloodPressure",width:"140px",vitalKey:"bloodPressure"},{title:"Temperature",key:"temperature",width:"120px",vitalKey:"temperature"},{title:"Respiratory Rate",key:"respiratoryRate",width:"140px",vitalKey:"respiratoryRate"},{title:"Weight",key:"weight",width:"100px",alwaysShow:!0},{title:"Height",key:"height",width:"100px",vitalKey:"height"},{title:"Serum Bilirubin",key:"serumBilirubin",width:"140px",vitalKey:"serumBilirubin"},{title:"Blood Glucose FF",key:"bloodGlucoseFF",width:"140px",vitalKey:"bloodGlucoseFF"},{title:"Blood Glucose PP",key:"bloodGlucosePP",width:"140px",vitalKey:"bloodGlucosePP"},{title:"Blood Glucose Random",key:"bloodGlucoseRandom",width:"160px",vitalKey:"bloodGlucoseRandom"},{title:"Serum Creatinine",key:"serumCreatinine",width:"140px",vitalKey:"serumCreatinine"}],u=Z(()=>A.filter(w=>{if(w.alwaysShow)return!0;const b=w.vitalKey;return i.value[b]===!0})),f=Z(()=>r.value.map(w=>({date:w.createdAt,pulse:w.pulse,systolicBP:w.systolicBP,diastolicBP:w.diastolicBP,temperature:w.temperature,respiratoryRate:w.respiratoryRate,weight:w.weight,height:w.height,bloodPressure:w.systolicBP&&w.diastolicBP?`${w.systolicBP}/${w.diastolicBP}`:null,serumBilirubin:w.serumBilirubin,bloodGlucoseFF:w.bloodGlucoseFF,bloodGlucosePP:w.bloodGlucosePP,bloodGlucoseRandom:w.bloodGlucoseRandom,serumCreatinine:w.serumCreatinine}))),m=async()=>{if(!t.patientId){s.value="Patient ID is required";return}a.value=!0,s.value=null;try{const w=await lO(t.patientId,50,0);if(w.error)throw new Error(w.error.message||"Failed to fetch vitals history");r.value=w.data||[]}catch(w){console.error("Error fetching vitals history:",w),s.value=w.message||"Failed to fetch vitals history"}finally{a.value=!1}},v=w=>{if(!w)return"";try{return ls(w)}catch(b){return console.error("Error formatting date:",w,b),w||""}},h=(w,b)=>{const B=fy(w,b);return B.isNormal===null?"grey":B.isNormal?"success":"warning"},y=(w,b)=>{const B=fy("systolicBP",w),S=fy("diastolicBP",b);return B.isNormal===null||S.isNormal===null?"grey":B.isNormal&&S.isNormal?"success":"warning"};return fn(()=>{c(),m()}),(w,b)=>{const B=D("v-card-title"),S=D("v-col"),T=D("v-icon"),N=D("v-btn"),k=D("v-row"),E=D("v-card"),_=D("v-progress-circular"),C=D("v-chip"),F=D("v-data-table");return V(),he(E,{rounded:"lg",color:"surfaceContainer"},{default:d(()=>[l(k,{"no-gutters":""},{default:d(()=>[l(S,{cols:"12"},{default:d(()=>[l(E,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(k,{"no-gutters":""},{default:d(()=>[l(S,{cols:"11"},{default:d(()=>[l(B,{class:"pa-0 pl-2"},{default:d(()=>[Q("Vitals Trends - "+J(e.patientName),1)]),_:1})]),_:1}),l(S,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(N,{icon:"",size:"x-small",onClick:b[0]||(b[0]=I=>w.$emit("close"))},{default:d(()=>[l(T,null,{default:d(()=>[...b[1]||(b[1]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(k,{"no-gutters":""},{default:d(()=>[l(S,{cols:"12"},{default:d(()=>[l(E,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[a.value?(V(),ye("div",hxe,[l(_,{indeterminate:"",color:"primary"})])):s.value?(V(),ye("div",vxe,[l(T,{color:"error",size:"48",class:"mb-2"},{default:d(()=>[...b[2]||(b[2]=[Q("mdi-alert-circle",-1)])]),_:1}),p("p",pxe,J(s.value),1),l(N,{onClick:m,color:"primary",variant:"outlined"},{default:d(()=>[...b[3]||(b[3]=[Q(" Try Again ",-1)])]),_:1})])):!r.value||r.value.length===0?(V(),ye("div",gxe,[l(T,{color:"grey",size:"48",class:"mb-2"},{default:d(()=>[...b[4]||(b[4]=[Q("mdi-chart-line-variant",-1)])]),_:1}),b[5]||(b[5]=p("p",{class:"text-grey"},"No vitals history found for this patient",-1))])):(V(),ye("div",yxe,[l(F,{headers:u.value,items:f.value,"items-per-page":10,class:"elevation-1",density:"compact"},gm({"item.date":d(({item:I})=>[p("span",wxe,J(v(I.date)),1)]),"item.weight":d(({item:I})=>[I.weight?(V(),ye("span",Exe,J(We(ba)(I.weight,"kg")),1)):(V(),ye("span",Bxe,"-"))]),_:2},[i.value.pulse?{name:"item.pulse",fn:d(({item:I})=>[I.pulse?(V(),he(C,{key:0,color:h("pulse",I.pulse),size:"small",variant:"tonal"},{default:d(()=>[Q(J(We(ba)(I.pulse,"bpm")),1)]),_:2},1032,["color"])):(V(),ye("span",_xe,"-"))]),key:"0"}:void 0,i.value.bloodPressure?{name:"item.bloodPressure",fn:d(({item:I})=>[I.systolicBP&&I.diastolicBP?(V(),he(C,{key:0,color:y(I.systolicBP,I.diastolicBP),size:"small",variant:"tonal"},{default:d(()=>[Q(J(I.systolicBP)+"/"+J(I.diastolicBP)+" mmHg ",1)]),_:2},1032,["color"])):(V(),ye("span",bxe,"-"))]),key:"1"}:void 0,i.value.temperature?{name:"item.temperature",fn:d(({item:I})=>[I.temperature?(V(),he(C,{key:0,color:h("temperature",I.temperature),size:"small",variant:"tonal"},{default:d(()=>[Q(J(We(ba)(I.temperature,"C")),1)]),_:2},1032,["color"])):(V(),ye("span",xxe,"-"))]),key:"2"}:void 0,i.value.respiratoryRate?{name:"item.respiratoryRate",fn:d(({item:I})=>[I.respiratoryRate?(V(),he(C,{key:0,color:h("respiratoryRate",I.respiratoryRate),size:"small",variant:"tonal"},{default:d(()=>[Q(J(We(ba)(I.respiratoryRate,"breaths/min")),1)]),_:2},1032,["color"])):(V(),ye("span",Cxe,"-"))]),key:"3"}:void 0,i.value.height?{name:"item.height",fn:d(({item:I})=>[I.height?(V(),ye("span",Sxe,J(We(ba)(I.height,"cm")),1)):(V(),ye("span",kxe,"-"))]),key:"4"}:void 0,i.value.serumBilirubin?{name:"item.serumBilirubin",fn:d(({item:I})=>[I.serumBilirubin?(V(),he(C,{key:0,color:h("serumBilirubin",I.serumBilirubin),size:"small",variant:"tonal"},{default:d(()=>[Q(J(We(ba)(I.serumBilirubin,"mg/dL")),1)]),_:2},1032,["color"])):(V(),ye("span",Ixe,"-"))]),key:"5"}:void 0,i.value.bloodGlucoseFF?{name:"item.bloodGlucoseFF",fn:d(({item:I})=>[I.bloodGlucoseFF?(V(),he(C,{key:0,color:h("bloodGlucoseFF",I.bloodGlucoseFF),size:"small",variant:"tonal"},{default:d(()=>[Q(J(We(ba)(I.bloodGlucoseFF,"mg/dL")),1)]),_:2},1032,["color"])):(V(),ye("span",Txe,"-"))]),key:"6"}:void 0,i.value.bloodGlucosePP?{name:"item.bloodGlucosePP",fn:d(({item:I})=>[I.bloodGlucosePP?(V(),he(C,{key:0,color:h("bloodGlucosePP",I.bloodGlucosePP),size:"small",variant:"tonal"},{default:d(()=>[Q(J(We(ba)(I.bloodGlucosePP,"mg/dL")),1)]),_:2},1032,["color"])):(V(),ye("span",Fxe,"-"))]),key:"7"}:void 0,i.value.bloodGlucoseRandom?{name:"item.bloodGlucoseRandom",fn:d(({item:I})=>[I.bloodGlucoseRandom?(V(),he(C,{key:0,color:h("bloodGlucoseRandom",I.bloodGlucoseRandom),size:"small",variant:"tonal"},{default:d(()=>[Q(J(We(ba)(I.bloodGlucoseRandom,"mg/dL")),1)]),_:2},1032,["color"])):(V(),ye("span",Pxe,"-"))]),key:"8"}:void 0,i.value.serumCreatinine?{name:"item.serumCreatinine",fn:d(({item:I})=>[I.serumCreatinine?(V(),he(C,{key:0,color:h("serumCreatinine",I.serumCreatinine),size:"small",variant:"tonal"},{default:d(()=>[Q(J(We(ba)(I.serumCreatinine,"mg/dL")),1)]),_:2},1032,["color"])):(V(),ye("span",Dxe,"-"))]),key:"9"}:void 0]),1032,["headers","items"])]))]),_:1})]),_:1})]),_:1})]),_:1})}}},Rxe=on(Uxe,[["__scopeId","data-v-145a88d7"]]),Nxe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M21,17H7V3H21M21,1H7A2,2%200%200,0%205,3V17A2,2%200%200,0%207,19H21A2,2%200%200,0%2023,17V3A2,2%200%200,0%2021,1M3,5H1V21A2,2%200%200,0%203,23H19V21H3M15.96,10.29L13.21,13.83L11.25,11.47L8.5,15H19.5L15.96,10.29Z'%20/%3e%3c/svg%3e",gi={MAX_FILE_SIZE:25*1024*1024,MAX_FILES:15,ACCEPTED_IMAGE_TYPES:["image/jpeg","image/jpg","image/png","image/gif","image/bmp","image/webp"],ACCEPTED_DOCUMENT_TYPES:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","text/csv"],ACCEPTED_VIDEO_TYPES:["video/mp4","video/avi","video/mov","video/wmv"]},dm=e=>{if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]},Lxe=e=>gi.ACCEPTED_IMAGE_TYPES.includes(e)?"image":gi.ACCEPTED_DOCUMENT_TYPES.includes(e)?"document":gi.ACCEPTED_VIDEO_TYPES.includes(e)?"video":"other",Vxe=e=>{if(e.size>gi.MAX_FILE_SIZE)return{success:!1,error:`File "${e.name}" is too large. Maximum size is ${dm(gi.MAX_FILE_SIZE)}. Current size: ${dm(e.size)}`,type:"file_size"};const t=Lxe(e.type);return t==="other"?{success:!1,error:`File "${e.name}" has unsupported file type: ${e.type}. Please use medical image formats (JPEG, PNG, etc.) or documents (PDF, Word, etc.)`,type:"file_type"}:{success:!0,file:e,category:t,size:e.size,formattedSize:dm(e.size)}},Mxe=e=>{const t=Array.from(e||[]);if(t.length>gi.MAX_FILES)return{success:!1,error:`Too many files selected. Maximum allowed: ${gi.MAX_FILES}. Selected: ${t.length}`,type:"file_count",validFiles:[],errors:[]};const n=[],r=[];let a=0;t.forEach((o,i)=>{const c=Vxe(o);c.success?(n.push({file:o,index:i,category:c.category,size:c.size,formattedSize:c.formattedSize}),a+=o.size):r.push({index:i,fileName:o.name,error:c.error,type:c.type})});const s={totalFiles:t.length,validFiles:n.length,invalidFiles:r.length,totalSize:a,formattedTotalSize:dm(a),categories:{}};return n.forEach(o=>{s.categories[o.category]=(s.categories[o.category]||0)+1}),{success:r.length===0,validFiles:n,errors:r,summary:s,hasWarnings:n.length>0&&r.length>0}},Oxe=e=>{const t=[];if(e.success){const{summary:n}=e;t.push({type:"success",title:"Files Ready for Upload",message:`${n.validFiles} file(s) selected (${n.formattedTotalSize})`});const r=Object.keys(n.categories);if(r.length>1){const a=r.map(s=>`${n.categories[s]} ${s}${n.categories[s]>1?"s":""}`).join(", ");t.push({type:"info",title:"File Types",message:a})}}else e.hasWarnings?t.push({type:"warning",title:"Some Files Cannot Be Uploaded",message:`${e.validFiles.length} valid, ${e.errors.length} invalid`}):t.push({type:"error",title:"Upload Not Possible",message:"All selected files have validation errors"});return e.errors.forEach(n=>{t.push({type:"error",title:n.fileName,message:n.error})}),t},Qxe=()=>({limits:{maxFiles:gi.MAX_FILES,maxFileSize:dm(gi.MAX_FILE_SIZE),maxFileSizeBytes:gi.MAX_FILE_SIZE},acceptedTypes:{images:"JPEG, PNG, GIF, BMP, WebP",documents:"PDF, Word documents, Text files",videos:"MP4, AVI, MOV, WMV"},recommendations:["For medical images: Use high-quality JPEG or PNG format","For X-rays and scans: Ensure images are clear and properly oriented","For documents: PDF format is preferred for reports and forms","Compress large files if possible while maintaining medical image quality"],warnings:[`Files larger than ${dm(gi.MAX_FILE_SIZE)} will be rejected`,`Maximum ${gi.MAX_FILES} files can be uploaded at once`,"Unsupported file types will be automatically filtered out"]});function Hxe(e,t){return t.forEach((function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach((function(r){if(r!=="default"&&!(r in e)){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}}))})),Object.freeze(e)}function dO(e,t){return new Promise((function(n,r){let a;return Kxe(e).then((function(s){try{return a=s,n(new Blob([t.slice(0,2),a,t.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}}),r)}))}const Kxe=e=>new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(({target:{result:a}})=>{const s=new DataView(a);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const i=s.getUint16(o);if(i===65498)break;const c=s.getUint16(o+2);if(i===65505&&s.getUint32(o+4)===1165519206){const A=o+10;let u;switch(s.getUint16(A)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(A+2,u)!==42)return n("TIFF header contains invalid version");const f=s.getUint32(A+4,u),m=A+f+2+12*s.getUint16(A+f,u);for(let v=A+f+2;v<m;v+=12)if(s.getUint16(v,u)==274){if(s.getUint16(v+2,u)!==3)return n("Orientation data type is invalid");if(s.getUint32(v+4,u)!==1)return n("Orientation data count is invalid");s.setUint16(v+8,1,u);break}return t(a.slice(o,o+2+c))}o+=2+c}return t(new Blob)})),r.readAsArrayBuffer(e)}));var u2={},Gxe={get exports(){return u2},set exports(e){u2=e}};(function(e){var t,n,r={};Gxe.exports=r,r.parse=function(a,s){for(var o=r.bin.readUshort,i=r.bin.readUint,c=0,A={},u=new Uint8Array(a),f=u.length-4;i(u,f)!=101010256;)f--;c=f,c+=4;var m=o(u,c+=4);o(u,c+=2);var v=i(u,c+=2),h=i(u,c+=4);c+=4,c=h;for(var y=0;y<m;y++){i(u,c),c+=4,c+=4,c+=4,i(u,c+=4),v=i(u,c+=4);var w=i(u,c+=4),b=o(u,c+=4),B=o(u,c+2),S=o(u,c+4);c+=6;var T=i(u,c+=8);c+=4,c+=b+B+S,r._readLocal(u,T,A,v,w,s)}return A},r._readLocal=function(a,s,o,i,c,A){var u=r.bin.readUshort,f=r.bin.readUint;f(a,s),u(a,s+=4),u(a,s+=2);var m=u(a,s+=2);f(a,s+=2),f(a,s+=4),s+=4;var v=u(a,s+=8),h=u(a,s+=2);s+=2;var y=r.bin.readUTF8(a,s,v);if(s+=v,s+=h,A)o[y]={size:c,csize:i};else{var w=new Uint8Array(a.buffer,s);if(m==0)o[y]=new Uint8Array(w.buffer.slice(s,s+i));else{if(m!=8)throw"unknown compression method: "+m;var b=new Uint8Array(c);r.inflateRaw(w,b),o[y]=b}}},r.inflateRaw=function(a,s){return r.F.inflate(a,s)},r.inflate=function(a,s){return a[0],a[1],r.inflateRaw(new Uint8Array(a.buffer,a.byteOffset+2,a.length-6),s)},r.deflate=function(a,s){s==null&&(s={level:6});var o=0,i=new Uint8Array(50+Math.floor(1.1*a.length));i[o]=120,i[o+1]=156,o+=2,o=r.F.deflateRaw(a,i,o,s.level);var c=r.adler(a,0,a.length);return i[o+0]=c>>>24&255,i[o+1]=c>>>16&255,i[o+2]=c>>>8&255,i[o+3]=c>>>0&255,new Uint8Array(i.buffer,0,o+4)},r.deflateRaw=function(a,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*a.length)),i=r.F.deflateRaw(a,o,i,s.level);return new Uint8Array(o.buffer,0,i)},r.encode=function(a,s){s==null&&(s=!1);var o=0,i=r.bin.writeUint,c=r.bin.writeUshort,A={};for(var u in a){var f=!r._noNeed(u)&&!s,m=a[u],v=r.crc.crc(m,0,m.length);A[u]={cpr:f,usize:m.length,crc:v,file:f?r.deflateRaw(m):m}}for(var u in A)o+=A[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var h=new Uint8Array(o),y=0,w=[];for(var u in A){var b=A[u];w.push(y),y=r._writeHeader(h,y,u,b,0)}var B=0,S=y;for(var u in A)b=A[u],w.push(y),y=r._writeHeader(h,y,u,b,1,w[B++]);var T=y-S;return i(h,y,101010256),y+=4,c(h,y+=4,B),c(h,y+=2,B),i(h,y+=2,T),i(h,y+=4,S),y+=4,y+=2,h.buffer},r._noNeed=function(a){var s=a.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(a,s,o,i,c,A){var u=r.bin.writeUint,f=r.bin.writeUshort,m=i.file;return u(a,s,c==0?67324752:33639248),s+=4,c==1&&(s+=2),f(a,s,20),f(a,s+=2,0),f(a,s+=2,i.cpr?8:0),u(a,s+=2,0),u(a,s+=4,i.crc),u(a,s+=4,m.length),u(a,s+=4,i.usize),f(a,s+=4,r.bin.sizeUTF8(o)),f(a,s+=2,0),s+=2,c==1&&(s+=2,s+=2,u(a,s+=6,A),s+=4),s+=r.bin.writeUTF8(a,s,o),c==0&&(a.set(m,s),s+=m.length),s},r.crc={table:(function(){for(var a=new Uint32Array(256),s=0;s<256;s++){for(var o=s,i=0;i<8;i++)1&o?o=3988292384^o>>>1:o>>>=1;a[s]=o}return a})(),update:function(a,s,o,i){for(var c=0;c<i;c++)a=r.crc.table[255&(a^s[o+c])]^a>>>8;return a},crc:function(a,s,o){return 4294967295^r.crc.update(4294967295,a,s,o)}},r.adler=function(a,s,o){for(var i=1,c=0,A=s,u=s+o;A<u;){for(var f=Math.min(A+5552,u);A<f;)c+=i+=a[A++];i%=65521,c%=65521}return c<<16|i},r.bin={readUshort:function(a,s){return a[s]|a[s+1]<<8},writeUshort:function(a,s,o){a[s]=255&o,a[s+1]=o>>8&255},readUint:function(a,s){return 16777216*a[s+3]+(a[s+2]<<16|a[s+1]<<8|a[s])},writeUint:function(a,s,o){a[s]=255&o,a[s+1]=o>>8&255,a[s+2]=o>>16&255,a[s+3]=o>>24&255},readASCII:function(a,s,o){for(var i="",c=0;c<o;c++)i+=String.fromCharCode(a[s+c]);return i},writeASCII:function(a,s,o){for(var i=0;i<o.length;i++)a[s+i]=o.charCodeAt(i)},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,s,o){for(var i,c="",A=0;A<o;A++)c+="%"+r.bin.pad(a[s+A].toString(16));try{i=decodeURIComponent(c)}catch{return r.bin.readASCII(a,s,o)}return i},writeUTF8:function(a,s,o){for(var i=o.length,c=0,A=0;A<i;A++){var u=o.charCodeAt(A);if((4294967168&u)==0)a[s+c]=u,c++;else if((4294965248&u)==0)a[s+c]=192|u>>6,a[s+c+1]=128|u>>0&63,c+=2;else if((4294901760&u)==0)a[s+c]=224|u>>12,a[s+c+1]=128|u>>6&63,a[s+c+2]=128|u>>0&63,c+=3;else{if((4292870144&u)!=0)throw"e";a[s+c]=240|u>>18,a[s+c+1]=128|u>>12&63,a[s+c+2]=128|u>>6&63,a[s+c+3]=128|u>>0&63,c+=4}}return c},sizeUTF8:function(a){for(var s=a.length,o=0,i=0;i<s;i++){var c=a.charCodeAt(i);if((4294967168&c)==0)o++;else if((4294965248&c)==0)o+=2;else if((4294901760&c)==0)o+=3;else{if((4292870144&c)!=0)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(a,s,o,i){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],A=r.F.U,u=r.F._goodIndex;r.F._hash;var f=r.F._putsE,m=0,v=o<<3,h=0,y=a.length;if(i==0){for(;m<y;)f(s,v,m+(I=Math.min(65535,y-m))==y?1:0),v=r.F._copyExact(a,m,I,s,v+8),m+=I;return v>>>3}var w=A.lits,b=A.strt,B=A.prev,S=0,T=0,N=0,k=0,E=0,_=0;for(y>2&&(b[_=r.F._hash(a,0)]=0),m=0;m<y;m++){if(E=_,m+1<y-2){_=r.F._hash(a,m+1);var C=m+1&32767;B[C]=b[_],b[_]=C}if(h<=m){(S>14e3||T>26697)&&y-m>100&&(h<m&&(w[S]=m-h,S+=2,h=m),v=r.F._writeBlock(m==y-1||h==y?1:0,w,S,k,a,N,m-N,s,v),S=T=k=0,N=m);var F=0;m<y-2&&(F=r.F._bestMatch(a,m,B,E,Math.min(c[2],y-m),c[3]));var I=F>>>16,R=65535&F;if(F!=0){R=65535&F;var M=u(I=F>>>16,A.of0);A.lhst[257+M]++;var te=u(R,A.df0);A.dhst[te]++,k+=A.exb[M]+A.dxb[te],w[S]=I<<23|m-h,w[S+1]=R<<16|M<<8|te,S+=2,h=m+I}else A.lhst[a[m]]++;T++}}for(N==m&&a.length!=0||(h<m&&(w[S]=m-h,S+=2,h=m),v=r.F._writeBlock(1,w,S,k,a,N,m-N,s,v),S=0,T=0,S=T=k=0,N=m);(7&v)!=0;)v++;return v>>>3},r.F._bestMatch=function(a,s,o,i,c,A){var u=32767&s,f=o[u],m=u-f+32768&32767;if(f==u||i!=r.F._hash(a,s-m))return 0;for(var v=0,h=0,y=Math.min(32767,s);m<=y&&--A!=0&&f!=u;){if(v==0||a[s+v]==a[s+v-m]){var w=r.F._howLong(a,s,m);if(w>v){if(h=m,(v=w)>=c)break;m+2<w&&(w=m+2);for(var b=0,B=0;B<w-2;B++){var S=s-m+B+32768&32767,T=S-o[S]+32768&32767;T>b&&(b=T,f=S)}}}m+=(u=f)-(f=o[u])+32768&32767}return v<<16|h},r.F._howLong=function(a,s,o){if(a[s]!=a[s-o]||a[s+1]!=a[s+1-o]||a[s+2]!=a[s+2-o])return 0;var i=s,c=Math.min(a.length,s+258);for(s+=3;s<c&&a[s]==a[s-o];)s++;return s-i},r.F._hash=function(a,s){return(a[s]<<8|a[s+1])+(a[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(a,s,o,i,c,A,u,f,m){var v,h,y,w,b,B,S,T,N,k=r.F.U,E=r.F._putsF,_=r.F._putsE;k.lhst[256]++,h=(v=r.F.getTrees())[0],y=v[1],w=v[2],b=v[3],B=v[4],S=v[5],T=v[6],N=v[7];var C=32+((m+3&7)==0?0:8-(m+3&7))+(u<<3),F=i+r.F.contSize(k.fltree,k.lhst)+r.F.contSize(k.fdtree,k.dhst),I=i+r.F.contSize(k.ltree,k.lhst)+r.F.contSize(k.dtree,k.dhst);I+=14+3*S+r.F.contSize(k.itree,k.ihst)+(2*k.ihst[16]+3*k.ihst[17]+7*k.ihst[18]);for(var R=0;R<286;R++)k.lhst[R]=0;for(R=0;R<30;R++)k.dhst[R]=0;for(R=0;R<19;R++)k.ihst[R]=0;var M=C<F&&C<I?0:F<I?1:2;if(E(f,m,a),E(f,m+1,M),m+=3,M==0){for(;(7&m)!=0;)m++;m=r.F._copyExact(c,A,u,f,m)}else{var te,se;if(M==1&&(te=k.fltree,se=k.fdtree),M==2){r.F.makeCodes(k.ltree,h),r.F.revCodes(k.ltree,h),r.F.makeCodes(k.dtree,y),r.F.revCodes(k.dtree,y),r.F.makeCodes(k.itree,w),r.F.revCodes(k.itree,w),te=k.ltree,se=k.dtree,_(f,m,b-257),_(f,m+=5,B-1),_(f,m+=5,S-4),m+=4;for(var O=0;O<S;O++)_(f,m+3*O,k.itree[1+(k.ordr[O]<<1)]);m+=3*S,m=r.F._codeTiny(T,k.itree,f,m),m=r.F._codeTiny(N,k.itree,f,m)}for(var W=A,le=0;le<o;le+=2){for(var K=s[le],ee=K>>>23,j=W+(8388607&K);W<j;)m=r.F._writeLit(c[W++],te,f,m);if(ee!=0){var U=s[le+1],G=U>>16,ne=U>>8&255,X=255&U;_(f,m=r.F._writeLit(257+ne,te,f,m),ee-k.of0[ne]),m+=k.exb[ne],E(f,m=r.F._writeLit(X,se,f,m),G-k.df0[X]),m+=k.dxb[X],W+=ee}}m=r.F._writeLit(256,te,f,m)}return m},r.F._copyExact=function(a,s,o,i,c){var A=c>>>3;return i[A]=o,i[A+1]=o>>>8,i[A+2]=255-i[A],i[A+3]=255-i[A+1],A+=4,i.set(new Uint8Array(a.buffer,s,o),A),c+(o+4<<3)},r.F.getTrees=function(){for(var a=r.F.U,s=r.F._hufTree(a.lhst,a.ltree,15),o=r.F._hufTree(a.dhst,a.dtree,15),i=[],c=r.F._lenCodes(a.ltree,i),A=[],u=r.F._lenCodes(a.dtree,A),f=0;f<i.length;f+=2)a.ihst[i[f]]++;for(f=0;f<A.length;f+=2)a.ihst[A[f]]++;for(var m=r.F._hufTree(a.ihst,a.itree,7),v=19;v>4&&a.itree[1+(a.ordr[v-1]<<1)]==0;)v--;return[s,o,m,c,u,v,i,A]},r.F.getSecond=function(a){for(var s=[],o=0;o<a.length;o+=2)s.push(a[o+1]);return s},r.F.nonZero=function(a){for(var s="",o=0;o<a.length;o+=2)a[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(a,s){for(var o=0,i=0;i<s.length;i++)o+=s[i]*a[1+(i<<1)];return o},r.F._codeTiny=function(a,s,o,i){for(var c=0;c<a.length;c+=2){var A=a[c],u=a[c+1];i=r.F._writeLit(A,s,o,i);var f=A==16?2:A==17?3:7;A>15&&(r.F._putsE(o,i,u,f),i+=f)}return i},r.F._lenCodes=function(a,s){for(var o=a.length;o!=2&&a[o-1]==0;)o-=2;for(var i=0;i<o;i+=2){var c=a[i+1],A=i+3<o?a[i+3]:-1,u=i+5<o?a[i+5]:-1,f=i==0?-1:a[i-1];if(c==0&&A==c&&u==c){for(var m=i+5;m+2<o&&a[m+2]==c;)m+=2;(v=Math.min(m+1-i>>>1,138))<11?s.push(17,v-3):s.push(18,v-11),i+=2*v-2}else if(c==f&&A==c&&u==c){for(m=i+5;m+2<o&&a[m+2]==c;)m+=2;var v=Math.min(m+1-i>>>1,6);s.push(16,v-3),i+=2*v-2}else s.push(c,0)}return o>>>1},r.F._hufTree=function(a,s,o){var i=[],c=a.length,A=s.length,u=0;for(u=0;u<A;u+=2)s[u]=0,s[u+1]=0;for(u=0;u<c;u++)a[u]!=0&&i.push({lit:u,f:a[u]});var f=i.length,m=i.slice(0);if(f==0)return 0;if(f==1){var v=i[0].lit;return m=v==0?1:0,s[1+(v<<1)]=1,s[1+(m<<1)]=1,1}i.sort((function(T,N){return T.f-N.f}));var h=i[0],y=i[1],w=0,b=1,B=2;for(i[0]={lit:-1,f:h.f+y.f,l:h,r:y,d:0};b!=f-1;)h=w!=b&&(B==f||i[w].f<i[B].f)?i[w++]:i[B++],y=w!=b&&(B==f||i[w].f<i[B].f)?i[w++]:i[B++],i[b++]={lit:-1,f:h.f+y.f,l:h,r:y};var S=r.F.setDepth(i[b-1],0);for(S>o&&(r.F.restrictDepth(m,o,S),S=o),u=0;u<f;u++)s[1+(m[u].lit<<1)]=m[u].d;return S},r.F.setDepth=function(a,s){return a.lit!=-1?(a.d=s,s):Math.max(r.F.setDepth(a.l,s+1),r.F.setDepth(a.r,s+1))},r.F.restrictDepth=function(a,s,o){var i=0,c=1<<o-s,A=0;for(a.sort((function(f,m){return m.d==f.d?f.f-m.f:m.d-f.d})),i=0;i<a.length&&a[i].d>s;i++){var u=a[i].d;a[i].d=s,A+=c-(1<<o-u)}for(A>>>=o-s;A>0;)(u=a[i].d)<s?(a[i].d++,A-=1<<s-u-1):i++;for(;i>=0;i--)a[i].d==s&&A<0&&(a[i].d--,A++);A!=0&&console.log("debt left")},r.F._goodIndex=function(a,s){var o=0;return s[16|o]<=a&&(o|=16),s[8|o]<=a&&(o|=8),s[4|o]<=a&&(o|=4),s[2|o]<=a&&(o|=2),s[1|o]<=a&&(o|=1),o},r.F._writeLit=function(a,s,o,i){return r.F._putsF(o,i,s[a<<1]),i+s[1+(a<<1)]},r.F.inflate=function(a,s){var o=Uint8Array;if(a[0]==3&&a[1]==0)return s||new o(0);var i=r.F,c=i._bitsF,A=i._bitsE,u=i._decodeTiny,f=i.makeCodes,m=i.codes2map,v=i._get17,h=i.U,y=s==null;y&&(s=new o(a.length>>>2<<3));for(var w,b,B=0,S=0,T=0,N=0,k=0,E=0,_=0,C=0,F=0;B==0;)if(B=c(a,F,1),S=c(a,F+1,2),F+=3,S!=0){if(y&&(s=r.F._check(s,C+(1<<17))),S==1&&(w=h.flmap,b=h.fdmap,E=511,_=31),S==2){T=A(a,F,5)+257,N=A(a,F+5,5)+1,k=A(a,F+10,4)+4,F+=14;for(var I=0;I<38;I+=2)h.itree[I]=0,h.itree[I+1]=0;var R=1;for(I=0;I<k;I++){var M=A(a,F+3*I,3);h.itree[1+(h.ordr[I]<<1)]=M,M>R&&(R=M)}F+=3*k,f(h.itree,R),m(h.itree,R,h.imap),w=h.lmap,b=h.dmap,F=u(h.imap,(1<<R)-1,T+N,a,F,h.ttree);var te=i._copyOut(h.ttree,0,T,h.ltree);E=(1<<te)-1;var se=i._copyOut(h.ttree,T,N,h.dtree);_=(1<<se)-1,f(h.ltree,te),m(h.ltree,te,w),f(h.dtree,se),m(h.dtree,se,b)}for(;;){var O=w[v(a,F)&E];F+=15&O;var W=O>>>4;if(!(W>>>8))s[C++]=W;else{if(W==256)break;var le=C+W-254;if(W>264){var K=h.ldef[W-257];le=C+(K>>>3)+A(a,F,7&K),F+=7&K}var ee=b[v(a,F)&_];F+=15&ee;var j=ee>>>4,U=h.ddef[j],G=(U>>>4)+c(a,F,15&U);for(F+=15&U,y&&(s=r.F._check(s,C+(1<<17)));C<le;)s[C]=s[C++-G],s[C]=s[C++-G],s[C]=s[C++-G],s[C]=s[C++-G];C=le}}}else{(7&F)!=0&&(F+=8-(7&F));var ne=4+(F>>>3),X=a[ne-4]|a[ne-3]<<8;y&&(s=r.F._check(s,C+X)),s.set(new o(a.buffer,a.byteOffset+ne,X),C),F=ne+X<<3,C+=X}return s.length==C?s:s.slice(0,C)},r.F._check=function(a,s){var o=a.length;if(s<=o)return a;var i=new Uint8Array(Math.max(o<<1,s));return i.set(a,0),i},r.F._decodeTiny=function(a,s,o,i,c,A){for(var u=r.F._bitsE,f=r.F._get17,m=0;m<o;){var v=a[f(i,c)&s];c+=15&v;var h=v>>>4;if(h<=15)A[m]=h,m++;else{var y=0,w=0;h==16?(w=3+u(i,c,2),c+=2,y=A[m-1]):h==17?(w=3+u(i,c,3),c+=3):h==18&&(w=11+u(i,c,7),c+=7);for(var b=m+w;m<b;)A[m]=y,m++}}return c},r.F._copyOut=function(a,s,o,i){for(var c=0,A=0,u=i.length>>>1;A<o;){var f=a[A+s];i[A<<1]=0,i[1+(A<<1)]=f,f>c&&(c=f),A++}for(;A<u;)i[A<<1]=0,i[1+(A<<1)]=0,A++;return c},r.F.makeCodes=function(a,s){for(var o,i,c,A,u=r.F.U,f=a.length,m=u.bl_count,v=0;v<=s;v++)m[v]=0;for(v=1;v<f;v+=2)m[a[v]]++;var h=u.next_code;for(o=0,m[0]=0,i=1;i<=s;i++)o=o+m[i-1]<<1,h[i]=o;for(c=0;c<f;c+=2)(A=a[c+1])!=0&&(a[c]=h[A],h[A]++)},r.F.codes2map=function(a,s,o){for(var i=a.length,c=r.F.U.rev15,A=0;A<i;A+=2)if(a[A+1]!=0)for(var u=A>>1,f=a[A+1],m=u<<4|f,v=s-f,h=a[A]<<v,y=h+(1<<v);h!=y;)o[c[h]>>>15-s]=m,h++},r.F.revCodes=function(a,s){for(var o=r.F.U.rev15,i=15-s,c=0;c<a.length;c+=2){var A=a[c]<<s-a[c+1];a[c]=o[A]>>>i}},r.F._putsE=function(a,s,o){o<<=7&s;var i=s>>>3;a[i]|=o,a[i+1]|=o>>>8},r.F._putsF=function(a,s,o){o<<=7&s;var i=s>>>3;a[i]|=o,a[i+1]|=o>>>8,a[i+2]|=o>>>16},r.F._bitsE=function(a,s,o){return(a[s>>>3]|a[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(a,s,o){return(a[s>>>3]|a[1+(s>>>3)]<<8|a[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(a,s){return(a[s>>>3]|a[1+(s>>>3)]<<8|a[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(a,s){return(a[s>>>3]|a[1+(s>>>3)]<<8|a[2+(s>>>3)]<<16|a[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),(function(){for(var a=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,a.rev15[s]=(o>>>16|o<<16)>>>17}function i(c,A,u){for(;A--!=0;)c.push(0,u)}for(s=0;s<32;s++)a.ldef[s]=a.of0[s]<<3|a.exb[s],a.ddef[s]=a.df0[s]<<4|a.dxb[s];i(a.fltree,144,8),i(a.fltree,112,9),i(a.fltree,24,7),i(a.fltree,8,8),r.F.makeCodes(a.fltree,9),r.F.codes2map(a.fltree,9,a.flmap),r.F.revCodes(a.fltree,9),i(a.fdtree,32,5),r.F.makeCodes(a.fdtree,5),r.F.codes2map(a.fdtree,5,a.fdmap),r.F.revCodes(a.fdtree,5),i(a.itree,19,0),i(a.ltree,286,0),i(a.dtree,30,0),i(a.ttree,320,0)})()})();var zxe=Hxe({__proto__:null,default:u2},[u2]);const Qi=(function(){var e={nextZero(u,f){for(;u[f]!=0;)f++;return f},readUshort:(u,f)=>u[f]<<8|u[f+1],writeUshort(u,f,m){u[f]=m>>8&255,u[f+1]=255&m},readUint:(u,f)=>16777216*u[f]+(u[f+1]<<16|u[f+2]<<8|u[f+3]),writeUint(u,f,m){u[f]=m>>24&255,u[f+1]=m>>16&255,u[f+2]=m>>8&255,u[f+3]=255&m},readASCII(u,f,m){let v="";for(let h=0;h<m;h++)v+=String.fromCharCode(u[f+h]);return v},writeASCII(u,f,m){for(let v=0;v<m.length;v++)u[f+v]=m.charCodeAt(v)},readBytes(u,f,m){const v=[];for(let h=0;h<m;h++)v.push(u[f+h]);return v},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,f,m){let v,h="";for(let y=0;y<m;y++)h+=`%${e.pad(u[f+y].toString(16))}`;try{v=decodeURIComponent(h)}catch{return e.readASCII(u,f,m)}return v}};function t(u,f,m,v){const h=f*m,y=s(v),w=Math.ceil(f*y/8),b=new Uint8Array(4*h),B=new Uint32Array(b.buffer),{ctype:S}=v,{depth:T}=v,N=e.readUshort;if(S==6){const K=h<<2;if(T==8)for(var k=0;k<K;k+=4)b[k]=u[k],b[k+1]=u[k+1],b[k+2]=u[k+2],b[k+3]=u[k+3];if(T==16)for(k=0;k<K;k++)b[k]=u[k<<1]}else if(S==2){const K=v.tabs.tRNS;if(K==null){if(T==8)for(k=0;k<h;k++){var E=3*k;B[k]=255<<24|u[E+2]<<16|u[E+1]<<8|u[E]}if(T==16)for(k=0;k<h;k++)E=6*k,B[k]=255<<24|u[E+4]<<16|u[E+2]<<8|u[E]}else{var _=K[0];const ee=K[1],j=K[2];if(T==8)for(k=0;k<h;k++){var C=k<<2;E=3*k,B[k]=255<<24|u[E+2]<<16|u[E+1]<<8|u[E],u[E]==_&&u[E+1]==ee&&u[E+2]==j&&(b[C+3]=0)}if(T==16)for(k=0;k<h;k++)C=k<<2,E=6*k,B[k]=255<<24|u[E+4]<<16|u[E+2]<<8|u[E],N(u,E)==_&&N(u,E+2)==ee&&N(u,E+4)==j&&(b[C+3]=0)}}else if(S==3){const K=v.tabs.PLTE,ee=v.tabs.tRNS,j=ee?ee.length:0;if(T==1)for(var F=0;F<m;F++){var I=F*w,R=F*f;for(k=0;k<f;k++){C=R+k<<2;var M=3*(te=u[I+(k>>3)]>>7-((7&k)<<0)&1);b[C]=K[M],b[C+1]=K[M+1],b[C+2]=K[M+2],b[C+3]=te<j?ee[te]:255}}if(T==2)for(F=0;F<m;F++)for(I=F*w,R=F*f,k=0;k<f;k++)C=R+k<<2,M=3*(te=u[I+(k>>2)]>>6-((3&k)<<1)&3),b[C]=K[M],b[C+1]=K[M+1],b[C+2]=K[M+2],b[C+3]=te<j?ee[te]:255;if(T==4)for(F=0;F<m;F++)for(I=F*w,R=F*f,k=0;k<f;k++)C=R+k<<2,M=3*(te=u[I+(k>>1)]>>4-((1&k)<<2)&15),b[C]=K[M],b[C+1]=K[M+1],b[C+2]=K[M+2],b[C+3]=te<j?ee[te]:255;if(T==8)for(k=0;k<h;k++){var te;C=k<<2,M=3*(te=u[k]),b[C]=K[M],b[C+1]=K[M+1],b[C+2]=K[M+2],b[C+3]=te<j?ee[te]:255}}else if(S==4){if(T==8)for(k=0;k<h;k++){C=k<<2;var se=u[O=k<<1];b[C]=se,b[C+1]=se,b[C+2]=se,b[C+3]=u[O+1]}if(T==16)for(k=0;k<h;k++){var O;C=k<<2,se=u[O=k<<2],b[C]=se,b[C+1]=se,b[C+2]=se,b[C+3]=u[O+2]}}else if(S==0)for(_=v.tabs.tRNS?v.tabs.tRNS:-1,F=0;F<m;F++){const K=F*w,ee=F*f;if(T==1)for(var W=0;W<f;W++){var le=(se=255*(u[K+(W>>>3)]>>>7-(7&W)&1))==255*_?0:255;B[ee+W]=le<<24|se<<16|se<<8|se}else if(T==2)for(W=0;W<f;W++)le=(se=85*(u[K+(W>>>2)]>>>6-((3&W)<<1)&3))==85*_?0:255,B[ee+W]=le<<24|se<<16|se<<8|se;else if(T==4)for(W=0;W<f;W++)le=(se=17*(u[K+(W>>>1)]>>>4-((1&W)<<2)&15))==17*_?0:255,B[ee+W]=le<<24|se<<16|se<<8|se;else if(T==8)for(W=0;W<f;W++)le=(se=u[K+W])==_?0:255,B[ee+W]=le<<24|se<<16|se<<8|se;else if(T==16)for(W=0;W<f;W++)se=u[K+(W<<1)],le=N(u,K+(W<<1))==_?0:255,B[ee+W]=le<<24|se<<16|se<<8|se}return b}function n(u,f,m,v){const h=s(u),y=Math.ceil(m*h/8),w=new Uint8Array((y+1+u.interlace)*v);return f=u.tabs.CgBI?a(f,w):r(f,w),u.interlace==0?f=o(f,u,0,m,v):u.interlace==1&&(f=(function(B,S){const T=S.width,N=S.height,k=s(S),E=k>>3,_=Math.ceil(T*k/8),C=new Uint8Array(N*_);let F=0;const I=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],te=[8,8,4,4,2,2,1];let se=0;for(;se<7;){const W=M[se],le=te[se];let K=0,ee=0,j=I[se];for(;j<N;)j+=W,ee++;let U=R[se];for(;U<T;)U+=le,K++;const G=Math.ceil(K*k/8);o(B,S,F,K,ee);let ne=0,X=I[se];for(;X<N;){let oe=R[se],q=F+ne*G<<3;for(;oe<T;){var O;if(k==1&&(O=(O=B[q>>3])>>7-(7&q)&1,C[X*_+(oe>>3)]|=O<<7-((7&oe)<<0)),k==2&&(O=(O=B[q>>3])>>6-(7&q)&3,C[X*_+(oe>>2)]|=O<<6-((3&oe)<<1)),k==4&&(O=(O=B[q>>3])>>4-(7&q)&15,C[X*_+(oe>>1)]|=O<<4-((1&oe)<<2)),k>=8){const Y=X*_+oe*E;for(let ae=0;ae<E;ae++)C[Y+ae]=B[(q>>3)+ae]}q+=k,oe+=le}ne++,X+=W}K*ee!=0&&(F+=ee*(1+G)),se+=1}return C})(f,u)),f}function r(u,f){return a(new Uint8Array(u.buffer,2,u.length-6),f)}var a=(function(){const u={H:{}};return u.H.N=function(f,m){const v=Uint8Array;let h,y,w=0,b=0,B=0,S=0,T=0,N=0,k=0,E=0,_=0;if(f[0]==3&&f[1]==0)return m||new v(0);const C=u.H,F=C.b,I=C.e,R=C.R,M=C.n,te=C.A,se=C.Z,O=C.m,W=m==null;for(W&&(m=new v(f.length>>>2<<5));w==0;)if(w=F(f,_,1),b=F(f,_+1,2),_+=3,b!=0){if(W&&(m=u.H.W(m,E+(1<<17))),b==1&&(h=O.J,y=O.h,N=511,k=31),b==2){B=I(f,_,5)+257,S=I(f,_+5,5)+1,T=I(f,_+10,4)+4,_+=14;let K=1;for(var le=0;le<38;le+=2)O.Q[le]=0,O.Q[le+1]=0;for(le=0;le<T;le++){const U=I(f,_+3*le,3);O.Q[1+(O.X[le]<<1)]=U,U>K&&(K=U)}_+=3*T,M(O.Q,K),te(O.Q,K,O.u),h=O.w,y=O.d,_=R(O.u,(1<<K)-1,B+S,f,_,O.v);const ee=C.V(O.v,0,B,O.C);N=(1<<ee)-1;const j=C.V(O.v,B,S,O.D);k=(1<<j)-1,M(O.C,ee),te(O.C,ee,h),M(O.D,j),te(O.D,j,y)}for(;;){const K=h[se(f,_)&N];_+=15&K;const ee=K>>>4;if(!(ee>>>8))m[E++]=ee;else{if(ee==256)break;{let j=E+ee-254;if(ee>264){const oe=O.q[ee-257];j=E+(oe>>>3)+I(f,_,7&oe),_+=7&oe}const U=y[se(f,_)&k];_+=15&U;const G=U>>>4,ne=O.c[G],X=(ne>>>4)+F(f,_,15&ne);for(_+=15&ne;E<j;)m[E]=m[E++-X],m[E]=m[E++-X],m[E]=m[E++-X],m[E]=m[E++-X];E=j}}}}else{(7&_)!=0&&(_+=8-(7&_));const K=4+(_>>>3),ee=f[K-4]|f[K-3]<<8;W&&(m=u.H.W(m,E+ee)),m.set(new v(f.buffer,f.byteOffset+K,ee),E),_=K+ee<<3,E+=ee}return m.length==E?m:m.slice(0,E)},u.H.W=function(f,m){const v=f.length;if(m<=v)return f;const h=new Uint8Array(v<<1);return h.set(f,0),h},u.H.R=function(f,m,v,h,y,w){const b=u.H.e,B=u.H.Z;let S=0;for(;S<v;){const T=f[B(h,y)&m];y+=15&T;const N=T>>>4;if(N<=15)w[S]=N,S++;else{let k=0,E=0;N==16?(E=3+b(h,y,2),y+=2,k=w[S-1]):N==17?(E=3+b(h,y,3),y+=3):N==18&&(E=11+b(h,y,7),y+=7);const _=S+E;for(;S<_;)w[S]=k,S++}}return y},u.H.V=function(f,m,v,h){let y=0,w=0;const b=h.length>>>1;for(;w<v;){const B=f[w+m];h[w<<1]=0,h[1+(w<<1)]=B,B>y&&(y=B),w++}for(;w<b;)h[w<<1]=0,h[1+(w<<1)]=0,w++;return y},u.H.n=function(f,m){const v=u.H.m,h=f.length;let y,w,b,B;const S=v.j;for(var T=0;T<=m;T++)S[T]=0;for(T=1;T<h;T+=2)S[f[T]]++;const N=v.K;for(y=0,S[0]=0,w=1;w<=m;w++)y=y+S[w-1]<<1,N[w]=y;for(b=0;b<h;b+=2)B=f[b+1],B!=0&&(f[b]=N[B],N[B]++)},u.H.A=function(f,m,v){const h=f.length,y=u.H.m.r;for(let w=0;w<h;w+=2)if(f[w+1]!=0){const b=w>>1,B=f[w+1],S=b<<4|B,T=m-B;let N=f[w]<<T;const k=N+(1<<T);for(;N!=k;)v[y[N]>>>15-m]=S,N++}},u.H.l=function(f,m){const v=u.H.m.r,h=15-m;for(let y=0;y<f.length;y+=2){const w=f[y]<<m-f[y+1];f[y]=v[w]>>>h}},u.H.M=function(f,m,v){v<<=7&m;const h=m>>>3;f[h]|=v,f[h+1]|=v>>>8},u.H.I=function(f,m,v){v<<=7&m;const h=m>>>3;f[h]|=v,f[h+1]|=v>>>8,f[h+2]|=v>>>16},u.H.e=function(f,m,v){return(f[m>>>3]|f[1+(m>>>3)]<<8)>>>(7&m)&(1<<v)-1},u.H.b=function(f,m,v){return(f[m>>>3]|f[1+(m>>>3)]<<8|f[2+(m>>>3)]<<16)>>>(7&m)&(1<<v)-1},u.H.Z=function(f,m){return(f[m>>>3]|f[1+(m>>>3)]<<8|f[2+(m>>>3)]<<16)>>>(7&m)},u.H.i=function(f,m){return(f[m>>>3]|f[1+(m>>>3)]<<8|f[2+(m>>>3)]<<16|f[3+(m>>>3)]<<24)>>>(7&m)},u.H.m=(function(){const f=Uint16Array,m=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new m(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new m(286),Y:new m(30),a:new m(19),t:new m(15e3),k:new f(65536),g:new f(32768)}})(),(function(){const f=u.H.m;for(var m=0;m<32768;m++){let h=m;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,f.r[m]=(h>>>16|h<<16)>>>17}function v(h,y,w){for(;y--!=0;)h.push(0,w)}for(m=0;m<32;m++)f.q[m]=f.S[m]<<3|f.T[m],f.c[m]=f.p[m]<<4|f.z[m];v(f._,144,8),v(f._,112,9),v(f._,24,7),v(f._,8,8),u.H.n(f._,9),u.H.A(f._,9,f.J),u.H.l(f._,9),v(f.$,32,5),u.H.n(f.$,5),u.H.A(f.$,5,f.h),u.H.l(f.$,5),v(f.Q,19,0),v(f.C,286,0),v(f.D,30,0),v(f.v,320,0)})(),u.H.N})();function s(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,f,m,v,h){let y=s(f);const w=Math.ceil(v*y/8);let b,B;y=Math.ceil(y/8);let S=u[m],T=0;if(S>1&&(u[m]=[0,0,1][S-2]),S==3)for(T=y;T<w;T++)u[T+1]=u[T+1]+(u[T+1-y]>>>1)&255;for(let N=0;N<h;N++)if(b=m+N*w,B=b+N+1,S=u[B-1],T=0,S==0)for(;T<w;T++)u[b+T]=u[B+T];else if(S==1){for(;T<y;T++)u[b+T]=u[B+T];for(;T<w;T++)u[b+T]=u[B+T]+u[b+T-y]}else if(S==2)for(;T<w;T++)u[b+T]=u[B+T]+u[b+T-w];else if(S==3){for(;T<y;T++)u[b+T]=u[B+T]+(u[b+T-w]>>>1);for(;T<w;T++)u[b+T]=u[B+T]+(u[b+T-w]+u[b+T-y]>>>1)}else{for(;T<y;T++)u[b+T]=u[B+T]+i(0,u[b+T-w],0);for(;T<w;T++)u[b+T]=u[B+T]+i(u[b+T-y],u[b+T-w],u[b+T-y-w])}return u}function i(u,f,m){const v=u+f-m,h=v-u,y=v-f,w=v-m;return h*h<=y*y&&h*h<=w*w?u:y*y<=w*w?f:m}function c(u,f,m){m.width=e.readUint(u,f),f+=4,m.height=e.readUint(u,f),f+=4,m.depth=u[f],f++,m.ctype=u[f],f++,m.compress=u[f],f++,m.filter=u[f],f++,m.interlace=u[f],f++}function A(u,f,m,v,h,y,w,b,B){const S=Math.min(f,h),T=Math.min(m,y);let N=0,k=0;for(let se=0;se<T;se++)for(let O=0;O<S;O++)if(w>=0&&b>=0?(N=se*f+O<<2,k=(b+se)*h+w+O<<2):(N=(-b+se)*f-w+O<<2,k=se*h+O<<2),B==0)v[k]=u[N],v[k+1]=u[N+1],v[k+2]=u[N+2],v[k+3]=u[N+3];else if(B==1){var E=u[N+3]*.00392156862745098,_=u[N]*E,C=u[N+1]*E,F=u[N+2]*E,I=v[k+3]*(1/255),R=v[k]*I,M=v[k+1]*I,te=v[k+2]*I;const W=1-E,le=E+I*W,K=le==0?0:1/le;v[k+3]=255*le,v[k+0]=(_+R*W)*K,v[k+1]=(C+M*W)*K,v[k+2]=(F+te*W)*K}else if(B==2)E=u[N+3],_=u[N],C=u[N+1],F=u[N+2],I=v[k+3],R=v[k],M=v[k+1],te=v[k+2],E==I&&_==R&&C==M&&F==te?(v[k]=0,v[k+1]=0,v[k+2]=0,v[k+3]=0):(v[k]=_,v[k+1]=C,v[k+2]=F,v[k+3]=E);else if(B==3){if(E=u[N+3],_=u[N],C=u[N+1],F=u[N+2],I=v[k+3],R=v[k],M=v[k+1],te=v[k+2],E==I&&_==R&&C==M&&F==te)continue;if(E<220&&I>20)return!1}return!0}return{decode:function(f){const m=new Uint8Array(f);let v=8;const h=e,y=h.readUshort,w=h.readUint,b={tabs:{},frames:[]},B=new Uint8Array(m.length);let S,T=0,N=0;const k=[137,80,78,71,13,10,26,10];for(var E=0;E<8;E++)if(m[E]!=k[E])throw"The input is not a PNG file!";for(;v<m.length;){const se=h.readUint(m,v);v+=4;const O=h.readASCII(m,v,4);if(v+=4,O=="IHDR")c(m,v,b);else if(O=="iCCP"){for(var _=v;m[_]!=0;)_++;h.readASCII(m,v,_-v),m[_+1];const W=m.slice(_+2,v+se);let le=null;try{le=r(W)}catch{le=a(W)}b.tabs[O]=le}else if(O=="CgBI")b.tabs[O]=m.slice(v,v+4);else if(O=="IDAT"){for(E=0;E<se;E++)B[T+E]=m[v+E];T+=se}else if(O=="acTL")b.tabs[O]={num_frames:w(m,v),num_plays:w(m,v+4)},S=new Uint8Array(m.length);else if(O=="fcTL"){N!=0&&((te=b.frames[b.frames.length-1]).data=n(b,S.slice(0,N),te.rect.width,te.rect.height),N=0);const W={x:w(m,v+12),y:w(m,v+16),width:w(m,v+4),height:w(m,v+8)};let le=y(m,v+22);le=y(m,v+20)/(le==0?100:le);const K={rect:W,delay:Math.round(1e3*le),dispose:m[v+24],blend:m[v+25]};b.frames.push(K)}else if(O=="fdAT"){for(E=0;E<se-4;E++)S[N+E]=m[v+E+4];N+=se-4}else if(O=="pHYs")b.tabs[O]=[h.readUint(m,v),h.readUint(m,v+4),m[v+8]];else if(O=="cHRM")for(b.tabs[O]=[],E=0;E<8;E++)b.tabs[O].push(h.readUint(m,v+4*E));else if(O=="tEXt"||O=="zTXt"){b.tabs[O]==null&&(b.tabs[O]={});var C=h.nextZero(m,v),F=h.readASCII(m,v,C-v),I=v+se-C-1;if(O=="tEXt")M=h.readASCII(m,C+1,I);else{var R=r(m.slice(C+2,C+2+I));M=h.readUTF8(R,0,R.length)}b.tabs[O][F]=M}else if(O=="iTXt"){b.tabs[O]==null&&(b.tabs[O]={}),C=0,_=v,C=h.nextZero(m,_),F=h.readASCII(m,_,C-_);const W=m[_=C+1];var M;m[_+1],_+=2,C=h.nextZero(m,_),h.readASCII(m,_,C-_),_=C+1,C=h.nextZero(m,_),h.readUTF8(m,_,C-_),I=se-((_=C+1)-v),W==0?M=h.readUTF8(m,_,I):(R=r(m.slice(_,_+I)),M=h.readUTF8(R,0,R.length)),b.tabs[O][F]=M}else if(O=="PLTE")b.tabs[O]=h.readBytes(m,v,se);else if(O=="hIST"){const W=b.tabs.PLTE.length/3;for(b.tabs[O]=[],E=0;E<W;E++)b.tabs[O].push(y(m,v+2*E))}else if(O=="tRNS")b.ctype==3?b.tabs[O]=h.readBytes(m,v,se):b.ctype==0?b.tabs[O]=y(m,v):b.ctype==2&&(b.tabs[O]=[y(m,v),y(m,v+2),y(m,v+4)]);else if(O=="gAMA")b.tabs[O]=h.readUint(m,v)/1e5;else if(O=="sRGB")b.tabs[O]=m[v];else if(O=="bKGD")b.ctype==0||b.ctype==4?b.tabs[O]=[y(m,v)]:b.ctype==2||b.ctype==6?b.tabs[O]=[y(m,v),y(m,v+2),y(m,v+4)]:b.ctype==3&&(b.tabs[O]=m[v]);else if(O=="IEND")break;v+=se,h.readUint(m,v),v+=4}var te;return N!=0&&((te=b.frames[b.frames.length-1]).data=n(b,S.slice(0,N),te.rect.width,te.rect.height)),b.data=n(b,B,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(f){const m=f.width,v=f.height;if(f.tabs.acTL==null)return[t(f.data,m,v,f).buffer];const h=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const y=m*v*4,w=new Uint8Array(y),b=new Uint8Array(y),B=new Uint8Array(y);for(let T=0;T<f.frames.length;T++){const N=f.frames[T],k=N.rect.x,E=N.rect.y,_=N.rect.width,C=N.rect.height,F=t(N.data,_,C,f);if(T!=0)for(var S=0;S<y;S++)B[S]=w[S];if(N.blend==0?A(F,_,C,w,m,v,k,E,0):N.blend==1&&A(F,_,C,w,m,v,k,E,1),h.push(w.buffer.slice(0)),N.dispose!=0){if(N.dispose==1)A(b,_,C,w,m,v,k,E,0);else if(N.dispose==2)for(S=0;S<y;S++)w[S]=B[S]}}return h},_paeth:i,_copyTile:A,_bin:e}})();(function(){const{_copyTile:e}=Qi,{_bin:t}=Qi,n=Qi._paeth;var r={table:(function(){const _=new Uint32Array(256);for(let C=0;C<256;C++){let F=C;for(let I=0;I<8;I++)1&F?F=3988292384^F>>>1:F>>>=1;_[C]=F}return _})(),update(_,C,F,I){for(let R=0;R<I;R++)_=r.table[255&(_^C[F+R])]^_>>>8;return _},crc:(_,C,F)=>4294967295^r.update(4294967295,_,C,F)};function a(_,C,F,I){C[F]+=_[0]*I>>4,C[F+1]+=_[1]*I>>4,C[F+2]+=_[2]*I>>4,C[F+3]+=_[3]*I>>4}function s(_){return Math.max(0,Math.min(255,_))}function o(_,C){const F=_[0]-C[0],I=_[1]-C[1],R=_[2]-C[2],M=_[3]-C[3];return F*F+I*I+R*R+M*M}function i(_,C,F,I,R,M,te){te==null&&(te=1);const se=I.length,O=[];for(var W=0;W<se;W++){const X=I[W];O.push([X>>>0&255,X>>>8&255,X>>>16&255,X>>>24&255])}for(W=0;W<se;W++){let X=4294967295;for(var le=0,K=0;K<se;K++){var ee=o(O[W],O[K]);K!=W&&ee<X&&(X=ee,le=K)}}const j=new Uint32Array(R.buffer),U=new Int16Array(C*F*4),G=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(W=0;W<G.length;W++)G[W]=255*((G[W]+.5)/16-.5);for(let X=0;X<F;X++)for(let oe=0;oe<C;oe++){var ne;W=4*(X*C+oe),te!=2?ne=[s(_[W]+U[W]),s(_[W+1]+U[W+1]),s(_[W+2]+U[W+2]),s(_[W+3]+U[W+3])]:(ee=G[4*(3&X)+(3&oe)],ne=[s(_[W]+ee),s(_[W+1]+ee),s(_[W+2]+ee),s(_[W+3]+ee)]),le=0;let q=16777215;for(K=0;K<se;K++){const ge=o(ne,O[K]);ge<q&&(q=ge,le=K)}const Y=O[le],ae=[ne[0]-Y[0],ne[1]-Y[1],ne[2]-Y[2],ne[3]-Y[3]];te==1&&(oe!=C-1&&a(ae,U,W+4,7),X!=F-1&&(oe!=0&&a(ae,U,W+4*C-4,3),a(ae,U,W+4*C,5),oe!=C-1&&a(ae,U,W+4*C+4,1))),M[W>>2]=le,j[W>>2]=I[le]}}function c(_,C,F,I,R){R==null&&(R={});const{crc:M}=r,te=t.writeUint,se=t.writeUshort,O=t.writeASCII;let W=8;const le=_.frames.length>1;let K,ee=!1,j=33+(le?20:0);if(R.sRGB!=null&&(j+=13),R.pHYs!=null&&(j+=21),R.iCCP!=null&&(K=pako.deflate(R.iCCP),j+=21+K.length+4),_.ctype==3){for(var U=_.plte.length,G=0;G<U;G++)_.plte[G]>>>24!=255&&(ee=!0);j+=8+3*U+4+(ee?8+1*U+4:0)}for(var ne=0;ne<_.frames.length;ne++)le&&(j+=38),j+=(Y=_.frames[ne]).cimg.length+12,ne!=0&&(j+=4);j+=12;const X=new Uint8Array(j),oe=[137,80,78,71,13,10,26,10];for(G=0;G<8;G++)X[G]=oe[G];if(te(X,W,13),W+=4,O(X,W,"IHDR"),W+=4,te(X,W,C),W+=4,te(X,W,F),W+=4,X[W]=_.depth,W++,X[W]=_.ctype,W++,X[W]=0,W++,X[W]=0,W++,X[W]=0,W++,te(X,W,M(X,W-17,17)),W+=4,R.sRGB!=null&&(te(X,W,1),W+=4,O(X,W,"sRGB"),W+=4,X[W]=R.sRGB,W++,te(X,W,M(X,W-5,5)),W+=4),R.iCCP!=null){const ae=13+K.length;te(X,W,ae),W+=4,O(X,W,"iCCP"),W+=4,O(X,W,"ICC profile"),W+=11,W+=2,X.set(K,W),W+=K.length,te(X,W,M(X,W-(ae+4),ae+4)),W+=4}if(R.pHYs!=null&&(te(X,W,9),W+=4,O(X,W,"pHYs"),W+=4,te(X,W,R.pHYs[0]),W+=4,te(X,W,R.pHYs[1]),W+=4,X[W]=R.pHYs[2],W++,te(X,W,M(X,W-13,13)),W+=4),le&&(te(X,W,8),W+=4,O(X,W,"acTL"),W+=4,te(X,W,_.frames.length),W+=4,te(X,W,R.loop!=null?R.loop:0),W+=4,te(X,W,M(X,W-12,12)),W+=4),_.ctype==3){for(te(X,W,3*(U=_.plte.length)),W+=4,O(X,W,"PLTE"),W+=4,G=0;G<U;G++){const ae=3*G,ge=_.plte[G],we=255&ge,z=ge>>>8&255,Ae=ge>>>16&255;X[W+ae+0]=we,X[W+ae+1]=z,X[W+ae+2]=Ae}if(W+=3*U,te(X,W,M(X,W-3*U-4,3*U+4)),W+=4,ee){for(te(X,W,U),W+=4,O(X,W,"tRNS"),W+=4,G=0;G<U;G++)X[W+G]=_.plte[G]>>>24&255;W+=U,te(X,W,M(X,W-U-4,U+4)),W+=4}}let q=0;for(ne=0;ne<_.frames.length;ne++){var Y=_.frames[ne];le&&(te(X,W,26),W+=4,O(X,W,"fcTL"),W+=4,te(X,W,q++),W+=4,te(X,W,Y.rect.width),W+=4,te(X,W,Y.rect.height),W+=4,te(X,W,Y.rect.x),W+=4,te(X,W,Y.rect.y),W+=4,se(X,W,I[ne]),W+=2,se(X,W,1e3),W+=2,X[W]=Y.dispose,W++,X[W]=Y.blend,W++,te(X,W,M(X,W-30,30)),W+=4);const ae=Y.cimg;te(X,W,(U=ae.length)+(ne==0?0:4)),W+=4;const ge=W;O(X,W,ne==0?"IDAT":"fdAT"),W+=4,ne!=0&&(te(X,W,q++),W+=4),X.set(ae,W),W+=U,te(X,W,M(X,ge,W-ge)),W+=4}return te(X,W,0),W+=4,O(X,W,"IEND"),W+=4,te(X,W,M(X,W-4,4)),W+=4,X.buffer}function A(_,C,F){for(let I=0;I<_.frames.length;I++){const R=_.frames[I];R.rect.width;const M=R.rect.height,te=new Uint8Array(M*R.bpl+M);R.cimg=v(R.img,M,R.bpp,R.bpl,te,C,F)}}function u(_,C,F,I,R){const M=R[0],te=R[1],se=R[2],O=R[3],W=R[4],le=R[5];let K=6,ee=8,j=255;for(var U=0;U<_.length;U++){const Pe=new Uint8Array(_[U]);for(var G=Pe.length,ne=0;ne<G;ne+=4)j&=Pe[ne+3]}const X=j!=255,oe=(function(re,be,He,ke,Se,st){const je=[];for(var Ve=0;Ve<re.length;Ve++){const Je=new Uint8Array(re[Ve]),Oe=new Uint32Array(Je.buffer);var Te;let it=0,at=0,Xe=be,Ut=He,Yt=ke?1:0;if(Ve!=0){const bt=st||ke||Ve==1||je[Ve-2].dispose!=0?1:2;let cn=0,ln=1e9;for(let an=0;an<bt;an++){var Le=new Uint8Array(re[Ve-1-an]);const zt=new Uint32Array(re[Ve-1-an]);let $t=be,Ke=He,me=-1,Ee=-1;for(let At=0;At<He;At++)for(let St=0;St<be;St++)Oe[Ct=At*be+St]!=zt[Ct]&&(St<$t&&($t=St),St>me&&(me=St),At<Ke&&(Ke=At),At>Ee&&(Ee=At));me==-1&&($t=Ke=me=Ee=0),Se&&((1&$t)==1&&$t--,(1&Ke)==1&&Ke--);const nt=(me-$t+1)*(Ee-Ke+1);nt<ln&&(ln=nt,cn=an,it=$t,at=Ke,Xe=me-$t+1,Ut=Ee-Ke+1)}Le=new Uint8Array(re[Ve-1-cn]),cn==1&&(je[Ve-1].dispose=2),Te=new Uint8Array(Xe*Ut*4),e(Le,be,He,Te,Xe,Ut,-it,-at,0),Yt=e(Je,be,He,Te,Xe,Ut,-it,-at,3)?1:0,Yt==1?m(Je,be,He,Te,{x:it,y:at,width:Xe,height:Ut}):e(Je,be,He,Te,Xe,Ut,-it,-at,0)}else Te=Je.slice(0);je.push({rect:{x:it,y:at,width:Xe,height:Ut},img:Te,blend:Yt,dispose:0})}if(ke)for(Ve=0;Ve<je.length;Ve++){if((Dt=je[Ve]).blend==1)continue;const Je=Dt.rect,Oe=je[Ve-1].rect,it=Math.min(Je.x,Oe.x),at=Math.min(Je.y,Oe.y),Xe={x:it,y:at,width:Math.max(Je.x+Je.width,Oe.x+Oe.width)-it,height:Math.max(Je.y+Je.height,Oe.y+Oe.height)-at};je[Ve-1].dispose=1,Ve-1!=0&&f(re,be,He,je,Ve-1,Xe,Se),f(re,be,He,je,Ve,Xe,Se)}let ht=0;if(re.length!=1)for(var Ct=0;Ct<je.length;Ct++){var Dt;ht+=(Dt=je[Ct]).rect.width*Dt.rect.height}return je})(_,C,F,M,te,se),q={},Y=[],ae=[];if(I!=0){const Pe=[];for(ne=0;ne<oe.length;ne++)Pe.push(oe[ne].img.buffer);const re=(function(Se){let st=0;for(var je=0;je<Se.length;je++)st+=Se[je].byteLength;const Ve=new Uint8Array(st);let Te=0;for(je=0;je<Se.length;je++){const Le=new Uint8Array(Se[je]),ht=Le.length;for(let Ct=0;Ct<ht;Ct+=4){let Dt=Le[Ct],Je=Le[Ct+1],Oe=Le[Ct+2];const it=Le[Ct+3];it==0&&(Dt=Je=Oe=0),Ve[Te+Ct]=Dt,Ve[Te+Ct+1]=Je,Ve[Te+Ct+2]=Oe,Ve[Te+Ct+3]=it}Te+=ht}return Ve.buffer})(Pe),be=y(re,I);for(ne=0;ne<be.plte.length;ne++)Y.push(be.plte[ne].est.rgba);let He=0;for(ne=0;ne<oe.length;ne++){const ke=(we=oe[ne]).img.length;var ge=new Uint8Array(be.inds.buffer,He>>2,ke>>2);ae.push(ge);const Se=new Uint8Array(be.abuf,He,ke);le&&i(we.img,we.rect.width,we.rect.height,Y,Se,ge),we.img.set(Se),He+=ke}}else for(U=0;U<oe.length;U++){var we=oe[U];const Pe=new Uint32Array(we.img.buffer);var z=we.rect.width;for(G=Pe.length,ge=new Uint8Array(G),ae.push(ge),ne=0;ne<G;ne++){const re=Pe[ne];if(ne!=0&&re==Pe[ne-1])ge[ne]=ge[ne-1];else if(ne>z&&re==Pe[ne-z])ge[ne]=ge[ne-z];else{let be=q[re];if(be==null&&(q[re]=be=Y.length,Y.push(re),Y.length>=300))break;ge[ne]=be}}}const Ae=Y.length;for(Ae<=256&&W==0&&(ee=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,ee=Math.max(ee,O)),U=0;U<oe.length;U++){(we=oe[U]).rect.x,we.rect.y,z=we.rect.width;const Pe=we.rect.height;let re=we.img;new Uint32Array(re.buffer);let be=4*z,He=4;if(Ae<=256&&W==0){be=Math.ceil(ee*z/8);var ie=new Uint8Array(be*Pe);const ke=ae[U];for(let Se=0;Se<Pe;Se++){ne=Se*be;const st=Se*z;if(ee==8)for(var _e=0;_e<z;_e++)ie[ne+_e]=ke[st+_e];else if(ee==4)for(_e=0;_e<z;_e++)ie[ne+(_e>>1)]|=ke[st+_e]<<4-4*(1&_e);else if(ee==2)for(_e=0;_e<z;_e++)ie[ne+(_e>>2)]|=ke[st+_e]<<6-2*(3&_e);else if(ee==1)for(_e=0;_e<z;_e++)ie[ne+(_e>>3)]|=ke[st+_e]<<7-1*(7&_e)}re=ie,K=3,He=1}else if(X==0&&oe.length==1){ie=new Uint8Array(z*Pe*3);const ke=z*Pe;for(ne=0;ne<ke;ne++){const Se=3*ne,st=4*ne;ie[Se]=re[st],ie[Se+1]=re[st+1],ie[Se+2]=re[st+2]}re=ie,K=2,He=3,be=3*z}we.img=re,we.bpl=be,we.bpp=He}return{ctype:K,depth:ee,plte:Y,frames:oe}}function f(_,C,F,I,R,M,te){const se=Uint8Array,O=Uint32Array,W=new se(_[R-1]),le=new O(_[R-1]),K=R+1<_.length?new se(_[R+1]):null,ee=new se(_[R]),j=new O(ee.buffer);let U=C,G=F,ne=-1,X=-1;for(let q=0;q<M.height;q++)for(let Y=0;Y<M.width;Y++){const ae=M.x+Y,ge=M.y+q,we=ge*C+ae,z=j[we];z==0||I[R-1].dispose==0&&le[we]==z&&(K==null||K[4*we+3]!=0)||(ae<U&&(U=ae),ae>ne&&(ne=ae),ge<G&&(G=ge),ge>X&&(X=ge))}ne==-1&&(U=G=ne=X=0),te&&((1&U)==1&&U--,(1&G)==1&&G--),M={x:U,y:G,width:ne-U+1,height:X-G+1};const oe=I[R];oe.rect=M,oe.blend=1,oe.img=new Uint8Array(M.width*M.height*4),I[R-1].dispose==0?(e(W,C,F,oe.img,M.width,M.height,-M.x,-M.y,0),m(ee,C,F,oe.img,M)):e(ee,C,F,oe.img,M.width,M.height,-M.x,-M.y,0)}function m(_,C,F,I,R){e(_,C,F,I,R.width,R.height,-R.x,-R.y,2)}function v(_,C,F,I,R,M,te){const se=[];let O,W=[0,1,2,3,4];M!=-1?W=[M]:(C*I>5e5||F==1)&&(W=[0]),te&&(O={level:0});const le=zxe;for(var K=0;K<W.length;K++){for(let U=0;U<C;U++)h(R,_,U,I,F,W[K]);se.push(le.deflate(R,O))}let ee,j=1e9;for(K=0;K<se.length;K++)se[K].length<j&&(ee=K,j=se[K].length);return se[ee]}function h(_,C,F,I,R,M){const te=F*I;let se=te+F;if(_[se]=M,se++,M==0)if(I<500)for(var O=0;O<I;O++)_[se+O]=C[te+O];else _.set(new Uint8Array(C.buffer,te,I),se);else if(M==1){for(O=0;O<R;O++)_[se+O]=C[te+O];for(O=R;O<I;O++)_[se+O]=C[te+O]-C[te+O-R]+256&255}else if(F==0){for(O=0;O<R;O++)_[se+O]=C[te+O];if(M==2)for(O=R;O<I;O++)_[se+O]=C[te+O];if(M==3)for(O=R;O<I;O++)_[se+O]=C[te+O]-(C[te+O-R]>>1)+256&255;if(M==4)for(O=R;O<I;O++)_[se+O]=C[te+O]-n(C[te+O-R],0,0)+256&255}else{if(M==2)for(O=0;O<I;O++)_[se+O]=C[te+O]+256-C[te+O-I]&255;if(M==3){for(O=0;O<R;O++)_[se+O]=C[te+O]+256-(C[te+O-I]>>1)&255;for(O=R;O<I;O++)_[se+O]=C[te+O]+256-(C[te+O-I]+C[te+O-R]>>1)&255}if(M==4){for(O=0;O<R;O++)_[se+O]=C[te+O]+256-n(0,C[te+O-I],0)&255;for(O=R;O<I;O++)_[se+O]=C[te+O]+256-n(C[te+O-R],C[te+O-I],C[te+O-R-I])&255}}}function y(_,C){const F=new Uint8Array(_),I=F.slice(0),R=new Uint32Array(I.buffer),M=w(I,C),te=M[0],se=M[1],O=F.length,W=new Uint8Array(O>>2);let le;if(F.length<2e7)for(var K=0;K<O;K+=4)le=b(te,ee=F[K]*(1/255),j=F[K+1]*(1/255),U=F[K+2]*(1/255),G=F[K+3]*(1/255)),W[K>>2]=le.ind,R[K>>2]=le.est.rgba;else for(K=0;K<O;K+=4){var ee=F[K]*.00392156862745098,j=F[K+1]*(1/255),U=F[K+2]*(1/255),G=F[K+3]*(1/255);for(le=te;le.left;)le=B(le.est,ee,j,U,G)<=0?le.left:le.right;W[K>>2]=le.ind,R[K>>2]=le.est.rgba}return{abuf:I.buffer,inds:W,plte:se}}function w(_,C,F){F==null&&(F=1e-4);const I=new Uint32Array(_.buffer),R={i0:0,i1:_.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=N(_,R.i0,R.i1),R.est=k(R.bst);const M=[R];for(;M.length<C;){let se=0,O=0;for(var te=0;te<M.length;te++)M[te].est.L>se&&(se=M[te].est.L,O=te);if(se<F)break;const W=M[O],le=S(_,I,W.i0,W.i1,W.est.e,W.est.eMq255);if(W.i0>=le||W.i1<=le){W.est.L=0;continue}const K={i0:W.i0,i1:le,bst:null,est:null,tdst:0,left:null,right:null};K.bst=N(_,K.i0,K.i1),K.est=k(K.bst);const ee={i0:le,i1:W.i1,bst:null,est:null,tdst:0,left:null,right:null};for(ee.bst={R:[],m:[],N:W.bst.N-K.bst.N},te=0;te<16;te++)ee.bst.R[te]=W.bst.R[te]-K.bst.R[te];for(te=0;te<4;te++)ee.bst.m[te]=W.bst.m[te]-K.bst.m[te];ee.est=k(ee.bst),W.left=K,W.right=ee,M[O]=K,M.push(ee)}for(M.sort(((se,O)=>O.bst.N-se.bst.N)),te=0;te<M.length;te++)M[te].ind=te;return[R,M]}function b(_,C,F,I,R){if(_.left==null)return _.tdst=(function(K,ee,j,U,G){const ne=ee-K[0],X=j-K[1],oe=U-K[2],q=G-K[3];return ne*ne+X*X+oe*oe+q*q})(_.est.q,C,F,I,R),_;const M=B(_.est,C,F,I,R);let te=_.left,se=_.right;M>0&&(te=_.right,se=_.left);const O=b(te,C,F,I,R);if(O.tdst<=M*M)return O;const W=b(se,C,F,I,R);return W.tdst<O.tdst?W:O}function B(_,C,F,I,R){const{e:M}=_;return M[0]*C+M[1]*F+M[2]*I+M[3]*R-_.eMq}function S(_,C,F,I,R,M){for(I-=4;F<I;){for(;T(_,F,R)<=M;)F+=4;for(;T(_,I,R)>M;)I-=4;if(F>=I)break;const te=C[F>>2];C[F>>2]=C[I>>2],C[I>>2]=te,F+=4,I-=4}for(;T(_,F,R)>M;)F-=4;return F+4}function T(_,C,F){return _[C]*F[0]+_[C+1]*F[1]+_[C+2]*F[2]+_[C+3]*F[3]}function N(_,C,F){const I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],M=F-C>>2;for(let te=C;te<F;te+=4){const se=_[te]*.00392156862745098,O=_[te+1]*(1/255),W=_[te+2]*(1/255),le=_[te+3]*(1/255);R[0]+=se,R[1]+=O,R[2]+=W,R[3]+=le,I[0]+=se*se,I[1]+=se*O,I[2]+=se*W,I[3]+=se*le,I[5]+=O*O,I[6]+=O*W,I[7]+=O*le,I[10]+=W*W,I[11]+=W*le,I[15]+=le*le}return I[4]=I[1],I[8]=I[2],I[9]=I[6],I[12]=I[3],I[13]=I[7],I[14]=I[11],{R:I,m:R,N:M}}function k(_){const{R:C}=_,{m:F}=_,{N:I}=_,R=F[0],M=F[1],te=F[2],se=F[3],O=I==0?0:1/I,W=[C[0]-R*R*O,C[1]-R*M*O,C[2]-R*te*O,C[3]-R*se*O,C[4]-M*R*O,C[5]-M*M*O,C[6]-M*te*O,C[7]-M*se*O,C[8]-te*R*O,C[9]-te*M*O,C[10]-te*te*O,C[11]-te*se*O,C[12]-se*R*O,C[13]-se*M*O,C[14]-se*te*O,C[15]-se*se*O],le=W,K=E;let ee=[Math.random(),Math.random(),Math.random(),Math.random()],j=0,U=0;if(I!=0)for(let ne=0;ne<16&&(ee=K.multVec(le,ee),U=Math.sqrt(K.dot(ee,ee)),ee=K.sml(1/U,ee),!(ne!=0&&Math.abs(U-j)<1e-9));ne++)j=U;const G=[R*O,M*O,te*O,se*O];return{Cov:W,q:G,e:ee,L:j,eMq255:K.dot(K.sml(255,G),ee),eMq:K.dot(ee,G),rgba:(Math.round(255*G[3])<<24|Math.round(255*G[2])<<16|Math.round(255*G[1])<<8|Math.round(255*G[0])<<0)>>>0}}var E={multVec:(_,C)=>[_[0]*C[0]+_[1]*C[1]+_[2]*C[2]+_[3]*C[3],_[4]*C[0]+_[5]*C[1]+_[6]*C[2]+_[7]*C[3],_[8]*C[0]+_[9]*C[1]+_[10]*C[2]+_[11]*C[3],_[12]*C[0]+_[13]*C[1]+_[14]*C[2]+_[15]*C[3]],dot:(_,C)=>_[0]*C[0]+_[1]*C[1]+_[2]*C[2]+_[3]*C[3],sml:(_,C)=>[_*C[0],_*C[1],_*C[2],_*C[3]]};Qi.encode=function(C,F,I,R,M,te,se){R==null&&(R=0),se==null&&(se=!1);const O=u(C,F,I,R,[!1,!1,!1,0,se,!1]);return A(O,-1),c(O,F,I,M,te)},Qi.encodeLL=function(C,F,I,R,M,te,se,O){const W={ctype:0+(R==1?0:2)+(M==0?0:4),depth:te,frames:[]},le=(R+M)*te,K=le*F;for(let ee=0;ee<C.length;ee++)W.frames.push({rect:{x:0,y:0,width:F,height:I},img:new Uint8Array(C[ee]),blend:0,dispose:1,bpp:Math.ceil(le/8),bpl:Math.ceil(K/8)});return A(W,0,!0),c(W,F,I,se,O)},Qi.encode.compress=u,Qi.encode.dither=i,Qi.quantize=y,Qi.quantize.getKDtree=w,Qi.quantize.getNearest=b})();const AO={toArrayBuffer(e,t){const n=e.width,r=e.height,a=n<<2,s=e.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),i=(32*n+31)/32<<2,c=i*r,A=122+c,u=new ArrayBuffer(A),f=new DataView(u),m=1<<20;let v,h,y,w,b=m,B=0,S=0,T=0;function N(_){f.setUint16(S,_,!0),S+=2}function k(_){f.setUint32(S,_,!0),S+=4}function E(_){S+=_}N(19778),k(A),E(4),k(122),k(108),k(n),k(-r>>>0),N(1),N(32),k(3),k(c),k(2835),k(2835),E(8),k(16711680),k(65280),k(255),k(4278190080),k(1466527264),(function _(){for(;B<r&&b>0;){for(w=122+B*i,v=0;v<a;)b--,h=o[T++],y=h>>>24,f.setUint32(w+v,h<<8|y),v+=4;B++}T<o.length?(b=m,setTimeout(_,AO._dly)):t(u)})()},toBlob(e,t){this.toArrayBuffer(e,(n=>{t(new Blob([n],{type:"image/bmp"}))}))},_dly:9};var Bo={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},$xe={[Bo.CHROME]:16384,[Bo.FIREFOX]:11180,[Bo.DESKTOP_SAFARI]:16384,[Bo.IE]:8192,[Bo.IOS]:4096,[Bo.ETC]:8192};const Ek=typeof window<"u",fO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,d2=Ek&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Wxe=(Ek||fO)&&(d2&&d2.getOriginalSymbol(window,"File")||typeof File<"u"&&File),mO=(Ek||fO)&&(d2&&d2.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Bk(e,t,n=Date.now()){return new Promise((r=>{const a=e.split(","),s=a[0].match(/:(.*?);/)[1],o=globalThis.atob(a[1]);let i=o.length;const c=new Uint8Array(i);for(;i--;)c[i]=o.charCodeAt(i);const A=new Blob([c],{type:s});A.name=t,A.lastModified=n,r(A)}))}function hO(e){return new Promise(((t,n)=>{const r=new mO;r.onload=()=>t(r.result),r.onerror=a=>n(a),r.readAsDataURL(e)}))}function vO(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=a=>n(a),r.src=e}))}function Xd(){if(Xd.cachedResult!==void 0)return Xd.cachedResult;let e=Bo.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=Bo.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=Bo.IOS:/Safari/i.test(t)?e=Bo.DESKTOP_SAFARI:/Firefox/i.test(t)?e=Bo.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=Bo.IE),Xd.cachedResult=e,Xd.cachedResult}function pO(e,t){const n=Xd(),r=$xe[n];let a=e,s=t,o=a*s;const i=a>s?s/a:a/s;for(;o>r*r;){const c=(r+a)/2,A=(r+s)/2;c<A?(s=A,a=A*i):(s=c*i,a=c),o=a*s}return{width:a,height:s}}function Kw(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function gO(e,t){const{width:n,height:r}=pO(e.width,e.height),[a,s]=Kw(n,r);return t&&/jpe?g/.test(t)&&(s.fillStyle="white",s.fillRect(0,0,a.width,a.height)),s.drawImage(e,0,0,a.width,a.height),a}function my(){return my.cachedResult!==void 0||(my.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),my.cachedResult}function A2(e,t={}){return new Promise((function(n,r){let a,s;var o=function(){try{return s=gO(a,t.fileType||e.type),n([a,s])}catch(c){return r(c)}},i=function(c){try{var A=function(u){try{throw u}catch(f){return r(f)}};try{let u;return hO(e).then((function(f){try{return u=f,vO(u).then((function(m){try{return a=m,(function(){try{return o()}catch(v){return r(v)}})()}catch(v){return A(v)}}),A)}catch(m){return A(m)}}),A)}catch(u){A(u)}}catch(u){return r(u)}};try{if(my()||[Bo.DESKTOP_SAFARI,Bo.MOBILE_SAFARI].includes(Xd()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(c){try{return a=c,o()}catch{return i()}}),i)}catch{i()}}))}function f2(e,t,n,r,a=1){return new Promise((function(s,o){let i;if(t==="image/png"){let A,u,f;return A=e.getContext("2d"),{data:u}=A.getImageData(0,0,e.width,e.height),f=Qi.encode([u.buffer],e.width,e.height,4096*a),i=new Blob([f],{type:t}),i.name=n,i.lastModified=r,c.call(this)}{let A=function(){return c.call(this)};if(t==="image/bmp")return new Promise((u=>AO.toBlob(e,u))).then((function(u){try{return i=u,i.name=n,i.lastModified=r,A.call(this)}catch(f){return o(f)}}).bind(this),o);{let u=function(){return A.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:a}).then((function(f){try{return i=f,i.name=n,i.lastModified=r,u.call(this)}catch(m){return o(m)}}).bind(this),o);{let f;return f=e.toDataURL(t,a),Bk(f,n,r).then((function(m){try{return i=m,u.call(this)}catch(v){return o(v)}}).bind(this),o)}}}function c(){return s(i)}}))}function Ll(e){e.width=0,e.height=0}function Wf(){return new Promise((function(e,t){let n,r,a,s;return Wf.cachedResult!==void 0?e(Wf.cachedResult):Bk("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(o){try{return n=o,A2(n).then((function(i){try{return r=i[1],f2(r,n.type,n.name,n.lastModified).then((function(c){try{return a=c,Ll(r),A2(a).then((function(A){try{return s=A[0],Wf.cachedResult=s.width===1&&s.height===2,e(Wf.cachedResult)}catch(u){return t(u)}}),t)}catch(A){return t(A)}}),t)}catch(c){return t(c)}}),t)}catch(i){return t(i)}}),t)}))}function yO(e){return new Promise(((t,n)=>{const r=new mO;r.onload=a=>{const s=new DataView(a.target.result);if(s.getUint16(0,!1)!=65496)return t(-2);const o=s.byteLength;let i=2;for(;i<o;){if(s.getUint16(i+2,!1)<=8)return t(-1);const c=s.getUint16(i,!1);if(i+=2,c==65505){if(s.getUint32(i+=2,!1)!=1165519206)return t(-1);const A=s.getUint16(i+=6,!1)==18761;i+=s.getUint32(i+4,A);const u=s.getUint16(i,A);i+=2;for(let f=0;f<u;f++)if(s.getUint16(i+12*f,A)==274)return t(s.getUint16(i+12*f+8,A))}else{if((65280&c)!=65280)break;i+=s.getUint16(i,!1)}}return t(-1)},r.onerror=a=>n(a),r.readAsArrayBuffer(e)}))}function wO(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:a}=t;let s,o=e;return isFinite(a)&&(n>a||r>a)&&([o,s]=Kw(n,r),n>r?(o.width=a,o.height=r/n*a):(o.width=n/r*a,o.height=a),s.drawImage(e,0,0,o.width,o.height),Ll(e)),o}function _O(e,t){const{width:n}=e,{height:r}=e,[a,s]=Kw(n,r);switch(t>4&&t<9?(a.width=r,a.height=n):(a.width=n,a.height=r),t){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(e,0,0,n,r),Ll(e),a}function sU(e,t,n=0){return new Promise((function(r,a){let s,o,i,c,A,u,f,m,v,h,y,w,b,B,S,T,N,k,E,_;function C(I=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;s+=I,t.onProgress(Math.min(s,100))}function F(I){if(t.signal&&t.signal.aborted)throw t.signal.reason;s=Math.min(Math.max(I,s),100),t.onProgress(s)}return s=n,o=t.maxIteration||10,i=1024*t.maxSizeMB*1024,C(),A2(e,t).then((function(I){try{return[,c]=I,C(),A=wO(c,t),C(),new Promise((function(R,M){var te;if(!(te=t.exifOrientation))return yO(e).then((function(O){try{return te=O,se.call(this)}catch(W){return M(W)}}).bind(this),M);function se(){return R(te)}return se.call(this)})).then((function(R){try{return u=R,C(),Wf().then((function(M){try{return f=M?A:_O(A,u),C(),m=t.initialQuality||1,v=t.fileType||e.type,f2(f,v,e.name,e.lastModified,m).then((function(te){try{{let O=function(){if(o--&&(S>i||S>b)){let le,K;return le=_?.95*E.width:E.width,K=_?.95*E.height:E.height,[N,k]=Kw(le,K),k.drawImage(E,0,0,le,K),m*=v==="image/png"?.85:.95,f2(N,v,e.name,e.lastModified,m).then((function(ee){try{return T=ee,Ll(E),E=N,S=T.size,F(Math.min(99,Math.floor((B-S)/(B-i)*100))),O}catch(j){return a(j)}}),a)}return[1]},W=function(){return Ll(E),Ll(N),Ll(A),Ll(f),Ll(c),F(100),r(T)};if(h=te,C(),y=h.size>i,w=h.size>e.size,!y&&!w)return F(100),r(h);var se;return b=e.size,B=h.size,S=B,E=f,_=!t.alwaysKeepResolution&&y,(se=(function(le){for(;le;){if(le.then)return void le.then(se,a);try{if(le.pop){if(le.length)return le.pop()?W.call(this):le;le=O}else le=le.call(this)}catch(K){return a(K)}}}).bind(this))(O)}}catch(O){return a(O)}}).bind(this),a)}catch(te){return a(te)}}).bind(this),a)}catch(M){return a(M)}}).bind(this),a)}catch(R){return a(R)}}).bind(this),a)}))}const jxe=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Nx;function Jxe(e,t){return new Promise(((n,r)=>{Nx||(Nx=(function(o){const i=[];return i.push(o),URL.createObjectURL(new Blob(i))})(jxe));const a=new Worker(Nx);a.addEventListener("message",(function(o){if(t.signal&&t.signal.aborted)a.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void a.terminate();n(o.data.file),a.terminate()}else t.onProgress(o.data.progress)})),a.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",(()=>{r(t.signal.reason),a.terminate()})),a.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})}))}function Ma(e,t){return new Promise((function(n,r){let a,s,o,i,c,A;if(a={...t},o=0,{onProgress:i}=a,a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof a.useWebWorker!="boolean"||a.useWebWorker,delete a.useWebWorker,a.onProgress=v=>{o=v,typeof i=="function"&&i(o)},!(e instanceof Blob||e instanceof Wxe))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(A=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||A)return sU(e,a).then((function(v){try{return s=v,m.call(this)}catch(h){return r(h)}}).bind(this),r);var u=(function(){try{return m.call(this)}catch(v){return r(v)}}).bind(this),f=function(v){try{return sU(e,a).then((function(h){try{return s=h,u()}catch(y){return r(y)}}),r)}catch(h){return r(h)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Jxe(e,a).then((function(v){try{return s=v,u()}catch{return f()}}),f)}catch{f()}function m(){try{s.name=e.name,s.lastModified=e.lastModified}catch{}try{a.preserveExif&&e.type==="image/jpeg"&&(!a.fileType||a.fileType&&a.fileType===e.type)&&(s=dO(e,s))}catch{}return n(s)}}))}Ma.getDataUrlFromFile=hO,Ma.getFilefromDataUrl=Bk,Ma.loadImage=vO,Ma.drawImageInCanvas=gO,Ma.drawFileInCanvas=A2,Ma.canvasToFile=f2,Ma.getExifOrientation=yO,Ma.handleMaxWidthOrHeight=wO,Ma.followExifOrientation=_O,Ma.cleanupCanvasMemory=Ll,Ma.isAutoOrientationInBrowser=Wf,Ma.approximateBelowMaximumCanvasSizeOfBrowser=pO,Ma.copyExifWithoutOrientation=dO,Ma.getBrowserName=Xd,Ma.version="2.0.2";const qxe={class:"text-caption"},Yxe={key:1,class:"text-overline grey--text text--darken-3 mx-2"},Xxe={class:"mb-3"},Zxe={class:"text-body-2"},eCe={class:"text-body-2"},tCe={class:"text-caption text-grey-600"},nCe={class:"d-flex justify-center"},rCe={class:"text-center text-caption mt-2 text-info"},oU={__name:"upload-dialog",props:{consultation:{type:Object,required:!1},procedure:{type:Object,required:!1},patient:{type:Object,required:!1}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,a=H([]),s=H(!1),o=H(""),i=H(null),c=H([]),A=H(""),u=H(null),f=H(""),m=H("fast"),v=H([]),h=[{title:"Skip Compression",value:"none",subtitle:"Upload files without compression (fastest)"},{title:"Fast Compression",value:"fast",subtitle:"Quick compression, minimal quality loss"},{title:"Balanced",value:"balanced",subtitle:"Good balance of quality and size"},{title:"High Quality",value:"high",subtitle:"Best quality, larger files"},{title:"Aggressive",value:"aggressive",subtitle:"Smaller files, some quality loss"},{title:"Ultra",value:"ultra",subtitle:"Maximum compression, noticeable quality loss"}],y=Qxe(),w=y.limits,b=y.acceptedTypes,B=["before_image","after_image","prescription","report","consent_letter"],S=Z(()=>i.value&&i.value.validFiles.length>0),T=Z(()=>S.value&&o.value&&!s.value),N=Z(()=>i.value?.validFiles?i.value.validFiles.some(ee=>ee.file.type.startsWith("image/")):!1),k=Z(()=>{if(!i.value?.validFiles)return"";const ee=i.value.validFiles.filter(q=>q.file.type.startsWith("image/"));if(ee.length===0)return"";const j=ee.reduce((q,Y)=>q+Y.file.size,0),U=(j/(1024*1024)).toFixed(2),G={high:.7,balanced:.5,aggressive:.3,ultra:.2},X=(j*G[m.value]/(1024*1024)).toFixed(2),oe=((1-G[m.value])*100).toFixed(0);return`${U}MB  ${X}MB (${oe}% reduction)`}),E=()=>{if(!i.value?.validFiles){v.value=[];return}const ee=i.value.validFiles.filter(U=>U.file.type.startsWith("image/")),j={high:.7,balanced:.5,aggressive:.3,ultra:.2};v.value=ee.map(U=>{const G=U.file.size,ne=(G/(1024*1024)).toFixed(2),oe=(G*j[m.value]/(1024*1024)).toFixed(2),q=((1-j[m.value])*100).toFixed(0);return{name:U.file.name,originalSize:`${ne}MB`,estimatedSize:`${oe}MB`,reduction:q}})},_=ee=>{if(A.value="",c.value=[],i.value=null,!ee||ee.length===0)return;const j=Mxe(ee);i.value=j;const U=Oxe(j);c.value=U,!j.success&&!j.hasWarnings&&(A.value="Selected files cannot be uploaded due to validation errors"),console.log("File validation result:",j)};Ge(a,_);const C=ee=>({image:"mdi-image",document:"mdi-file-document",video:"mdi-video",other:"mdi-file"})[ee]||"mdi-file",F=ee=>({image:"success",document:"info",video:"warning",other:"grey"})[ee]||"grey",I={high:{maxSizeMB:2,maxWidthOrHeight:2048,quality:.9,fileType:"image/jpeg"},balanced:{maxSizeMB:1,maxWidthOrHeight:1920,quality:.85,fileType:"image/jpeg"},aggressive:{maxSizeMB:.5,maxWidthOrHeight:1600,quality:.75,fileType:"image/jpeg"},ultra:{maxSizeMB:.25,maxWidthOrHeight:1200,quality:.65,fileType:"image/jpeg"}},R=ee=>{const j=ee.size/1048576;return(ee.name.toLowerCase().includes("xray")||ee.name.toLowerCase().includes("scan")||ee.name.toLowerCase().includes("mri"))&&j<=5&&m.value!=="ultra"?I.high:I[m.value]||I.balanced};Ge([i,m],()=>{E()},{immediate:!0});const M=async ee=>new Promise(j=>{const U=document.createElement("canvas"),G=U.getContext("2d"),ne=new Image;ne.onload=()=>{requestAnimationFrame(()=>{U.width=ne.width,U.height=ne.height,G.drawImage(ne,0,0),window.requestIdleCallback?requestIdleCallback(()=>{U.toBlob(X=>{const oe=new File([X],ee.name,{type:ee.type,lastModified:Date.now()});j(oe)},ee.type,.95)}):setTimeout(()=>{U.toBlob(X=>{const oe=new File([X],ee.name,{type:ee.type,lastModified:Date.now()});j(oe)},ee.type,.95)},0)})},ne.src=URL.createObjectURL(ee)}),te=ee=>{const j=ee.type==="image/png"&&ee.name.toLowerCase().includes("transparent");return ee.type==="image/png"||j?"image/png":"image/jpeg"},se=async ee=>{if(!ee.type.startsWith("image/"))return ee;try{const j=ee.size;console.log(`Compressing image: ${ee.name} (${(j/1024/1024).toFixed(2)}MB)`);const U=await M(ee);console.log(`Metadata stripped: ${(U.size/1024/1024).toFixed(2)}MB`);let G;if(m.value==="fast")G={maxSizeMB:1,maxWidthOrHeight:1200,quality:.7,fileType:"image/jpeg",useWebWorker:!1,initialQuality:.7};else{G=R(U);const Y=te(U);G.fileType=Y}let ne=await Ma(U,G);const X=ne.size/j;if(X>.8){if(console.log(`Primary compression insufficient (${(X*100).toFixed(1)}%), trying alternatives...`),G.fileType!=="image/jpeg"){const Y={...G,fileType:"image/jpeg",quality:Math.max(.6,G.quality-.1)},ae=await Ma(U,Y);ae.size<ne.size&&(ne=ae,console.log("JPEG compression was better"))}if(ne.size/j>.7){console.log("Still too large, applying ultra compression...");const ae=await Ma(U,{maxSizeMB:.2,maxWidthOrHeight:1e3,quality:.6,fileType:"image/jpeg",useWebWorker:!0});ae.size<ne.size&&(ne=ae,console.log("Ultra compression applied"))}}const oe=ne.size,q=((1-oe/j)*100).toFixed(1);return console.log(`Final compression: ${ee.name} -> ${(oe/1024/1024).toFixed(2)}MB (${q}% reduction)`),ne}catch(j){console.warn(`Failed to compress ${ee.name}:`,j);try{return console.log(`Attempting fallback JPEG compression for ${ee.name}`),await Ma(ee,{maxSizeMB:1,maxWidthOrHeight:1600,quality:.7,fileType:"image/jpeg",useWebWorker:!0})}catch(U){return console.warn(`Fallback compression also failed for ${ee.name}:`,U),ee}}},O=async(ee,j=null)=>{const U=[];let G=0;for(let ne=0;ne<ee.length;ne++){const X=ee[ne];if(X.type.startsWith("image/")){if(m.value==="none"||X.size>10*1024*1024){console.log(`Skipping compression for file: ${X.name} (${(X.size/1024/1024).toFixed(2)}MB)`),U.push(X),G++;continue}j&&j(Math.round(G/ee.length*100),`Compressing ${X.name}...`);const oe=await new Promise(q=>{setTimeout(async()=>{try{await new Promise(we=>setTimeout(we,0));const Y=se(X),ae=new Promise((we,z)=>setTimeout(()=>z(new Error("Compression timeout")),1e4)),ge=await Promise.race([Y,ae]);q(ge)}catch(Y){console.error("Compression error:",Y),q(X)}},0)});U.push(oe)}else U.push(X);G++,ne<ee.length-1&&await new Promise(oe=>setTimeout(oe,50))}return j&&j(100,"Compression complete!"),U},W=()=>{r("close")},le=()=>{a.value=[],o.value="",i.value=null,c.value=[],A.value=""},K=async()=>{if(!T.value){console.warn("Cannot upload: validation failed or missing file type");return}s.value=!0;try{const ee=i.value.validFiles.map(ae=>ae.file);if(ee.length===0)throw new Error("No valid files to upload");console.log("Compressing images before upload..."),u.value=0,f.value="Starting compression...";const j=await O(ee,(ae,ge)=>{u.value=ae,f.value=ge}),U=new FormData;j.forEach(ae=>{U.append("files",ae)});const G={tag:o.value},ne=n.consultation?.id,X=ne&&ne!==0&&ne!=="0",oe=n.procedure?.id,q=oe&&oe!==0&&oe!=="0";if(X)G.consultationId=ne;else if(q)G.treatmentPlanId=oe;else if(n.patient?.id)G.patientId=n.patient.id;else throw new Error("Either consultation, procedure, or patient ID is required");console.log("Uploading files:",{fileCount:j.length,totalSize:j.reduce((ae,ge)=>ae+ge.size,0),tag:o.value,params:G});const Y=await Bt.post("/upload/",U,{params:G,headers:{"Content-Type":"multipart/form-data"}});console.log("Upload successful:",Y.data)}catch(ee){console.error("Upload failed:",ee)}finally{s.value=!1,u.value=null,f.value="",W()}};return(ee,j)=>{const U=D("v-chip"),G=D("v-card-title"),ne=D("v-col"),X=D("v-icon"),oe=D("v-btn"),q=D("v-tooltip"),Y=D("v-row"),ae=D("v-card"),ge=D("v-file-input"),we=D("v-alert"),z=D("v-expansion-panel-title"),Ae=D("v-list-item-title"),ie=D("v-list-item-subtitle"),_e=D("v-list-item"),Pe=D("v-list"),re=D("v-expansion-panel-text"),be=D("v-expansion-panel"),He=D("v-expansion-panels"),ke=D("v-select"),Se=D("v-divider"),st=D("v-progress-linear");return V(),he(ae,{rounded:"lg",color:"surfaceContainer"},{default:d(()=>[l(Y,{"no-gutters":""},{default:d(()=>[l(ne,{cols:"12"},{default:d(()=>[l(ae,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(Y,{"no-gutters":""},{default:d(()=>[l(ne,{cols:"10"},{default:d(()=>[l(G,{class:"pa-0 pl-2"},{default:d(()=>[j[3]||(j[3]=Q(" Medical File Upload ",-1)),l(U,{size:"small",color:"info",class:"ml-2"},{default:d(()=>[Q(" Max: "+J(We(w).maxFiles)+" files, "+J(We(w).maxFileSize),1)]),_:1})]),_:1})]),_:1}),l(ne,{cols:"2",class:"d-flex justify-end align-center"},{default:d(()=>[l(q,{"max-width":"400"},{activator:d(({props:je})=>[l(oe,Ne({icon:"",size:"x-small"},je,{class:"mr-1"}),{default:d(()=>[l(X,null,{default:d(()=>[...j[4]||(j[4]=[Q("mdi-help-circle-outline",-1)])]),_:1})]),_:1},16)]),default:d(()=>[p("div",qxe,[j[5]||(j[5]=p("strong",null,"File Limits:",-1)),j[6]||(j[6]=p("br",null,null,-1)),Q("  Maximum "+J(We(w).maxFiles)+" files per upload",1),j[7]||(j[7]=p("br",null,null,-1)),Q("  Maximum "+J(We(w).maxFileSize)+" per file",1),j[8]||(j[8]=p("br",null,null,-1)),j[9]||(j[9]=p("br",null,null,-1)),j[10]||(j[10]=p("strong",null,"Accepted Types:",-1)),j[11]||(j[11]=p("br",null,null,-1)),Q("  Images: "+J(We(b).images),1),j[12]||(j[12]=p("br",null,null,-1)),Q("  Documents: "+J(We(b).documents),1),j[13]||(j[13]=p("br",null,null,-1)),Q("  Videos: "+J(We(b).videos),1)])]),_:1}),l(oe,{icon:"",size:"x-small",onClick:W,class:"btn-hover-base"},{default:d(()=>[l(X,null,{default:d(()=>[...j[14]||(j[14]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(Y,{"no-gutters":""},{default:d(()=>[l(ne,{cols:"12"},{default:d(()=>[l(ae,{flat:"",class:"d-flex justify-center ma-2",color:"surfaceContainer"},{default:d(()=>[l(Y,{"no-gutters":""},{default:d(()=>[l(ne,{cols:"12"},{default:d(()=>[l(ge,{modelValue:a.value,"onUpdate:modelValue":[j[0]||(j[0]=je=>a.value=je),_],loading:s.value,density:"comfortable",variant:"solo-inverted",counter:"",clearable:"",accept:"image/*,application/*,video/*",label:"Select medical files",chips:"",multiple:"",error:!!A.value,"error-messages":A.value},{selection:d(({fileNames:je,index:Ve})=>[Ve<2?(V(),he(U,{key:0,color:"primary",size:"small",class:"me-2"},{default:d(()=>[Q(J(je[Ve]),1)]),_:2},1024)):Ve===2?(V(),ye("span",Yxe," +"+J(a.value.length-2)+" File(s) ",1)):Be("",!0)]),_:1},8,["modelValue","loading","error","error-messages"])]),_:1}),c.value.length>0?(V(),he(ne,{key:0,cols:"12"},{default:d(()=>[p("div",Xxe,[(V(!0),ye(ze,null,Jt(c.value,(je,Ve)=>(V(),he(we,{key:Ve,type:je.type,title:je.title,text:je.message,class:"mb-2",density:"compact",variant:"tonal"},null,8,["type","title","text"]))),128))])]),_:1})):Be("",!0),i.value&&i.value.validFiles.length>0?(V(),he(ne,{key:1,cols:"12"},{default:d(()=>[l(He,{variant:"accordion",class:"mb-3"},{default:d(()=>[l(be,null,{default:d(()=>[l(z,null,{default:d(()=>[p("span",Zxe,"  "+J(i.value.summary.validFiles)+" Valid Files ("+J(i.value.summary.formattedTotalSize)+") ",1)]),_:1}),l(re,null,{default:d(()=>[l(Pe,{dense:"",class:"py-0"},{default:d(()=>[(V(!0),ye(ze,null,Jt(i.value.validFiles,je=>(V(),he(_e,{key:je.index,class:"px-0 py-1"},{prepend:d(()=>[l(X,{size:"small",color:F(je.category)},{default:d(()=>[Q(J(C(je.category)),1)]),_:2},1032,["color"])]),default:d(()=>[l(Ae,{class:"text-caption"},{default:d(()=>[Q(J(je.file.name),1)]),_:2},1024),l(ie,{class:"text-caption"},{default:d(()=>[Q(J(je.formattedSize)+"  "+J(je.category),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):Be("",!0),l(ne,{cols:"12"},{default:d(()=>[l(ke,{modelValue:o.value,"onUpdate:modelValue":j[1]||(j[1]=je=>o.value=je),density:"comfortable",variant:"solo-inverted",items:B,label:"Select type",disabled:!S.value},null,8,["modelValue","disabled"])]),_:1}),S.value&&N.value?(V(),he(ne,{key:2,cols:"12"},{default:d(()=>[l(He,{variant:"accordion",class:"mb-3"},{default:d(()=>[l(be,null,{default:d(()=>[l(z,null,{default:d(()=>[p("span",eCe,[j[15]||(j[15]=Q("  Image Compression Settings ",-1)),l(U,{size:"x-small",color:"info",class:"ml-2"},{default:d(()=>[Q(J(m.value),1)]),_:1})])]),_:1}),l(re,null,{default:d(()=>[l(Y,{"no-gutters":""},{default:d(()=>[l(ne,{cols:"12",class:"mb-3"},{default:d(()=>[l(ke,{modelValue:m.value,"onUpdate:modelValue":j[2]||(j[2]=je=>m.value=je),items:h,label:"Compression Mode",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(ne,{cols:"12",class:"mb-2"},{default:d(()=>[p("div",tCe," Estimated compression: "+J(k.value),1)]),_:1}),v.value.length>0?(V(),he(ne,{key:0,cols:"12"},{default:d(()=>[l(Pe,{dense:"",class:"py-0"},{default:d(()=>[(V(!0),ye(ze,null,Jt(v.value,je=>(V(),he(_e,{key:je.name,class:"px-0 py-1"},{default:d(()=>[l(Ae,{class:"text-caption"},{default:d(()=>[Q(J(je.name),1)]),_:2},1024),l(ie,{class:"text-caption"},{default:d(()=>[Q(J(je.originalSize)+"  "+J(je.estimatedSize)+" ("+J(je.reduction)+"% reduction) ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):Be("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):Be("",!0),l(ne,{cols:"12"},{default:d(()=>[l(Se,{class:"mb-2"}),p("div",nCe,[l(oe,{variant:"outlined",onClick:le,disabled:!a.value||a.value.length===0,class:"btn-hover-base mr-4"},{default:d(()=>[...j[16]||(j[16]=[Q(" Clear ",-1)])]),_:1},8,["disabled"]),l(oe,{variant:"elevated",color:"primary",onClick:K,loading:s.value,disabled:!T.value,class:"btn-hover-enhanced ml-4"},{default:d(()=>[l(X,{start:""},{default:d(()=>[...j[17]||(j[17]=[Q("mdi-upload",-1)])]),_:1}),Q(" Upload "+J(i.value?.summary?.validFiles||0)+" Files ",1)]),_:1},8,["loading","disabled"])])]),_:1}),u.value!==null&&u.value<100?(V(),he(ne,{key:3,cols:"12"},{default:d(()=>[l(st,{"model-value":u.value,color:"info",class:"mt-3"},null,8,["model-value"]),p("div",rCe,J(f.value),1)]),_:1})):Be("",!0),s.value?(V(),he(ne,{key:4,cols:"12"},{default:d(()=>[l(st,{indeterminate:"",color:"primary",class:"mt-3"}),j[18]||(j[18]=p("div",{class:"text-center text-caption mt-2 text-primary"}," Uploading medical files... ",-1))]),_:1})):Be("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},aCe={key:0,style:{height:"70vh"}},sCe={key:0,style:{height:"100%",width:"100%",position:"relative"},class:"bg-grey-lighten-4"},oCe={class:"d-flex align-center justify-center fill-height"},iCe={class:"d-flex align-center justify-center fill-height"},lCe={class:"image-controls"},cCe=["src"],uCe={key:2,style:{height:"100%",width:"100%",position:"relative",background:"#f5f5f5"}},dCe={class:"d-flex flex-column align-center justify-center",style:{height:"100%"}},ACe={class:"mt-4"},fCe={class:"mt-6"},mCe={key:3,class:"d-flex flex-column align-center justify-center",style:{height:"100%"}},hCe={class:"mt-4 text-subtitle-1"},vCe={class:"text-caption text-grey"},pCe={class:"mt-4",style:{width:"100%",height:"60%"}},gCe=["src"],yCe={key:4,class:"d-flex flex-column align-center justify-center",style:{height:"100%"}},wCe={class:"mt-4 text-subtitle-1"},_Ce={class:"text-caption text-grey"},bCe={__name:"media-viewer",props:{isOpen:{type:Boolean,required:!0},mediaItems:{type:Array,required:!0},selectedMedia:{type:Object,default:null},currentIndex:{type:Number,default:0}},emits:["close","navigate"],setup(e,{emit:t}){const n=H(!1);let r=null;try{window.require&&(r=window.require("electron").ipcRenderer,n.value=!0)}catch{console.log("Not running in Electron environment")}const a=e,s=t,o=H(!1),i=H(0),c=H(1),A=H(0),u=H(0),f=H(!1),m=H({x:0,y:0}),v=H(!1),h=H("");(async()=>{try{const j=await nO();h.value=j}catch(j){console.error("Failed to get server URL, using localhost:",j),h.value=getServerURLs("localhost").http}})();const w=j=>`${h.value}/api/upload/file?path=${encodeURIComponent(j)}`,b=j=>{if(!j)return"Unknown File";const U=j.split("/");return U[U.length-1]||"Unknown File"},B=j=>{i.value=(i.value+j)%360,i.value<0&&(i.value+=360)},S=()=>{i.value=0},T=()=>{const j=Math.min(c.value*1.2,5);c.value=j},N=()=>{const j=Math.max(c.value/1.2,.2);c.value=j,E()},k=()=>{c.value=1,A.value=0,u.value=0},E=()=>{const j=Math.max(0,(c.value-1)*200);A.value=Math.max(-j,Math.min(j,A.value)),u.value=Math.max(-j,Math.min(j,u.value))},_=j=>{c.value>1&&(f.value=!0,m.value={x:j.clientX,y:j.clientY},j.preventDefault())},C=j=>{if(f.value&&c.value>1){const U=j.clientX-m.value.x,G=j.clientY-m.value.y;A.value+=U/c.value,u.value+=G/c.value,E(),m.value={x:j.clientX,y:j.clientY},j.preventDefault()}},F=()=>{f.value=!1},I=j=>{j.deltaY<0?T():N()},R=async()=>{if(!n.value||!r){console.warn("Copy feature only available in Electron");return}if(!a.selectedMedia||!a.selectedMedia.type.startsWith("image/")){console.warn("Copy feature only available for images");return}try{v.value=!0;const j=await r.invoke("copy-image-to-clipboard",a.selectedMedia.path);if(j.success)console.log("Image copied to clipboard successfully");else throw new Error(j.error||"Failed to copy image")}catch(j){console.error("Failed to copy image to clipboard:",j)}finally{v.value=!1}},M=()=>{i.value=0,c.value=1,A.value=0,u.value=0,f.value=!1,v.value=!1},te=j=>{let U;j==="next"?U=Math.min(a.currentIndex+1,a.mediaItems.length-1):U=Math.max(a.currentIndex-1,0),U!==a.currentIndex&&(M(),s("navigate",U))},se=j=>{if(a.isOpen)switch(j.key){case"ArrowLeft":j.preventDefault(),te("prev");break;case"ArrowRight":j.preventDefault(),te("next");break;case"Escape":j.preventDefault(),ee();break}},O=async j=>{const U=w(j.path);if(window.require)try{const{ipcRenderer:G}=window.require("electron"),ne=await G.invoke("open-external",U);if(ne.success){console.log("Successfully opened PDF with system default application");return}else console.error("Failed to open with system app:",ne.error)}catch(G){console.error("Failed to use Electron IPC:",G)}W(U)},W=j=>{try{if(!window.open(j,"_blank","noopener,noreferrer")){console.log("Popup blocked, trying alternative approach");const G=document.createElement("a");G.href=j,G.target="_blank",G.rel="noopener noreferrer",document.body.appendChild(G),G.click(),document.body.removeChild(G)}}catch(U){console.error("Failed to open URL:",U),le(j)}},le=async j=>{try{await navigator.clipboard.writeText(j),console.log("URL copied to clipboard:",j),alert("Unable to open PDF. URL copied to clipboard - paste it in your browser.")}catch(U){console.error("Failed to copy to clipboard:",U),prompt("Copy this URL to view the PDF:",j)}},K=j=>{const U=w(j.path),G=document.createElement("a");G.href=U,G.download=b(j.path)||"download",document.body.appendChild(G),G.click(),document.body.removeChild(G)},ee=()=>{o.value=!1,s("close")};return(j,U)=>{const G=D("v-chip"),ne=D("v-col"),X=D("v-icon"),oe=D("v-btn"),q=D("v-tooltip"),Y=D("v-row"),ae=D("v-card"),ge=D("v-progress-circular"),we=D("v-alert"),z=D("v-img"),Ae=D("v-card-text");return V(),he(ae,{onKeydown:se},{default:d(()=>[l(Y,{"no-gutters":""},{default:d(()=>[l(ne,{cols:"12"},{default:d(()=>[l(ae,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(Y,{"no-gutters":""},{default:d(()=>[l(ne,{cols:"8",class:"d-flex align-center justify-start"},{default:d(()=>[U[13]||(U[13]=p("span",null,"Media Viewer",-1)),l(G,{class:"ml-2",size:"small",variant:"outlined"},{default:d(()=>[Q(J(e.currentIndex+1)+" of "+J(e.mediaItems.length),1)]),_:1}),e.selectedMedia?.tag?(V(),he(G,{key:0,class:"ml-2",size:"small",color:"primary"},{default:d(()=>[Q(J(e.selectedMedia.tag==="before_image"?"Before":e.selectedMedia.tag==="after_image"?"After":e.selectedMedia.tag==="report"?"Report":e.selectedMedia.tag==="prescription"?"Rx":e.selectedMedia.tag==="consent_letter"?"Consent":e.selectedMedia.tag),1)]),_:1})):Be("",!0)]),_:1}),l(ne,{cols:"4",class:"d-flex align-center justify-end"},{default:d(()=>[l(q,{text:"Previous ()",location:"bottom"},{activator:d(({props:ie})=>[l(oe,Ne({icon:"",variant:"text",disabled:e.currentIndex===0,onClick:U[0]||(U[0]=_e=>te("prev")),class:"mr-1"},ie),{default:d(()=>[l(X,null,{default:d(()=>[...U[14]||(U[14]=[Q("mdi-chevron-left",-1)])]),_:1})]),_:1},16,["disabled"])]),_:1}),l(q,{text:"Next ()",location:"bottom"},{activator:d(({props:ie})=>[l(oe,Ne({icon:"",variant:"text",disabled:e.currentIndex===e.mediaItems.length-1,onClick:U[1]||(U[1]=_e=>te("next")),class:"mr-2"},ie),{default:d(()=>[l(X,null,{default:d(()=>[...U[15]||(U[15]=[Q("mdi-chevron-right",-1)])]),_:1})]),_:1},16,["disabled"])]),_:1}),l(q,{text:"Close (Esc)",location:"bottom"},{activator:d(({props:ie})=>[l(oe,Ne({icon:"",size:"x-small",onClick:ee},ie),{default:d(()=>[l(X,null,{default:d(()=>[...U[16]||(U[16]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1},16)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(Ae,{class:"pa-0"},{default:d(()=>[e.selectedMedia?(V(),ye("div",aCe,[e.selectedMedia.type.startsWith("image/")?(V(),ye("div",sCe,[p("div",{style:It([{height:"100%",width:"100%",overflow:"hidden",cursor:"grab"},{cursor:f.value?"grabbing":c.value>1?"grab":"default"}]),onMousedown:_,onMousemove:C,onMouseup:F,onMouseleave:F,onWheel:Qn(I,["prevent"])},[e.selectedMedia.path?(V(),he(z,{key:0,src:w(e.selectedMedia.path),height:"100%",width:"100%",contain:"",style:It({transform:`rotate(${i.value}deg) scale(${c.value}) translate(${A.value}px, ${u.value}px)`,transition:f.value?"none":"transform 0.3s ease",transformOrigin:"center center"})},{placeholder:d(()=>[p("div",oCe,[l(ge,{indeterminate:"",color:"primary"})])]),error:d(()=>[p("div",iCe,[l(we,{type:"error",variant:"tonal"},{default:d(()=>[...U[17]||(U[17]=[Q(" Failed to load image ",-1)])]),_:1})])]),_:1},8,["src","style"])):Be("",!0)],36),p("div",lCe,[l(q,{text:"Copy Image",location:"top"},{activator:d(({props:ie})=>[l(oe,Ne({icon:"",size:"small",variant:"elevated",onClick:U[2]||(U[2]=_e=>R())},ie,{class:"mr-2",loading:v.value,disabled:v.value}),{default:d(()=>[l(X,null,{default:d(()=>[...U[18]||(U[18]=[Q("mdi-content-copy",-1)])]),_:1})]),_:1},16,["loading","disabled"])]),_:1}),l(q,{text:"Zoom In",location:"top"},{activator:d(({props:ie})=>[l(oe,Ne({icon:"",size:"small",variant:"elevated",onClick:U[3]||(U[3]=_e=>T())},ie,{class:"mr-2",disabled:c.value>=5}),{default:d(()=>[l(X,null,{default:d(()=>[...U[19]||(U[19]=[Q("mdi-magnify-plus-outline",-1)])]),_:1})]),_:1},16,["disabled"])]),_:1}),l(q,{text:"Zoom Out",location:"top"},{activator:d(({props:ie})=>[l(oe,Ne({icon:"",size:"small",variant:"elevated",onClick:U[4]||(U[4]=_e=>N())},ie,{class:"mr-2",disabled:c.value<=.2}),{default:d(()=>[l(X,null,{default:d(()=>[...U[20]||(U[20]=[Q("mdi-magnify-minus-outline",-1)])]),_:1})]),_:1},16,["disabled"])]),_:1}),l(q,{text:"Reset Zoom",location:"top"},{activator:d(({props:ie})=>[l(oe,Ne({icon:"",size:"small",variant:"elevated",onClick:U[5]||(U[5]=_e=>k())},ie,{class:"mr-2",disabled:c.value===1&&A.value===0&&u.value===0}),{default:d(()=>[l(X,null,{default:d(()=>[...U[21]||(U[21]=[Q("mdi-fit-to-page-outline",-1)])]),_:1})]),_:1},16,["disabled"])]),_:1}),l(q,{text:"Rotate Left",location:"top"},{activator:d(({props:ie})=>[l(oe,Ne({icon:"",size:"small",variant:"elevated",onClick:U[6]||(U[6]=_e=>B(-90))},ie,{class:"mr-2"}),{default:d(()=>[l(X,null,{default:d(()=>[...U[22]||(U[22]=[Q("mdi-rotate-left",-1)])]),_:1})]),_:1},16)]),_:1}),l(q,{text:"Rotate Right",location:"top"},{activator:d(({props:ie})=>[l(oe,Ne({icon:"",size:"small",variant:"elevated",onClick:U[7]||(U[7]=_e=>B(90))},ie,{class:"mr-2"}),{default:d(()=>[l(X,null,{default:d(()=>[...U[23]||(U[23]=[Q("mdi-rotate-right",-1)])]),_:1})]),_:1},16)]),_:1}),l(q,{text:"Reset Rotation",location:"top"},{activator:d(({props:ie})=>[l(oe,Ne({icon:"",size:"small",variant:"elevated",onClick:U[8]||(U[8]=_e=>S())},ie,{disabled:i.value===0}),{default:d(()=>[l(X,null,{default:d(()=>[...U[24]||(U[24]=[Q("mdi-backup-restore",-1)])]),_:1})]),_:1},16,["disabled"])]),_:1})])])):e.selectedMedia.type.startsWith("video/")?(V(),ye("video",{key:1,src:w(e.selectedMedia.path),controls:"",style:{width:"100%",height:"100%","object-fit":"contain"}},null,8,cCe)):e.selectedMedia.type==="application/pdf"?(V(),ye("div",uCe,[p("div",dCe,[l(X,{size:"80",color:"primary"},{default:d(()=>[...U[25]||(U[25]=[Q("mdi-file-pdf-box",-1)])]),_:1}),p("h3",ACe,J(b(e.selectedMedia.path)),1),U[28]||(U[28]=p("p",{class:"text-caption text-grey mt-2"},"PDF Document",-1)),U[29]||(U[29]=p("p",{class:"text-caption text-grey"},"Click to open/download this PDF",-1)),p("div",fCe,[l(oe,{color:"primary",variant:"elevated",size:"large",onClick:U[9]||(U[9]=ie=>O(e.selectedMedia)),class:"px-8"},{default:d(()=>[l(X,{left:""},{default:d(()=>[...U[26]||(U[26]=[Q("mdi-file-pdf-box",-1)])]),_:1}),U[27]||(U[27]=Q(" Open PDF ",-1))]),_:1})])])])):e.selectedMedia.type.startsWith("application/")?(V(),ye("div",mCe,[l(X,{size:"64",color:"grey"},{default:d(()=>[...U[30]||(U[30]=[Q("mdi-file-document",-1)])]),_:1}),p("p",hCe,J(b(e.selectedMedia.path)),1),p("p",vCe,"File type: "+J(e.selectedMedia.type),1),p("div",pCe,[p("iframe",{src:w(e.selectedMedia.path),style:{width:"100%",height:"100%",border:"1px solid #ccc"},title:"Document Viewer",onError:U[10]||(U[10]=ie=>o.value=!0)},null,40,gCe)]),l(oe,{color:"primary",variant:"outlined",class:"mt-4",onClick:U[11]||(U[11]=ie=>K(e.selectedMedia))},{default:d(()=>[l(X,{left:""},{default:d(()=>[...U[31]||(U[31]=[Q("mdi-download",-1)])]),_:1}),U[32]||(U[32]=Q(" Download File ",-1))]),_:1})])):(V(),ye("div",yCe,[l(X,{size:"64",color:"grey"},{default:d(()=>[...U[33]||(U[33]=[Q("mdi-file",-1)])]),_:1}),p("p",wCe,J(b(e.selectedMedia.path)),1),p("p",_Ce,"File type: "+J(e.selectedMedia.type),1),l(oe,{color:"primary",variant:"outlined",class:"mt-4",onClick:U[12]||(U[12]=ie=>K(e.selectedMedia))},{default:d(()=>[l(X,{left:""},{default:d(()=>[...U[34]||(U[34]=[Q("mdi-download",-1)])]),_:1}),U[35]||(U[35]=Q(" Download File ",-1))]),_:1})]))])):Be("",!0)]),_:1})]),_:1})}}},iU=on(bCe,[["__scopeId","data-v-d18d8f93"]]),xCe={key:0,class:"text-caption text-medium-emphasis ml-2"},CCe={key:0,class:"d-flex justify-center align-center",style:{height:"400px"}},ECe={key:1,class:"text-center pa-4"},BCe={class:"text-error"},SCe={key:2},kCe={class:"images-column"},ICe={class:"column-header pa-3 bg-surface-variant"},TCe={key:0,class:"images-scroll"},FCe={class:"pa-2"},PCe={class:"text-body-2 font-weight-bold"},DCe={class:"d-flex align-center justify-center fill-height"},UCe={class:"d-flex align-center justify-center fill-height"},RCe={key:1,class:"empty-state pa-4 text-center"},NCe={class:"images-column"},LCe={class:"column-header pa-3 bg-surface-variant"},VCe={key:0,class:"images-scroll"},MCe={class:"pa-2"},OCe={class:"text-body-2 font-weight-bold"},QCe={class:"d-flex align-center justify-center fill-height"},HCe={class:"d-flex align-center justify-center fill-height"},KCe={key:1,class:"empty-state pa-4 text-center"},GCe={__name:"patient-images-modal",props:{isOpen:{type:Boolean,required:!0},patientId:{type:Number,required:!0},doctorId:{type:Number,required:!1}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,a=H(!1),s=H(null),o=H(null),i=H([]),c=Z(()=>i.value.filter(v=>v.tag==="before_image").sort((v,h)=>h.createdAt-v.createdAt)),A=Z(()=>i.value.filter(v=>v.tag==="after_image").sort((v,h)=>h.createdAt-v.createdAt)),u=v=>{if(!v)return"";const h=new Date(v*1e3),y=new Date,w=new Date(h.getFullYear(),h.getMonth(),h.getDate()),B=new Date(y.getFullYear(),y.getMonth(),y.getDate()).getTime()-w.getTime(),S=Math.floor(B/(1e3*3600*24)),T=h.toLocaleDateString("en-US",{timeZone:"Asia/Kolkata",year:"numeric",month:"short",day:"numeric"});let N;return S===0?N="Today":S===1?N="1 day ago":N=`${S} days ago`,`${T}  ${N}`},f=async()=>{if(n.patientId){a.value=!0,s.value=null;try{const v=await Qge(n.patientId,"both",n.doctorId);if(v.success){o.value=v.data.patient;const h=v.data.images.map(w=>w.path),y=await xk(h);i.value=v.data.images.map((w,b)=>({...w,fileUrl:y[b]}))}else s.value=v.error}catch(v){s.value=v.message||"Failed to fetch patient images"}finally{a.value=!1}}},m=()=>{r("close")};return fn(()=>{n.patientId&&f()}),Ge(()=>n.isOpen,v=>{v&&n.patientId&&f()}),Ge(()=>n.patientId,v=>{v&&n.isOpen&&f()}),(v,h)=>{const y=D("v-card-title"),w=D("v-col"),b=D("v-icon"),B=D("v-btn"),S=D("v-row"),T=D("v-card"),N=D("v-progress-circular"),k=D("v-chip"),E=D("v-card-subtitle"),_=D("v-alert"),C=D("v-img"),F=D("v-card-text");return V(),he(T,{rounded:"lg",color:"surfaceContainer"},{default:d(()=>[l(S,{"no-gutters":""},{default:d(()=>[l(w,{cols:"12"},{default:d(()=>[l(T,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(S,{"no-gutters":""},{default:d(()=>[l(w,{cols:"11"},{default:d(()=>[l(y,{class:"pa-0 pl-2"},{default:d(()=>[h[0]||(h[0]=Q(" Patient Images History ",-1)),o.value?(V(),ye("span",xCe," - "+J(o.value.name),1)):Be("",!0)]),_:1})]),_:1}),l(w,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(B,{icon:"",size:"x-small",onClick:m},{default:d(()=>[l(b,null,{default:d(()=>[...h[1]||(h[1]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(S,{"no-gutters":""},{default:d(()=>[l(w,{cols:"12"},{default:d(()=>[l(T,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[a.value?(V(),ye("div",CCe,[l(N,{indeterminate:"",color:"primary",size:"64"})])):s.value?(V(),ye("div",ECe,[l(b,{color:"error",size:"48",class:"mb-2"},{default:d(()=>[...h[2]||(h[2]=[Q("mdi-alert-circle",-1)])]),_:1}),p("p",BCe,J(s.value),1),l(B,{onClick:f,color:"primary",variant:"outlined"},{default:d(()=>[...h[3]||(h[3]=[Q(" Try Again ",-1)])]),_:1})])):(V(),ye("div",SCe,[l(F,{class:"pa-0",style:{height:"75vh"}},{default:d(()=>[l(S,{"no-gutters":"",class:"fill-height"},{default:d(()=>[l(w,{cols:"6",class:"border-e"},{default:d(()=>[p("div",kCe,[p("div",ICe,[l(b,{icon:"mdi-camera-outline",class:"me-2",color:"success"}),h[4]||(h[4]=p("span",{class:"text-subtitle-2 font-weight-bold"},"Before Images",-1)),l(k,{size:"small",class:"ms-2"},{default:d(()=>[Q(J(c.value.length),1)]),_:1})]),c.value.length>0?(V(),ye("div",TCe,[p("div",FCe,[l(S,{"no-gutters":""},{default:d(()=>[(V(!0),ye(ze,null,Jt(c.value,(I,R)=>(V(),he(w,{key:`before-${R}`,cols:"12",class:"mb-3"},{default:d(()=>[l(T,{class:"image-card",elevation:"2"},{default:d(()=>[l(E,{class:"pa-2"},{default:d(()=>[p("div",PCe,[l(b,{icon:"mdi-calendar",size:"small",class:"me-1"}),Q(" "+J(u(I.createdAt)),1)])]),_:2},1024),I.fileUrl?(V(),he(C,{key:0,src:I.fileUrl,"aspect-ratio":"1",cover:"",loading:"lazy",transition:!1,class:"image-thumbnail"},{placeholder:d(()=>[p("div",DCe,[l(N,{indeterminate:"",size:"24"})])]),error:d(()=>[p("div",UCe,[l(_,{type:"error",variant:"tonal"},{default:d(()=>[...h[5]||(h[5]=[Q(" Failed to load image ",-1)])]),_:1})])]),_:1},8,["src"])):Be("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])):(V(),ye("div",RCe,[l(b,{icon:"mdi-camera-off",size:"48",class:"text-medium-emphasis mb-2"}),h[6]||(h[6]=p("p",{class:"text-body-2 text-medium-emphasis"},"No before images found",-1))]))])]),_:1}),l(w,{cols:"6"},{default:d(()=>[p("div",NCe,[p("div",LCe,[l(b,{icon:"mdi-camera-enhance",class:"me-2",color:"info"}),h[7]||(h[7]=p("span",{class:"text-subtitle-2 font-weight-bold"},"After Images",-1)),l(k,{size:"small",class:"ms-2"},{default:d(()=>[Q(J(A.value.length),1)]),_:1})]),A.value.length>0?(V(),ye("div",VCe,[p("div",MCe,[l(S,{"no-gutters":""},{default:d(()=>[(V(!0),ye(ze,null,Jt(A.value,(I,R)=>(V(),he(w,{key:`after-${R}`,cols:"12",class:"mb-3"},{default:d(()=>[l(T,{class:"image-card",elevation:"2"},{default:d(()=>[l(E,{class:"pa-2"},{default:d(()=>[p("div",OCe,[l(b,{icon:"mdi-calendar",size:"small",class:"me-1"}),Q(" "+J(u(I.createdAt)),1)])]),_:2},1024),I.fileUrl?(V(),he(C,{key:0,src:I.fileUrl,"aspect-ratio":"1",cover:"",loading:"lazy",transition:!1,class:"image-thumbnail"},{placeholder:d(()=>[p("div",QCe,[l(N,{indeterminate:"",size:"24"})])]),error:d(()=>[p("div",HCe,[l(_,{type:"error",variant:"tonal"},{default:d(()=>[...h[8]||(h[8]=[Q(" Failed to load image ",-1)])]),_:1})])]),_:1},8,["src"])):Be("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})])])):(V(),ye("div",KCe,[l(b,{icon:"mdi-camera-off",size:"48",class:"text-medium-emphasis mb-2"}),h[9]||(h[9]=p("p",{class:"text-body-2 text-medium-emphasis"},"No after images found",-1))]))])]),_:1})]),_:1})]),_:1})]))]),_:1})]),_:1})]),_:1})]),_:1})}}},lU=on(GCe,[["__scopeId","data-v-55f97757"]]),zCe={__name:"delete-upload",props:{deleteSelectedUpload:{type:Object,required:!0}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,a=H(n.deleteSelectedUpload),s=()=>{r("close")},o=async i=>{try{const c=await Kge(i.id);c.success?console.log("Upload deleted successfully"):console.error("Error deleting upload:",c.error)}catch(c){console.error("Error deleting upload:",c)}s()};return(i,c)=>{const A=D("v-card-title"),u=D("v-col"),f=D("v-icon"),m=D("v-btn"),v=D("v-row"),h=D("v-card"),y=D("v-card-text"),w=D("v-divider");return V(),he(h,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(h,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"11"},{default:d(()=>[l(A,{class:"pa-0 pl-2"},{default:d(()=>[...c[1]||(c[1]=[Q("Confirm Upload Delete",-1)])]),_:1})]),_:1}),l(u,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(m,{icon:"",size:"x-small",onClick:s},{default:d(()=>[l(f,null,{default:d(()=>[...c[2]||(c[2]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(h,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(y,{class:"text-left"},{default:d(()=>[...c[3]||(c[3]=[Q(" Are you sure you want to delete this uploaded file? ",-1),p("span",{class:"text-red font-weight-bold"}," You will not be able to recover the file once deleted. ",-1)])]),_:1})]),_:1})]),_:1}),l(w),l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"2"}),l(u,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(m,{variant:"outlined",onClick:c[0]||(c[0]=b=>o(a.value))},{default:d(()=>[...c[4]||(c[4]=[Q("Yes, Delete File",-1)])]),_:1})]),_:1}),l(u,{cols:"2"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},$Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhMAAAHFCAYAAABILHuLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAXLdJREFUeNrsnQl8VNXZ/587M0lIIAthX8MmIMiiolZRoHVpaytqW2vtgm3t6v+tfd/a1r7vW2tbW31rd9DaWqEFdwUV3GXRBGUHCTuELYGEBMgess1y/3OHmeTMmXPuvZPMeu/v+/lcZhKSycydmXu/83uecw4RAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADboOCxAwAAiBIVuwDY8YQKcQAAAMgFwEk2Lo9NgXgAAEBUgqD28PcAZMISj0dxvfXiDHI6Z5KijJG+3iO+rSpxe3uqev+nmPw5k/+ncj8ah9un3t5+VPfD5O0Lvq+a+rtKHO8783Lt9W1Ecft6r4l0uP9xvH01Lu+DXtz/xDpDA3ndpfS3m4ujOIKZvfcQC8hE+j8OvzzMpAzXLX55mOv/cm7KuX66yUQsTvYxO2D37vZVw59TYnAfjf5PiYOg9FAmenQ/FMvIlr1lIuxOlZLPV0LezhK/XKwyIROqjmRAKiAT6Xv/XW/7BcLlutMvEDf7vxyTcvcYMgGZgExAJlJWJjh83teo89zT9I8vvMbdUx/ztSq4LntUkArIRGrfd9fqFV8nh+Me/9WZKX2vIROQCcgEZCJdZKKbRnK3/41qDj5DK35SHpQJVixUHbEwW4gEkImkS8QvUjKFgExAJiATkAlryEQ3ns5n6cRH/0er7i8P3nNWJnixgFRAJlL7/rreWT6PXM4laSMRkAnIBGQCMmEFmQjR0fII7Vjxd9ryTD0jET5mg1RAJlJYIlY+XUD9+v7Lf/XmtNzjkAnIBGQCMmEFmTj/RmqkhpP30LK73vR/5eVkwsdJhqy3AkJhAZzplUa8NI/69NlAqd4XkRaeh9tPvmdjH+H20/0wpfSh7Pxb6ZLPj6HOc1uo5lBn8IHLNtkOwvw+kIkEicSalx8gp1NLJPrY46nBgRQygdvH7afLmSRjKhXNupkGjd9KZcW1JiRCNmEgpAJnrDhJRLqXNXhQ5ojJY0GZw+Tto8yBMkdCj29qE9Uc/DG9cM9bdL7s4QluXgovg4iaNcmCewTJREqIxItL+lNB3nuUKhNOIZnA7eMx4PaRTOg8ZCWL+g28icZfVUO73zjEpA2O4GaUTNh450Em4iQSi/vTgMJ1/qsz7PnU4EAKmcDt4/bTlL6F19PYK6ppz5uHghLBlzxkl9iBkAmIBA50uH3sI9w+zoVB+g24jsbMOk173z6kk0oo2ImQiXi96xTHd7/+JinKFfZ+anAghUzg9nH76S4Ugz5BQycdoYPrKgTJhFmpwI6ETET9rlNca15eElxXw+bgQAqZwO3j9i1A/rDZ5MraRic+qiPjIaLYmZCJ3r/jXO8u16bGfgBPCw6kkAncPm7fKocyJYsGjZ9OlXuKqfm0GzsGMhFfkXjj+YspM+NZss08EjiQ4kSAfYTbt8uZJmMADZ+STaWrtpvcMaKpt7FDUxhHipwtFcrK1NbZKMBTAgAAFqT/qNtozvc+5r+WHdy0D45Z/i3Tv2VonymDH3BDw0hFk15BKFLVF1NAJhTX6hUPkMNxO54OfCqz16dK7CPcvs0YNG4mlW97n87VdTI7SLQYGDH/hx2LM5bx33W9smws5eUeSdYOmFMwMLF/UDX5fbOz45mdYS/i+0oPf8/sfVRicB+N/pbSo/2hRvO34vqcKbH5W9Lfi3IGzKhfV0qSX8O9/T2DGTCT9T6LMw1tHiqtbE7eWadq73P00n8t9V9r9W9twa3dv3X4N00y3MGNnTXTaOVRkGRcSRYYhXL7LUm0PCwYOsp/OYCK+uTgFQAAsCXH69qp+Eg9FR+up5V7zgQkIyEMnTSfxl/1Ph3ZUE7iZcpFCYWPIvsnIBQ2Tya6yxtvPj+PsrLWJuKPfs0vEPePmQSBAAAAAUu3ngpsmlzEndryYnr6238JphPnuISiPZhMdFL3+h4+LqFAOmFzmWD/nsO19hWtvFEU7yTiyckzIREAAGACLa345nP7AslFXFn58x/S8S3aZFYtQaloJXHJI7RQGModKUyiGzC7U4l3XtLmlFgQrz9U4Mqg34ybQo9OnB64DgAAwJgxhdl052XDqcPjo83lTfH7Qzn5nXRg7UFGDnzcJip5qEn+QAwkJHJoaPg0qk7nPfEUiXdnXkU/GDkOzzAAAER7DM120Z9umUhL7pgSvz8yYsb1FD5MlB0qqm0uCh8uqpB4uCiwUTIRXt5447l5lJHx03j8oRn98mnLrLk0BmUNAADoFTNH5NItFw2iF3bWULvHF+OPso4M6lvYSMc2n2SSCZVLJtjGS1lCAbGwWTLRnUpkZsUlldBEQkskUNYAAIAYHVf9QhG3hGLEtJlMOpEdTCbYiaxCk1k5kE4gmWDN0eF6YfFY6pvzWKz/gCYQq/0iMTQTs3EDAEAsmTy4r/8grgSaM2NKdv4QOrB6A3W0hEZuhBotvSTvn0DzpU2TifBeiYK8+fH4Iy9ddDlGbAAAQJz4xSfH0twJ/WN/wzNv1dKJPsyWScbTbBNFLmkOLC4TFPbEO50xH8GhzR+hTUIFAAAgfjzgF4qYM2TSBApvwOxDkWUOp0QogE1kIuwJdz37jyJSlBmx/ANaGvFzv0wAAACIL3PH9499OjF4whQmjQiJRKZEKPR6JiAYNkgmzj/xhf1vjkcqAQAAIDHEPJ1wZvah8bNHMQLBN2GyyYTRqqLAFjIR4yXGtVRCmyYbAABAYohLOjHswhEU3ivBpxKsUGBEh81kQom4jHHv7QKIBAAAJJwfzonxsbewaJhAJERlDgfp901ALiwoE/wT7JcJNaZP9E0Dh+IZBACABHPzRYNoTGEMh+EXjBjMiINIJEQjOpBQ2EwmmCc7tjKhTVIFAAAg8RQVZsfuxvqPHC0RCVmpAz0TNk0mzqPGrs6hrQYKAADAIvQb2FcgEi4dkcAQURvIBD+pyPknXsUTDwAAQMComUOD0iBKJZwUOaJDVurAecZCMiGWCxWznwIAABCgqg7qTiEyBNf1hoZCIJKMKwESEbeeCQBEFJ+qCx6c2APV+YsZA/OoIMuFnQRAqjFk4iA6sPaYRCJEozlQ5rCRTHDmiR0OYkPJ6VoqrWum4y2t5y+bW6m8uT1y4WKfErm4sd9p8zNdNGNAHs0YlEszB/kvB+cGNgBAksjs24cRB37DpFWQiYiUAoCoKW1oopIztbSqsoaKa2ojJEH1UVQvr8YODxWfrKPiE3Vdt1WQ4aKbLxhM8ycOppsnDsZOByCxnzYVgTjwQiETidB1fGS1RzKB5xmYp7y1jVadqqaFh49ReUtbtzzEiQa/YCzdXUVLS6uoIDMjIBT3XDGaZgxFYgFA/M8PXSM0HCRuuGRFwiiZgFhYPJkAwDiFaGqiRUeP0bKKE93liQS/fAJi4ZeKpTuraO7o/vSLeeNp7tj+eHIAiBcDRhcyIuHgRIKXC0UnoYBEWEwmIA8guiSirZW+tWsnFZ+ti2sCES3Fx+vp2n9to7lFhfSnGyfSjGFIKgCIORnZmYJkwiFJJpBGpBgJXugLozmAIAXwuOnHB/bSxOK1VFJbm7L3s/hYPV3y6Gb60euHqKHdgycOgPicKxycVDgkGxowbSgTAAgpqa+lyzeW0KLyo2lzn//6YQVd+tfNVFrVjCcQgPiJhCKQivCJECETtpIJPNFAyG+OHaTrt2+g8vbWtLvvx+vb6JK/bKal207hiQQgJqjESYLoUja/BM4zFpcJJfK1AuyOVta4bfcWetAvE+nON1/YR998fh+eVAB6y/meCYU5N4kEQrRUgwKpSD4YzQESLhI37NxApc2NlnlMS7eeCojykjum4AkGoKfkDe1P4kRCMfg+Kxf4yGrRZAKASJFoabTcY9OE4pvPIaEAIAbnJL3SRjSNl/gAC5kAEAkIBQA2hl9iXDGxQSIgE8Dq3LZnq6VFghWKH716CE84AL2XCLa8IUsnSCAcADIBrMiPD++hkoaztnm8fy05QSv3nMETD0DPZELUJ0Ekb8AEkAlgdVadraZFJ4/a7nFr5Y7jde14AQAQvUwQifsmRIIBIBPA6mh9Et8+8JE9H3ubB0NGAei5UMg2Bxn3TADIBLASmkhoQmFXig/XB0oeAICoRYJMCAMkAjIBrE5JQ22gxGF3fv3OUZQ7AOiZUJhNJQBkAliVb9m0vMGjlTs0oQAAmBYJ0pEG2VBQSAVkAliNp6pPpOV6G/FCGy6KdAIA0zKhN+wT4gCZAHbhweMHsRM4kE4AYIKBY3M4sRBdyq6Lfg5AJkA6ovVJIJWIBOkEACboP6oviUsYEAXIBLATdpxTwiwLSyqwEwAwh15fBGa8hEwAK6MlEnaa6TJaAquLAgB6KxWynwOQCWAFMBRUH21kB4QCgLjLB4BMgHRGG8UB9Fm5G2t2ABBjIYBAQCaAZT51e9y2WBW01zKBBcAAAJAJAMS8hhIHhAKA2IPUATIB7ARSCfNoa3YAAABkAgAObS0OYI73jzRgJwAgoqwkFNth2CdkAtgRJBNR7KvKZuwEAABkAgCIRO8oPoJSBwAAMgFAF40eD3ZClGBqbQAAZAIABsx6GT3lkAkAAGQCANAbjte1YScAACATAIBeyEQ9kgkAAGQCgO4TI5YcBwAAyAQAvaG8HZE9AABAJgAACQWzYAIAIBMAAAAAAJAJECvmFgzATgAAAMgEACCRzBiRi50AAIBMAAB6TkG2CzsBAACZACDE9H752AkAAACZAKAXn7JdGdgJUTKmfx/sBABYzh49g50AmQA2Znq/POyEaGWiMBs7AQB9VOwCyASwEVoygXQiOooKkUwAAJGATAAQBvomomMMZAIAYCHQUg5igjbXBJYij2J/je+ftve9vLGNjjdpU6grga9nDM6lgiwcSkBcQEIBmQB2Yk7BQP+/B7EjzIjEhPQUiYYOD137whYqrWkOfkfpOtSPyc+m+RMG0w9njaaifPSDAGA3UOYAMZKJAeibMMnM4f3SVyRONwv//3hjGy3cXk7j/76e7npzT+DnAeghapx/HkAmQKoLBTAm3ZIJI5HgWbq7iiY8XmL65wGIoYBALCATIN2ZP3AYdoIB2syXN180yLIiEfZ7z26FUIDeCoLKCYLoawCZAFbipoFDUeowIO1E4sUtPRaChnYIBYiCzla3jiSoku8ByASw3Kduv0hoQgF0ZGJaeshEb0UiQihqIBTAgNrjTZwkqBSZTuiVMyAXkAlgFRYMHY2dIEGbWyIdkolYiQSEAvQAkSyI5EJPIiAVkAmQ7mhNmOeHiQKeOy8bbjuRgFAA8yiiFEJ2nSAQkAlgcRYMHYWdwKE1Xt4zJ7X3S5dInInPCR9CAaJAjXIDkAlgNb7ml4kZmF47jB/OGR0QCruKRJhQPAOhAL2SCIJIQCaATfjDhIuwE9IklQiIxEvxF4mwvwehALERChJcB5AJYBXQO5EeqUSiRaLr7yKhAOYlwif5HoBMADvw5OSZtp93QhvB8YtPjoVIQChAbMWC/xkAmQBWpahPDv18zCRb74Mld0xJWZG4LokiESYUT0MogJ/Oc26KLGP4yLhfAjIBmQBW5wcjx9m23PHAJ8el5FLjAZFYnnyRgFCAMGoONVB0pQ4IBWQC2ImXLrrMduUObTGvVCxvpJpIQCiAAL0kwsxcFBALyASwIppIvDvzKtsIhdYn8fI3pkMkeiIUT0EoQFjSoLfIl9nbAJAJYBW0eSfsMFxUG7WhiUSqjd4IiMSK1BUJ9n5CKCASAoFQTYgGgEwAO6BNZvXk5IstLRLr7r6EZozIhUj05v4ioYBIREoDyheQCQCsLxQQiXgIxTZaefA03jT2FAnZ99BwCZkAIFworNJDoQkERCI+QvH5F0tpWWkV3jSQDLPLkAPIBLCVUAwbRe9enP5NmXPH9ad1309RkXg5fUWC5Zur9kIoAIBMACD5RJ+bTwevvpbm9B+Qlvf/gevHBUQiJZstLSISEArAgTQCMgFAJFoysXrWVfSHyVPTJqXQ0ogdP7yCfuGXiVSjWySaLPda+eZKCAWAVEAmANDhB0XjaMvsOfS1kam7umZR/2xa8vmptO7bl9KMYbkpd/+sLBIQChvQ3uSGSKQvLuwCkDIn6+wcenL6TFowYhQ9ePAQFZ+tTYn7NaYgm34xbxwtuHh4yu67LpE422T514kmFBoLZgzHm8ZKnNjZgJ0AmQAgZswZMIBWX3Ullbe20YMHDtGqqurAyTLR3DxpsP+ENYxunjw4pfeXnUQiTCj8n08XzIRQAACZAECHopxsevKSGdQwbYpfKGpoVWU1rTpZE1+BmDiY5o7qHxCJovzslN9HAZF4xV4iESYUBKEAADIBgAkKMjJoQdHIwKZRcrqWik/XUUl1HR1vaaXy5rYe3e6MQbk0Ji+bZgzM8wtEIc0d3T+t9oudRQJCAQBkAoBeMWfwgMBGzFIfpXVN1NDpocYON5XWBodEMlPdFOVmBzaNMdr1vOy03gcQCQgFAJAJAGLMjMK8ruvzi4ZY+rFCJARC8SqEAoBkgqGhAKSbSLwKkZAJxbKdGDYKAGQCAACRgFAAAJkAAEAkIBQAQCYAAKkmEishElEJxSsQCgAgEwAAiASEAgDIBAAAIpESQvERhAIAyAQAEAkAoQAAMgEAiFIkVkEkIBQAQCYAAD2g9GwzRAJCAUDagRkwAUgxkWjocGNnxFEoNFJ5OXkA0hEkEwCkgkjUQiQSJhQvI6EAADIBgFVFohMiAaEAADIBAOipSCCRSIJQ7PMLxSnsCAAgEwBAJEAvhGLFXggFAJAJANJVJJpQ2kghoVgKoQAAMgEARAL0Wih2QCgAgEwAAJEAEAoAkgLmmQAgkSLxGkQi1YVC485LhlnrtVfZTA3tnsD143XtVO7fWI7XtdHx+nbD2xnTvw+NKcwOXC/3/w4AkAkAIBLAAkIRkIP6ti5JCIlBQ5snIBGxpDieD+SCOYOorOQkXoGQCQAARAJCEUdpKK1q9gtCC+30S4ImDLGWBQAgEwCkqki8DpFIS6FYnjyh0CRhZ1VL12Xx4Xo8IQAyAQBEAkAo5BQfqfcLQwO9778M9De0ebDzAWQCAIgERMJSQqH6heLS2AlFQB6O+OXhcH3gunb7AEAmAADhIvEGRMJyQkE9Fwqtv2HlnjMBcdAuA0AgAGQCAKArEpgi2/ZCERCHvWcC8hAYdgl5AJAJAIBpkUAiYVuhCMhDYDtNDW1eCEQ0DJlYgKGhkAkAIBIQCVsKRZdA7PMLRCvbOKlgZ0VDVr8M5itoGGQCWJny1jZadaqaimtrqdF/4szPyKAZ+Xk0f9jQwKVtReJNiISthOKlvVR8tD6YQGDkRYyBSEAmgFVpcLvpx3v20bKKExFveU0uHtx/iIpycuj+CyfSgtEjIRLA8izdXoWdEEuaqs9hJ6QvWOgLGLKqupomrlkXLhICyltb6Vvbd9IF76yj0sYmiAQAIIpPLFWt3HeQUEAmgFVYduIkfWHLtkAyYRZNKq4v2WhpoSit84vEWxAJAGJGWckZ7ATIBLCoSHzro509+5Dh9viFYpMlhSIgEkgkAIgdVXtCNaNo0wikF5AJkPIisXNnr25DSzMCQtFgHaGASAAQB45trhZIgsrJguhr0SWATIBUQOuR6K1IWFEoIBIAxIHGqiba9sLJKCQC4gCZACl/wmxq8otEaUxv0wpCgR4JAOLEB0/u44RBFYiFapBAQC4gEyBVCJz0N2yMqtnSDkIBkQAgXiLxz910+INaRhZ8zKVPIBM+SERqgnkmQPfJfqNfJDzu+P4Nv1CsnvMxmlGQHhNcQSSAJXG3eaj+ZLPw//oOyKa+hX3ifh/WP7GHdiw/yQmESB58OnLBCwXkAjIBki0SWokj7n/Lf1K+vtgvFHNTXyi0+3rd2xAJkFaC0EKdrW6qPd4S+N6Jj+oDJ9j2Jg9V7mmJ+oQ7Ylo/6pProvzh2ZQ3NJtyB/WhfoOyqZ9fNnIKs3t0P0/uOkPvLTpAdeWtjDB4ucvQda9EJHyQB8gEsKlIhP3NNBCKuz7YDZEAqce5unY6V9tOp/bVU1N1GzWeaqcjG+oln86NRjron4wrdzfq/n9hUTb1H5kdEI5BE86/mbP6uvzf735jn5eb5sB9Pb61XkciQpuH+9prMqEAkAmQNJHYlFiRSBehKK6uo1UVNXiRgOSnDTWHGgIn44qP6unU3hZqa3RLpEE04kHv++aEQo7iF4Nm/xZKPKqFPyO/Tz5GHvjNzX2tl1IAyASwo0iE3Yf3/UIxL/WEYuG+43iRgOSkDjUHG6hyV/35T/EV7SQf5SCTBtnXRLGdm0GRXJLO9/leCFYeOpnLTh2h8OokFJALyASwk0ikslBopQ2kEiBhnCw9S5V76ql8ez1VBfoa9ORBTxz4XgK9oZWyZMLoZKwYyISRYMhkIiQQHcx1VircjFCIyh0k+DsAMgHievLevMEvEs2pdZ9SSChK65rxQgHxQytdVOw8S0c2nKGjm+oFZQs9WRCJg95oCH7IJXHXo00pFJMiIZMJ4mQgJBMdzNYukAqRTKiE2S8hEyCZItEkeY8n+b695xeKjydfKEqqa/FiAbEXiPKgQOx954xB+uAzEAIzl7L/kw2rNJNOKJJ0wsFJhEgqSCBHoX4JN5NKtAVloj14PSQVHklCAaGATIDkiUQK38cUEQoAYkJNWQMdWHeK9q05Y5BA+AykQe+63qYnFD7BSV4mFEaJhN4mSyZC/Q8hSQjJRBsnFR1MOuEViAR6JSATIFEn6RtSXCRSSShmFEJkQC9TiD3vnqDS109RbVcDZTQCYXYTzc0g+n9ZWhHNxE98GsEnEA4DkVC4xy+TiXaBUERb6oBYQCZAXERiS3qIRKoIxZyhhVSQ6aKGTg9eQCC6FGLfe6do+4pTJG+YlAmEl4wncOLnY/CZuJSlFXqf6o3KHHqJhMMgmdAbzcH2TbAy0WEgExAIyASIN7ft2JpWIhEmFOv8QvGJxAtFQWYG3TNlDP1652G8gIAxhzdW09blJ6hyTzMZj7RQTSQM3ig2n873jBIKikIoRMM+eYkgEzJB3P3wMpLAjuZop8gyh4ci+yX0RnQAyASIBd/atZNK6tK3mTCZQvEDv0ws3FeOGTCBvkSULDlGtRVtgvRBlEKYSRnY+RRE8yvIZoj0GqQWqkEyEc3JmBcFBxn3TCicwITuh5ci55pgR3KwqYRb8Nh48YFUQCZATEVi9056qvJE2j+OZAmFlk4svnoafX7dDryYQDedbR7a/e5J2hnohxBJhCyF0EsSPCSfCdIruJR9T6/84dP5NN9TmWBFQi+VEE1axe8bdr4JN0VOYuXm9gmaLyETACKRHkIxf/QQWjBhBC0rq8SLCpxPIoqlSYRslUtR6uCRCETok7db52c8JhIKo54J9j4TmR9eaWYkh2yYKAmEghct0XTa/L7Qm7AKUgGZABAJA6HoTI5Q/PHyC6m0tjmwFDmwKWVRS4RXkj7orUEhOnmyX3tJPrW0kUgYlTiohzIhEwq9yav4UodPkFDIxEvWRAqRgEwAiEQPhEIb5dE/MUKhlTtWXHsJzVr5Ifon7EZ1WQNteOaYXybqJRLB1v1FJ0Svjhy4uc0juK5X8ohWJPQmriKKfmioLKEwSiWIkwnRUFFZUykW+YJMgLiLxB6/SFSdsPzjDEsoEiQURf2yac2nL6fr3tpCDR0QCsvTUtdOm5cfo61dQzxlSYTsxOc2IQ98L0CnQUJhVNbgP+EbTa9Nvfhkr5i4NDPFrqx/gv9ab34MpBKQCRBTkag8YZvHmwyh0CayWnzNNPr8GjRkWprtK4/Th8+coNbAbJWyYZ0iieDTB7eOQPCNhUaJhFGTpdlyhlHTZU8W+TIjFyT5O6L9q/YiUQGQCQCRiFYoPH6h2OwXiisSJhRaQ+bia6bTXet34YVnNbSSxpq/l9GJsLki9JoqRX0MbLrAL6ctWl6bTyfcJiVC9iletKiX2XkkjEobZgTD7O/Klk83uwIqRAIyASASMU4o1vqF4trECcWCC0YELiEUFkEb6rn1lWNUsvQEiUsaXuaSTyLYEoVbRyI6JVLBpxKykobe6AzZSTcsAXD89HejqXBQESmKSqr/PJ/Tdzopjnzx2qH+/1fV8O+1t+8mj7sh9LXvga+vj0ImVJMyQVEmKQAyAWIiElUnbL8fAsNGIRSgh2mEuvKR/dwoDVkSoVfKYCVBNOGSSCb4JMNsT4Ro6XFy/Pqv0yi7bx7l5l8TkASHc1rgJxyua6TjNaSXSuT3MvqEfe346xvBe6BWkM9X7v9+I3k8u/zCUUHtrRXq/m271BWPNRokCXojSsyuYgrBgEwAiIQFEooSCEVa8sGzZWrJshMkL2nwfRFuHYlgxUFPJvTKGjKJiOgZcP7hidnUN3caZWZN80vDdHI4pmn/o1ISPscrymhyOkcHBMTp+ixl+qUjO5eUqz5DypU3Nqo+3y5yuz+gjrZddKZql/r4T8qZe8inF6wcKNzPqBJ5UAyEA0AmAEQCQgFiTF1li/r6n/cLeiOMkgiPQAxYgZBdF5U1jEoaXQLhuH1BrnL1vKspp9/VlJF1NSmOacI0ISVRtITkGsrUNr9k9OtPyu/eaCSvdz15PbuopekD9XdfLxEkFGYSB721QyAWkAmgKxJ7/SJxCiKhKxRr/EJxHYQCCDi08ZT6xl/KJCM12DRCVM7gUwheHjq47/PiIROJiDKG47d/nKoMHfEZysryf7x3MvKgpP9pUvELhpZgaFv/PqQ8/OZ5uXB3rqdTR19XnwgkF2wPiI+RC5VLLFSIBWQC9EQkkEiktlAUQyhSks42j1ryVBltfvmUCYnwSiRCTx7MioSoLyJwP5yPPnkj5ebNpoxMv0A4RnedBq1+KgzJhcO/jbnod8pv3qwgT+frVHvqGXXR93eR/jDXaMQCUgGZABAJCAXoIVpZ47WIsoZs6mtZEhFaEruDuTQrEtIkwvHQH6YqI0ffERAIh18gMDH0+R6MjKy7aciYu5UH/WLh1sSi6hn1sbt3kXxeCjNigbQCMmFzkdgHkeixUKz2C8X1EArbUr7rrLrit/u4sobefBGdgjSig5EIPaEQpREREqF88Uu5jk999g7K6XtH14gLnNr0xWLo2LuVX/nFor3lcTp56HX1qZ+Xk3heDZXkjZoq0grIBEQC9Ewo3EkUivchFEll99oT6srflwk+zfKreMpKGrxE6MmEoUQ4Hn5kilI05vuUmXVHYOQDTmXRi0V27sM04dKHlftfe4Na6p9V/7zgdZLPnimbKhxSAZmASIA0SihUJBTJQl39xH7aFNYfISprsMMz+eZKVhzaOIlo10kj+JKGz/nkv26n3Lwvk8s1G6esWJ21Mj5D+YM/ozzwZgW1Nv+dtr7+nPr+U3VkPAU3pAIyYTeR+MgvEiexI9JZKCai5JFwtEbL5+7/iCoC/RGhEQH8DJayNIKVhDZBIiETCTaNCN2+z7nYLxEFBfcFmilxiopTWuHftzn5D9GcL9+nXHHrc3Rkx9/V5b8pJ3NrlUAqYowDuyAFRQLDP+MjFO9uptL6poT9TU0oFs+djp2fCFrq2jmRYJcGFwlEKGnQxKE1uJ3TbonZmpmtJfj/55ifZ1OLgFw4l/zrNufLr+ygwsLHAk2VIBFWkU9ZOd+jC6/eqfzs1ceVW3823v/NjOCH5dDmDG4OZpMtlW521VOAZAIiYWehWH1DEhIK9FDED23ExpIf7RA0WurJBD9Co52RgzYundArawQSD+e/AknET8OGdYLEk9HnSzR13peUC654ng58+Ht11R/KST4lOb8oGpIKJBMQCWBeKK5LRkIxDwlFEkRCNNwzJAh6aQT7tSiN6BILx6KFlztfXvEqFRY+iiQihcjM/hJNu2678pNXHqPLbh6kfYdJK5xcWuFEUgGZsIZI7PeLRDVEIlE0akLxjl8o6iAUFhMJ0bwRnZxE8CJxTiAULQKBCCtpOH7646HOFS8tVYqKVgWaK0GqSsXtynXf26r88PmfBYWClQq2BGK2/AEgEyksEkgkkpdQQCjSk1qhSPgkaQTbWCmTCLYvooXkfRFu1/NP3+u4evb7lJlxI56INECbZbNv/3uV+97aSnc9fpP/O1mcUDijkAqkFJCJ1EOTCIiE/YTij1ddiJ3fGw5uPKU+etcWEyLBzhXBNlq2SpKIkEiEfpbtmeh0PvLwZNfKFe9Rv34/DZygQJqd7RyjaPC4JfTj116m6++ewKQUZpMKpBSQiRQUieoTgVQC2E8o7pk2hhZMGomd39NEYtVf2MmoRCt8ikTiHCcR5wQicY4imy87HV/4XLZr+XO/VqZe+D45nRfhSUhzXJlX0iXz36H/9+x9wZSCL3/wIz8UpBSQCYgEMCcUCe6hWDxvGs0fMwQ7Pxq6eyQ6KXzoJ5tI8GUNfujnOUkaIeyNcD7y28mOO7+yknKyv4cnwEIoSh71G/BfdO/r79L8/7lYIhXRlD4gE9gFEAmQJKH4+DQq6peNnW82kdAXCV4mWJE4Z7BFSIR2W66Xnv6xMm0q0ggr48yYQpPnvkXfe/onOikFKxVIKSATEAmQWkJRkOkKCAUwKRLnInokRBLRLhEJ2XBPXiTcji9+Lsf12vJXA70RwB7kDvoh/ej1t+iab4wn/dKHmWGkkAkQZ5E4AJFIC6F4O3FCMXd4Ic0fi3KHFG2K7Od/tUsiEqE1NtwGIsEKBTvkM2K0hvPxv1zh+MbXdlAGhnvaMqW4/Iuv04K/3eH/qk+UQmH7sgdkAiIBkiwUN48ZjJ0uE4mn799BZyraKLK0wYsEP2qDFwhdidBux7X86R8r48asxEgNG6M48mjw+N/R3S/+kSZePZjMNWg6CGUPyAREAoiFwuMXii0JEQotnQCRqCse2RVca8PM8E9+6KeoN0IoEo4v3prjWvX8QspFWQMEyc7/HH36vmfohh/NDKYUWWS+l4LsmFJAJiASQDehiL9QFOWiCTNCJN755346sLFeIhIegUiw5Y0WHZFg545wO27/XF/HN76ykvpk3YG9DsJwZV5IU294im575EZOKGQpha3LHpAJiAQwEoq34i8UBVkZ2NkhDmw6RRterhKIhGgIqKhPolWSRoQSiUBZw/mn30523PXVHRitAaRoZY9RMx+lr/3jLi2voMheCidF9lI47CgUkAmIBEgRoQB+qg43qM/9aj91T0qlknwuCb2GS1l/xPlGy2WP36BcdCH6I4A5Bo79GX3nhd8FZaIPIxOZZDzRFSsUlpUKyAREAqSAUDR0uLGTW+ra1ad+vovCl4eWrbXBLhveygkEP/SznU0kXM8/+UVl+NCnIBIgKvr2v5nufnUpFc0aTJF9FBkmhcKyKQVkAiIBohGKN2MvFKW1zdi5mj288BA/BFSvtCFab0N3pc+ASLy4+Is0cMCj2NugR2TmXEaffeBfNPoSViiyKHyND7MpBWQCQCQgFLETiuKqOojE2//cT+V7ZSM3jMob/Bb6v44IkRhQ+BhexaBXZGRNovkPvkjXfFcb6ZHNCEVPho9CJgBEAkIRG6FYuOu4vXeofsNlSCL01tyQpREdwd93u1Y+/ROIBIgZzozhdPGt/6Srvz2duvso9ITC8iM9IBMQCdAboajtnVAs3F1O5c1t9t2RzXXt6squVUB9JJ5Pgk8k2k2IRGeXSLy45Hbq1/c+vGpBTFEcuXTJ55+g2XfNoPCSh6iPwml1oYBMQCRAkoRC65W4d8N+W+9D9YWHtT6J0OJdsqZLUSLRxkkE22jJlDb8IjGgPxIJED+huPS2v9NV39CEIluSUOilFJYRCsgERAIkQSi0PonrVm2x987btOoYlYfNcClruGSbLkVpRMSIDe02IBIgYUIx6/a/0ZVfn64jFJZvyoRMQCRAjITiwR2HA9eNfvbB7Yfputc2G/6spak6XK++8fhRMp5Lgm+4bCP9NTaYZkuIBEioUDxGH1vACwU70sPMyqNpKxQuvAogEiA2QvHrHWWBbX7REJo7rJBmDMjr+v/Ss02B9GLV8dOYU0JbwGv57/eTvOGSnVOiXSAT/MaO2vA4Fz48Bc2WIPEfzZ25dNkdj1JTzTdo3zvHSNwjoQRf5yF8zHWV+RkVMgGRADZnVXmNXxpqwr+pYr90seHVY3SmopVJJdjyhkcnlWiVSERo1IbH+ZffTlGmTFqJnQySJBT9aO73H6a6inuoev8ZMjfrpSWEAmUOiAQAiUMrb6xZVkHiPomQSMgmp5L1SARKG447PtdPmTp5GWa2BEklM2cC3frwQho6WZvYSlTyYFcbtUwPBWQCIgFAwlBf+v0+iuyT8EpEQiQREetshETE8Y0vrySHYzT2MkgJofjUf//Qfy3HQCjMTL+dFqDMAZEAIDFoozfOVLQJRILvkzBb3ugeufHm84uw+mfv0Hp8ZgzIpTG5OXS8qS0wdLn0DBa36zH5w26grz7RQk9/ZyHr0yQvX6iCr9Om3AGZgEgAEH9a6tvV17tGb7CTU/F9EkYNl5FDQF9YfDtlZd2BnRw9BZkZdM9FY2jBBSOoKDc74v+1CdWWHaykhaXlaBzuCQPGfI4++8uj9PovX5fIg8pd9wnEIi2EAmUOiAQAcUdduUhU3hCtu9HBSINoMqqwREJruKSBhVi4qwdoo47KvjSX7r9kglAkNLTv3z9rApV9dS7NHzsEO60njL3ie3TJF6bS+XJHqOSRSZHLl6f1kFHIBEQCgPhybNcZ2r+xzkAkZMkEO4V22DTZXQ2XIOo0YvGc6bTi+ksC1039TpaLVnz6Ylp87TTTvwNCZ1lnP7ryzl/QoAkDqXsdD1YoQj0Uot6JtBEKyAREAoD4oc0pseqxQ2R+7Y12TiDYRKJrCKi2ORZ8aREaLqOjqF82rbnx8kBZoycsmDyC1tx6uV8uIBRR4coaQrc89ACTTPBreZiddhsyAZEAwIbsWH2CTkc0XcrKGx0CkWCFItSk6XG9uPhLlJlxI3aweWYU5tG2W2aHTabWo9sZmEtlC+b6L/OwU6Mhp2Aa3fbnO+n8CI8+1L18uWjabZlQpKxYQCYgEgDEL5VY96xsTgm2vNFJ4h6JiIW7tN91/uLHI6iw/2+xg6NIFCaMCIhErEoUWtlDSyjmj0MfRVQMn3oHXfWNWRS5hoeo3OGQJBMpKRSQCYgEAHFBXfv0ITrX6Cbx6A298oZ0OXFNRpTZVzyKiamiEIkLRtDia6bH/HYDfRSfuThQ+gBRMPPWe2jg2EEUWfLgly5PqwmtbC8TEAkA4kBzfTt98HIV6a+/wTZedgjSiLBEQvtd18tLv0Mu12zsYHP88fILafHV0+P6NxZfP43umVmEnW2WjD6D6aZf/ZDCR3ewCYVe7wTKHBAJAGyUSqxfzs4pEVp/w8OIgWj0Bt9sGSYSzl/+dATl5d6HvWvyJO+XiHumjEmMtMyZTIuvw5xhpskbejnN+49ruHSiD5dOGDVkppRY2FYmIBIAxImqw/VcKiFbf0NvFEeETChXXobyhlmRmD2dFkwYmdC/uWDKCFp8PYTCNNNuvJsGFA00mU6kfP+ELWUCIgFAHFOJdc/yM13qjeBgyxrtzP+FlzdeXHI7uVxXY+/qozVYrvj4pQkXiTChuAFCYe7s6+pLN/36Pyh8/Q7R/BNpsX6H7WQCIgFAnFOJfRvrSby8uGiCqg7B9TCRcCy4vR8VFjyEnWsgEhkZtOaGK2j+qOSOsNCEYsVNF1N+FlZrMCR/2Cy6/MszSV7u0JOJlCp32EomIBIAxDmV2Pia3vLiRskEOzFVt0x88Zb7UN4wTiTWfPKKwFwSqcD88YNp7W2XB0Z8AANm3f5dKhw9gLrnnWAnswoJBT9DJk/ShcI2MgGRACDOaCM4tr97moxnuhSlER1MatHddLno/6ZQdp/vYefqi8TqG/wi0T+1JpGaMSgXQmGGjOxBNPfuz1D36A5eJtKi3GELmYBIAJCAVGL98iPBqz6ST1IlKm8IGy6121AmTkB5w0gkrk89kQgTii9CKAwZfcmtVDRrJCcUbO8EPzOmKKFIqlhYXiYgEgAkKJVYHxjBwQ4FZeeUkC3o1UHhTZeerlRiyaKryOVE02WaigSEIkrm3f1VCu+b6Ek6kTShsLRMQCQASBDb3i4nea+EqMTBb5GpxKjhj2HH6ojEdakvEhCKaJ7UkRfTrNunx0AoIBMQCQDSEG0Njg9XniLxcFB+DQ49kXCHRML10pI7sCKoNUSiSygGQygMmT7/Zooc2cEKBV/qSJlyhyVlAiIBQALZu7GKzjV2knxeCTdFNl6yfRNsIhGQCSrIx0yXMpG4Nv1EIkwobodQSMkdNImu/c+5FD6RVVqkE5aTCYgEAIlFff+F0HBQVZBKyOaWYEdudLIygVTCmiIRKRQZeFJFTJx3E5dKyIaK8tNsJzWdsJRMQCQASDDaJFWnK9oovFeCbb4UlTY6uc3DyARSCZlIfCL9RSJMKL50GRIKEZk5A+gT98wJyoSZoaIyqUioUFhGJiASACQhldj5PjuCQ5RK8ELBXw8TCdfyfyGVEIrExywjEhAKE0z6xI0knmJb1juR9JVFLSETEAkAkkBnu4fWrxAtMy4qcfASwcpGdyqRn/8z7Fjri0SYUNzhF4o+EIqIdOLjP7g6mEjIRnakVDNm2ssERAKAJLF3g0gkRKuDmipvOP/92GxyKEglQiKRERSJgjxLP84uoUBCEc7kT3ya9BsxQ+WOlEgn0lomIBIAJA/1vUDjpUwkRMlEpyCV8AZ/X1WGDUEqYTORCBOKLyOhCE8n+hbSzFsuZNIJUTNmyixTnrYysaulESIBQLI4W9VMpytaSTxRlazEwY/e6E4lHvr5KMx2yYjEx+0jEhAKHS7+3KdIPueEi+QjOxKeTqStTDR43HihAZA0my/hSxx6E1Xpj97QUomLpyGVsLFIQCgk5A0dTyOmDeVSCaPeiaSkEw48WwCAaFE/XFklEQlZMuGm8BKHJyQSjm99LY8yMj4DkfCLxDz7igSEQsLV376B9EsdLtIf3YFkAgCQghzdfTo446VqUiQilhZnUgmf49PXfoYUJR8iAZHoEoohEIouBo2fSnlD84PyIBomyqcTKHMAANIglTiw+TSJR3G4BQkELxIRJQ7Ky/2+7UViLkRCKBRfwSgPcmZk08xbZjBpBL88uUuQToh6J+IqF5AJAEB0bF97mvRXCOUlgt+6Ugnn//1iFDkc0+y8O5dfdSlEQkcoFt90EXbExHlXUWSJQ5RO8HNOoMwBAEhBzpc43CQeEuomeb8EX+JQAx+Vpk25286788lZM2jOoAF4Xelw88TBtMTuQtG3cBhNuHq0QToh6pvgiZtcQCYAAOY5vreewhsvfYJUgpcKtsThDfvdrEzbNl5qIrGgaCReUyZYMH04hOKiGy9lREK0VodeOoHRHACA1EHd+X4NiafPZoVCVOLgGy9V5z/+OI0Ue854+eSliReJ0rqm2N7e2ebEC8V8GwvF0MmTKby8kUny3gm9+SbiIhaQCQCAObSJqmoCE1XpDQfVSyW6hoNqmzJyxFfsuBv/OH1KQkWiodNNd63fRfdu3h/T2713/X7/diDhQnHP5TadcT2rXwGNv2qkCZFIyjBRyAQAwByHdshGcfCTVfGJhKjEodqxxLFg9Cj6wYSxCRWJ697aQssOV8bl9hfuPE6znttADR2ehD2mP90wie6cMdye78GLPnMxiZsvMynJs2FCJgAAplAP76wj8XLjbDrBSgX7vTCRcD7xZ9uVOBYUjQqUNxIqEm9viXl5g6f0bBNd9/KWhArF4vlT6c7pNhSKoZMnUvhCX3zfRNIaMSETAABjtOXG926opcghoV4uhZCJhJfYEseQQbZah2PuwAH05CWJEwlNIGat+iDuItH1984003UrEiwUN0+lGUNz7fU+7JNbQOOuHMGJhEgoHJTgRkzIBADAmJNldRS5FgdbvvAIpMLDSUeXTFBOtm36JWbk59FLV8xKbCLxzmYqb2lL6OPUGjITLRRrF8yyn1BM+jjfiJmhk04krNQBmQAAGHN8n6jEIZtjgh8KGiYSjrvvyrfLRFWB2S2vvjJwmUiR0C6TQSChWJ44odCm23759hn2mnZ7+EUXcALBy4STxL0TxAlFTOUCMgEAMEQ9tL0ueFU2WZVRMtHVL+GYd9U1thAJl18kZidYJN7dTKX1TUl93IkWiqKCbFp75yz7vBn7DRxC/Qb1o+4SR6ZEKESljphLBGQCAGAOrV/i2J5Gko/i8HBphJv7mdCMl+e3vn1t0S/xh2lTAyWOhIpEXVNKPPaAULyUOKHQSh1/+tQk+7wnp980SZJKmF2nAzIBAEgwlWW1YTIglgk+mRCVOM6TmWH5ZGL+0KG0YFTi5pK47f0dSU8kREJx7/uJm4fino+Nprlj+tvjPTl8ymjSL3XIhIJPJmImF5AJAIA+5/sl2F4JdlgoLxQegUyEfld13P1NW/RL/PGiqQn7W9/asIuKa2pTcj8s3VdJd72zJ2F/b8ktU+3xnhwwdhQjDXwqIRoeGvdSB2QCAKCLerKsmUkljMocXpL0SgRkYt5sy6cSC0aNoqKc7MSIxMZdtOzoyZTeH0v3VtKPEpRQaP0Td860wfwTfXLzqN/AvhS+LkdSSx2QCQCAPnsC80v4ODmQJRJ8v0R4iSM72/KpxA/GJWaGy0UHjtOyIyfTYp8s3FFOy/ZWJuRvzb9wkD3elxPnjuZEQjaiQ1TqSHOZ8HgbcWQGII2oPFLHpRI+0m++9MpSicDtZWZaOpnQRm7MyIt/06WWRty7fV9a7Ztvvr0nIUJx8+TB9nhvDho/mMyXOhTJRrESjITKhLqj9C0cnQFII05XNDEiodd8KWq65GVCIae1+yUSIRKrTtYEyhvpiCYUpafjv9qoLRoxB08awYmEKJ0IyUTcJ7BKqEx4H/rzSfJ49uIIDUB6oFYdbZYkEx6Dy4hUwvnIL0eTouRjr/YcbcTGtzbtSuvHcO0LWxIiFJYnb/AgRhhcks3MOh1pJxPnDyp1DS/iVQBAmlB7il9yXJZM8P8XIRNK0chp2KG9E4nr1yZvdstYoc09AaGIAa6sLBp8QUEUIqE3RDTlZaK7VhrEt2HLO3gVAJAm7Alb3MusVIR+Rg07BuTkTMcO7YVIrEt/kQgTiue3JnQdD0tSOLpAJ5kQiYRsiGivxSLhozl8i/5ZSedaV+NVAECqpxJVTZwQ8M2XXkkqwScT58nIsHwyUdoU+4mjGtxu+sL6bZYRiW6hcMdNKIqP19vjPTr6khEUWepwCjaRRKTl2hxsOqGqe/b/G0dqAFKcxro2SSrh0xGKyBEcoYOXQpbvl9BO/CW1tTG9vevXbaLyc22W3F9aqePa52IrFCsPnLbPe7TfwFyBOLgMZCLt55noOrh4/+c3W8ntqcLRGoAUpuZ4E0U2X4qGhnopsrwRKRQuly3W5Hjw4KGYikSqTZOd6kKxcGOFfd6jfQtzJSLBlzriOiw03jKh6v2fWnbkbzhaA5C6qJVHmkg8v4TeJuyXcHz3TtuM4iiuraVV1dW9O8E2NNFl76y3vEh0Pd4av1A8u5XKG3uXwCzbWWWfEodG3tCBJpMJMzNh9koskpFMBDbvD372GnW6T+GQDUCK0trs5t+3JqTCxyUT549Ss6+w1UiOb31USqWNPRMBTSSuf8+6pQ29hOLSf23s8SiP0upm+uarNpt5wJWVKREH2docolJH+k1axUuFuvfAP3HEBiBF6Z5GWzSVtp5MhDdeakerzIwCO+26QIniw4206MixqH5vUdkxuuzd9YHftyMN7R66dMlGWri1PKrfW7ipgi79+yZ7vk+LLh1I3RNTGTVf8iWOtFw1NOITjvfHv3iTGpt24qgNQEqiknz2S5lE+ATvdYVycmw3x0SDx0337tlL13+wkVad0i97rKqqoevf30T37tyHV52fH605SNc+s41WHtJvplxWWkXXLt1GP3rnoH13Vp+8LIN0wmmQTMQmJEngQYk/OAU233sf/Ntxy41/wdsHgBSi6kgtRZY3+NEcIpGQj+awKcVnawObtjfmDhzQvTv8X2vDPbWyRthREpzfbxV1VFxeF7g+d3RhxJmkuLxeMJORbWWClQUzJY6YC0W8ZUIlcc2168DkW/TPj5TpU15Vxo25BW8fAFIFhUh/WKhMKlQSHeIzMzD7ZVAsSFUgD9Hut6BUBOdSxb5jGTRhACcSDp1EQjayo9d7NF5lDlVHLCLqrr7fLXqa2ttP41UBQIpQvl8vmTBKJXyRboI1OQCI0+lW4UTCYSAUeqlEj9OKRE2nzddeww5M6uGjjb4Vry/EiwKA1DpKCdIJH5krbbDXFXySBCCuKCQuaxiVOdJyOm3ZyoNa27LHt+SZXerOPcvxmgAgBSyivqZV5wMAn1LImi+J4jjjHgDAz9DJQyi8jOEk8VoccZlfIpEyIeqb4BcJ0oTC7b33/hfpTO0BvDoASDLnVwuVJROydCJifokuMlyzsVMBSEgyIZMKheLYgJmoGTBlU/J6GJno1DbvTx/4MzU0nsBrA4DkBxQ6qQT/NV/iICQTACRUJBRJGhHXURyJTibY66L5/btkQq2obPA+9JdF5Ha34TUCQFJFQpQ4yMobouGgAIDEnGJFyYTe12m9aqhoSt6uEkeYUGzfWe3942N/glAAkDLJhErikoZsJAfmmAAgsemELImQTaGdVjNgqgKZ0EsmOvxbu7apq4uPeh9ZtJA6IRQAJOHYpDc/jEr6TZdIJwBIaDARUcYwM4KDF4u0SCbYh80ehDxcOtHJSoW6bv0x732//BPV1mFBMAASyZkT5wQiwaaKohKISuJJq5BMAJCYZMLBnNf1eibSaglyUTpBJB8eGpKIUDpxXih27av23vPfT6hHjmOUBwCJorq8lXm/qgJp0BMJ0YEOABBfkdBLJqLplejR+zVZC33ppROsUGhbm1p9ut77nf96Wn3/wxK8bgCIM53tsqXHRX0SIqEAACRfLMggkYjpUuTJKHOw6YTXIJ1oYzfvg39Y6/35Q0vo9NkzeM0AECfOVjUKPgAQiXskRA2XkAoAUiOd0BsaGtOlyBM5mkMvneCFop1NJthN3bj1hOeOb/9bXVO8mTo6OvEaAiDGHNxWrZNMqAKp0BsWinkmAEi8TDgkSUTc3pOJLnPIhEI6qkMkFIGU4uG/rPf+5/8+p+7YdQivIwBi+Ebd8d4pkpc4ZIKBMgcAyXnHEhmXMuI+aZUrWY+cwksdoqYRfsUzJ2dbinroyBnvTx5YrUwYt93xna9dpky9cDT1ycrEiwuAHrLhjTKqLm/TEQkzw0EjhUJVm0hR8rCDAYgxdRVNjDwYpRRxSycSLRMqda+dztZhQ0Lhpsh5xQ1n7lIPH631/vRX71Fh/36O226eqFzzsfHKsCEFeJUBEAX7Nleqrzx2iOQlDq8kpWD7JsTJhNu9lzIzr8ROBiDGdJxzM1+ZSSEsk0wYJRQeim5e8e4DWl29z/ePf++if/x7vzKuKF+5bu4oZdbFI5XxYwbiFQeAhOb6NvWtpQdpy7vVJB+54SX5aA7VMJkAAMQbvZEZcV0xNFkywaYTrEwoFF7yIDKeS9wn+NQU2NSj5fXqE8ta6Ill2ictlzLnysHKJdMHKUWj82lg/xxl+DBErsDOAtGulh+sV/duOu2XiNMkXhWUX4PDy10azTMBqQAg7slEizsKyYgbyUomZOUOkV3JajyyWflCzZxZwesZ2qVasrHKv9UQWz4pyM9ULrown7lbkcNm1ATukVj/rNqD15eaqvc3AbeZ0Psbx/0/cWah8OdOHmmm1ma3enxfC7U0uilyyCc7VNtrsJlJJ7ofZHsHyhwAxIOaQ42pcDeSXeYQJRRenVhGbxId9kAYOhhmBq+7mK27ubOh0aN+sKmd9OtMMZ92FIC4sntjrcn3n0wmWKHwCDZR6UN/JIfX24QnBoCknWtl78+YfVx2pcgDDR3QHAYywe8YfgXS0PDS0PXOoFBkMjLhZKRCOEqExJN6AGDlgww/gVxomDZ7yUuFVyIUkQcot6cRuxuAOHB4/VnBBwTVxIcIyyQTsnSCuISCdJIJ2aeo0MEwkzkYioSCHzHCNnzqCQ0AVhIJfmp7dibaDgpfhM/NiIWXSyjYLXzE1ekze5XB6IMGIMHv7YTNAZMqyYTCHNQc1N0/YXTwE016xX6SymKSCe17GcHHnEHd81iIhqASIxYkSCcgFyCdDzS8uOvJRGjSuA5OKNhkwmeYTDQ1o8wBQKw5c+Qs6c9Wa7RZSiZ4oeAbMvV2BF/i4IUiixGKDGbjhYIvd8gm+YBMACuJBF/m4Bfca6PwmWg7KLLk4SX9JszA5r3/4X2uta/gGQAglnS2uQXvZaPzpiXLHHoHPBIkFGbW9nAzqUToE1YmJxQubgtJBTsLZ7QzhkEwQCq/l2RSIWpgZqe0b+Wkgk0o+HRC/0Dl8Z4kl3MknhYAYkTd8SaDD9u6km9VmeD7J1ihUAU/KxvFwSYTrERkSpIJF8nLHUYiAYEA6SgW/KcXURMzuz5OW1AqROkEP0xUloD4f9pTCZkAIIY0VbdK3s8yufBJpKLXcpFqyQRf7mD7FrwkXrXQJ5GJDEEioZdMOLhLvdEdkAlgFZFQJcmEqG+C7Z2QlTn4+WK6/05b2z7qk3UFng4AYkT1wUadDwiydMJIHHokFala5lC4BELhJMNBkUPa+N4JF3U3XfKJhKjEIeudIAOhACAdxYLvl+ClvJMRh3ZGKkTJhJeTfUX0aUdtaz+p9McTAEDMOFmqV+YQJRJxm6XWlaK7SGVO3LKyh2gZ89DmlogDW9qQyYRDRyYgEsAqQiF7D3kkQsFfd1Nkv4RP8IGg+2+eqtlLw4di7wMQCxqrmrj3ND+qSjTKymgeCsvJBJ9SqDoHQ4fggOik7pIHP7cEKxAuiixvyEZ0QCSAFdMJvlwoKhmyw63ZeSY8FD5pleg92z2i46e/3IIRHQDEiLoTjRJBEH3g1hvVEZNmTFca7DJRH4Ui2GkO5oDoYITBw6UPTpKXNniRYJMJglAAiyUTvFDw62/wM8qyX/NzTPC3KxQK6uw8QJmZk/EUANBLKnfXkXwEh0+SVMRcItJJJkjnAMX3UvgYKfBKUge+yVKvvOGARAAbSAXfOyGbXZa9NFroS/w32tr3QSYAiAHVBxoloqBX7uBHXMUMV5rtPlnZg5id5OOkIPS1hyKHfsqm0tZb8AsAq8qEqAeJX5HXq/OJR3bbXQmIeqZ2s5Kf9znsegB6gbvdTZW7miTvXX4lbVm/hGXnmehpSqFyJ3/2ez6KLFsoku8Z9UhAJoDVREImFT4TWzTj07t+Tj1ybL8yYSz2PgC94XRZHekvL+HTSSniMgumK413Jz+ElC978L0VvCiI5EGURmCyKmBVieA/pfBzRfBj1WWNXGZTD9X3yKL9juvnNZPDkYunAoAeUrWnlvSTxWg+BNimAdNsSsHvFNlU2AqTWhAZLzsOmQB2EAmZWJid35+Xe0UgFucPaOdat1Juv0/g6QCgh5RvrxO+tyITCqP+JtXgGGEbmZBJBZ9WqCSfGtuMPEAggB3kgiSfVoySCFUiEcKUQq2t26xAJgDoGa31bVS5q5GM+5y8OslEr8TByjIhOjgqkgOdaiATRkAqgBUlQnTyl30dzaeYiGl+1bUla5W7vvrfeBoA6AE1B0OphC+KREI094Tee9v2MhGNWIjkwIwoQCaA1UXC6GeN5vVXSGcVQ9+zKyodC26vooyM4Xg6AIiSIxtqSD6vhFew6UkFkoleHkCVKA6eSg8+jQFgFbmIxes+skGsrv49GjL4K9j9AETJ0U11FDlCw6sjEqLh3DHHZdOnw4w0QB4AJCM2AhGRUKgnqrYokAkAoqNyVw21NXQK0ggjoZANFUWZIwUPngAAY7kIHMy89/3qPde7K5rJiSGiAJjm2ObTJhMJUXnDR3FYejyEA88OACBBIhH+aaq+/n3sGgCiYN/q0yQeDsqvqcNe6g0RjRmQCQBAIiQiYv0A9fCx97CLADBJ5a7TwRKHbPSGR0ckZJNUxUwoIBMAgHhIhEwsumq83v/97fvk9bZgdwFggv1rKsnc6A0P6Zc84gJkAgCQqGQi8iBYV1+M3QSAAe42D+19uyb4lay04TEQCb2ZbHudUEAmAACJlouug6FvTfFz2C0AGHBkQ6VOIuHR2bwkXgAs5gMOIBMAgESJRESt1/fk0weos7MauwcAHbY+X86lCWZkQi+ZiEkaAZkAACRCHojkpY6ug6F6+NgL2F0ASDh9uI7qytu4946PIkdu6AlF6HfiBmQCABBvqdDtm/D9Y+nr2E0ASDi4rorEIzhCwuBmLt3M16xExLVfAjIBAEi0WETUfNU9+xvV6tNvY/cAwKGtELpjeRVFpnoeiVCIShwyoUAyAQCwVjqhbtnxBnYTABxl61mREA0B5RMJNxn3TMQFyAQAIJ4SIRIKNq4NHPh8f/3HdmpsKsUuAyCINhx089MVJC9viEocsnRCRTIBALCiVETM3KceKHsLuwqAIPtWV0gW9ZKlEqxceE0mE5gBEwCQtmIhnL3P+z+/eYs6OmqwiwDws2tVlYFIdAbloZMi+yb0RCIupQ7IBAAgEamEcH0OYkod2sFQ3bFrKXYZsD1HN1ZRXUUrRQ4H5Yd+ukncM5HQEgdkAgCQSKlQddKJwMHR+/OH3qF2pBPA5ny4+ChJ+ouYNIIViE4S90wkpMQBmQAAJEsspDVgddvOp7GLgG05sKaC6irayLjxslMgFaJ+ibiXOCATAIBEyQObTohWPuw6SHof+D8tnTiN3QZshzaCo+SJo9x7hJ9Xgk8jOkk8LDRhJQ7IBAAg0VLBlzqE4+bVLTuewe4CtmPfu9oIDrcglfAKJIJPJ8yuyRGXhAIyAQBIhlCwBzkv/6nL+6tH3qX2dqQTwF6pxOZnKpj3hmgYaCfplzhCW0ImqoJMAACSIREioZCtNeD2rS15ErsN2IZNTx0KphKiEqBbkEbwQsH3S6iJlArIBAAgmVIhm4in0/enxz+kuvq92GXA8jRUNgfX4NAVbIFImBnFIXrfQSYAAJYQCr7cwdeFzwvFsyuQTgDr88E/D5HO7LA6IsGXOhLeeAmZAAAkK5UQLfrFN2KeL3W88kaZevDwm9h1wLIc3XiKjmyojzKV6CB5iSOhjZeQCQBAKqQTPi6diPgk5vv9oufJ42nFLgOWQ2u6XPPngySee0WURnQwG59M8DLhS+RDgUwAAJKRTpBOMhH2SUw9VlHve+2dx7HrgOXobrrkhZpfDZQVCJFIyEZxJGTCKsgEACBVpEJvTH2n79EnN6pV1dux24BlOF1WH2y61Cv18WmETCT4URwJEQjIBAAgVYRCNhMmXyvu8D22+N/kRrkDWACtvPHO7/ZRZDonmuGyw6RQ+LgtYXNMQCYAAMlMJfQW/4r4ZKZu2lblW1eCmTFB+vPRK0eD629Ip5WXpBJ6vRJ6qQRGcwAAbJ9OdDWf+R5ZtE49WfURdlv0lNY2U0OnO2a319DhwU7tCSdLz9DGf1cIEgnha14iEvz8EklNJSATAIB0SSe6heLnD/2D3G6UO6I9+ftFYtHe8pjcVnFlHZWebcJOjRatvPHmb/aRfAZYPZFgN1G/RNJSCQ0nnl0AQJJQBNcVZnMwl47g8cpJTc0qeb0VyiUzro7f3Um134nN3yqurqOZhXk0qaBfrxKJz762jRrDkgkF+9wMb/12J50+fI7EfRIhiWj3b23BrZXZQt9rp/B5JmTzSyQUyAQAIBWEQjEQCVYoHOqe/Y3KhRMzlBHDJkEmovudd0+epaE5WTRjQF7Ut1Z6tpmue3ULlTe1pdRjSguZKF15jD56WTR6g08j2pjtHCcSbVw6wU6hndBJqiATAIB0SSdIIhXnhWJtyVHHp66dQv36DoBMmP+ddq+PVpXX+P9HobnDCk3f0sJd5fSttbupprUj5R5TysuENgz09V/y5Q1+CHQHk0q0BkWizSCV8KRCKgGZAACkWjpBOklFREqhbtq2z3HDxy+nzIxsyER0v1N8qs4vFacDJY8xufLdV1xVR1946yNadqCS2j2+lH5MKSkTWp/E8/+xjTwdXoquvMGXOdoFqQRb4qBkpRKQCQBAKqcT7PeE5Q5qbvGqZ2qPOz526SxyOjMgE9H9Tk1bBy07VEklfrEI/axWAtFGfrx4pJq+srqUFu0ql6QRkAlTIvHq/+6g+hNtJC9vhBKJdk4e2F6Jdi6V0BvFkRRcOI4BAJKMGjxqsxGtL/g9Ng52MltG8PjlUtcUH/FNnbzCMf9TX8Wu7BlaSqElEOefDSUJ8ydalE3LyqhqTzNFjt4QzSfRzokFX9YQNVzyq4RSsp45JBMAgFRPKNiGTPa6M5RSqJu3VysTx2coo0ZMQDKBx5QSyYTWcLlxaQWJlxUXpRJtklSCb7rkhSLpIgGZAACkukywQqHXlOlQ160/rlxx6WBl4IAROLHhMSVVJrRlxd995JBOItFJ4aWLVh2RSNmmS8gEACDVhUKvGVPekPnm6gPKnKtGK/3zB+PEhseUlPvXUNlCL/7nTtKfKruDSSXYZstzFNkrwYsE2ytBqZBKQCYAAKmcTojkQiQWTlYoaOtHRxxzZ0+hnOxcnHjxmBJ6/86LxA5m5EZoWXFZeUM0ORU/eoMXCba8kdSmS8gEACBdhCLqcge1nPOp6zfuc8ybPTk6ocCJF4+pF78XEom2xk4S90nw5Q2ZSPB9EvxQUFl5I6lSAZkAAKSqUCiS78lmylTChWJTSCj6mf+TOPHiMfXg97QhoM98d4uOSJhNJPT6JFKyvAGZAACkazphRiwCQuEr8QvF3NmTzAkFTrx4TD34Pf25JNhEooOTiXMGIiFbfyOlyhuQCQBAugiFXh+FXnOmQuf8QrF+435zQoETLx5TlL8XEonIuSRkq4DyicQ5gUiYGb1BqZRKQCYAAOmSToj+z2gLCkWrJhQHHHOvmkg5Of1w4sVjisnvaT0SWmmjO5HwkrnyRivpDwVlJ6mSTZmdctOKQSYAAOkiFKJmTCO56BaKko0HlY9dOlrJy83HiRePqVe/191s6TZIJPjShqi8wQ8DFU1OpVKKljcgEwCAdBOKaIaN8jNmOjShUF99c69y8fRCZcigITjx4jH16PfqhSLB90gYNVyeI3GvBJtI8GtvpNToDcgEACDdEwozwiEtf6jvrDuqTJrQVxkxfDhOvHhMUf3ekY2n6LUH9gpEQi+V0JtLgm+6DCUSfHkjpUUCMgEASFeZ0Jt/wlgo1q2voIyMc8q0KRfgxIvHZOr39q05QW/+9iAzIZXZHgmz5Q0+leBFIqWXX4NMAADSUSiUKBIKoVioH+06qx46ctwx+2OTyeV04cSLxyT9veJ/7KcPniyn7iZIPo1gRaKdIhfv0hsG2smkEqHbYyUiZfskIBMAACsJhRmxEEtFZVWrb/V7ex3XXDWW+vbtixMvHlMY7nYPLb9vOx0qPsud3KMRCV4iWrmfY2e4TKs+CcgEAMAKQqFwB1hFcLBVdGTi/NetbV7fy6/tUyaMy1ZGjRiKEy8eUwCt0XLZ97ZQXdfQT77Z0kvdPQ78cuKyNEKUSoiWFU8rkYBMAADSPZ0wgyr5nbCUQ31//Qlqba1XLpoyhlwuZ3zuCmQiLe6f1h/x0n27mf6I0Mmd748QiQTbHyESCr5HghcJdihoSvdJQCYAAFYTCj6V6NEZR91/sEHd/tFRZeqUwUp+fm70dwMykdb3T5vRcvXCvbThqRMUWdbwMWmEh5GBTkYSRMM/z5F4Lgm+2VLWcJkWQCYAAFYSCqOEwpi6+k719bfKlKFDnMq4scNx4rXJY6ooPUvP/WgHVe5rNiESfI+EbNTGOe7/RD0SRiKRFlIBmQAAWEUozJxlzB6kVXXj5lPqgYMnHBdNGUp9++bgxGvRx9TZ5qEtLx2ht/5QRu4OfrZJvTkkREuJy4Z/ilYC5dfdEI3cSJt0AjIBALCKUJg9y6imvz5V3eZ79bWDNHiwUxkxfAA5+V4KyERaP6aasgZa/vOddLCklnne+TSCb7Q0s5Q43yNhRiTSMpGATAAArJhOmJUJVed6xAFd3bS5Wt2245gy5cJBSkF+P8hEmj8mLY14Z+FeenfREWY2S1FZw6jRUjYZlaxHgh25wUuEL11FAjIBALCrUJgWia7v19d3qm++dYSamhvoggmDqU+fTMhEGj6mPdpIjft3M70RsjRCbw6JVjK31oZMJPghoL50fwNCJgAAdhQK0bA7U99TD5U1qi+/ekAZNNChjBhZaH4YKWQiqfevuqyBXn1oN2179ZSgN0JW1uig6MsashVAzYqEmo5vPsgEAMCOQqGSuXKH7OdUdfOWGnXNmjJl8KAMZdTogZCJFH1MLXXt6ruP76d3Fh2hptMdFFlaEK2vobeEuKzRUm8eCdnslpYQCcgEAMBuQqFX2vAx3/fpSEX31t7uVT/8sIo2bz5Og4dkKcOG9YdMpMjf0iSi5Kkyevk3+6nmyDnueRYt1CVrspQlEnqlDXbRLjaRUK0oEr15BQAAQDoc2/gFvhzBzRncMpgt079l+bc+3JYt2PoEfza0ab+boYwZk68suHOGcvElY4XqErhUuK91LsO+p+j+rCr8XcXc3+HvX09+R3CfVcPfVeTFJaPfke3fZr9EbFx+jDa/fEogi7KyBt8fwacS/FwS/NwRsv4I2TwSlhIJyAQAwI5CoTAyoW2uoEy4GDHow4kFLxLZzP9lMlLh6pKKT39mvDJnziTK7JMBmUiATIQkYpNUImRzR7ClDbZPIiQIrDTw19tJv6xhC5GATAAA7CIUxKUTCpdQuBipyORSiixOILI5ychipCK0nU87CgqyHTfdPF75+CcmUl5BDmQiDjJRVdagbn3tBO1894yBRIQ2j0Qk+PJGh4FAsGlEB5dGsHNIyCaksoxIQCYAAHYVCjahcHBC4WJkgk0dROUP9mu25NEtFMHUQ7nhUyOVOXPHKpOmDodM9FImOto8dHTnWXXtv47SmYo27lGrpD9Sg5UID0WWNTo4YZBJRDuXRojKGrYQCcgEAMCOUmHUR+Gi8D4KXiiyBKmEKKHI4oUiIBWji3KVa+aNVOZdO4HyC3IgE1H8ncrDDeru905R6dozdK5rsikSCIRspIZsoS5ZIsGWOvgkwqisYYmZLSETAADQc6EQSUUWt/URJBOixsxMXiiCm1OZOq2/cu0nxyhTpw8LiAVkIvKytrKFdpecUne9f0aSQhB34vZS5CyW/LBPduinSCREKYRIImRlDVuJBGQCAGBnoSAK76Fg+ygc3ImfTSlE/RT8JdvEmcFJRej2QsISkBdlSkAsivxiMbQrsbCrTJwNCkTZ9noq39ssyWyMkgivRCL4OSRk5Q1WIkI/7yb5+hqiKbJtIRKQCQAAhMJc2UNU+siUyINRQpHJ3aaLS0QcysiifsrVc4fRBRcOVCZPHWp5mdB6IE6W1asHNp+lQ9vq6bQ0gTDTEyHqjeCbLEU9Eh06EtHJ/L7HII2wfH8EZAIAAMTHQNnwUTNSkSUQC5Fk8EIhLH2wUhHalMuuHKhMnTmQJkweqAwdnhs53DTNZCIoD3RsX4NatqOeju+RpQ96AqFSeI8C27Pgpsi5I/jpsTskQsGXM0RJhO3LGpAJAAAwLxRsSuEQJAqsIPApRJZg4xszM5nbcQqkgpWZrpKMMvmifBo3MV8ZPTafho/OU0aPK0xpmTh5uJ5qKlrUqqPNdOJgMx3b26IjD0TicgE/c6VPkkTwIzVEE1HJhEJPIjzc3/ORjcsakAkAANA/FsqEQpRSyMofoqGl/PfNpBQuLqVwcven+36OGJ2jDB2RQ2Mm5FF23wxl/ORC6pOTQYOG5yZEJs5UNVN7q0etrmimtnMetWxnPZ2pbPdLRLvgJCv6mr1VH4n7IfhJp3iJ4OeN4EWiUyATnSYkQm+khi3LGpAJAADoXUqhJxWsGGTpyEUmifso+J4Kp0AqeKFgJ+ES3e/zj2fiRXlK39zz5ZGiCbmacPBioAwvyg0ISDBpUI/ur4+Qh7YWN1UcDpQl1NYmDx3pShnIxCdzMz0QMokw6osIJREeHZHo1BEIoyQCaQRkAgAAYpZS6PVTsEmFKK2QbaKEQq+fgi2DKJxUOCVSwYuS3mPuKarOdZlEiGaqVCUphGzOCFmTpZnNzd2Ol4xLGj6T8mQbXDhuAABAxAlRkZwgfMH/U4Mnb9mQRNEJLsOESJgRCpdAZhxRphWKJI2J5T4kMl7a3aicIUsi+JIGn0a4OVmQCYRodIZIIvTSCNuLBJIJAADoeUohKn04uJO+ixMDmTiIpuAW9VHoSQV/KZpDQy+piNX5wEggRMM6+dEZohEaIpHgR2u4BSIh+n83dxv83/UKRAcSAZkAAICYHSdlpQ89qXAKEocMgWDIZEIvodCTCr2kgiRiEe05QjVIJfjSgJfM9UMYJRK8SHgkUuHREQjRpFOyJAIiAZkAAIC4phQkkQp+em6nQA4yDETDJUkowmbQZL7WK38YN2pGd46IRiRkiYReScNIJESzW7oFAsFvfBlDL4mAREAmAAAgJaTCITnx81uG5NIonRCJhWxIKSsUxF3vTf8EP2BUNHxSNsRTtCCXVyICboNL/mf1Gip9ZL4vAiIBmQAAgLgeO6ORCoeBVBiJhqjMIRvtwacTsl4KI5FQokgliMLLGqLppr0SmfCYSCY8OokD/ztGvRBm+iIgEZAJAABIOalwkLwU4jSQBaPvmUkm+HTCTDKhmBQJvswhOnGLSgx6JQ4vycsUHsHPyqa7FiUQkAjIBAAApJVUKIKTuZFYOEwkD07Sn4dCNnTUQbEb2SEaCipLAES9CnpCIUsavDryIFuAy0xjJSQCMgEAACkrFfzXRokFf+nUkQ4jiWAnuBKVOowmtTIrFCKZUHUSAq9AKEQlD5FwiH5HVr6AREAmAADAMlLBXxeNsHCSfA4LI9lwGvyeUYmjN/NNiOaXMCsUeg2ZMvkwEgi9DRIBmQAAgLQ+xhpNHOUwmV6IGiv1Gi6NhocS9Xw0h6xnQq93QlaSYAXBqO9Br/9BJDeQCMgEAADYIq2QzbQpu+QlwWnws0brdvSWaFcB1VvYS6/fgV2t06cjMgSJgEwAAICd0go9sSCST4/tMCEe/P+Hbo+/T7FY6MtMyYNI3tvgE/yMajJ5gERAJgAAwPZSQSRvhlSi2BycgPDXZT0SvemZMEoo9Bb7MisMsqW/IRCQCQAAwLHYILEwkgsj2ZAJRLSTVZk5WRutGkpk3BxplD4QBAIyAQAAIHqxIBNyQSRvqpTdRk9lwkgkSCAIZEIcZD8DgYBMAAAASIBciH7H7GiNWDVgUg8kw2hWTQgEZAIAAEACjttmZSLW5wc1yp/riThAHiATAAAAknQc7+lIDbM/q/bg59QY3zaATAAAAEiB43qszgdqgn8PQCYAAADY7HgPaQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSS/y/AADSaZge4dAeCAAAAAElFTkSuQmCC",WCe={key:1,class:"d-flex justify-center align-center",style:{height:"100%","min-height":"60vh"}},jCe={key:2,class:"date-organized-uploads-vertical"},JCe={class:"date-header-vertical mb-3"},qCe={class:"upload-count-vertical text-caption text-medium-emphasis ml-2"},YCe={class:"d-flex align-center justify-center fill-height"},XCe={class:"d-flex align-center justify-center fill-height"},ZCe={key:1,class:"no-images-placeholder text-center pa-4"},eEe={key:0,class:"documents-list"},tEe={class:"d-flex align-center"},nEe={class:"file-info flex-grow-1 min-width-0"},rEe={class:"file-name text-body-2 font-weight-medium text-truncate"},aEe={class:"file-type text-caption text-medium-emphasis"},sEe={key:1,class:"no-documents-placeholder text-center pa-4"},oEe={__name:"upload-files",props:{consultation:{type:Object,required:!1},procedure:{type:Object,required:!1},patient:{type:Object,required:!1}},setup(e){const t=e,n=pr(),r=H([]),a=H(!1),s=H(t.consultation?Gn.cloneDeep(t.consultation):null),o=H(t.procedure?Gn.cloneDeep(t.procedure):null),i=H(!1),c=H(null),A=H(0),u=H(!1),f=H(null),m=H(null),v=H(!1),h=H(null),y=Z(()=>{if(!r.value||r.value.length===0)return[];const W={};return r.value.forEach(le=>{const K=new Date(le.createdAt*1e3),ee=new Date,j=new Date(ee);j.setDate(j.getDate()-1);let U,G;if(K.toDateString()===ee.toDateString())U="Today",G="Today";else if(K.toDateString()===j.toDateString())U="Yesterday",G="Yesterday";else{const ne=K.getFullYear()===ee.getFullYear();U=K.toLocaleDateString("en-US",{timeZone:"Asia/Kolkata",month:"short",day:"numeric",...ne?{}:{year:"numeric"}}),G=K.toLocaleDateString("en-US",{timeZone:"Asia/Kolkata",year:"numeric",month:"long",day:"numeric"})}W[U]||(W[U]={date:U,fullDate:G,rawDate:K,items:[]}),W[U].items.push(le)}),Object.values(W).sort((le,K)=>K.rawDate.getTime()-le.rawDate.getTime())}),w=W=>{const le=[],K=[];return W.forEach(ee=>{ee.type.startsWith("image/")?le.push(ee):K.push(ee)}),{images:le,documents:K}},b=async()=>{const W=f.value,le=m.value||n.state.doctorModule?.doctorId;if(!W){console.log("Cannot fetch upload items: Patient ID not available"),r.value=[],a.value=!1;return}if(!le){console.log("Cannot fetch upload items: Doctor ID not available"),r.value=[],a.value=!1;return}a.value=!0;try{const K=await Hge(W,le);if(K.success&&K.data.uploads){const ee=K.data.uploads.map(U=>U.path),j=await xk(ee);r.value=K.data.uploads.map((U,G)=>({...U,fileUrl:j[G]}))}else console.error("Failed to fetch patient uploads:",K.error),r.value=[]}catch(K){console.error("Error fetching upload items:",K),r.value=[]}finally{a.value=!1}};Ge(()=>t.consultation,async W=>{W?(s.value=Gn.cloneDeep(W),f.value=W.patientId,m.value=W.doctorId,W.patientId&&W.doctorId?await b():(r.value=[],console.log("Patient ID or Doctor ID not available"))):(s.value=null,t.patient?.id&&(f.value=t.patient.id,m.value=m.value||n.state.doctorModule?.doctorId,f.value&&m.value&&await b()))},{immediate:!0}),Ge(()=>t.patient,async W=>{W&&W.id&&(f.value||(f.value=W.id),m.value||(m.value=n.state.doctorModule?.doctorId),f.value&&m.value&&await b())},{immediate:!0}),Ge(()=>t.procedure,async W=>{W?(o.value=Gn.cloneDeep(W),f.value=W.patientId,m.value=W.doctorId,W.patientId&&W.doctorId?await b():(r.value=[],console.log("Patient ID or Doctor ID not available"))):(o.value=null,t.patient?.id?(f.value=t.patient.id,m.value=m.value||n.state.doctorModule?.doctorId,f.value&&m.value&&await b()):r.value=[])},{immediate:!0});const B=H(!1),S=()=>{B.value=!0,console.log("Upload Template")},T=async()=>{B.value=!1,await b()},N=W=>({before_image:"Before",after_image:"After",report:"Report",prescription:"Rx",consent_letter:"Consent"})[W]||"Others",k=W=>({before_image:"mdi-camera-outline",after_image:"mdi-camera-enhance",report:"mdi-file-document-outline",prescription:"mdi-pill",consent_letter:"mdi-file-sign"})[W]||"mdi-file",E=W=>W.includes("pdf")?"mdi-file-pdf-box":W.includes("word")||W.includes("document")?"mdi-file-word-box":W.includes("excel")||W.includes("spreadsheet")?"mdi-file-excel-box":W.includes("powerpoint")||W.includes("presentation")?"mdi-file-powerpoint-box":"mdi-file-document-outline",_=W=>W.includes("pdf")?"red":W.includes("word")||W.includes("document")?"blue":W.includes("excel")||W.includes("spreadsheet")?"green":W.includes("powerpoint")||W.includes("presentation")?"orange":"grey",C=W=>{const le=W.split("/"),ee=le[le.length-1].split(".").pop();return ee?ee.toUpperCase():"FILE"},F=W=>{console.log("Open Media",W);const le=r.value.findIndex(K=>K.path===W.path);A.value=le,c.value=W,i.value=!0},I=W=>{A.value=W,c.value=r.value[W]},R=()=>{i.value=!1,c.value=null,A.value=0},M=()=>{f.value?u.value=!0:console.warn("Patient information not available")},te=()=>{u.value=!1},se=W=>{if(!W){console.error("No upload provided for deletion");return}v.value=!0,h.value=W,console.log("Selected Upload for Deletion:",W)},O=async()=>{try{v.value=!1,h.value=null,await b()}catch(W){console.error("Error handling upload delete close:",W)}};return(W,le)=>{const K=D("v-col"),ee=D("v-btn"),j=D("v-tooltip"),U=D("v-icon"),G=D("v-row"),ne=D("v-card"),X=D("v-progress-circular"),oe=D("v-empty-state"),q=D("v-chip"),Y=D("v-divider"),ae=D("v-alert"),ge=D("v-img"),we=D("v-card-text"),z=D("v-bottom-sheet"),Ae=D("v-dialog");return V(),ye(ze,null,[l(ne,{rounded:"0",class:"pa-1 section-header-style",elevation:"0"},{default:d(()=>[l(G,{"no-gutters":""},{default:d(()=>[l(K,{cols:"6"}),l(K,{cols:"6",class:"d-flex justify-end align-center py-1"},{default:d(()=>[l(j,{text:"Upload Files"},{activator:d(({props:ie})=>[l(ee,Ne({size:"small"},ie,{onClick:S,class:"mr-1 btn-hover-base"}),{default:d(()=>[...le[7]||(le[7]=[Q(" Upload ",-1)])]),_:1},16)]),_:1}),l(j,{text:"View Patient Images History"},{activator:d(({props:ie})=>[l(ee,Ne({variant:"outlined",size:"small"},ie,{onClick:M,class:"mr-1 btn-hover-base"}),{default:d(()=>[l(U,{size:"small"},{default:d(()=>[...le[8]||(le[8]=[p("img",{src:Nxe,alt:"History"},null,-1)])]),_:1})]),_:1},16)]),_:1}),l(j,{text:"Refresh Files"},{activator:d(({props:ie})=>[l(ee,Ne({variant:"outlined",size:"small"},ie,{onClick:b,class:"btn-hover-base"}),{default:d(()=>[l(U,{size:"small"},{default:d(()=>[...le[9]||(le[9]=[p("img",{src:dw,alt:"Refresh"},null,-1)])]),_:1})]),_:1},16)]),_:1})]),_:1})]),_:1})]),_:1}),l(G,{"no-gutters":""},{default:d(()=>[l(K,{cols:"12",class:"scroll-element mt-1"},{default:d(()=>[a.value?(V(),he(G,{key:0,"no-gutters":""},{default:d(()=>[l(K,{cols:"12",class:"d-flex justify-center align-center",style:{height:"100%","min-height":"60vh"}},{default:d(()=>[l(X,{indeterminate:"",color:"primary"})]),_:1})]),_:1})):r.value.length===0?(V(),ye("div",WCe,[l(oe,{image:We($Ce)},{title:d(()=>[...le[10]||(le[10]=[p("div",{class:"text-subtitle-2 mt-8"}," No images or documents found for this patient ",-1)])]),text:d(()=>[...le[11]||(le[11]=[p("div",{class:"text-caption"}," All uploaded images and documents for this patient will appear here ",-1)])]),_:1},8,["image"])])):(V(),ye("div",jCe,[(V(!0),ye(ze,null,Jt(y.value,(ie,_e)=>(V(),ye("div",{key:_e,class:"date-section mb-4"},[p("div",JCe,[l(q,{color:"primary",variant:"elevated",size:"default",class:"date-chip-vertical","prepend-icon":"mdi-calendar",title:ie.fullDate||ie.date},{default:d(()=>[Q(J(ie.date),1)]),_:2},1032,["title"]),p("span",qCe,J(ie.items.length)+" upload"+J(ie.items.length!==1?"s":""),1),l(Y,{class:"ml-4"})]),l(G,{"no-gutters":"",class:"split-content-row"},{default:d(()=>[l(K,{cols:"9",class:"images-section pr-2"},{default:d(()=>[w(ie.items).images.length>0?(V(),he(G,{key:0,"no-gutters":""},{default:d(()=>[(V(!0),ye(ze,null,Jt(w(ie.items).images,(Pe,re)=>(V(),he(K,{key:`img-${_e}-${re}`,cols:"12",sm:"6",md:"4",class:"image-item-col pa-1"},{default:d(()=>[l(ne,{class:"image-card elevation-2 card-hover-base",rounded:"lg",onClick:be=>F(Pe)},{default:d(()=>[l(q,{color:"primary",variant:"elevated",size:"x-small",class:"media-tag-small text-white","prepend-icon":k(Pe.tag)},{default:d(()=>[Q(J(N(Pe.tag)),1)]),_:2},1032,["prepend-icon"]),l(j,{text:"Delete File"},{activator:d(({props:be})=>[l(ee,Ne({icon:"",size:"small",variant:"plain",color:"secondary",class:"delete-icon-small"},{ref_for:!0},be,{onClick:Qn(He=>se(Pe),["stop"])}),{default:d(()=>[l(U,{size:"small"},{default:d(()=>[...le[12]||(le[12]=[p("img",{src:zu,alt:"Delete"},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(ge,{src:Pe.fileUrl,class:"image-thumbnail",cover:"","aspect-ratio":"1",loading:"lazy",transition:!1},{placeholder:d(()=>[p("div",YCe,[l(X,{indeterminate:"",size:"20"})])]),error:d(()=>[p("div",XCe,[l(ae,{type:"error",variant:"tonal",density:"compact"},{default:d(()=>[...le[13]||(le[13]=[Q(" Failed to load ",-1)])]),_:1})])]),_:1},8,["src"])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:2},1024)):(V(),ye("div",ZCe,[l(U,{icon:"mdi-image-off",size:"32",class:"text-medium-emphasis mb-2"}),le[14]||(le[14]=p("p",{class:"text-caption text-medium-emphasis"},"No images for this date",-1))]))]),_:2},1024),l(K,{cols:"3",class:"documents-section pl-2"},{default:d(()=>[w(ie.items).documents.length>0?(V(),ye("div",eEe,[(V(!0),ye(ze,null,Jt(w(ie.items).documents,(Pe,re)=>(V(),he(ne,{key:`doc-${_e}-${re}`,class:"document-item mb-2 elevation-1",rounded:"md",onClick:be=>F(Pe),hover:""},{default:d(()=>[l(we,{class:"pa-2"},{default:d(()=>[p("div",tEe,[l(U,{icon:E(Pe.type),size:"20",color:_(Pe.type),class:"mr-2 flex-shrink-0"},null,8,["icon","color"]),p("div",nEe,[p("div",rEe,J(N(Pe.tag)),1),p("div",aEe,J(C(Pe.path)),1)]),l(ee,{icon:"",size:"small",variant:"plain",color:"error",class:"ml-1 flex-shrink-0",onClick:Qn(be=>se(Pe),["stop"])},{default:d(()=>[l(U,{size:"small"},{default:d(()=>[...le[15]||(le[15]=[p("img",{src:zu,alt:"Delete"},null,-1)])]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):(V(),ye("div",sEe,[l(U,{icon:"mdi-file-off",size:"32",class:"text-medium-emphasis mb-2"}),le[16]||(le[16]=p("p",{class:"text-caption text-medium-emphasis"},"No documents for this date",-1))]))]),_:2},1024)]),_:2},1024)]))),128))]))]),_:1})]),_:1}),We(so)?(V(),he(z,{key:0,modelValue:B.value,"onUpdate:modelValue":le[0]||(le[0]=ie=>B.value=ie),class:"elevation-24","max-width":"100%"},{default:d(()=>[l(oU,{consultation:s.value,procedure:o.value,patient:t.patient,onClose:T},null,8,["consultation","procedure","patient"])]),_:1},8,["modelValue"])):Be("",!0),We(so)?Be("",!0):(V(),he(Ae,{key:1,modelValue:B.value,"onUpdate:modelValue":le[1]||(le[1]=ie=>B.value=ie),persistent:"","max-width":"40%"},{default:d(()=>[l(oU,{consultation:s.value,procedure:o.value,patient:t.patient,onClose:T},null,8,["consultation","procedure","patient"])]),_:1},8,["modelValue"])),We(so)?(V(),he(z,{key:2,modelValue:i.value,"onUpdate:modelValue":le[2]||(le[2]=ie=>i.value=ie),class:"elevation-24","max-width":"100%"},{default:d(()=>[l(iU,{isOpen:i.value,mediaItems:r.value,selectedMedia:c.value,currentIndex:A.value,onClose:R,onNavigate:I},null,8,["isOpen","mediaItems","selectedMedia","currentIndex"])]),_:1},8,["modelValue"])):Be("",!0),We(so)?Be("",!0):(V(),he(Ae,{key:3,modelValue:i.value,"onUpdate:modelValue":le[3]||(le[3]=ie=>i.value=ie),"max-width":"90%","max-height":"90%"},{default:d(()=>[l(iU,{isOpen:i.value,mediaItems:r.value,selectedMedia:c.value,currentIndex:A.value,onClose:R,onNavigate:I},null,8,["isOpen","mediaItems","selectedMedia","currentIndex"])]),_:1},8,["modelValue"])),We(so)?(V(),he(z,{key:4,modelValue:u.value,"onUpdate:modelValue":le[4]||(le[4]=ie=>u.value=ie),class:"elevation-24","max-width":"100%","max-height":"95%"},{default:d(()=>[l(lU,{isOpen:u.value,patientId:f.value,doctorId:m.value,onClose:te},null,8,["isOpen","patientId","doctorId"])]),_:1},8,["modelValue"])):Be("",!0),We(so)?Be("",!0):(V(),he(Ae,{key:5,modelValue:u.value,"onUpdate:modelValue":le[5]||(le[5]=ie=>u.value=ie),"max-width":"95%","max-height":"95%"},{default:d(()=>[l(lU,{isOpen:u.value,patientId:f.value,doctorId:m.value,onClose:te},null,8,["isOpen","patientId","doctorId"])]),_:1},8,["modelValue"])),l(Ae,{modelValue:v.value,"onUpdate:modelValue":le[6]||(le[6]=ie=>v.value=ie),"max-width":"30%",persistent:""},{default:d(()=>[l(zCe,{deleteSelectedUpload:h.value,onClose:O},null,8,["deleteSelectedUpload"])]),_:1},8,["modelValue"])],64)}}},bO=on(oEe,[["__scopeId","data-v-c89e3178"]]),cU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcgAAAIJCAYAAAAh/a1mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAVrpJREFUeNrsvQmcFNW9sH2ql9kXYIABGZhBkEV2lUVRFtcYjRpRSaJxgRjz5lX5lC/3vkmu0ej35eZmIatJvDeImBg3UFExiisQ90QFBRRFdhlQthmWgZnpevv0dDM1NVXV3dXV01XVz/P7Hbqnm95OLU/9/2cTAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwHMoVAFATo4RlaoFQJAAHBNIE4CTAYAPjwGnjxPVof8DAAgSoMv2fcXssdDj99eKoqI6eb/l/CtWZChDNQ0hIksABAmQOymGnn6wThSEp4pAoE4oylShRr0kb5OzL/p/V0fLpmjZLJqOrFA3bFrVessP91vIzuw2HakCAIIEcHw/V0KPLawU5WWXxCSoKBdHH+vm6KdKaba2rhCNB55quey6lQZCTHbfTIqIEgBBAmRBjC88dnX09pK4FLuK/aKl5Sl1244/ts6+eZVOhkbFSJyIEgBBAji7b4eeeahOFBRcE5XiHMcjxXSJRN4XDY1/bJlx7d/kXxoRRlKUJqIEQJAAGYrxsYXdRGXFr6J3r3HdN41Etoi9+/6r5YrZD2oEGdHJMpKiKJEkAIIESGl/lqnUH7kiYkxGa+sH6sbN/9F6w9x/aITYaiJMRAmAIAFsRo3LFk0TweC90bt1nvoVjQf+J7Lgb7+ILPn7vrggE5JsTSJKJAmAIAGSRo3z4lGjN2lt3aau+fDW1lv+49XoXy0piDIi0hsqAgAIEvJp/411wiksfDx6d4wffpj6Wf2drd/8X/PjktSKUpt6jQjz1CuiBECQkO/7bei5R8eKUOgl4fa2xnTZ3/hYy6VXf08jyRaDqNKsnRJJAmRIkCoAT8vx+cXXimDwb76To6SocHjg65eeq27cskxs3X40+kggXhL1oGjuqwaPcSEMgCAhD+WoxOQYCMjOOEX+PUKDvQKTJ0xRP9n4vNi+o9lCgiKJEJEkAIKEvJDjskXXxHuq+p9QqGdg8sQz1I8+flHs2KmXpEhBmEgSAEFCHghSCT3z0FgRDj+TV79eSnL8uEGRR554SSNIrRj1wlSRJACChDyKHkNL/jpQlBTLIRBFeVcLRUV1gfPP6h9Z/NSrwjrVmvibzjkACBLyQo6PzO8uKiufiT5Sl7e1UVp6gjJ8yBfqiys+NYgcjWRpNDaSKBIgBQJUAXhBjrH73bvdHv13TN5XysljblLOnjowerckWorj0XRhtBRES1heS8QvfhO9XhVh3m4JACmcgADcun8qoecevUSEQoupkjgHD37actFVN0TvHY6WpvjtkXiRQ0JkZx79mEn9zDv6CBMANJBiBdfLMfjAPd2UivLHhB/HOtqloKB7NJIMq8++uCYF2amIECB9SLGCm+UYu6/07nl79LaWatFV0rATLlJOn1gn2lOtsiRSrbIkUq2JQqoVgAgS/BI9hhbfN1AUFz9AlRhd3gYKlLoBleqTz/5LdJywPN0Fl5EkABEkeEmOsVJR/iOqxKKyBg6Yokw8eYDo3GFHlnC8JCJIq047AEAECR6QozZ6nE+1JKm06l6yLfIDg4gxlUWWGfoBQAQJHhMl0WOqlTV08GTRsR3SKIpMZegHACBIcHv0GCuBwEVUSwqEw8WBWVdONJFkorOOtsOOIjquCiKIIgEQJHgkegw99bepgmEdqVfayWPGacSojSC1kwfoJUkUCWBBiCoAV1JYcDGVkIYgj68bGRdjYnIAq0WWW+MXx2r8vnZyc6uJzgGIIAFyEDWKDhEN6dX0KAgXBa66fJwmgtSmWPVT0CXaIokiARAkeEmWwb/8sU4oChMDpFtx48eNEh3Tq/o0a1h07qjDOQDABFKs4Jbo8VgEqfTsQXrVTkXW9q+LC7E5Xo7GS4Fon59VHvOJlGsizZqIIEmzAhBBgktF2VbC4W9SHTYoL6tUJk/oL9rTqtoUa4EmggwJ4+EepFkBECS4NHoUwYV3y/TqaKrG5gH95XPHCfMUa0iYz6xjuD0A8hlSrJCuyLIaPSq9quick0lFnjhkiC5q1EaP+o46srTqokd9qlUI0q1ABAnQUVaia9Ju2s8JiIKCG9kEGVBRXhGYecnwuAz1cjSbVScgOk4coKSwTzhVABAkeEaI6YjT0RJafN9Ueq86sEHPP3u8Toz6oR76KFLbo7WrBYYwAUGCa6XohAgDJiW911VW/DebxoGN279f/8D5Zw/SidEqkgymud2yGT0iS3DViRLY3h1X0Xj8/lpRVFQn1IhsfWp7LhKJP62a7zPxliq18cDm1itv2JzKFwot+csU0dIaEOVlN4pg8CtsIoc4cvRI5KUVL6nLXn5HXb1WbovGaGmI3x6MlkPRcjhamkT7sJDETDsRzRZ1qv1RTeExNY3XAiBIyNp2VkJ/f2SMCIfknKdjhaLURW/HCOY/9R/NzYfF/sZNIhhoEYFAqzjavE09enSLUl5WLYoKjxNKIBLd/mpb0QgpEBid8v6gqiuO3W+NLI8+sC8q6dUtF125wkJ6+uW31DSFCoAgwbntG3ru0bEiFJoTvSvFWEcVQdaJRFaI5pan1K3bnm69Ye5mnSBVE2GqiBIQJHTJtg298Ng10QhhTixaBMgVLS1/Vdd8+NPWW2/bLDov5mxWjKSIJAFBQoZibIsYfxWPGAHcwaFDP235ypX/FRddRCPDiMFjZqJEkpBVglSBr6PGOSIYfFyQSgW3EQ6fHvjGZWeIo83LohGl7CBkNfVdsh7XAAgSUpajEpXjAqEo/061gHvPPoEBytiRZ4m9+5eqH29oER3HYgZ0+zUiBAQJjsjx3qgcr6FawPUEAr2VkcP7RB56/GVhPBaz0/6dZP8HQJBgIsfnF98ePenMoVrAMxQWnKiMGfGJuuzlLSJ5qlVFkoAgIV1BKqFnH5kmQqF7qRLw3E7cu9cZ6pqPlogdO1uEeZo1AZKELoGp5nwUPYpwGDmCR89EgfLA/7r22ui90mgpiZZi0b5cl9EqJPq5YwEQJBjLMfT84h9Fb5noG7y7Q9f2n6kMO6FaI8gi0XlNS/0E64pgHUvIEqRYvS9IJbjw7u5KZcUD8RMKgFejyAKlvGynuvzVzcJ80vJUJgxAkkAEiRzb7ivVvS8WzKEKfuCE408XbWlWfapVuxqJWZoVMYKjhKgCb8sxVkLBm6kW8MXO3bdarmVZphFgoueqtmhn20lEkYouolQEM+1AhpBi9ZYYO8kx9PCfB4rSkv+f6gHfUFiwU31ndb3uUaup6IQwT7UqWTgGu2JdTCCCdEUU5mVZKqKy4mJ2Y/DVwTmg5vjozSqN+BJrVLaK9jUrtWtXRkTnMZKqh473ZO2sgCARYhq/o12QweBF7MbgK+oGDBFt7Y+qTpAtGklqZamNJCNZlo3T55JUOhkhTATZ5VJUPPyb2jsnBAJT2I3BVwfucX0GxgWZiBRbdMVKkEaS7GpBKimKMFVpKsgSQWZzB07lMcUjvy3xPQOhh+ezhBX4ksC3r5kQ+e+Fr2tEmJBjs4EoVWG+sHLGQgneM6+bUnPcmNhbRTqstpX0nNHylStXJJFgsuW7zGSJKF0QZXn6t4SeeahOFBTINrppQlG6CVX1ft20/wb5/SqjEeRodmMAlxOJrIgeu5vF0eaV6mf1K1q/fctmE1GqJvdTFSggSOvfEVq2aJoIBm8XLBIMAO4U5mpx6NDdkRVvPB355d37RcchK2YLRauIEkEiRgDID1R1vzjc9IfI0uf/GPnTgn2i83AWNYk0kSSCTEGOLzz2K6EoLPMEAF6MKLeoOz//YetV31kqOvbcjSSRpl6MSBJBtn/vWDtjYeFj0btj2ZwA4GkONz0Uue/B2yKLntyrk6RWlhGLqBJROojXZtLpMPNE6LlHx4qCgteid+vYlADgecKhkcq4UWeJPfueUT/+VPbY1a6Nmc7sO8zQk6eCbJdjKPSSYJJuAPATgUBvZfzY6epn9c+KjVsSktSvfam/L5LcB58LEjkCQJ6cmYO9ApNOnqZu3vqc2LK9xUCSWjmqFpElkswDQbbL8bGF3URJsZRjHzYfAPhakqdNmKp+svF5sX1Hs+icak37/AlpBvNekmPsfkX544I2RwDIBwoLhgXnfveHouPamGbrY+ojTMSYBxHksVRC6PnFt4tA4Bo2GwDkDSXFQ5UJJzWpz7ywThinWK1QiSL9K8h2OT7z0FgRDv+NTQYA+YbSo9tIseuLFeqGjYfSkKPZ+RRSxM0p1o6p1YLCe9lcAJCfoUywLPDtq/8jeq9UtKVaZSkSHdOtIdGeajUbFoIkfRBBdtigoecevVYEA99mcwFA3lJUVC169dyqvv72ZzrxmU0SoCJE/0aQMTkGF97dXYRCv2RTAUDen7DPPP3b8SiyxCKK1EaSRJE+E2SHDan0rZbzqzLeEQCgqKh38P/M+VJckHpJhkXHVKuVJMHjEWTbBg0Gb2IzAQDET4ynT7xcGLdFFhoIUtGc54ki08RtbZDajRYIPfvINVFBzmQzAQDECYdLxNGjG9QPPtwtrJfEsprMHDwcQbZFj6HQzWwiAADdCXLqZLnmrTbNqp9AQJ9mNZqBhygyCSGXRo9K6Im/jBGKMoZNBACgO1kOHDA6Lke59FWrSYlonk9EkQlJElF6NIJs24AlxcyYAwBgRDhcHLjkyyNEextkoiSiyAKRWmcdokgPCFLpJMhA4CI2DwCAyUnz1PFjDORolma1s6Zk3hNy2zaXJfjXP9UJRall8wAAmJws6/ofHxdjs64UxG+lJOVSWa1xScq0akRzrlUN7oPLBSmU7t2msmkAACzoWVUdjxi1cjwSF+RR0T5pQEtckK3CeC1JMMENKVb9CtmKCIemsGkAAJKcwM8/+wTRnlrVpljN5mcNCG8sc4ggTb+TEqD3KgBAMoYM6qsRYoFOjslm1aEd0kOCbN9gAWU0mwYAIMlJs2eP7ikI0mqVD7tLZyHILpKiVo5KaPF9tD8CAKRCv7694yK0kmMofq4PEj2mh/s66bS2em7DVQTD4sSiclFTUCxqwsWxx8rjj5mxtqlRNLY2d3r8jYN70vrsbc2Hxbajh9mTwVdMKu0hZnTvd+x4OrGoInqcZe90JY/HBoPjMdVjNpXXZ+WEWVRUGD+Ph02K2Yw62iCFjjoeEaQQJcWuT69KEZ5bXi0mRg/iE4vLjx3E6Z4AjJiT5vv8Ztcn4tfRAuAnvqaWNV3crV9RV32e1cVsKsdsQ2uL+PrGt6KibOjaiqruVaWJEo3kaDXlHHL0iCDbN5iiuHZpq8uiV7QzuvUzPVAAwKHzfnWfIi99XxndPjhwgjhj/fJcRJIhkxIUHVOsAWHeDqkiTHcJUjF8THVfblwK8ba+w1O6yuxqZCoXwG/ILI3XkJK8LHoBfe/uTbk4jwd1QgzqHqcXqw3cMg6yvajuuoCRYpRXhm6Uo8St3wsgI0GGiz35vWW7aY7O42aRY0KMVqt6gAsjSLOI0jUb7uc1o2JXhFxpA7BPu/iCNaCRYNBAlmbtj9pzL6lVl0aQHXFJBOkFOSautCtIs4KPkD1WvUwO+igEdJFi0CRyDCQRJbhckK7YYLOq6jwhxxwekABZ45yK3p7+/jm4YA0YyDFoED3q06ssf+W5CDLHkb7cuef0HswJBSBHx5+XLk6NI+AuT7MGkhRtBx3WhfSYIDtupBxnWG/rOyyrA5KzgRyTSZoV/IDX5ZjDc6iSgihJrXo/gszt1auUjfe+d0icSxQJPuC6niwDm0EEaSRKRVjPvYooPSLI+IZSc7bBpGS8Fj0m8FpaGKBT9KiZWg5snT/TiSCRIxFkekz0cGcXeWKRnYsAvIgX2/5dJsdUihCkWD0pSFdc0Xi9N6g8wTAuEjy77xI9OiHIgEg/zQqeiSBz1ElHXsF6/QCV6eF7BpxEhx3wFPLCdFYVbY8OBhgBi+hSmMgRWXpCkDnCL1O2yd8hp8ZDkuCN/bUidlEHjksy1Q45iBFB5p/skSR4QY5t+2mIysiOMBnviCDBTJIrh0wV51ZUUxngOmSHsqWDT0OO2ZOiWRSJJNOAvdPHtLVJjouteL5g92axrGEnlQI53B/DsaFUdMhxlVATt0xWjiDzE9kJQha56rmU5bqmBrGt+bDYdvSwI+/v5HuBu5Fp0XSiPrnfyTVLZUaDOYO7RHapRolEkQgS9BGlvIL34qw7UuyQ2UUSACBI4AQPQDQJGUMnHQAAAAQJAACAIAEA8gnmWEWQAAAACBIAAABBAgAAIEgAAAAECQAAgCABAAAQJAAAAIIEAABAkAAAAAgSAAAAECQAAACCBAAAQJAAAAAIEgAAAEECAAAgSAAAAAQJAACAIAEAABAkAAAAggQAAECQAAAACBIAAABBAgAAAIIEAABAkAAAAAgSAAAAQQIAACBIAAAABAkAAIAgAQAAECQAAACCBAAAQJAAAAAIEgAAAEECAAAgSAAAAAQJAAAACBIAAABBAgAAIEgAAAAECQAAkA1CVIH3eePgHrG2qVE0tjZn5wNUo78Vi+fa76sWzwnL5xSbr0vnOSUL76m/3/Ez1GSvc+AzsvOblOTf2yFqKgvFidVlYkR1KQc3IEiwJ8UFuzeLZQ07s/tBqub22H3F4rmOt6pq8v+TvK7Da0z/T+rfSTV8Tkn/O6X0XXQSTvZdMvpOduq37TPUtH6LxfbIEhVFIXHekCoxe3w/ZAkIEpIjI8W7dqyLCRLAzzQ0tYhHV++MFSnKeRcOiUkToKugDdJDLNq3XVzwyavIEfKO59bvFqf+4W3x+pb9VAYgSOgsx+9te5+KgLyOKK/46+pYRAmAIAE5Aui49en1Ys3Og1QEIMh8R7Y5IkeAjlzxwOpYRAmAIPMY2SEHADoi5Thv5RYqAhBkviI749AhB8CY+W9vF9v2N1ERgCDzkcX7tlMJABbI3q0ACDIPWdawi0oAsIAerYAg8xCZWm3I1tRxAD6B3qyAIPOQbc2HqQSAFGDyAECQecb2owgSAABBAgAAIEhIhfJgmEoAAECQoOfEonIqASAF+lcWUgmAIPNLkBVUAkAS5PJXNZVFVAQgyLw68IMhJAmQBLlOJACCzENmdO9HJQBYcPnoaioBEGQ+clm3ftFIks46AEacWlspTh1QSUUAgsxHZJp1Tu/BVASAAbecUUslAILMZ2ZV1YpJpT2oCAANs8f3I3oEBAlC3DPgJDrsAMSR7Y53nHM8FQEIEtpSrQ8OnIAkATlG5TjvwiFUBCBI6CzJWVV1VAbk3/5fFIpFjcgRupIQVeAtSd7Wd5g4p6K3WLB7s1jWwFp4kB9R461nDGBCAECQkBzZaUcWuSSWXFT5zfjakXINSQCvR4ojqktjMpSdcOREAPIxAAQJaVETLo71cpUFAACchTZIAAAABAkAAIAgAQAAECQAAACCBAAAQJAAAAAIEgAAAEECAAAgSAAAAAQJAACAIAEAABAkAAAAggQAAECQAAAAgCABAAAQJAAAAIIEAABAkAAAAAgSAAA6oIwd1Y1aQJAAAKCnsjxMJWSHEFXgfbY1Hxbbjh7O/gepmTynZOE9c/Gc4oPfIO8qzrxnlhjRu1RUFHF6AgQJNqW44IvNYlnjzuzKUdXcHruvWDzX8VZVTf5/ktd1eI3p/0n9O6mGzynpf6eUvovuwiDZd8noO9mp37bPUNP6LRbbI1uSrC4V5w3pKWaPPw5ZAoKE5DS0toi76teJRXu3Uxnga9bsPBgr81ZuFreeUYsoocuhDdJDvHFwjzhj/XLkCHmHlOR589+NCRMAQUIHFu3bLr6+8a1oBNlMZUBesm1/k7jigdVIEhAktLOsYZf43rb3qQjIexqaWpAkIEiIXzU3Hxbf244cAbSSnPv0R7FbAASZx9y140PSqgA6ZAQ5/+3PqAhAkPnK2qZGsaxhJxUBYMCf395OFAkIMl9ZsHsTlQBggpTjo+9zAQkIMi+RnXMAwJzn1u+mEgBB5hsyvUrbI4A1r2/eTyUAgsw3umRuVQAfwJAPQJB5xrqmBioBIAUajtBRBxAkAAAAggQAAECQ0ImJpT2oBIAU6F9ZSCUAgswnagqKqQSAJMjlr2oqi6gIQJB5JchwMZIESMKpAyqpBECQ+chl3fpRCQAWXD66mkoABJmPXFdVJyqCYSoCwACZWj1vSBUVAQgyH6kIhsSsqloqAsCAO845nkoABJnPzOk9WJxYVEFFAGiQqVWiR0CQIO6pHUeqFSDOiOpSccfZRI+AIEG09Wh9cOAEerUCcozK8ZErR8eGdwAgSIhxYlG5WDposji3gl57kJ/MHt9PPDv7JOQIXQZ7moeQnXbuGTAutk7kXfXrWPED8oJTayvFLWfUMuYRECQk59yK3rEi14xcvHd79LZBvHFwDxUDvpLiqQO6iXOHVMXSqgAIEtJCpl1P7DuMigAAyAK0QQIAACBIAAAABAkAAIAgAQAAECQAAACCBAAAQJAAAAAIEgAAwK24b6IANV5y8bkAAF47n3DuIoIEAABAkAAAAAgSAMBHkPL0DbRBAgAgSSCCBAAAQJAAAAC2IcWq/VwAAM4nQAQJAACAIAEAABCkLUiJAIAXzyWcu7KGC9sglbbS5SjsDQDgzLlE5XxCBAkAAIAgAQAA8geGeWg/12O8cXCPeL5hV+x2bVNDer8zUc+xlLau3uP31STPd3p9p+fMn1dTfr1oT1epyZ9XjZ4XisVrU3teNX3OoI7S2JdOra0UJ/YuE5ePrhYjqks5I/kF2gURJOSGRfu2i9/s+kRsO3qYyvA4r2/eHyvz394uaiqLxB3nHC/OG1JFxdiksKAtKRZQFBEOtbcDhoKKCAZTaxeMRIRobokc+7u1VRUtkTbjNTerIqJiPwQJrqOhtUXcsOWdWMQI/mPb/ibxrUVrY4Kcd+EQUVHE4WkmwVCgTXjhUEAEok4sDDvbWlRcaP1+zS1tojxyNCKkO6VQkSeCJD2RI9Y2NcbkSNTof55bv1tc8cBq8csLh+Z92lXKUMpPirAglHoUmG3aolOlk5hltPmdkjpRURISy/d8IVY17hf7mpvZqREkcsxaZNF8WHx941vRCJIDLV9Ys/NgLJp8bva4vIkkZVr0mBDDiuNRYVcgBT6orFTcNniouE0MjT0mJbmqYX9UmLvFk7t2IEwECU5yw+Z3kWM+Xhjtb4pFks/OPsm3v1FGhlKKMqXpRSGmwpjyyli5ut+A6F/jYsKU0eWTO+tjt4Ag3Y9LI1fZGSflHqrgy0hSduCZPb6fr6RYWhSMSdEtKdNcCPPm2kFiX0tzVJQ7xJJd9bFbP527EGS2RMUGjyE75dy7ezMVkefMW7lFXD6q2tOp1nyXohndQuFYZCmLTL3KFOySnRnIEhyFiQJczILdm0itgmhoahGPvr/TeycXRRFlJSFR3aMwWgqi94PI0UqW4TZZLj5pgvhk2jnil8NHitriEqc/hg2AIP2BHO8IIHl0tXcEKdsUe1SExXG9CkW3slCH8YiQGlKMN9cNionyhYmT4+2XyLGrIcWq/VwXIXuuMqQDEsi2SBlJujnNKlOoMmJEiM4ytUfPWPnRCUPF/du2it9u2mCnJywbhQjSPyBH6CTJXQfddwJRFFFRGhJ9qwpF92jUiByzG1XeFpXkx9Gocv7ocemkXxVk6ZcIEmK8yWw5oENGkG4So2xTlBFjgNNtlxJrq6wZECv3b9si/qtv3/BaYwEqBvdTkaV8jK6SRJAA3mHtztxHkImIsU/PwtgtcswtUpJrHll06rPPPjtp7Nix5TrJKQaSFCaPK0SWXokgaYME6ERNZWFOP19Gi16Q4vLdbYPvNx8+FC2HOz2ejDEVlbEoTVIZCsX+1j/uNs4777zjZfnrX//65g9+8INXt27d2mggSatCFOkZQYIYXlRBJUBHQXYrysnnFhcGY71R3TREQ8pPTt+2qqFBvLd/v9jf0pyyAFMVbDKBTq3qKWqLi2N/JySaa6666qqJM2bMGPPwww+/cN111z0bF10gXhSDWyNRqkjSrYIkkms7GRYUUwnQgf5dHEHKJaJkx5tcTwEne2yuiEpLylBOzeaUCO0ixWwkUilJKc0xFRVxeZbk5PsVFxcXXXvttRdeeumlp/30pz+95z//8z/fjgsxqLnVijNiEEkiSTcKUm4JBUmKE4vKRUUwzEQB0HbBVFkUK11BogOOTKfmSohSPit2747dJoTkdlZFI1lZEtSWlMREObWqKifCrKio6PGTn/zk+9dff/1bP/jBD3730EMPbYjLUVta45JMnHUjJpLMy/DFlSlWmiDbOLeit1i0l8kCQHTZIsqxQf7l4S5Pp8qU6ZL6HdFSn/MI0Sk2HToULVvEwq1bjkWYF/fpGy19ujQlO3DgwAn333//n2688cb5p59++sLoQ/KqOxyXY9Dg9BcxOT3mXTRJG6SLua6qDkFCjG9NOC7rUaOMGGXk2NVSXLh1q2eixIwizIa2Za/uXP+hqItGlxdV9xXX9O/fJbIMh8OlkydPvnnv3r2T77rrrh/Omzfv07gg9cLTRot5H00qLvjsRB5cHpnh4N/++h+irOzfuvrLTKroIR4aPt51G+iGLe+KZQ0OTjOmam5jRdHc7/icmuT5Tq/v9Jz582rKr4//H9PnOj6vGj0vFIvXpva8avqcQR05fOq4fHS1mHfhEN9EjfdHhSijKr9EipkyprJSXCPHNUZl2RW9ZFtbWxvXrVt396hRo/4c/fNIPKJsid9G4uKMxIvR0S/yRZIuHAep5LC4j9v6Dou1RUJ+IqeWu+Ps47P2/t3KwqJXt4Ksy3HzoUPi1jUfiJ7P/l3Meu/dqBx35/hYd09Ztb/hWN3MPlY32SMYDJaPHDny/zQ2Nv7tsssu6xV9qEC0pVxlCcVLoo0yIDr2glVcEmDlqyBBS024WPy83ygqIk955MrRWZl/VS4/JVfZyHZKVZ7sz3rtNTHoxRfEbz/91M4conmFTDef9dqrYnC0vmSknU3KysomPPTQQ8uffvrpKTKREC9aUWolaRZN+HqCAfcJUs2zz00B2Vnn5zVIMt+QadUR1aWOv6+cVLxX94KszpsqT+6DX3ghdrInlZo+soOPjLR7/v3v4s6PPsrahYWMJi+44IK/btq06VYDSYZFxx6vAQNZ+jqadGcEqeaguJzLuvUTDw6cQLo1D5AR47OzT4q1PTqNTKnKsY3Zmg0nIcZZ774bO8nn5Fj2UZFilIKUdZpNUdbW1t7c2Nj40IwZM3rFJVlgEk0qIo9SrqRYPcSk0h5i5ZCp4rLu/agMnzJ7fD/x+nfHOx45yl6q2UypdhIjOIpelNlAplwffvjh5X/+85/HRv8s0okylEYk6RtRuq8X6wMP5K4X64mneGbDyfUiF3yxWSxr3Jne0lj0YnVdL1Y5AcAV0Wjx8tG9szIZgGxvlCnVbESNso1RnrCXf0EatSuRw0R+NHRorOer08heru+8885PJkyYsCj651HR1rtVFtm7tUW0Dw9J3EaET3u5uk+Qf82hIEec4smN2NDaItY2NaT3IjXVx5T0X6fa/DzT/6Nk8b1T+z+q1XfI4DQwondpVhdBlvOoZiOlKnulSjEu3LJVQO6Y2rNnTJRTezo/kcSGDRvuHjx48O9E+1CQxHCQFtE+HKRVWDdaeVqSTBTgAyqCoVj6FUCL7Iwj5eg0Uoy/3UCPVDcgI/ezouXmQcfHROnkOMpBgwb97x07dtT07dv3+6LzcI9WzX9NjJk0umz09Ow7tEEC+JAeFWHH5SjnGT35leXizg8/Qo4uQ16wDH7+BbFkR72j79unT5+L9+/ff//555/fW7T3cjXqwJNsKAiCdIRc9RgD8JEcS4qc7YwjpXjyy8vFqn376V3q1h6vR5vFjDffihUnL2AqKipOWbRo0X3nnnuulKRV5x0jUXpakkSQAMjROmp8uS1qBG8go8jBy5yNJktKSoY+9thjC84+++xeBpLUR5K+GQaCIAF8gBzG4bQcZdouFjXu308FewwZQcpIcvY77zoWTZaWlg554okn5p955pnaSFI7sYA2klT8IEkEmYA0K3hYjnIYh1NylCfUs/7xmrj1/Q+oXI8jexnLbenURY6U5JIlS/5n+vTpvUwkGfKTJGmDpA0SPE638pBj08bJE+ng514Qyz//gnY9nxTZbnzWytfE/Q4NySkrKxvy5JNP/s/UqVOlJIt1kgz5KZIkggTwME6mVeUJ9OSXltND1YfIbTrrX++K2dHikCRPeOqpp/57ypQp+kgy0S7pC0kiSADkGDtxznLo5AnuZaGDF0Hl5eUnPP30038644wzzDrueF6SpFhJs0IeyzHW3rjyNbFw81bSkXmUcj3lRWc6X0lJLl269E+iLdXqO0kSQQJ4DDlDjlOR49zVH7S1N0JeISeUP2vFa45JcuPGjbfHJakVpecliSABPCZHJ2fImX/yOPHilMmxya8hv5DZg5OjkeT9mzPvvFNXV3f+2rVr/1+dID0vSQQJ4BHkqhyV5c7PrSonuv7nWVPFmMpKKjkPkW3PTkhy+PDhly1duvRiP0kymMPPVjS3icoKBi6ZMUUUFEzu6i9TU1gsLqs+jqMFXElsPceqwqwtdFwUDIqZ/fuJ53Z+LnY2HaHC84wln9WLutISMaZbZhdJJ5xwwunNzc1vrly5cq/mYTWF+8KNkiSCBPAA2VrPUYtcCeLFKadlfJIEj0aS/3Qmkrzjjjt+ddVVV9WJ5B13rBZeRpAAkBzZY9WpiQCQJGRbkuFwuOz3v//9/yc6d9oxmuDcbBUQV8iSYR4M8QAX42SP1bQlKdskGRaRd2XW25lLsrKyctD69eu/b1OSwi2SdGEEqeSoALiLbHXKSVmSUxORpELJszLr7fcyluQJJ5xwzuLFiy/USDIhSM9IkhQrgEuRqdVADk8P7ZKsYGPkIVKSyz/fndF7fOUrX7nh8ssvrxPJx0i6sj2SFCtpVnAh3coya3eUY9zuXLveOUlWVpB+zMMy47W3xap9DfazIOFw6T333PMjA0EarQCSEKR++EfOZEkECeAyCgsCoqwks3bHGa++Le5c85HYfPCQM5KcRiSZj+w72izOeuW1jOZu7d69+8Dly5dfIzqmWvXtkfplslyRakWQAC5CjnesqizI6D1ma1Jjl0YjACcmpkaSeSzJ5swlOWXKlJk33njj8CSSTJZq7XJJIkgAF9E9w3bH+zdtFQs3tXeukOmxTE9uSBLkfjT3vTUZvcePf/zjm4V1qtV17ZEh122JXLUHerQN8o2De8Sb0bK2qVE0tDYb/6ZYnSqd2ltV1fw50zZag/+vHntOSfk1lp+jxi8WDZ9TTF+nmr7GfBtXFIbEiOoycWJ1qThvSFVOt6VMrRYXBjI6ic16673Oj++NSvLl18SL00+LSc4JScr3y6RtCrzHwo1bY23RNw853tbre/ToUffiiy9eddZZZ90f/TMSL/KobI3fRgyOXEV3RlO68mwdYrN7j4bWFrFg9yZx7+7NnaVodLFhJqiIlJuJVCIWspGviegEqf2MSJLPjnR+XO30fLrfS2l7j4jJ9008Z8Bz69vSkRVFIXH5qGrxrQnHiZrKoq5N5SiK6JHBkI5YGiwqLSt5OirJ6UgyH7k1GkWO6V4ppvaydzF55plnzvjOd77z1p/+9Ke1Gkm2au5HUri87TJJkmL1GFKKZ6xfLn696xNrOUL6Fx5NLWL+29vFefPfjd12JbJTTjBoP5MkO+UkS6MmJOlYunU66dZ8ZMY/MmvX/uEPf3idaE+zJuvVmtNUK8M8PDTM43vb3xd37ViHGLtAlHc8/6n41qK1sfvZRk4IUFFqP5lz55r1YvnO3aktlivTrS85LEmGgORVkT1bZ7/5nu39pqamZtiCBQvOMZCk6yYQIIL0CFKOi/ZupyK6EJl6veKB1VmXZLdy+3KUUeGdH3yU9mscleSZRJL5xpLt9eK36z+1/fpvfOMbVw4bNqxKdO6wUyA6D/vImSQRJHIEC9bsPCjueOHTrL1/cWFQFIbtHYZScLPefNe2WJEkZMKdH6y3Pc62oKCgZP78+ZeLzmnWAgNJ5izViiBdzrKGXcgxxzy6emesZCV6LMsgtRo9QWXSSQZJQia0XaDZT7Wedtpp55x33nk1wsVztdIG6fL2x7vq13EkugAZRTqdapXtjnY75izftVv89qNPM97vHW+TTEiStrq8KLH9MINU629+85urNFFkkYEkgylIkggyH1m0b7vYdvQwFeECpBwffd+5KFIO6ygrsR893vruB459l6xIsjuRZL6QSap16NChY//t3/5ttEaO6SywnPUoEkFqI1eX8XzDLraLi3AyzSqHddidMSeWWt3r7PjDmCRffC3WQ9HRSBJ8j9xnMkm1fve7370kLkajKehyOg0dKVaXpljlZADLGnZy9LkI2WFn2/6mnEaP8krdidSqZbr1KOlWSnpFDjNasq3e1r5SW1t7wty5c0cJ8zRrSORoGjoiSJeytokZStwqyVxGj7e+s8YRgVlGkk5JsoB0az4xN4N988Ybb7xIGPdoNUqzKl0VRSJI1wqykUpw43bJUJCZRI+yQ4Tdq3QkCdlmk8xurN9o67V1dXWDb7nllpGic4edsMjhZObuFCRpVtHIbDm+JKPo8V8fdNmxsGqPg22SBaRb86X89sNPbe8zN91004W6CNIqklQ0/spaFEkECdClgrQXPd7/6VbHO+akFEk6KcmziCT9jtxXZKrVDgMHDhz09a9//XgDSeo76xgtrJwnnXQgRr+CYirBZ5QWZdBz9f31OfnOSBLSZWH0Ys7usI85c+acKTq3RVpNZJ7VKNKdvVhB1IQRpBuZVFtp+7V2JySX0eMmmyccxyT5ApKENC7oVtu7oJs4ceIpU6dO7Ss6Tz1nFEUGsh1F0gbp0jbISaU9OMpcyIjepbZeJxdDtjtrTuxkk+O2pTZJvu6sJLtV0m7n05JhFHmqMJ6ftcujSBcKUslhcRfnVlRjJDfJsbo0tqiyHcqK7UaP26LR4+EcHxdtxXFJnn1qbPFdN/w2ivPlztUf29o3pk+ffoqw7qjTZVEkbZAu5pyK3lSCi5g9vp+t14WikWNxob1DzW6qKrvpVqclSbrVj7RFkelPldktym233TbWQpKhFKNIHwqS9OoxLuvWT9TQWccV1FQWictH24voiwqDtl63ZGu92HTgkOvSZ7EhIM87LEmGgPiy/GadvYnMZ8yYMV6YTxqQbBJzxSlZEkG6nJ/3G0UluIA7zjne9mvLi+0J8rcfbnRtfcQiSScleQ6RpB+RTQR29pExY8YMmzx5cm+NHI0kGTIQpKMgSJcjO+vMqqqjInKIjBzPG1Jl67XhkL3OOVJAcn5LN4MkIRly33hym705pa+77rrRGjkapVn1M+s4vtIHwzxy/bkpcFvfYeKy7v042nIkx3kXDrEfPZbYjB7XbfRE/SBJSMadq+y1o3/pS18aJ9p7sGpLKqt8+LUXq6AN0gCZaiWS9JYcJXbaH6VsZPujV9qZYm2SyxyWJG2SvimyHd1ONqRfv37VX/3qVwekIEi9JIVTUSQpVg8hI8l7BpxEx50sI4dy/PmyEzOWY3GhvZlznty6M6srdmQtknRSkucSSfqJ+zdss/W666+//mSTKDIkOvZmNZp6jk46+ca5Fb3F0kGTo7IcjigdRvZUvfWMWvH6d8fbbnPsKEh7h5fdnn9IEtyKzIjY2S9GjRpVZxFBGq3wEXDSayHX1WSuUp4emuKuIhgSs6pqY0Uui/XGwT2x1T/kreFvitWp0imlrKrmz5mmoQ3+v3rsOSXl11h+jhrPihg+p5i+TjV9jfk2PnVAt2jEGBSTordyIgAnKQynf5xuPnA4lrL0Kol0q5SblJwTkpTv5+U6ASH2HWmOZUauHlST3kVrTU3vSZMm9XzjjTeO6OQo7x/RRJEtwrgdMnHUK3bO8iE2nbc5sag8ViRzqA7XYLf3aqzt0eMgSTDct7fUpy1IybXXXjsiKshdGjEma4eMmEgybUixAmQBu+nVhRu2+uL3O95xR6Zbe5Bu9bQgbaZZp02bNkQjx7AwHw9pNCbSh8M8mE0HPC/I9HuvxtKruxt803tR/paznstCmyQ9Qz1bntyS/pjIoUOH9o9SZhI9hoR5b1a9HNOWJREkgMMEFEWEQzbSq1vqfVcXsUjSSUmeRyTp9SjSDjNnzjw+LsKwSfSYlTGRCBLAYeTSVnbwS3oVSYLVRaCd/WDKlCm1BnJMZXWPzC523VaBqkqGFTwuSBu9V+VJ472oSPyaXZO/7cxnnZXk6KgkyVp6ryyvT3/SgDFjxvS3iCC10aOjS2Axkw52BBdEkEtk24zPz4yrHJbkS+fRJunFYkeQAwYM6FVTU1OqkWRId99qXlbbnXZIsQI4iN32RzsnDa+mWx2V5JdIt3ovzWpv8vKZM2fW6cRo1VHHkTQrggRwkHDY3vGYL4JEkiDnZt10IP2FlMeMGdNHJ0Sjoo8ghZ3I0b2CZJgHeBg77Y/yZLGp8VBepdnkEJAz/+6wJEm3+jrNevLJJ9foZBg2iB7NerISQQLkXJA22h/zKXrsFEk6KcnziSS9wvId6e/zdXV1PUX7kI6wQfRoNCdrRu2QCBLAQUI2lu9YtXt/3tYXksxP3tuT/j5fUlJSEI0iu+uEaBRBBoVve7GSYgWPIjvo2Jl/9RUZQeZxus3xdGtCkqQyXb3N7XDGGWdUayQYEuYpVm1nHZFu5EgECeAwdjvo2D1Z+CqSlJJ85g0iyTzCTtPC2LFjewvj1KrZdHOBTKJIFwpSyWEByECQofQPp7YVKhRKtMTSrU5K8stSkpXUrUvLezYuDIcNG9ZTF0GapVn1crTVDkkECeAQdtof3yN67HTB4KwkJxFJunhbp0tZWVmhgRz17Y8B4VA7JG2QtEGCUxGkjRSrXMGDNinRuU0yG5Kkbl1VNjWmPxZyxIgRfTUCDFpEkGbjIb2eYgXInwjylR27qTij6CIbkqwiknQTy23u+8cdd1yxRpJm7ZDJUqwIEqArsdOD1QkBIEkk6VXsbNvp06f3Fp3Tqla9WM3EmPSAJcVKehUcQA7xsCWBLxpIt1mlW6P1c+ZS0q0M92inR48eRaJzmtUotWoWQTJRAEBXYqf9kegxjUjSSUleQCTpngiyJe3XjBs3riqFyFE/zCOliBFBArjoxA9IkmMgPVRVVXQyTCZJP42DzBGkWSGTCDLEodQlknzaYUkyBMRzDB8+vEp0TqXqxWg1UYCHU6y0QYIHsdGBVSzfsYd2KDtDQJyU5IW0SeayvPJZ+j1Zy8rKCgykGExRkvRiBQAiybQkSbrVc9ekSYqSYuSoIEiALBOyMcSDzAWShPSJR5CKME+tptKL1aNTzTGTDngQO2Mg35PLXJFmy2wIyFOkW72+DdNl4MCB3UXH9GmqcrQVpgJADrDTxR0MIkknJfkVIsmuPQZsbzdFdG5ntPrb1lAPBAkASBJJeg1tZBgwubU9/tHdgiTFCvkAKTZn061PZkGS1K1bz7uKgSSt2h1tidKdbZAAAHYiySeJJPM4gjT723YUSYoVAJCkmSQvQpIuF6RVWtWHESQAAJKE1CSpF59Zr9Vkf3tIkLQ/Qj5A+5N32iQvok3ShW2QwiBiFEkiRnqxAgBkRZI9iSRdHE2mOnsOggQAQJJ5I0WzKDIjSTKTDmlWyMd9PZ/SrZ9HJbkkKskjDAHxUYrVrlDTEiYRJADkTyTphCQLiSRdEj2KNKJEPw3zUHJUAOwRiaT/mrGxE6xC6aKy6ovGqCTfdFiSldRtBmXqcT3Trvtdu3Yd6qrjmokCcv254AuaW9I3pEzXQQ4iySVOSnIiQ0C6mB07dhx0Ijr0bgRJ+yPkC7RB5WYIiJOSvHgibZI+Pe/SBgmQI2rLi6kEv0SSUpK0SabN2KpyBJn2FTWAx2huSX/HrSsvoeKQZF4j6y1d3njjjS/yO4Ik3AePEVFVGyeHECk2NwwBeYJ0a66K27MopFgBnBCkjV6sRBsuiiSdlOQlRJLZzKJs2rTpIIIE8BB2erHaTTEBkvQLtRXpR5CffPKJfphH1vJ/zKRDehWciiJt7Eek44S70q2PZ0GS1K1pqbORYt29e3dzVx3TRJAAOYwix/Ysp+LcFkk+TiTZFditl5dffnmfQViT7PLUVhiEIAEcorU1/WOwtoKerL6X5FeRpBF1NtKrO3fuzGQWHTVdWTLMI9efC76hxYYgx3LiRJJ5ip19f8eOHYd1Z21VJz4jCdo+uzPMgzZIcAg7YyHHyBQrbVHubZN8zGFJ0uZ8rEztV5V2Pb7++uu7U7SGI6EPKVYAxwRpYz7W6InTTqoJujCSdFKSlxJJJrAzBnLTpk2HdOKzih5VE5EiSICuxk6KtS2K5ISJJPMLeVFo58Jww4YNhwwEGLERSaZ0sDLMgzQrOMiR5vSjyFiqiZRbfqVbL83vISB2V0BZvHjxF7p3i2huI5q/jc7uaZ/liSABHKS5Of0rrWn9elBxXogksyHJXvkZSU6tSb/98ZNPPmmwEfJkFAIhSAAnBWmjHVKeJJlRB0nmE3YuCt98883dOvFFDCJI1eRvn0SQpFjBw9hJscauqOUJg1SmN9Ktu6KSXEy61W6RC4XbuShYtWpVQ/yulQyN0qxCEEEC5B7ZUcfOlHN2urxDjiNJJyU5I38iyak19poUnnnmGaP2RyM5mkkybVEiSACno8ij6UeR02poh0SS+SHJi4+vTvs1Bw4caF6zZs0hg5g0YlGs8oQe7cUK4HVBNttrh2Q8JJLMB0na6aDzzjvv7NGIzUiMrfFilW4V6YqSNkjaH8EFEeSxK2va+LzZJrnIYUn6tE1S/i47F4JPP/30TouIUS/HiPBtJx2hcIYFTyN7stqZuNzOlTW4KJJ0UpKX+TOSnGZzH3/mmWd2i86p1VbdbappVg9PVn5Mkl1dAByMIm2kWS8eVB09ORbkaP+nZFpWfd4YleRbDkuy0ld1dM2J/dKui/r6+sPx9kez6NEqzeqzcZAM8wAfcPiIzTTroN6kLb2ebn3USUlO8E26VS6ObCcqfvHFF3fq3s1IilbRJBMFZMq2A01UAjgXQdpthxxUTeX5Id3qpCQvn+CLdOs1I2psvW7x4sU7RfJeq0aSzDgMQpAJQR5sEm/s3EdFgCNEVNVWFCkFSW9WJOlHSV5tI7164MCBlscff3y3hRBb4qXVIJpM1gaZVJgIUsOvVm+kEsAxmo60EkUiSSQp2iYHsHPh9/LLL+/UyMxIkK0WcrSaMMCjEWQOc+QygiSKBKew2w5580l1tOf5qU3yEYcl6cE2yWtOtJdeXbJkya4k0aM+imQmnWwy9/V1ouFoCxUBGWM3zSqvtKf2Z2YdX0WSTkryCm9FkvI7Xzy4d9qvk+nV+fPn14vOQzuMipkkIyKDLpgIUofsrHP98vepCHAEu2lWu1fcgCTdxjUj+tlarebll1/eJaxnzTFrf2wVDqRXXSlI1QXpgDfq94m5r63jqIaMkRGkncnL5UmltryYNCXp1uSSdPnvjjUZ2OAXv/jFJovosUVXzCSZ0eLJrowg3bBdH91QjyQhY2Sa1XYUObIGr/isvJcNSfaucO3vvWiwvV7ZcnKAFStWNAjjWXOMBKlPsToy0p0UqwVIEpyg8ZA9Qc45qZaFlH1INiQ5trc7063/j83ocf78+ZuFcc/VliRyNEqxinSiRvcL0kWXQI9+Ui9mLnuXjjtgG7tzs8qT3xx6tPqyvLczKsmHHZaky9Ktcgk3u53Nfvvb324XnaeTS0WQjgzvcK8gXTjl2+v1+8Rpj73OEBCwTcNBexdY14zsR+X5OZJ0UpIz3RVJ3n7aCbZe99RTT322a9euZl0EqZVjs8H9VgNJZtT+6E5BNh/Z6soTXDSCvOK5d8X1L7/PtHSQNnY768j2GySJJL0myWn97UeP995773bROb3aYiDJZmGdYs24DTKXy1goGknLEoyWsHLL3dPFcQOXuH3HvnxQHzGpT3fRv7SIoxxSYmTfMjGsV1nar9vUcFictPBVR06i4E6k1KTcnGhzlvuJlK6Ub654eeZEW4L8+OOPG4cMGfKaRoJH4kWu5nEwWhrjpSFe9kfLgfhj8v8cjpYmjUCN2iNTlmXIbTuK+t7yD5S+A12/Q8u2SVkAUo4GK4vFp9+eZiuKnHNynfjxqx9TiX6NJGWb5ENviZe+lrkkE5GkfL9cSDKT6PGee+7ZIjpPTK5PpzbrIshmkdo8rGnjvhTry4/sF6rawCEDfmPT/sNi4Qfbbb12zsn0aPW9JHe1SdKxdOvXcpNuvX2yvbbH+vr6pl/+8pfazjlGwzqaDQRp1EnHTIw+mGqupXkNhwv4kR+/Zi8KjPVoPaWOCkSSrpbkxSdU244ef/GLX2wQyScFMBOkvu3RVkpVTzCH+4KiuVVEeztkUDnjq2NEuPAkDhfwG/uaWsS0AVWxdGu6yNSVjEDle4B/qT94RDy38Qsxc3hfURTK7BQtXy/f57lPv4i9b7b5+2XjRbei9DMdct7Vr3zlK6t1cpQCPCra2iCb4uWwpjRpbo/GS0KYGS+W7N4I8lAjEST4N4rMoC1xwZdHU4H5Ekk+6GAk+fXsR5IytWrnwk9y3333bRGdh3Ukix6bhfE0c46kV90qSFV88u5rHCLgV17Zskcs37rH1mtl+kqmsQBJukmSUoxzTqm1FzHX1zfddNNNG4T5rDnNmggxUYwk6Wh61U2C7PBj1Mfv3ipaW7dziIBfuW7patuv/dWZw+mwgyRdJclM9klN26NZz9VmnSSbNbf69kdHeq8mcFsbZKIdMqRMunCgKCgeyyECfmTfkZboVXeJGFud/slKtvEUhQKxdiXwP7E2yei2nnmiO9skZUbj9tPt91ydMWPGGtG57VE7BlLb7nhIdGyDPGIgy4QoRaaRpJtSrB1/wJ76N9rdSaH4r/z41U9sHyyyR6vs7EM95kd5b1ejOPNvb8UurByJJL+RiCQz+17yvRZcMMr2d/nhD3/4kTCfUq7FILWqlWGLRQSZcXrVbYLsIEr1j3OfF5FII9eP4FfkuMgf/8O+JO/98ihSrXmVbnVakhMzTrcuuGC07X3wnXfe2XvvvffuEsYdc4zaHY/o/s7K9HJuS7EKgxRrIs06VBQUD+PQAL+yKnrSu2HcgFjK1F6qNUiqNd/SrRsT6dbM4hv5evk+sXTrgfTTrRcPkanVwbY/f+bMmau2bNlyxESMZqlV7XRy2ojSSJIi00jSrRFkW9n4wRMcEuBn9jU1i1tesL/mqOw5OG1ADyoynyJJOS2dY5FkqC3dmmZbuOy1mklq9S9/+cuWlStXNhpEj80m0aO+96p2ijnHlrdyuyC1uWNV/dtP3hQtzTs4JMDPLHx/u1i+ZY/t1z824yRbg7MBSdqVpJSjfJ0d5KQAc+fO/VRYL2dllFo9opNkq0Xk6KthHkaSbKu4LR/ewwKrFL+X655+P6MT3OOXjqMe823R5fqoJB94y5GZlY5JsnfyRZdlWnVqBlmLO+64Y/3nn39+1ECOzSZyPGIgR7NFkjOWohY3DfPQtkPKIi9PwmL/558rY6dfLpRAAdeN4NtUq4wEokeA3XRpbAaT6OsziUTBe3Scls6BNkk5BGSj+RAQ2e74xy+NsP0ZsmPOtddeu1507pSjFaLZsI7Don3aObOhHY6mWN3UScewo47YWx9RRkwuF+Xdx3E4gJ+RcpMnoD5lhbZeL+Uqezp+tPsglYkkHZekvAj7+8xTbH+GTK1++ctffk8TPRp1zGnSyVFbmnRy1HfO0UePnh7moZo8ps9LR9Tf/e//Ec1HdnIogN+ZlUGqVSLbhtywojx0LbE2SafSrUWadGviscJwvK3b/hLCv/71rz9du3btIdF5Sjmr1KpR26PZhOSORo+5jiBTjyLlkI9eA/aIPgPP5FAAv0cDsWiw1l6qVV7dnzeop1i4+jPR1BKhQvMtkvw0O0NAHrxkrO19UiJTq1/72tc+1ARA+g45TZqijRoPio4z5+hX7cha9KgXVC4FqRhIUeaZiqKlJF7KlO8/eLco6zaKQwH8zjuzJ4ux1eUZRBSN4qT5r1KReYjsjfrSlRMyivYSyIi0LfXf2/Z7yNTqhAkT3ly3bt0h0XE4RyJKbIqLUD4vh34ciN82aP7WplmPiM4pVlUjSscE6ZYIUj+Hkb6zTps0G774UBk+6VwRoMMO+Bt55X7N6BrbkYBsx5RtRkvW76IyiSQziiSHVZVm9B7f+c53Pnj++ef3C+O0arPouNajvt1R2zknIcYuiR7dIMhkkgxqJBkSOzcfUSp67hLHnXAGhwH4GXnlLk90lwy1v7SVjCRikvwISeadJA84J8lMePLJJ3f8+7//+ybRsd1RO6TjiIUgjSYlNxre4Xjbo1sFKUSStkjx0Vs7lSETuouKqhM4DMDPrNrZKOq6Fdta8UMrydjwj80M/yCS7Fo+/vjjxksuueSDQ4cOtQrjZay0q3UcSiF61M+/mtXo0W2CNIoiFV0U2SbKfz67Rjlx8nGirHsthwH4meVb9orzBvWyPfRDIjtXyInRpXABSXYFst1x5syZq9etW3dYGKdWj4jOy1lpxXjIQI7a9Kqa7ejRC4LUR5HBY6J8a+lqZdipfUV5j/4cBuBXZE/U5zZk1h4pkalaJIkku0qSst1xyZIle4VxavWoRfSY+LtJI0h9z9VIV0SPbhFkMkkGNbIMdRDl28+sUYZO7CPKq2o4DMCvyPbIN7fvE9eM6ZfR+xyTZD2SzDtJyjbJ6IXWzBHZl+Tvf//7jT/5yU+2G8hRn1pN1jHHalhHVsY9ul2QijBvi9R22mmPJP/597VK3agK0b0P6VbwLVJsUpRfGtQzY0kmhAt5GElmWZKyU87VV1+9Xpiv0nFEpNf2mGrHHN920jGKIIVGjkaS1JaAeO+FT6L184XSf/hQEQiGOBTAj0ipyV6pY/tkNlOOlKzs/EPvViTpJB9//PEBg045RtPJGbU76iNH/ZRyZjPnZJWgi7adWZpV6EQZNLgNik3v7xGrXlql1I2uFmU9qjgUwI9IqU2r6xETXCYwBCSPJZmFdGt9fX3T+PHj3/7888+bhXFqNZkctZLUTwaQLLXq6046VoIUJlFkQBilXpsORsQ/n/lI7P98hzJgRK0IFxZyOIAfJXne4Mx6tsYkGY1EpWzl+zEtXf5FkpNquolhPUszfi/ZYzUaOb6n67Gql6PZSh0HRcdZcow65pit+ZhVObpNkKlGkclkGRA7NjSKfyx6XzQd2qdU9ioTpZXlHBLgF6TMHl5T74gkZSQq30dGFE5MdA3uRy6u/eClY8XFQ3tn/F7xFTreWblyZaNoH3qhX/w4IbzDunLQIHLMecccMyG5SZBGwzzC8SKnmZNztMock5yjtTReyuKlVFOKY/+376AqZeJFQ4UaCQpVDRwrsc9Q2z5LVRXX1k1RaUj0GpC/ki8sCYkex3GRYxABvnS1c3NuXvrIO+KVTUwo4GfkBdFjM0/KaJ5fLbNmzVq9YMGCz4V5m+NRg4hRlsR8qwc0j+knBki8j1nnnKyLUnHhNjTqpJPotZqQZKFOkiUGciyNP14c/78F8RIWiVl52tsxtZ8lDG4BcptRGX5a9/aH288Lk08YEH72gT+PKCsrc6Rz2i3PfSh+8+Ymat6HyHT6Y1ec5MgFlWTu3Llr582bt0NYTyN3RHRsYzygEeQBzd/6iQH0c65qJwYQCLINrSADGrkVxCWZkF+JRohmgjSSZFB0TM/q07oIEtxyLJj+PWXKlPKlS5dOcEqSsk3yuiXvR6PKZraAT7h96uBYcYqoHNdF5fiZ6JhWNRrOoe2Mc1AnRa0cD4nOU8rp06uOr9bhRUFaRZHaSLLAIJIs1oky8VhCkoUaSYYMJKkYSBLADVJULB5Tpk6dWhGV5MTS0tKwE19i077D4tKH340tmwXepVthSDz+tXFiagZrOaYgR6uJAPRy1N9qh3ckOvIkG/eYt22QVlGkdvkrM0lqU64lBoK0SrUqJlEkkSS4QZJmvbyP3U6bNq3y6aefnuyUJCU/Xr5B/PiVT9giHuTiYb3FgotHOZZStZCjNnI8KoxnydGnVLXtjvpxj9qeqzlJrXrhxG/UYUfbHqmXZKFGhsU6OWoFWagRZDhJFGlVR0gTuurYNBSiUZk+fXq3hx566NTevXuXOvVF3qtvjEWTMqoED0SNUSFKMUpBOoXsrXrzzTevjXfI0cuxxUSOh3Uy1Lc5mrU76od1dHlq1UuC1EtSvwSWkSSLdLepCFIvSaMrdwQJubxItJLjsUxLnz59Cl577bWzBg4c2N2pLyJ7uf7mzc1Ek3kYNZoM5dDLsdlAjocMIsYDovPQDqNhHUardai5OgC9Ikn9jDpmkizUCDEhyULRuR0SQYLb93+9GBNTnwTMBClL3759i6KS/FJdXV0PJ7+QjCZnPfF+7Bbcgxy+8asvDXM0akxTjkcN5KiV4kGNMO0uhIwgk3xH/WQBRpJMlCLNrVaOqUaQ9GYFt2ROjISol6LRVIzB559/ftrZZ589xOkv+Zs32qJJJhfIPXMm1Yrbpw12NGqUyLlVJ0+e/I5m+jg1iRybDOSolWQi5Wo1nVzO2x29GAWZpZb0q3uERcexkgWayLLAIHpEkOCF/d3o4tCobd5o7dTQwoULJ1599dXjnf6SUo5SklKW0PXIcY33XjIy43l5jXjllVc+v+KKK9bp5lZVNSKzkqORIA8aRI4JQSaEGxEuaHf0siCFyVV0hxOCQURpdF/fi9WsJytyhFzL0Si1GrAQZKfj4K677ho5d+7cKcXFxY7PTyw779zy7IdiyTomPu8SMQ7sEY0YB4mpzmbPj/G73/1u480337xRdEyp6qeQ086vatQp55Duvn4i8mRzreas3dGLgkxVktpFlfURZUgnRrPoMWDwGQBuiR6NIkf9hWJYt//HsicXXHDBcdFo8qKqqqqKbHzx5Zv2iB+/vIHp6rKEjBRvnz5IXDO2X1beP95Tdd2CBQt2aSSlnQQg2bqOh02iRqO5Vq1mysl5atWLgkxFkgGhX1C589V0SPec9srbbMo5gK7cr41EaZZeNVorNayT47G2+JqamorHH3/8/FNOOWVQtn4MonSWsX3KxZxTa7MmRolsb5w9e/Zag844EWGcVj2iEZ52KjmjqPGQ5v9r13g0Gs7hGjl6VQCpLq6sX1hZL0WjyFEvSCQJudqnjeRo1UknaCBIbRt8opNarEf33XffPeG73/3utGz+KJl6laJc+N52trANZBujjBizlUpNsGTJkh3XX3/9xyadcZKlVZtEx2Wr9HI0S6u2uF2OXj75m800YibKgE6IZnKkcw64YV8WKUoyVUEW6QQZGxd8wQUX1GQz5ZogNoby9c1i4bvbmWwgCbIn6sXDq2NizEbnGy26lKoQHTvJ6JesMpsIQN8xx0qO+sgxkVp1Taccvwgy1ROJkSwVg/v6DhB+qSPwfySpn6vYaNiTfkzwsUn8+/XrV/mHP/xh8kUXXTS2K36g7MhzXzSipENPRxJpVClHp4drGPGvf/1r3ze/+c218UWOtZKKmMhR3+ZoJkftc9rX6NsctXJ0TaccPwnS6qSSyngxozYdJcWreoCu3q9T6dWqF2RiuJN24gztFIwlicevvvrq4//4xz9eUFJSUtgVP05GklKSMqrM10kHZIR48fDe4ppx/WKC7Apk1PirX/1q449+9KOtomNqMyFG/cTj+rSqvseqtnPOYdEx9XpUdJ5CTj+cw1WdcvwoSCuhmV1xmz2HHMGN+3Uqc7HqO6iFROc2SKNJ/Y9NyRiNJit+//vfn3rJJZeM7sof2UGWO/wtyw5S7Nu1a4BbRI3alKrR3Kp6OR7SRY+J+02aok2raqPGVq/I0W8nfyXFE0zA4qSDIMHNkhQm+65ZL+4CA0kmm9C/OHoSrZ03b95ZPXv2LO/qHytluXzjHvFEVJjy1g8z9UghyrGL8jbb7YopRo36XqpmPVWP6qR32ESM2pSqdm5VIzm6cjhHPggyVVFa3eZLHYG3MyNmkaRWkvpxkAUGUaSZKGMyve+++yZefvnlo0pKSgpyVQEyopTDRl6JynJV9L7bO/nI9sOxfSvE1KgQp9V1j93mkieffHLHt771rUQPVVVYj29sFR1TqkeSyFHbEeew6NxTtVkTMXpOjn4/+Ss2H0OI4AVBJpOkPtUaFp1TrUUmgjy2wPi4ceOqfvazn52Sjflc7UaYm/ceFq9s2huVZ0Psfq7aMGU0WNe9OCZB2YY4pm95TiJEI2Q69a677vp0yZIle+MPRYT1zDhGPVX1HXIOm8hR2xlHP4zDaPJxT8gxX2SgUAfg0/3XTJCK6DirVIcZdYRxm6RelNqhIYVXXnll/+9///unjBgxoo8bK0lGmvubmmO3Mi2bEGlCqpv2phd5JiJBSaXm/rSB3aN/h7u8/TBV6uvrm37+859vnDdv3g6DiDEijMc3GvVUbTKQo75oRZqQq34Yh2flmI9yQIbgx33WaFo6/fSL+kjSTJJmi4zHJvq/6aabjr/tttsm9erVq4xN4x5M2hn16VSzwf/pyFHfEUffGUe/ZJVn5SjiBxAnHwDvo5r8rRrcV01OoqpJ1HHstW+99db+aITyYSQSOTRy5MgepaWlBVR9bsV4zz33bJ4xY8aapUuX7hXW7YwtGpEZDd/Qr8ihLdr0qjZy1MtRK2PVy3JEkAD+u4CzEqVIQY76K/+I0f9bsWLFHinK1tbWQwMHDizv3r17MZur65Cp1AULFmyVYly8ePHuQ4cOtQrjAf/6VOpRYd5D9ZCFHI3aHI16qkb8IkciKAB/StRqjKTROEn9WEn9zDvHOu2IzguPyxL62te+1u8HP/jB6FGjRlWzSbIrxuiFyafz5s2rt7jQSdbWqE2rNonOvVWbROeUqlaKiZLo/ar9LNUvckSQAP6VpdFSWUZrRoZ1oizSybDYQJpaUWrXWA2NHj26289+9rNRp59+ev/S0tIwm8QZ5ALGv/71r7dqeqWmIkaztKp+GMcRnQyNxKifT1W/God+GIfwuhwRJID/I0qreYlDwrwDj1lEaRVJHltvtU+fPsWzZs0aMHv27KHHH398NzaLvWhx0aJFO/7whz/siM9+I0THNmF9OrzVIGrUdsQ5qhGdPnLUivGISdTYLMxTqmadcTwrRwQJkF+S1E9ubjQUJKyRXjJZFupKge59ZAmeeeaZVd/+9rcHTp8+vaZ3794lbB5zZKebl1566fN77713h0G0KITxeEZ9OrVVF+npo8ajBpFj4v4Ri6gxlfGNno8aESRA/onSql1SOxREP/uOfuxkoYEgi0wiyQJdlBqMSrLqhhtuqJ02bVq/6upqZKmR4hNPPPH5ggULPjeQoj6NajS5uFXUeNRAfPoIUjtNnD5qbBGdh3D4rr0RQQIgSWESSeqjSX3a1SiiLDSIJAsMRBnWi1LeRmXZPRpZ1o4fP77XoEGDKvNpo8j06VtvvbU3BSkK0TmNGrEQoz5q1A/nMJOkkRiN1m806uEs/ChHBAmQf5IUJpGkdk1Jo7SrmSj1EWSRgSQLdNGp9jNiZeTIkWUXXHBBzylTpvQ6+eSTe/otupRR4j//+c+9//jHP/YuW7Zs78qVKw+YRF1aKVqlUo3SqS0GYjyqEaCRIM3EqJVuRKSWUvWVHBEkAJLUFm0v16AumgwZSM9MmGadd7Si1EeU2nSvFGapFOaYMWMqJ0yY0DMaYVZ4MUJcvXp1Y1yIjSaRltVQDW3EqL3VR4xGKVWjtKq2XVG7kLF+gnF91KiKPEmpIkgARKm/b9TL1WjcpDbtatZOqZdjoUEkWWAiSW0J6KPbGTNmVEVFWVJXV1cyadKkquOOO64kGmnmdIICGRmuX7++cc2aNY2bN29u+te//tX46quvNsZXzxAmMjSTY6swnze11USOR4XxEA4zSeqjyxbRcYJxsxlxIgbf39dyRJAASNIomgwkEaU+9WoWVRZYRJLads6Q6Jh2DekiysR9vchj333q1KmVVVVV4VNOOaWisrIyPGDAALn4cyxFW15eHh48eLCtmcWjUeDhzz77TKYhxbZt2w5v2bIldv/FF1/cI2+feOKJvSYvTUWGwiJaNOuA06oTWrNF5Gh0e1T3/4064KQTNfpajggSAEkmiyaNUq9aUeonGwibiNFMkvqerqlElAGNIAM6sRsJ3+r3pnsetIqczIQoROcp+4To3L6YLGI06qFq1CFHL8pm0blXarOJGCP5HjVqCXGeAMhLVJ0ctCe8SPxxVfO82Yk8JDqm/MKaE3IqctRGokaSNGyjFJ1TwoqBNIXucWEizEwFqa87s56oqoGAzNoYjeSoH9uYTJLa55uTRIxmA/7zLmokggSAVKNJs4hSP9GAWfpVH10a/R02EWUwiSj1qVf99zSLJBUHzn+prpZiJEajVKpejK0mYjSaAMDsbyMxJt5XP3+q2Ww4eStHBAkAqYpSn8o0mmhA36EnbCHMcAqCTLxHMIVoUl/MRCkM/k52TlRNHrOSo9kwjWRRY6tBpNecRJLNSaRoJEajiDGCGBEkAKR3TjCKxozmdg2Kzu2UQZ34jGSoH/4RNhCkUdtkQFi3UQYMvq+ZIFM5F6pJBGm2bJhRatpoTGOLgSD1bYZHTaSpH6JhlEa1amM0S6fmrRwRJADYiSaTiTKgk5lelkadfIzkmErnnWSiNOr5qpdluoJM1saopiFGq844RpI06mRjJkWzQf5mg/2JGhEkAHShKI1SsEGD6DCZGPXCtRJkUFinW50WpFVatTWFyDEVSWql2Kq7b5ZCRYwIEgBycJ5IVZRG4ymDwrwTjlVPVrP7ARNRJjoUKcK8XVL/+5K1QRq1ORqNZ1RNxBgxEWOrsO7B2mpxa9QT1Y4YkSOCBIAuEKWVLPULN+t7xRqlUs3Sq0GRWscdI0kKkVpbpFHboxDmq2wk65BjVlqEeerVaEmriIkYk7UvIkYECQAuEaWSJKo0igCDFo8Fk0SO+uEfwSTRoyJST7GqSaLIVmE+nCNVWUYsHoskiRZVxIggAcD9ohQmEaV+TKVeZEELeRqNg7Qa7pHOsI9UBSlEesM6IhaCa03h1ki8Zu2fRkJEjAgSAFwoylSiSjNp6oVpVYIWUWoqkwekSjqTAuiju9YkAtULMVUZprPCBmJEkADgovOJVVSZrO1SsZCd2Sw6RvcVC0Gmei5MtlSVfgyk1f1WC6katW2mmj5VU/jugCABwANRpbAQVyBJpJnqY07I0Y4kVQvZRZJEhhGLzxBEiwgSAPwfVZpFlqlEmvqoU4jk6dSAyfdKN4LU/m0ls4gwXtEjlSKEdUcbokUECQA+P9eYydIq0hQitXlWrSYFyHQuVrPbiIXcUhGgVdpUTUPggCABwKeyTCZMI4GaSVXYlGM6khQpys7q/1tFqkgRQQIA56CkwkwWESaLFp0UZLKoMtXnUpUeUkSQAMA5KaXn05Go3c9ORUp25YcQESQAQFbOUUoWnktVhk4+hxARJABAl52zcnGOU7P8/wFBAgD47jyGDNmxAADy+vyGCH3A/xVgAJO+qavc61DBAAAAAElFTkSuQmCC",iEe={class:"text-caption"},lEe={class:"text-center"},cEe={class:"text-body-2 text-medium-emphasis mt-2"},uEe={key:1,class:"text-caption text-medium-emphasis ml-2"},dEe={class:"d-flex justify-start align-center flex-wrap"},AEe={class:"text-body-2 font-weight-medium text-primary d-flex align-center justify-center"},fEe={class:"text-body-2 font-weight-medium text-primary d-flex align-center justify-center"},mEe={class:"text-body-2 font-weight-medium text-primary d-flex align-center justify-center"},hEe={class:"text-body-2 font-weight-medium text-primary d-flex align-center justify-center"},vEe={class:"medicine-info flex-grow-1"},pEe={class:"d-flex align-center justify-start"},gEe={class:"d-flex align-center"},yEe={class:"medicine-trade-name text-left"},wEe={key:0,class:"text-caption text-medium-emphasis ml-1"},_Ee={class:"d-flex flex-column ml-1 order-buttons-container",style:{gap:"2px"}},bEe={class:"d-flex align-center ml-2"},xEe={class:"text-caption text-medium-emphasis text-right"},CEe={class:"d-flex flex-wrap gap-1"},EEe={class:"text-caption text-error d-flex align-center"},BEe={class:"text-caption text-warning d-flex align-center"},SEe={class:"text-caption"},kEe={class:"text-center"},IEe={class:"text-body-2 text-medium-emphasis mt-2"},TEe={__name:"consultation-window",props:{consultation:{type:Object,required:!0},patient:{type:Object,required:!0},consultationCopy:{type:Object,required:!1}},emits:["update:consultation","createNewArtefact","pdfGenerated"],setup(e,{emit:t}){const n=e,r=pr(),{showSuccess:a,showError:s,showWarning:o}=dr(),i=t,c=H(Gn.cloneDeep(n.patient)),A=H(Gn.cloneDeep(n.consultation)),u=H([]),f=H(null),m=H("write"),v=H(!1),h=H(!1),y=H(null),w=H(!1),b=H(!1),B=H(!1),S=H(!1),T=H(!1),N=H(!1),k=H({}),E=Z(()=>r.state.doctorModule.doctorId),_=Z(()=>r.getters["doctorModule/currentDoctor"]),C=Z(()=>r.getters["doctorModule/isPharmacyEnabled"]),F=H(!1),I=de=>{if(!de?.consultationDate||!de?.status)return!1;const fe=de.consultationDate,Ze=de.status,Ye=ct=>{if(!ct)return!1;const lt=new Date().toLocaleDateString("en-CA");return ct===lt},dt=ct=>{if(!ct)return!1;const lt=new Date().toLocaleDateString("en-CA"),xt=new Date(ct),vt=new Date(lt);return xt>vt};return(Ye(fe)||dt(fe))&&Ze==="CREATED"||Ze==="UPDATED"},R=Z(()=>A.value?.id&&A.value.id!=="0"&&I(A.value)),M=Z(()=>A.value?.status==="UPDATED");Z(()=>!u.value||u.value.length===0?!1:u.value.some(de=>de.isPharmacy===!0&&de.quantityUnits!==null&&de.quantityUnits!==void 0&&de.quantityUnits>0));const te=Z(()=>!U.value||U.value.length===0?[]:U.value.filter(de=>de.isCreatedByUser===!0&&!de.isUserTyped)),se=de=>de.dosage_schedule&&de.dosage_schedule.trim()||de.duration&&de.duration.trim()||de.instructions&&de.instructions.trim(),O=de=>de.isSelected?se(de)?null:"missing-dosage":"unselected",W=de=>{const fe=O(de);return fe?`medicine-${fe}`:""},le=Z(()=>u.value.filter(de=>de.isSelected&&se(de)));Z(()=>u.value.filter(de=>de.isSelected&&!se(de)));const K=Z(()=>u.value.filter(de=>!de.isSelected)),ee=Z(()=>u.value.filter(de=>de.isSelected&&!se(de))),j=Z(()=>{const de=le.value.length,fe=ee.value.length,Ze=K.value.length;if(Ze===0&&fe===0)return"Save Consultation";const Ye=[];Ze>0&&Ye.push(`${Ze} unselected will be excluded`),fe>0&&Ye.push(`${fe} without dosage will be excluded`);const dt=de>0?`${de} medicine${de>1?"s":""} will be saved`:"";return dt?`Save Consultation (${dt}, ${Ye.join(", ")})`:`Save Consultation (${Ye.join(", ")})`}),U=H([]),G=Z(()=>{const de=new Date;return de.setDate(de.getDate()+1),de.toISOString().split("T")[0]}),ne=de=>{(de.ctrlKey||de.metaKey)&&de.key==="s"&&(de.preventDefault(),A.value?.id&&A.value.id!=="0"&&En(A.value))},X=(de,fe=30)=>!de||de.length<=fe?de:de.substring(0,fe)+"...",oe=de=>{if(!de)return"";const fe=[];return de.dosageSchedule&&de.dosageSchedule.trim()&&fe.push(de.dosageSchedule.trim()),de.duration&&de.duration.trim()&&fe.push(de.duration.trim()),de.instructions&&de.instructions.trim()&&fe.push(de.instructions.trim()),de.quantityUnits!==null&&de.quantityUnits!==void 0&&fe.push(`Qty: ${de.quantityUnits}`),fe.join(", ")},q=de=>{if(!de)return null;if(de instanceof Date){const fe=de.getFullYear(),Ze=String(de.getMonth()+1).padStart(2,"0"),Ye=String(de.getDate()).padStart(2,"0");return`${fe}-${Ze}-${Ye}`}return typeof de=="string"?de.includes("T")?de.split("T")[0]:de:null},Y=de=>{if(!de)return"dd-mm";try{let fe;if(de instanceof Date)fe=de;else if(typeof de=="string")fe=new Date(de.includes("T")?de:de+"T12:00:00");else return"dd-mm";return isNaN(fe.getTime())?"dd-mm":fe.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch(fe){return console.error("Error formatting followup date:",fe),"dd-mm"}},ae=de=>{A.value.followupDate=q(de),N.value=!1},ge=de=>{if(!de)return null;try{if(de instanceof Date)return de;if(typeof de=="string"){const fe=de.includes("T")?de.split("T")[0]:de;return new Date(fe+"T12:00:00")}}catch(fe){console.error("Error parsing followup date for picker:",fe)}return null},we=()=>{A.value.followupDate=null},z=de=>{console.log("Tab changed to:",de)};fn(async()=>{await At(),document.addEventListener("keydown",ne)}),nc(()=>{document.removeEventListener("keydown",ne)});const Ae=()=>{console.log("Add Item"),v.value=!0},ie=()=>{v.value=!1},_e=de=>{y.value=de,h.value=!0},Pe=()=>{h.value=!1,y.value=null},re=de=>{const fe=u.value.findIndex(Ze=>Ze.id===de.id);fe!==-1&&(u.value[fe]={...u.value[fe],...de})},be=de=>{if(de===0)return;const fe=[...u.value];[fe[de-1],fe[de]]=[fe[de],fe[de-1]],u.value=fe},He=de=>{if(de===u.value.length-1)return;const fe=[...u.value];[fe[de],fe[de+1]]=[fe[de+1],fe[de]],u.value=fe},ke=H(!1),Se=H(!1),st=H(null),je=()=>{ke.value=!0,console.log("Diagnosis Template")},Ve=de=>{st.value=de,Se.value=!0,console.log("Edit Diagnosis Template",de)},Te=()=>{ke.value=!1},Le=()=>{ke.value=!1},ht=()=>{Se.value=!1,st.value=null},Ct=()=>{Se.value=!1,st.value=null},Dt=async de=>{if(!de||de==="0"){console.log("Cannot fetch vitals: Invalid consultation ID"),f.value=null;return}try{const{fetchVitalsByConsultation:fe}=await Ca(async()=>{const{fetchVitalsByConsultation:Ye}=await Promise.resolve().then(()=>dxe);return{fetchVitalsByConsultation:Ye}},void 0),Ze=await fe(de);f.value=Ze.data}catch(fe){console.error("Error fetching vitals:",fe)}},Je=()=>{w.value=!0},Oe=()=>{w.value=!1},it=de=>{f.value=de,w.value=!1},at=()=>{b.value=!0},Xe=()=>{b.value=!1};Ge(()=>n.patient,de=>{de&&(c.value=Gn.cloneDeep(de),console.log("Patient data updated:",c.value))},{immediate:!0}),Ge(()=>n.consultation,async de=>{de&&de.id&&de.id!=="0"?(I(de)||console.warn("Consultation window received invalid consultation:",{id:de.id,status:de.status,date:de.consultationDate}),A.value=Gn.cloneDeep(de),console.log("Consultation Details",A.value),u.value=Gn.cloneDeep(A.value.medicines||[]),u.value&&u.value.length>0&&u.value.forEach(fe=>{fe.isSelected=!0,fe.dosage?(fe.dosage_schedule=fe.dosage.dosageSchedule||"",fe.duration=fe.dosage.duration||"",fe.instructions=fe.dosage.instructions||"",fe.quantityUnits=fe.dosage.quantityUnits!==null&&fe.dosage.quantityUnits!==void 0?fe.dosage.quantityUnits:null):(fe.dosage_schedule=fe.dosage_schedule||"",fe.duration=fe.duration||"",fe.instructions=fe.instructions||"",fe.quantityUnits=fe.quantityUnits!==null&&fe.quantityUnits!==void 0?fe.quantityUnits:null)}),await Dt(de.id)):de&&de.id==="0"&&(A.value=Gn.cloneDeep(de),u.value=[],f.value=null,console.log("No consultation selected"))},{immediate:!0}),Ge(()=>n.consultationCopy,de=>{console.log("Consultation Copy",de),A.value.doctorNotes=de.doctorNotes,A.value.patientNotes=de.patientNotes,A.value.diagnosis=de.diagnosis,A.value.investigations=de.investigations,A.value.clinicalNotes=de.clinicalNotes||"",u.value=Gn.cloneDeep(de.medicines||[]),u.value&&u.value.length>0&&u.value.forEach(fe=>{fe.dosage?(fe.dosage_schedule=fe.dosage.dosageSchedule||"",fe.duration=fe.dosage.duration||"",fe.instructions=fe.dosage.instructions||"",fe.quantityUnits=fe.dosage.quantityUnits!==null&&fe.dosage.quantityUnits!==void 0?fe.dosage.quantityUnits:null):(fe.dosage_schedule=fe.dosage_schedule||"",fe.duration=fe.duration||"",fe.instructions=fe.instructions||"",fe.quantityUnits=fe.quantityUnits!==null&&fe.quantityUnits!==void 0?fe.quantityUnits:null)})}),Ge(()=>A.value.patientNotes,de=>{de?.trim()||console.log("Patient notes cleared")});const Ut=async de=>{console.log("Searched Medicine",de);for(const fe of de)await Yt(fe)},Yt=async de=>{if(u.value.some(fe=>fe.id===de.id))console.log("Medicine already selected");else{if(de.dosage_schedule=de.dosage_schedule||"",de.duration=de.duration||"",de.instructions=de.instructions||"",de.quantityUnits=de.quantityUnits!==null&&de.quantityUnits!==void 0?de.quantityUnits:null,de.isSelected=!0,de.isLocal===!0)try{const{data:fe,error:Ze,errorMessage:Ye}=await JM(de,E.value,{skipMessages:!0});!Ze&&fe&&fe.length>0?(de.dosageHistory=fe,console.log(`Fetched ${fe.length} dosage records for local medicine:`,de.productName)):(de.dosageHistory=[],Ye&&Ye.includes("No dosages found")&&o(Ye))}catch(fe){console.error("Error fetching dosage history:",fe),de.dosageHistory=[]}else de.dosageHistory=[];console.log("Selected Medicine",de),u.value.push(de),console.log("Medicines List",u.value)}},bt=de=>{console.log("New Medicines",de),u.value.push({id:de.id,productName:de.productName,marketer:de.marketer,saltComposition:de.saltComposition,productForm:de.productForm,isLocal:de.isLocal,dosage_schedule:"",duration:"",instructions:"",quantityUnits:null,isSelected:!0})},cn=(de,fe)=>{if(console.log("Selected dosage schedule:",de,"for medicine:",fe),!de||!fe)return;const Ze=u.value.findIndex(Ye=>Ye.id===fe.id);if(Ze!==-1){const Ye=typeof de=="string"?de:de.dosage_schedule||"";u.value[Ze].dosage_schedule=Ye,console.log("Updated medicine with dosage schedule:",u.value[Ze])}},ln=(de,fe)=>{if(console.log("Selected dosage instructions:",de,"for medicine:",fe),!fe)return;const Ze=u.value.findIndex(Ye=>Ye.id===fe.id);if(Ze!==-1){const Ye=typeof de=="string"?de:de?.instructions||"";u.value[Ze].instructions=Ye,console.log("Updated medicine with instructions:",u.value[Ze])}},an=(de,fe)=>{if(console.log("Selected dosage duration:",de,"for medicine:",fe),!fe)return;const Ze=u.value.findIndex(Ye=>Ye.id===fe.id);if(Ze!==-1){const Ye=typeof de=="string"?de:de?.duration||"";u.value[Ze].duration=Ye,console.log("Updated medicine with duration:",u.value[Ze])}},zt=(de,fe)=>{if(console.log("Selected dosage history:",de,"for medicine:",fe),!de||!fe)return;const Ze=u.value.findIndex(Ye=>Ye.id===fe.id);Ze!==-1&&(u.value[Ze].dosage_schedule=de.dosageSchedule||"",u.value[Ze].instructions=de.instructions||"",u.value[Ze].duration=de.duration||"",u.value[Ze].quantityUnits=de.quantityUnits!==null&&de.quantityUnits!==void 0?de.quantityUnits:null,console.log("Updated medicine with dosage history:",u.value[Ze]))},$t=async de=>{console.log("Template selected for auto-fill:",de);const{template:fe,autoFillData:Ze}=de;if(Ze.diagnosis&&Ze.diagnosis.trim()&&(A.value.diagnosis&&A.value.diagnosis.trim()?A.value.diagnosis.includes(Ze.diagnosis)||(A.value.diagnosis+=", "+Ze.diagnosis):A.value.diagnosis=Ze.diagnosis),Ze.instructions&&Ze.instructions.trim()&&(A.value.patientNotes&&A.value.patientNotes.trim()?A.value.patientNotes.includes(Ze.instructions)||(A.value.patientNotes+=", "+Ze.instructions):A.value.patientNotes=Ze.instructions),Ze.investigations&&Ze.investigations.trim()&&(A.value.investigations&&A.value.investigations.trim()?A.value.investigations.includes(Ze.investigations)||(A.value.investigations+=", "+Ze.investigations):A.value.investigations=Ze.investigations),Ze.medicines&&Array.isArray(Ze.medicines))for(const Ye of Ze.medicines)Ye.medicine&&await Yt(Ye.medicine);U.value.some(Ye=>Ye.id===fe.id)||U.value.push(fe),console.log("Template auto-fill completed")},Ke=async de=>{if(!de){U.value=[];return}console.log("Diagnosis selected:",de),de.isCreatedByUser&&!de.isUserTyped?(U.value.some(fe=>fe.id===de.id)||U.value.push(de),await nt(de)):(U.value=[],console.log("User-typed or history diagnosis - no template extras to process"))},me=async de=>{de&&console.log("Investigation selected:",de)},Ee=async de=>{if(!de)return;console.log("Patient advice selected:",de);const fe=de.patientAdvice||"",Ze=A.value.patientNotes||"";Ze.trim()?A.value.patientNotes=Ze.trim()+", "+fe:A.value.patientNotes=fe},nt=async de=>{if(console.log("Processing Diagnosis Extras",de),!de.isCreatedByUser||de.isUserTyped){console.log("Skipping extras for user-typed text:",de.diagnosisName);return}if(de.instructions&&!A.value.patientNotes.includes(de.instructions)&&(A.value.patientNotes.trim()?A.value.patientNotes+=", "+de.instructions:A.value.patientNotes=de.instructions),de.investigations&&!A.value.investigations.includes(de.investigations)&&(A.value.investigations.trim()?A.value.investigations+=", "+de.investigations:A.value.investigations=de.investigations),de.diagnosisMedicines&&Array.isArray(de.diagnosisMedicines))for(const fe of de.diagnosisMedicines)console.log("Diagnosis Medicine",fe),fe.medicine&&await Yt(fe.medicine)},At=async()=>{try{const de=await Mw(E.value);k.value=de.data,console.log("Configuration data fetched:",k.value)}catch(de){console.error("Error fetching diagnosis:",de)}},St=()=>{console.log("Create New Consultation"),i("createNewArtefact")},Qt=async()=>{if(!A.value.id||A.value.id==="0"){console.log("Cannot refresh: No valid consultation ID");return}const de=await qD(A.value.id);A.value=Gn.cloneDeep(de.data),u.value=Gn.cloneDeep(A.value.medicines||[]),u.value&&u.value.length>0&&u.value.forEach(fe=>{fe.isSelected=!0,fe.dosage?(fe.dosage_schedule=fe.dosage.dosageSchedule||"",fe.duration=fe.dosage.duration||"",fe.instructions=fe.dosage.instructions||"",fe.quantityUnits=fe.dosage.quantityUnits!==null&&fe.dosage.quantityUnits!==void 0?fe.dosage.quantityUnits:null):(fe.dosage_schedule=fe.dosage_schedule||"",fe.duration=fe.duration||"",fe.instructions=fe.instructions||"",fe.quantityUnits=fe.quantityUnits!==null&&fe.quantityUnits!==void 0?fe.quantityUnits:null)}),await Dt(A.value.id)},Rt=async de=>{const fe=de.patient_id||de.patientId;fe&&await PAe(fe)},jt=async()=>{if(!A.value?.id||A.value.id==="0"){s("Please save the consultation first");return}try{F.value=!0;const{data:de,error:fe}=await aO(A.value.id);fe?s(fe.response?.data?.error||"Failed to send to pharmacy"):a("Draft bill created successfully in pharmacy")}catch(de){console.error("Error sending to pharmacy:",de),s("An unexpected error occurred")}finally{F.value=!1}},En=async de=>{if(!de?.id||de.id==="0"){console.log("Cannot save: No valid consultation ID");return}try{const fe=u.value.filter(ct=>ct.isSelected),Ze=fe.length>0;if(de.status="UPDATED",await m8(de),!Ze){console.log("Consultation saved successfully without medicines"),await hn(),await Rt(de);return}const Ye=await zM(fe);console.log("Medicines created response",Ye.data),Ye.data&&fe.forEach(ct=>{Ye.data[ct.id]&&(ct.id=Ye.data[ct.id]),ct.isLocal=!0}),console.log("Medicines for Dosage",fe);const dt=await $M(fe,E.value);console.log("Dosage created response",de.id,dt.data),await WM(de.id,dt.data),a("Consultation details and medicines saved successfully"),await hn(),await Rt(de)}catch(fe){console.error("Error updating consultation:",fe)}},hn=async()=>{try{const de=await qD(A.value.id),fe=Gn.cloneDeep(de.data);A.value=fe,u.value=Gn.cloneDeep(fe.medicines||[]),u.value&&u.value.length>0&&u.value.forEach(Ze=>{Ze.isSelected=!0,Ze.dosage?(Ze.dosage_schedule=Ze.dosage.dosageSchedule||"",Ze.duration=Ze.dosage.duration||"",Ze.instructions=Ze.dosage.instructions||"",Ze.quantityUnits=Ze.dosage.quantityUnits!==null&&Ze.dosage.quantityUnits!==void 0?Ze.dosage.quantityUnits:null):(Ze.dosage_schedule=Ze.dosage_schedule||"",Ze.duration=Ze.duration||"",Ze.instructions=Ze.instructions||"",Ze.quantityUnits=Ze.quantityUnits!==null&&Ze.quantityUnits!==void 0?Ze.quantityUnits:null)}),await Dt(fe.id),i("update:consultation",fe),console.log("Emitted fresh consultation data to parent:",fe)}catch(de){console.error("Error refreshing consultation data after save:",de),i("update:consultation",Gn.cloneDeep(A.value))}},Ot=de=>{console.log("PDF generated successfully:",de),i("pdfGenerated",de)},mn=()=>{B.value=!0},Ce=de=>{console.log("Clinical notes transcription completed:",de),de&&de.trim()&&(A.value.clinicalNotes&&A.value.clinicalNotes.trim()?A.value.clinicalNotes+=" "+de:A.value.clinicalNotes=de),B.value=!1},Re=()=>{S.value=!0},pe=de=>{console.log("Patient advice transcription completed:",de),de&&de.trim()&&(A.value.patientNotes&&A.value.patientNotes.trim()?A.value.patientNotes+=" "+de:A.value.patientNotes=de),S.value=!1},Ie=()=>{T.value=!0},Me=de=>{console.log("Doctor notes transcription completed:",de),de&&de.trim()&&(A.value.doctorNotes&&A.value.doctorNotes.trim()?A.value.doctorNotes+=" "+de:A.value.doctorNotes=de),T.value=!1};return(de,fe)=>{const Ze=D("v-tab"),Ye=D("v-tooltip"),dt=D("v-tabs"),ct=D("v-card"),lt=D("v-col"),xt=D("v-row"),vt=D("v-progress-circular"),_t=D("v-btn"),Lt=D("v-empty-state"),qe=D("v-icon"),Wt=D("v-card-subtitle"),tn=D("v-chip"),Kn=D("v-textarea"),Ws=D("v-checkbox"),js=D("v-text-field"),ai=D("v-date-picker"),po=D("v-menu"),gl=D("v-divider"),Sa=D("v-dialog"),Js=D("v-tabs-window-item"),qs=D("v-tabs-window");return V(),ye(ze,null,[l(xt,{"no-gutters":""},{default:d(()=>[l(lt,null,{default:d(()=>[l(ct,{rounded:"0",class:"pa-1 patient-header-style",elevation:"0"},{default:d(()=>[l(dt,{modelValue:m.value,"onUpdate:modelValue":[fe[0]||(fe[0]=Tt=>m.value=Tt),z],"align-tabs":"center",density:"compact",class:"interactive-tabs"},{default:d(()=>[l(Ye,{text:"Write Prescription"},{activator:d(({props:Tt})=>[l(Ze,Ne({value:"write"},Tt,{class:["tab-interactive",{"tab-active":m.value==="write"}],tabindex:"-1"}),{default:d(()=>[...fe[21]||(fe[21]=[p("div",{class:"tab-content"}," WRITE Rx ",-1)])]),_:1},16,["class"])]),_:1}),l(Ye,{text:"Share Prescription"},{activator:d(({props:Tt})=>[l(Ze,Ne({value:"share"},Tt,{class:["tab-interactive",{"tab-active":m.value==="share"}]}),{default:d(()=>[...fe[22]||(fe[22]=[p("div",{class:"tab-content"}," SHARE Rx ",-1)])]),_:1},16,["class"])]),_:1}),l(Ye,{text:"Uploaded Items"},{activator:d(({props:Tt})=>[l(Ze,Ne({value:"media"},Tt,{class:["tab-interactive",{"tab-active":m.value==="media"}],tabindex:"-1"}),{default:d(()=>[...fe[23]||(fe[23]=[p("div",{class:"tab-content"}," UPLOADS ",-1)])]),_:1},16,["class"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(qs,{modelValue:m.value,"onUpdate:modelValue":fe[18]||(fe[18]=Tt=>m.value=Tt),class:"flex-grow-1"},{default:d(()=>[l(Js,{value:"write",class:"h-100"},{default:d(()=>[A.value.id?A.value.id==0?(V(),he(xt,{key:1,"no-gutters":""},{default:d(()=>[l(lt,{cols:"12",class:"d-flex justify-center align-center",style:{height:"100%"}},{default:d(()=>[l(Lt,{image:We(cU)},{title:d(()=>[...fe[24]||(fe[24]=[p("div",{class:"text-subtitle-2"}," No consultation selected ",-1)])]),text:d(()=>[p("div",iEe,[fe[26]||(fe[26]=Q(" Create a consultation by clicking on the button above ",-1)),fe[27]||(fe[27]=p("br",null,null,-1)),l(_t,{class:"mt-2",onClick:St},{default:d(()=>[...fe[25]||(fe[25]=[Q("Create Consultation",-1)])]),_:1})])]),_:1},8,["image"])]),_:1})]),_:1})):A.value.id&&!R.value?(V(),he(xt,{key:2,"no-gutters":""},{default:d(()=>[l(lt,{cols:"12",class:"d-flex justify-center align-center",style:{height:"100%"}},{default:d(()=>[p("div",lEe,[l(qe,{size:"48",color:"warning",class:"mb-4"},{default:d(()=>[...fe[28]||(fe[28]=[Q("mdi-alert-circle-outline",-1)])]),_:1}),fe[29]||(fe[29]=p("div",{class:"text-h6 text-medium-emphasis"},"Invalid consultation",-1)),p("div",cEe,"This consultation cannot be displayed (status: "+J(A.value.status)+")",1)])]),_:1})]),_:1})):(V(),ye(ze,{key:3},[l(xt,{"no-gutters":"","aria-label":"toolbar"},{default:d(()=>[l(lt,{cols:"12"},{default:d(()=>[l(ct,{rounded:"0",class:"pa-1 patient-header-style",elevation:"0"},{default:d(()=>[l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"8",style:{"text-align":"left"},class:"d-flex align-center pl-1"},{default:d(()=>[Q(J(A.value.consultationDate?new Date(A.value.consultationDate).toLocaleDateString("en-US",{timeZone:"Asia/Kolkata",weekday:"short",month:"short",day:"numeric",year:"numeric"}):A.value.createdAt?We(ls)(A.value.createdAt):"No date"),1)]),_:1}),l(lt,{cols:"4",class:"d-flex justify-end align-center"},{default:d(()=>[C.value?(V(),he(Ye,{key:0,text:"Send to Pharmacy"},{activator:d(({props:Tt})=>[l(_t,Ne({onClick:jt},Tt,{class:"btn-hover-base mr-1",tabindex:"-1",variant:"outlined",loading:F.value,disabled:!M.value}),{default:d(()=>[...fe[30]||(fe[30]=[Q("Send to Pharmacy",-1)])]),_:1},16,["loading","disabled"])]),_:1})):Be("",!0),l(Ye,{text:j.value},{activator:d(({props:Tt})=>[l(_t,Ne({onClick:fe[1]||(fe[1]=ma=>En(A.value))},Tt,{class:"btn-hover-base mr-1",tabindex:"-1"}),{default:d(()=>[...fe[31]||(fe[31]=[Q("SAVE",-1)])]),_:1},16)]),_:1},8,["text"]),l(Ye,{text:"Refresh Consultation"},{activator:d(({props:Tt})=>[l(_t,Ne({rounded:"x-small",size:"small",variant:"outlined"},Tt,{class:"btn-hover-base",onClick:fe[2]||(fe[2]=ma=>Qt()),tabindex:"-1"}),{default:d(()=>[l(qe,{size:"large"},{default:d(()=>[...fe[32]||(fe[32]=[p("img",{src:dw,alt:"Refresh"},null,-1)])]),_:1})]),_:1},16)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(xt,{"no-gutters":"",class:"h-100"},{default:d(()=>[l(lt,{cols:"12",class:"scroll-element",style:{"padding-bottom":"20px"}},{default:d(()=>[l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"12"},{default:d(()=>[l(ct,{class:"form-section-card card-status-default ma-2 mb-1 pa-3",elevation:"2"},{default:d(()=>[l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"8",class:"d-flex align-center flex-wrap gap-2"},{default:d(()=>[l(Wt,{class:"pa-0"},{default:d(()=>[...fe[33]||(fe[33]=[p("strong",null,"Vitals",-1)])]),_:1}),f.value?(V(),ye(ze,{key:0},[f.value.pulse?(V(),he(tn,{key:0,color:"primary","text-color":"black",size:"small",class:"ml-2"},{default:d(()=>[fe[34]||(fe[34]=p("strong",null,"Pulse:",-1)),Q(" "+J(We(ba)(f.value.pulse,"bpm")),1)]),_:1})):Be("",!0),f.value.systolicBP&&f.value.diastolicBP?(V(),he(tn,{key:1,color:"primary","text-color":"black",size:"small"},{default:d(()=>[fe[35]||(fe[35]=p("strong",null,"BP:",-1)),Q(" "+J(f.value.systolicBP)+"/"+J(f.value.diastolicBP)+" mmHg ",1)]),_:1})):Be("",!0),f.value.respiratoryRate?(V(),he(tn,{key:2,color:"primary","text-color":"black",size:"small"},{default:d(()=>[fe[36]||(fe[36]=p("strong",null,"RR:",-1)),Q(" "+J(We(ba)(f.value.respiratoryRate,"breaths/min")),1)]),_:1})):Be("",!0),f.value.temperature?(V(),he(tn,{key:3,color:"primary","text-color":"black",size:"small"},{default:d(()=>[fe[37]||(fe[37]=p("strong",null,"Temp:",-1)),Q(" "+J(We(ba)(f.value.temperature,"C")),1)]),_:1})):Be("",!0),f.value.weight?(V(),he(tn,{key:4,color:"primary","text-color":"black",size:"small"},{default:d(()=>[fe[38]||(fe[38]=p("strong",null,"Weight:",-1)),Q(" "+J(We(ba)(f.value.weight,"kg")),1)]),_:1})):Be("",!0),f.value.height?(V(),he(tn,{key:5,color:"primary","text-color":"black",size:"small"},{default:d(()=>[fe[39]||(fe[39]=p("strong",null,"Height:",-1)),Q(" "+J(We(ba)(f.value.height,"cm")),1)]),_:1})):Be("",!0),f.value.serumBilirubin?(V(),he(tn,{key:6,color:"secondary","text-color":"black",size:"small"},{default:d(()=>[fe[40]||(fe[40]=p("strong",null,"S.Bilirubin:",-1)),Q(" "+J(We(ba)(f.value.serumBilirubin,"mg/dL")),1)]),_:1})):Be("",!0),f.value.bloodGlucoseFF?(V(),he(tn,{key:7,color:"secondary","text-color":"black",size:"small"},{default:d(()=>[fe[41]||(fe[41]=p("strong",null,"Glucose(FF):",-1)),Q(" "+J(We(ba)(f.value.bloodGlucoseFF,"mg/dL")),1)]),_:1})):Be("",!0),f.value.bloodGlucosePP?(V(),he(tn,{key:8,color:"secondary","text-color":"black",size:"small"},{default:d(()=>[fe[42]||(fe[42]=p("strong",null,"Glucose(PP):",-1)),Q(" "+J(We(ba)(f.value.bloodGlucosePP,"mg/dL")),1)]),_:1})):Be("",!0),f.value.bloodGlucoseRandom?(V(),he(tn,{key:9,color:"secondary","text-color":"black",size:"small"},{default:d(()=>[fe[43]||(fe[43]=p("strong",null,"Glucose(R):",-1)),Q(" "+J(We(ba)(f.value.bloodGlucoseRandom,"mg/dL")),1)]),_:1})):Be("",!0),f.value.serumCreatinine?(V(),he(tn,{key:10,color:"secondary","text-color":"black",size:"small"},{default:d(()=>[fe[44]||(fe[44]=p("strong",null,"S.Creatinine:",-1)),Q(" "+J(We(ba)(f.value.serumCreatinine,"mg/dL")),1)]),_:1})):Be("",!0)],64)):(V(),ye("span",uEe," - No vitals recorded yet "))]),_:1}),l(lt,{cols:"4",class:"d-flex justify-end align-center gap-2"},{default:d(()=>[l(Ye,{text:f.value?"Edit Vitals":"Add Vitals"},{activator:d(({props:Tt})=>[l(_t,Ne({variant:"outlined",size:"small",class:"d-flex align-center justify-center btn-hover-enhanced"},Tt,{onClick:Je,tabindex:"-1"}),{default:d(()=>[l(qe,{start:""},{default:d(()=>[...fe[45]||(fe[45]=[p("img",{src:j_e,alt:"Vitals"},null,-1)])]),_:1}),Q(" "+J(f.value?"Update":"Add"),1)]),_:1},16)]),_:1},8,["text"]),l(Ye,{text:"View Trends"},{activator:d(({props:Tt})=>[l(_t,Ne({variant:"outlined",size:"small",class:"d-flex align-center justify-center btn-hover-enhanced"},Tt,{onClick:at,tabindex:"-1"}),{default:d(()=>[l(qe,{start:""},{default:d(()=>[...fe[46]||(fe[46]=[p("img",{src:J_e,alt:"Trends"},null,-1)])]),_:1}),fe[47]||(fe[47]=Q(" Trends ",-1))]),_:1},16)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"12"},{default:d(()=>[l(ct,{class:"form-section-card card-status-default ma-2 mb-1 pa-3",elevation:"2"},{default:d(()=>[l(xt,{"no-gutters":"",class:"align-top"},{default:d(()=>[l(lt,{cols:"2",class:"d-flex align-top"},{default:d(()=>[l(Wt,{class:"pa-0"},{default:d(()=>[...fe[48]||(fe[48]=[p("strong",null,"Diagnosis",-1)])]),_:1})]),_:1}),l(lt,{cols:"7",class:"d-flex align-top"},{default:d(()=>[l(vbe,{"doctor-id":E.value,onTemplateSelected:$t},null,8,["doctor-id"])]),_:1}),l(lt,{cols:"3",class:"d-flex justify-end align-top"},{default:d(()=>[l(Ye,{text:"Save as Template"},{activator:d(({props:Tt})=>[l(_t,Ne({variant:"outlined",size:"small",class:"d-flex align-center justify-center btn-hover-enhanced"},Tt,{onClick:je,tabindex:"-1"}),{default:d(()=>[l(qe,{start:""},{default:d(()=>[...fe[49]||(fe[49]=[p("img",{src:q_e,alt:"Save Template"},null,-1)])]),_:1}),fe[50]||(fe[50]=Q(" Create Template ",-1))]),_:1},16)]),_:1})]),_:1})]),_:1}),te.value.length>0?(V(),he(xt,{key:0,"no-gutters":"",class:"mt-n2 mb-2"},{default:d(()=>[l(lt,{cols:"1"}),l(lt,{cols:"10"},{default:d(()=>[p("div",dEe,[(V(!0),ye(ze,null,Jt(te.value,Tt=>(V(),he(Ye,{key:Tt.id,text:`Edit template: ${Tt.diagnosisName}`},{activator:d(({props:ma})=>[l(tn,Ne({variant:"tonal",size:"default",density:"default",color:"primary",text:X(Tt.diagnosisName,30),class:"mr-1 mb-1 chip-hover"},{ref_for:!0},ma),{append:d(()=>[l(Ye,{text:"Edit Template"},{activator:d(({props:Dn})=>[l(qe,Ne({size:"small",onClick:Qn(er=>Ve(Tt),["stop"])},{ref_for:!0},Dn,{class:"ml-1 edit-icon",tabindex:"-1"}),{default:d(()=>[...fe[51]||(fe[51]=[p("img",{src:sm,alt:"Edit Template"},null,-1)])]),_:1},16,["onClick"])]),_:2},1024)]),_:2},1040,["text"])]),_:2},1032,["text"]))),128))])]),_:1}),l(lt,{cols:"1"})]),_:1})):Be("",!0),l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"1"}),l(lt,{cols:"9"},{default:d(()=>[l(sbe,{modelValue:A.value.diagnosis,"onUpdate:modelValue":fe[3]||(fe[3]=Tt=>A.value.diagnosis=Tt),"doctor-id":E.value,onDiagnosisSelected:Ke},null,8,["modelValue","doctor-id"])]),_:1}),l(lt,{cols:"2"})]),_:1}),l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"1"}),l(lt,{cols:"9"},{default:d(()=>[l(Kn,{modelValue:A.value.clinicalNotes,"onUpdate:modelValue":fe[4]||(fe[4]=Tt=>A.value.clinicalNotes=Tt),label:"Clinical Notes",clearable:"","auto-grow":"",rows:"1","row-height":"15",density:"compact",variant:"underlined",name:"clinical-notes",autocomplete:"off","hide-details":"auto"},null,8,["modelValue"])]),_:1}),l(lt,{cols:"1",class:"d-flex align-center justify-center"},{default:d(()=>[l(Ye,{text:"Voice Input"},{activator:d(({props:Tt})=>[l(_t,Ne({icon:"mdi-microphone",rounded:"xls",variant:"flat",color:"primary",size:"small"},Tt,{onClick:mn,tabindex:"-1",class:"dictation-btn"}),null,16)]),_:1})]),_:1}),l(lt,{cols:"1"})]),_:1})]),_:1})]),_:1})]),_:1}),l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"12"},{default:d(()=>[l(ct,{class:"form-section-card card-status-default ma-2 mb-1 pa-3",elevation:"2"},{default:d(()=>[l(xt,{"no-gutters":"",class:"align-top"},{default:d(()=>[l(lt,{cols:"2",class:"d-flex align-top"},{default:d(()=>[l(Wt,{class:"pa-0"},{default:d(()=>[...fe[52]||(fe[52]=[p("strong",null,"Rx",-1)])]),_:1})]),_:1}),l(lt,{cols:"7",class:"d-flex align-top px-2"},{default:d(()=>[l(XM,{showInventoryStatus:C.value,onSearchedMedicines:Ut,onAddMedicine:Ae},null,8,["showInventoryStatus"])]),_:1}),l(lt,{cols:"3",class:"d-flex justify-end align-top gap-2"},{default:d(()=>[l(Ye,{text:"Add Medicine"},{activator:d(({props:Tt})=>[l(_t,Ne({variant:"outlined",size:"small",class:"d-flex align-center justify-center btn-hover-enhanced"},Tt,{onClick:Ae,tabindex:"-1"}),{default:d(()=>[l(qe,{start:""},{default:d(()=>[...fe[53]||(fe[53]=[p("img",{src:PE,alt:"Add Medicine"},null,-1)])]),_:1}),fe[54]||(fe[54]=Q(" Create Medicine ",-1))]),_:1},16)]),_:1})]),_:1})]),_:1}),l(xt,{"no-gutters":""},{default:d(()=>[u.value.length>0?(V(),he(lt,{key:0,cols:"12"},{default:d(()=>[l(xt,{"no-gutters":"",class:"mb-2 mt-0"},{default:d(()=>[l(lt,{cols:C.value?3:4,class:"pr-2"},{default:d(()=>[p("div",AEe,[l(qe,{size:"small",class:"mr-1"},{default:d(()=>[...fe[55]||(fe[55]=[Q("mdi-clock-outline",-1)])]),_:1}),fe[56]||(fe[56]=Q(" Dosage Schedule e.g. 1 after breakfast ",-1))])]),_:1},8,["cols"]),l(lt,{cols:(C.value,3),class:"px-1"},{default:d(()=>[p("div",fEe,[l(qe,{size:"small",class:"mr-1"},{default:d(()=>[...fe[57]||(fe[57]=[Q("mdi-calendar-range",-1)])]),_:1}),fe[58]||(fe[58]=Q(" Duration e.g. 5 days ",-1))])]),_:1},8,["cols"]),l(lt,{cols:C.value?3:5,class:"px-1"},{default:d(()=>[p("div",mEe,[l(qe,{size:"small",class:"mr-1"},{default:d(()=>[...fe[59]||(fe[59]=[Q("mdi-information-outline",-1)])]),_:1}),fe[60]||(fe[60]=Q(" Instructions e.g. on empty stomach ",-1))])]),_:1},8,["cols"]),C.value?(V(),he(lt,{key:0,cols:"3",class:"pl-2"},{default:d(()=>[p("div",hEe,[l(qe,{size:"small",class:"mr-1"},{default:d(()=>[...fe[61]||(fe[61]=[Q("mdi-numeric",-1)])]),_:1}),fe[62]||(fe[62]=Q(" Quantity e.g. 5 ",-1))])]),_:1})):Be("",!0)]),_:1}),(V(!0),ye(ze,null,Jt(u.value,(Tt,ma)=>(V(),ye(ze,{key:ma},[l(ct,{flat:"",class:rt(["medicine-inline-layout mb-1",W(Tt)])},{default:d(()=>[l(xt,{"no-gutters":"",align:"center",class:"mb-1"},{default:d(()=>[l(lt,{cols:"5",class:"d-flex align-center"},{default:d(()=>[l(Ws,{modelValue:Tt.isSelected,"onUpdate:modelValue":Dn=>Tt.isSelected=Dn,color:"primary",density:"compact","hide-details":"",class:"mr-2 flex-shrink-0",style:{"margin-top":"-2px"},tabindex:"-1"},null,8,["modelValue","onUpdate:modelValue"]),p("div",vEe,[p("div",pEe,[p("div",gEe,[p("span",yEe,[Q(J(Tt.productName)+" ",1),Tt.productForm?(V(),ye("span",wEe," ("+J(Tt.productForm)+") ",1)):Be("",!0)]),Tt.isLocal?(V(),he(Ye,{key:0,text:"Edit Medicine"},{activator:d(({props:Dn})=>[l(qe,Ne({size:"small"},{ref_for:!0},Dn,{class:"edit-icon flex-shrink-0 ml-1",onClick:er=>_e(Tt),tabindex:"-1"}),{default:d(()=>[...fe[63]||(fe[63]=[Q(" mdi-pencil ",-1)])]),_:1},16,["onClick"])]),_:2},1024)):Be("",!0),p("div",_Ee,[l(Ye,{text:"Move Up"},{activator:d(({props:Dn})=>[l(qe,Ne({size:"x-small"},{ref_for:!0},Dn,{class:["order-icon",{"order-icon-disabled":ma===0}],onClick:er=>be(ma),tabindex:"-1"}),{default:d(()=>[...fe[64]||(fe[64]=[Q(" mdi-chevron-up ",-1)])]),_:1},16,["class","onClick"])]),_:2},1024),l(Ye,{text:"Move Down"},{activator:d(({props:Dn})=>[l(qe,Ne({size:"x-small"},{ref_for:!0},Dn,{class:["order-icon",{"order-icon-disabled":ma===u.value.length-1}],onClick:er=>He(ma),tabindex:"-1"}),{default:d(()=>[...fe[65]||(fe[65]=[Q(" mdi-chevron-down ",-1)])]),_:1},16,["class","onClick"])]),_:2},1024)])]),p("div",bEe,[Tt.isPharmacy?(V(),he(Ye,{key:0,text:"Pharmacy Medicine"},{activator:d(({props:Dn})=>[l(qe,Ne({size:"small"},{ref_for:!0},Dn,{class:"flex-shrink-0"}),{default:d(()=>[...fe[66]||(fe[66]=[Q(" mdi-store-plus-outline ",-1)])]),_:1},16)]),_:1})):Tt.isLocal?(V(),he(Ye,{key:1,text:"Saved Medicine"},{activator:d(({props:Dn})=>[l(qe,Ne({size:"small"},{ref_for:!0},Dn,{class:"flex-shrink-0"}),{default:d(()=>[...fe[67]||(fe[67]=[p("img",{src:Xc,alt:"Saved Medicine"},null,-1)])]),_:1},16)]),_:1})):(V(),he(Ye,{key:2,text:"External Medicine"},{activator:d(({props:Dn})=>[l(qe,Ne({size:"small"},{ref_for:!0},Dn,{class:"flex-shrink-0"}),{default:d(()=>[...fe[68]||(fe[68]=[p("img",{src:th,alt:"External Medicine"},null,-1)])]),_:1},16)]),_:1}))])])])]),_:2},1024),l(lt,{cols:"7",class:"d-flex align-center justify-end pl-2"},{default:d(()=>[p("span",xEe,J(Tt.saltComposition),1)]),_:2},1024)]),_:2},1024),Tt.isLocal&&Tt.dosageHistory&&Tt.dosageHistory.length>0?(V(),he(xt,{key:0,"no-gutters":"",class:"mb-2"},{default:d(()=>[l(lt,{cols:"12"},{default:d(()=>[p("div",CEe,[(V(!0),ye(ze,null,Jt(Tt.dosageHistory,(Dn,er)=>(V(),he(tn,{key:er,size:"small",variant:"outlined",color:"primary",class:"chip-hover text-caption",onClick:yl=>zt(Dn,Tt),style:{cursor:"pointer"}},{default:d(()=>[Q(J(oe(Dn)),1)]),_:2},1032,["onClick"]))),128))])]),_:2},1024)]),_:2},1024)):Be("",!0),l(xt,{"no-gutters":"",align:"center"},{default:d(()=>[l(lt,{cols:C.value?3:4,class:"pr-2"},{default:d(()=>[l(Ebe,{modelValue:Tt.dosage_schedule,"onUpdate:modelValue":Dn=>Tt.dosage_schedule=Dn,"medicine-id":Tt.id,"product-form":Tt.productForm,"doctor-id":E.value,onDosageScheduleSelected:Dn=>cn(Dn,Tt),class:"flex-grow-1"},null,8,["modelValue","onUpdate:modelValue","medicine-id","product-form","doctor-id","onDosageScheduleSelected"])]),_:2},1032,["cols"]),l(lt,{cols:(C.value,3),class:"px-1"},{default:d(()=>[l(Sbe,{modelValue:Tt.duration,"onUpdate:modelValue":Dn=>Tt.duration=Dn,"medicine-id":Tt.id,"product-form":Tt.productForm,"doctor-id":E.value,onDurationSelected:Dn=>an(Dn,Tt),class:"flex-grow-1"},null,8,["modelValue","onUpdate:modelValue","medicine-id","product-form","doctor-id","onDurationSelected"])]),_:2},1032,["cols"]),l(lt,{cols:C.value?3:5,class:"px-1"},{default:d(()=>[l(Ibe,{modelValue:Tt.instructions,"onUpdate:modelValue":Dn=>Tt.instructions=Dn,"medicine-id":Tt.id,"product-form":Tt.productForm,"doctor-id":E.value,onInstructionsSelected:Dn=>ln(Dn,Tt),class:"flex-grow-1"},null,8,["modelValue","onUpdate:modelValue","medicine-id","product-form","doctor-id","onInstructionsSelected"])]),_:2},1032,["cols"]),C.value?(V(),he(lt,{key:0,cols:"3",class:"pl-2"},{default:d(()=>[l(js,{"model-value":Tt.quantityUnits!==null&&Tt.quantityUnits!==void 0?Tt.quantityUnits:"","onUpdate:modelValue":Dn=>Tt.quantityUnits=Dn===""||Dn===null||Dn===void 0?null:Number(Dn),label:"Quantity",type:"number",variant:"outlined",density:"compact",min:0,disabled:!Tt.isPharmacy,"hide-details":"","single-line":"",class:"flex-grow-1",placeholder:""},{"prepend-inner":d(()=>[l(Ye,{text:"Quantity e.g. 5",location:"top"},{activator:d(({props:Dn})=>[l(qe,Ne({ref_for:!0},Dn,{size:"small",class:"text-medium-emphasis mr-1"}),{default:d(()=>[...fe[69]||(fe[69]=[Q(" mdi-numeric ",-1)])]),_:1},16)]),_:1})]),_:1},8,["model-value","onUpdate:modelValue","disabled"])]),_:2},1024)):Be("",!0)]),_:2},1024)]),_:2},1032,["class"]),Tt.isSelected?Be("",!0):(V(),he(xt,{key:0,"no-gutters":"",class:"mb-1"},{default:d(()=>[l(lt,{cols:"12",class:"px-2"},{default:d(()=>[p("div",EEe,[l(qe,{size:"x-small",class:"mr-1"},{default:d(()=>[...fe[70]||(fe[70]=[Q("mdi-alert-circle-outline",-1)])]),_:1}),fe[71]||(fe[71]=Q(" Select this medicine to include it in the prescription ",-1))])]),_:1})]),_:1})),Tt.isSelected&&!se(Tt)?(V(),he(xt,{key:1,"no-gutters":"",class:"mb-1"},{default:d(()=>[l(lt,{cols:"12",class:"px-2"},{default:d(()=>[p("div",BEe,[l(qe,{size:"x-small",class:"mr-1"},{default:d(()=>[...fe[72]||(fe[72]=[Q("mdi-alert-circle-outline",-1)])]),_:1}),fe[73]||(fe[73]=Q(" Add dosage information to include this medicine in the prescription ",-1))])]),_:1})]),_:1})):Be("",!0)],64))),128))]),_:1})):(V(),he(lt,{key:1,cols:"12"},{default:d(()=>[l(ct,{flat:"",class:"pa-2"},{default:d(()=>[l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"1"}),l(lt,{cols:"10"},{default:d(()=>[l(Wt,{style:{textAlign:"centre"}},{default:d(()=>[...fe[74]||(fe[74]=[Q("No medicines added yet",-1)])]),_:1})]),_:1}),l(lt,{cols:"1"})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}),l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"12"},{default:d(()=>[l(ct,{class:"form-section-card card-status-default ma-2 mb-1 pa-3",elevation:"2"},{default:d(()=>[l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"12",class:"d-flex align-top mb-2"},{default:d(()=>[l(Wt,{class:"pa-0"},{default:d(()=>[...fe[75]||(fe[75]=[p("strong",null,"Investigations & Patient Advice",-1)])]),_:1})]),_:1})]),_:1}),l(xt,{"no-gutters":"",class:"mt-2"},{default:d(()=>[l(lt,{cols:"1"}),l(lt,{cols:"6"},{default:d(()=>[l(lbe,{modelValue:A.value.investigations,"onUpdate:modelValue":fe[5]||(fe[5]=Tt=>A.value.investigations=Tt),"doctor-id":E.value,onInvestigationSelected:me},null,8,["modelValue","doctor-id"])]),_:1}),l(lt,{cols:"1"}),l(lt,{cols:"3",class:"pl-2"},{default:d(()=>[l(po,{modelValue:N.value,"onUpdate:modelValue":fe[8]||(fe[8]=Tt=>N.value=Tt),"close-on-content-click":!1,transition:"scale-transition","offset-y":""},{activator:d(({props:Tt})=>[l(js,Ne(Tt,{"model-value":Y(A.value.followupDate),label:"Follow-up Date",readonly:"",density:"comfortable",variant:"outlined","hide-details":"auto",class:"input-hover date-input",clearable:"","onClick:clear":we,onKeydown:[fe[6]||(fe[6]=zF(ma=>N.value=!0,["enter"])),fe[7]||(fe[7]=zF(ma=>N.value=!0,["space"]))]}),{"append-inner":d(()=>[l(qe,{class:"text-medium-emphasis"},{default:d(()=>[...fe[76]||(fe[76]=[Q("mdi-calendar",-1)])]),_:1})]),_:1},16,["model-value"])]),default:d(()=>[l(ai,{"model-value":ge(A.value.followupDate),"onUpdate:modelValue":ae,color:"primary",locale:"en-IN",min:G.value},null,8,["model-value","min"])]),_:1},8,["modelValue"])]),_:1}),l(lt,{cols:"1"})]),_:1}),l(xt,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(lt,{cols:"1"}),l(lt,{cols:"9"},{default:d(()=>[l(dbe,{"doctor-id":E.value,onPatientAdviceSelected:Ee},null,8,["doctor-id"])]),_:1}),l(lt,{cols:"2"})]),_:1}),l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"1"}),l(lt,{cols:"9"},{default:d(()=>[l(Kn,{modelValue:A.value.patientNotes,"onUpdate:modelValue":fe[9]||(fe[9]=Tt=>A.value.patientNotes=Tt),label:"Patient Advice",clearable:"","auto-grow":"",rows:"2","row-height":"15",density:"compact",variant:"underlined",name:"patient-advice",autocomplete:"off","hide-details":"auto"},null,8,["modelValue"])]),_:1}),l(lt,{cols:"1",class:"d-flex align-center justify-center"},{default:d(()=>[l(Ye,{text:"Voice Input"},{activator:d(({props:Tt})=>[l(_t,Ne({icon:"mdi-microphone",rounded:"xls",variant:"flat",color:"primary",size:"small"},Tt,{onClick:Re,tabindex:"-1",class:"dictation-btn"}),null,16)]),_:1})]),_:1}),l(lt,{cols:"1"})]),_:1})]),_:1})]),_:1})]),_:1}),l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"12",class:"px-4 py-1"},{default:d(()=>[l(gl,{thickness:"2",class:"border-opacity-50"})]),_:1})]),_:1}),l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"12"},{default:d(()=>[l(ct,{class:"form-section-card card-status-default mx-2 pa-3",elevation:"2"},{default:d(()=>[l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"12",class:"d-flex align-top mb-1"},{default:d(()=>[l(Wt,{class:"pa-0"},{default:d(()=>[...fe[77]||(fe[77]=[p("strong",null,"Notes for Doctor",-1)])]),_:1})]),_:1})]),_:1}),l(xt,{"no-gutters":""},{default:d(()=>[l(lt,{cols:"1"}),l(lt,{cols:"9"},{default:d(()=>[l(Kn,{clearable:"","auto-grow":"",rows:"1","row-height":"15",density:"compact",variant:"underlined",label:"Notes for Doctor",modelValue:A.value.doctorNotes,"onUpdate:modelValue":fe[10]||(fe[10]=Tt=>A.value.doctorNotes=Tt),name:"doctor-notes",autocomplete:"off"},null,8,["modelValue"])]),_:1}),l(lt,{cols:"1",class:"d-flex align-center justify-center"},{default:d(()=>[l(Ye,{text:"Voice Input"},{activator:d(({props:Tt})=>[l(_t,Ne({icon:"mdi-microphone",rounded:"xls",variant:"flat",color:"primary",size:"small"},Tt,{onClick:Ie,tabindex:"-1",class:"dictation-btn"}),null,16)]),_:1})]),_:1}),l(lt,{cols:"1"})]),_:1})]),_:1})]),_:1})]),_:1}),l(Sa,{modelValue:h.value,"onUpdate:modelValue":fe[11]||(fe[11]=Tt=>h.value=Tt),"max-width":"40%",persistent:""},{default:d(()=>[y.value?(V(),he(ZM,{key:0,medicine:y.value,onClose:Pe,"onUpdate:medicine":re},null,8,["medicine"])):Be("",!0)]),_:1},8,["modelValue"]),l(Sa,{modelValue:v.value,"onUpdate:modelValue":fe[12]||(fe[12]=Tt=>v.value=Tt),"max-width":"40%",persistent:""},{default:d(()=>[l(bk,{onClose:ie,"onUpdate:medicinelist":bt})]),_:1},8,["modelValue"]),l(Sa,{modelValue:w.value,"onUpdate:modelValue":fe[13]||(fe[13]=Tt=>w.value=Tt),"max-width":"50%",persistent:""},{default:d(()=>[l(mxe,{consultation:A.value,patient:c.value,"existing-vitals":f.value,onClose:Oe,onVitalsSaved:it},null,8,["consultation","patient","existing-vitals"])]),_:1},8,["modelValue"]),l(Sa,{modelValue:b.value,"onUpdate:modelValue":fe[14]||(fe[14]=Tt=>b.value=Tt),"max-width":"80%",persistent:""},{default:d(()=>[l(Rxe,{"patient-id":c.value.id,"patient-name":c.value.name,onClose:Xe},null,8,["patient-id","patient-name"])]),_:1},8,["modelValue"]),l(Ay,{modelValue:B.value,"onUpdate:modelValue":fe[15]||(fe[15]=Tt=>B.value=Tt),"current-text":A.value.clinicalNotes,label:"Clinical Notes",onTranscriptionComplete:Ce},null,8,["modelValue","current-text"]),l(Ay,{modelValue:S.value,"onUpdate:modelValue":fe[16]||(fe[16]=Tt=>S.value=Tt),"current-text":A.value.patientNotes,label:"Patient Advice",onTranscriptionComplete:pe},null,8,["modelValue","current-text"]),l(Ay,{modelValue:T.value,"onUpdate:modelValue":fe[17]||(fe[17]=Tt=>T.value=Tt),"current-text":A.value.doctorNotes,label:"Doctor Notes",onTranscriptionComplete:Me},null,8,["modelValue","current-text"])]),_:1})]),_:1})],64)):(V(),he(xt,{key:0,"no-gutters":""},{default:d(()=>[l(lt,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[l(vt,{indeterminate:"",color:"primary"})]),_:1})]),_:1}))]),_:1}),l(Js,{value:"share",class:"h-100"},{default:d(()=>[A.value.id?A.value.id==0?(V(),he(xt,{key:1,"no-gutters":""},{default:d(()=>[l(lt,{cols:"12",class:"d-flex justify-center align-center",style:{height:"100%"}},{default:d(()=>[l(Lt,{image:We(cU)},{title:d(()=>[...fe[78]||(fe[78]=[p("div",{class:"text-subtitle-2"}," No consultation selected ",-1)])]),text:d(()=>[p("div",SEe,[fe[80]||(fe[80]=Q(" Create a consultation by clicking on the button above ",-1)),fe[81]||(fe[81]=p("br",null,null,-1)),l(_t,{class:"mt-2",onClick:St},{default:d(()=>[...fe[79]||(fe[79]=[Q("Create Consultation",-1)])]),_:1})])]),_:1},8,["image"])]),_:1})]),_:1})):A.value.id&&!R.value?(V(),he(xt,{key:2,"no-gutters":""},{default:d(()=>[l(lt,{cols:"12",class:"d-flex justify-center align-center",style:{height:"100%"}},{default:d(()=>[p("div",kEe,[l(qe,{size:"48",color:"warning",class:"mb-4"},{default:d(()=>[...fe[82]||(fe[82]=[Q("mdi-alert-circle-outline",-1)])]),_:1}),fe[83]||(fe[83]=p("div",{class:"text-h6 text-medium-emphasis"},"Invalid consultation",-1)),p("div",IEe,"This consultation cannot be displayed (status: "+J(A.value.status)+")",1)])]),_:1})]),_:1})):(V(),he(xt,{key:3,"no-gutters":"",class:"h-100"},{default:d(()=>[l(lt,{cols:"12"},{default:d(()=>[l(Ep,{"content-type":"consultation",data:{consultation:A.value,medicines:u.value,vitals:f.value,printConfigurations:k.value,doctor:_.value},patient:c.value,onPdfGenerated:Ot},null,8,["data","patient"])]),_:1})]),_:1})):(V(),he(xt,{key:0,"no-gutters":""},{default:d(()=>[l(lt,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[l(vt,{indeterminate:"",color:"primary"})]),_:1})]),_:1}))]),_:1}),l(Js,{value:"media",class:"h-100"},{default:d(()=>[l(xt,{"no-gutters":"","aria-label":"toolbar",class:"h-100"},{default:d(()=>[l(lt,{cols:"12"},{default:d(()=>[l(bO,{consultation:A.value,patient:c.value},null,8,["consultation","patient"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(Sa,{modelValue:ke.value,"onUpdate:modelValue":fe[19]||(fe[19]=Tt=>ke.value=Tt),persistent:"","max-width":"40%"},{default:d(()=>[l(ebe,{diagnosis:A.value.diagnosis,patientNotes:A.value.patientNotes,investigations:A.value.investigations,medicineList:u.value,"doctor-id":E.value,onClose:Te,"onUpdate&close":Le},null,8,["diagnosis","patientNotes","investigations","medicineList","doctor-id"])]),_:1},8,["modelValue"]),l(Sa,{modelValue:Se.value,"onUpdate:modelValue":fe[20]||(fe[20]=Tt=>Se.value=Tt),persistent:"","max-width":"50%"},{default:d(()=>[l(nbe,{medicineList:u.value,selectedDiagnosis:st.value,onClose:ht,"onUpdate&close":Ct},null,8,["medicineList","selectedDiagnosis"])]),_:1},8,["modelValue"])],64)}}},xO=on(TEe,[["__scopeId","data-v-73f3a8d7"]]),FEe={__name:"create-procedure",emits:["close","update:procedurelist"],setup(e,{emit:t}){const n=t,r=pr(),a=Z(()=>r.state.doctorModule.doctorId),s=H({procedureName:"",cost:0,description:""}),o=H(!1),i=H(!1),c=[f=>f!=null&&f>=0||"Cost must be a positive number"],A=()=>{n("close")},u=async f=>{if(o.value){if(!a.value){console.error("Doctor ID not available");return}i.value=!0;try{const m=await ck(f.procedureName,f.cost,f.description,!0,"","",a.value);m.error?console.error("Error creating procedure:",m.error):(n("update:procedurelist",m.data),A())}catch(m){console.error("Error creating procedure:",m)}finally{i.value=!1}}};return(f,m)=>{const v=D("v-card-title"),h=D("v-col"),y=D("v-icon"),w=D("v-btn"),b=D("v-row"),B=D("v-card"),S=D("v-text-field"),T=D("v-textarea"),N=D("v-divider"),k=D("v-form");return V(),he(B,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"12"},{default:d(()=>[l(B,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"11"},{default:d(()=>[l(v,{class:"pa-0 pl-2"},{default:d(()=>[...m[5]||(m[5]=[Q("Create New Procedure",-1)])]),_:1})]),_:1}),l(h,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(w,{icon:"",size:"x-small",onClick:A},{default:d(()=>[l(y,null,{default:d(()=>[...m[6]||(m[6]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"12"},{default:d(()=>[l(B,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(k,{modelValue:o.value,"onUpdate:modelValue":m[4]||(m[4]=E=>o.value=E),"validate-on":"blur"},{default:d(()=>[l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"12"},{default:d(()=>[l(S,{label:"Procedure Name *",density:"compact",modelValue:s.value.procedureName,"onUpdate:modelValue":m[0]||(m[0]=E=>s.value.procedureName=E),rules:We(Ei)},null,8,["modelValue","rules"])]),_:1}),l(h,{cols:"12"},{default:d(()=>[l(S,{label:"Cost *",density:"compact",modelValue:s.value.cost,"onUpdate:modelValue":m[1]||(m[1]=E=>s.value.cost=E),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",prefix:"",rules:c},null,8,["modelValue"])]),_:1}),l(h,{cols:"12"},{default:d(()=>[l(T,{label:"Description",density:"compact",modelValue:s.value.description,"onUpdate:modelValue":m[2]||(m[2]=E=>s.value.description=E),rows:"3"},null,8,["modelValue"])]),_:1})]),_:1}),l(N),l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"2"}),l(h,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(w,{variant:"outlined",onClick:m[3]||(m[3]=E=>u(s.value)),disabled:!o.value,loading:i.value},{default:d(()=>[...m[7]||(m[7]=[Q(" Create ",-1)])]),_:1},8,["disabled","loading"])]),_:1}),l(h,{cols:"2"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},PEe={__name:"edit-procedure",props:{procedure:{type:Object,required:!0}},emits:["close","procedureUpdated"],setup(e,{emit:t}){const n=t,r=pr(),a=Z(()=>r.state.doctorModule.doctorId),o=e.procedure||{},i=H({...Gn.cloneDeep(o),procedureName:o.treatmentName||o.treatment_name||o.procedureName||o.procedure_name||"",description:o.description||o.treatmentDescription||o.procedureDescription||"",cost:o.cost||o.costEstimate||o.cost_estimate||o.procedureCost||0,id:o.id||o.procedure_id||""}),c=H(!1),A=H(!1),u=[v=>v==null||v===""?"Cost is required":v<0?"Cost must be positive":!0],f=()=>{n("close")},m=async()=>{if(!i.value.id){console.error("Cannot update procedure: missing ID");return}if(!a.value){console.error("Doctor ID not available");return}c.value=!0,console.log("Updating procedure",i.value);try{const v=await S8(i.value.id,{procedure_name:i.value.procedureName,description:i.value.description,cost:i.value.cost},a.value);if(v.error)throw console.error("Error updating procedure",v.error),new Error(v.error.message||"Failed to update procedure");console.log("Procedure updated successfully",v.data),n("procedureUpdated",v.data),f()}catch(v){console.error("Error updating procedure",v)}finally{c.value=!1}};return(v,h)=>{const y=D("v-card-title"),w=D("v-col"),b=D("v-icon"),B=D("v-btn"),S=D("v-row"),T=D("v-card"),N=D("v-text-field"),k=D("v-textarea"),E=D("v-divider"),_=D("v-form");return V(),he(T,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(S,{"no-gutters":""},{default:d(()=>[l(w,{cols:"12"},{default:d(()=>[l(T,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(S,{"no-gutters":""},{default:d(()=>[l(w,{cols:"11"},{default:d(()=>[l(y,{class:"pa-0 pl-2"},{default:d(()=>[...h[4]||(h[4]=[Q("Edit Procedure",-1)])]),_:1})]),_:1}),l(w,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(B,{icon:"",size:"x-small",onClick:f},{default:d(()=>[l(b,null,{default:d(()=>[...h[5]||(h[5]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(S,{"no-gutters":""},{default:d(()=>[l(w,{cols:"12"},{default:d(()=>[l(T,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(_,{modelValue:A.value,"onUpdate:modelValue":h[3]||(h[3]=C=>A.value=C),"validate-on":"blur"},{default:d(()=>[l(S,{"no-gutters":""},{default:d(()=>[l(w,{cols:"12"},{default:d(()=>[l(N,{label:"Procedure Name *",density:"compact",modelValue:i.value.procedureName,"onUpdate:modelValue":h[0]||(h[0]=C=>i.value.procedureName=C),clearable:"",rules:We(Ei)},null,8,["modelValue","rules"])]),_:1}),l(w,{cols:"12"},{default:d(()=>[l(k,{label:"Procedure Description",density:"compact",modelValue:i.value.description,"onUpdate:modelValue":h[1]||(h[1]=C=>i.value.description=C),clearable:"",rows:"2","auto-grow":""},null,8,["modelValue"])]),_:1}),l(w,{cols:"12"},{default:d(()=>[l(N,{label:"Base Cost *",density:"compact",modelValue:i.value.cost,"onUpdate:modelValue":h[2]||(h[2]=C=>i.value.cost=C),modelModifiers:{number:!0},type:"number",min:"0",step:"0.01",prefix:"",clearable:"",rules:u},null,8,["modelValue"])]),_:1})]),_:1}),l(E),l(S,{"no-gutters":""},{default:d(()=>[l(w,{cols:"2"}),l(w,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(B,{variant:"outlined",onClick:m,disabled:!A.value,loading:c.value},{default:d(()=>[...h[6]||(h[6]=[Q(" Update Procedure ",-1)])]),_:1},8,["disabled","loading"])]),_:1}),l(w,{cols:"2"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},DEe={__name:"delete-procedure-treatment",props:{procedureTreatment:{type:Object,required:!0},treatmentPlanId:{type:[String,Number],required:!0}},emits:["close","deleted"],setup(e,{emit:t}){const n=e,r=t,a=H(n.procedureTreatment),s=()=>{r("close")},o=async i=>{try{const c=await k8(n.treatmentPlanId,i.id);c.error?console.error("Error deleting procedure treatment mapping:",c.error):(console.log("Procedure treatment mapping deleted successfully"),r("deleted",i))}catch(c){console.error("Error deleting procedure treatment mapping:",c)}s()};return(i,c)=>{const A=D("v-card-title"),u=D("v-col"),f=D("v-icon"),m=D("v-btn"),v=D("v-row"),h=D("v-card"),y=D("v-card-text"),w=D("v-divider");return V(),he(h,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(h,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"11"},{default:d(()=>[l(A,{class:"pa-0 pl-2"},{default:d(()=>[...c[1]||(c[1]=[Q("Confirm Procedure Removal",-1)])]),_:1})]),_:1}),l(u,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(m,{icon:"",size:"x-small",onClick:s},{default:d(()=>[l(f,null,{default:d(()=>[...c[2]||(c[2]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(h,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(y,{class:"text-left"},{default:d(()=>[...c[3]||(c[3]=[Q(" Are you sure you want to remove this procedure from the treatment plan? ",-1),p("span",{class:"text-red font-weight-bold"}," You will not be able to recover this data once deleted. ",-1)])]),_:1})]),_:1})]),_:1}),l(w),l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"2"}),l(u,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(m,{variant:"outlined",onClick:c[0]||(c[0]=b=>o(a.value))},{default:d(()=>[...c[4]||(c[4]=[Q("Yes, Remove Procedure",-1)])]),_:1})]),_:1}),l(u,{cols:"2"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},UEe={class:"procedure-name-wrap"},REe={class:"font-weight-medium"},NEe={class:"text-center"},LEe={__name:"search-procedure",emits:["handleSearchedProcedures","addProcedure"],setup(e,{emit:t}){const n=t,r=pr(),a=Z(()=>r.state.doctorModule.doctorId),s=()=>{n("addProcedure")},o=H(!1),i=H([]),c=H(""),A=H([]),u=H(!1);let f=null;Ge(c,h=>{if(f&&clearTimeout(f),u.value=!1,!h||h.trim().length===0){o.value=!1;return}f=setTimeout(()=>{m(h)},300)}),Ge(A,h=>{console.log("Search add procedures changed:",h),h.length>0&&(n("handleSearchedProcedures",h),A.value=[])});const m=async h=>{if(!(!h||h.trim().length===0)){if(!a.value){console.error("Doctor ID not available for procedure search");return}o.value=!0,u.value=!1;try{const y=new URLSearchParams;y.append("doctor_id",a.value);const w=await Bt.get(`procedure/search_procedure/${h}?${y.toString()}`);i.value=w.data.data.procedures,(!i.value||i.value.length===0)&&(u.value=!0)}catch(y){console.error("Error fetching procedures:",y),u.value=!0}finally{o.value=!1}}},v=Z(()=>!c.value||c.value.trim().length===0?"Start typing to search procedures":o.value?"Searching procedures...":u.value?"No procedures found matching your search. Try different keywords or create new procedure below.":"");return(h,y)=>{const w=D("v-icon"),b=D("v-list-item"),B=D("v-divider"),S=D("v-card-subtitle"),T=D("v-btn"),N=D("v-card"),k=D("v-chip"),E=D("v-autocomplete");return V(),he(E,{multiple:"",clearable:"","clear-on-select":"","hide-selected":"",chips:"","closable-chips":"",density:"compact",variant:"outlined",label:"Search procedures",items:i.value,search:c.value,"onUpdate:search":y[0]||(y[0]=_=>c.value=_),loading:o.value,"item-title":"procedureName","item-value":"item","return-object":"",modelValue:A.value,"onUpdate:modelValue":y[1]||(y[1]=_=>A.value=_),rounded:"l","prepend-inner-icon":"mdi-magnify","no-data-text":v.value,placeholder:o.value?"Searching...":"Start typing to search procedures"},{item:d(({props:_,item:C,index:F})=>[l(b,Ne(_,{density:"compact"}),{title:d(()=>[p("span",UEe,J(C.raw.procedureName),1)]),append:d(()=>[C.raw.isLocal?(V(),he(w,{key:0},{default:d(()=>[...y[2]||(y[2]=[p("img",{src:Xc,alt:"Local Procedure"},null,-1)])]),_:1})):(V(),he(w,{key:1},{default:d(()=>[...y[3]||(y[3]=[p("img",{src:th,alt:"External Procedure"},null,-1)])]),_:1}))]),_:2},1040),F===i.value.length-1?(V(),ye(ze,{key:0},[l(B),l(N,{flat:"",class:"pt-1"},{default:d(()=>[l(S,null,{default:d(()=>[...y[4]||(y[4]=[Q("Procedure not in list?",-1)])]),_:1}),l(T,{class:"ml-3",variant:"outlined",onClick:s},{default:d(()=>[l(w,{class:"mr-2"},{default:d(()=>[...y[5]||(y[5]=[Q("mdi-plus",-1)])]),_:1}),y[6]||(y[6]=Q(" Create Procedure ",-1))]),_:1})]),_:1})],64)):Be("",!0)]),chip:d(({props:_,item:C})=>[l(k,Ne(_,{size:"small",class:"mr-1"}),{default:d(()=>[p("span",REe,J(C.raw.procedureName),1)]),_:2},1040)]),"no-data":d(()=>[c.value&&c.value.trim().length>0?(V(),he(N,{key:0,flat:"",class:"pa-4"},{default:d(()=>[p("div",NEe,[l(S,{class:"mb-2"},{default:d(()=>[Q(J(v.value),1)]),_:1}),l(T,{variant:"outlined",color:"primary",onClick:s},{default:d(()=>[l(w,{class:"mr-2"},{default:d(()=>[...y[7]||(y[7]=[Q("mdi-plus",-1)])]),_:1}),y[8]||(y[8]=Q(" Create Procedure ",-1))]),_:1})])]),_:1})):(V(),he(N,{key:1,flat:"",class:"pa-4 text-center"},{default:d(()=>[l(S,null,{default:d(()=>[Q(J(v.value),1)]),_:1})]),_:1}))]),_:1},8,["items","search","loading","modelValue","no-data-text","placeholder"])}}},VEe=on(LEe,[["__scopeId","data-v-c9cffa1d"]]),MEe={class:"text-caption"},OEe={class:"d-flex flex-wrap gap-2 align-center"},QEe={key:0,class:"mt-4"},HEe={class:"text-center"},KEe={class:"text-body-2 font-weight-medium mb-0"},GEe={class:"text-center"},zEe={class:"text-body-2 font-weight-medium mb-0"},$Ee={class:"text-center"},WEe={class:"text-body-2 font-weight-medium mb-0"},jEe={class:"text-center"},JEe={class:"text-body-2 font-weight-medium mb-0"},qEe={class:"text-center"},YEe={class:"text-center"},XEe={key:0,class:"text-caption text-medium-emphasis ml-2"},ZEe={key:0,class:"d-flex justify-center align-center pa-4"},eBe={key:1,class:"payment-receipts-container"},tBe={class:"d-flex align-center flex-wrap payment-receipt-details"},nBe={class:"text-subtitle-2 font-weight-bold receipt-id"},rBe={class:"text-caption text-medium-emphasis receipt-date"},aBe={class:"text-caption receipt-amount"},sBe={class:"text-caption receipt-amount"},oBe={class:"text-caption text-error receipt-amount"},iBe={key:0,class:"mx-2 pb-2"},lBe={class:"text-subtitle-2 text-medium-emphasis"},cBe={class:"d-flex align-center gap-2"},uBe={class:"text-subtitle-2 text-left"},dBe=["src","alt"],ABe={class:"mx-2 pb-2"},fBe={class:"text-subtitle-2 text-medium-emphasis"},mBe={class:"d-flex align-center gap-2 mb-1"},hBe={class:"text-subtitle-1 font-weight-medium text-left"},vBe={class:"text-body-2 font-weight-medium text-left"},pBe={class:"d-flex align-center gap-1"},gBe={class:"d-flex justify-start"},yBe={key:2,class:"text-center py-8"},wBe={key:0,class:"mt-6"},_Be={class:"d-flex flex-wrap justify-center gap-2"},bBe={class:"font-weight-medium"},xBe={key:0,class:"text-caption"},CBe={key:1,class:"text-caption mt-1"},EBe={key:0,class:"date-section mb-4"},BBe={class:"date-header-vertical mb-3",style:{"margin-top":"16px"}},SBe={class:"d-flex align-center gap-2 mb-1"},kBe={class:"text-subtitle-2 text-left"},IBe={class:"text-caption text-medium-emphasis procedure-description"},TBe={class:"date-header-vertical mb-3"},FBe={class:"d-flex align-center gap-2 mb-1"},PBe={class:"text-subtitle-2 text-left"},DBe={class:"text-caption text-medium-emphasis procedure-description"},UBe={key:1,class:"text-center py-8"},RBe={__name:"procedure-window",props:{treatmentPlan:{type:Object,default:()=>({id:"0"})},patient:{type:Object,default:()=>({})}},emits:["update:treatmentPlan","createNewTreatmentPlan"],setup(e,{emit:t}){const n=e,r=t,a=pr(),s=Z(()=>a.state.doctorModule.doctorId),o=H("plan"),i=H({}),c=H([]),A=H([]),u=H(!1),f=H(!1),m=H(!1),v=H(null),h=H(null),y=H([]),w=H(!1),b=H(!1),B=H(!1),S=H(null),T=H([]),N=H(!1),k=H(new Set),E=H(!1),_=H({}),C=H(!1),F=H(null),I=H(new Map),R=H({}),M=H({show:!1,text:"",color:"success"}),te=[{title:"Proposed",value:"proposed"},{title:"Ongoing",value:"ongoing"},{title:"Completed",value:"completed"},{title:"Deleted",value:"deleted"}],se=[{title:"Proposed",value:"proposed"},{title:"Ongoing",value:"ongoing"},{title:"Completed",value:"completed"},{title:"On Hold",value:"on_hold"},{title:"Cancelled",value:"cancelled"}],O=Z(()=>!c.value||c.value.length===0?0:c.value.filter(me=>me.isSelected&&me.status?.toLowerCase()!=="cancelled").reduce((me,Ee)=>{const nt=Ee.procedureCost||0;return me+nt},0)),W=Z(()=>!c.value||c.value.length===0?0:c.value.filter(me=>me.isSelected&&me.status?.toLowerCase()!=="cancelled").reduce((me,Ee)=>{const nt=Ee.costEstimate||Ee.cost_estimate,At=Ee.procedureCost||0;return me+(nt!==void 0?nt:At)},0)),le=Z(()=>!c.value||c.value.length===0?0:c.value.filter(me=>me.isSelected&&me.status?.toLowerCase()==="completed"&&me.status?.toLowerCase()!=="cancelled").reduce((me,Ee)=>{const nt=Ee.costEstimate||Ee.cost_estimate,At=Ee.procedureCost||0;return me+(nt!==void 0?nt:At)},0)),K=Z(()=>!S.value||S.value.length===0?0:S.value.reduce((me,Ee)=>me+(Ee.totalPaid||0),0)),ee=Z(()=>Math.max(0,le.value-K.value)),j=Z(()=>c.value?c.value.some(me=>(me.option||me.options||"").trim()!==""&&me.status?.toLowerCase()!=="cancelled"):!1),U=Z(()=>c.value?c.value.filter(me=>me.status?.toLowerCase()!=="cancelled"):[]);Z(()=>{if(!c.value)return[];const me={ongoing:1,on_hold:2,proposed:3,completed:4,cancelled:5},Ee=At=>{const St=At.start_date||At.startDate,Qt=At.created_at||At.createdAt;return St?new Date(St):Qt?new Date(Qt):new Date(0)},nt=[...c.value];return nt.length>100?nt.sort((At,St)=>{const Qt=I.value.get(At.id)||{status:At.status?.toLowerCase(),date:Ee(At)},Rt=I.value.get(St.id)||{status:St.status?.toLowerCase(),date:Ee(St)},jt=me[Qt.status]||999,En=me[Rt.status]||999;return jt!==En?jt-En:Rt.date-Qt.date}):nt.sort((At,St)=>{const Qt=I.value.get(At.id)||{status:At.status?.toLowerCase(),date:Ee(At)},Rt=I.value.get(St.id)||{status:St.status?.toLowerCase(),date:Ee(St)},jt=me[Qt.status]||999,En=me[Rt.status]||999;return jt!==En?jt-En:Rt.date-Qt.date})});const G=Z(()=>{if(!c.value||c.value.length===0)return{unscheduled:[],dateGroups:[]};const me={ongoing:1,on_hold:2,proposed:3,completed:4,cancelled:5},Ee=Qt=>Qt.sort((Rt,jt)=>{const En=(Rt.status||"proposed").toLowerCase(),hn=(jt.status||"proposed").toLowerCase(),Ot=me[En]||999,mn=me[hn]||999;return Ot-mn}),nt=[],At={};c.value.forEach(Qt=>{const jt=I.value.get(Qt.id)?.startDate;if(!jt)nt.push(Qt);else{const En=new Date(jt),hn=new Date,Ot=En.getFullYear()===hn.getFullYear(),mn=En.toLocaleDateString("en-US",{timeZone:"Asia/Kolkata",month:"short",day:"numeric",...Ot?{}:{year:"numeric"}}),Ce=En.toLocaleDateString("en-US",{timeZone:"Asia/Kolkata",year:"numeric",month:"long",day:"numeric"});At[mn]||(At[mn]={date:mn,fullDate:Ce,rawDate:En,procedures:[]}),At[mn].procedures.push(Qt)}}),Ee(nt),Object.values(At).forEach(Qt=>{Ee(Qt.procedures)});const St=Object.values(At).sort((Qt,Rt)=>Qt.rawDate.getTime()-Rt.rawDate.getTime());return{unscheduled:nt,dateGroups:St}}),ne=async()=>{if(!i.value?.id||i.value.id==="0"){c.value=[];return}try{const me=await bA(i.value.id);if(me.error)throw new Error(me.error.message||"Failed to load procedure details");let Ee=me.data.procedures||[];Ee=Ee.sort((nt,At)=>{const St=nt.option||nt.options||"",Qt=At.option||At.options||"";return!St&&Qt?-1:St&&!Qt?1:St.localeCompare(Qt)}),c.value=Ee,c.value.forEach(nt=>{zt(nt)}),Oe()}catch(me){console.error("Error loading procedure treatments:",me),c.value=[]}},X=async()=>{if(!i.value?.id||i.value.id==="0"){S.value=[];return}try{S.value=null;const me=await C8(a,"",i.value.id);if(me.error)throw new Error(me.error.message||"Failed to load payment receipts");S.value=me.data||[]}catch(me){console.error("Error loading payment receipts:",me),S.value=[],bt("Failed to load payment receipts","error")}};Ge(()=>n.treatmentPlan,me=>{me&&(i.value=Gn.cloneDeep(me),(i.value.amountPaid===void 0||i.value.amountPaid===null)&&(i.value.amountPaid=0),ne(),me.id&&me.id!=="0"?X():S.value=[])},{immediate:!0,deep:!0}),Ge(()=>s.value,me=>{me&&ae()}),Ge(()=>_.value.followupDate,(me,Ee)=>{me&&Ee&&me!==Ee&&_.value.isReminded&&(_.value.isReminded=!1,console.log("Follow-up date changed, setting reminder to pending"))});const oe=me=>{console.log("Tab changed to:",me)},q=()=>{r("createNewTreatmentPlan",{treatmentPlanName:"New Treatment Plan",startDate:"",endDate:"",followupDate:"",status:"proposed",notes:"",amountPaid:0,isTemplate:!1})},Y=async()=>{if(!s.value){console.error("Doctor ID not available");return}w.value=!0;try{const me=await B8("",s.value);if(me.error)throw new Error(me.error.message||"Failed to load procedures");y.value=me.data}catch(me){console.error("Error loading procedures:",me),bt("Failed to load procedures","error")}finally{w.value=!1}},ae=async()=>{if(s.value){N.value=!0;try{const me=await Bt.get(`/treatmentplan/templates/doctor/${s.value}`);if(me.data.success)T.value=me.data.data||[];else throw new Error(me.data.error||"Failed to load templates")}catch(me){console.error("Error loading template plans:",me),T.value=[]}finally{N.value=!1}}},ge=async me=>{if(!i.value?.id){bt("Please create a treatment plan first","error");return}if(!me.procedures||me.procedures.length===0){bt("Template has no procedures to copy","warning");return}try{const Ee=await Bt.put(`/treatmentplan/${i.value.id}`,{treatmentplan_name:me.treatmentPlanName});if(!Ee.data.success)throw new Error(Ee.data.error||"Failed to update treatment plan name");for(const nt of me.procedures)await Bt.post(`/treatmentplan/${i.value.id}/procedure`,{procedure_id:nt.procedureId,cost_estimate:nt.procedureCost||0,notes:nt.notes||""});await Dt(),bt(`Copied ${me.procedures.length} procedure(s) from template: ${me.treatmentPlanName}`,"success")}catch(Ee){console.error("Error copying from template:",Ee),bt("Failed to copy procedures from template","error")}},we=()=>{u.value=!0},z=async me=>{console.log("Searched Procedures received:",me),console.log("Current selectedProcedures before:",A.value);for(const Ee of me)await Ae(Ee);console.log("Current selectedProcedures after:",A.value)},Ae=async me=>{if(console.log("Adding procedure to staging:",me),me.isLocal===!0){console.log("Local procedure - saving directly to treatment plan"),await ie(me);return}console.log("Server procedure - adding to staging area");const Ee=A.value.some(nt=>nt.id===me.id);if(console.log("Procedure already exists in staging:",Ee),Ee)console.log("Procedure already in staging, skipping");else{const nt={...me,cost:me.cost||0,costEstimate:me.cost||0,location:me.location||"",options:me.option||"",isSelected:!0,isLocal:me.isLocal!==void 0?me.isLocal:!0,stagingId:`staging_${Date.now()}_${me.id||Math.random()}`};console.log("Staged Procedure:",nt),A.value.push(nt),console.log("Updated staging list:",A.value)}},ie=async me=>{if(!i.value.id||i.value.id==="0"){bt("Please select a valid treatment plan first","error");return}try{console.log("Saving local procedure directly:",me);const Ee=await p0(i.value.id,me.id,me.cost||0,"","","");if(Ee.error)throw new Error(Ee.error.message||"Failed to save procedure to treatment plan");await ne(),bt(`"${me.procedureName}" added to treatment plan`,"success")}catch(Ee){console.error("Error saving local procedure directly:",Ee),bt("Failed to add procedure to treatment plan","error")}},_e=async()=>{if(!i.value.id||i.value.id==="0"){bt("Please select a valid treatment plan first","error");return}if(A.value.length===0){bt("No procedures selected to save","warning");return}b.value=!0;let me=0;try{for(const Ee of A.value)if(Ee.isSelected){let nt=Ee.id;if(!Ee.isLocal&&!Ee.id.toString().startsWith("staging_"))try{if(console.log("Creating local procedure for server procedure:",Ee),!s.value)throw new Error("Doctor ID not available");const St=await ck(Ee.procedureName,Ee.cost||0,"",!0,Ee.id.toString().replace("server_",""),Ee.identifier||"",s.value);if(St.error)throw console.error("API Error Response:",St.error),new Error(St.error.message||"Failed to create local procedure entry");nt=St.data.id,console.log("Server procedure saved to local DB with ID:",nt)}catch(St){throw console.error("Error saving server procedure to local DB:",St),St}const At=await p0(i.value.id,nt,Ee.costEstimate||Ee.cost||0,"",Ee.location||"",Ee.option||"");if(At.error)throw new Error(At.error.message||"Failed to save procedure to treatment plan");me++}me>0&&(A.value=[],await ne(),bt(`${me} procedure(s) added to treatment plan successfully`,"success"))}catch(Ee){console.error("Error saving procedures to treatment plan:",Ee),bt("Failed to save procedures to treatment plan","error")}finally{b.value=!1}},Pe=me=>{A.value=A.value.filter(Ee=>Ee.stagingId!==me)},re=async()=>{if(!i.value?.id||i.value.id==="0"){bt("Please select a valid treatment plan first","error");return}if(!c.value||c.value.length===0){bt("No procedures to save","warning");return}B.value=!0;let me=0;try{for(const Ee of c.value){const nt={cost_estimate:Ee.costEstimate||Ee.procedureCost||0,notes:Ee.notes||"",location:Ee.location||"",option:Ee.option||"",status:Ee.status||"proposed",start_date:Ee.startDate||null,end_date:Ee.endDate||null},At=await oE(i.value.id,Ee.id,nt);At.error?console.error("Error saving procedure treatment:",Ee.id,At.error):me++}me>0?(bt(`${me} procedure(s) saved successfully`,"success"),await ne()):bt("No procedures were saved","warning")}catch(Ee){console.error("Error saving procedure treatments:",Ee),bt("Failed to save procedure treatments","error")}finally{B.value=!1}},be=async me=>{(!me.costEstimate||me.costEstimate===0)&&(me.costEstimate=me.procedureCost||0),console.log("Final cost updated for procedure:",me.id,"New cost:",me.costEstimate)},He=me=>{console.log("Edit procedure - original procedureTreatment:",me),console.log("ProcedureTreatment keys:",Object.keys(me)),console.log("ProcedureTreatment ID:",me.id),console.log("ProcedureTreatment procedure_id:",me.procedure_id),console.log("ProcedureTreatment procedure:",me.procedure),console.log("ProcedureTreatment costEstimate:",me.costEstimate),console.log("ProcedureTreatment cost_estimate:",me.cost_estimate);const Ee={id:me.procedureId||me.procedure_id||me.procedure?.id,procedureName:me.procedureName||me.procedure_name||me.procedure?.procedureName,description:me.procedureDescription||me.procedure_description||me.procedure?.description||"",cost:me.procedureCost||me.procedure_cost||me.procedure?.cost||0,isLocal:me.isLocal||me.procedure?.isLocal||!0};console.log("Extracted actual procedure for editing:",Ee),v.value=Ee,f.value=!0},ke=async me=>{if(!i.value?.id||i.value.id==="0"){bt("Please select a valid treatment plan first","error");return}try{console.log("Duplicating procedure:",me);const Ee=me.procedureId||me.procedure_id,nt=me.costEstimate||me.cost_estimate||0;if(!Ee){bt("Unable to determine procedure ID for duplication","error");return}const At=await p0(i.value.id,Ee,nt,"","","");if(At.error){console.error("Error duplicating procedure:",At.error),bt("Failed to duplicate procedure","error");return}await ne();const St=me.procedure?.procedure_name||me.procedureName||me.procedure_name||"procedure";bt(`"${St}" duplicated successfully`,"success")}catch(Ee){console.error("Error duplicating procedure:",Ee),bt("Failed to duplicate procedure","error")}},Se=async me=>{if(console.log("New procedure created:",me),console.log("Local treatment plan:",i.value),console.log("Procedure ID:",me.id),console.log("Procedure cost:",me.cost),!i.value.id||i.value.id==="0"){console.error("No valid treatment plan selected"),bt("Please select a valid treatment plan first","error");return}if(!me.id){console.error("No procedure ID received from creation"),bt("Procedure was created but ID is missing","error");return}try{console.log("Making API call with:",{treatmentPlanId:i.value.id,procedureId:me.id,costEstimate:me.cost,notes:""});const Ee=await p0(i.value.id,me.id,me.cost,"","","");if(console.log("API response:",Ee),Ee.error){console.error("API error details:",Ee.error);const nt=Ee.error.response?.data?.error||Ee.error.message||"Failed to link procedure to treatment plan";throw new Error(nt)}await ne(),bt("Procedure added to treatment plan successfully","success")}catch(Ee){console.error("Error linking procedure to treatment plan:",Ee),console.error("Error stack:",Ee.stack);let nt="Failed to add procedure to treatment plan";Ee.message&&(nt=Ee.message),bt(nt,"error")}},st=()=>{u.value=!1},je=()=>{f.value=!1,v.value=null},Ve=me=>{h.value=me,m.value=!0},Te=()=>{m.value=!1,h.value=null},Le=async me=>{console.log("Procedure treatment deleted:",me),await ne(),bt("Procedure removed from treatment plan successfully","success")},ht=()=>{B.value||(E.value||(_.value={treatmentPlanName:i.value.treatmentPlanName||"",status:i.value.status||"proposed",startDate:i.value.startDate||"",endDate:i.value.endDate||"",followupDate:i.value.followupDate||"",notes:i.value.notes||"",isReminded:i.value.isReminded||!1}),E.value=!E.value)},Ct=async()=>{if(!i.value?.id||i.value.id==="0"){bt("Please select a valid treatment plan first","error");return}if(!_.value.treatmentPlanName?.trim()){bt("Treatment plan name is required","error");return}B.value=!0;try{const me=await Bt.put(`/treatmentplan/${i.value.id}`,{treatmentplan_name:_.value.treatmentPlanName,status:_.value.status,start_date:_.value.startDate||null,end_date:_.value.endDate||null,followup_date:_.value.followupDate||null,notes:_.value.notes||"",isReminded:_.value.isReminded||!1});if(!me.data.success)throw new Error(me.data.error||"Failed to update treatment plan");E.value=!1,_.value={},await Dt(),bt("Treatment plan updated successfully","success")}catch(me){console.error("Error saving treatment plan changes:",me),bt("Failed to update treatment plan","error")}finally{B.value=!1}},Dt=async()=>{try{const me=await bA(i.value.id);if(me.error)throw new Error(me.error||"Failed to fetch treatment plan details");const Ee=Gn.cloneDeep(me.data);i.value=Ee,await ne(),await X(),r("update:treatmentPlan",Ee),console.log("Emitted fresh treatment plan data to parent:",Ee)}catch(me){console.error("Error refreshing treatment plan data after save:",me),r("update:treatmentPlan",Gn.cloneDeep(i.value))}},Je=async me=>{console.log("Procedure updated:",me),await ne(),bt("Procedure updated successfully","success")},Oe=()=>{if(!c.value)return;const me=Ee=>{const nt=Ee.start_date||Ee.startDate,At=Ee.created_at||Ee.createdAt;return nt?new Date(nt):At?new Date(At):new Date(0)};c.value.forEach(Ee=>{if(!I.value.has(Ee.id)){const nt=Ee.start_date||Ee.startDate;I.value.set(Ee.id,{status:Ee.status?.toLowerCase(),date:me(Ee),startDate:nt||null})}})},it=async me=>{if(!i.value?.id||i.value.id==="0"){bt("Please select a valid treatment plan first","error");return}me.isUpdating=!0;try{console.log("Updating procedure treatment progress:",me),console.log("Procedure treatment keys:",Object.keys(me)),console.log("Treatment procedure ID:",me.id);const Ee=me.id;if(!Ee)throw console.error("No treatment procedure ID found in procedure treatment object"),new Error("Treatment procedure ID not found in treatment data");const nt={cost_estimate:me.costEstimate||me.cost_estimate||0,notes:me.notes||"",location:me.location||"",status:me.status||"proposed",start_date:me.startDate||"",end_date:me.endDate||""};console.log("Sending update with treatmentProcedureId:",Ee,"updateData:",nt);const At=await oE(i.value.id,Ee,nt);if(At.error)throw new Error(At.error.message||"Failed to update procedure treatment");console.log("Update response:",At),I.value.delete(me.id),await ne(),bt("Procedure progress updated successfully","success")}catch(Ee){console.error("Error updating procedure treatment:",Ee),bt("Failed to update procedure progress","error")}finally{me.isUpdating=!1}},at=me=>{switch(me?.toLowerCase()){case"proposed":return"grey";case"ongoing":return"primary";case"completed":return"success";case"on_hold":return"warning";case"cancelled":return"error";default:return"grey"}},Xe=me=>{const Ee=new Set(k.value);Ee.has(me)?Ee.delete(me):Ee.add(me),k.value=Ee},Ut=me=>k.value.has(me),Yt=me=>{try{return new Date(me).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch{return me}},bt=(me,Ee="success")=>{M.value={show:!0,text:me,color:Ee}},cn=me=>{F.value=me,C.value=!0},ln=me=>{console.log("Progress notes transcription completed:",me),me&&me.trim()&&F.value&&(F.value.notes&&F.value.notes.trim()?F.value.notes+=" "+me:F.value.notes=me),C.value=!1,F.value=null},an=()=>"primary",zt=me=>{me.scalePercentage===void 0&&(me.scalePercentage=100),me.finalCost===void 0&&(me.finalCost=me.costEstimate||me.cost_estimate||me.procedure?.cost||0),me.option===void 0&&(me.option=me.option||""),me.isSelected===void 0&&(me.isSelected=!0),me.status===void 0&&(me.status="proposed"),me.startDate===void 0&&(me.startDate=""),me.endDate===void 0&&(me.endDate=""),me.notes===void 0&&(me.notes=""),me.isUpdating===void 0&&(me.isUpdating=!1)},$t=me=>{console.log("Treatment plan PDF generated:",me)},Ke=async()=>{if(!s.value){console.warn("Doctor ID not available for loading print configurations"),R.value={};return}try{const{fetchPrintConfigs:me}=await Ca(async()=>{const{fetchPrintConfigs:nt}=await Promise.resolve().then(()=>Mge);return{fetchPrintConfigs:nt}},void 0),Ee=await me(s.value);R.value=Ee.data||{}}catch(me){console.error("Error loading print configurations:",me),R.value={}}};return fn(()=>{Y(),ae(),Ke(),i.value?.id&&i.value.id!=="0"&&ne()}),(me,Ee)=>{const nt=D("v-tab"),At=D("v-tooltip"),St=D("v-tabs"),Qt=D("v-card"),Rt=D("v-col"),jt=D("v-row"),En=D("v-progress-circular"),hn=D("v-btn"),Ot=D("v-empty-state"),mn=D("v-card-subtitle"),Ce=D("v-chip"),Re=D("v-icon"),pe=D("v-text-field"),Ie=D("v-select"),Me=D("v-switch"),de=D("v-textarea"),fe=D("v-form"),Ze=D("v-expand-transition"),Ye=D("v-card-text"),dt=D("v-divider"),ct=D("v-checkbox"),lt=D("v-alert"),xt=D("v-tabs-window-item"),vt=D("v-tabs-window"),_t=D("v-dialog"),Lt=D("v-snackbar");return V(),ye(ze,null,[l(jt,{"no-gutters":""},{default:d(()=>[l(Rt,null,{default:d(()=>[l(Qt,{rounded:"0",class:"pa-1 patient-header-style",elevation:"0"},{default:d(()=>[l(St,{modelValue:o.value,"onUpdate:modelValue":[Ee[0]||(Ee[0]=qe=>o.value=qe),oe],"align-tabs":"center",density:"compact",class:"interactive-tabs"},{default:d(()=>[l(At,{text:"Treatment Plan"},{activator:d(({props:qe})=>[l(nt,Ne({value:"plan"},qe,{class:["tab-interactive",{"tab-active":o.value==="plan"}],tabindex:"-1"}),{default:d(()=>[...Ee[14]||(Ee[14]=[p("div",{class:"tab-content"}," PLAN ",-1)])]),_:1},16,["class"])]),_:1}),l(At,{text:"Treatment Progress"},{activator:d(({props:qe})=>[l(nt,Ne({value:"progress"},qe,{class:["tab-interactive",{"tab-active":o.value==="progress"}],tabindex:"-1"}),{default:d(()=>[...Ee[15]||(Ee[15]=[p("div",{class:"tab-content"}," PROGRESS ",-1)])]),_:1},16,["class"])]),_:1}),l(At,{text:"Share Treatment Plan"},{activator:d(({props:qe})=>[l(nt,Ne({value:"share"},qe,{class:["tab-interactive",{"tab-active":o.value==="share"}],tabindex:"-1"}),{default:d(()=>[...Ee[16]||(Ee[16]=[p("div",{class:"tab-content"}," SHARE PLAN ",-1)])]),_:1},16,["class"])]),_:1}),l(At,{text:"Uploads"},{activator:d(({props:qe})=>[l(nt,Ne({value:"uploads"},qe,{class:["tab-interactive",{"tab-active":o.value==="uploads"}],tabindex:"-1"}),{default:d(()=>[...Ee[17]||(Ee[17]=[p("div",{class:"tab-content"}," UPLOADS ",-1)])]),_:1},16,["class"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(vt,{modelValue:o.value,"onUpdate:modelValue":Ee[8]||(Ee[8]=qe=>o.value=qe),class:"flex-grow-1"},{default:d(()=>[!e.treatmentPlan?.id&&o.value!=="uploads"?(V(),he(jt,{key:0,"no-gutters":""},{default:d(()=>[l(Rt,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[l(En,{indeterminate:"",color:"primary"})]),_:1})]),_:1})):e.treatmentPlan.id=="0"&&o.value!=="uploads"?(V(),he(jt,{key:1,"no-gutters":""},{default:d(()=>[l(Rt,{cols:"12",class:"d-flex justify-center align-center",style:{height:"100%"}},{default:d(()=>[l(Ot,null,{title:d(()=>[...Ee[18]||(Ee[18]=[p("div",{class:"text-subtitle-2"}," No treatment plan selected ",-1)])]),text:d(()=>[p("div",MEe,[Ee[20]||(Ee[20]=Q(" Create a new treatment plan or select an existing one ",-1)),Ee[21]||(Ee[21]=p("br",null,null,-1)),l(hn,{class:"mt-2",onClick:q},{default:d(()=>[...Ee[19]||(Ee[19]=[Q("Create Treatment Plan",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})):Be("",!0),l(xt,{value:"plan",class:"h-100"},{default:d(()=>[e.treatmentPlan?.id&&e.treatmentPlan.id!=="0"?(V(),he(jt,{key:0,"no-gutters":"",class:"h-100"},{default:d(()=>[l(Rt,{cols:"12",class:"scroll-element",style:{"padding-bottom":"20px"}},{default:d(()=>[l(Qt,{class:"form-section-card card-status-default mx-2 my-1 pa-3",elevation:"2"},{default:d(()=>[l(jt,{"no-gutters":"",class:"procedure-header",style:{cursor:"pointer"},onClick:ht},{default:d(()=>[l(Rt,{cols:"10",class:"d-flex align-center"},{default:d(()=>[p("div",OEe,[l(mn,{class:"pa-0"},{default:d(()=>[...Ee[22]||(Ee[22]=[p("strong",null,"Treatment Plan",-1)])]),_:1}),l(Ce,{color:"primary","text-color":"black",size:"small",density:"compact"},{default:d(()=>[p("strong",null,J(i.value?.treatmentPlanName||"New Treatment Plan"),1)]),_:1}),l(Ce,{size:"small",color:an(),variant:"outlined",density:"compact"},{default:d(()=>[Q(J((i.value?.status||"proposed").charAt(0).toUpperCase()+(i.value?.status||"proposed").slice(1)),1)]),_:1},8,["color"]),i.value?.startDate?(V(),he(Ce,{key:0,size:"small",variant:"outlined",color:"primary",density:"compact"},{default:d(()=>[Q(" Start: "+J(We(ji)(i.value.startDate)),1)]),_:1})):Be("",!0),i.value?.endDate?(V(),he(Ce,{key:1,size:"small",variant:"outlined",color:"primary",density:"compact"},{default:d(()=>[Q(" End: "+J(We(ji)(i.value.endDate)),1)]),_:1})):Be("",!0),i.value?.followupDate?(V(),he(Ce,{key:2,size:"small",variant:"outlined",color:"secondary",density:"compact"},{default:d(()=>[Q(" Follow-up: "+J(We(ji)(i.value.followupDate)),1)]),_:1})):Be("",!0)])]),_:1}),l(Rt,{cols:"2",class:"d-flex flex-column justify-center align-center"},{default:d(()=>[l(At,{text:E.value?"Collapse":"Edit Treatment Plan"},{activator:d(({props:qe})=>[l(Re,Ne(qe,{size:"small",color:"primary",class:"expand-hint",disabled:!e.treatmentPlan?.id||e.treatmentPlan.id==="0"||B.value}),{default:d(()=>[Q(J(E.value?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1},16,["disabled"])]),_:1},8,["text"])]),_:1})]),_:1}),l(Ze,null,{default:d(()=>[E.value?(V(),ye("div",QEe,[l(fe,{onSubmit:Qn(Ct,["prevent"])},{default:d(()=>[l(jt,{"no-gutters":"",class:"mb-2 align-top"},{default:d(()=>[l(Rt,{cols:"6",class:"pr-2"},{default:d(()=>[l(pe,{modelValue:_.value.treatmentPlanName,"onUpdate:modelValue":Ee[1]||(Ee[1]=qe=>_.value.treatmentPlanName=qe),label:"Treatment Plan Name",variant:"outlined",density:"compact",required:""},null,8,["modelValue"])]),_:1}),l(Rt,{cols:"4",class:"pr-2"},{default:d(()=>[l(Ie,{modelValue:_.value.status,"onUpdate:modelValue":Ee[2]||(Ee[2]=qe=>_.value.status=qe),items:te,label:"Status",variant:"outlined",density:"compact",required:""},null,8,["modelValue"])]),_:1}),l(Rt,{cols:"2",class:"d-flex justify-center align-start"},{default:d(()=>[l(hn,{color:"primary",size:"small",type:"submit",loading:B.value,disabled:!_.value.treatmentPlanName},{default:d(()=>[...Ee[23]||(Ee[23]=[Q(" Save ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),l(jt,{"no-gutters":"",class:"mb-1"},{default:d(()=>[l(Rt,{cols:"3",class:"pr-1"},{default:d(()=>[l(pe,{modelValue:_.value.startDate,"onUpdate:modelValue":Ee[3]||(Ee[3]=qe=>_.value.startDate=qe),label:"Start Date",type:"date",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),l(Rt,{cols:"3",class:"px-1"},{default:d(()=>[l(pe,{modelValue:_.value.endDate,"onUpdate:modelValue":Ee[4]||(Ee[4]=qe=>_.value.endDate=qe),label:"End Date",type:"date",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),l(Rt,{cols:"3",class:"px-1"},{default:d(()=>[l(pe,{modelValue:_.value.followupDate,"onUpdate:modelValue":Ee[5]||(Ee[5]=qe=>_.value.followupDate=qe),label:"Follow-up Date",type:"date",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),l(Rt,{cols:"3",class:"pl-1 d-flex align-center"},{default:d(()=>[l(Me,{modelValue:_.value.isReminded,"onUpdate:modelValue":Ee[6]||(Ee[6]=qe=>_.value.isReminded=qe),label:_.value.isReminded?"Reminded":"Reminder Pending",color:"primary",density:"compact","hide-details":"","true-value":!0,"false-value":!1},null,8,["modelValue","label"])]),_:1})]),_:1}),l(jt,{"no-gutters":"",class:"mb-1"},{default:d(()=>[l(Rt,{cols:"12"},{default:d(()=>[l(de,{modelValue:_.value.notes,"onUpdate:modelValue":Ee[7]||(Ee[7]=qe=>_.value.notes=qe),label:"Notes",variant:"outlined",density:"compact",rows:"1","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])):Be("",!0)]),_:1}),c.value&&c.value.length>0?(V(),he(Qt,{key:0,class:rt(["cost-breakdown-card",{"mt-1":!E.value,"mt-2":E.value}]),color:"blue-grey-lighten-5",elevation:"0",rounded:"lg"},{default:d(()=>[l(Ye,{class:"pa-3"},{default:d(()=>[l(jt,{"no-gutters":"",class:"justify-space-between align-center"},{default:d(()=>[l(Rt,null,{default:d(()=>[p("div",HEe,[Ee[24]||(Ee[24]=p("p",{class:"text-caption text-medium-emphasis mb-0"},"Base Cost",-1)),p("p",KEe,""+J(O.value.toLocaleString()),1)])]),_:1}),l(Rt,null,{default:d(()=>[p("div",GEe,[Ee[25]||(Ee[25]=p("p",{class:"text-caption text-medium-emphasis mb-0"},"Final Cost",-1)),p("p",zEe,""+J(W.value.toLocaleString()),1)])]),_:1}),l(Rt,null,{default:d(()=>[p("div",$Ee,[Ee[26]||(Ee[26]=p("p",{class:"text-caption text-medium-emphasis mb-0"},"Amount Due",-1)),p("p",WEe,""+J(le.value.toLocaleString()),1)])]),_:1}),l(Rt,null,{default:d(()=>[p("div",jEe,[Ee[27]||(Ee[27]=p("p",{class:"text-caption text-medium-emphasis mb-0"},"Amount Paid",-1)),p("p",JEe,""+J(K.value.toLocaleString()),1)])]),_:1}),l(Rt,null,{default:d(()=>[p("div",qEe,[Ee[28]||(Ee[28]=p("p",{class:"text-caption text-medium-emphasis mb-0"},"Amount Pending",-1)),p("p",{class:rt(["text-body-2 font-weight-medium mb-0",ee.value>0?"text-error":"text-success"])}," "+J(ee.value.toLocaleString()),3)])]),_:1})]),_:1}),O.value!==W.value?(V(),he(jt,{key:0,"no-gutters":"",class:"justify-space-between align-center mt-2"},{default:d(()=>[l(Rt),l(Rt,null,{default:d(()=>[p("div",YEe,[l(Ce,{size:"small",color:W.value<O.value?"success":"warning",variant:"outlined",density:"compact"},{default:d(()=>[Q(J(W.value<O.value?""+(O.value-W.value).toLocaleString()+" off":""+(W.value-O.value).toLocaleString()+" markup"),1)]),_:1},8,["color"])])]),_:1}),l(Rt),l(Rt),l(Rt)]),_:1})):Be("",!0)]),_:1})]),_:1},8,["class"])):Be("",!0)]),_:1}),l(Qt,{class:"form-section-card card-status-default mx-2 my-1 pa-3",elevation:"2"},{default:d(()=>[l(jt,{"no-gutters":""},{default:d(()=>[l(Rt,{cols:"12",class:"d-flex align-center"},{default:d(()=>[l(mn,{class:"pa-0"},{default:d(()=>[...Ee[29]||(Ee[29]=[p("strong",null,"Payment Information",-1)])]),_:1}),S.value&&S.value.length===0?(V(),ye("span",XEe,"- No payment receipts found")):Be("",!0)]),_:1})]),_:1}),S.value?S.value.length>0?(V(),ye("div",eBe,[(V(!0),ye(ze,null,Jt(S.value,qe=>(V(),he(Qt,{key:qe.id,class:"payment-receipt-card ma-1 pa-2",variant:"outlined",rounded:"md"},{default:d(()=>[l(jt,{"no-gutters":"",align:"center"},{default:d(()=>[l(Rt,null,{default:d(()=>[p("div",tBe,[p("span",nBe,J(qe.identifier),1),l(dt,{vertical:"",class:"mx-2"}),p("span",rBe,J(Yt(qe.paymentReceiptDate)),1),l(dt,{vertical:"",class:"mx-2"}),p("span",aBe,[Ee[30]||(Ee[30]=p("strong",null,"Total:",-1)),Q(" "+J((qe.totalAmount||0).toLocaleString()),1)]),l(dt,{vertical:"",class:"mx-2"}),p("span",sBe,[Ee[31]||(Ee[31]=p("strong",null,"Paid:",-1)),Q(" "+J((qe.totalPaid||0).toLocaleString()),1)]),qe.balanceDue>0?(V(),ye(ze,{key:0},[l(dt,{vertical:"",class:"mx-2"}),p("span",oBe,[Ee[32]||(Ee[32]=p("strong",null,"Balance:",-1)),Q(" "+J(qe.balanceDue.toLocaleString()),1)])],64)):(V(),ye(ze,{key:1},[l(dt,{vertical:"",class:"mx-2"}),l(Ce,{size:"x-small",color:"success",variant:"outlined",class:"receipt-status"},{default:d(()=>[...Ee[33]||(Ee[33]=[Q(" Paid ",-1)])]),_:1})],64))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])):Be("",!0):(V(),ye("div",ZEe,[l(En,{indeterminate:"",color:"primary",size:"24"})]))]),_:1}),l(Qt,{class:"form-section-card card-status-default mx-2 my-1 pa-3",elevation:"2"},{default:d(()=>[l(jt,{"no-gutters":""},{default:d(()=>[l(Rt,{cols:"6",class:"d-flex align-top"},{default:d(()=>[l(mn,{class:"pa-0"},{default:d(()=>[...Ee[34]||(Ee[34]=[p("strong",null,"Procedures",-1)])]),_:1})]),_:1}),l(Rt,{cols:"6",class:"d-flex justify-end align-center mb-2 gap-2"},{default:d(()=>[l(At,{text:"Create Procedure"},{activator:d(({props:qe})=>[l(hn,Ne({variant:"outlined",size:"small",class:"d-flex align-center justify-center btn-hover-enhanced"},qe,{onClick:we,disabled:!e.treatmentPlan?.id||e.treatmentPlan.id==="0"}),{default:d(()=>[l(Re,{start:""},{default:d(()=>[...Ee[35]||(Ee[35]=[p("img",{src:PE,alt:"Create Procedure"},null,-1)])]),_:1}),Ee[36]||(Ee[36]=Q(" Create Procedure ",-1))]),_:1},16,["disabled"])]),_:1})]),_:1})]),_:1}),l(jt,{"no-gutters":""},{default:d(()=>[l(Rt,{cols:"1"}),l(Rt,{cols:"10"},{default:d(()=>[l(VEe,{onHandleSearchedProcedures:z,onAddProcedure:we})]),_:1})]),_:1}),A.value&&A.value.length>0?(V(),ye("div",iBe,[l(jt,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(Rt,{cols:"8"},{default:d(()=>[p("h6",lBe,"Selected Procedures ("+J(A.value.filter(qe=>qe.isSelected).length)+")",1)]),_:1}),l(Rt,{cols:"4",class:"d-flex justify-end align-center"},{default:d(()=>[l(hn,{color:"primary",size:"small",class:"btn-hover-enhanced",onClick:_e,loading:b.value,disabled:A.value.filter(qe=>qe.isSelected).length===0},{default:d(()=>[...Ee[37]||(Ee[37]=[Q(" Save to Treatment Plan ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),(V(!0),ye(ze,null,Jt(A.value,qe=>(V(),ye("div",{key:qe.stagingId,class:"staging-row pa-3 mb-2",style:{border:"2px dashed rgba(var(--v-theme-primary), 0.3)","border-radius":"8px","background-color":"rgba(var(--v-theme-primary), 0.05)"}},[l(jt,{"no-gutters":""},{default:d(()=>[l(Rt,{cols:"3",class:"d-flex flex-column justify-start align-start"},{default:d(()=>[p("div",cBe,[p("h5",uBe,J(qe.procedureName||"Unknown Procedure"),1),l(Re,{size:"small",class:"text-medium-emphasis"},{default:d(()=>[p("img",{src:qe.isLocal?We(Xc):We(th),alt:qe.isLocal?"Local":"Server"},null,8,dBe)]),_:2},1024)])]),_:2},1024),l(Rt,{cols:"2",class:"px-2"},{default:d(()=>[Ee[38]||(Ee[38]=p("div",{class:"text-caption text-medium-emphasis"},"Location",-1)),l(pe,{modelValue:qe.location,"onUpdate:modelValue":Wt=>qe.location=Wt,variant:"underlined",density:"compact",placeholder:"e.g.#14,left leg","hide-details":"",class:"location-input"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"2",class:"px-2"},{default:d(()=>[Ee[39]||(Ee[39]=p("div",{class:"text-caption text-medium-emphasis"},"Option",-1)),l(Ie,{modelValue:qe.option,"onUpdate:modelValue":Wt=>qe.option=Wt,variant:"underlined",density:"compact",items:["","A","B","C","D"],placeholder:"Select","hide-details":"",class:"option-select"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"2",class:"px-2"},{default:d(()=>[Ee[40]||(Ee[40]=p("div",{class:"text-caption text-medium-emphasis"},"Base Cost",-1)),l(pe,{modelValue:qe.cost,"onUpdate:modelValue":Wt=>qe.cost=Wt,modelModifiers:{number:!0},variant:"underlined",density:"compact",type:"number",min:"0",step:"0.01",prefix:"","hide-details":"",class:"base-cost-input",placeholder:qe.isLocal?"Set cost":"Server procedure",onInput:Wt=>qe.costEstimate=qe.cost},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput"])]),_:2},1024),l(Rt,{cols:"2",class:"px-2"},{default:d(()=>[Ee[41]||(Ee[41]=p("div",{class:"text-caption text-medium-emphasis"},"Estimate Cost",-1)),l(pe,{modelValue:qe.costEstimate,"onUpdate:modelValue":Wt=>qe.costEstimate=Wt,modelModifiers:{number:!0},variant:"underlined",density:"compact",type:"number",min:"0",step:"0.01",prefix:"","hide-details":"",class:"final-cost-input"},null,8,["modelValue","onUpdate:modelValue"]),qe.cost&&qe.costEstimate!==qe.cost?(V(),he(Ce,{key:0,size:"small",color:qe.costEstimate<qe.cost?"success":"warning",variant:"outlined",density:"comfortable",class:"mt-1"},{default:d(()=>[Q(J(qe.costEstimate<qe.cost?""+(qe.cost-qe.costEstimate).toLocaleString()+" off":""+(qe.costEstimate-qe.cost).toLocaleString()+" markup"),1)]),_:2},1032,["color"])):Be("",!0)]),_:2},1024),l(Rt,{cols:"1",class:"d-flex justify-end align-center"},{default:d(()=>[l(At,{text:"Remove from staging"},{activator:d(({props:Wt})=>[l(hn,Ne({size:"small",icon:"",variant:"plain",onClick:tn=>Pe(qe.stagingId),class:"edit-icon mr-2"},{ref_for:!0},Wt),{default:d(()=>[l(Re,{size:"small",color:"error"},{default:d(()=>[...Ee[42]||(Ee[42]=[Q("mdi-delete",-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(ct,{modelValue:qe.isSelected,"onUpdate:modelValue":Wt=>qe.isSelected=Wt,"true-value":!0,"false-value":!1,density:"compact","hide-details":"",class:"treatment-checkbox"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128))])):Be("",!0),A.value&&A.value.length>0&&c.value&&c.value.length>0?(V(),he(dt,{key:1,class:"mx-4 my-2"})):Be("",!0),j.value?(V(),he(lt,{key:2,type:"info",variant:"tonal",density:"compact",class:"mx-2 mb-2",icon:"mdi-information-outline",border:"start"},{default:d(()=>[...Ee[43]||(Ee[43]=[p("div",{class:"text-caption"}," Some procedures have options (A, B, C...) added to them. Please clear options once treatmentplan is finalized. ",-1)])]),_:1})):Be("",!0),p("div",ABe,[U.value&&U.value.length>0?(V(),he(jt,{key:0,"no-gutters":"",class:"mb-2"},{default:d(()=>[l(Rt,{cols:"8",class:"d-flex justify-start align-center"},{default:d(()=>[p("h6",fBe,"Saved Procedures ("+J(U.value.filter(qe=>qe.isSelected&&qe.status?.toLowerCase()!=="cancelled").length)+")",1)]),_:1}),l(Rt,{cols:"4",class:"d-flex justify-end align-center"},{default:d(()=>[l(hn,{color:"primary",size:"small",class:"btn-hover-enhanced",onClick:re,loading:B.value,disabled:!U.value||U.value.length===0},{default:d(()=>[...Ee[44]||(Ee[44]=[Q(" Save Changes ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})):Be("",!0),U.value&&U.value.length>0?(V(!0),ye(ze,{key:1},Jt(U.value,qe=>(V(),ye("div",{key:qe.id,class:"procedure-item-card pa-2 mb-1",style:{border:"1px solid rgba(var(--v-theme-outline), 0.12)","border-radius":"12px","background-color":"rgba(var(--v-theme-surface), 0.5)"}},[l(jt,{"no-gutters":"",align:"center"},{default:d(()=>[l(Rt,{cols:"5",class:"pr-2"},{default:d(()=>[p("div",mBe,[p("h6",hBe,J(qe.procedure?.procedure_name||qe.procedureName||qe.procedure_name||"Unknown Procedure"),1),l(At,{text:"Edit Procedure"},{activator:d(({props:Wt})=>[l(hn,Ne({size:"x-small",icon:"",variant:"text",onClick:tn=>He(qe),class:"edit-icon-btn"},{ref_for:!0},Wt),{default:d(()=>[l(Re,{size:"14",color:"primary"},{default:d(()=>[...Ee[45]||(Ee[45]=[p("img",{src:sm},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),qe.isLocal?(V(),he(At,{key:0,text:"Saved Procedure"},{activator:d(({props:Wt})=>[l(Re,Ne({size:"14",color:"success"},{ref_for:!0},Wt),{default:d(()=>[...Ee[46]||(Ee[46]=[p("img",{src:Xc,alt:"Saved"},null,-1)])]),_:1},16)]),_:1})):Be("",!0)]),p("div",vBe," Base Cost "+J((qe.procedureCost||0).toLocaleString()),1)]),_:2},1024),l(Rt,{cols:"2",class:"px-1"},{default:d(()=>[Ee[47]||(Ee[47]=p("div",{class:"text-caption text-medium-emphasis mb-1"},"Location",-1)),l(pe,{modelValue:qe.location,"onUpdate:modelValue":Wt=>qe.location=Wt,variant:"outlined",density:"compact",placeholder:"e.g.#14,left leg","hide-details":"",class:"location-input-field"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"2",class:"px-1"},{default:d(()=>[Ee[48]||(Ee[48]=p("div",{class:"text-caption text-medium-emphasis mb-1"},"Option",-1)),l(Ie,{modelValue:qe.option,"onUpdate:modelValue":Wt=>qe.option=Wt,variant:"outlined",density:"compact",items:["","A","B","C","D"],placeholder:"Select","hide-details":"",class:"option-select-field"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"2",class:"px-1"},{default:d(()=>[Ee[49]||(Ee[49]=p("div",{class:"text-caption text-medium-emphasis mb-1"},"Final Cost",-1)),l(pe,{modelValue:qe.costEstimate,"onUpdate:modelValue":Wt=>qe.costEstimate=Wt,modelModifiers:{number:!0},variant:"outlined",density:"compact",type:"number",min:"0",step:"0.01",prefix:"","hide-details":"",class:"final-cost-input-field",onBlur:Wt=>be(qe)},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),_:2},1024),l(Rt,{cols:"1",class:"pl-1 d-flex justify-end align-center"},{default:d(()=>[p("div",pBe,[l(At,{text:"Duplicate Procedure"},{activator:d(({props:Wt})=>[l(hn,Ne({size:"small",icon:"",variant:"text",onClick:tn=>ke(qe),class:"edit-icon-btn"},{ref_for:!0},Wt),{default:d(()=>[l(Re,{size:"18",color:"primary"},{default:d(()=>[...Ee[50]||(Ee[50]=[p("img",{src:PE},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024),l(At,{text:"Remove Procedure"},{activator:d(({props:Wt})=>[l(hn,Ne({size:"small",icon:"",variant:"text",onClick:tn=>Ve(qe),class:"edit-icon-btn"},{ref_for:!0},Wt),{default:d(()=>[l(Re,{size:"18",color:"error"},{default:d(()=>[...Ee[51]||(Ee[51]=[p("img",{src:zu},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024)])]),_:2},1024)]),_:2},1024),l(jt,{"no-gutters":"",align:"center",class:"mt-1"},{default:d(()=>[l(Rt,{cols:"6",class:"pr-2"},{default:d(()=>[p("div",gBe,[l(Ce,{size:"small",color:at(qe.status),variant:"outlined",density:"compact",class:"text-caption"},{default:d(()=>[Q(J((qe.status||"proposed").charAt(0).toUpperCase()+(qe.status||"proposed").slice(1).replace("_"," ")),1)]),_:2},1032,["color"])])]),_:2},1024),l(Rt,{cols:"2",class:"px-1"}),l(Rt,{cols:"2",class:"px-1"},{default:d(()=>[qe.procedureCost&&qe.costEstimate!==qe.procedureCost?(V(),he(Ce,{key:0,size:"small",color:qe.costEstimate<qe.procedureCost?"success":"warning",variant:"outlined",density:"compact",class:"text-caption"},{default:d(()=>[Q(J(qe.costEstimate<qe.procedureCost?""+(qe.procedureCost-qe.costEstimate).toLocaleString()+" off":""+(qe.costEstimate-qe.procedureCost).toLocaleString()+" markup"),1)]),_:2},1032,["color"])):Be("",!0)]),_:2},1024),l(Rt,{cols:"2",class:"pl-1"})]),_:2},1024)]))),128)):(V(),ye("div",yBe,[Ee[55]||(Ee[55]=p("p",{class:"text-subtitle-1 text-medium-emphasis"},"No procedures added yet",-1)),Ee[56]||(Ee[56]=p("p",{class:"text-caption text-medium-emphasis"},"Add procedures to create a treatment plan",-1)),T.value&&T.value.length>0?(V(),ye("div",wBe,[Ee[53]||(Ee[53]=p("p",{class:"text-subtitle-2 text-medium-emphasis mb-3"},"Quick Start with Templates:",-1)),p("div",_Be,[(V(!0),ye(ze,null,Jt(T.value,qe=>(V(),he(Ce,{key:qe.id,loading:N.value,color:"primary",variant:"outlined",clickable:"",onClick:Wt=>ge(qe),class:"ma-1"},{default:d(()=>[l(Re,{start:"",size:"small"},{default:d(()=>[...Ee[52]||(Ee[52]=[Q("mdi-content-copy",-1)])]),_:1}),Q(" "+J(qe.treatmentPlanName)+" ",1),l(At,{activator:"parent",location:"bottom"},{default:d(()=>[p("div",null,[p("div",bBe,J(qe.treatmentPlanName),1),qe.procedures&&qe.procedures.length>0?(V(),ye("div",xBe,J(qe.procedures.length)+" procedure(s) ",1)):Be("",!0),qe.notes?(V(),ye("div",CBe,J(qe.notes),1)):Be("",!0)])]),_:2},1024)]),_:2},1032,["loading","onClick"]))),128))]),Ee[54]||(Ee[54]=p("p",{class:"text-caption text-medium-emphasis mt-2"},"Click a template to copy its procedures",-1))])):Be("",!0)]))])]),_:1})]),_:1})]),_:1})):Be("",!0)]),_:1}),l(xt,{value:"progress",class:"h-100"},{default:d(()=>[e.treatmentPlan?.id&&e.treatmentPlan.id!=="0"?(V(),he(jt,{key:0,"no-gutters":"",class:"h-100"},{default:d(()=>[l(Rt,{cols:"12",class:"scroll-element",style:{"padding-bottom":"20px"}},{default:d(()=>[G.value.unscheduled.length>0||G.value.dateGroups.length>0?(V(),ye(ze,{key:0},[G.value.unscheduled.length>0?(V(),ye("div",EBe,[p("div",BBe,[l(Ce,{color:"grey",variant:"elevated",size:"default",class:"date-chip-vertical","prepend-icon":"mdi-calendar-remove"},{default:d(()=>[...Ee[57]||(Ee[57]=[Q(" Unscheduled ",-1)])]),_:1}),l(dt,{class:"ml-4"})]),(V(!0),ye(ze,null,Jt(G.value.unscheduled,qe=>(V(),ye("div",{key:qe.id,class:"ma-2 mb-2"},[l(Qt,{class:"form-section-card card-status-default pa-3 treatment-row"},{default:d(()=>[l(jt,{"no-gutters":"",class:"mb-4 procedure-header",onClick:Wt=>Xe(qe.id),style:{cursor:"pointer"}},{default:d(()=>[l(Rt,{cols:"11",class:"d-flex flex-column justify-start align-start"},{default:d(()=>[p("div",SBe,[p("h5",kBe,J(qe.procedure?.procedure_name||qe.procedureName||qe.procedure_name||"Unknown Procedure"),1),qe.location?(V(),he(Ce,{key:0,size:"small",color:"blue-grey",variant:"outlined",density:"compact",style:{"margin-left":"2px"}},{default:d(()=>[Q(J(qe.location),1)]),_:2},1024)):Be("",!0),l(Ce,{size:"small",color:at(qe.status),variant:"outlined",density:"compact"},{default:d(()=>[Q(J((qe.status||"proposed").charAt(0).toUpperCase()+(qe.status||"proposed").slice(1).replace("_"," ")),1)]),_:2},1032,["color"])]),p("div",IBe,J(qe.procedure?.description||qe.description||qe.procedureDescription||""),1)]),_:2},1024),l(Rt,{cols:"1",class:"d-flex flex-column justify-center align-center"},{default:d(()=>[l(Re,{size:"small",color:"primary",class:"expand-hint"},{default:d(()=>[Q(J(Ut(qe.id)?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),l(Ze,null,{default:d(()=>[Tr(p("div",null,[l(jt,{"no-gutters":"",class:"mb-4 align-center"},{default:d(()=>[l(Rt,{cols:"12",md:"3",class:"pr-2"},{default:d(()=>[l(pe,{modelValue:qe.startDate,"onUpdate:modelValue":Wt=>qe.startDate=Wt,label:"Start Date",variant:"outlined",density:"compact",type:"date","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"12",md:"3",class:"px-1"},{default:d(()=>[l(pe,{modelValue:qe.endDate,"onUpdate:modelValue":Wt=>qe.endDate=Wt,label:"End Date",variant:"outlined",density:"compact",type:"date","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"12",md:"2",class:"px-1"},{default:d(()=>[l(Ie,{modelValue:qe.status,"onUpdate:modelValue":Wt=>qe.status=Wt,label:"Status",variant:"outlined",density:"compact",items:se,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"12",md:"4",class:"d-flex justify-end gap-2 pl-2"},{default:d(()=>[l(hn,{color:"primary",variant:"flat",size:"small",class:"btn-hover-enhanced",loading:qe.isUpdating,onClick:Qn(Wt=>it(qe),["stop"])},{default:d(()=>[...Ee[58]||(Ee[58]=[Q(" Save ",-1)])]),_:1},8,["loading","onClick"])]),_:2},1024)]),_:2},1024),l(jt,{"no-gutters":"",class:"mt-4"},{default:d(()=>[l(Rt,{cols:"12"},{default:d(()=>[l(jt,{"no-gutters":"",class:"mb-2 mx-2"},{default:d(()=>[l(Rt,{cols:"11"},{default:d(()=>[l(de,{modelValue:qe.notes,"onUpdate:modelValue":Wt=>qe.notes=Wt,label:"Notes",variant:"underlined",density:"compact",rows:"2","auto-grow":"",clearable:"","hide-details":"",placeholder:"Add notes about procedure progress..."},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"1",class:"d-flex align-center justify-center"},{default:d(()=>[l(At,{text:"Voice Input"},{activator:d(({props:Wt})=>[l(hn,Ne({icon:"mdi-microphone",rounded:"xls",variant:"flat",color:"primary",size:"small"},{ref_for:!0},Wt,{onClick:tn=>cn(qe),tabindex:"-1",class:"dictation-btn"}),null,16,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)],512),[[Po,Ut(qe.id)]])]),_:2},1024)]),_:2},1024)]))),128))])):Be("",!0),(V(!0),ye(ze,null,Jt(G.value.dateGroups,(qe,Wt)=>(V(),ye("div",{key:`date-${Wt}`,class:"date-section mb-4"},[p("div",TBe,[l(Ce,{color:"primary",variant:"elevated",size:"default",class:"date-chip-vertical","prepend-icon":"mdi-calendar",title:qe.fullDate||qe.date},{default:d(()=>[Q(J(qe.date),1)]),_:2},1032,["title"]),l(dt,{class:"ml-4"})]),(V(!0),ye(ze,null,Jt(qe.procedures,tn=>(V(),ye("div",{key:tn.id,class:"ma-2 mb-2"},[l(Qt,{class:"form-section-card card-status-default pa-3 treatment-row"},{default:d(()=>[l(jt,{"no-gutters":"",class:"mb-4 procedure-header",onClick:Kn=>Xe(tn.id),style:{cursor:"pointer"}},{default:d(()=>[l(Rt,{cols:"11",class:"d-flex flex-column justify-start align-start"},{default:d(()=>[p("div",FBe,[p("h5",PBe,J(tn.procedure?.procedure_name||tn.procedureName||tn.procedure_name||"Unknown Procedure"),1),tn.location?(V(),he(Ce,{key:0,size:"small",color:"blue-grey",variant:"outlined",density:"compact",style:{"margin-left":"2px"}},{default:d(()=>[Q(J(tn.location),1)]),_:2},1024)):Be("",!0),l(Ce,{size:"small",color:at(tn.status),variant:"outlined",density:"compact"},{default:d(()=>[Q(J((tn.status||"proposed").charAt(0).toUpperCase()+(tn.status||"proposed").slice(1).replace("_"," ")),1)]),_:2},1032,["color"])]),p("div",DBe,J(tn.procedure?.description||tn.description||tn.procedureDescription||""),1)]),_:2},1024),l(Rt,{cols:"1",class:"d-flex flex-column justify-center align-center"},{default:d(()=>[l(Re,{size:"small",color:"primary",class:"expand-hint"},{default:d(()=>[Q(J(Ut(tn.id)?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),l(Ze,null,{default:d(()=>[Tr(p("div",null,[l(jt,{"no-gutters":"",class:"mb-4 align-center"},{default:d(()=>[l(Rt,{cols:"12",md:"3",class:"pr-2"},{default:d(()=>[l(pe,{modelValue:tn.startDate,"onUpdate:modelValue":Kn=>tn.startDate=Kn,label:"Start Date",variant:"outlined",density:"compact",type:"date","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"12",md:"3",class:"px-1"},{default:d(()=>[l(pe,{modelValue:tn.endDate,"onUpdate:modelValue":Kn=>tn.endDate=Kn,label:"End Date",variant:"outlined",density:"compact",type:"date","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"12",md:"2",class:"px-1"},{default:d(()=>[l(Ie,{modelValue:tn.status,"onUpdate:modelValue":Kn=>tn.status=Kn,label:"Status",variant:"outlined",density:"compact",items:se,"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"12",md:"4",class:"d-flex justify-end gap-2 pl-2"},{default:d(()=>[l(hn,{color:"primary",variant:"flat",size:"small",class:"btn-hover-enhanced",loading:tn.isUpdating,onClick:Qn(Kn=>it(tn),["stop"])},{default:d(()=>[...Ee[59]||(Ee[59]=[Q(" Save ",-1)])]),_:1},8,["loading","onClick"])]),_:2},1024)]),_:2},1024),l(jt,{"no-gutters":"",class:"mt-4"},{default:d(()=>[l(Rt,{cols:"12"},{default:d(()=>[l(jt,{"no-gutters":"",class:"mb-2 mx-2"},{default:d(()=>[l(Rt,{cols:"11"},{default:d(()=>[l(de,{modelValue:tn.notes,"onUpdate:modelValue":Kn=>tn.notes=Kn,label:"Notes",variant:"underlined",density:"compact",rows:"2","auto-grow":"",clearable:"","hide-details":"",placeholder:"Add notes about procedure progress..."},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(Rt,{cols:"1",class:"d-flex align-center justify-center"},{default:d(()=>[l(At,{text:"Voice Input"},{activator:d(({props:Kn})=>[l(hn,Ne({icon:"mdi-microphone",rounded:"xls",variant:"flat",color:"primary",size:"small"},{ref_for:!0},Kn,{onClick:Ws=>cn(tn),tabindex:"-1",class:"dictation-btn"}),null,16,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)],512),[[Po,Ut(tn.id)]])]),_:2},1024)]),_:2},1024)]))),128))]))),128))],64)):(V(),ye("div",UBe,[l(Re,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...Ee[60]||(Ee[60]=[p("img",{src:FE},null,-1)])]),_:1}),Ee[61]||(Ee[61]=p("p",{class:"text-subtitle-1 text-medium-emphasis"},"No procedures to track",-1)),Ee[62]||(Ee[62]=p("p",{class:"text-caption text-medium-emphasis"},"Add procedures to the treatment plan first",-1))]))]),_:1})]),_:1})):Be("",!0)]),_:1}),l(xt,{value:"share",class:"h-100"},{default:d(()=>[e.treatmentPlan?.id&&e.treatmentPlan.id!=="0"?(V(),he(jt,{key:0,"no-gutters":"",class:"h-100"},{default:d(()=>[l(Rt,{cols:"12"},{default:d(()=>[l(Ep,{"content-type":"treatment-plan",data:{treatmentPlan:i.value,procedureTreatments:c.value,paymentReceipts:S.value,printConfigurations:R.value},patient:e.patient,onPdfGenerated:$t},null,8,["data","patient"])]),_:1})]),_:1})):Be("",!0)]),_:1}),l(xt,{value:"uploads",class:"h-100"},{default:d(()=>[l(jt,{"no-gutters":"","aria-label":"toolbar",class:"h-100"},{default:d(()=>[l(Rt,{cols:"12"},{default:d(()=>[l(bO,{procedure:i.value,patient:e.patient},null,8,["procedure","patient"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(_t,{modelValue:u.value,"onUpdate:modelValue":Ee[9]||(Ee[9]=qe=>u.value=qe),"max-width":"500px",persistent:""},{default:d(()=>[l(FEe,{onClose:st,"onUpdate:procedurelist":Se})]),_:1},8,["modelValue"]),l(_t,{modelValue:f.value,"onUpdate:modelValue":Ee[10]||(Ee[10]=qe=>f.value=qe),"max-width":"500px",persistent:""},{default:d(()=>[v.value?(V(),he(PEe,{key:0,procedure:v.value,onClose:je,onProcedureUpdated:Je},null,8,["procedure"])):Be("",!0)]),_:1},8,["modelValue"]),l(_t,{modelValue:m.value,"onUpdate:modelValue":Ee[11]||(Ee[11]=qe=>m.value=qe),"max-width":"500px",persistent:""},{default:d(()=>[h.value&&m.value?(V(),he(DEe,{key:0,"procedure-treatment":h.value,"treatment-plan-id":e.treatmentPlan?.id,onClose:Te,onDeleted:Le},null,8,["procedure-treatment","treatment-plan-id"])):Be("",!0)]),_:1},8,["modelValue"]),l(Ay,{modelValue:C.value,"onUpdate:modelValue":Ee[12]||(Ee[12]=qe=>C.value=qe),"current-text":F.value?.notes||"",label:"Progress Notes",onTranscriptionComplete:ln},null,8,["modelValue","current-text"]),l(Lt,{modelValue:M.value.show,"onUpdate:modelValue":Ee[13]||(Ee[13]=qe=>M.value.show=qe),color:M.value.color,class:"elevation-24"},{default:d(()=>[Q(J(M.value.text),1)]),_:1},8,["modelValue","color"])],64)}}},NBe=on(RBe,[["__scopeId","data-v-da143f9f"]]),LBe={class:"d-flex age-dob-container",style:{gap:"8px"}},VBe={class:"d-flex justify-center"},MBe={__name:"edit-patient-details",props:{patient:{type:Object,required:!0}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,a=H({id:n.patient.id,name:n.patient.name||"",age:n.patient.age||"",birthDate:"",gender:n.patient.gender||"",contactNumber:n.patient.contactNumber||"",email:n.patient.email||"",address:n.patient.address||"",note:n.patient.note||""}),s=H("dob"),o=H("");fn(()=>{if(n.patient.birthDate){let f="";typeof n.patient.birthDate=="string"?f=n.patient.birthDate:typeof n.patient.birthDate=="number"&&(f=NAe(n.patient.birthDate)),f&&(a.value.birthDate=f,s.value="dob")}else s.value="dob"}),Ge(s,f=>{f==="age"?(a.value.birthDate&&(o.value=a.value.birthDate),a.value.birthDate=""):o.value&&(a.value.birthDate=o.value)});const i=f=>{if(s.value==="dob")if(f){o.value=f;const m=rk(f);m!==null&&(a.value.age=m.toString())}else o.value=""},c=H(!1),A=()=>{r("close")},u=async()=>{const f={...a.value,name:a.value.name||"",age:a.value.age||"",gender:a.value.gender||"",contactNumber:a.value.contactNumber||"",email:a.value.email||"",address:a.value.address||"",note:a.value.note||""};if(s.value==="dob"&&f.birthDate){const v=Nu(f.birthDate);v!==null?f.birthDate=v.toString():f.birthDate=""}else delete f.birthDate;const m=await RAe(f);m&&!m.error?(console.log("Patient updated successfully"),r("close",a.value)):(console.error("Error updating patient"),r("close"))};return(f,m)=>{const v=D("v-card-title"),h=D("v-col"),y=D("v-icon"),w=D("v-btn"),b=D("v-row"),B=D("v-card"),S=D("v-text-field"),T=D("v-btn-toggle"),N=D("v-select"),k=D("v-textarea"),E=D("v-divider"),_=D("v-form");return V(),he(B,{rounded:"lg",color:"surfaceContainer"},{default:d(()=>[l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"12"},{default:d(()=>[l(B,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"11"},{default:d(()=>[l(v,{class:"pa-0 pl-2"},{default:d(()=>[...m[12]||(m[12]=[Q("Edit patient details",-1)])]),_:1})]),_:1}),l(h,{cols:"1",class:"d-flex justify-end align-center"},{default:d(()=>[l(w,{icon:"",size:"x-small",onClick:A},{default:d(()=>[l(y,null,{default:d(()=>[...m[13]||(m[13]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"12"},{default:d(()=>[l(B,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(_,{modelValue:c.value,"onUpdate:modelValue":m[11]||(m[11]=C=>c.value=C),"validate-on":"blur"},{default:d(()=>[l(b,{"no-gutters":""},{default:d(()=>[l(h,{cols:"12",class:"my-2"},{default:d(()=>[l(S,{label:"Name *",variant:"outlined",modelValue:a.value.name,"onUpdate:modelValue":m[0]||(m[0]=C=>a.value.name=C),clearable:"",density:"compact",rules:We(Ei)},null,8,["modelValue","rules"])]),_:1}),l(h,{cols:"12",class:"mb-2"},{default:d(()=>[l(S,{label:"Contact Number *",variant:"outlined",modelValue:a.value.contactNumber,"onUpdate:modelValue":m[1]||(m[1]=C=>a.value.contactNumber=C),type:"tel",rules:We(Bw),clearable:"",density:"compact"},null,8,["modelValue","rules"])]),_:1}),l(h,{cols:"12",class:"mb-2"},{default:d(()=>[p("div",LBe,[l(T,{modelValue:s.value,"onUpdate:modelValue":m[2]||(m[2]=C=>s.value=C),mandatory:"",density:"compact",variant:"outlined",divided:"",class:"age-dob-toggle"},{default:d(()=>[l(w,{value:"dob",size:"small"},{default:d(()=>[...m[14]||(m[14]=[Q("DOB",-1)])]),_:1}),l(w,{value:"age",size:"small"},{default:d(()=>[...m[15]||(m[15]=[Q("AGE",-1)])]),_:1})]),_:1},8,["modelValue"]),s.value==="age"?(V(),he(S,{key:0,label:"Age (yrs) *",variant:"outlined",modelValue:a.value.age,"onUpdate:modelValue":m[3]||(m[3]=C=>a.value.age=C),clearable:"",density:"compact",rules:We(ak),disabled:!!a.value.birthDate||!!o.value,class:"flex-grow-1"},null,8,["modelValue","rules","disabled"])):(V(),he(S,{key:1,label:"Date of Birth *",variant:"outlined",modelValue:a.value.birthDate,"onUpdate:modelValue":[m[4]||(m[4]=C=>a.value.birthDate=C),i],type:"date",clearable:"",density:"compact",rules:We(sk),class:"flex-grow-1 date-input",onClick:m[5]||(m[5]=C=>C.target.showPicker&&C.target.showPicker())},null,8,["modelValue","rules"]))])]),_:1}),l(h,{cols:"12",class:"mb-2"},{default:d(()=>[l(N,{modelValue:a.value.gender,"onUpdate:modelValue":m[6]||(m[6]=C=>a.value.gender=C),items:["Male","Female"],label:"Gender *",required:"",clearable:"",variant:"outlined",density:"compact",rules:We(ok)},null,8,["modelValue","rules"])]),_:1}),l(h,{cols:"12",class:"mb-2"},{default:d(()=>[l(S,{label:"Email (optional)",variant:"outlined",modelValue:a.value.email,"onUpdate:modelValue":m[7]||(m[7]=C=>a.value.email=C),clearable:"",density:"compact",rules:We(ik)},null,8,["modelValue","rules"])]),_:1}),l(h,{cols:"12",class:"mb-2"},{default:d(()=>[l(S,{label:"Address (optional)",variant:"outlined",modelValue:a.value.address,"onUpdate:modelValue":m[8]||(m[8]=C=>a.value.address=C),clearable:"",density:"compact"},null,8,["modelValue"])]),_:1}),l(h,{cols:"12",class:"mb-2"},{default:d(()=>[l(k,{label:"Patient Notes (optional)",variant:"outlined",modelValue:a.value.note,"onUpdate:modelValue":m[9]||(m[9]=C=>a.value.note=C),clearable:"",density:"compact",rows:"3","auto-grow":""},null,8,["modelValue"])]),_:1}),l(h,{cols:"12"},{default:d(()=>[l(E,{class:"mb-2"}),p("div",VBe,[l(w,{variant:"outlined",onClick:m[10]||(m[10]=C=>u()),disabled:!c.value},{default:d(()=>[...m[16]||(m[16]=[Q("Update Patient",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},OBe=on(MBe,[["__scopeId","data-v-9b0284ef"]]),QBe={__name:"delete-consultation",props:{deleteConsult:{type:Object,required:!0}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,a=H(n.deleteConsult),s=()=>{r("close")},o=async i=>{i.status="CANCELLED";const c=await m8(i);c.error?console.error("Consultation delete failed",c.error):console.error("Consultation delete successful"),s()};return(i,c)=>{const A=D("v-card-title"),u=D("v-col"),f=D("v-icon"),m=D("v-btn"),v=D("v-row"),h=D("v-card"),y=D("v-card-text"),w=D("v-divider");return V(),he(h,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(h,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"11"},{default:d(()=>[l(A,{class:"pa-0 pl-2"},{default:d(()=>[...c[1]||(c[1]=[Q("Confirm Consultation Delete",-1)])]),_:1})]),_:1}),l(u,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(m,{icon:"",size:"x-small",onClick:s},{default:d(()=>[l(f,null,{default:d(()=>[...c[2]||(c[2]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(h,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"12"},{default:d(()=>[l(y,{class:"text-left"},{default:d(()=>[...c[3]||(c[3]=[Q(" Are you sure you want to delete this consultation? You will not be able to recover data once deleted. ",-1)])]),_:1})]),_:1})]),_:1}),l(w),l(v,{"no-gutters":""},{default:d(()=>[l(u,{cols:"2"}),l(u,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(m,{variant:"outlined",onClick:c[0]||(c[0]=b=>o(a.value))},{default:d(()=>[...c[4]||(c[4]=[Q("Yes, Delete Consultation",-1)])]),_:1})]),_:1}),l(u,{cols:"2"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},HBe={class:"text-center"},KBe={class:"patient-header w-100"},GBe={class:"d-flex align-center flex-wrap justify-center"},zBe={class:"text-subtitle-2 ml-2 text-medium-emphasis"},$Be={key:0,class:"patient-note-inline-same-row"},WBe={class:"text-caption text-black font-style-italic"},jBe={key:1,class:"patient-note-inline-same-row",style:{opacity:"0.7"}},JBe={class:"scrollable-content"},qBe={class:"d-flex justify-start section-header"},YBe={class:"scroll-hover",style:{height:"calc(100% - 8px)"}},XBe={key:0},ZBe={key:1,class:"text-caption text-medium-emphasis"},eSe={class:"d-flex align-center justify-center"},tSe={key:2,class:"text-center pa-4"},nSe={class:"scroll-hover",style:{height:"calc(100% - 8px)"}},rSe={class:"text-caption text-medium-emphasis mb-1"},aSe={class:"d-flex align-center justify-center"},sSe={key:2,class:"text-center pa-4"},oSe={class:"scrollable-content"},iSe={__name:"patient-detail-page",setup(e){const t=pr(),n=zm(),r=au(),a=H(n.params.id),s=H([]),o=H([]),i=H(!0),c=H({}),A=H({}),u=H(!1),f=H(""),m=H(!1),v=H(""),h=Z(()=>t.state.doctorModule.doctorId),y=H(null),w=H(null),b=H(!0),B=Z(()=>t.getters["doctorModule/isProcedurePrimary"]),S=Z(()=>{const re=[],be=n.query.from;return be==="patients-landing-page"?re.push({text:"Patients",to:{path:"/patients"},icon:"mdi-arrow-left",iconClass:"mr-1"}):be==="research"?re.push({text:"Research",to:{path:"/research"},icon:"mdi-arrow-left",iconClass:"mr-1"}):be==="data"?re.push({text:"Data",to:{path:"/data"},icon:"mdi-arrow-left",iconClass:"mr-1"}):be==="home"?re.push({text:"Home",to:{path:"/home"},icon:"mdi-arrow-left",iconClass:"mr-1"}):re.push({text:"Patients",to:{path:"/patients"},icon:"mdi-arrow-left",iconClass:"mr-1"}),re}),T=H("consultations"),N=H([]),k=H({id:"0"}),E=H(!1),_=H(!1);Ge(h,async(re,be)=>{if(re&&be&&re!==be&&A.value?.id){console.log(" Doctor changed from",be,"to",re,"- refreshing consultations and procedures");try{const He=await oy(A.value.id,re);He.error||(s.value=Gn.cloneDeep(He.data)),await ge(),await oe(),k.value={id:"0"},E.value=!1}catch(He){console.error("Error refreshing data after doctor change:",He),m.value=!0,v.value="Failed to refresh data for new doctor"}}}),Al(async()=>{try{if(T.value=B.value?"procedures":"consultations",await U(),!a.value)throw new Error("No patient ID provided");if(!h.value)throw new Error("No doctor ID available - please select a doctor first");console.log(" Initializing patient detail page - Patient:",a.value,"Doctor:",h.value);const re=await nk(a.value);if(re.error)throw new Error(`Failed to load patient: ${re.error.message}`);A.value=Gn.cloneDeep(re.data),console.log(" Fetching consultations for patient:",A.value.id,"doctor:",h.value);const be=await oy(A.value.id,h.value);if(be.error)throw new Error(`Failed to load consultations: ${be.error.message}`);console.log(" Fetched consultations:",be.data),s.value=Gn.cloneDeep(be.data),te(),await ge(),await oe()}catch(re){console.error("Error in onBeforeMount:",re),w.value=re.message||"Failed to load patient data"}finally{b.value=!1}}),fn(async()=>{window.dispatchEvent(new CustomEvent("collapse-side-nav",{detail:!0})),console.log("Consultations on Mount",s.value),console.log("Patient Details on mount",A.value),document.addEventListener("keydown",G)}),Br(async()=>{window.dispatchEvent(new CustomEvent("collapse-side-nav",{detail:!1})),document.removeEventListener("keydown",G)});const C=H(!1),F=H(!1),I=re=>{if(!re){console.error("No consultation provided for deletion"),m.value=!0,v.value="Cannot delete: Invalid consultation";return}C.value=!0,y.value=re,console.log("Selected Consultation for Deletion:",re)},R=async()=>{try{y.value&&o.value&&y.value.id===o.value.id&&await oe(),C.value=!1,setTimeout(()=>{y.value=null},100)}catch(re){console.error("Error handling consultation delete close:",re),m.value=!0,v.value="Error refreshing after deletion",C.value=!1,setTimeout(()=>{y.value=null},100)}},M=async re=>{try{F.value=!1,re&&(A.value=Gn.cloneDeep(re),u.value=!0,f.value="Patient details updated successfully",console.log("Patient details updated:",re))}catch(be){console.error("Error updating patient details:",be),m.value=!0,v.value="Failed to update patient details"}},te=()=>{if(!Array.isArray(s.value)||s.value.length===0)return;s.value.length>50?window.requestIdleCallback?requestIdleCallback(()=>{re()}):setTimeout(()=>{re()},0):re();function re(){s.value.sort((be,He)=>!be.consultationDate&&!He.consultationDate?0:be.consultationDate?He.consultationDate?new Date(He.consultationDate)-new Date(be.consultationDate):-1:1),console.log(" Sorted consultations chronologically:",s.value)}},se=Z(()=>!Array.isArray(s.value)||s.value.length===0?!1:s.value.some(re=>re?.consultationDate&&ee(re))),O=re=>{if(!re)return 0;const be=new Date().toLocaleDateString("en-CA"),He=new Date(re),Se=new Date(be)-He;return Math.floor(Se/(1e3*60*60*24))},W=re=>{if(!re)return{text:"No date",class:"consultation-date-text"};const be=new Date(re).toLocaleDateString("en-US",{timeZone:"Asia/Kolkata",month:"short",day:"numeric",year:"numeric"}),He=O(re);let ke="",Se="consultation-date-text";return He===0?(ke="Today",Se+=" date-today"):He>0?(ke=`${He}d ago`,Se+=" date-past"):(ke=`${Math.abs(He)}d to go`,Se+=" date-future"),{text:`${be}  ${ke}`,class:Se}},le=re=>{if(!re)return!1;const be=new Date().toLocaleDateString("en-CA");return re===be},K=re=>{if(!re)return!1;const be=new Date().toLocaleDateString("en-CA"),He=new Date(re),ke=new Date(be);return He>ke},ee=re=>{if(!re?.consultationDate||!re?.status)return!1;const be=re.consultationDate,He=re.status;return(le(be)||K(be))&&He==="CREATED"||He==="UPDATED"},j=Z(()=>!Array.isArray(s.value)||s.value.length===0?!1:s.value.some(re=>le(re.consultationDate)&&(re?.status==="UPDATED"||re?.status==="CREATED"))),U=async()=>{try{if(await r.isReady(),a.value=n.params.id,!a.value)throw new Error("No patient ID found in URL parameters")}catch(re){throw console.error("Error extracting URL parameters:",re),w.value="Invalid patient URL",re}},G=re=>{if(re.key==="Escape"){if(window.dictationModalActive)return;const be=document.activeElement;if(be&&(be.tagName==="INPUT"||be.tagName==="TEXTAREA"||be.isContentEditable||be.closest(".v-field__input")||be.closest(".v-text-field")||be.closest(".v-textarea")))return;re.preventDefault(),ne()}},ne=()=>{try{const re=n.query.from;re==="patients-landing-page"?r.push("/patients"):re==="research"?r.push("/research"):re==="data"?r.push("/data"):re==="home"?r.push("/home"):r.push("/patients"),console.log(" Navigating back from ESC shortcut to:",re||"patients (default)")}catch(re){console.error("Error in back navigation:",re),r.push("/patients")}},X=async()=>{try{if(!a.value||!h.value)throw new Error("Missing patient or doctor information");const re=new Date().toLocaleDateString("en-CA");await tk(a.value,h.value,re);const be=await oy(a.value,h.value);if(be.error)throw new Error(`Failed to refresh consultations: ${be.error.message}`);s.value=Gn.cloneDeep(be.data),te(),await oe(),console.log("New consultation created"),u.value=!0,f.value="New consultation created successfully"}catch(re){console.error("Error creating consultation:",re),m.value=!0,v.value=re.message||"Failed to create consultation"}},oe=async()=>{try{if(s.value&&s.value.length>0){const re=s.value.filter(be=>be?.consultationDate&&ee(be));re.length>0?(o.value=re[0],console.log("Selected most recent visible consultation:",o.value)):(console.log("No visible consultations available"),o.value={id:"0"})}else console.log("No consultations available"),o.value={id:"0"};i.value=le(o.value?.consultationDate)}catch(re){console.error("Error selecting most recent consultation:",re),o.value={id:"0"},i.value=!1}},q=re=>{if(!re){console.error("No consultation provided to selectArtefact");return}if(!ee(re)){console.warn("Attempted to select a consultation that should not be visible:",re);return}o.value=re,i.value=!1,E.value=!1,console.log("Selected Artefact:",o.value)},Y=re=>{if(!re?.id){console.error("Invalid consultation provided for update");return}const be=s.value.findIndex(He=>He?.id===re.id);be!==-1&&(s.value[be]=re),console.log("Updated Consultation:",o.value)},ae=re=>{if(!re){console.error("No consultation provided to copy"),m.value=!0,v.value="Failed to copy consultation details";return}try{c.value=Gn.cloneDeep(re),u.value=!0,f.value="Details copied to new consultation",console.log("Copied Artefact:",c.value)}catch(be){console.error("Error copying consultation:",be),m.value=!0,v.value="Failed to copy consultation details"}},ge=async()=>{if(!A.value.id||!h.value){console.warn("Patient ID or Doctor ID not available for loading procedures");return}_.value=!0;try{console.log(" Fetching procedures for patient:",A.value.id,"doctor:",h.value);const re=await lk(A.value.id,h.value);if(re.error)throw new Error(`Failed to load treatment plans: ${re.error.message}`);console.log(" Fetched procedures:",re.data),N.value=Gn.cloneDeep(re.data),console.log("Successfully loaded procedures:",N.value)}catch(re){console.error("Error loading procedures:",re),N.value=[],m.value=!0,v.value=`Failed to load treatment plans: ${re.message}`}finally{_.value=!1}},we=async()=>{if(!A.value.id||!h.value){m.value=!0,v.value="Patient or doctor information missing";return}try{const re=`New Treatment Plan ${new Date().toLocaleDateString()}`,be=await sE(A.value.id,h.value,re,"","","");if(be.error)throw new Error(`Failed to create procedure: ${be.error.message}`);await ge(),k.value=be.data,E.value=!0,u.value=!0,f.value="New treatment plan created successfully",console.log("Created new procedure:",be.data)}catch(re){console.error("Error creating procedure:",re),m.value=!0,v.value=re.message||"Failed to create treatment plan"}},z=re=>{if(!re){console.error("No procedure provided to selectProcedure");return}k.value=re,E.value=!0,console.log("Selected Procedure:",k.value)},Ae=re=>{if(!re?.id){console.error("Invalid procedure provided for update");return}const be=N.value.findIndex(He=>He?.id===re.id);be!==-1&&(N.value[be]=re,k.value=re),console.log("Updated Procedure:",k.value)},ie=async re=>{if(!A.value.id||!h.value){m.value=!0,v.value="Patient or doctor information missing";return}try{const be=await sE(A.value.id,h.value,re.treatmentPlanName||"New Treatment Plan",re.startDate||"",re.endDate||"",re.notes||"");if(be.error)throw new Error(`Failed to create procedure: ${be.error.message}`);await ge(),k.value=be.data,u.value=!0,f.value="Treatment plan created successfully",console.log("Created procedure from window:",be.data)}catch(be){console.error("Error creating procedure from window:",be),m.value=!0,v.value=be.message||"Failed to create treatment plan"}},_e=async re=>{if(!re?.id){console.error("No procedure provided for deletion"),m.value=!0,v.value="Cannot delete: Invalid treatment plan";return}if(confirm(`Are you sure you want to delete the treatment plan "${re.treatmentPlanName}"?`))try{const be=await E8(re.id);if(be.error)throw new Error(`Failed to delete procedure: ${be.error.message}`);await ge(),k.value?.id===re.id&&(k.value={id:"0"},E.value=!1),u.value=!0,f.value="Treatment plan deleted successfully",console.log("Deleted procedure:",re.id)}catch(be){console.error("Error deleting procedure:",be),m.value=!0,v.value=be.message||"Failed to delete treatment plan"}},Pe=re=>{if(!re)return{text:"No data",class:"procedure-date-text"};let be="",He="",ke="procedure-date-text";const Se=je=>je?new Date(je).toLocaleDateString("en-US",{timeZone:"Asia/Kolkata",month:"short",day:"numeric",year:"numeric"}):null;return re.status&&(He=re.status,re.status.toLowerCase()==="completed"&&(ke+=" status-completed")),re.startDate&&re.endDate?be=`${Se(re.startDate)}  ${Se(re.endDate)}`:re.startDate?be=`Start: ${Se(re.startDate)}`:re.endDate?be=`End: ${Se(re.endDate)}`:re.createdAt?be=`Created: ${Se(re.createdAt)}`:be="No date available",{text:He?`${He}  ${be}`:be,class:ke}};return(re,be)=>{const He=D("v-alert"),ke=D("v-progress-circular"),Se=D("v-col"),st=D("v-row"),je=D("v-icon"),Ve=D("v-breadcrumbs-item"),Te=D("v-breadcrumbs"),Le=D("v-card-title"),ht=D("v-btn"),Ct=D("v-tooltip"),Dt=D("v-card"),Je=D("v-tab"),Oe=D("v-tabs"),it=D("v-card-text"),at=D("v-tabs-window-item"),Xe=D("v-tabs-window"),Ut=D("v-dialog"),Yt=D("v-snackbar");return V(),ye(ze,null,[w.value?(V(),he(He,{key:0,type:"error",dismissible:"","onClick:close":be[0]||(be[0]=bt=>w.value=null),class:"ma-3"},{default:d(()=>[Q(J(w.value),1)]),_:1})):Be("",!0),b.value?(V(),he(st,{key:1,"no-gutters":"",class:"pa-3",style:{height:"100%"}},{default:d(()=>[l(Se,{cols:"12",class:"d-flex justify-center align-center"},{default:d(()=>[p("div",HBe,[l(ke,{indeterminate:"",color:"primary",size:"64"}),be[8]||(be[8]=p("div",{class:"mt-4 text-subtitle-1"},"Loading patient details...",-1))])]),_:1})]),_:1})):w.value?Be("",!0):(V(),ye(ze,{key:2},[l(st,{"no-gutters":"",class:"pl-3 pr-3 mb-2",style:{height:"50px"}},{default:d(()=>[l(Se,{cols:"12"},{default:d(()=>[l(Dt,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex align-center"},{default:d(()=>[p("div",KBe,[l(st,{"no-gutters":"",class:"align-center"},{default:d(()=>[l(Se,{cols:"2",class:"d-flex justify-start"},{default:d(()=>[l(Te,{density:"default",class:"pa-0 breadcrumb-enhanced"},{default:d(()=>[(V(!0),ye(ze,null,Jt(S.value,(bt,cn)=>(V(),he(Ve,{key:cn,to:bt.to,disabled:bt.disabled,class:"text-subtitle-2 font-weight-medium breadcrumb-item-enhanced"},{default:d(()=>[bt.icon?(V(),he(je,{key:0,start:bt.iconPosition!=="end",end:bt.iconPosition==="end",size:"default",color:"primary",class:rt(bt.iconClass)},{default:d(()=>[Q(J(bt.icon),1)]),_:2},1032,["start","end","class"])):Be("",!0),Q(" "+J(bt.text),1)]),_:2},1032,["to","disabled"]))),128))]),_:1})]),_:1}),l(Se,{cols:"10",class:"d-flex justify-center"},{default:d(()=>[p("div",GBe,[l(Le,{class:"pb-2 pr-2"},{default:d(()=>[Q(J((A.value?.name||"Unknown Patient").length>15?(A.value?.name||"Unknown Patient").slice(0,15)+"":A.value?.name||"Unknown Patient")+" ",1),p("span",zBe," ID: "+J(A.value?.id||"N/A")+"  "+J(A.value?.gender||"Unknown")+J(A.value?.age?`, ${A.value.age} yrs`:""),1)]),_:1}),A.value?.note&&A.value.note.trim()!==""?(V(),ye("div",$Be,[p("span",WBe,J(A.value.note),1)])):(V(),ye("div",jBe,[...be[9]||(be[9]=[p("span",{class:"text-caption text-medium-emphasis font-style-italic"},"no special note",-1)])])),l(Ct,{text:"Edit Patient Details"},{activator:d(({props:bt})=>[l(ht,Ne({color:"primary",variant:"text",size:"small"},bt,{onClick:be[1]||(be[1]=cn=>F.value=!0),icon:"",tabindex:"-1",class:"ml-2"}),{default:d(()=>[l(je,null,{default:d(()=>[...be[10]||(be[10]=[p("img",{src:sm},null,-1)])]),_:1})]),_:1},16)]),_:1})])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),l(st,{"no-gutters":"","aria-label":"main row",class:"pl-3 pr-3 stable-height-main"},{default:d(()=>[l(Se,{cols:"3",order:"1","aria-label":"list column",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",JBe,[l(Dt,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex flex-column"},{default:d(()=>[p("div",qBe,[l(Oe,{modelValue:T.value,"onUpdate:modelValue":be[2]||(be[2]=bt=>T.value=bt),density:"compact",class:"mb-2"},{default:d(()=>[B.value?(V(),ye(ze,{key:0},[l(Je,{value:"procedures",tabindex:"-1"},{default:d(()=>[...be[11]||(be[11]=[Q("Procedure",-1)])]),_:1}),l(Je,{value:"consultations",tabindex:"-1"},{default:d(()=>[...be[12]||(be[12]=[Q("Consultation",-1)])]),_:1})],64)):(V(),ye(ze,{key:1},[l(Je,{value:"consultations",tabindex:"-1"},{default:d(()=>[...be[13]||(be[13]=[Q("Consultation",-1)])]),_:1}),l(Je,{value:"procedures",tabindex:"-1"},{default:d(()=>[...be[14]||(be[14]=[Q("Procedure",-1)])]),_:1})],64))]),_:1},8,["modelValue"])]),l(Xe,{modelValue:T.value,"onUpdate:modelValue":be[3]||(be[3]=bt=>T.value=bt),class:"flex-grow-1"},{default:d(()=>[l(at,{value:"consultations",class:"h-100"},{default:d(()=>[l(st,{"no-gutters":"",class:"h-100"},{default:d(()=>[l(Se,{cols:"12",class:"mt-1 h-100"},{default:d(()=>[p("div",YBe,[j.value?Be("",!0):(V(),he(Dt,{key:0,color:"surfaceContainerHigh",density:"compact",class:"ma-2",rounded:"lg"},{default:d(()=>[l(it,{class:"pa-3"},{default:d(()=>[l(ht,{color:"primary",variant:"flat",block:"",onClick:X,disabled:!A.value?.id||!h.value},{default:d(()=>[...be[15]||(be[15]=[Q(" Create New Consultation ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})),se.value?(V(!0),ye(ze,{key:1},Jt(s.value,bt=>(V(),ye(ze,{key:bt.id},[bt?.consultationDate&&ee(bt)?(V(),he(Dt,{key:0,style:It([{textAlign:"left"},{cursor:"pointer"}]),class:rt([{"card-status-selected":o.value?.id===bt.id,"card-status-default":o.value?.id!==bt.id},"mx-2 mt-1 mb-2 card-enhanced card-hover-base"]),density:"compact",rounded:"lg",onClick:cn=>q(bt)},{default:d(()=>[l(st,{"no-gutters":""},{default:d(()=>[l(Se,{cols:"12"},{default:d(()=>[l(Le,null,{default:d(()=>[Q(J(bt?.diagnosis||"No diagnosis"),1)]),_:2},1024),l(st,{"no-gutters":""},{default:d(()=>[l(Se,{cols:"12"},{default:d(()=>[l(it,{class:"pa-0 pb-2 pl-4"},{default:d(()=>[be[16]||(be[16]=p("span",{class:"text-caption text-medium-emphasis font-weight-bold"},"Rx: ",-1)),bt?.medicines&&bt.medicines.length>0?(V(!0),ye(ze,{key:0},Jt(bt.medicines,cn=>(V(),ye(ze,{key:cn?.id||cn},[Q(J(cn?.productName||"Unknown medicine")+" ",1),bt.medicines&&bt.medicines.length>1&&bt.medicines.indexOf(cn)!==bt.medicines.length-1?(V(),ye("span",XBe,", ")):Be("",!0)],64))),128)):(V(),ye("span",ZBe,"No medicines prescribed"))]),_:2},1024)]),_:2},1024),bt?.investigations&&bt.investigations.trim()!==""?(V(),he(Se,{key:0,cols:"12"},{default:d(()=>[l(it,{class:"pa-0 pb-2 pl-4"},{default:d(()=>[be[17]||(be[17]=p("span",{class:"text-caption text-medium-emphasis font-weight-bold"},"Investigations: ",-1)),Q(J(bt.investigations),1)]),_:2},1024)]),_:2},1024)):Be("",!0),l(Se,{cols:"12",class:"d-flex align-center justify-space-between action-row-highlight pa-3 ma-0"},{default:d(()=>[l(it,{class:"pa-0"},{default:d(()=>[p("span",{class:rt(W(bt.consultationDate).class)},J(W(bt.consultationDate).text),3)]),_:2},1024),p("div",eSe,[l(Ct,{text:le(bt.consultationDate)||K(bt.consultationDate)?"Cannot copy from today's or future consultations":"Copy to Most Recent"},{activator:d(({props:cn})=>[l(ht,Ne({onClick:Qn(ln=>ae(bt),["stop"]),variant:"plain"},{ref_for:!0},cn,{size:"small",color:"primary",disabled:o.value?.id===bt.id||le(bt.consultationDate)||K(bt.consultationDate),class:"btn-hover-base mr-1"}),{default:d(()=>[l(je,{size:"medium"},{default:d(()=>[...be[18]||(be[18]=[p("img",{src:W_e},null,-1)])]),_:1})]),_:1},16,["onClick","disabled"])]),_:2},1032,["text"]),l(Ct,{text:le(bt.consultationDate)?"Cannot delete today's consultation":"Delete Consultation"},{activator:d(({props:cn})=>[l(ht,Ne({color:"secondary",variant:"plain",size:"small"},{ref_for:!0},cn,{onClick:Qn(ln=>I(bt),["stop"]),disabled:le(bt.consultationDate),class:"btn-hover-base"}),{default:d(()=>[l(je,{size:"medium"},{default:d(()=>[...be[19]||(be[19]=[p("img",{src:zu},null,-1)])]),_:1})]),_:1},16,["onClick","disabled"])]),_:2},1032,["text"])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"])):Be("",!0)],64))),128)):(V(),ye("div",tSe,[l(je,{size:"48",color:"primary",class:"mb-2"},{default:d(()=>[...be[20]||(be[20]=[p("img",{src:FE},null,-1)])]),_:1}),be[21]||(be[21]=p("p",{class:"text-subtitle-2 text-medium-emphasis"},"No consultations yet",-1)),be[22]||(be[22]=p("p",{class:"text-caption text-medium-emphasis"},"Create a consultation to get started",-1))]))])]),_:1})]),_:1})]),_:1}),l(at,{value:"procedures",class:"h-100"},{default:d(()=>[l(st,{"no-gutters":"",class:"h-100"},{default:d(()=>[l(Se,{cols:"12",class:"mt-1 h-100"},{default:d(()=>[p("div",nSe,[l(Dt,{color:"surfaceContainerHigh",density:"compact",class:"ma-2",rounded:"lg"},{default:d(()=>[l(it,{class:"pa-3"},{default:d(()=>[l(ht,{color:"primary",variant:"flat",block:"",onClick:we,disabled:!A.value?.id||!h.value},{default:d(()=>[...be[23]||(be[23]=[Q(" Create Treatment Plan ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1}),_.value?(V(),he(st,{key:0,"no-gutters":""},{default:d(()=>[l(Se,{cols:"12",class:"d-flex justify-center align-center",style:{height:"100px"}},{default:d(()=>[l(ke,{indeterminate:"",color:"primary"})]),_:1})]),_:1})):N.value&&N.value.length>0?(V(!0),ye(ze,{key:1},Jt(N.value,bt=>(V(),he(Dt,{key:bt.id,style:It([{textAlign:"left"},{cursor:"pointer"}]),class:rt([{"card-status-selected":k.value?.id===bt.id&&E.value,"card-status-default":!(k.value?.id===bt.id&&E.value)},"ma-2 card-enhanced card-hover-base"]),density:"compact",rounded:"lg",onClick:cn=>z(bt)},{default:d(()=>[l(st,{"no-gutters":""},{default:d(()=>[l(Se,{cols:"12"},{default:d(()=>[l(Le,null,{default:d(()=>[Q(J(bt?.treatmentPlanName||"Unnamed Treatment Plan"),1)]),_:2},1024),l(st,{"no-gutters":""},{default:d(()=>[l(Se,{cols:"12"},{default:d(()=>[l(it,{class:"pa-0 pb-2 pl-4"},{default:d(()=>[p("p",rSe,J(bt?.notes||"No notes"),1)]),_:2},1024)]),_:2},1024),l(Se,{cols:"12",class:"d-flex align-center justify-space-between action-row-highlight pa-3 ma-0"},{default:d(()=>[l(it,{class:"pa-0"},{default:d(()=>[p("span",{class:rt(Pe(bt).class),style:{"min-height":"18px",display:"inline-block"}},J(Pe(bt).text),3)]),_:2},1024),p("div",aSe,[l(Ct,{text:"Delete Treatment Plan"},{activator:d(({props:cn})=>[l(ht,Ne({color:"secondary",variant:"plain",size:"small"},{ref_for:!0},cn,{onClick:Qn(ln=>_e(bt),["stop"]),class:"btn-hover-base"}),{default:d(()=>[l(je,{size:"medium"},{default:d(()=>[...be[24]||(be[24]=[p("img",{src:zu},null,-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128)):(V(),ye("div",sSe,[l(je,{size:"48",color:"primary",class:"mb-2"},{default:d(()=>[...be[25]||(be[25]=[p("img",{src:FE},null,-1)])]),_:1}),be[26]||(be[26]=p("p",{class:"text-subtitle-2 text-medium-emphasis"},"No treatment plans yet",-1)),be[27]||(be[27]=p("p",{class:"text-caption text-medium-emphasis"},"Create a treatment plan to get started",-1))]))])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(Ut,{modelValue:C.value,"onUpdate:modelValue":be[4]||(be[4]=bt=>C.value=bt),"max-width":"30%",persistent:""},{default:d(()=>[l(QBe,{deleteConsult:y.value,onClose:R},null,8,["deleteConsult"])]),_:1},8,["modelValue"]),l(Ut,{modelValue:F.value,"onUpdate:modelValue":be[5]||(be[5]=bt=>F.value=bt),"max-width":"50%",persistent:""},{default:d(()=>[l(OBe,{patient:A.value,onClose:M},null,8,["patient"])]),_:1},8,["modelValue"])]),_:1})])]),_:1}),l(Se,{cols:"9",order:"2",class:"pl-1 stable-height-column","aria-label":"consultation column"},{default:d(()=>[p("div",oSe,[l(Dt,{color:"surfaceContainer",flat:"",style:{height:"100%"}},{default:d(()=>[T.value==="procedures"?(V(),he(NBe,{treatmentPlan:k.value,patient:A.value,key:k.value?.id||"new","onUpdate:treatmentPlan":Ae,onCreateNewTreatmentPlan:ie},null,8,["treatmentPlan","patient"])):(V(),he(xO,{consultation:o.value,patient:A.value,key:o.value.id,consultationCopy:c.value,"onUpdate:consultation":Y,onCreateNewArtefact:X},null,8,["consultation","patient","consultationCopy"]))]),_:1})])]),_:1})]),_:1}),l(Yt,{modelValue:u.value,"onUpdate:modelValue":be[6]||(be[6]=bt=>u.value=bt),class:"elevation-24",color:"success"},{default:d(()=>[Q(J(f.value),1)]),_:1},8,["modelValue"]),l(Yt,{modelValue:m.value,"onUpdate:modelValue":be[7]||(be[7]=bt=>m.value=bt),class:"elevation-24",color:"failure"},{default:d(()=>[Q(J(v.value),1)]),_:1},8,["modelValue"])],64))],64)}}},lSe=on(iSe,[["__scopeId","data-v-88f9c91f"]]),cSe={class:"text-center"},uSe={class:"scroll-hover",style:{"overflow-y":"auto",height:"100%"}},dSe={class:"ma-2 mt-4"},ASe={class:"text-subtitle-2 ml-2"},fSe={class:"scroll-hover",style:{"overflow-y":"auto","max-height":"75vh"}},mSe={__name:"admin-page",setup(e){const t=pr(),n=H(!0),r=H(null),a=H("vitalsconfig"),s=H(!1),o=H(""),i=H(!1),c=H("");H("");const A=H(""),u=H(29200);H(!1),H(""),H(""),H(""),H(),H();const f=Z(()=>t.state.doctorModule.doctorId),m=H({pulse:!0,bloodPressure:!0,temperature:!0,respiratoryRate:!0,height:!1,serumBilirubin:!1,bloodGlucoseFF:!1,bloodGlucosePP:!1,bloodGlucoseRandom:!1,serumCreatinine:!1}),v=H(!1);H({prefix:"",suffix:""}),H(!1),H(!1),H({prefix:"",suffix:""}),H(!1),H(!1);const h=H({header:"",gstNumber:"",useHeader:!0,pageSize:"A4"});H(!1),H(!1);const y=Z(()=>t.getters["doctorModule/currentDoctor"]?.doctorName||null);Z(()=>t.getters["doctorModule/isGSTRegistered"]),Z(()=>A.value?`https://${A.value}:${u.value}`:"");const w=(E,_="An error occurred")=>{console.error(_,E),i.value=!0,c.value=`${_}: ${E?.response?.data?.message||E.message||"Unknown error"}`;const C=E?.response?.status===401||E?.response?.status===403;(E?.response?.status>=500||!E?.response)&&!C&&(r.value=`${_}. Please try again or contact support.`)},b=E=>{s.value=!0,o.value=E};H(!1),H(!1),H(!1),H(!1),H(!1),H(!1),fn(()=>{try{console.log("Admin page mounted successfully")}catch(E){w(E,"Failed to mount admin page")}}),Al(async()=>{try{n.value=!0,console.log("AdminPage component is about to be mounted."),N()}catch(E){w(E,"Failed to initialize admin page")}finally{n.value=!1}}),Ge(f,async(E,_)=>{try{E&&E!==_&&(console.log(`Doctor ID changed from ${_} to ${E}, reloading vitals preferences...`),N())}catch(C){w(C,"Failed to load vitals preferences for new doctor")}},{immediate:!1}),Br(()=>{try{n.value=!1,r.value=null,B.value={doctorName:"",doctorDegrees:"",doctorRegistrationNumber:"",clinicAddress:"-",email:"",doctorId:null,useHeader:!0,pageSize:"A4"},h.value={header:"",gstNumber:"",useHeader:!0,pageSize:"A4"},S.value=[],T.value=[],console.log("Admin page cleanup completed")}catch(E){console.error("Error during admin page cleanup:",E)}});const B=H({doctorName:"",doctorDegrees:"",doctorRegistrationNumber:"",clinicAddress:"-",email:"",doctorId:null,useHeader:!0,useFooter:!0,pageSize:"A4"}),S=H([]),T=H([]),N=()=>{try{const E=f.value;if(!E){console.warn("No doctor ID available to load vitals preferences");return}const _=Ck(E);m.value={pulse:_.pulse,bloodPressure:_.bloodPressure,temperature:_.temperature,respiratoryRate:_.respiratoryRate,height:_.height,serumBilirubin:_.serumBilirubin,bloodGlucoseFF:_.bloodGlucoseFF,bloodGlucosePP:_.bloodGlucosePP,bloodGlucoseRandom:_.bloodGlucoseRandom,serumCreatinine:_.serumCreatinine},console.log("Vitals preferences loaded:",m.value)}catch(E){w(E,"Failed to load vitals preferences")}},k=async()=>{if(!v.value)try{v.value=!0;const E=f.value;if(!E)throw new Error("Doctor ID is required to save vitals preferences");const _={...m.value,weight:!0};if(Axe(E,_))b("Vitals preferences saved successfully");else throw new Error("Failed to save preferences")}catch(E){w(E,"Failed to save vitals preferences")}finally{v.value=!1}};return(E,_)=>{const C=D("v-alert"),F=D("v-progress-circular"),I=D("v-col"),R=D("v-row"),M=D("v-card-title"),te=D("v-card-subtitle"),se=D("v-card"),O=D("v-tooltip"),W=D("v-btn"),le=D("v-checkbox"),K=D("v-tabs-window-item"),ee=D("v-tabs-window"),j=D("v-snackbar"),U=D("v-main");return V(),he(U,{class:"mt-5"},{default:d(()=>[r.value?(V(),he(C,{key:0,type:"error",dismissible:"","onClick:close":_[0]||(_[0]=G=>r.value=null),class:"ma-3"},{default:d(()=>[Q(J(r.value),1)]),_:1})):Be("",!0),n.value?(V(),he(R,{key:1,"no-gutters":"",class:"pa-3",style:{height:"88%"}},{default:d(()=>[l(I,{cols:"12",class:"d-flex justify-center align-center"},{default:d(()=>[p("div",cSe,[l(F,{indeterminate:"",color:"primary",size:"64"}),_[15]||(_[15]=p("div",{class:"mt-4 text-subtitle-1"},"Loading admin settings...",-1))])]),_:1})]),_:1})):r.value?Be("",!0):(V(),ye(ze,{key:2},[l(R,{"aria-label":"main row",class:"pl-3 pr-3",style:{height:"100%"}},{default:d(()=>[l(I,{cols:"4",order:"1",class:"pr-1",style:{height:"92%"}},{default:d(()=>[l(se,{color:"surfaceContainer",flat:"",style:{height:"100%"}},{default:d(()=>[p("div",uSe,[l(R,{"no-gutters":""},{default:d(()=>[l(I,{cols:"12"},{default:d(()=>[p("div",dSe,[l(M,{class:"text-subtitle-1 pa-2 pb-1",style:{"font-weight":"600"}},{default:d(()=>[..._[16]||(_[16]=[Q(" Doctor Specific Setup ",-1)])]),_:1}),l(O,{text:"Configure Vitals Parameters"},{activator:d(({props:G})=>[l(se,Ne({style:[{textAlign:"left"},{cursor:"pointer"}],class:["ma-2 card-enhanced card-hover-base",{"card-status-selected":a.value==="vitalsconfig","card-status-default":a.value!=="vitalsconfig"}],onClick:_[1]||(_[1]=ne=>a.value="vitalsconfig")},G),{default:d(()=>[l(R,{"no-gutters":""},{default:d(()=>[l(I,{cols:"12"},{default:d(()=>[l(M,null,{default:d(()=>[l(R,{"no-gutters":""},{default:d(()=>[l(I,{cols:"12"},{default:d(()=>[..._[17]||(_[17]=[Q("Vitals Configuration",-1)])]),_:1})]),_:1})]),_:1}),l(te,{class:"pb-1"},{default:d(()=>[..._[18]||(_[18]=[Q(" Select relevant parameters ..",-1)])]),_:1})]),_:1})]),_:1})]),_:1},16,["class"])]),_:1})])]),_:1})]),_:1})])]),_:1})]),_:1}),l(I,{cols:"8",order:"2",class:"pl-1",style:{height:"100%"}},{default:d(()=>[l(se,{color:"surfaceContainer",flat:"",style:{height:"92%"}},{default:d(()=>[l(ee,{modelValue:a.value,"onUpdate:modelValue":_[12]||(_[12]=G=>a.value=G)},{default:d(()=>[l(K,{value:"vitalsconfig"},{default:d(()=>[l(R,{"no-gutters":"","aria-label":"toolbar"},{default:d(()=>[l(I,{cols:"12"},{default:d(()=>[l(se,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(R,{"no-gutters":""},{default:d(()=>[l(I,{cols:"8",class:"d-flex align-center"},{default:d(()=>[p("div",ASe,[y.value?(V(),ye(ze,{key:0},[Q(" Vitals Parameters Configured for: "+J(y.value),1)],64)):(V(),ye(ze,{key:1},[Q(" Configure Vitals Parameters ")],64))])]),_:1}),l(I,{cols:"4",class:"d-flex justify-end"},{default:d(()=>[l(W,{onClick:k,disabled:v.value,loading:v.value,class:"btn-hover-enhanced"},{default:d(()=>[..._[19]||(_[19]=[Q(" Save Preferences ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),p("div",fSe,[l(R,{"no-gutters":""},{default:d(()=>[l(I,{cols:"12",color:"surfaceContainer"},{default:d(()=>[l(se,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(M,{class:"text-h6 mb-2"},{default:d(()=>[..._[20]||(_[20]=[Q("Select Vitals Parameters",-1)])]),_:1}),l(te,{class:"text-subtitle-2 mb-1"},{default:d(()=>[..._[21]||(_[21]=[Q("Basic Vitals",-1)])]),_:1}),l(R,{"no-gutters":"",class:"mb-3"},{default:d(()=>[l(I,{cols:"4",class:"pr-1"},{default:d(()=>[l(le,{label:"Weight (kg)","model-value":!0,disabled:"",density:"compact",class:"input-hover",color:"primary"})]),_:1}),l(I,{cols:"4",class:"px-1"},{default:d(()=>[l(le,{modelValue:m.value.pulse,"onUpdate:modelValue":_[2]||(_[2]=G=>m.value.pulse=G),label:"Pulse (bpm)",density:"compact",class:"input-hover",color:"primary"},null,8,["modelValue"])]),_:1}),l(I,{cols:"4",class:"pl-1"},{default:d(()=>[l(le,{modelValue:m.value.temperature,"onUpdate:modelValue":_[3]||(_[3]=G=>m.value.temperature=G),label:"Temperature (C)",density:"compact",class:"input-hover",color:"primary"},null,8,["modelValue"])]),_:1}),l(I,{cols:"4",class:"pr-1"},{default:d(()=>[l(le,{modelValue:m.value.bloodPressure,"onUpdate:modelValue":_[4]||(_[4]=G=>m.value.bloodPressure=G),label:"Blood Pressure (mmHg)",density:"compact",class:"input-hover",color:"primary"},null,8,["modelValue"])]),_:1}),l(I,{cols:"4",class:"px-1"},{default:d(()=>[l(le,{modelValue:m.value.respiratoryRate,"onUpdate:modelValue":_[5]||(_[5]=G=>m.value.respiratoryRate=G),label:"Respiratory Rate (breaths/min)",density:"compact",class:"input-hover",color:"primary"},null,8,["modelValue"])]),_:1}),l(I,{cols:"4",class:"pl-1"},{default:d(()=>[l(le,{modelValue:m.value.height,"onUpdate:modelValue":_[6]||(_[6]=G=>m.value.height=G),label:"Height (cm)",density:"compact",class:"input-hover",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1}),l(te,{class:"text-subtitle-2 mb-1"},{default:d(()=>[..._[22]||(_[22]=[Q("Blood Chemistry Parameters",-1)])]),_:1}),l(R,{"no-gutters":"",class:"mb-3"},{default:d(()=>[l(I,{cols:"4",class:"pr-1"},{default:d(()=>[l(le,{modelValue:m.value.serumBilirubin,"onUpdate:modelValue":_[7]||(_[7]=G=>m.value.serumBilirubin=G),label:"Serum Bilirubin (mg/dL)",density:"compact",class:"input-hover",color:"primary"},null,8,["modelValue"])]),_:1}),l(I,{cols:"4",class:"px-1"},{default:d(()=>[l(le,{modelValue:m.value.bloodGlucoseFF,"onUpdate:modelValue":_[8]||(_[8]=G=>m.value.bloodGlucoseFF=G),label:"Blood Glucose - FF (mg/dL)",density:"compact",class:"input-hover",color:"primary"},null,8,["modelValue"])]),_:1}),l(I,{cols:"4",class:"pl-1"},{default:d(()=>[l(le,{modelValue:m.value.bloodGlucosePP,"onUpdate:modelValue":_[9]||(_[9]=G=>m.value.bloodGlucosePP=G),label:"Blood Glucose - PP (mg/dL)",density:"compact",class:"input-hover",color:"primary"},null,8,["modelValue"])]),_:1}),l(I,{cols:"4",class:"pr-1"},{default:d(()=>[l(le,{modelValue:m.value.bloodGlucoseRandom,"onUpdate:modelValue":_[10]||(_[10]=G=>m.value.bloodGlucoseRandom=G),label:"Blood Glucose - Random (mg/dL)",density:"compact",class:"input-hover",color:"primary"},null,8,["modelValue"])]),_:1}),l(I,{cols:"4",class:"px-1"},{default:d(()=>[l(le,{modelValue:m.value.serumCreatinine,"onUpdate:modelValue":_[11]||(_[11]=G=>m.value.serumCreatinine=G),label:"Serum Creatinine (mg/dL)",density:"compact",class:"input-hover",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1}),l(C,{type:"info",variant:"tonal",density:"compact",class:"mt-2"},{default:d(()=>[..._[23]||(_[23]=[Q(" These preferences will be applied to the vitals form and trends view. Weight is always enabled as it's considered essential. Blood chemistry parameters are advanced lab values that can be enabled as needed. ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(j,{modelValue:s.value,"onUpdate:modelValue":_[13]||(_[13]=G=>s.value=G),class:"elevation-24",color:"success"},{default:d(()=>[Q(J(o.value),1)]),_:1},8,["modelValue"]),l(j,{modelValue:i.value,"onUpdate:modelValue":_[14]||(_[14]=G=>i.value=G),timeout:2e3,class:"elevation-24",color:"failure"},{default:d(()=>[Q(J(c.value),1)]),_:1},8,["modelValue"])],64))]),_:1})}}},hSe=on(mSe,[["__scopeId","data-v-93c0246c"]]);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var CO=1252,vSe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Sk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},kk=function(e){vSe.indexOf(e)!=-1&&(CO=Sk[0]=e)};function pSe(){kk(1252)}var Ji=function(e){kk(e)};function EO(){Ji(1200),pSe()}function uU(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function gSe(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function BO(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var E0=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?gSe(e.slice(2)):t==254&&n==255?BO(e.slice(2)):t==65279?e.slice(1):e},k1=function(t){return String.fromCharCode(t)},dU=function(t){return String.fromCharCode(t)},Pv,Qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function AU(e){for(var t="",n=0,r=0,a=0,s=0,o=0,i=0,c=0,A=0;A<e.length;)n=e.charCodeAt(A++),s=n>>2,r=e.charCodeAt(A++),o=(n&3)<<4|r>>4,a=e.charCodeAt(A++),i=(r&15)<<2|a>>6,c=a&63,isNaN(r)?i=c=64:isNaN(a)&&(c=64),t+=Qu.charAt(s)+Qu.charAt(o)+Qu.charAt(i)+Qu.charAt(c);return t}function Zo(e){var t="",n=0,r=0,a=0,s=0,o=0,i=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var A=0;A<e.length;)s=Qu.indexOf(e.charAt(A++)),o=Qu.indexOf(e.charAt(A++)),n=s<<2|o>>4,t+=String.fromCharCode(n),i=Qu.indexOf(e.charAt(A++)),r=(o&15)<<4|i>>2,i!==64&&(t+=String.fromCharCode(r)),c=Qu.indexOf(e.charAt(A++)),a=(i&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var qn=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),KA=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function rd(e){return qn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function fU(e){return qn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Gi=function(t){return qn?KA(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function GA(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function Ik(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Ik(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var Lu=qn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:KA(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function ySe(e){for(var t=[],n=0,r=e.length+250,a=rd(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[n++]=o;else if(o<2048)a[n++]=192|o>>6&31,a[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var i=e.charCodeAt(++s)&1023;a[n++]=240|o>>8&7,a[n++]=128|o>>2&63,a[n++]=128|i>>6&15|(o&3)<<4,a[n++]=128|i&63}else a[n++]=224|o>>12&15,a[n++]=128|o>>6&63,a[n++]=128|o&63;n>r&&(t.push(a.slice(0,n)),n=0,a=rd(65535),r=65530)}return t.push(a.slice(0,n)),Lu(t)}var Ao=/\u0000/g,B0=/[\u0001-\u0006]/g;function Am(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function qi(e,t){var n=""+e;return n.length>=t?n:ia("0",t-n.length)+n}function Tk(e,t){var n=""+e;return n.length>=t?n:ia(" ",t-n.length)+n}function m2(e,t){var n=""+e;return n.length>=t?n:n+ia(" ",t-n.length)}function wSe(e,t){var n=""+Math.round(e);return n.length>=t?n:ia("0",t-n.length)+n}function _Se(e,t){var n=""+e;return n.length>=t?n:ia("0",t-n.length)+n}var mU=Math.pow(2,32);function Rf(e,t){if(e>mU||e<-mU)return wSe(e,t);var n=Math.round(e);return _Se(n,t)}function h2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var hU=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Lx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bSe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Nn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},vU={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},xSe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function v2(e,t,n){for(var r=e<0?-1:1,a=e*r,s=0,o=1,i=0,c=1,A=0,u=0,f=Math.floor(a);A<t&&(f=Math.floor(a),i=f*o+s,u=f*A+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=i,c=A,A=u;if(u>t&&(A>t?(u=c,i=s):(u=A,i=o)),!n)return[0,r*i,u];var m=Math.floor(r*i/u);return[m,r*i-m*u,u]}function Zd(e,t,n){if(e>2958465||e<0)return null;var r=e|0,a=Math.floor(86400*(e-r)),s=0,o=[],i={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(i.u)<1e-6&&(i.u=0),t&&t.date1904&&(r+=1462),i.u>.9999&&(i.u=0,++a==86400&&(i.T=a=0,++r,++i.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),n&&(s=ISe(c,o))}return i.y=o[0],i.m=o[1],i.d=o[2],i.S=a%60,a=Math.floor(a/60),i.M=a%60,a=Math.floor(a/60),i.H=a,i.q=s,i}var SO=new Date(1899,11,31,0,0,0),CSe=SO.getTime(),ESe=new Date(1900,2,1,0,0,0);function kO(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=ESe&&(n+=1440*60*1e3),(n-(CSe+(e.getTimezoneOffset()-SO.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Fk(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function BSe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SSe(e){var t=e<0?12:11,n=Fk(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function kSe(e){var t=Fk(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Dv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=SSe(e):t===10?n=e.toFixed(10).substr(0,12):n=kSe(e),Fk(BSe(n.toUpperCase()))}function xA(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Dv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Bi(14,kO(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function ISe(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function TSe(e,t,n,r){var a="",s=0,o=0,i=n.y,c,A=0;switch(e){case 98:i=n.y+543;case 121:switch(t.length){case 1:case 2:c=i%100,A=2;break;default:c=i%1e4,A=4;break}break;case 109:switch(t.length){case 1:case 2:c=n.m,A=t.length;break;case 3:return Lx[n.m-1][1];case 5:return Lx[n.m-1][0];default:return Lx[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=n.d,A=t.length;break;case 3:return hU[n.q][0];default:return hU[n.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(n.H+11)%12,A=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=n.H,A=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=n.M,A=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?qi(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=qi(s,2+r),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=n.D*24+n.H;break;case"[m]":case"[mm]":c=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":c=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}A=t.length===3?1:2;break;case 101:c=i,A=1;break}var u=A>0?qi(c,A):"";return u}function Hu(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var IO=/%/g;function FSe(e,t,n){var r=t.replace(IO,""),a=t.length-r.length;return Hc(e,r,n*Math.pow(10,2*a))+ia("%",a)}function PSe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Hc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function TO(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+TO(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),n=(t/Math.pow(10,s)).toPrecision(r+1+(a+s)%a),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(i,c,A,u){return c+A+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var FO=/# (\?+)( ?)\/( ?)(\d+)/;function DSe(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),s=Math.floor(a/r),o=a-s*r,i=r;return n+(s===0?"":""+s)+" "+(o===0?ia(" ",e[1].length+1+e[4].length):Tk(o,e[1].length)+e[2]+"/"+e[3]+qi(i,e[4].length))}function USe(e,t,n){return n+(t===0?"":""+t)+ia(" ",e[1].length+2+e[4].length)}var PO=/^#*0*\.([0#]+)/,DO=/\).*[0#]/,UO=/\(###\) ###\\?-####/;function oo(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function pU(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function gU(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function RSe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function NSe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function mi(e,t,n){if(e.charCodeAt(0)===40&&!t.match(DO)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?mi("n",r,n):"("+mi("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return PSe(e,t,n);if(t.indexOf("%")!==-1)return FSe(e,t,n);if(t.indexOf("E")!==-1)return TO(t,n);if(t.charCodeAt(0)===36)return"$"+mi(e,t.substr(t.charAt(1)==" "?2:1),n);var a,s,o,i,c=Math.abs(n),A=n<0?"-":"";if(t.match(/^00+$/))return A+Rf(c,t.length);if(t.match(/^[#?]+$/))return a=Rf(n,0),a==="0"&&(a=""),a.length>t.length?a:oo(t.substr(0,t.length-a.length))+a;if(s=t.match(FO))return DSe(s,c,A);if(t.match(/^#+0+$/))return A+Rf(c,t.length-t.indexOf("0"));if(s=t.match(PO))return a=pU(n,s[1].length).replace(/^([^\.]+)$/,"$1."+oo(s[1])).replace(/\.$/,"."+oo(s[1])).replace(/\.(\d*)$/,function(h,y){return"."+y+ia("0",oo(s[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return A+pU(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return A+Hu(Rf(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+mi(e,t,-n):Hu(""+(Math.floor(n)+RSe(n,s[1].length)))+"."+qi(gU(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return mi(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Am(mi(e,t.replace(/[\\-]/g,""),n)),o=0,Am(Am(t.replace(/\\/g,"")).replace(/[0#]/g,function(h){return o<a.length?a.charAt(o++):h==="0"?"0":""}));if(t.match(UO))return a=mi(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),i=v2(c,Math.pow(10,o)-1,!1),a=""+A,u=Hc("n",s[1],i[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=m2(i[2],o),u.length<s[4].length&&(u=oo(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),i=v2(c,Math.pow(10,o)-1,!0),A+(i[0]||(i[1]?"":"0"))+" "+(i[1]?Tk(i[1],o)+s[2]+"/"+s[3]+m2(i[2],o):ia(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Rf(n,0),t.length<=a.length?a:oo(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return oo(t.substr(0,f)+a+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=gU(n,s[1].length),n<0?"-"+mi(e,t,-n):Hu(NSe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(h){return"00,"+(h.length<3?qi(0,3-h.length):"")+h})+"."+qi(o,s[1].length);switch(t){case"###,##0.00":return mi(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var v=Hu(Rf(c,0));return v!=="0"?A+v:"";case"###,###.00":return mi(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return mi(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function LSe(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Hc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function VSe(e,t,n){var r=t.replace(IO,""),a=t.length-r.length;return Hc(e,r,n*Math.pow(10,2*a))+ia("%",a)}function RO(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+RO(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),n=(t/Math.pow(10,s)).toPrecision(r+1+(a+s)%a),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(i,c,A,u){return c+A+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Dl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(DO)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Dl("n",r,n):"("+Dl("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return LSe(e,t,n);if(t.indexOf("%")!==-1)return VSe(e,t,n);if(t.indexOf("E")!==-1)return RO(t,n);if(t.charCodeAt(0)===36)return"$"+Dl(e,t.substr(t.charAt(1)==" "?2:1),n);var a,s,o,i,c=Math.abs(n),A=n<0?"-":"";if(t.match(/^00+$/))return A+qi(c,t.length);if(t.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>t.length?a:oo(t.substr(0,t.length-a.length))+a;if(s=t.match(FO))return USe(s,c,A);if(t.match(/^#+0+$/))return A+qi(c,t.length-t.indexOf("0"));if(s=t.match(PO))return a=(""+n).replace(/^([^\.]+)$/,"$1."+oo(s[1])).replace(/\.$/,"."+oo(s[1])),a=a.replace(/\.(\d*)$/,function(h,y){return"."+y+ia("0",oo(s[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return A+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return A+Hu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Dl(e,t,-n):Hu(""+n)+"."+ia("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Dl(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Am(Dl(e,t.replace(/[\\-]/g,""),n)),o=0,Am(Am(t.replace(/\\/g,"")).replace(/[0#]/g,function(h){return o<a.length?a.charAt(o++):h==="0"?"0":""}));if(t.match(UO))return a=Dl(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),i=v2(c,Math.pow(10,o)-1,!1),a=""+A,u=Hc("n",s[1],i[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=m2(i[2],o),u.length<s[4].length&&(u=oo(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),i=v2(c,Math.pow(10,o)-1,!0),A+(i[0]||(i[1]?"":"0"))+" "+(i[1]?Tk(i[1],o)+s[2]+"/"+s[3]+m2(i[2],o):ia(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:oo(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return oo(t.substr(0,f)+a+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Dl(e,t,-n):Hu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(h){return"00,"+(h.length<3?qi(0,3-h.length):"")+h})+"."+qi(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var v=Hu(""+c);return v!=="0"?A+v:"";default:if(t.match(/\.[0#?]*$/))return Dl(e,t.slice(0,t.lastIndexOf(".")),n)+oo(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Hc(e,t,n){return(n|0)===n?Dl(e,t,n):mi(e,t,n)}function MSe(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var NO=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function nh(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":h2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(NO))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function OSe(e,t,n,r){for(var a=[],s="",o=0,i="",c="t",A,u,f,m="H";o<e.length;)switch(i=e.charAt(o)){case"G":if(!h2(e,o))throw new Error("unrecognized character "+i+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var v=e.charAt(++o),h=v==="("||v===")"?v:"t";a[a.length]={t:h,v},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(A==null&&(A=Zd(t,n,e.charAt(o+1)==="2"),A==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=i,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":i=i.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||A==null&&(A=Zd(t,n),A==null))return"";for(s=i;++o<e.length&&e.charAt(o).toLowerCase()===i;)s+=i;i==="m"&&c.toLowerCase()==="h"&&(i="M"),i==="h"&&(i=m),a[a.length]={t:i,v:s},c=i;break;case"A":case"a":case"":var y={t:i,v:i};if(A==null&&(A=Zd(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(A!=null&&(y.v=A.H>=12?"P":"A"),y.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(A!=null&&(y.v=A.H>=12?"PM":"AM"),y.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(A!=null&&(y.v=A.H>=12?"":""),y.t="T",o+=5,m="h"):(y.t="t",++o),A==null&&y.t==="T")return"";a[a.length]=y,c=i;break;case"[":for(s=i;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(NO)){if(A==null&&(A=Zd(t,n),A==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",nh(e)||(a[a.length]={t:"t",v:s}));break;case".":if(A!=null){for(s=i;++o<e.length&&(i=e.charAt(o))==="0";)s+=i;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=i;++o<e.length&&"0#?.,E+-%".indexOf(i=e.charAt(o))>-1;)s+=i;a[a.length]={t:"n",v:s};break;case"?":for(s=i;e.charAt(++o)===i;)s+=i;a[a.length]={t:i,v:s},c=i;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:r===1?"t":i,v:i},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=i;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:i,v:i},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(i)===-1)throw new Error("unrecognized character "+i+" in "+e);a[a.length]={t:"t",v:i},++o;break}var w=0,b=0,B;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",w<1&&(w=1);break;case"s":(B=a[o].v.match(/\.0+$/))&&(b=Math.max(b,B[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[o].v.match(/[Hh]/)&&(w=1),w<2&&a[o].v.match(/[Mm]/)&&(w=2),w<3&&a[o].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:A.u>=.5&&(A.u=0,++A.S),A.S>=60&&(A.S=0,++A.M),A.M>=60&&(A.M=0,++A.H);break;case 2:A.u>=.5&&(A.u=0,++A.S),A.S>=60&&(A.S=0,++A.M);break}var S="",T;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=TSe(a[o].t.charCodeAt(0),a[o].v,A,b),a[o].t="t";break;case"n":case"?":for(T=o+1;a[T]!=null&&((i=a[T].t)==="?"||i==="D"||(i===" "||i==="t")&&a[T+1]!=null&&(a[T+1].t==="?"||a[T+1].t==="t"&&a[T+1].v==="/")||a[o].t==="("&&(i===" "||i==="n"||i===")")||i==="t"&&(a[T].v==="/"||a[T].v===" "&&a[T+1]!=null&&a[T+1].t=="?"));)a[o].v+=a[T].v,a[T]={v:"",t:";"},++T;S+=a[o].v,o=T-1;break;case"G":a[o].t="t",a[o].v=xA(t,n);break}var N="",k,E;if(S.length>0){S.charCodeAt(0)==40?(k=t<0&&S.charCodeAt(0)===45?-t:t,E=Hc("n",S,k)):(k=t<0&&r>1?-t:t,E=Hc("n",S,k),k<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),T=E.length-1;var _=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){_=o;break}var C=a.length;if(_===a.length&&E.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(T>=a[o].v.length-1?(T-=a[o].v.length,a[o].v=E.substr(T+1,a[o].v.length)):T<0?a[o].v="":(a[o].v=E.substr(0,T+1),T=-1),a[o].t="t",C=o);T>=0&&C<a.length&&(a[C].v=E.substr(0,T+1)+a[C].v)}else if(_!==a.length&&E.indexOf("E")===-1){for(T=E.indexOf(".")-1,o=_;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===_?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(u+1);u>=0;--u)T>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(N=E.charAt(T--)+N);a[o].v=N,a[o].t="t",C=o}for(T>=0&&C<a.length&&(a[C].v=E.substr(0,T+1)+a[C].v),T=E.indexOf(".")+1,o=_;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==_)){for(u=a[o].v.indexOf(".")>-1&&o===_?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,u);u<a[o].v.length;++u)T<E.length&&(N+=E.charAt(T++));a[o].v=N,a[o].t="t",C=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(k=r>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Hc(a[o].t,a[o].v,k),a[o].t="t");var F="";for(o=0;o!==a.length;++o)a[o]!=null&&(F+=a[o].v);return F}var yU=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function wU(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function QSe(e,t){var n=MSe(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(yU),i=n[1].match(yU);return wU(t,o)?[r,n[0]]:wU(t,i)?[r,n[1]]:[r,n[o!=null&&i!=null?2:1]]}return[r,s]}function Bi(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Nn)[e],r==null&&(r=n.table&&n.table[vU[e]]||Nn[vU[e]]),r==null&&(r=xSe[e]||"General");break}if(h2(r,0))return xA(t,n);t instanceof Date&&(t=kO(t,n.date1904));var a=QSe(r,t);if(h2(a[1]))return xA(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return OSe(a[1],t,n,a[0])}function AA(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Nn[n]==null){t<0&&(t=n);continue}if(Nn[n]==e){t=n;break}}t<0&&(t=391)}return Nn[t]=e,t}function LO(){Nn=bSe()}var HSe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},VO=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function KSe(e){var t=typeof e=="number"?Nn[e]:e;return t=t.replace(VO,"(\\d+)"),new RegExp("^"+t+"$")}function GSe(e,t,n){var r=-1,a=-1,s=-1,o=-1,i=-1,c=-1;(t.match(VO)||[]).forEach(function(f,m){var v=parseInt(n[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":r=v;break;case"d":s=v;break;case"h":o=v;break;case"s":c=v;break;case"m":o>=0?i=v:a=v;break}}),c>=0&&i==-1&&a>=0&&(i=a,a=-1);var A=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);A.length==7&&(A="0"+A),A.length==8&&(A="20"+A);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&i==-1&&c==-1?A:r==-1&&a==-1&&s==-1?u:A+"T"+u}var zSe=(function(){var e={};e.version="1.2.0";function t(){for(var E=0,_=new Array(256),C=0;C!=256;++C)E=C,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,_[C]=E;return typeof Int32Array<"u"?new Int32Array(_):_}var n=t();function r(E){var _=0,C=0,F=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)I[F]=E[F];for(F=0;F!=256;++F)for(C=E[F],_=256+F;_<4096;_+=256)C=I[_]=C>>>8^E[C&255];var R=[];for(F=1;F!=16;++F)R[F-1]=typeof Int32Array<"u"?I.subarray(F*256,F*256+256):I.slice(F*256,F*256+256);return R}var a=r(n),s=a[0],o=a[1],i=a[2],c=a[3],A=a[4],u=a[5],f=a[6],m=a[7],v=a[8],h=a[9],y=a[10],w=a[11],b=a[12],B=a[13],S=a[14];function T(E,_){for(var C=_^-1,F=0,I=E.length;F<I;)C=C>>>8^n[(C^E.charCodeAt(F++))&255];return~C}function N(E,_){for(var C=_^-1,F=E.length-15,I=0;I<F;)C=S[E[I++]^C&255]^B[E[I++]^C>>8&255]^b[E[I++]^C>>16&255]^w[E[I++]^C>>>24]^y[E[I++]]^h[E[I++]]^v[E[I++]]^m[E[I++]]^f[E[I++]]^u[E[I++]]^A[E[I++]]^c[E[I++]]^i[E[I++]]^o[E[I++]]^s[E[I++]]^n[E[I++]];for(F+=15;I<F;)C=C>>>8^n[(C^E[I++])&255];return~C}function k(E,_){for(var C=_^-1,F=0,I=E.length,R=0,M=0;F<I;)R=E.charCodeAt(F++),R<128?C=C>>>8^n[(C^R)&255]:R<2048?(C=C>>>8^n[(C^(192|R>>6&31))&255],C=C>>>8^n[(C^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,M=E.charCodeAt(F++)&1023,C=C>>>8^n[(C^(240|R>>8&7))&255],C=C>>>8^n[(C^(128|R>>2&63))&255],C=C>>>8^n[(C^(128|M>>6&15|(R&3)<<4))&255],C=C>>>8^n[(C^(128|M&63))&255]):(C=C>>>8^n[(C^(224|R>>12&15))&255],C=C>>>8^n[(C^(128|R>>6&63))&255],C=C>>>8^n[(C^(128|R&63))&255]);return~C}return e.table=n,e.bstr=T,e.buf=N,e.str=k,e})(),nr=(function(){var t={};t.version="1.2.1";function n(Ce,Re){for(var pe=Ce.split("/"),Ie=Re.split("/"),Me=0,de=0,fe=Math.min(pe.length,Ie.length);Me<fe;++Me){if(de=pe[Me].length-Ie[Me].length)return de;if(pe[Me]!=Ie[Me])return pe[Me]<Ie[Me]?-1:1}return pe.length-Ie.length}function r(Ce){if(Ce.charAt(Ce.length-1)=="/")return Ce.slice(0,-1).indexOf("/")===-1?Ce:r(Ce.slice(0,-1));var Re=Ce.lastIndexOf("/");return Re===-1?Ce:Ce.slice(0,Re+1)}function a(Ce){if(Ce.charAt(Ce.length-1)=="/")return a(Ce.slice(0,-1));var Re=Ce.lastIndexOf("/");return Re===-1?Ce:Ce.slice(Re+1)}function s(Ce,Re){typeof Re=="string"&&(Re=new Date(Re));var pe=Re.getHours();pe=pe<<6|Re.getMinutes(),pe=pe<<5|Re.getSeconds()>>>1,Ce.write_shift(2,pe);var Ie=Re.getFullYear()-1980;Ie=Ie<<4|Re.getMonth()+1,Ie=Ie<<5|Re.getDate(),Ce.write_shift(2,Ie)}function o(Ce){var Re=Ce.read_shift(2)&65535,pe=Ce.read_shift(2)&65535,Ie=new Date,Me=pe&31;pe>>>=5;var de=pe&15;pe>>>=4,Ie.setMilliseconds(0),Ie.setFullYear(pe+1980),Ie.setMonth(de-1),Ie.setDate(Me);var fe=Re&31;Re>>>=5;var Ze=Re&63;return Re>>>=6,Ie.setHours(Re),Ie.setMinutes(Ze),Ie.setSeconds(fe<<1),Ie}function i(Ce){us(Ce,0);for(var Re={},pe=0;Ce.l<=Ce.length-4;){var Ie=Ce.read_shift(2),Me=Ce.read_shift(2),de=Ce.l+Me,fe={};switch(Ie){case 21589:pe=Ce.read_shift(1),pe&1&&(fe.mtime=Ce.read_shift(4)),Me>5&&(pe&2&&(fe.atime=Ce.read_shift(4)),pe&4&&(fe.ctime=Ce.read_shift(4))),fe.mtime&&(fe.mt=new Date(fe.mtime*1e3));break}Ce.l=de,Re[Ie]=fe}return Re}var c;function A(){return c||(c={})}function u(Ce,Re){if(Ce[0]==80&&Ce[1]==75)return an(Ce,Re);if((Ce[0]|32)==109&&(Ce[1]|32)==105)return Qt(Ce,Re);if(Ce.length<512)throw new Error("CFB file size "+Ce.length+" < 512");var pe=3,Ie=512,Me=0,de=0,fe=0,Ze=0,Ye=0,dt=[],ct=Ce.slice(0,512);us(ct,0);var lt=f(ct);switch(pe=lt[0],pe){case 3:Ie=512;break;case 4:Ie=4096;break;case 0:if(lt[1]==0)return an(Ce,Re);default:throw new Error("Major Version: Expected 3 or 4 saw "+pe)}Ie!==512&&(ct=Ce.slice(0,Ie),us(ct,28));var xt=Ce.slice(0,Ie);m(ct,pe);var vt=ct.read_shift(4,"i");if(pe===3&&vt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+vt);ct.l+=4,fe=ct.read_shift(4,"i"),ct.l+=4,ct.chk("00100000","Mini Stream Cutoff Size: "),Ze=ct.read_shift(4,"i"),Me=ct.read_shift(4,"i"),Ye=ct.read_shift(4,"i"),de=ct.read_shift(4,"i");for(var _t=-1,Lt=0;Lt<109&&(_t=ct.read_shift(4,"i"),!(_t<0));++Lt)dt[Lt]=_t;var qe=v(Ce,Ie);w(Ye,de,qe,Ie,dt);var Wt=B(qe,fe,dt,Ie);Wt[fe].name="!Directory",Me>0&&Ze!==M&&(Wt[Ze].name="!MiniFAT"),Wt[dt[0]].name="!FAT",Wt.fat_addrs=dt,Wt.ssz=Ie;var tn={},Kn=[],Ws=[],js=[];S(fe,Wt,qe,Kn,Me,tn,Ws,Ze),h(Ws,js,Kn),Kn.shift();var ai={FileIndex:Ws,FullPaths:js};return Re&&Re.raw&&(ai.raw={header:xt,sectors:qe}),ai}function f(Ce){if(Ce[Ce.l]==80&&Ce[Ce.l+1]==75)return[0,0];Ce.chk(te,"Header Signature: "),Ce.l+=16;var Re=Ce.read_shift(2,"u");return[Ce.read_shift(2,"u"),Re]}function m(Ce,Re){var pe=9;switch(Ce.l+=2,pe=Ce.read_shift(2)){case 9:if(Re!=3)throw new Error("Sector Shift: Expected 9 saw "+pe);break;case 12:if(Re!=4)throw new Error("Sector Shift: Expected 12 saw "+pe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+pe)}Ce.chk("0600","Mini Sector Shift: "),Ce.chk("000000000000","Reserved: ")}function v(Ce,Re){for(var pe=Math.ceil(Ce.length/Re)-1,Ie=[],Me=1;Me<pe;++Me)Ie[Me-1]=Ce.slice(Me*Re,(Me+1)*Re);return Ie[pe-1]=Ce.slice(pe*Re),Ie}function h(Ce,Re,pe){for(var Ie=0,Me=0,de=0,fe=0,Ze=0,Ye=pe.length,dt=[],ct=[];Ie<Ye;++Ie)dt[Ie]=ct[Ie]=Ie,Re[Ie]=pe[Ie];for(;Ze<ct.length;++Ze)Ie=ct[Ze],Me=Ce[Ie].L,de=Ce[Ie].R,fe=Ce[Ie].C,dt[Ie]===Ie&&(Me!==-1&&dt[Me]!==Me&&(dt[Ie]=dt[Me]),de!==-1&&dt[de]!==de&&(dt[Ie]=dt[de])),fe!==-1&&(dt[fe]=Ie),Me!==-1&&Ie!=dt[Ie]&&(dt[Me]=dt[Ie],ct.lastIndexOf(Me)<Ze&&ct.push(Me)),de!==-1&&Ie!=dt[Ie]&&(dt[de]=dt[Ie],ct.lastIndexOf(de)<Ze&&ct.push(de));for(Ie=1;Ie<Ye;++Ie)dt[Ie]===Ie&&(de!==-1&&dt[de]!==de?dt[Ie]=dt[de]:Me!==-1&&dt[Me]!==Me&&(dt[Ie]=dt[Me]));for(Ie=1;Ie<Ye;++Ie)if(Ce[Ie].type!==0){if(Ze=Ie,Ze!=dt[Ze])do Ze=dt[Ze],Re[Ie]=Re[Ze]+"/"+Re[Ie];while(Ze!==0&&dt[Ze]!==-1&&Ze!=dt[Ze]);dt[Ie]=-1}for(Re[0]+="/",Ie=1;Ie<Ye;++Ie)Ce[Ie].type!==2&&(Re[Ie]+="/")}function y(Ce,Re,pe){for(var Ie=Ce.start,Me=Ce.size,de=[],fe=Ie;pe&&Me>0&&fe>=0;)de.push(Re.slice(fe*R,fe*R+R)),Me-=R,fe=zd(pe,fe*4);return de.length===0?Oa(0):Lu(de).slice(0,Ce.size)}function w(Ce,Re,pe,Ie,Me){var de=M;if(Ce===M){if(Re!==0)throw new Error("DIFAT chain shorter than expected")}else if(Ce!==-1){var fe=pe[Ce],Ze=(Ie>>>2)-1;if(!fe)return;for(var Ye=0;Ye<Ze&&(de=zd(fe,Ye*4))!==M;++Ye)Me.push(de);w(zd(fe,Ie-4),Re-1,pe,Ie,Me)}}function b(Ce,Re,pe,Ie,Me){var de=[],fe=[];Me||(Me=[]);var Ze=Ie-1,Ye=0,dt=0;for(Ye=Re;Ye>=0;){Me[Ye]=!0,de[de.length]=Ye,fe.push(Ce[Ye]);var ct=pe[Math.floor(Ye*4/Ie)];if(dt=Ye*4&Ze,Ie<4+dt)throw new Error("FAT boundary crossed: "+Ye+" 4 "+Ie);if(!Ce[ct])break;Ye=zd(Ce[ct],dt)}return{nodes:de,data:TU([fe])}}function B(Ce,Re,pe,Ie){var Me=Ce.length,de=[],fe=[],Ze=[],Ye=[],dt=Ie-1,ct=0,lt=0,xt=0,vt=0;for(ct=0;ct<Me;++ct)if(Ze=[],xt=ct+Re,xt>=Me&&(xt-=Me),!fe[xt]){Ye=[];var _t=[];for(lt=xt;lt>=0;){_t[lt]=!0,fe[lt]=!0,Ze[Ze.length]=lt,Ye.push(Ce[lt]);var Lt=pe[Math.floor(lt*4/Ie)];if(vt=lt*4&dt,Ie<4+vt)throw new Error("FAT boundary crossed: "+lt+" 4 "+Ie);if(!Ce[Lt]||(lt=zd(Ce[Lt],vt),_t[lt]))break}de[xt]={nodes:Ze,data:TU([Ye])}}return de}function S(Ce,Re,pe,Ie,Me,de,fe,Ze){for(var Ye=0,dt=Ie.length?2:0,ct=Re[Ce].data,lt=0,xt=0,vt;lt<ct.length;lt+=128){var _t=ct.slice(lt,lt+128);us(_t,64),xt=_t.read_shift(2),vt=Nk(_t,0,xt-dt),Ie.push(vt);var Lt={name:vt,type:_t.read_shift(1),color:_t.read_shift(1),L:_t.read_shift(4,"i"),R:_t.read_shift(4,"i"),C:_t.read_shift(4,"i"),clsid:_t.read_shift(16),state:_t.read_shift(4,"i"),start:0,size:0},qe=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);qe!==0&&(Lt.ct=T(_t,_t.l-8));var Wt=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);Wt!==0&&(Lt.mt=T(_t,_t.l-8)),Lt.start=_t.read_shift(4,"i"),Lt.size=_t.read_shift(4,"i"),Lt.size<0&&Lt.start<0&&(Lt.size=Lt.type=0,Lt.start=M,Lt.name=""),Lt.type===5?(Ye=Lt.start,Me>0&&Ye!==M&&(Re[Ye].name="!StreamData")):Lt.size>=4096?(Lt.storage="fat",Re[Lt.start]===void 0&&(Re[Lt.start]=b(pe,Lt.start,Re.fat_addrs,Re.ssz)),Re[Lt.start].name=Lt.name,Lt.content=Re[Lt.start].data.slice(0,Lt.size)):(Lt.storage="minifat",Lt.size<0?Lt.size=0:Ye!==M&&Lt.start!==M&&Re[Ye]&&(Lt.content=y(Lt,Re[Ye].data,(Re[Ze]||{}).data))),Lt.content&&us(Lt.content,0),de[vt]=Lt,fe.push(Lt)}}function T(Ce,Re){return new Date((Go(Ce,Re+4)/1e7*Math.pow(2,32)+Go(Ce,Re)/1e7-11644473600)*1e3)}function N(Ce,Re){return A(),u(c.readFileSync(Ce),Re)}function k(Ce,Re){var pe=Re&&Re.type;switch(pe||qn&&Buffer.isBuffer(Ce)&&(pe="buffer"),pe||"base64"){case"file":return N(Ce,Re);case"base64":return u(Gi(Zo(Ce)),Re);case"binary":return u(Gi(Ce),Re)}return u(Ce,Re)}function E(Ce,Re){var pe=Re||{},Ie=pe.root||"Root Entry";if(Ce.FullPaths||(Ce.FullPaths=[]),Ce.FileIndex||(Ce.FileIndex=[]),Ce.FullPaths.length!==Ce.FileIndex.length)throw new Error("inconsistent CFB structure");Ce.FullPaths.length===0&&(Ce.FullPaths[0]=Ie+"/",Ce.FileIndex[0]={name:Ie,type:5}),pe.CLSID&&(Ce.FileIndex[0].clsid=pe.CLSID),_(Ce)}function _(Ce){var Re="Sh33tJ5";if(!nr.find(Ce,"/"+Re)){var pe=Oa(4);pe[0]=55,pe[1]=pe[3]=50,pe[2]=54,Ce.FileIndex.push({name:Re,type:2,content:pe,size:4,L:69,R:69,C:69}),Ce.FullPaths.push(Ce.FullPaths[0]+Re),C(Ce)}}function C(Ce,Re){E(Ce);for(var pe=!1,Ie=!1,Me=Ce.FullPaths.length-1;Me>=0;--Me){var de=Ce.FileIndex[Me];switch(de.type){case 0:Ie?pe=!0:(Ce.FileIndex.pop(),Ce.FullPaths.pop());break;case 1:case 2:case 5:Ie=!0,isNaN(de.R*de.L*de.C)&&(pe=!0),de.R>-1&&de.L>-1&&de.R==de.L&&(pe=!0);break;default:pe=!0;break}}if(!(!pe&&!Re)){var fe=new Date(1987,1,19),Ze=0,Ye=Object.create?Object.create(null):{},dt=[];for(Me=0;Me<Ce.FullPaths.length;++Me)Ye[Ce.FullPaths[Me]]=!0,Ce.FileIndex[Me].type!==0&&dt.push([Ce.FullPaths[Me],Ce.FileIndex[Me]]);for(Me=0;Me<dt.length;++Me){var ct=r(dt[Me][0]);Ie=Ye[ct],Ie||(dt.push([ct,{name:a(ct).replace("/",""),type:1,clsid:O,ct:fe,mt:fe,content:null}]),Ye[ct]=!0)}for(dt.sort(function(vt,_t){return n(vt[0],_t[0])}),Ce.FullPaths=[],Ce.FileIndex=[],Me=0;Me<dt.length;++Me)Ce.FullPaths[Me]=dt[Me][0],Ce.FileIndex[Me]=dt[Me][1];for(Me=0;Me<dt.length;++Me){var lt=Ce.FileIndex[Me],xt=Ce.FullPaths[Me];if(lt.name=a(xt).replace("/",""),lt.L=lt.R=lt.C=-(lt.color=1),lt.size=lt.content?lt.content.length:0,lt.start=0,lt.clsid=lt.clsid||O,Me===0)lt.C=dt.length>1?1:-1,lt.size=0,lt.type=5;else if(xt.slice(-1)=="/"){for(Ze=Me+1;Ze<dt.length&&r(Ce.FullPaths[Ze])!=xt;++Ze);for(lt.C=Ze>=dt.length?-1:Ze,Ze=Me+1;Ze<dt.length&&r(Ce.FullPaths[Ze])!=r(xt);++Ze);lt.R=Ze>=dt.length?-1:Ze,lt.type=1}else r(Ce.FullPaths[Me+1]||"")==r(xt)&&(lt.R=Me+1),lt.type=2}}}function F(Ce,Re){var pe=Re||{};if(pe.fileType=="mad")return Rt(Ce,pe);switch(C(Ce),pe.fileType){case"zip":return $t(Ce,pe)}var Ie=(function(vt){for(var _t=0,Lt=0,qe=0;qe<vt.FileIndex.length;++qe){var Wt=vt.FileIndex[qe];if(Wt.content){var tn=Wt.content.length;tn>0&&(tn<4096?_t+=tn+63>>6:Lt+=tn+511>>9)}}for(var Kn=vt.FullPaths.length+3>>2,Ws=_t+7>>3,js=_t+127>>7,ai=Ws+Lt+Kn+js,po=ai+127>>7,gl=po<=109?0:Math.ceil((po-109)/127);ai+po+gl+127>>7>po;)gl=++po<=109?0:Math.ceil((po-109)/127);var Sa=[1,gl,po,js,Kn,Lt,_t,0];return vt.FileIndex[0].size=_t<<6,Sa[7]=(vt.FileIndex[0].start=Sa[0]+Sa[1]+Sa[2]+Sa[3]+Sa[4]+Sa[5])+(Sa[6]+7>>3),Sa})(Ce),Me=Oa(Ie[7]<<9),de=0,fe=0;{for(de=0;de<8;++de)Me.write_shift(1,se[de]);for(de=0;de<8;++de)Me.write_shift(2,0);for(Me.write_shift(2,62),Me.write_shift(2,3),Me.write_shift(2,65534),Me.write_shift(2,9),Me.write_shift(2,6),de=0;de<3;++de)Me.write_shift(2,0);for(Me.write_shift(4,0),Me.write_shift(4,Ie[2]),Me.write_shift(4,Ie[0]+Ie[1]+Ie[2]+Ie[3]-1),Me.write_shift(4,0),Me.write_shift(4,4096),Me.write_shift(4,Ie[3]?Ie[0]+Ie[1]+Ie[2]-1:M),Me.write_shift(4,Ie[3]),Me.write_shift(-4,Ie[1]?Ie[0]-1:M),Me.write_shift(4,Ie[1]),de=0;de<109;++de)Me.write_shift(-4,de<Ie[2]?Ie[1]+de:-1)}if(Ie[1])for(fe=0;fe<Ie[1];++fe){for(;de<236+fe*127;++de)Me.write_shift(-4,de<Ie[2]?Ie[1]+de:-1);Me.write_shift(-4,fe===Ie[1]-1?M:fe+1)}var Ze=function(vt){for(fe+=vt;de<fe-1;++de)Me.write_shift(-4,de+1);vt&&(++de,Me.write_shift(-4,M))};for(fe=de=0,fe+=Ie[1];de<fe;++de)Me.write_shift(-4,W.DIFSECT);for(fe+=Ie[2];de<fe;++de)Me.write_shift(-4,W.FATSECT);Ze(Ie[3]),Ze(Ie[4]);for(var Ye=0,dt=0,ct=Ce.FileIndex[0];Ye<Ce.FileIndex.length;++Ye)ct=Ce.FileIndex[Ye],ct.content&&(dt=ct.content.length,!(dt<4096)&&(ct.start=fe,Ze(dt+511>>9)));for(Ze(Ie[6]+7>>3);Me.l&511;)Me.write_shift(-4,W.ENDOFCHAIN);for(fe=de=0,Ye=0;Ye<Ce.FileIndex.length;++Ye)ct=Ce.FileIndex[Ye],ct.content&&(dt=ct.content.length,!(!dt||dt>=4096)&&(ct.start=fe,Ze(dt+63>>6)));for(;Me.l&511;)Me.write_shift(-4,W.ENDOFCHAIN);for(de=0;de<Ie[4]<<2;++de){var lt=Ce.FullPaths[de];if(!lt||lt.length===0){for(Ye=0;Ye<17;++Ye)Me.write_shift(4,0);for(Ye=0;Ye<3;++Ye)Me.write_shift(4,-1);for(Ye=0;Ye<12;++Ye)Me.write_shift(4,0);continue}ct=Ce.FileIndex[de],de===0&&(ct.start=ct.size?ct.start-1:M);var xt=de===0&&pe.root||ct.name;if(dt=2*(xt.length+1),Me.write_shift(64,xt,"utf16le"),Me.write_shift(2,dt),Me.write_shift(1,ct.type),Me.write_shift(1,ct.color),Me.write_shift(-4,ct.L),Me.write_shift(-4,ct.R),Me.write_shift(-4,ct.C),ct.clsid)Me.write_shift(16,ct.clsid,"hex");else for(Ye=0;Ye<4;++Ye)Me.write_shift(4,0);Me.write_shift(4,ct.state||0),Me.write_shift(4,0),Me.write_shift(4,0),Me.write_shift(4,0),Me.write_shift(4,0),Me.write_shift(4,ct.start),Me.write_shift(4,ct.size),Me.write_shift(4,0)}for(de=1;de<Ce.FileIndex.length;++de)if(ct=Ce.FileIndex[de],ct.size>=4096)if(Me.l=ct.start+1<<9,qn&&Buffer.isBuffer(ct.content))ct.content.copy(Me,Me.l,0,ct.size),Me.l+=ct.size+511&-512;else{for(Ye=0;Ye<ct.size;++Ye)Me.write_shift(1,ct.content[Ye]);for(;Ye&511;++Ye)Me.write_shift(1,0)}for(de=1;de<Ce.FileIndex.length;++de)if(ct=Ce.FileIndex[de],ct.size>0&&ct.size<4096)if(qn&&Buffer.isBuffer(ct.content))ct.content.copy(Me,Me.l,0,ct.size),Me.l+=ct.size+63&-64;else{for(Ye=0;Ye<ct.size;++Ye)Me.write_shift(1,ct.content[Ye]);for(;Ye&63;++Ye)Me.write_shift(1,0)}if(qn)Me.l=Me.length;else for(;Me.l<Me.length;)Me.write_shift(1,0);return Me}function I(Ce,Re){var pe=Ce.FullPaths.map(function(Ye){return Ye.toUpperCase()}),Ie=pe.map(function(Ye){var dt=Ye.split("/");return dt[dt.length-(Ye.slice(-1)=="/"?2:1)]}),Me=!1;Re.charCodeAt(0)===47?(Me=!0,Re=pe[0].slice(0,-1)+Re):Me=Re.indexOf("/")!==-1;var de=Re.toUpperCase(),fe=Me===!0?pe.indexOf(de):Ie.indexOf(de);if(fe!==-1)return Ce.FileIndex[fe];var Ze=!de.match(B0);for(de=de.replace(Ao,""),Ze&&(de=de.replace(B0,"!")),fe=0;fe<pe.length;++fe)if((Ze?pe[fe].replace(B0,"!"):pe[fe]).replace(Ao,"")==de||(Ze?Ie[fe].replace(B0,"!"):Ie[fe]).replace(Ao,"")==de)return Ce.FileIndex[fe];return null}var R=64,M=-2,te="d0cf11e0a1b11ae1",se=[208,207,17,224,161,177,26,225],O="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:te,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:O,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function le(Ce,Re,pe){A();var Ie=F(Ce,pe);c.writeFileSync(Re,Ie)}function K(Ce){for(var Re=new Array(Ce.length),pe=0;pe<Ce.length;++pe)Re[pe]=String.fromCharCode(Ce[pe]);return Re.join("")}function ee(Ce,Re){var pe=F(Ce,Re);switch(Re&&Re.type||"buffer"){case"file":return A(),c.writeFileSync(Re.filename,pe),pe;case"binary":return typeof pe=="string"?pe:K(pe);case"base64":return AU(typeof pe=="string"?pe:K(pe));case"buffer":if(qn)return Buffer.isBuffer(pe)?pe:KA(pe);case"array":return typeof pe=="string"?Gi(pe):pe}return pe}var j;function U(Ce){try{var Re=Ce.InflateRaw,pe=new Re;if(pe._processChunk(new Uint8Array([3,0]),pe._finishFlushFlag),pe.bytesRead)j=Ce;else throw new Error("zlib does not expose bytesRead")}catch(Ie){console.error("cannot use native zlib: "+(Ie.message||Ie))}}function G(Ce,Re){if(!j)return cn(Ce,Re);var pe=j.InflateRaw,Ie=new pe,Me=Ie._processChunk(Ce.slice(Ce.l),Ie._finishFlushFlag);return Ce.l+=Ie.bytesRead,Me}function ne(Ce){return j?j.deflateRawSync(Ce):Je(Ce)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Y(Ce){var Re=(Ce<<1|Ce<<11)&139536|(Ce<<5|Ce<<15)&558144;return(Re>>16|Re>>8|Re)&255}for(var ae=typeof Uint8Array<"u",ge=ae?new Uint8Array(256):[],we=0;we<256;++we)ge[we]=Y(we);function z(Ce,Re){var pe=ge[Ce&255];return Re<=8?pe>>>8-Re:(pe=pe<<8|ge[Ce>>8&255],Re<=16?pe>>>16-Re:(pe=pe<<8|ge[Ce>>16&255],pe>>>24-Re))}function Ae(Ce,Re){var pe=Re&7,Ie=Re>>>3;return(Ce[Ie]|(pe<=6?0:Ce[Ie+1]<<8))>>>pe&3}function ie(Ce,Re){var pe=Re&7,Ie=Re>>>3;return(Ce[Ie]|(pe<=5?0:Ce[Ie+1]<<8))>>>pe&7}function _e(Ce,Re){var pe=Re&7,Ie=Re>>>3;return(Ce[Ie]|(pe<=4?0:Ce[Ie+1]<<8))>>>pe&15}function Pe(Ce,Re){var pe=Re&7,Ie=Re>>>3;return(Ce[Ie]|(pe<=3?0:Ce[Ie+1]<<8))>>>pe&31}function re(Ce,Re){var pe=Re&7,Ie=Re>>>3;return(Ce[Ie]|(pe<=1?0:Ce[Ie+1]<<8))>>>pe&127}function be(Ce,Re,pe){var Ie=Re&7,Me=Re>>>3,de=(1<<pe)-1,fe=Ce[Me]>>>Ie;return pe<8-Ie||(fe|=Ce[Me+1]<<8-Ie,pe<16-Ie)||(fe|=Ce[Me+2]<<16-Ie,pe<24-Ie)||(fe|=Ce[Me+3]<<24-Ie),fe&de}function He(Ce,Re,pe){var Ie=Re&7,Me=Re>>>3;return Ie<=5?Ce[Me]|=(pe&7)<<Ie:(Ce[Me]|=pe<<Ie&255,Ce[Me+1]=(pe&7)>>8-Ie),Re+3}function ke(Ce,Re,pe){var Ie=Re&7,Me=Re>>>3;return pe=(pe&1)<<Ie,Ce[Me]|=pe,Re+1}function Se(Ce,Re,pe){var Ie=Re&7,Me=Re>>>3;return pe<<=Ie,Ce[Me]|=pe&255,pe>>>=8,Ce[Me+1]=pe,Re+8}function st(Ce,Re,pe){var Ie=Re&7,Me=Re>>>3;return pe<<=Ie,Ce[Me]|=pe&255,pe>>>=8,Ce[Me+1]=pe&255,Ce[Me+2]=pe>>>8,Re+16}function je(Ce,Re){var pe=Ce.length,Ie=2*pe>Re?2*pe:Re+5,Me=0;if(pe>=Re)return Ce;if(qn){var de=fU(Ie);if(Ce.copy)Ce.copy(de);else for(;Me<Ce.length;++Me)de[Me]=Ce[Me];return de}else if(ae){var fe=new Uint8Array(Ie);if(fe.set)fe.set(Ce);else for(;Me<pe;++Me)fe[Me]=Ce[Me];return fe}return Ce.length=Ie,Ce}function Ve(Ce){for(var Re=new Array(Ce),pe=0;pe<Ce;++pe)Re[pe]=0;return Re}function Te(Ce,Re,pe){var Ie=1,Me=0,de=0,fe=0,Ze=0,Ye=Ce.length,dt=ae?new Uint16Array(32):Ve(32);for(de=0;de<32;++de)dt[de]=0;for(de=Ye;de<pe;++de)Ce[de]=0;Ye=Ce.length;var ct=ae?new Uint16Array(Ye):Ve(Ye);for(de=0;de<Ye;++de)dt[Me=Ce[de]]++,Ie<Me&&(Ie=Me),ct[de]=0;for(dt[0]=0,de=1;de<=Ie;++de)dt[de+16]=Ze=Ze+dt[de-1]<<1;for(de=0;de<Ye;++de)Ze=Ce[de],Ze!=0&&(ct[de]=dt[Ze+16]++);var lt=0;for(de=0;de<Ye;++de)if(lt=Ce[de],lt!=0)for(Ze=z(ct[de],Ie)>>Ie-lt,fe=(1<<Ie+4-lt)-1;fe>=0;--fe)Re[Ze|fe<<lt]=lt&15|de<<4;return Ie}var Le=ae?new Uint16Array(512):Ve(512),ht=ae?new Uint16Array(32):Ve(32);if(!ae){for(var Ct=0;Ct<512;++Ct)Le[Ct]=0;for(Ct=0;Ct<32;++Ct)ht[Ct]=0}(function(){for(var Ce=[],Re=0;Re<32;Re++)Ce.push(5);Te(Ce,ht,32);var pe=[];for(Re=0;Re<=143;Re++)pe.push(8);for(;Re<=255;Re++)pe.push(9);for(;Re<=279;Re++)pe.push(7);for(;Re<=287;Re++)pe.push(8);Te(pe,Le,288)})();var Dt=(function(){for(var Re=ae?new Uint8Array(32768):[],pe=0,Ie=0;pe<q.length-1;++pe)for(;Ie<q[pe+1];++Ie)Re[Ie]=pe;for(;Ie<32768;++Ie)Re[Ie]=29;var Me=ae?new Uint8Array(259):[];for(pe=0,Ie=0;pe<oe.length-1;++pe)for(;Ie<oe[pe+1];++Ie)Me[Ie]=pe;function de(Ze,Ye){for(var dt=0;dt<Ze.length;){var ct=Math.min(65535,Ze.length-dt),lt=dt+ct==Ze.length;for(Ye.write_shift(1,+lt),Ye.write_shift(2,ct),Ye.write_shift(2,~ct&65535);ct-- >0;)Ye[Ye.l++]=Ze[dt++]}return Ye.l}function fe(Ze,Ye){for(var dt=0,ct=0,lt=ae?new Uint16Array(32768):[];ct<Ze.length;){var xt=Math.min(65535,Ze.length-ct);if(xt<10){for(dt=He(Ye,dt,+(ct+xt==Ze.length)),dt&7&&(dt+=8-(dt&7)),Ye.l=dt/8|0,Ye.write_shift(2,xt),Ye.write_shift(2,~xt&65535);xt-- >0;)Ye[Ye.l++]=Ze[ct++];dt=Ye.l*8;continue}dt=He(Ye,dt,+(ct+xt==Ze.length)+2);for(var vt=0;xt-- >0;){var _t=Ze[ct];vt=(vt<<5^_t)&32767;var Lt=-1,qe=0;if((Lt=lt[vt])&&(Lt|=ct&-32768,Lt>ct&&(Lt-=32768),Lt<ct))for(;Ze[Lt+qe]==Ze[ct+qe]&&qe<250;)++qe;if(qe>2){_t=Me[qe],_t<=22?dt=Se(Ye,dt,ge[_t+1]>>1)-1:(Se(Ye,dt,3),dt+=5,Se(Ye,dt,ge[_t-23]>>5),dt+=3);var Wt=_t<8?0:_t-4>>2;Wt>0&&(st(Ye,dt,qe-oe[_t]),dt+=Wt),_t=Re[ct-Lt],dt=Se(Ye,dt,ge[_t]>>3),dt-=3;var tn=_t<4?0:_t-2>>1;tn>0&&(st(Ye,dt,ct-Lt-q[_t]),dt+=tn);for(var Kn=0;Kn<qe;++Kn)lt[vt]=ct&32767,vt=(vt<<5^Ze[ct])&32767,++ct;xt-=qe-1}else _t<=143?_t=_t+48:dt=ke(Ye,dt,1),dt=Se(Ye,dt,ge[_t]),lt[vt]=ct&32767,++ct}dt=Se(Ye,dt,0)-1}return Ye.l=(dt+7)/8|0,Ye.l}return function(Ye,dt){return Ye.length<8?de(Ye,dt):fe(Ye,dt)}})();function Je(Ce){var Re=Oa(50+Math.floor(Ce.length*1.1)),pe=Dt(Ce,Re);return Re.slice(0,pe)}var Oe=ae?new Uint16Array(32768):Ve(32768),it=ae?new Uint16Array(32768):Ve(32768),at=ae?new Uint16Array(128):Ve(128),Xe=1,Ut=1;function Yt(Ce,Re){var pe=Pe(Ce,Re)+257;Re+=5;var Ie=Pe(Ce,Re)+1;Re+=5;var Me=_e(Ce,Re)+4;Re+=4;for(var de=0,fe=ae?new Uint8Array(19):Ve(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ye=1,dt=ae?new Uint8Array(8):Ve(8),ct=ae?new Uint8Array(8):Ve(8),lt=fe.length,xt=0;xt<Me;++xt)fe[X[xt]]=de=ie(Ce,Re),Ye<de&&(Ye=de),dt[de]++,Re+=3;var vt=0;for(dt[0]=0,xt=1;xt<=Ye;++xt)ct[xt]=vt=vt+dt[xt-1]<<1;for(xt=0;xt<lt;++xt)(vt=fe[xt])!=0&&(Ze[xt]=ct[vt]++);var _t=0;for(xt=0;xt<lt;++xt)if(_t=fe[xt],_t!=0){vt=ge[Ze[xt]]>>8-_t;for(var Lt=(1<<7-_t)-1;Lt>=0;--Lt)at[vt|Lt<<_t]=_t&7|xt<<3}var qe=[];for(Ye=1;qe.length<pe+Ie;)switch(vt=at[re(Ce,Re)],Re+=vt&7,vt>>>=3){case 16:for(de=3+Ae(Ce,Re),Re+=2,vt=qe[qe.length-1];de-- >0;)qe.push(vt);break;case 17:for(de=3+ie(Ce,Re),Re+=3;de-- >0;)qe.push(0);break;case 18:for(de=11+re(Ce,Re),Re+=7;de-- >0;)qe.push(0);break;default:qe.push(vt),Ye<vt&&(Ye=vt);break}var Wt=qe.slice(0,pe),tn=qe.slice(pe);for(xt=pe;xt<286;++xt)Wt[xt]=0;for(xt=Ie;xt<30;++xt)tn[xt]=0;return Xe=Te(Wt,Oe,286),Ut=Te(tn,it,30),Re}function bt(Ce,Re){if(Ce[0]==3&&!(Ce[1]&3))return[rd(Re),2];for(var pe=0,Ie=0,Me=fU(Re||1<<18),de=0,fe=Me.length>>>0,Ze=0,Ye=0;(Ie&1)==0;){if(Ie=ie(Ce,pe),pe+=3,Ie>>>1)Ie>>1==1?(Ze=9,Ye=5):(pe=Yt(Ce,pe),Ze=Xe,Ye=Ut);else{pe&7&&(pe+=8-(pe&7));var dt=Ce[pe>>>3]|Ce[(pe>>>3)+1]<<8;if(pe+=32,dt>0)for(!Re&&fe<de+dt&&(Me=je(Me,de+dt),fe=Me.length);dt-- >0;)Me[de++]=Ce[pe>>>3],pe+=8;continue}for(;;){!Re&&fe<de+32767&&(Me=je(Me,de+32767),fe=Me.length);var ct=be(Ce,pe,Ze),lt=Ie>>>1==1?Le[ct]:Oe[ct];if(pe+=lt&15,lt>>>=4,(lt>>>8&255)===0)Me[de++]=lt;else{if(lt==256)break;lt-=257;var xt=lt<8?0:lt-4>>2;xt>5&&(xt=0);var vt=de+oe[lt];xt>0&&(vt+=be(Ce,pe,xt),pe+=xt),ct=be(Ce,pe,Ye),lt=Ie>>>1==1?ht[ct]:it[ct],pe+=lt&15,lt>>>=4;var _t=lt<4?0:lt-2>>1,Lt=q[lt];for(_t>0&&(Lt+=be(Ce,pe,_t),pe+=_t),!Re&&fe<vt&&(Me=je(Me,vt+100),fe=Me.length);de<vt;)Me[de]=Me[de-Lt],++de}}}return Re?[Me,pe+7>>>3]:[Me.slice(0,de),pe+7>>>3]}function cn(Ce,Re){var pe=Ce.slice(Ce.l||0),Ie=bt(pe,Re);return Ce.l+=Ie[1],Ie[0]}function ln(Ce,Re){if(Ce)typeof console<"u"&&console.error(Re);else throw new Error(Re)}function an(Ce,Re){var pe=Ce;us(pe,0);var Ie=[],Me=[],de={FileIndex:Ie,FullPaths:Me};E(de,{root:Re.root});for(var fe=pe.length-4;(pe[fe]!=80||pe[fe+1]!=75||pe[fe+2]!=5||pe[fe+3]!=6)&&fe>=0;)--fe;pe.l=fe+4,pe.l+=4;var Ze=pe.read_shift(2);pe.l+=6;var Ye=pe.read_shift(4);for(pe.l=Ye,fe=0;fe<Ze;++fe){pe.l+=20;var dt=pe.read_shift(4),ct=pe.read_shift(4),lt=pe.read_shift(2),xt=pe.read_shift(2),vt=pe.read_shift(2);pe.l+=8;var _t=pe.read_shift(4),Lt=i(pe.slice(pe.l+lt,pe.l+lt+xt));pe.l+=lt+xt+vt;var qe=pe.l;pe.l=_t+4,zt(pe,dt,ct,de,Lt),pe.l=qe}return de}function zt(Ce,Re,pe,Ie,Me){Ce.l+=2;var de=Ce.read_shift(2),fe=Ce.read_shift(2),Ze=o(Ce);if(de&8257)throw new Error("Unsupported ZIP encryption");for(var Ye=Ce.read_shift(4),dt=Ce.read_shift(4),ct=Ce.read_shift(4),lt=Ce.read_shift(2),xt=Ce.read_shift(2),vt="",_t=0;_t<lt;++_t)vt+=String.fromCharCode(Ce[Ce.l++]);if(xt){var Lt=i(Ce.slice(Ce.l,Ce.l+xt));(Lt[21589]||{}).mt&&(Ze=Lt[21589].mt),((Me||{})[21589]||{}).mt&&(Ze=Me[21589].mt)}Ce.l+=xt;var qe=Ce.slice(Ce.l,Ce.l+dt);switch(fe){case 8:qe=G(Ce,ct);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+fe)}var Wt=!1;de&8&&(Ye=Ce.read_shift(4),Ye==134695760&&(Ye=Ce.read_shift(4),Wt=!0),dt=Ce.read_shift(4),ct=Ce.read_shift(4)),dt!=Re&&ln(Wt,"Bad compressed size: "+Re+" != "+dt),ct!=pe&&ln(Wt,"Bad uncompressed size: "+pe+" != "+ct),En(Ie,vt,qe,{unsafe:!0,mt:Ze})}function $t(Ce,Re){var pe=Re||{},Ie=[],Me=[],de=Oa(1),fe=pe.compression?8:0,Ze=0,Ye=0,dt=0,ct=0,lt=0,xt=Ce.FullPaths[0],vt=xt,_t=Ce.FileIndex[0],Lt=[],qe=0;for(Ye=1;Ye<Ce.FullPaths.length;++Ye)if(vt=Ce.FullPaths[Ye].slice(xt.length),_t=Ce.FileIndex[Ye],!(!_t.size||!_t.content||vt=="Sh33tJ5")){var Wt=ct,tn=Oa(vt.length);for(dt=0;dt<vt.length;++dt)tn.write_shift(1,vt.charCodeAt(dt)&127);tn=tn.slice(0,tn.l),Lt[lt]=zSe.buf(_t.content,0);var Kn=_t.content;fe==8&&(Kn=ne(Kn)),de=Oa(30),de.write_shift(4,67324752),de.write_shift(2,20),de.write_shift(2,Ze),de.write_shift(2,fe),_t.mt?s(de,_t.mt):de.write_shift(4,0),de.write_shift(-4,Lt[lt]),de.write_shift(4,Kn.length),de.write_shift(4,_t.content.length),de.write_shift(2,tn.length),de.write_shift(2,0),ct+=de.length,Ie.push(de),ct+=tn.length,Ie.push(tn),ct+=Kn.length,Ie.push(Kn),de=Oa(46),de.write_shift(4,33639248),de.write_shift(2,0),de.write_shift(2,20),de.write_shift(2,Ze),de.write_shift(2,fe),de.write_shift(4,0),de.write_shift(-4,Lt[lt]),de.write_shift(4,Kn.length),de.write_shift(4,_t.content.length),de.write_shift(2,tn.length),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(4,0),de.write_shift(4,Wt),qe+=de.l,Me.push(de),qe+=tn.length,Me.push(tn),++lt}return de=Oa(22),de.write_shift(4,101010256),de.write_shift(2,0),de.write_shift(2,0),de.write_shift(2,lt),de.write_shift(2,lt),de.write_shift(4,qe),de.write_shift(4,ct),de.write_shift(2,0),Lu([Lu(Ie),Lu(Me),de])}var Ke={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function me(Ce,Re){if(Ce.ctype)return Ce.ctype;var pe=Ce.name||"",Ie=pe.match(/\.([^\.]+)$/);return Ie&&Ke[Ie[1]]||Re&&(Ie=(pe=Re).match(/[\.\\]([^\.\\])+$/),Ie&&Ke[Ie[1]])?Ke[Ie[1]]:"application/octet-stream"}function Ee(Ce){for(var Re=AU(Ce),pe=[],Ie=0;Ie<Re.length;Ie+=76)pe.push(Re.slice(Ie,Ie+76));return pe.join(`\r
`)+`\r
`}function nt(Ce){var Re=Ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(dt){var ct=dt.charCodeAt(0).toString(16).toUpperCase();return"="+(ct.length==1?"0"+ct:ct)});Re=Re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Re.charAt(0)==`
`&&(Re="=0D"+Re.slice(1)),Re=Re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var pe=[],Ie=Re.split(`\r
`),Me=0;Me<Ie.length;++Me){var de=Ie[Me];if(de.length==0){pe.push("");continue}for(var fe=0;fe<de.length;){var Ze=76,Ye=de.slice(fe,fe+Ze);Ye.charAt(Ze-1)=="="?Ze--:Ye.charAt(Ze-2)=="="?Ze-=2:Ye.charAt(Ze-3)=="="&&(Ze-=3),Ye=de.slice(fe,fe+Ze),fe+=Ze,fe<de.length&&(Ye+="="),pe.push(Ye)}}return pe.join(`\r
`)}function At(Ce){for(var Re=[],pe=0;pe<Ce.length;++pe){for(var Ie=Ce[pe];pe<=Ce.length&&Ie.charAt(Ie.length-1)=="=";)Ie=Ie.slice(0,Ie.length-1)+Ce[++pe];Re.push(Ie)}for(var Me=0;Me<Re.length;++Me)Re[Me]=Re[Me].replace(/[=][0-9A-Fa-f]{2}/g,function(de){return String.fromCharCode(parseInt(de.slice(1),16))});return Gi(Re.join(`\r
`))}function St(Ce,Re,pe){for(var Ie="",Me="",de="",fe,Ze=0;Ze<10;++Ze){var Ye=Re[Ze];if(!Ye||Ye.match(/^\s*$/))break;var dt=Ye.match(/^(.*?):\s*([^\s].*)$/);if(dt)switch(dt[1].toLowerCase()){case"content-location":Ie=dt[2].trim();break;case"content-type":de=dt[2].trim();break;case"content-transfer-encoding":Me=dt[2].trim();break}}switch(++Ze,Me.toLowerCase()){case"base64":fe=Gi(Zo(Re.slice(Ze).join("")));break;case"quoted-printable":fe=At(Re.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Me)}var ct=En(Ce,Ie.slice(pe.length),fe,{unsafe:!0});de&&(ct.ctype=de)}function Qt(Ce,Re){if(K(Ce.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var pe=Re&&Re.root||"",Ie=(qn&&Buffer.isBuffer(Ce)?Ce.toString("binary"):K(Ce)).split(`\r
`),Me=0,de="";for(Me=0;Me<Ie.length;++Me)if(de=Ie[Me],!!/^Content-Location:/i.test(de)&&(de=de.slice(de.indexOf("file")),pe||(pe=de.slice(0,de.lastIndexOf("/")+1)),de.slice(0,pe.length)!=pe))for(;pe.length>0&&(pe=pe.slice(0,pe.length-1),pe=pe.slice(0,pe.lastIndexOf("/")+1),de.slice(0,pe.length)!=pe););var fe=(Ie[1]||"").match(/boundary="(.*?)"/);if(!fe)throw new Error("MAD cannot find boundary");var Ze="--"+(fe[1]||""),Ye=[],dt=[],ct={FileIndex:Ye,FullPaths:dt};E(ct);var lt,xt=0;for(Me=0;Me<Ie.length;++Me){var vt=Ie[Me];vt!==Ze&&vt!==Ze+"--"||(xt++&&St(ct,Ie.slice(lt,Me),pe),lt=Me)}return ct}function Rt(Ce,Re){var pe=Re||{},Ie=pe.boundary||"SheetJS";Ie="------="+Ie;for(var Me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ie.slice(2)+'"',"","",""],de=Ce.FullPaths[0],fe=de,Ze=Ce.FileIndex[0],Ye=1;Ye<Ce.FullPaths.length;++Ye)if(fe=Ce.FullPaths[Ye].slice(de.length),Ze=Ce.FileIndex[Ye],!(!Ze.size||!Ze.content||fe=="Sh33tJ5")){fe=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(qe){return"_x"+qe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(qe){return"_u"+qe.charCodeAt(0).toString(16)+"_"});for(var dt=Ze.content,ct=qn&&Buffer.isBuffer(dt)?dt.toString("binary"):K(dt),lt=0,xt=Math.min(1024,ct.length),vt=0,_t=0;_t<=xt;++_t)(vt=ct.charCodeAt(_t))>=32&&vt<128&&++lt;var Lt=lt>=xt*4/5;Me.push(Ie),Me.push("Content-Location: "+(pe.root||"file:///C:/SheetJS/")+fe),Me.push("Content-Transfer-Encoding: "+(Lt?"quoted-printable":"base64")),Me.push("Content-Type: "+me(Ze,fe)),Me.push(""),Me.push(Lt?nt(ct):Ee(ct))}return Me.push(Ie+`--\r
`),Me.join(`\r
`)}function jt(Ce){var Re={};return E(Re,Ce),Re}function En(Ce,Re,pe,Ie){var Me=Ie&&Ie.unsafe;Me||E(Ce);var de=!Me&&nr.find(Ce,Re);if(!de){var fe=Ce.FullPaths[0];Re.slice(0,fe.length)==fe?fe=Re:(fe.slice(-1)!="/"&&(fe+="/"),fe=(fe+Re).replace("//","/")),de={name:a(Re),type:2},Ce.FileIndex.push(de),Ce.FullPaths.push(fe),Me||nr.utils.cfb_gc(Ce)}return de.content=pe,de.size=pe?pe.length:0,Ie&&(Ie.CLSID&&(de.clsid=Ie.CLSID),Ie.mt&&(de.mt=Ie.mt),Ie.ct&&(de.ct=Ie.ct)),de}function hn(Ce,Re){E(Ce);var pe=nr.find(Ce,Re);if(pe){for(var Ie=0;Ie<Ce.FileIndex.length;++Ie)if(Ce.FileIndex[Ie]==pe)return Ce.FileIndex.splice(Ie,1),Ce.FullPaths.splice(Ie,1),!0}return!1}function Ot(Ce,Re,pe){E(Ce);var Ie=nr.find(Ce,Re);if(Ie){for(var Me=0;Me<Ce.FileIndex.length;++Me)if(Ce.FileIndex[Me]==Ie)return Ce.FileIndex[Me].name=a(pe),Ce.FullPaths[Me]=pe,!0}return!1}function mn(Ce){C(Ce,!0)}return t.find=I,t.read=k,t.parse=u,t.write=ee,t.writeFile=le,t.utils={cfb_new:jt,cfb_add:En,cfb_del:hn,cfb_mov:Ot,cfb_gc:mn,ReadShift:W0,CheckField:oQ,prep_blob:us,bconcat:Lu,use_zlib:U,_deflateRaw:Je,_inflateRaw:cn,consts:W},t})();function $Se(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function ql(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function Pk(e){for(var t=[],n=ql(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var p2=new Date(1899,11,30,0,0,0);function ho(e,t){var n=e.getTime(),r=p2.getTime()+(e.getTimezoneOffset()-p2.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var MO=new Date,WSe=p2.getTime()+(MO.getTimezoneOffset()-p2.getTimezoneOffset())*6e4,_U=MO.getTimezoneOffset();function Gw(e){var t=new Date;return t.setTime(e*24*60*60*1e3+WSe),t.getTimezoneOffset()!==_U&&t.setTime(t.getTime()+(t.getTimezoneOffset()-_U)*6e4),t}function jSe(e){var t=0,n=0,r=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(n=1,s>3&&(r=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(a[s],10)}return t}var bU=new Date("2017-02-19T19:06:09.000Z"),OO=isNaN(bU.getFullYear())?new Date("2/19/17"):bU,JSe=OO.getFullYear()==2017;function ss(e,t){var n=new Date(e);if(JSe)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(OO.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function CA(e,t){if(qn&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return k0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return k0(BO(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return k0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return k0(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function vs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=vs(e[n]));return t}function ia(e,t){for(var n="";n.length<t;)n+=e;return n}function nl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var qSe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Rm(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&qSe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||s>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var YSe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,a){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],i=1;i<s.length;++i)o.push(a),o.push(s[i]);return o}})();function QO(e){return e?e.content&&e.type?CA(e.content,!0):e.data?E0(e.data):e.asNodeBuffer&&qn?E0(e.asNodeBuffer().toString("binary")):e.asBinary?E0(e.asBinary()):e._data&&e._data.getContent?E0(CA(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function HO(e){if(!e)return null;if(e.data)return uU(e.data);if(e.asNodeBuffer&&qn)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?uU(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function XSe(e){return e&&e.name.slice(-4)===".bin"?HO(e):QO(e)}function vi(e,t){for(var n=e.FullPaths||ql(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),a=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||a==o)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function Dk(e,t){var n=vi(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Ta(e,t,n){if(!n)return XSe(Dk(e,t));if(!t)return null;try{return Ta(e,t)}catch{return null}}function zo(e,t,n){if(!n)return QO(Dk(e,t));if(!t)return null;try{return zo(e,t)}catch{return null}}function ZSe(e,t,n){return HO(Dk(e,t))}function xU(e){for(var t=e.FullPaths||ql(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function eke(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return qn?r=KA(n):r=ySe(n),nr.utils.cfb_add(e,t,r)}nr.utils.cfb_add(e,t,n)}else e.file(t,n)}function KO(e,t){switch(t.type){case"base64":return nr.read(e,{type:"base64"});case"binary":return nr.read(e,{type:"binary"});case"buffer":case"array":return nr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function S0(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var a=r.shift();a===".."?n.pop():a!=="."&&n.push(a)}return n.join("/")}var GO=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,tke=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,CU=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,nke=/<[^>]*>/g,zs=GO.match(CU)?CU:nke,rke=/<\w*:/,ake=/<(\/?)\w+:/;function Bn(e,t,n){for(var r={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(r[0]=e.slice(0,a)),a===e.length)return r;var o=e.match(tke),i=0,c="",A=0,u="",f="",m=1;if(o)for(A=0;A!=o.length;++A){for(f=o[A],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(m=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+m,f.length-m),i=0;i!=u.length&&u.charCodeAt(i)!==58;++i);if(i===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=c,r[u.toLowerCase()]=c;else{var v=(i===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(i+1);if(r[v]&&u.slice(i-3,i)=="ext")continue;r[v]=c,r[v.toLowerCase()]=c}}return r}function lc(e){return e.replace(ake,"<$1")}var zO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},ske=Pk(zO),ir=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var a=r+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(i,c){return zO[i]||String.fromCharCode(parseInt(c,i.indexOf("x")>-1?16:10))||i}).replace(t,function(i,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return n(a.slice(0,s))+a.slice(s+9,o)+n(a.slice(o+3))}})(),oke=/[&<>'"]/g,ike=/[\u0000-\u001f]/g;function Uk(e){var t=e+"";return t.replace(oke,function(n){return ske[n]}).replace(/\n/g,"<br/>").replace(ike,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var EU=(function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}})();function Xr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Vx(e){for(var t="",n=0,r=0,a=0,s=0,o=0,i=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(a=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(n++),i=((r&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(i>>>10&1023)),t+=String.fromCharCode(56320+(i&1023))}return t}function BU(e){var t=rd(2*e.length),n,r,a=1,s=0,o=0,i;for(r=0;r<e.length;r+=a)a=1,(i=e.charCodeAt(r))<128?n=i:i<224?(n=(i&31)*64+(e.charCodeAt(r+1)&63),a=2):i<240?(n=(i&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),a=3):(a=4,n=(i&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function SU(e){return KA(e,"binary").toString("utf8")}var I1="foo bar baz",Gr=qn&&(SU(I1)==Vx(I1)&&SU||BU(I1)==Vx(I1)&&BU)||Vx,k0=qn?function(e){return KA(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},Uv=(function(){var e={};return function(n,r){var a=n+"|"+(r||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),$O=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)r=r.replace(e[a][0],e[a][1]);return r}})(),lke=(function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),cke=/<\/?(?:vt:)?variant>/g,uke=/<(?:vt:)([^>]*)>([\s\S]*)</;function kU(e,t){var n=Bn(e),r=e.match(lke(n.baseType))||[],a=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return a}return r.forEach(function(s){var o=s.replace(cke,"").match(uke);o&&a.push({v:Gr(o[2]),t:o[1]})}),a}var dke=/(^\s|\s$|\n)/;function Ake(e){return ql(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function fke(e,t,n){return"<"+e+(n!=null?Ake(n):"")+(t!=null?(t.match(dke)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Rk(e){if(qn&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Gr(GA(Ik(e)));throw new Error("Bad input format: expected Buffer or string")}var Rv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,mke={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},hke=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function vke(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return r==2047?a==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function pke(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=r?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var i=0;i<=5;++i,s/=256)e[n+i]=s&255;e[n+6]=(a&15)<<4|s&15,e[n+7]=a>>4|r}var IU=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,s=e[0][r].length;a<s;a+=n)t.push.apply(t,e[0][r].slice(a,a+n));return t},TU=qn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:KA(t)})):IU(e)}:IU,FU=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(Vc(e,a)));return r.join("").replace(Ao,"")},Nk=qn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Ao,""):FU(e,t,n)}:FU,PU=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},WO=qn?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):PU(e,t,n)}:PU,DU=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(Kf(e,a)));return r.join("")},Sp=qn?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):DU(t,n,r)}:DU,jO=function(e,t){var n=Go(e,t);return n>0?Sp(e,t+4,t+4+n-1):""},JO=jO,qO=function(e,t){var n=Go(e,t);return n>0?Sp(e,t+4,t+4+n-1):""},YO=qO,XO=function(e,t){var n=2*Go(e,t);return n>0?Sp(e,t+4,t+4+n-1):""},ZO=XO,eQ=function(t,n){var r=Go(t,n);return r>0?Nk(t,n+4,n+4+r):""},tQ=eQ,nQ=function(e,t){var n=Go(e,t);return n>0?Sp(e,t+4,t+4+n):""},rQ=nQ,aQ=function(e,t){return vke(e,t)},g2=aQ,sQ=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};qn&&(JO=function(t,n){if(!Buffer.isBuffer(t))return jO(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},YO=function(t,n){if(!Buffer.isBuffer(t))return qO(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},ZO=function(t,n){if(!Buffer.isBuffer(t))return XO(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},tQ=function(t,n){if(!Buffer.isBuffer(t))return eQ(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},rQ=function(t,n){if(!Buffer.isBuffer(t))return nQ(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},g2=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):aQ(t,n)},sQ=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Kf=function(e,t){return e[t]},Vc=function(e,t){return e[t+1]*256+e[t]},gke=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Go=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},zd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},yke=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function W0(e,t){var n="",r,a,s=[],o,i,c,A;switch(t){case"dbcs":if(A=this.l,qn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)n+=String.fromCharCode(Vc(this,A)),A+=2;e*=2;break;case"utf8":n=Sp(this,this.l,this.l+e);break;case"utf16le":e*=2,n=Nk(this,this.l,this.l+e);break;case"wstr":return W0.call(this,e,"dbcs");case"lpstr-ansi":n=JO(this,this.l),e=4+Go(this,this.l);break;case"lpstr-cp":n=YO(this,this.l),e=4+Go(this,this.l);break;case"lpwstr":n=ZO(this,this.l),e=4+2*Go(this,this.l);break;case"lpp4":e=4+Go(this,this.l),n=tQ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Go(this,this.l),n=rQ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=Kf(this,this.l+e++))!==0;)s.push(k1(o));n=s.join("");break;case"_wstr":for(e=0,n="";(o=Vc(this,this.l+e))!==0;)s.push(k1(o)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",A=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(A)!==-1)return o=Kf(this,A),this.l=A+1,i=W0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+i;s.push(k1(Vc(this,A))),A+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",A=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(A)!==-1)return o=Kf(this,A),this.l=A+1,i=W0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+i;s.push(k1(Kf(this,A))),A+=1}n=s.join("");break;default:switch(e){case 1:return r=Kf(this,this.l),this.l++,r;case 2:return r=(t==="i"?gke:Vc)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?zd:yke)(this,this.l),this.l+=4,r):(a=Go(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=g2(this,this.l):a=g2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:n=WO(this,this.l,e);break}}return this.l+=e,n}var wke=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},_ke=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},bke=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function xke(e,t,n){var r=0,a=0;if(n==="dbcs"){for(a=0;a!=t.length;++a)bke(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;r=t.length}else if(n==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,wke(this,t,this.l);break;case 8:if(r=8,n==="f"){pke(this,t,this.l);break}case 16:break;case-4:r=4,_ke(this,t,this.l);break}return this.l+=r,this}function oQ(e,t){var n=WO(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function us(e,t){e.l=t,e.read_shift=W0,e.chk=oQ,e.write_shift=xke}function Hs(e,t){e.l+=t}function Oa(e){var t=rd(e);return us(t,0),t}function ou(e,t,n){if(e){var r,a,s;us(e,e.l||0);for(var o=e.length,i=0,c=0;e.l<o;){i=e.read_shift(1),i&128&&(i=(i&127)+((e.read_shift(1)&127)<<7));var A=C2[i]||C2[65535];for(r=e.read_shift(1),s=r&127,a=1;a<4&&r&128;++a)s+=((r=e.read_shift(1))&127)<<7*a;c=e.l+s;var u=A.f&&A.f(e,s,n);if(e.l=c,t(u,A,i))return}}}function UE(){var e=[],t=qn?256:2048,n=function(A){var u=Oa(A);return us(u,0),u},r=n(t),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(A){return r&&A<r.length-r.l?r:(a(),r=n(Math.max(A+1,t)))},o=function(){return a(),Lu(e)},i=function(A){a(),r=A,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:i,end:o,_bufs:e}}function j0(e,t,n){var r=vs(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function UU(e,t,n){var r=vs(e);return r.s=j0(r.s,t.s,n),r.e=j0(r.e,t.s,n),r}function J0(e,t){if(e.cRel&&e.c<0)for(e=vs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=vs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Pn(e);return!e.cRel&&e.cRel!=null&&(n=Bke(n)),!e.rRel&&e.rRel!=null&&(n=Cke(n)),n}function Mx(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ka(e.s.c)+":"+(e.e.cRel?"":"$")+Ka(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ps(e.s.r)+":"+(e.e.rRel?"":"$")+ps(e.e.r):J0(e.s,t.biff)+":"+J0(e.e,t.biff)}function Lk(e){return parseInt(Eke(e),10)-1}function ps(e){return""+(e+1)}function Cke(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Eke(e){return e.replace(/\$(\d+)$/,"$1")}function Vk(e){for(var t=Ske(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Ka(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Bke(e){return e.replace(/^([A-Z])/,"$$$1")}function Ske(e){return e.replace(/^\$([A-Z])/,"$1")}function kke(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function co(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function Pn(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function rh(e){var t=e.indexOf(":");return t==-1?{s:co(e),e:co(e)}:{s:co(e.slice(0,t)),e:co(e.slice(t+1))}}function sr(e,t){return typeof t>"u"||typeof t=="number"?sr(e.s,e.e):(typeof e!="string"&&(e=Pn(e)),typeof t!="string"&&(t=Pn(t)),e==t?e:e+":"+t)}function da(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,s=e.length;for(n=0;r<s&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<s&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=s&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function RU(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Bi(e.z,n?ho(t):t)}catch{}try{return e.w=Bi((e.XF||{}).numFmtId||(n?14:0),n?ho(t):t)}catch{return""+t}}function Zc(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?WA[e.v]||e.v:t==null?RU(e,e.v):RU(e,t))}function vd(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function iQ(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense,s=e||(a?[]:{}),o=0,i=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?co(r.origin):r.origin;o=c.r,i=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var A={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=da(s["!ref"]);A.s.c=u.s.c,A.s.r=u.s.r,A.e.c=Math.max(A.e.c,u.e.c),A.e.r=Math.max(A.e.r,u.e.r),o==-1&&(A.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var v={v:t[f][m]},h=o+f,y=i+m;if(A.s.r>h&&(A.s.r=h),A.s.c>y&&(A.s.c=y),A.e.r<h&&(A.e.r=h),A.e.c<y&&(A.e.c=y),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))v=t[f][m];else if(Array.isArray(v.v)&&(v.f=t[f][m][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(r.nullError)v.t="e",v.v=0;else if(r.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=r.dateNF||Nn[14],r.cellDates?(v.t="d",v.w=Bi(v.z,ho(v.v))):(v.t="n",v.v=ho(v.v),v.w=Bi(v.z,v.v))):v.t="s";if(a)s[h]||(s[h]=[]),s[h][y]&&s[h][y].z&&(v.z=s[h][y].z),s[h][y]=v;else{var w=Pn({c:y,r:h});s[w]&&s[w].z&&(v.z=s[w].z),s[w]=v}}}return A.s.c<1e7&&(s["!ref"]=sr(A)),s}function ah(e,t){return iQ(null,e,t)}function Ike(e){return e.read_shift(4,"i")}function Qs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Tke(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Mk(e,t){var n=e.l,r=e.read_shift(1),a=Qs(e),s=[],o={t:a,h:a};if((r&1)!==0){for(var i=e.read_shift(4),c=0;c!=i;++c)s.push(Tke(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var Fke=Mk;function ki(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function zA(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Pke=Qs;function Ok(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Dke=Qs,RE=Ok;function Qk(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var a=r===0?g2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):zd(t,0)>>2;return n?a/100:a}function lQ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var $A=lQ;function Us(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Uke(e){var t={},n=e.read_shift(1),r=n>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),i=e.read_shift(1),c=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=a;var A=fA[a];A&&(t.rgb=Lv(A));break;case 2:t.rgb=Lv([o,i,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Rke(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function cQ(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Nke(e){return cQ(e,1)}function Lke(e){return cQ(e,2)}var Hk=2,Co=3,T1=11,NU=12,y2=19,F1=64,Vke=65,Mke=71,Oke=4108,Qke=4126,Za=80,uQ=81,Hke=[Za,uQ],Kke={1:{n:"CodePage",t:Hk},2:{n:"Category",t:Za},3:{n:"PresentationFormat",t:Za},4:{n:"ByteCount",t:Co},5:{n:"LineCount",t:Co},6:{n:"ParagraphCount",t:Co},7:{n:"SlideCount",t:Co},8:{n:"NoteCount",t:Co},9:{n:"HiddenCount",t:Co},10:{n:"MultimediaClipCount",t:Co},11:{n:"ScaleCrop",t:T1},12:{n:"HeadingPairs",t:Oke},13:{n:"TitlesOfParts",t:Qke},14:{n:"Manager",t:Za},15:{n:"Company",t:Za},16:{n:"LinksUpToDate",t:T1},17:{n:"CharacterCount",t:Co},19:{n:"SharedDoc",t:T1},22:{n:"HyperlinksChanged",t:T1},23:{n:"AppVersion",t:Co,p:"version"},24:{n:"DigSig",t:Vke},26:{n:"ContentType",t:Za},27:{n:"ContentStatus",t:Za},28:{n:"Language",t:Za},29:{n:"Version",t:Za},255:{},2147483648:{n:"Locale",t:y2},2147483651:{n:"Behavior",t:y2},1919054434:{}},Gke={1:{n:"CodePage",t:Hk},2:{n:"Title",t:Za},3:{n:"Subject",t:Za},4:{n:"Author",t:Za},5:{n:"Keywords",t:Za},6:{n:"Comments",t:Za},7:{n:"Template",t:Za},8:{n:"LastAuthor",t:Za},9:{n:"RevNumber",t:Za},10:{n:"EditTime",t:F1},11:{n:"LastPrinted",t:F1},12:{n:"CreatedDate",t:F1},13:{n:"ModifiedDate",t:F1},14:{n:"PageCount",t:Co},15:{n:"WordCount",t:Co},16:{n:"CharCount",t:Co},17:{n:"Thumbnail",t:Mke},18:{n:"Application",t:Za},19:{n:"DocSecurity",t:Co},255:{},2147483648:{n:"Locale",t:y2},2147483651:{n:"Behavior",t:y2},1919054434:{}},LU={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},zke=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function $ke(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Wke=$ke([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),fA=vs(Wke),WA={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},dQ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},VU={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function jke(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Jke(e){var t=jke();if(!e||!e.match)return t;var n={};if((e.match(zs)||[]).forEach(function(r){var a=Bn(r);switch(a[0].replace(rke,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[a.Extension]=a.ContentType;break;case"<Override":t[VU[a.ContentType]]!==void 0&&t[VU[a.ContentType]].push(a.PartName);break}}),t.xmlns!==mke.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var jf={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function NE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function q0(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(zs)||[]).forEach(function(a){var s=Bn(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var i=s.TargetMode==="External"?s.Target:S0(s.Target,t);n[i]=o,r[s.Id]=o}}),n["!id"]=r,n}var qke="application/vnd.oasis.opendocument.spreadsheet";function Yke(e,t){for(var n=Rk(e),r,a;r=Rv.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(a=Bn(r[0],!1),a.path=="/"&&a.type!==qke)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var Y0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Xke=(function(){for(var e=new Array(Y0.length),t=0;t<Y0.length;++t){var n=Y0[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e})();function AQ(e){var t={};e=Gr(e);for(var n=0;n<Y0.length;++n){var r=Y0[n],a=e.match(Xke[n]);a!=null&&a.length>0&&(t[r[1]]=ir(a[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=ss(t[r[1]]))}return t}var Zke=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function fQ(e,t,n,r){var a=[];if(typeof e=="string")a=kU(e,r);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(u){return{v:u}}));var o=typeof t=="string"?kU(t,r).map(function(u){return u.v}):t,i=0,c=0;if(o.length>0)for(var A=0;A!==a.length;A+=2){switch(c=+a[A+1].v,a[A].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=c,n.SheetNames=o.slice(i,i+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=c,n.DefinedNames=o.slice(i,i+c);break;case"Charts":case"Diagramme":n.Chartsheets=c,n.ChartNames=o.slice(i,i+c);break}i+=c}}function eIe(e,t,n){var r={};return t||(t={}),e=Gr(e),Zke.forEach(function(a){var s=(e.match(Uv(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=ir(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(r[a[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&fQ(r.HeadingPairs,r.TitlesOfParts,t,n),t}var tIe=/<[^>]+>[^<]*/g;function nIe(e,t){var n={},r="",a=e.match(tIe);if(a)for(var s=0;s!=a.length;++s){var o=a[s],i=Bn(o);switch(i[0]){case"<?xml":break;case"<Properties":break;case"<property":r=ir(i.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),A=c[0].slice(4),u=c[1];switch(A){case"lpstr":case"bstr":case"lpwstr":n[r]=ir(u);break;case"bool":n[r]=Xr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=ss(u);break;case"cy":case"error":n[r]=ir(u);break;default:if(A.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,A,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}var rIe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Ox;function aIe(e,t,n){Ox||(Ox=Pk(rIe)),t=Ox[t]||t,e[t]=n}function Kk(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function mQ(e,t,n){var r=e.l,a=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return a}function hQ(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function vQ(e,t,n){return t===31?hQ(e):mQ(e,t,n)}function LE(e,t,n){return vQ(e,t,n===!1?0:4)}function sIe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return vQ(e,t,0)}function oIe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var a=e.l;n[r]=e.read_shift(0,"lpwstr").replace(Ao,""),e.l-a&2&&(e.l+=2)}return n}function iIe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(Ao,"");return n}function lIe(e){var t=e.l,n=w2(e,uQ);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=w2(e,Co);return[n,r]}function cIe(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(lIe(e));return n}function MU(e,t){for(var n=e.read_shift(4),r={},a=0;a!=n;++a){var s=e.read_shift(4),o=e.read_shift(4);r[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Ao,"").replace(B0,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function pQ(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function uIe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function w2(e,t,n){var r=e.read_shift(2),a,s=n||{};if(e.l+=2,t!==NU&&r!==t&&Hke.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===NU?r:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return mQ(e,r,4).replace(Ao,"");case 31:return hQ(e);case 64:return Kk(e);case 65:return pQ(e);case 71:return uIe(e);case 80:return LE(e,r,!s.raw).replace(Ao,"");case 81:return sIe(e,r).replace(Ao,"");case 4108:return cIe(e);case 4126:case 4127:return r==4127?oIe(e):iIe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function OU(e,t){var n=e.l,r=e.read_shift(4),a=e.read_shift(4),s=[],o=0,i=0,c=-1,A={};for(o=0;o!=a;++o){var u=e.read_shift(4),f=e.read_shift(4);s[o]=[u,f+n]}s.sort(function(B,S){return B[1]-S[1]});var m={};for(o=0;o!=a;++o){if(e.l!==s[o][1]){var v=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,v=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],v=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],v=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(v=!1,e.l=s[o][1]),v)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var h=t[s[o][0]];if(m[h.n]=w2(e,h.t,{raw:!0}),h.p==="version"&&(m[h.n]=String(m[h.n]>>16)+"."+("0000"+String(m[h.n]&65535)).slice(-4)),h.n=="CodePage")switch(m[h.n]){case 0:m[h.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ji(i=m[h.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[h.n])}}else if(s[o][0]===1){if(i=m.CodePage=w2(e,Hk),Ji(i),c!==-1){var y=e.l;e.l=s[c][1],A=MU(e,i),e.l=y}}else if(s[o][0]===0){if(i===0){c=o,e.l=s[o+1][1];continue}A=MU(e,i)}else{var w=A[s[o][0]],b;switch(e[e.l]){case 65:e.l+=4,b=pQ(e);break;case 30:e.l+=4,b=LE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=LE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=wa(e,4);break;case 64:e.l+=4,b=ss(Kk(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[w]=b}}return e.l=n+r,m}function QU(e,t,n){var r=e.content;if(!r)return{};us(r,0);var a,s,o,i,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var A=r.read_shift(4),u=r.read_shift(16);if(u!==nr.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(a=r.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=r.read_shift(16),i=r.read_shift(4),a===1&&i!==r.l)throw new Error("Length mismatch: "+i+" !== "+r.l);a===2&&(o=r.read_shift(16),c=r.read_shift(4));var f=OU(r,t),m={SystemIdentifier:A};for(var v in f)m[v]=f[v];if(m.FMTID=s,a===1)return m;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var h;try{h=OU(r,null)}catch{}for(v in h)m[v]=h[v];return m.FMTID=[s,o],m}function Cu(e,t){return e.read_shift(t),null}function dIe(e,t,n){for(var r=[],a=e.l+t;e.l<a;)r.push(n(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return r}function wa(e,t){return e.read_shift(t)===1}function Fa(e){return e.read_shift(2,"u")}function gQ(e,t){return dIe(e,t,Fa)}function AIe(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function kp(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var o=r?e.read_shift(r,a):"";return o}function fIe(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,a=n&8,s=1+(n&1),o=0,i,c={};a&&(o=e.read_shift(2)),r&&(i=e.read_shift(4));var A=s==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,A);return a&&(e.l+=4*o),r&&(e.l+=i),c.t=u,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function EA(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function Ip(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):EA(e,r,n)}function jA(e,t,n){if(n.biff>5)return Ip(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function mIe(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function hIe(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var a=e.read_shift((r?t-24:t)>>1,"utf16le").replace(Ao,"");return r&&(e.l+=24),a}function vIe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(Ao,"");return n+o}function pIe(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return hIe(e);case"0303000000000000c000000000000046":return vIe(e);default:throw new Error("Unsupported Moniker "+n)}}function P1(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(Ao,""):"";return n}function gIe(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var a=e.read_shift(2);e.l+=2;var s,o,i,c,A="",u,f;a&16&&(s=P1(e,n-e.l)),a&128&&(o=P1(e,n-e.l)),(a&257)===257&&(i=P1(e,n-e.l)),(a&257)===1&&(c=pIe(e,n-e.l)),a&8&&(A=P1(e,n-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=Kk(e)),e.l=n;var m=o||i||c||"";m&&A&&(m+="#"+A),m||(m="#"+A),a&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var v={Target:m};return u&&(v.guid=u),f&&(v.time=f),s&&(v.Tooltip=s),v}function yQ(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1);return[t,n,r,a]}function wQ(e,t){var n=yQ(e);return n[3]=0,n}function cc(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function yIe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function wIe(e,t,n){return t===0?"":jA(e,t,n)}function _Ie(e,t,n){var r=n.biff>8?4:2,a=e.read_shift(r),s=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[a,s,o]}function _Q(e){var t=e.read_shift(2),n=Qk(e);return[t,n]}function bIe(e,t,n){e.l+=4,t-=4;var r=e.l+t,a=kp(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,a}function zw(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{s:{c:r,r:t},e:{c:a,r:n}}}function bQ(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),a=e.read_shift(1);return{s:{c:r,r:t},e:{c:a,r:n}}}var xIe=bQ;function xQ(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function CIe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function EIe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Cs(e){e.l+=2,e.l+=e.read_shift(2)}var BIe={0:Cs,4:Cs,5:Cs,6:Cs,7:EIe,8:Cs,9:Cs,10:Cs,11:Cs,12:Cs,13:CIe,14:Cs,15:Cs,16:Cs,17:Cs,18:Cs,19:Cs,20:Cs,21:xQ};function SIe(e,t){for(var n=e.l+t,r=[];e.l<n;){var a=e.read_shift(2);e.l-=2;try{r.push(BIe[a](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function D1(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function kIe(e,t){return t===0||e.read_shift(2),1200}function IIe(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,a=jA(e,0,n);return e.read_shift(t+r-e.l),a}function TIe(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function FIe(e,t,n){var r=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=kp(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:a,dt:s,name:o}}function PIe(e,t){for(var n=e.l+t,r=e.read_shift(4),a=e.read_shift(4),s=[],o=0;o!=a&&e.l<n;++o)s.push(fIe(e));return s.Count=r,s.Unique=a,s}function DIe(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function UIe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function RIe(e){var t=yIe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function NIe(e){return e.read_shift(2),e.read_shift(4)}function HU(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var a=e.read_shift(2);n&&n.biff==2&&(r=1-(a>>15),a&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,a]}function LIe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),i=e.read_shift(2),c=e.read_shift(2),A=e.read_shift(2);return{Pos:[t,n],Dim:[r,a],Flags:s,CurTab:o,FirstTab:i,Selected:c,TabRatio:A}}function VIe(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function MIe(){}function OIe(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=kp(e,0,n),r}function QIe(e){var t=cc(e);return t.isst=e.read_shift(4),t}function HIe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,a=cc(e);n.biff==2&&e.l++;var s=Ip(e,r-e.l,n);return a.val=s,a}function KIe(e,t,n){var r=e.read_shift(2),a=jA(e,0,n);return[r,a]}var GIe=jA;function KU(e,t,n){var r=e.l+t,a=n.biff==8||!n.biff?4:2,s=e.read_shift(a),o=e.read_shift(a),i=e.read_shift(2),c=e.read_shift(2);return e.l=r,{s:{r:s,c:i},e:{r:o,c}}}function zIe(e){var t=e.read_shift(2),n=e.read_shift(2),r=_Q(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function $Ie(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),s=[];e.l<n;)s.push(_Q(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r,c:a,C:o,rkrec:s}}function WIe(e,t){for(var n=e.l+t-2,r=e.read_shift(2),a=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r,c:a,C:o,ixfe:s}}function jIe(e,t,n,r){var a={},s=e.read_shift(4),o=e.read_shift(4),i=e.read_shift(4),c=e.read_shift(2);return a.patternType=zke[i>>26],r.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=i&127,a.icvBottom=i>>7&127,a.icvDiag=i>>14&127,a.dgDiag=i>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function JIe(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=jIe(e,t,r.fStyle,n),r}function qIe(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function GU(e,t,n){var r=cc(e);(n.biff==2||t==9)&&++e.l;var a=AIe(e);return r.val=a,r.t=a===!0||a===!1?"b":"e",r}function YIe(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=cc(e),a=Us(e);return r.val=a,r}var zU=wIe;function XIe(e,t,n){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=EA(e,s),i=[];r>e.l;)i.push(Ip(e));return[s,a,o,i]}function $U(e,t,n){var r=e.read_shift(2),a,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(a=bIe(e,t-2,n)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var ZIe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function WU(e,t,n){var r=e.l+t,a=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),i=e.read_shift(n&&n.biff==2?1:2),c=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),c=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var A=EA(e,o,n);a&32&&(A=ZIe[A.charCodeAt(0)]);var u=r-e.l;n&&n.biff==2&&--u;var f=r==e.l||i===0||!(u>0)?[]:UPe(e,u,n,i);return{chKey:s,Name:A,itab:c,rgce:f}}function CQ(e,t,n){if(n.biff<8)return eTe(e,t,n);for(var r=[],a=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push(_Ie(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function eTe(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=kp(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function tTe(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),a=e.read_shift(2),s=EA(e,r,n),o=EA(e,a,n);return[s,o]}function nTe(e,t,n){var r=bQ(e);e.l++;var a=e.read_shift(1);return t-=8,[RPe(e,t,n),a,r]}function jU(e,t,n){var r=xIe(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,PPe(e,t,n)]}function rTe(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function aTe(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),i=jA(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:a},i,o,s]}}function sTe(e,t,n){return aTe(e,t,n)}function oTe(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(zw(e));return n}function iTe(e,t,n){if(n&&n.biff<8)return cTe(e,t,n);var r=xQ(e),a=SIe(e,t-22,r[1]);return{cmo:r,ft:a}}var lTe={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=n,{fmt:r}}};function cTe(e,t,n){e.l+=4;var r=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((lTe[r]||Hs)(e,t,n)),{cmo:[a,r,s],ft:o}}function uTe(e,t,n){var r=e.l,a="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=mIe(e,6,n);var i=e.read_shift(2);e.read_shift(2),Fa(e,2);var c=e.read_shift(2);e.l+=c;for(var A=1;A<e.lens.length-1;++A){if(e.l-r!=e.lens[A])throw new Error("TxO: bad continue record");var u=e[e.l],f=EA(e,e.lens[A+1]-e.lens[A]-1);if(a+=f,a.length>=(u?i:2*i))break}if(a.length!==i&&a.length!==i*2)throw new Error("cchText: "+i+" != "+a.length);return e.l=r+t,{t:a}}catch{return e.l=r+t,{t:a}}}function dTe(e,t){var n=zw(e);e.l+=16;var r=gIe(e,t-24);return[n,r]}function ATe(e,t){e.read_shift(2);var n=zw(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(Ao,""),[n,r]}function fTe(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=LU[n]||n,n=e.read_shift(2),t[1]=LU[n]||n,t}function mTe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(wQ(e));return n}function hTe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(wQ(e));return n}function vTe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function EQ(e,t,n){if(!n.cellStyles)return Hs(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),i=e.read_shift(r),c=e.read_shift(2);r==2&&(e.l+=2);var A={s:a,e:s,w:o,ixfe:i,flags:c};return(n.biff>=5||!n.biff)&&(A.level=c>>8&7),A}function pTe(e,t){var n={};return t<32||(e.l+=16,n.header=Us(e),n.footer=Us(e),e.l+=2),n}function gTe(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var a=e.read_shift(1);return e.l+=3,a&16&&(r.area=!0),r}var yTe=cc,wTe=gQ,_Te=Ip;function bTe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,a}function xTe(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=cc(e);++e.l;var a=jA(e,t-7,n);return r.t="str",r.val=a,r}function CTe(e){var t=cc(e);++e.l;var n=Us(e);return t.t="n",t.val=n,t}function ETe(e){var t=cc(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function BTe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function STe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function kTe(e,t,n){var r=e.l+t,a=cc(e),s=e.read_shift(2),o=EA(e,s,n);return e.l=r,a.t="str",a.val=o,a}var ITe=[2,3,48,49,131,139,140,245],JU=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Pk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(i,c){var A=[],u=rd(1);switch(c.type){case"base64":u=Gi(Zo(i));break;case"binary":u=Gi(i);break;case"buffer":case"array":u=i;break}us(u,0);var f=u.read_shift(1),m=!!(f&136),v=!1,h=!1;switch(f){case 2:break;case 3:break;case 48:v=!0,m=!0;break;case 49:v=!0,m=!0;break;case 131:break;case 139:break;case 140:h=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var y=0,w=521;f==2&&(y=u.read_shift(2)),u.l+=3,f!=2&&(y=u.read_shift(4)),y>1048576&&(y=1e6),f!=2&&(w=u.read_shift(2));var b=u.read_shift(2),B=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(B=e[u[u.l]]),u.l+=1,u.l+=2),h&&(u.l+=36);for(var S=[],T={},N=Math.min(u.length,f==2?521:w-10-(v?264:0)),k=h?32:11;u.l<N&&u[u.l]!=13;)switch(T={},T.name=Pv.utils.decode(B,u.slice(u.l,u.l+k)).replace(/[\u0000\r\n].*$/g,""),u.l+=k,T.type=String.fromCharCode(u.read_shift(1)),f!=2&&!h&&(T.offset=u.read_shift(4)),T.len=u.read_shift(1),f==2&&(T.offset=u.read_shift(2)),T.dec=u.read_shift(1),T.name.length&&S.push(T),f!=2&&(u.l+=h?13:14),T.type){case"B":(!v||T.len!=8)&&c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(u[u.l]!==13&&(u.l=w-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=w;var E=0,_=0;for(A[0]=[],_=0;_!=S.length;++_)A[0][_]=S[_].name;for(;y-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,A[++E]=[],_=0,_=0;_!=S.length;++_){var C=u.slice(u.l,u.l+S[_].len);u.l+=S[_].len,us(C,0);var F=Pv.utils.decode(B,C);switch(S[_].type){case"C":F.trim().length&&(A[E][_]=F.replace(/\s+$/,""));break;case"D":F.length===8?A[E][_]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):A[E][_]=F;break;case"F":A[E][_]=parseFloat(F.trim());break;case"+":case"I":A[E][_]=h?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":A[E][_]=!0;break;case"N":case"F":A[E][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));A[E][_]="##MEMO##"+(h?parseInt(F.trim(),10):C.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(A[E][_]=+F||0);break;case"@":A[E][_]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":A[E][_]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":A[E][_]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":A[E][_]=-C.read_shift(-8,"f");break;case"B":if(v&&S[_].len==8){A[E][_]=C.read_shift(8,"f");break}case"G":case"P":C.l+=S[_].len;break;case"0":if(S[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[_].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(A=A.slice(0,c.sheetRows)),c.DBF=S,A}function r(i,c){var A=c||{};A.dateNF||(A.dateNF="yyyymmdd");var u=ah(n(i,A),A);return u["!cols"]=A.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete A.DBF,u}function a(i,c){try{return vd(r(i,c),c)}catch(A){if(c&&c.WTF)throw A}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(i,c){var A=c||{};if(+A.codepage>=0&&Ji(+A.codepage),A.type=="string")throw new Error("Cannot write DBF to JS string");var u=UE(),f=GE(i,{header:1,raw:!0,cellDates:!0}),m=f[0],v=f.slice(1),h=i["!cols"]||[],y=0,w=0,b=0,B=1;for(y=0;y<m.length;++y){if(((h[y]||{}).DBF||{}).name){m[y]=h[y].DBF.name,++b;continue}if(m[y]!=null){if(++b,typeof m[y]=="number"&&(m[y]=m[y].toString(10)),typeof m[y]!="string")throw new Error("DBF Invalid column name "+m[y]+" |"+typeof m[y]+"|");if(m.indexOf(m[y])!==y){for(w=0;w<1024;++w)if(m.indexOf(m[y]+"_"+w)==-1){m[y]+="_"+w;break}}}}var S=da(i["!ref"]),T=[],N=[],k=[];for(y=0;y<=S.e.c-S.s.c;++y){var E="",_="",C=0,F=[];for(w=0;w<v.length;++w)v[w][y]!=null&&F.push(v[w][y]);if(F.length==0||m[y]==null){T[y]="?";continue}for(w=0;w<F.length;++w){switch(typeof F[w]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=F[w]instanceof Date?"D":"C";break;default:_="C"}C=Math.max(C,String(F[w]).length),E=E&&E!=_?"C":_}C>250&&(C=250),_=((h[y]||{}).DBF||{}).type,_=="C"&&h[y].DBF.len>C&&(C=h[y].DBF.len),E=="B"&&_=="N"&&(E="N",k[y]=h[y].DBF.dec,C=h[y].DBF.len),N[y]=E=="C"||_=="N"?C:s[E]||0,B+=N[y],T[y]=E}var I=u.next(32);for(I.write_shift(4,318902576),I.write_shift(4,v.length),I.write_shift(2,296+32*b),I.write_shift(2,B),y=0;y<4;++y)I.write_shift(4,0);for(I.write_shift(4,0|(+t[CO]||3)<<8),y=0,w=0;y<m.length;++y)if(m[y]!=null){var R=u.next(32),M=(m[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,M,"sbcs"),R.write_shift(1,T[y]=="?"?"C":T[y],"sbcs"),R.write_shift(4,w),R.write_shift(1,N[y]||s[T[y]]||0),R.write_shift(1,k[y]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),w+=N[y]||s[T[y]]||0}var te=u.next(264);for(te.write_shift(4,13),y=0;y<65;++y)te.write_shift(4,0);for(y=0;y<v.length;++y){var se=u.next(B);for(se.write_shift(1,0),w=0;w<m.length;++w)if(m[w]!=null)switch(T[w]){case"L":se.write_shift(1,v[y][w]==null?63:v[y][w]?84:70);break;case"B":se.write_shift(8,v[y][w]||0,"f");break;case"N":var O="0";for(typeof v[y][w]=="number"&&(O=v[y][w].toFixed(k[w]||0)),b=0;b<N[w]-O.length;++b)se.write_shift(1,32);se.write_shift(1,O,"sbcs");break;case"D":v[y][w]?(se.write_shift(4,("0000"+v[y][w].getFullYear()).slice(-4),"sbcs"),se.write_shift(2,("00"+(v[y][w].getMonth()+1)).slice(-2),"sbcs"),se.write_shift(2,("00"+v[y][w].getDate()).slice(-2),"sbcs")):se.write_shift(8,"00000000","sbcs");break;case"C":var W=String(v[y][w]!=null?v[y][w]:"").slice(0,N[w]);for(se.write_shift(1,W,"sbcs"),b=0;b<N[w]-W.length;++b)se.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:r,from_sheet:o}})(),TTe=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ql(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(m,v){var h=e[v];return typeof h=="number"?dU(h):h},r=function(m,v,h){var y=v.charCodeAt(0)-32<<4|h.charCodeAt(0)-48;return y==59?m:dU(y)};e["|"]=254;function a(m,v){switch(v.type){case"base64":return s(Zo(m),v);case"binary":return s(m,v);case"buffer":return s(qn&&Buffer.isBuffer(m)?m.toString("binary"):GA(m),v);case"array":return s(CA(m),v)}throw new Error("Unrecognized type "+v.type)}function s(m,v){var h=m.split(/[\n\r]+/),y=-1,w=-1,b=0,B=0,S=[],T=[],N=null,k={},E=[],_=[],C=[],F=0,I;for(+v.codepage>=0&&Ji(+v.codepage);b!==h.length;++b){F=0;var R=h[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),M=R.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),te=M[0],se;if(R.length>0)switch(te){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&T.push(R.slice(3).replace(/;;/g,";"));break;case"C":var O=!1,W=!1,le=!1,K=!1,ee=-1,j=-1;for(B=1;B<M.length;++B)switch(M[B].charAt(0)){case"A":break;case"X":w=parseInt(M[B].slice(1))-1,W=!0;break;case"Y":for(y=parseInt(M[B].slice(1))-1,W||(w=0),I=S.length;I<=y;++I)S[I]=[];break;case"K":se=M[B].slice(1),se.charAt(0)==='"'?se=se.slice(1,se.length-1):se==="TRUE"?se=!0:se==="FALSE"?se=!1:isNaN(nl(se))?isNaN(Rm(se).getDate())||(se=ss(se)):(se=nl(se),N!==null&&nh(N)&&(se=Gw(se))),O=!0;break;case"E":K=!0;var U=fm(M[B].slice(1),{r:y,c:w});S[y][w]=[S[y][w],U];break;case"S":le=!0,S[y][w]=[S[y][w],"S5S"];break;case"G":break;case"R":ee=parseInt(M[B].slice(1))-1;break;case"C":j=parseInt(M[B].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+R)}if(O&&(S[y][w]&&S[y][w].length==2?S[y][w][0]=se:S[y][w]=se,N=null),le){if(K)throw new Error("SYLK shared formula cannot have own formula");var G=ee>-1&&S[ee][j];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");S[y][w][1]=RQ(G[1],{r:y-ee,c:w-j})}break;case"F":var ne=0;for(B=1;B<M.length;++B)switch(M[B].charAt(0)){case"X":w=parseInt(M[B].slice(1))-1,++ne;break;case"Y":for(y=parseInt(M[B].slice(1))-1,I=S.length;I<=y;++I)S[I]=[];break;case"M":F=parseInt(M[B].slice(1))/20;break;case"F":break;case"G":break;case"P":N=T[parseInt(M[B].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=M[B].slice(1).split(" "),I=parseInt(C[0],10);I<=parseInt(C[1],10);++I)F=parseInt(C[2],10),_[I-1]=F===0?{hidden:!0}:{wch:F},Nm(_[I-1]);break;case"C":w=parseInt(M[B].slice(1))-1,_[w]||(_[w]={});break;case"R":y=parseInt(M[B].slice(1))-1,E[y]||(E[y]={}),F>0?(E[y].hpt=F,E[y].hpx=Vv(F)):F===0&&(E[y].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+R)}ne<1&&(N=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+R)}}return E.length>0&&(k["!rows"]=E),_.length>0&&(k["!cols"]=_),v&&v.sheetRows&&(S=S.slice(0,v.sheetRows)),[S,k]}function o(m,v){var h=a(m,v),y=h[0],w=h[1],b=ah(y,v);return ql(w).forEach(function(B){b[B]=w[B]}),b}function i(m,v){return vd(o(m,v),v)}function c(m,v,h,y){var w="C;Y"+(h+1)+";X"+(y+1)+";K";switch(m.t){case"n":w+=m.v||0,m.f&&!m.F&&(w+=";E"+vFe(m.f,{r:h,c:y}));break;case"b":w+=m.v?"TRUE":"FALSE";break;case"e":w+=m.w||m.v;break;case"d":w+='"'+(m.w||m.v)+'"';break;case"s":w+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function A(m,v){v.forEach(function(h,y){var w="F;W"+(y+1)+" "+(y+1)+" ";h.hidden?w+="0":(typeof h.width=="number"&&!h.wpx&&(h.wpx=b2(h.width)),typeof h.wpx=="number"&&!h.wch&&(h.wch=x2(h.wpx)),typeof h.wch=="number"&&(w+=Math.round(h.wch))),w.charAt(w.length-1)!=" "&&m.push(w)})}function u(m,v){v.forEach(function(h,y){var w="F;";h.hidden?w+="M0;":h.hpt?w+="M"+20*h.hpt+";":h.hpx&&(w+="M"+20*PQ(h.hpx)+";"),w.length>2&&m.push(w+"R"+(y+1))})}function f(m,v){var h=["ID;PWXL;N;E"],y=[],w=da(m["!ref"]),b,B=Array.isArray(m),S=`\r
`;h.push("P;PGeneral"),h.push("F;P0;DG0G8;M255"),m["!cols"]&&A(h,m["!cols"]),m["!rows"]&&u(h,m["!rows"]),h.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var T=w.s.r;T<=w.e.r;++T)for(var N=w.s.c;N<=w.e.c;++N){var k=Pn({r:T,c:N});b=B?(m[T]||[])[N]:m[k],!(!b||b.v==null&&(!b.f||b.F))&&y.push(c(b,m,T,N))}return h.join(S)+S+y.join(S)+S+"E"+S}return{to_workbook:i,to_sheet:o,from_sheet:f}})(),FTe=(function(){function e(s,o){switch(o.type){case"base64":return t(Zo(s),o);case"binary":return t(s,o);case"buffer":return t(qn&&Buffer.isBuffer(s)?s.toString("binary"):GA(s),o);case"array":return t(CA(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var i=s.split(`
`),c=-1,A=-1,u=0,f=[];u!==i.length;++u){if(i[u].trim()==="BOT"){f[++c]=[],A=0;continue}if(!(c<0)){var m=i[u].trim().split(","),v=m[0],h=m[1];++u;for(var y=i[u]||"";(y.match(/["]/g)||[]).length&1&&u<i.length-1;)y+=`
`+i[++u];switch(y=y.trim(),+v){case-1:if(y==="BOT"){f[++c]=[],A=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?f[c][A]=!0:y==="FALSE"?f[c][A]=!1:isNaN(nl(h))?isNaN(Rm(h).getDate())?f[c][A]=h:f[c][A]=ss(h):f[c][A]=nl(h),++A;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),f[c][A++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function n(s,o){return ah(e(s,o),o)}function r(s,o){return vd(n(s,o),o)}var a=(function(){var s=function(c,A,u,f,m){c.push(A),c.push(u+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,A,u,f){c.push(A+","+u),c.push(A==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var A=[],u=da(c["!ref"]),f,m=Array.isArray(c);s(A,"TABLE",0,1,"sheetjs"),s(A,"VECTORS",0,u.e.r-u.s.r+1,""),s(A,"TUPLES",0,u.e.c-u.s.c+1,""),s(A,"DATA",0,0,"");for(var v=u.s.r;v<=u.e.r;++v){o(A,-1,0,"BOT");for(var h=u.s.c;h<=u.e.c;++h){var y=Pn({r:v,c:h});if(f=m?(c[v]||[])[h]:c[y],!f){o(A,1,0,"");continue}switch(f.t){case"n":var w=f.w;!w&&f.v!=null&&(w=f.v),w==null?f.f&&!f.F?o(A,1,0,"="+f.f):o(A,1,0,""):o(A,0,w,"V");break;case"b":o(A,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(A,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Bi(f.z||Nn[14],ho(ss(f.v)))),o(A,0,f.w,"V");break;default:o(A,1,0,"")}}}o(A,-1,0,"EOD");var b=`\r
`,B=A.join(b);return B}})();return{to_workbook:r,to_sheet:n,from_sheet:a}})(),PTe=(function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(f,m){for(var v=f.split(`
`),h=-1,y=-1,w=0,b=[];w!==v.length;++w){var B=v[w].trim().split(":");if(B[0]==="cell"){var S=co(B[1]);if(b.length<=S.r)for(h=b.length;h<=S.r;++h)b[h]||(b[h]=[]);switch(h=S.r,y=S.c,B[2]){case"t":b[h][y]=e(B[3]);break;case"v":b[h][y]=+B[3];break;case"vtf":var T=B[B.length-1];case"vtc":switch(B[3]){case"nl":b[h][y]=!!+B[4];break;default:b[h][y]=+B[4];break}B[2]=="vtf"&&(b[h][y]=[b[h][y],T])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function r(f,m){return ah(n(f,m),m)}function a(f,m){return vd(r(f,m),m)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,i=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function A(f){if(!f||!f["!ref"])return"";for(var m=[],v=[],h,y="",w=rh(f["!ref"]),b=Array.isArray(f),B=w.s.r;B<=w.e.r;++B)for(var S=w.s.c;S<=w.e.c;++S)if(y=Pn({r:B,c:S}),h=b?(f[B]||[])[S]:f[y],!(!h||h.v==null||h.t==="z")){switch(v=["cell",y,"t"],h.t){case"s":case"str":v.push(t(h.v));break;case"n":h.f?(v[2]="vtf",v[3]="n",v[4]=h.v,v[5]=t(h.f)):(v[2]="v",v[3]=h.v);break;case"b":v[2]="vt"+(h.f?"f":"c"),v[3]="nl",v[4]=h.v?"1":"0",v[5]=t(h.f||(h.v?"TRUE":"FALSE"));break;case"d":var T=ho(ss(h.v));v[2]="vtc",v[3]="nd",v[4]=""+T,v[5]=h.w||Bi(h.z||Nn[14],T);break;case"e":continue}m.push(v.join(":"))}return m.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(f){return[s,o,i,o,A(f),c].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:u}})(),Nv=(function(){function e(u,f,m,v,h){h.raw?f[m][v]=u:u===""||(u==="TRUE"?f[m][v]=!0:u==="FALSE"?f[m][v]=!1:isNaN(nl(u))?isNaN(Rm(u).getDate())?f[m][v]=u:f[m][v]=ss(u):f[m][v]=nl(u))}function t(u,f){var m=f||{},v=[];if(!u||u.length===0)return v;for(var h=u.split(/[\r\n]/),y=h.length-1;y>=0&&h[y].length===0;)--y;for(var w=10,b=0,B=0;B<=y;++B)b=h[B].indexOf(" "),b==-1?b=h[B].length:b++,w=Math.max(w,b);for(B=0;B<=y;++B){v[B]=[];var S=0;for(e(h[B].slice(0,w).trim(),v,B,S,m),S=1;S<=(h[B].length-w)/10+1;++S)e(h[B].slice(w+(S-1)*10,w+S*10).trim(),v,B,S,m)}return m.sheetRows&&(v=v.slice(0,m.sheetRows)),v}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(u){for(var f={},m=!1,v=0,h=0;v<u.length;++v)(h=u.charCodeAt(v))==34?m=!m:!m&&h in n&&(f[h]=(f[h]||0)+1);h=[];for(v in f)Object.prototype.hasOwnProperty.call(f,v)&&h.push([f[v],v]);if(!h.length){f=r;for(v in f)Object.prototype.hasOwnProperty.call(f,v)&&h.push([f[v],v])}return h.sort(function(y,w){return y[0]-w[0]||r[y[1]]-r[w[1]]}),n[h.pop()[1]]||44}function s(u,f){var m=f||{},v="",h=m.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(v=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(v=u.charAt(4),u=u.slice(6)):v=a(u.slice(0,1024)):m&&m.FS?v=m.FS:v=a(u.slice(0,1024));var w=0,b=0,B=0,S=0,T=0,N=v.charCodeAt(0),k=!1,E=0,_=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var C=m.dateNF!=null?KSe(m.dateNF):null;function F(){var I=u.slice(S,T),R={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)R.t="z";else if(m.raw)R.t="s",R.v=I;else if(I.trim().length===0)R.t="s",R.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(R.t="s",R.v=I.slice(2,-1).replace(/""/g,'"')):gFe(I)?(R.t="n",R.f=I.slice(1)):(R.t="s",R.v=I);else if(I=="TRUE")R.t="b",R.v=!0;else if(I=="FALSE")R.t="b",R.v=!1;else if(!isNaN(B=nl(I)))R.t="n",m.cellText!==!1&&(R.w=I),R.v=B;else if(!isNaN(Rm(I).getDate())||C&&I.match(C)){R.z=m.dateNF||Nn[14];var M=0;C&&I.match(C)&&(I=GSe(I,m.dateNF,I.match(C)||[]),M=1),m.cellDates?(R.t="d",R.v=ss(I,M)):(R.t="n",R.v=ho(ss(I,M))),m.cellText!==!1&&(R.w=Bi(R.z,R.v instanceof Date?ho(R.v):R.v)),m.cellNF||delete R.z}else R.t="s",R.v=I;if(R.t=="z"||(m.dense?(h[w]||(h[w]=[]),h[w][b]=R):h[Pn({c:b,r:w})]=R),S=T+1,_=u.charCodeAt(S),y.e.c<b&&(y.e.c=b),y.e.r<w&&(y.e.r=w),E==N)++b;else if(b=0,++w,m.sheetRows&&m.sheetRows<=w)return!0}e:for(;T<u.length;++T)switch(E=u.charCodeAt(T)){case 34:_===34&&(k=!k);break;case N:case 10:case 13:if(!k&&F())break e;break}return T-S>0&&F(),h["!ref"]=sr(y),h}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):ah(t(u,f),f)}function i(u,f){var m="",v=f.type=="string"?[0,0,0,0]:Yk(u,f);switch(f.type){case"base64":m=Zo(u);break;case"binary":m=u;break;case"buffer":f.codepage==65001?m=u.toString("utf8"):f.codepage&&typeof Pv<"u"||(m=qn&&Buffer.isBuffer(u)?u.toString("binary"):GA(u));break;case"array":m=CA(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+f.type)}return v[0]==239&&v[1]==187&&v[2]==191?m=Gr(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=Gr(m):f.type=="binary"&&typeof Pv<"u",m.slice(0,19)=="socialcalc:version:"?PTe.to_sheet(f.type=="string"?m:Gr(m),f):o(m,f)}function c(u,f){return vd(i(u,f),f)}function A(u){for(var f=[],m=da(u["!ref"]),v,h=Array.isArray(u),y=m.s.r;y<=m.e.r;++y){for(var w=[],b=m.s.c;b<=m.e.c;++b){var B=Pn({r:y,c:b});if(v=h?(u[y]||[])[b]:u[B],!v||v.v==null){w.push("          ");continue}for(var S=(v.w||(Zc(v),v.w)||"").slice(0,10);S.length<10;)S+=" ";w.push(S+(b===0?" ":""))}f.push(w.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:i,from_sheet:A}})();function DTe(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var a=TTe.to_workbook(e,n);return n.WTF=r,a}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Nv.to_workbook(e,t)}}var X0=(function(){function e(U,G,ne){if(U){us(U,U.l||0);for(var X=ne.Enum||ee;U.l<U.length;){var oe=U.read_shift(2),q=X[oe]||X[65535],Y=U.read_shift(2),ae=U.l+Y,ge=q.f&&q.f(U,Y,ne);if(U.l=ae,G(ge,q,oe))return}}}function t(U,G){switch(G.type){case"base64":return n(Gi(Zo(U)),G);case"binary":return n(Gi(U),G);case"buffer":case"array":return n(U,G)}throw"Unsupported type "+G.type}function n(U,G){if(!U)return U;var ne=G||{},X=ne.dense?[]:{},oe="Sheet1",q="",Y=0,ae={},ge=[],we=[],z={s:{r:0,c:0},e:{r:0,c:0}},Ae=ne.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)ne.Enum=ee,e(U,function(re,be,He){switch(He){case 0:ne.vers=re,re>=4096&&(ne.qpro=!0);break;case 6:z=re;break;case 204:re&&(q=re);break;case 222:q=re;break;case 15:case 51:ne.qpro||(re[1].v=re[1].v.slice(1));case 13:case 14:case 16:He==14&&(re[2]&112)==112&&(re[2]&15)>1&&(re[2]&15)<15&&(re[1].z=ne.dateNF||Nn[14],ne.cellDates&&(re[1].t="d",re[1].v=Gw(re[1].v))),ne.qpro&&re[3]>Y&&(X["!ref"]=sr(z),ae[oe]=X,ge.push(oe),X=ne.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},Y=re[3],oe=q||"Sheet"+(Y+1),q="");var ke=ne.dense?(X[re[0].r]||[])[re[0].c]:X[Pn(re[0])];if(ke){ke.t=re[1].t,ke.v=re[1].v,re[1].z!=null&&(ke.z=re[1].z),re[1].f!=null&&(ke.f=re[1].f);break}ne.dense?(X[re[0].r]||(X[re[0].r]=[]),X[re[0].r][re[0].c]=re[1]):X[Pn(re[0])]=re[1];break}},ne);else if(U[2]==26||U[2]==14)ne.Enum=j,U[2]==14&&(ne.qpro=!0,U.l=0),e(U,function(re,be,He){switch(He){case 204:oe=re;break;case 22:re[1].v=re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(re[3]>Y&&(X["!ref"]=sr(z),ae[oe]=X,ge.push(oe),X=ne.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},Y=re[3],oe="Sheet"+(Y+1)),Ae>0&&re[0].r>=Ae)break;ne.dense?(X[re[0].r]||(X[re[0].r]=[]),X[re[0].r][re[0].c]=re[1]):X[Pn(re[0])]=re[1],z.e.c<re[0].c&&(z.e.c=re[0].c),z.e.r<re[0].r&&(z.e.r=re[0].r);break;case 27:re[14e3]&&(we[re[14e3][0]]=re[14e3][1]);break;case 1537:we[re[0]]=re[1],re[0]==Y&&(oe=re[1]);break}},ne);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(X["!ref"]=sr(z),ae[q||oe]=X,ge.push(q||oe),!we.length)return{SheetNames:ge,Sheets:ae};for(var ie={},_e=[],Pe=0;Pe<we.length;++Pe)ae[ge[Pe]]?(_e.push(we[Pe]||ge[Pe]),ie[we[Pe]]=ae[we[Pe]]||ae[ge[Pe]]):(_e.push(we[Pe]),ie[we[Pe]]={"!ref":"A1"});return{SheetNames:_e,Sheets:ie}}function r(U,G){var ne=G||{};if(+ne.codepage>=0&&Ji(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK1 to JS string");var X=UE(),oe=da(U["!ref"]),q=Array.isArray(U),Y=[];Mi(X,0,s(1030)),Mi(X,6,c(oe));for(var ae=Math.min(oe.e.r,8191),ge=oe.s.r;ge<=ae;++ge)for(var we=ps(ge),z=oe.s.c;z<=oe.e.c;++z){ge===oe.s.r&&(Y[z]=Ka(z));var Ae=Y[z]+we,ie=q?(U[ge]||[])[z]:U[Ae];if(!(!ie||ie.t=="z"))if(ie.t=="n")(ie.v|0)==ie.v&&ie.v>=-32768&&ie.v<=32767?Mi(X,13,v(ge,z,ie.v)):Mi(X,14,y(ge,z,ie.v));else{var _e=Zc(ie);Mi(X,15,f(ge,z,_e.slice(0,239)))}}return Mi(X,1),X.end()}function a(U,G){var ne=G||{};if(+ne.codepage>=0&&Ji(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK3 to JS string");var X=UE();Mi(X,0,o(U));for(var oe=0,q=0;oe<U.SheetNames.length;++oe)(U.Sheets[U.SheetNames[oe]]||{})["!ref"]&&Mi(X,27,K(U.SheetNames[oe],q++));var Y=0;for(oe=0;oe<U.SheetNames.length;++oe){var ae=U.Sheets[U.SheetNames[oe]];if(!(!ae||!ae["!ref"])){for(var ge=da(ae["!ref"]),we=Array.isArray(ae),z=[],Ae=Math.min(ge.e.r,8191),ie=ge.s.r;ie<=Ae;++ie)for(var _e=ps(ie),Pe=ge.s.c;Pe<=ge.e.c;++Pe){ie===ge.s.r&&(z[Pe]=Ka(Pe));var re=z[Pe]+_e,be=we?(ae[ie]||[])[Pe]:ae[re];if(!(!be||be.t=="z"))if(be.t=="n")Mi(X,23,F(ie,Pe,Y,be.v));else{var He=Zc(be);Mi(X,22,E(ie,Pe,Y,He.slice(0,239)))}}++Y}}return Mi(X,1),X.end()}function s(U){var G=Oa(2);return G.write_shift(2,U),G}function o(U){var G=Oa(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var ne=0,X=0,oe=0,q=0;q<U.SheetNames.length;++q){var Y=U.SheetNames[q],ae=U.Sheets[Y];if(!(!ae||!ae["!ref"])){++oe;var ge=rh(ae["!ref"]);ne<ge.e.r&&(ne=ge.e.r),X<ge.e.c&&(X=ge.e.c)}}return ne>8191&&(ne=8191),G.write_shift(2,ne),G.write_shift(1,oe),G.write_shift(1,X),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function i(U,G,ne){var X={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&ne.qpro?(X.s.c=U.read_shift(1),U.l++,X.s.r=U.read_shift(2),X.e.c=U.read_shift(1),U.l++,X.e.r=U.read_shift(2),X):(X.s.c=U.read_shift(2),X.s.r=U.read_shift(2),G==12&&ne.qpro&&(U.l+=2),X.e.c=U.read_shift(2),X.e.r=U.read_shift(2),G==12&&ne.qpro&&(U.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function c(U){var G=Oa(8);return G.write_shift(2,U.s.c),G.write_shift(2,U.s.r),G.write_shift(2,U.e.c),G.write_shift(2,U.e.r),G}function A(U,G,ne){var X=[{c:0,r:0},{t:"n",v:0},0,0];return ne.qpro&&ne.vers!=20768?(X[0].c=U.read_shift(1),X[3]=U.read_shift(1),X[0].r=U.read_shift(2),U.l+=2):(X[2]=U.read_shift(1),X[0].c=U.read_shift(2),X[0].r=U.read_shift(2)),X}function u(U,G,ne){var X=U.l+G,oe=A(U,G,ne);if(oe[1].t="s",ne.vers==20768){U.l++;var q=U.read_shift(1);return oe[1].v=U.read_shift(q,"utf8"),oe}return ne.qpro&&U.l++,oe[1].v=U.read_shift(X-U.l,"cstr"),oe}function f(U,G,ne){var X=Oa(7+ne.length);X.write_shift(1,255),X.write_shift(2,G),X.write_shift(2,U),X.write_shift(1,39);for(var oe=0;oe<X.length;++oe){var q=ne.charCodeAt(oe);X.write_shift(1,q>=128?95:q)}return X.write_shift(1,0),X}function m(U,G,ne){var X=A(U,G,ne);return X[1].v=U.read_shift(2,"i"),X}function v(U,G,ne){var X=Oa(7);return X.write_shift(1,255),X.write_shift(2,G),X.write_shift(2,U),X.write_shift(2,ne,"i"),X}function h(U,G,ne){var X=A(U,G,ne);return X[1].v=U.read_shift(8,"f"),X}function y(U,G,ne){var X=Oa(13);return X.write_shift(1,255),X.write_shift(2,G),X.write_shift(2,U),X.write_shift(8,ne,"f"),X}function w(U,G,ne){var X=U.l+G,oe=A(U,G,ne);if(oe[1].v=U.read_shift(8,"f"),ne.qpro)U.l=X;else{var q=U.read_shift(2);T(U.slice(U.l,U.l+q),oe),U.l+=q}return oe}function b(U,G,ne){var X=G&32768;return G&=-32769,G=(X?U:0)+(G>=8192?G-16384:G),(X?"":"$")+(ne?Ka(G):ps(G))}var B={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(U,G){us(U,0);for(var ne=[],X=0,oe="",q="",Y="",ae="";U.l<U.length;){var ge=U[U.l++];switch(ge){case 0:ne.push(U.read_shift(8,"f"));break;case 1:q=b(G[0].c,U.read_shift(2),!0),oe=b(G[0].r,U.read_shift(2),!1),ne.push(q+oe);break;case 2:{var we=b(G[0].c,U.read_shift(2),!0),z=b(G[0].r,U.read_shift(2),!1);q=b(G[0].c,U.read_shift(2),!0),oe=b(G[0].r,U.read_shift(2),!1),ne.push(we+z+":"+q+oe)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:ne.push("("+ne.pop()+")");break;case 5:ne.push(U.read_shift(2));break;case 6:{for(var Ae="";ge=U[U.l++];)Ae+=String.fromCharCode(ge);ne.push('"'+Ae.replace(/"/g,'""')+'"')}break;case 8:ne.push("-"+ne.pop());break;case 23:ne.push("+"+ne.pop());break;case 22:ne.push("NOT("+ne.pop()+")");break;case 20:case 21:ae=ne.pop(),Y=ne.pop(),ne.push(["AND","OR"][ge-20]+"("+Y+","+ae+")");break;default:if(ge<32&&S[ge])ae=ne.pop(),Y=ne.pop(),ne.push(Y+S[ge]+ae);else if(B[ge]){if(X=B[ge][1],X==69&&(X=U[U.l++]),X>ne.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+ne.join("|")+"|");return}var ie=ne.slice(-X);ne.length-=X,ne.push(B[ge][0]+"("+ie.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}ne.length==1?G[1].f=""+ne[0]:console.error("WK1 bad formula parse |"+ne.join("|")+"|")}function N(U){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=U.read_shift(2),G[3]=U[U.l++],G[0].c=U[U.l++],G}function k(U,G){var ne=N(U);return ne[1].t="s",ne[1].v=U.read_shift(G-4,"cstr"),ne}function E(U,G,ne,X){var oe=Oa(6+X.length);oe.write_shift(2,U),oe.write_shift(1,ne),oe.write_shift(1,G),oe.write_shift(1,39);for(var q=0;q<X.length;++q){var Y=X.charCodeAt(q);oe.write_shift(1,Y>=128?95:Y)}return oe.write_shift(1,0),oe}function _(U,G){var ne=N(U);ne[1].v=U.read_shift(2);var X=ne[1].v>>1;if(ne[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return ne[1].v=X,ne}function C(U,G){var ne=N(U),X=U.read_shift(4),oe=U.read_shift(4),q=U.read_shift(2);if(q==65535)return X===0&&oe===3221225472?(ne[1].t="e",ne[1].v=15):X===0&&oe===3489660928?(ne[1].t="e",ne[1].v=42):ne[1].v=0,ne;var Y=q&32768;return q=(q&32767)-16446,ne[1].v=(1-Y*2)*(oe*Math.pow(2,q+32)+X*Math.pow(2,q)),ne}function F(U,G,ne,X){var oe=Oa(14);if(oe.write_shift(2,U),oe.write_shift(1,ne),oe.write_shift(1,G),X==0)return oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(2,65535),oe;var q=0,Y=0,ae=0,ge=0;return X<0&&(q=1,X=-X),Y=Math.log2(X)|0,X/=Math.pow(2,Y-31),ge=X>>>0,(ge&2147483648)==0&&(X/=2,++Y,ge=X>>>0),X-=ge,ge|=2147483648,ge>>>=0,X*=Math.pow(2,32),ae=X>>>0,oe.write_shift(4,ae),oe.write_shift(4,ge),Y+=16383+(q?32768:0),oe.write_shift(2,Y),oe}function I(U,G){var ne=C(U);return U.l+=G-14,ne}function R(U,G){var ne=N(U),X=U.read_shift(4);return ne[1].v=X>>6,ne}function M(U,G){var ne=N(U),X=U.read_shift(8,"f");return ne[1].v=X,ne}function te(U,G){var ne=M(U);return U.l+=G-10,ne}function se(U,G){return U[U.l+G-1]==0?U.read_shift(G,"cstr"):""}function O(U,G){var ne=U[U.l++];ne>G-1&&(ne=G-1);for(var X="";X.length<ne;)X+=String.fromCharCode(U[U.l++]);return X}function W(U,G,ne){if(!(!ne.qpro||G<21)){var X=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var oe=U.read_shift(G-21,"cstr");return[X,oe]}}function le(U,G){for(var ne={},X=U.l+G;U.l<X;){var oe=U.read_shift(2);if(oe==14e3){for(ne[oe]=[0,""],ne[oe][0]=U.read_shift(2);U[U.l];)ne[oe][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return ne}function K(U,G){var ne=Oa(5+U.length);ne.write_shift(2,14e3),ne.write_shift(2,G);for(var X=0;X<U.length;++X){var oe=U.charCodeAt(X);ne[ne.l++]=oe>127?95:oe}return ne[ne.l++]=0,ne}var ee={0:{n:"BOF",f:Fa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:i},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:h},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:se},222:{n:"SHEETNAMELP",f:O},65535:{n:""}},j={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:le},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:te},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:t}})();function UTe(e){var t={},n=e.match(zs),r=0,a=!1;if(n)for(;r!=n.length;++r){var s=Bn(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=Sk[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var RTe=(function(){var e=Uv("t"),t=Uv("rPr");function n(s){var o=s.match(e);if(!o)return{t:"s",v:""};var i={t:"s",v:ir(o[1])},c=s.match(t);return c&&(i.s=UTe(c[1])),i}var r=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(a).map(n).filter(function(i){return i.v})}})(),NTe=(function(){var t=/(\r\n|\n)/g;function n(a,s,o){var i=[];a.u&&i.push("text-decoration: underline;"),a.uval&&i.push("text-underline-style:"+a.uval+";"),a.sz&&i.push("font-size:"+a.sz+"pt;"),a.outline&&i.push("text-effect: outline;"),a.shadow&&i.push("text-shadow: auto;"),s.push('<span style="'+i.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function r(a){var s=[[],a.v,[]];return a.v?(a.s&&n(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),LTe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,VTe=/<(?:\w+:)?r>/,MTe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Gk(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=ir(Gr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Gr(e),n&&(r.h=Uk(r.t))):e.match(VTe)&&(r.r=Gr(e),r.t=ir(Gr((e.replace(MTe,"").match(LTe)||[]).join("").replace(zs,""))),n&&(r.h=NTe(RTe(r.r)))),r):{t:""}}var OTe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,QTe=/<(?:\w+:)?(?:si|sstItem)>/g,HTe=/<\/(?:\w+:)?(?:si|sstItem)>/;function KTe(e,t){var n=[],r="";if(!e)return n;var a=e.match(OTe);if(a){r=a[2].replace(QTe,"").split(HTe);for(var s=0;s!=r.length;++s){var o=Gk(r[s].trim(),t);o!=null&&(n[n.length]=o)}a=Bn(a[1]),n.Count=a.count,n.Unique=a.uniqueCount}return n}function GTe(e){return[e.read_shift(4),e.read_shift(4)]}function zTe(e,t){var n=[],r=!1;return ou(e,function(s,o,i){switch(i){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+i.toString(16))}}),n}function BQ(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Kc(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function $Te(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Kc(e,4),t.U=Kc(e,4),t.W=Kc(e,4),t}function WTe(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function jTe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(WTe(e));return t}function JTe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function qTe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Kc(e,4),t.U=Kc(e,4),t.W=Kc(e,4),t}function YTe(e){var t=qTe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function SQ(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var a=!1;switch(r.AlgID){case 26126:case 26127:case 26128:a=r.Flags==36;break;case 26625:a=r.Flags==4;break;case 0:a=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function kQ(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function XTe(e){var t=Kc(e);switch(t.Minor){case 2:return[t.Minor,ZTe(e)];case 3:return[t.Minor,e4e()];case 4:return[t.Minor,t4e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function ZTe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=SQ(e,n),a=kQ(e,e.length-e.l);return{t:"Std",h:r,v:a}}function e4e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function t4e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(zs,function(s){var o=Bn(s);switch(lc(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(i){r[i]=o[i]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function n4e(e,t){var n={},r=n.EncryptionVersionInfo=Kc(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,n.EncryptionHeader=SQ(e,a),t-=a,n.EncryptionVerifier=kQ(e,t),n}function r4e(e){var t={},n=t.EncryptionVersionInfo=Kc(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function a4e(e){var t=0,n,r=BQ(e),a=r.length+1,s,o,i,c,A;for(n=rd(a),n[0]=r.length,s=1;s!=a;++s)n[s]=r[s-1];for(s=a-1;s>=0;--s)o=n[s],i=(t&16384)===0?0:1,c=t<<1&32767,A=i|c,t=A^o;return t^52811}var IQ=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},a=function(o,i){return r(o^i)},s=function(o){for(var i=t[o.length-1],c=104,A=o.length-1;A>=0;--A)for(var u=o[A],f=0;f!=7;++f)u&64&&(i^=n[c]),u*=2,--c;return i};return function(o){for(var i=BQ(o),c=s(i),A=i.length,u=rd(16),f=0;f!=16;++f)u[f]=0;var m,v,h;for((A&1)===1&&(m=c>>8,u[A]=a(e[0],m),--A,m=c&255,v=i[i.length-1],u[A]=a(v,m));A>0;)--A,m=c>>8,u[A]=a(i[A],m),--A,m=c&255,u[A]=a(i[A],m);for(A=15,h=15-i.length;h>0;)m=c>>8,u[A]=a(e[h],m),--A,--h,m=c&255,u[A]=a(i[A],m),--A,--h;return u}})(),s4e=function(e,t,n,r,a){a||(a=t),r||(r=IQ(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=r[n],o=(o>>5|o<<3)&255,a[s]=o,++n;return[a,n,r]},o4e=function(e){var t=0,n=IQ(e);return function(r){var a=s4e("",r,t,n);return t=a[1],a[0]}};function i4e(e,t,n,r){var a={key:Fa(e),verificationBytes:Fa(e)};return n.password&&(a.verifier=a4e(n.password)),r.valid=a.verificationBytes===a.verifier,r.valid&&(r.insitu=o4e(n.password)),a}function l4e(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=r4e(e):r.Data=n4e(e,t),r}function c4e(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?l4e(e,t-2,r):i4e(e,n.biff>=8?t:t-2,n,r),r}var u4e=(function(){function e(a,s){switch(s.type){case"base64":return t(Zo(a),s);case"binary":return t(a,s);case"buffer":return t(qn&&Buffer.isBuffer(a)?a.toString("binary"):GA(a),s);case"array":return t(CA(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},i=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var A={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(i)&&(i[f]=[]);for(var m=/\\\w+\b/g,v=0,h,y=-1;h=m.exec(u);){switch(h[0]){case"\\cell":var w=u.slice(v,m.lastIndex-h[0].length);if(w[0]==" "&&(w=w.slice(1)),++y,w.length){var b={v:w,t:"s"};Array.isArray(i)?i[f][y]=b:i[Pn({r:f,c:y})]=b}break}v=m.lastIndex}y>A.e.c&&(A.e.c=y)}),i["!ref"]=sr(A),i}function n(a,s){return vd(e(a,s),s)}function r(a){for(var s=["{\\rtf1\\ansi"],o=da(a["!ref"]),i,c=Array.isArray(a),A=o.s.r;A<=o.e.r;++A){s.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Pn({r:A,c:u});i=c?(a[A]||[])[u]:a[f],!(!i||i.v==null&&(!i.f||i.F))&&(s.push(" "+(i.w||(Zc(i),i.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}})();function d4e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Lv(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function A4e(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,a=Math.max(t,n,r),s=Math.min(t,n,r),o=a-s;if(o===0)return[0,0,t];var i=0,c=0,A=a+s;switch(c=o/(A>1?2-A:A),a){case t:i=((n-r)/o+6)%6;break;case n:i=(r-t)/o+2;break;case r:i=(t-n)/o+4;break}return[i/6,c,A/2]}function f4e(e){var t=e[0],n=e[1],r=e[2],a=n*2*(r<.5?r:1-r),s=r-a/2,o=[s,s,s],i=6*t,c;if(n!==0)switch(i|0){case 0:case 6:c=a*i,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-i),o[0]+=c,o[1]+=a;break;case 2:c=a*(i-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-i),o[1]+=c,o[2]+=a;break;case 4:c=a*(i-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-i),o[2]+=c,o[0]+=a;break}for(var A=0;A!=3;++A)o[A]=Math.round(o[A]*255);return o}function _2(e,t){if(t===0)return e;var n=A4e(d4e(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),Lv(f4e(n))}var TQ=6,m4e=15,h4e=1,lo=TQ;function b2(e){return Math.floor((e+Math.round(128/lo)/256)*lo)}function x2(e){return Math.floor((e-5)/lo*100+.5)/100}function VE(e){return Math.round((e*lo+5)/lo*256)/256}function Qx(e){return VE(x2(b2(e)))}function zk(e){var t=Math.abs(e-Qx(e)),n=lo;if(t>.005)for(lo=h4e;lo<m4e;++lo)Math.abs(e-Qx(e))<=t&&(t=Math.abs(e-Qx(e)),n=lo);lo=n}function Nm(e){e.width?(e.wpx=b2(e.width),e.wch=x2(e.wpx),e.MDW=lo):e.wpx?(e.wch=x2(e.wpx),e.width=VE(e.wch),e.MDW=lo):typeof e.wch=="number"&&(e.width=VE(e.wch),e.wpx=b2(e.width),e.MDW=lo),e.customWidth&&delete e.customWidth}var v4e=96,FQ=v4e;function PQ(e){return e*96/FQ}function Vv(e){return e*FQ/96}var p4e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function g4e(e,t,n,r){t.Borders=[];var a={},s=!1;(e[0].match(zs)||[]).forEach(function(o){var i=Bn(o);switch(lc(i[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},i.diagonalUp&&(a.diagonalUp=Xr(i.diagonalUp)),i.diagonalDown&&(a.diagonalDown=Xr(i.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+i[0]+" in borders")}})}function y4e(e,t,n,r){t.Fills=[];var a={},s=!1;(e[0].match(zs)||[]).forEach(function(o){var i=Bn(o);switch(lc(i[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":i.patternType&&(a.patternType=i.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),i.indexed&&(a.bgColor.indexed=parseInt(i.indexed,10)),i.theme&&(a.bgColor.theme=parseInt(i.theme,10)),i.tint&&(a.bgColor.tint=parseFloat(i.tint)),i.rgb&&(a.bgColor.rgb=i.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),i.theme&&(a.fgColor.theme=parseInt(i.theme,10)),i.tint&&(a.fgColor.tint=parseFloat(i.tint)),i.rgb!=null&&(a.fgColor.rgb=i.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+i[0]+" in fills")}})}function w4e(e,t,n,r){t.Fonts=[];var a={},s=!1;(e[0].match(zs)||[]).forEach(function(o){var i=Bn(o);switch(lc(i[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":i.val&&(a.name=Gr(i.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=i.val?Xr(i.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=i.val?Xr(i.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(i.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=i.val?Xr(i.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=i.val?Xr(i.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=i.val?Xr(i.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=i.val?Xr(i.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=i.val?Xr(i.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":i.val&&(a.sz=+i.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":i.val&&(a.vertAlign=i.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":i.val&&(a.family=parseInt(i.val,10));break;case"<family/>":case"</family>":break;case"<scheme":i.val&&(a.scheme=i.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(i.val=="1")break;i.codepage=Sk[parseInt(i.val,10)];break;case"<color":if(a.color||(a.color={}),i.auto&&(a.color.auto=Xr(i.auto)),i.rgb)a.color.rgb=i.rgb.slice(-6);else if(i.indexed){a.color.index=parseInt(i.indexed,10);var c=fA[a.color.index];a.color.index==81&&(c=fA[1]),c||(c=fA[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else i.theme&&(a.color.theme=parseInt(i.theme,10),i.tint&&(a.color.tint=parseFloat(i.tint)),i.theme&&n.themeElements&&n.themeElements.clrScheme&&(a.color.rgb=_2(n.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+i[0]+" in fonts")}})}function _4e(e,t,n){t.NumberFmt=[];for(var r=ql(Nn),a=0;a<r.length;++a)t.NumberFmt[r[a]]=Nn[r[a]];var s=e[0].match(zs);if(s)for(a=0;a<s.length;++a){var o=Bn(s[a]);switch(lc(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var i=ir(Gr(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=i,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=i}AA(i,c)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var U1=["numFmtId","fillId","fontId","borderId","xfId"],R1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function b4e(e,t,n){t.CellXf=[];var r,a=!1;(e[0].match(zs)||[]).forEach(function(s){var o=Bn(s),i=0;switch(lc(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],i=0;i<U1.length;++i)r[U1[i]]&&(r[U1[i]]=parseInt(r[U1[i]],10));for(i=0;i<R1.length;++i)r[R1[i]]&&(r[R1[i]]=Xr(r[R1[i]]));if(t.NumberFmt&&r.numFmtId>392){for(i=392;i>60;--i)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[i]){r.numFmtId=i;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Xr(o.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var x4e=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(i,c,A){var u={};if(!i)return u;i=i.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=i.match(t))&&_4e(f,u,A),(f=i.match(a))&&w4e(f,u,c,A),(f=i.match(r))&&y4e(f,u,c,A),(f=i.match(s))&&g4e(f,u,c,A),(f=i.match(n))&&b4e(f,u,A),u}})();function C4e(e,t){var n=e.read_shift(2),r=Qs(e);return[n,r]}function E4e(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=Rke(e);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var i=e.read_shift(1);i>0&&(r.family=i);var c=e.read_shift(1);switch(c>0&&(r.charset=c),e.l++,r.color=Uke(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Qs(e),r}var B4e=Hs;function S4e(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}var k4e=Hs;function I4e(e,t,n){var r={};r.NumberFmt=[];for(var a in Nn)r.NumberFmt[a]=Nn[a];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return ou(e,function(c,A,u){switch(u){case 44:r.NumberFmt[c[0]]=c[1],AA(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=_2(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(u),o=!0;break;case 38:s.pop(),o=!1;break;default:if(A.T>0)s.push(u);else if(A.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}var T4e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function F4e(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(zs)||[]).forEach(function(a){var s=Bn(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[T4e.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function P4e(){}function D4e(){}var U4e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,R4e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,N4e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function L4e(e,t,n){t.themeElements={};var r;[["clrScheme",U4e,F4e],["fontScheme",R4e,P4e],["fmtScheme",N4e,D4e]].forEach(function(a){if(!(r=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](r,t,n)})}var V4e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function DQ(e,t){(!e||e.length===0)&&(e=M4e());var n,r={};if(!(n=e.match(V4e)))throw new Error("themeElements not found in theme");return L4e(n[0],r,t),r.raw=e,r}function M4e(e,t){var n=[GO];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function O4e(e,t,n){var r=e.l+t,a=e.read_shift(4);if(a!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var o;try{o=KO(s,{type:"array"})}catch{return}var i=zo(o,"theme/theme/theme1.xml",!0);if(i)return DQ(i,n)}}function Q4e(e){return e.read_shift(4)}function H4e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=K4e(e,4);break;case 2:t.xclrValue=yQ(e);break;case 3:t.xclrValue=Q4e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function K4e(e,t){return Hs(e,t)}function G4e(e,t){return Hs(e,t)}function z4e(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=H4e(e);break;case 6:r[1]=G4e(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function $4e(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(z4e(e,n-e.l));return{ixfe:r,ext:s}}function W4e(e,t){t.forEach(function(n){n[0]})}function j4e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Qs(e)}}function J4e(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function q4e(e){return e.l+=4,e.read_shift(4)!=0}function Y4e(e,t,n){var r={Types:[],Cell:[],Value:[]},a=n||{},s=[],o=!1,i=2;return ou(e,function(c,A,u){switch(u){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(f){i==1?r.Cell.push({type:r.Types[f[0]-1].name,index:f[1]}):i==0&&r.Value.push({type:r.Types[f[0]-1].name,index:f[1]})});break;case 337:i=c?1:0;break;case 338:i=2;break;case 35:s.push(u),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!A.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function X4e(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var a=!1,s=2,o;return e.replace(zs,function(i){var c=Bn(i);switch(lc(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var A=0;A<r.Types.length;++A)r.Types[A].name==c.name&&(o=r.Types[A]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):s==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&n.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return i}),r}function Z4e(e){var t=[];if(!e)return t;var n=1;return(e.match(zs)||[]).forEach(function(r){var a=Bn(r);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?n=a.i:a.i=n,t.push(a);break}}),t}function eFe(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Pn(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function tFe(e,t,n){var r=[];return ou(e,function(s,o,i){switch(i){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+i.toString(16))}}),r}function nFe(e,t,n,r){if(!e)return e;var a=r||{},s=!1;ou(e,function(i,c,A){switch(A){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}},a)}function rFe(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function qU(e,t,n,r){var a=Array.isArray(e),s;t.forEach(function(o){var i=co(o.ref);if(a?(e[i.r]||(e[i.r]=[]),s=e[i.r][i.c]):s=e[o.ref],!s){s={t:"z"},a?e[i.r][i.c]=s:e[o.ref]=s;var c=da(e["!ref"]||"BDWGO1000001:A1");c.s.r>i.r&&(c.s.r=i.r),c.e.r<i.r&&(c.e.r=i.r),c.s.c>i.c&&(c.s.c=i.c),c.e.c<i.c&&(c.e.c=i.c);var A=sr(c);A!==e["!ref"]&&(e["!ref"]=A)}s.c||(s.c=[]);var u={a:o.author,t:o.t,r:o.r,T:n};o.h&&(u.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!n&&s.c[f].T)return;n&&!s.c[f].T&&s.c.splice(f,1)}if(n&&r){for(f=0;f<r.length;++f)if(u.a==r[f].id){u.a=r[f].name||u.a;break}}s.c.push(u)})}function aFe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var i=o.match(/<(?:\w+:)?author[^>]*>(.*)/);i&&n.push(i[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var i=o.match(/<(?:\w+:)?comment[^>]*>/);if(i){var c=Bn(i[0]),A={author:c.authorId&&n[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=co(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!f&&!!f[1]&&Gk(f[1])||{r:"",t:"",h:""};A.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),A.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(A.h=m.h),r.push(A)}}}}),r}function sFe(e,t){var n=[],r=!1,a={},s=0;return e.replace(zs,function(i,c){var A=Bn(i);switch(lc(A[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:A.personId,guid:A.id,ref:A.ref,T:1};break;case"</threadedComment>":a.t!=null&&n.push(a);break;case"<text>":case"<text":s=c+i.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+A[0]+" in threaded comments")}return i}),n}function oFe(e,t){var n=[],r=!1;return e.replace(zs,function(s){var o=Bn(s);switch(lc(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function iFe(e){var t={};t.iauthor=e.read_shift(4);var n=$A(e);return t.rfx=n.s,t.ref=Pn(n.s),e.l+=16,t}var lFe=Qs;function cFe(e,t){var n=[],r=[],a={},s=!1;return ou(e,function(i,c,A){switch(A){case 632:r.push(i);break;case 635:a=i;break;case 637:a.t=i.t,a.h=i.h,a.r=i.r;break;case 636:if(a.author=r[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,n.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}}),n}var uFe="application/vnd.ms-office.vbaProject";function dFe(e){var t=nr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var a=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");nr.utils.cfb_add(t,a,e.FileIndex[r].content)}}),nr.write(t)}function AFe(){return{"!type":"dialog"}}function fFe(){return{"!type":"dialog"}}function mFe(){return{"!type":"macro"}}function hFe(){return{"!type":"macro"}}var fm=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,a,s,o){var i=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?i=!0:o.charAt(0)=="["&&(i=!0,o=o.slice(1,-1));var A=s.length>0?parseInt(s,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return i?u+=t.c:--u,c?A+=t.r:--A,a+(i?"":"$")+Ka(u)+(c?"":"$")+ps(A)}return function(a,s){return t=s,a.replace(e,n)}})(),UQ=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,vFe=(function(){return function(t,n){return t.replace(UQ,function(r,a,s,o,i,c){var A=Vk(o)-(s?0:n.c),u=Lk(c)-(i?0:n.r),f=u==0?"":i?u+1:"["+u+"]",m=A==0?"":s?A+1:"["+A+"]";return a+"R"+f+"C"+m})}})();function RQ(e,t){return e.replace(UQ,function(n,r,a,s,o,i){return r+(a=="$"?a+s:Ka(Vk(s)+t.c))+(o=="$"?o+i:ps(Lk(i)+t.r))})}function pFe(e,t,n){var r=rh(t),a=r.s,s=co(n),o={r:s.r-a.r,c:s.c-a.c};return RQ(e,o)}function gFe(e){return e.length!=1}function YU(e){return e.replace(/_xlfn\./g,"")}function Ia(e){e.l+=1}function ad(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function NQ(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return LQ(e);n.biff==12&&(r=4)}var a=e.read_shift(r),s=e.read_shift(r),o=ad(e),i=ad(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}function LQ(e){var t=ad(e),n=ad(e),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function yFe(e,t,n){if(n.biff<8)return LQ(e);var r=e.read_shift(n.biff==12?4:2),a=e.read_shift(n.biff==12?4:2),s=ad(e),o=ad(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function VQ(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return wFe(e);var r=e.read_shift(n&&n.biff==12?4:2),a=ad(e);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function wFe(e){var t=ad(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function _Fe(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function bFe(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return xFe(e);var a=e.read_shift(r>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,i=(s&32768)>>15;if(s&=16383,i==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:i}}function xFe(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),a==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:a,rRel:r}}function CFe(e,t,n){var r=(e[e.l++]&96)>>5,a=NQ(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function EFe(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=NQ(e,s,n);return[r,a,o]}function BFe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function SFe(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,a]}function kFe(e,t,n){var r=(e[e.l++]&96)>>5,a=yFe(e,t-1,n);return[r,a]}function IFe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function XU(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function TFe(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),a=[],s=0;s<=r;++s)a.push(e.read_shift(n&&n.biff==2?1:2));return a}function FFe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function PFe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function DFe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function UFe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function MQ(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function RFe(e){return e.read_shift(2),MQ(e)}function NFe(e){return e.read_shift(2),MQ(e)}function LFe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=VQ(e,0,n);return[r,a]}function VFe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=bFe(e,0,n);return[r,a]}function MFe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=VQ(e,0,n);return[r,a,s]}function OFe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[QPe[a],HQ[a],r]}function QFe(e,t,n){var r=e[e.l++],a=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:HFe(e);return[a,(s[0]===0?HQ:OPe)[s[1]]]}function HFe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function KFe(e,t,n){e.l+=n&&n.biff==2?3:4}function GFe(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function zFe(e){return e.l++,WA[e.read_shift(1)]}function $Fe(e){return e.l++,e.read_shift(2)}function WFe(e){return e.l++,e.read_shift(1)!==0}function jFe(e){return e.l++,Us(e)}function JFe(e,t,n){return e.l++,kp(e,t-1,n)}function qFe(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=wa(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=WA[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Us(e);break;case 2:n[1]=jA(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function YFe(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),a=[],s=0;s!=r;++s)a.push((n.biff==12?$A:zw)(e));return a}function XFe(e,t,n){var r=0,a=0;n.biff==12?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--a==0&&(a=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var i=0;i!=a;++i)o[s][i]=qFe(e,n.biff);return o}function ZFe(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,s=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function ePe(e,t,n){if(n.biff==5)return tPe(e);var r=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[r,a,s]}function tPe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function nPe(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function rPe(e,t,n){var r=e.read_shift(1)>>>5&3,a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function aPe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function sPe(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,a]}var oPe=Hs,iPe=Hs,lPe=Hs;function Tp(e,t,n){return e.l+=2,[_Fe(e)]}function $k(e){return e.l+=6,[]}var cPe=Tp,uPe=$k,dPe=$k,APe=Tp;function OQ(e){return e.l+=2,[Fa(e),e.read_shift(2)&1]}var fPe=Tp,mPe=OQ,hPe=$k,vPe=Tp,pPe=Tp,gPe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function yPe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=gPe[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:a,C:s}}function wPe(e){return e.l+=2,[e.read_shift(4)]}function _Pe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function bPe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function xPe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function CPe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function EPe(e){return e.l+=4,[0,0]}var ZU={1:{n:"PtgExp",f:GFe},2:{n:"PtgTbl",f:lPe},3:{n:"PtgAdd",f:Ia},4:{n:"PtgSub",f:Ia},5:{n:"PtgMul",f:Ia},6:{n:"PtgDiv",f:Ia},7:{n:"PtgPower",f:Ia},8:{n:"PtgConcat",f:Ia},9:{n:"PtgLt",f:Ia},10:{n:"PtgLe",f:Ia},11:{n:"PtgEq",f:Ia},12:{n:"PtgGe",f:Ia},13:{n:"PtgGt",f:Ia},14:{n:"PtgNe",f:Ia},15:{n:"PtgIsect",f:Ia},16:{n:"PtgUnion",f:Ia},17:{n:"PtgRange",f:Ia},18:{n:"PtgUplus",f:Ia},19:{n:"PtgUminus",f:Ia},20:{n:"PtgPercent",f:Ia},21:{n:"PtgParen",f:Ia},22:{n:"PtgMissArg",f:Ia},23:{n:"PtgStr",f:JFe},26:{n:"PtgSheet",f:_Pe},27:{n:"PtgEndSheet",f:bPe},28:{n:"PtgErr",f:zFe},29:{n:"PtgBool",f:WFe},30:{n:"PtgInt",f:$Fe},31:{n:"PtgNum",f:jFe},32:{n:"PtgArray",f:IFe},33:{n:"PtgFunc",f:OFe},34:{n:"PtgFuncVar",f:QFe},35:{n:"PtgName",f:ZFe},36:{n:"PtgRef",f:LFe},37:{n:"PtgArea",f:CFe},38:{n:"PtgMemArea",f:nPe},39:{n:"PtgMemErr",f:oPe},40:{n:"PtgMemNoMem",f:iPe},41:{n:"PtgMemFunc",f:rPe},42:{n:"PtgRefErr",f:aPe},43:{n:"PtgAreaErr",f:BFe},44:{n:"PtgRefN",f:VFe},45:{n:"PtgAreaN",f:kFe},46:{n:"PtgMemAreaN",f:xPe},47:{n:"PtgMemNoMemN",f:CPe},57:{n:"PtgNameX",f:ePe},58:{n:"PtgRef3d",f:MFe},59:{n:"PtgArea3d",f:EFe},60:{n:"PtgRefErr3d",f:sPe},61:{n:"PtgAreaErr3d",f:SFe},255:{}},BPe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},SPe={1:{n:"PtgElfLel",f:OQ},2:{n:"PtgElfRw",f:vPe},3:{n:"PtgElfCol",f:cPe},6:{n:"PtgElfRwV",f:pPe},7:{n:"PtgElfColV",f:APe},10:{n:"PtgElfRadical",f:fPe},11:{n:"PtgElfRadicalS",f:hPe},13:{n:"PtgElfColS",f:uPe},15:{n:"PtgElfColSV",f:dPe},16:{n:"PtgElfRadicalLel",f:mPe},25:{n:"PtgList",f:yPe},29:{n:"PtgSxName",f:wPe},255:{}},kPe={0:{n:"PtgAttrNoop",f:EPe},1:{n:"PtgAttrSemi",f:UFe},2:{n:"PtgAttrIf",f:PFe},4:{n:"PtgAttrChoose",f:TFe},8:{n:"PtgAttrGoto",f:FFe},16:{n:"PtgAttrSum",f:KFe},32:{n:"PtgAttrBaxcel",f:XU},33:{n:"PtgAttrBaxcel",f:XU},64:{n:"PtgAttrSpace",f:RFe},65:{n:"PtgAttrSpaceSemi",f:NFe},128:{n:"PtgAttrIfError",f:DFe},255:{}};function Fp(e,t,n,r){if(r.biff<8)return Hs(e,t);for(var a=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=XFe(e,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=YFe(e,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=a-e.l,t!==0&&s.push(Hs(e,t)),s}function Pp(e,t,n){for(var r=e.l+t,a,s,o=[];r!=e.l;)t=r-e.l,s=e[e.l],a=ZU[s]||ZU[BPe[s]],(s===24||s===25)&&(a=(s===24?SPe:kPe)[e[e.l+1]]),!a||!a.f?Hs(e,t):o.push([a.n,a.f(e,t,n)]);return o}function IPe(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var TPe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function FPe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function QQ(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(a=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function eR(e,t,n){var r=QQ(e,t,n);return r=="#REF"?r:FPe(r,n)}function ks(e,t,n,r,a){var s=a&&a.biff||8,o={s:{c:0,r:0}},i=[],c,A,u,f=0,m=0,v,h="";if(!e[0]||!e[0][0])return"";for(var y=-1,w="",b=0,B=e[0].length;b<B;++b){var S=e[0][b];switch(S[0]){case"PtgUminus":i.push("-"+i.pop());break;case"PtgUplus":i.push("+"+i.pop());break;case"PtgPercent":i.push(i.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=i.pop(),A=i.pop(),y>=0){switch(e[0][y][1][0]){case 0:w=ia(" ",e[0][y][1][1]);break;case 1:w=ia("\r",e[0][y][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}A=A+w,y=-1}i.push(A+TPe[S[0]]+c);break;case"PtgIsect":c=i.pop(),A=i.pop(),i.push(A+" "+c);break;case"PtgUnion":c=i.pop(),A=i.pop(),i.push(A+","+c);break;case"PtgRange":c=i.pop(),A=i.pop(),i.push(A+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=j0(S[1][1],o,a),i.push(J0(u,s));break;case"PtgRefN":u=n?j0(S[1][1],n,a):S[1][1],i.push(J0(u,s));break;case"PtgRef3d":f=S[1][1],u=j0(S[1][2],o,a),h=eR(r,f,a),i.push(h+"!"+J0(u,s));break;case"PtgFunc":case"PtgFuncVar":var T=S[1][0],N=S[1][1];T||(T=0),T&=127;var k=T==0?[]:i.slice(-T);i.length-=T,N==="User"&&(N=k.shift()),i.push(N+"("+k.join(",")+")");break;case"PtgBool":i.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":i.push(S[1]);break;case"PtgNum":i.push(String(S[1]));break;case"PtgStr":i.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":i.push(S[1]);break;case"PtgAreaN":v=UU(S[1][1],n?{s:n}:o,a),i.push(Mx(v,a));break;case"PtgArea":v=UU(S[1][1],o,a),i.push(Mx(v,a));break;case"PtgArea3d":f=S[1][1],v=S[1][2],h=eR(r,f,a),i.push(h+"!"+Mx(v,a));break;case"PtgAttrSum":i.push("SUM("+i.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=S[1][2];var E=(r.names||[])[m-1]||(r[0]||[])[m],_=E?E.Name:"SH33TJSNAME"+String(m);_&&_.slice(0,6)=="_xlfn."&&!a.xlfn&&(_=_.slice(6)),i.push(_);break;case"PtgNameX":var C=S[1][1];m=S[1][2];var F;if(a.biff<=5)C<0&&(C=-C),r[C]&&(F=r[C][m]);else{var I="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][m]&&r[C][m].itab>0&&(I=r.SheetNames[r[C][m].itab-1]+"!"):I=r.SheetNames[m-1]+"!"),r[C]&&r[C][m])I+=r[C][m].Name;else if(r[0]&&r[0][m])I+=r[0][m].Name;else{var R=(QQ(r,C,a)||"").split(";;");R[m-1]?I=R[m-1]:I+="SH33TJSERRX"}i.push(I);break}F||(F={Name:"SH33TJSERRY"}),i.push(F.Name);break;case"PtgParen":var M="(",te=")";if(y>=0){switch(w="",e[0][y][1][0]){case 2:M=ia(" ",e[0][y][1][1])+M;break;case 3:M=ia("\r",e[0][y][1][1])+M;break;case 4:te=ia(" ",e[0][y][1][1])+te;break;case 5:te=ia("\r",e[0][y][1][1])+te;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}i.push(M+i.pop()+te);break;case"PtgRefErr":i.push("#REF!");break;case"PtgRefErr3d":i.push("#REF!");break;case"PtgExp":u={c:S[1][1],r:S[1][0]};var se={c:n.c,r:n.r};if(r.sharedf[Pn(u)]){var O=r.sharedf[Pn(u)];i.push(ks(O,o,se,r,a))}else{var W=!1;for(c=0;c!=r.arrayf.length;++c)if(A=r.arrayf[c],!(u.c<A[0].s.c||u.c>A[0].e.c)&&!(u.r<A[0].s.r||u.r>A[0].e.r)){i.push(ks(A[1],o,se,r,a)),W=!0;break}W||i.push(S[1])}break;case"PtgArray":i.push("{"+IPe(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":i.push("");break;case"PtgAreaErr":i.push("#REF!");break;case"PtgAreaErr3d":i.push("#REF!");break;case"PtgList":i.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var le=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&y>=0&&le.indexOf(e[0][b][0])==-1){S=e[0][y];var K=!0;switch(S[1][0]){case 4:K=!1;case 0:w=ia(" ",S[1][1]);break;case 5:K=!1;case 1:w=ia("\r",S[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}i.push((K?w:"")+i.pop()+(K?"":w)),y=-1}}if(i.length>1&&a.WTF)throw new Error("bad formula stack");return i[0]}function PPe(e,t,n){var r=e.l+t,a=n.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Hs(e,t-2)];var i=Pp(e,o,n);return t!==o+a&&(s=Fp(e,t-o-a,i,n)),e.l=r,[i,s]}function DPe(e,t,n){var r=e.l+t,a=n.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Hs(e,t-2)];var i=Pp(e,o,n);return t!==o+a&&(s=Fp(e,t-o-a,i,n)),e.l=r,[i,s]}function UPe(e,t,n,r){var a=e.l+t,s=Pp(e,r,n),o;return a!==e.l&&(o=Fp(e,a-e.l,s,n)),[s,o]}function RPe(e,t,n){var r=e.l+t,a,s=e.read_shift(2),o=Pp(e,s,n);return s==65535?[[],Hs(e,t-2)]:(t!==s+2&&(a=Fp(e,r-s-2,o,n)),[o,a])}function NPe(e){var t;if(Vc(e,e.l+6)!==65535)return[Us(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Hx(e,t,n){var r=e.l+t,a=cc(e);n.biff==2&&++e.l;var s=NPe(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var i=DPe(e,r-e.l,n);return{cell:a,val:s[0],formula:i,shared:o>>3&1,tt:s[1]}}function $w(e,t,n){var r=e.read_shift(4),a=Pp(e,r,n),s=e.read_shift(4),o=s>0?Fp(e,s,a,n):null;return[a,o]}var LPe=$w,Ww=$w,VPe=$w,MPe=$w,OPe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},HQ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},QPe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function tR(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Kx(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Z0={},mm={};function ev(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function KQ(e,t,n,r,a,s){try{r.cellNF&&(e.z=Nn[t])}catch(i){if(r.WTF)throw i}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ss(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Nn[t]==null&&AA(HSe[t]||"General",t),e.t==="e")e.w=e.w||WA[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Dv(e.v);else if(e.t==="d"){var o=ho(e.v);(o|0)===o?e.w=o.toString(10):e.w=Dv(o)}else{if(e.v===void 0)return"";e.w=xA(e.v,mm)}else e.t==="d"?e.w=Bi(t,ho(e.v),mm):e.w=Bi(t,e.v,mm)}catch(i){if(r.WTF)throw i}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=_2(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=_2(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(i){if(r.WTF&&s.Fills)throw i}}}function HPe(e,t){var n=da(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=sr(n))}var KPe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,GPe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,zPe=/<(?:\w:)?hyperlink [^>]*>/mg,$Pe=/"(\w*:\w*)"/,WPe=/<(?:\w:)?col\b[^>]*[\/]?>/g,jPe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,JPe=/<(?:\w:)?pageMargins[^>]*\/>/g,GQ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,qPe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,YPe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function XPe(e,t,n,r,a,s,o){if(!e)return e;r||(r={"!id":{}});var i=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},A="",u="",f=e.match(GPe);f?(A=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):A=u=e;var m=A.match(GQ);m?Wk(m[0],i,a,n):(m=A.match(qPe))&&ZPe(m[0],m[1]||"",i,a,n);var v=(A.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(v>0){var h=A.slice(v,v+50).match($Pe);h&&HPe(i,h[1])}var y=A.match(YPe);y&&y[1]&&sDe(y[1],a);var w=[];if(t.cellStyles){var b=A.match(WPe);b&&nDe(w,b)}f&&oDe(f[1],i,t,c,s,o);var B=u.match(jPe);B&&(i["!autofilter"]=rDe(B[0]));var S=[],T=u.match(KPe);if(T)for(v=0;v!=T.length;++v)S[v]=da(T[v].slice(T[v].indexOf('"')+1));var N=u.match(zPe);N&&eDe(i,N,r);var k=u.match(JPe);if(k&&(i["!margins"]=tDe(Bn(k[0]))),!i["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(i["!ref"]=sr(c)),t.sheetRows>0&&i["!ref"]){var E=da(i["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>c.e.r&&(E.e.r=c.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>c.e.c&&(E.e.c=c.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),i["!fullref"]=i["!ref"],i["!ref"]=sr(E))}return w.length>0&&(i["!cols"]=w),S.length>0&&(i["!merges"]=S),i}function Wk(e,t,n,r){var a=Bn(e);n.Sheets[r]||(n.Sheets[r]={}),a.codeName&&(n.Sheets[r].CodeName=ir(Gr(a.codeName)))}function ZPe(e,t,n,r,a){Wk(e.slice(0,e.indexOf(">")),n,r,a)}function eDe(e,t,n){for(var r=Array.isArray(e),a=0;a!=t.length;++a){var s=Bn(Gr(t[a]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+ir(s.location))):(s.Target="#"+ir(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var i=da(s.ref),c=i.s.r;c<=i.e.r;++c)for(var A=i.s.c;A<=i.e.c;++A){var u=Pn({c:A,r:c});r?(e[c]||(e[c]=[]),e[c][A]||(e[c][A]={t:"z",v:void 0}),e[c][A].l=s):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=s)}}}function tDe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function nDe(e,t){for(var n=!1,r=0;r!=t.length;++r){var a=Bn(t[r],!0);a.hidden&&(a.hidden=Xr(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!n&&a.width&&(n=!0,zk(a.width)),Nm(a);s<=o;)e[s++]=vs(a)}}function rDe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var aDe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function sDe(e,t){t.Views||(t.Views=[{}]),(e.match(aDe)||[]).forEach(function(n,r){var a=Bn(n);t.Views[r]||(t.Views[r]={}),+a.zoomScale&&(t.Views[r].zoom=+a.zoomScale),Xr(a.rightToLeft)&&(t.Views[r].RTL=!0)})}var oDe=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Uv("v"),o=Uv("f");return function(c,A,u,f,m,v){for(var h=0,y="",w=[],b=[],B=0,S=0,T=0,N="",k,E,_=0,C=0,F,I,R=0,M=0,te=Array.isArray(v.CellXf),se,O=[],W=[],le=Array.isArray(A),K=[],ee={},j=!1,U=!!u.sheetStubs,G=c.split(t),ne=0,X=G.length;ne!=X;++ne){y=G[ne].trim();var oe=y.length;if(oe!==0){var q=0;e:for(h=0;h<oe;++h)switch(y[h]){case">":if(y[h-1]!="/"){++h;break e}if(u&&u.cellStyles){if(E=Bn(y.slice(q,h),!0),_=E.r!=null?parseInt(E.r,10):_+1,C=-1,u.sheetRows&&u.sheetRows<_)continue;ee={},j=!1,E.ht&&(j=!0,ee.hpt=parseFloat(E.ht),ee.hpx=Vv(ee.hpt)),E.hidden=="1"&&(j=!0,ee.hidden=!0),E.outlineLevel!=null&&(j=!0,ee.level=+E.outlineLevel),j&&(K[_-1]=ee)}break;case"<":q=h;break}if(q>=h)break;if(E=Bn(y.slice(q,h),!0),_=E.r!=null?parseInt(E.r,10):_+1,C=-1,!(u.sheetRows&&u.sheetRows<_)){f.s.r>_-1&&(f.s.r=_-1),f.e.r<_-1&&(f.e.r=_-1),u&&u.cellStyles&&(ee={},j=!1,E.ht&&(j=!0,ee.hpt=parseFloat(E.ht),ee.hpx=Vv(ee.hpt)),E.hidden=="1"&&(j=!0,ee.hidden=!0),E.outlineLevel!=null&&(j=!0,ee.level=+E.outlineLevel),j&&(K[_-1]=ee)),w=y.slice(h).split(e);for(var Y=0;Y!=w.length&&w[Y].trim().charAt(0)=="<";++Y);for(w=w.slice(Y),h=0;h!=w.length;++h)if(y=w[h].trim(),y.length!==0){if(b=y.match(n),B=h,S=0,T=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,b!=null&&b.length===2){for(B=0,N=b[1],S=0;S!=N.length&&!((T=N.charCodeAt(S)-64)<1||T>26);++S)B=26*B+T;--B,C=B}else++C;for(S=0;S!=y.length&&y.charCodeAt(S)!==62;++S);if(++S,E=Bn(y.slice(0,S),!0),E.r||(E.r=Pn({r:_-1,c:C})),N=y.slice(S),k={t:""},(b=N.match(s))!=null&&b[1]!==""&&(k.v=ir(b[1])),u.cellFormula){if((b=N.match(o))!=null&&b[1]!==""){if(k.f=ir(Gr(b[1])).replace(/\r\n/g,`
`),u.xlfn||(k.f=YU(k.f)),b[0].indexOf('t="array"')>-1)k.F=(N.match(a)||[])[1],k.F.indexOf(":")>-1&&O.push([da(k.F),k.F]);else if(b[0].indexOf('t="shared"')>-1){I=Bn(b[0]);var ae=ir(Gr(b[1]));u.xlfn||(ae=YU(ae)),W[parseInt(I.si,10)]=[I,ae,E.r]}}else(b=N.match(/<f[^>]*\/>/))&&(I=Bn(b[0]),W[I.si]&&(k.f=pFe(W[I.si][1],W[I.si][2],E.r)));var ge=co(E.r);for(S=0;S<O.length;++S)ge.r>=O[S][0].s.r&&ge.r<=O[S][0].e.r&&ge.c>=O[S][0].s.c&&ge.c<=O[S][0].e.c&&(k.F=O[S][1])}if(E.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(U)k.t="z";else continue;else k.t=E.t||"n";switch(f.s.c>C&&(f.s.c=C),f.e.c<C&&(f.e.c=C),k.t){case"n":if(k.v==""||k.v==null){if(!U)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!U)continue;k.t="z"}else F=Z0[parseInt(k.v,10)],k.v=F.t,k.r=F.r,u.cellHTML&&(k.h=F.h);break;case"str":k.t="s",k.v=k.v!=null?Gr(k.v):"",u.cellHTML&&(k.h=Uk(k.v));break;case"inlineStr":b=N.match(r),k.t="s",b!=null&&(F=Gk(b[1]))?(k.v=F.t,u.cellHTML&&(k.h=F.h)):k.v="";break;case"b":k.v=Xr(k.v);break;case"d":u.cellDates?k.v=ss(k.v,1):(k.v=ho(ss(k.v,1)),k.t="n");break;case"e":(!u||u.cellText!==!1)&&(k.w=k.v),k.v=dQ[k.v];break}if(R=M=0,se=null,te&&E.s!==void 0&&(se=v.CellXf[E.s],se!=null&&(se.numFmtId!=null&&(R=se.numFmtId),u.cellStyles&&se.fillId!=null&&(M=se.fillId))),KQ(k,R,M,u,m,v),u.cellDates&&te&&k.t=="n"&&nh(Nn[R])&&(k.t="d",k.v=Gw(k.v)),E.cm&&u.xlmeta){var we=(u.xlmeta.Cell||[])[+E.cm-1];we&&we.type=="XLDAPR"&&(k.D=!0)}if(le){var z=co(E.r);A[z.r]||(A[z.r]=[]),A[z.r][z.c]=k}else A[E.r]=k}}}}K.length>0&&(A["!rows"]=K)}})();function iDe(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=a/20),n}var lDe=$A;function cDe(){}function uDe(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=Pke(e),n}function dDe(e){var t=ki(e);return[t]}function ADe(e){var t=zA(e);return[t]}function fDe(e){var t=ki(e),n=e.read_shift(1);return[t,n,"b"]}function mDe(e){var t=zA(e),n=e.read_shift(1);return[t,n,"b"]}function hDe(e){var t=ki(e),n=e.read_shift(1);return[t,n,"e"]}function vDe(e){var t=zA(e),n=e.read_shift(1);return[t,n,"e"]}function pDe(e){var t=ki(e),n=e.read_shift(4);return[t,n,"s"]}function gDe(e){var t=zA(e),n=e.read_shift(4);return[t,n,"s"]}function yDe(e){var t=ki(e),n=Us(e);return[t,n,"n"]}function zQ(e){var t=zA(e),n=Us(e);return[t,n,"n"]}function wDe(e){var t=ki(e),n=Qk(e);return[t,n,"n"]}function _De(e){var t=zA(e),n=Qk(e);return[t,n,"n"]}function bDe(e){var t=ki(e),n=Mk(e);return[t,n,"is"]}function xDe(e){var t=ki(e),n=Qs(e);return[t,n,"str"]}function CDe(e){var t=zA(e),n=Qs(e);return[t,n,"str"]}function EDe(e,t,n){var r=e.l+t,a=ki(e);a.r=n["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(n.cellFormula){e.l+=2;var i=Ww(e,r-e.l,n);o[3]=ks(i,null,a,n.supbooks,n)}else e.l=r;return o}function BDe(e,t,n){var r=e.l+t,a=ki(e);a.r=n["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(n.cellFormula){e.l+=2;var i=Ww(e,r-e.l,n);o[3]=ks(i,null,a,n.supbooks,n)}else e.l=r;return o}function SDe(e,t,n){var r=e.l+t,a=ki(e);a.r=n["!row"];var s=Us(e),o=[a,s,"n"];if(n.cellFormula){e.l+=2;var i=Ww(e,r-e.l,n);o[3]=ks(i,null,a,n.supbooks,n)}else e.l=r;return o}function kDe(e,t,n){var r=e.l+t,a=ki(e);a.r=n["!row"];var s=Qs(e),o=[a,s,"str"];if(n.cellFormula){e.l+=2;var i=Ww(e,r-e.l,n);o[3]=ks(i,null,a,n.supbooks,n)}else e.l=r;return o}var IDe=$A;function TDe(e,t){var n=e.l+t,r=$A(e),a=Ok(e),s=Qs(e),o=Qs(e),i=Qs(e);e.l=n;var c={rfx:r,relId:a,loc:s,display:i};return o&&(c.Tooltip=o),c}function FDe(){}function PDe(e,t,n){var r=e.l+t,a=lQ(e),s=e.read_shift(1),o=[a];if(o[2]=s,n.cellFormula){var i=LPe(e,r-e.l,n);o[1]=i}else e.l=r;return o}function DDe(e,t,n){var r=e.l+t,a=$A(e),s=[a];if(n.cellFormula){var o=MPe(e,r-e.l,n);s[1]=o,e.l=r}else e.l=r;return s}var UDe=["left","right","top","bottom","header","footer"];function RDe(e){var t={};return UDe.forEach(function(n){t[n]=Us(e)}),t}function NDe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function LDe(){}function VDe(){}function MDe(e,t,n,r,a,s,o){if(!e)return e;var i=t||{};r||(r={"!id":{}});var c=i.dense?[]:{},A,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,m=!1,v,h,y,w,b,B,S,T,N,k=[];i.biff=12,i["!row"]=0;var E=0,_=!1,C=[],F={},I=i.supbooks||a.supbooks||[[]];if(I.sharedf=F,I.arrayf=C,I.SheetNames=a.SheetNames||a.Sheets.map(function(le){return le.name}),!i.supbooks&&(i.supbooks=I,a.Names))for(var R=0;R<a.Names.length;++R)I[0][R+1]=a.Names[R];var M=[],te=[],se=!1;C2[16]={n:"BrtShortReal",f:zQ};var O;if(ou(e,function(K,ee,j){if(!m)switch(j){case 148:A=K;break;case 0:v=K,i.sheetRows&&i.sheetRows<=v.r&&(m=!0),T=ps(w=v.r),i["!row"]=v.r,(K.hidden||K.hpt||K.level!=null)&&(K.hpt&&(K.hpx=Vv(K.hpt)),te[K.r]=K);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(h={t:K[2]},K[2]){case"n":h.v=K[1];break;case"s":S=Z0[K[1]],h.v=S.t,h.r=S.r;break;case"b":h.v=!!K[1];break;case"e":h.v=K[1],i.cellText!==!1&&(h.w=WA[h.v]);break;case"str":h.t="s",h.v=K[1];break;case"is":h.t="s",h.v=K[1].t;break}if((y=o.CellXf[K[0].iStyleRef])&&KQ(h,y.numFmtId,null,i,s,o),b=K[0].c==-1?b+1:K[0].c,i.dense?(c[w]||(c[w]=[]),c[w][b]=h):c[Ka(b)+T]=h,i.cellFormula){for(_=!1,E=0;E<C.length;++E){var U=C[E];v.r>=U[0].s.r&&v.r<=U[0].e.r&&b>=U[0].s.c&&b<=U[0].e.c&&(h.F=sr(U[0]),_=!0)}!_&&K.length>3&&(h.f=K[3])}if(u.s.r>v.r&&(u.s.r=v.r),u.s.c>b&&(u.s.c=b),u.e.r<v.r&&(u.e.r=v.r),u.e.c<b&&(u.e.c=b),i.cellDates&&y&&h.t=="n"&&nh(Nn[y.numFmtId])){var G=Zd(h.v);G&&(h.t="d",h.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}O&&(O.type=="XLDAPR"&&(h.D=!0),O=void 0);break;case 1:case 12:if(!i.sheetStubs||f)break;h={t:"z",v:void 0},b=K[0].c==-1?b+1:K[0].c,i.dense?(c[w]||(c[w]=[]),c[w][b]=h):c[Ka(b)+T]=h,u.s.r>v.r&&(u.s.r=v.r),u.s.c>b&&(u.s.c=b),u.e.r<v.r&&(u.e.r=v.r),u.e.c<b&&(u.e.c=b),O&&(O.type=="XLDAPR"&&(h.D=!0),O=void 0);break;case 176:k.push(K);break;case 49:O=((i.xlmeta||{}).Cell||[])[K-1];break;case 494:var ne=r["!id"][K.relId];for(ne?(K.Target=ne.Target,K.loc&&(K.Target+="#"+K.loc),K.Rel=ne):K.relId==""&&(K.Target="#"+K.loc),w=K.rfx.s.r;w<=K.rfx.e.r;++w)for(b=K.rfx.s.c;b<=K.rfx.e.c;++b)i.dense?(c[w]||(c[w]=[]),c[w][b]||(c[w][b]={t:"z",v:void 0}),c[w][b].l=K):(B=Pn({c:b,r:w}),c[B]||(c[B]={t:"z",v:void 0}),c[B].l=K);break;case 426:if(!i.cellFormula)break;C.push(K),N=i.dense?c[w][b]:c[Ka(b)+T],N.f=ks(K[1],u,{r:v.r,c:b},I,i),N.F=sr(K[0]);break;case 427:if(!i.cellFormula)break;F[Pn(K[0].s)]=K[1],N=i.dense?c[w][b]:c[Ka(b)+T],N.f=ks(K[1],u,{r:v.r,c:b},I,i);break;case 60:if(!i.cellStyles)break;for(;K.e>=K.s;)M[K.e--]={width:K.w/256,hidden:!!(K.flags&1),level:K.level},se||(se=!0,zk(K.w/256)),Nm(M[K.e+1]);break;case 161:c["!autofilter"]={ref:sr(K)};break;case 476:c["!margins"]=K;break;case 147:a.Sheets[n]||(a.Sheets[n]={}),K.name&&(a.Sheets[n].CodeName=K.name),(K.above||K.left)&&(c["!outline"]={above:K.above,left:K.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),K.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ee.T){if(!f||i.WTF)throw new Error("Unexpected record 0x"+j.toString(16))}}},i),delete i.supbooks,delete i["!row"],!c["!ref"]&&(u.s.r<2e6||A&&(A.e.r>0||A.e.c>0||A.s.r>0||A.s.c>0))&&(c["!ref"]=sr(A||u)),i.sheetRows&&c["!ref"]){var W=da(c["!ref"]);i.sheetRows<=+W.e.r&&(W.e.r=i.sheetRows-1,W.e.r>u.e.r&&(W.e.r=u.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>u.e.c&&(W.e.c=u.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),c["!fullref"]=c["!ref"],c["!ref"]=sr(W))}return k.length>0&&(c["!merges"]=k),M.length>0&&(c["!cols"]=M),te.length>0&&(c["!rows"]=te),c}function ODe(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var a=ir((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[t,a,r]}function QDe(e,t,n,r,a,s){var o=s||{"!type":"chart"};if(!e)return s;var i=0,c=0,A="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var m=ODe(f);u.s.r=u.s.c=0,u.e.c=i,A=Ka(i),m[0].forEach(function(v,h){o[A+ps(h)]={t:"n",v,z:m[1]},c=h}),u.e.r<c&&(u.e.r=c),++i}),i>0&&(o["!ref"]=sr(u)),o}function HDe(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,i=e.match(GQ);return i&&Wk(i[0],s,a,n),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function KDe(e,t){e.l+=10;var n=Qs(e);return{name:n}}function GDe(e,t,n,r,a){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return ou(e,function(c,A,u){switch(u){case 550:s["!rel"]=c;break;case 651:a.Sheets[n]||(a.Sheets[n]={}),c.name&&(a.Sheets[n].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(A.T>0)){if(!(A.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var $Q=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],zDe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],$De=[],WDe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function nR(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],a=0;a!=t.length;++a){var s=t[a];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=Xr(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function rR(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=Xr(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function WQ(e){rR(e.WBProps,$Q),rR(e.CalcPr,WDe),nR(e.WBView,zDe),nR(e.Sheets,$De),mm.date1904=Xr(e.WBProps.date1904)}var jDe="][*?/\\".split("");function JDe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return jDe.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var qDe=/<\w+:workbook/;function YDe(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,a="xmlns",s={},o=0;if(e.replace(zs,function(c,A){var u=Bn(c);switch(lc(u[0])){case"<?xml":break;case"<workbook":c.match(qDe)&&(a="xmlns"+c.match(/<(\w+):/)[1]),n.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":$Q.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":n.WBProps[f[0]]=Xr(u[f[0]]);break;case"int":n.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:n.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(n.WBProps.CodeName=Gr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=ir(Gr(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Gr(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),Xr(u.hidden||"0")&&(s.Hidden=!0),o=A+c.length;break;case"</definedName>":s.Ref=ir(Gr(e.slice(o,A))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),hke.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return WQ(n),n}function XDe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=RE(e),n.name=Qs(e),n}function ZDe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?Qs(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function e3e(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function t3e(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=Dke(e),o=VPe(e,0,n),i=Ok(e);e.l=r;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),i&&(c.Comment=i),c}function n3e(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],a=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],C2[16]={n:"BrtFRTArchID$",f:e3e},ou(e,function(c,A,u){switch(u){case 156:o.SheetNames.push(c.name),n.Sheets.push(c);break;case 153:n.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=ks(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,c]):o[0]=[u,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),a=!0;break;case 36:r.pop(),a=!1;break;case 37:r.push(u),a=!0;break;case 38:r.pop(),a=!1;break;case 16:break;default:if(!A.T){if(!a||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),WQ(n),n.Names=s,n.supbooks=o,n}function r3e(e,t,n){return t.slice(-4)===".bin"?n3e(e,n):YDe(e,n)}function a3e(e,t,n,r,a,s,o,i){return t.slice(-4)===".bin"?MDe(e,r,n,a,s,o,i):XPe(e,r,n,a,s,o,i)}function s3e(e,t,n,r,a,s,o,i){return t.slice(-4)===".bin"?GDe(e,r,n,a,s):HDe(e,r,n,a,s)}function o3e(e,t,n,r,a,s,o,i){return t.slice(-4)===".bin"?mFe():hFe()}function i3e(e,t,n,r,a,s,o,i){return t.slice(-4)===".bin"?AFe():fFe()}function l3e(e,t,n,r){return t.slice(-4)===".bin"?I4e(e,n,r):x4e(e,n,r)}function c3e(e,t,n){return DQ(e,n)}function u3e(e,t,n){return t.slice(-4)===".bin"?zTe(e,n):KTe(e,n)}function d3e(e,t,n){return t.slice(-4)===".bin"?cFe(e,n):aFe(e,n)}function A3e(e,t,n){return t.slice(-4)===".bin"?tFe(e):Z4e(e)}function f3e(e,t,n,r){return n.slice(-4)===".bin"?nFe(e,t,n,r):void 0}function m3e(e,t,n){return t.slice(-4)===".bin"?Y4e(e,t,n):X4e(e,t,n)}var jQ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,JQ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Vi(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var a=e.match(jQ),s,o,i,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(JQ),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?i="xmlns"+s[1].slice(6):i=s[1].slice(o+1),r[i]=s[2].slice(1,s[2].length-1));return r}function h3e(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(jQ),a,s,o,i;if(r)for(i=0;i!=r.length;++i)a=r[i].match(JQ),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}var tv;function v3e(e,t){var n=tv[e]||ir(e);return n==="General"?xA(t):Bi(n,t)}function p3e(e,t,n,r){var a=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Xr(r);break;case"i2":case"int":a=parseInt(r,10);break;case"r4":case"float":a=parseFloat(r);break;case"date":case"dateTime.tz":a=ss(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[ir(t)]=a}function g3e(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||WA[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Dv(e.v):e.w=xA(e.v):e.w=v3e(t||"General",e.v)}catch(s){if(n.WTF)throw s}try{var r=tv[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&nh(r)){var a=Zd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(n.WTF)throw s}}}function y3e(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=p4e[r.Pattern]||r.Pattern)}e[t.ID]=t}function w3e(e,t,n,r,a,s,o,i,c,A){var u="General",f=r.StyleID,m={};A=A||{};var v=[],h=0;for(f===void 0&&i&&(f=i.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&v.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Xr(e);break;case"String":r.t="s",r.r=EU(ir(e)),r.v=e.indexOf("<")>-1?ir(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(ss(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=ir(e):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=dQ[e],A.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=EU(t||e));break}if(g3e(r,u,A),A.cellFormula!==!1)if(r.Formula){var y=ir(r.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),r.f=fm(y,a),delete r.Formula,r.ArrayRange=="RC"?r.F=fm("RC:RC",a):r.ArrayRange&&(r.F=fm(r.ArrayRange,a),c.push([da(r.F),r.F]))}else for(h=0;h<c.length;++h)a.r>=c[h][0].s.r&&a.r<=c[h][0].e.r&&a.c>=c[h][0].s.c&&a.c<=c[h][0].e.c&&(r.F=c[h][1]);A.cellStyles&&(v.forEach(function(w){!m.patternType&&w.patternType&&(m.patternType=w.patternType)}),r.s=m),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function _3e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Gx(e,t){var n=t||{};LO();var r=E0(Rk(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Gr(r));var a=r.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=vs(n);return o.type="string",Nv.to_workbook(r,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(be){a.indexOf("<"+be)>=0&&(s=!0)}),s)return T3e(r,n);tv={"General Number":"General","General Date":Nn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Nn[15],"Short Date":Nn[14],"Long Time":Nn[19],"Medium Time":Nn[18],"Short Time":Nn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Nn[2],Standard:Nn[4],Percent:Nn[10],Scientific:Nn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var i,c=[],A,u={},f=[],m=n.dense?[]:{},v="",h={},y={},w=Vi('<Data ss:Type="String">'),b=0,B=0,S=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},N={},k={},E="",_=0,C=[],F={},I={},R=0,M=[],te=[],se={},O=[],W,le=!1,K=[],ee=[],j={},U=0,G=0,ne={Sheets:[],WBProps:{date1904:!1}},X={};Rv.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var oe="";i=Rv.exec(r);)switch(i[3]=(oe=i[3]).toLowerCase()){case"data":if(oe=="data"){if(i[1]==="/"){if((A=c.pop())[0]!==i[3])throw new Error("Bad state: "+A.join("|"))}else i[0].charAt(i[0].length-2)!=="/"&&c.push([i[3],!0]);break}if(c[c.length-1][1])break;i[1]==="/"?w3e(r.slice(b,i.index),E,w,c[c.length-1][0]=="comment"?se:h,{c:B,r:S},N,O[B],y,K,n):(E="",w=Vi(i[0]),b=i.index+i[0].length);break;case"cell":if(i[1]==="/")if(te.length>0&&(h.c=te),(!n.sheetRows||n.sheetRows>S)&&h.v!==void 0&&(n.dense?(m[S]||(m[S]=[]),m[S][B]=h):m[Ka(B)+ps(S)]=h),h.HRef&&(h.l={Target:ir(h.HRef)},h.HRefScreenTip&&(h.l.Tooltip=h.HRefScreenTip),delete h.HRef,delete h.HRefScreenTip),(h.MergeAcross||h.MergeDown)&&(U=B+(parseInt(h.MergeAcross,10)|0),G=S+(parseInt(h.MergeDown,10)|0),C.push({s:{c:B,r:S},e:{c:U,r:G}})),!n.sheetStubs)h.MergeAcross?B=U+1:++B;else if(h.MergeAcross||h.MergeDown){for(var q=B;q<=U;++q)for(var Y=S;Y<=G;++Y)(q>B||Y>S)&&(n.dense?(m[Y]||(m[Y]=[]),m[Y][q]={t:"z"}):m[Ka(q)+ps(Y)]={t:"z"});B=U+1}else++B;else h=h3e(i[0]),h.Index&&(B=+h.Index-1),B<T.s.c&&(T.s.c=B),B>T.e.c&&(T.e.c=B),i[0].slice(-2)==="/>"&&++B,te=[];break;case"row":i[1]==="/"||i[0].slice(-2)==="/>"?(S<T.s.r&&(T.s.r=S),S>T.e.r&&(T.e.r=S),i[0].slice(-2)==="/>"&&(y=Vi(i[0]),y.Index&&(S=+y.Index-1)),B=0,++S):(y=Vi(i[0]),y.Index&&(S=+y.Index-1),j={},(y.AutoFitHeight=="0"||y.Height)&&(j.hpx=parseInt(y.Height,10),j.hpt=PQ(j.hpx),ee[S]=j),y.Hidden=="1"&&(j.hidden=!0,ee[S]=j));break;case"worksheet":if(i[1]==="/"){if((A=c.pop())[0]!==i[3])throw new Error("Bad state: "+A.join("|"));f.push(v),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(m["!ref"]=sr(T),n.sheetRows&&n.sheetRows<=T.e.r&&(m["!fullref"]=m["!ref"],T.e.r=n.sheetRows-1,m["!ref"]=sr(T))),C.length&&(m["!merges"]=C),O.length>0&&(m["!cols"]=O),ee.length>0&&(m["!rows"]=ee),u[v]=m}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=B=0,c.push([i[3],!1]),A=Vi(i[0]),v=ir(A.Name),m=n.dense?[]:{},C=[],K=[],ee=[],X={name:v,Hidden:0},ne.Sheets.push(X);break;case"table":if(i[1]==="/"){if((A=c.pop())[0]!==i[3])throw new Error("Bad state: "+A.join("|"))}else{if(i[0].slice(-2)=="/>")break;c.push([i[3],!1]),O=[],le=!1}break;case"style":i[1]==="/"?y3e(N,k,n):k=Vi(i[0]);break;case"numberformat":k.nf=ir(Vi(i[0]).Format||"General"),tv[k.nf]&&(k.nf=tv[k.nf]);for(var ae=0;ae!=392&&Nn[ae]!=k.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(Nn[ae]==null){AA(k.nf,ae);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(W=Vi(i[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!le&&W.wpx>10){le=!0,lo=TQ;for(var ge=0;ge<O.length;++ge)O[ge]&&Nm(O[ge])}le&&Nm(W),O[W.Index-1||O.length]=W;for(var we=0;we<+W.Span;++we)O[O.length]=vs(W);break;case"namedrange":if(i[1]==="/")break;ne.Names||(ne.Names=[]);var z=Bn(i[0]),Ae={Name:z.Name,Ref:fm(z.RefersTo.slice(1),{r:0,c:0})};ne.Sheets.length>0&&(Ae.Sheet=ne.Sheets.length-1),ne.Names.push(Ae);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(i[0].slice(-2)==="/>")break;i[1]==="/"?E+=r.slice(_,i.index):_=i.index+i[0].length;break;case"interior":if(!n.cellStyles)break;k.Interior=Vi(i[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(i[0].slice(-2)==="/>")break;i[1]==="/"?aIe(F,oe,r.slice(R,i.index)):R=i.index+i[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(i[1]==="/"){if((A=c.pop())[0]!==i[3])throw new Error("Bad state: "+A.join("|"))}else c.push([i[3],!1]);break;case"comment":if(i[1]==="/"){if((A=c.pop())[0]!==i[3])throw new Error("Bad state: "+A.join("|"));_3e(se),te.push(se)}else c.push([i[3],!1]),A=Vi(i[0]),se={a:A.Author};break;case"autofilter":if(i[1]==="/"){if((A=c.pop())[0]!==i[3])throw new Error("Bad state: "+A.join("|"))}else if(i[0].charAt(i[0].length-2)!=="/"){var ie=Vi(i[0]);m["!autofilter"]={ref:fm(ie.Range).replace(/\$/g,"")},c.push([i[3],!0])}break;case"name":break;case"datavalidation":if(i[1]==="/"){if((A=c.pop())[0]!==i[3])throw new Error("Bad state: "+A.join("|"))}else i[0].charAt(i[0].length-2)!=="/"&&c.push([i[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(i[1]==="/"){if((A=c.pop())[0]!==i[3])throw new Error("Bad state: "+A.join("|"))}else i[0].charAt(i[0].length-2)!=="/"&&c.push([i[3],!0]);break;case"null":break;default:if(c.length==0&&i[3]=="document"||c.length==0&&i[3]=="uof")return cR(r,n);var _e=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(i[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:_e=!1}break;case"componentoptions":switch(i[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:_e=!1}break;case"excelworkbook":switch(i[3]){case"date1904":ne.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:_e=!1}break;case"workbookoptions":switch(i[3]){case"owcversion":break;case"height":break;case"width":break;default:_e=!1}break;case"worksheetoptions":switch(i[3]){case"visible":if(i[0].slice(-2)!=="/>")if(i[1]==="/")switch(r.slice(R,i.index)){case"SheetHidden":X.Hidden=1;break;case"SheetVeryHidden":X.Hidden=2;break}else R=i.index+i[0].length;break;case"header":m["!margins"]||ev(m["!margins"]={},"xlml"),isNaN(+Bn(i[0]).Margin)||(m["!margins"].header=+Bn(i[0]).Margin);break;case"footer":m["!margins"]||ev(m["!margins"]={},"xlml"),isNaN(+Bn(i[0]).Margin)||(m["!margins"].footer=+Bn(i[0]).Margin);break;case"pagemargins":var Pe=Bn(i[0]);m["!margins"]||ev(m["!margins"]={},"xlml"),isNaN(+Pe.Top)||(m["!margins"].top=+Pe.Top),isNaN(+Pe.Left)||(m["!margins"].left=+Pe.Left),isNaN(+Pe.Right)||(m["!margins"].right=+Pe.Right),isNaN(+Pe.Bottom)||(m["!margins"].bottom=+Pe.Bottom);break;case"displayrighttoleft":ne.Views||(ne.Views=[]),ne.Views[0]||(ne.Views[0]={}),ne.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:_e=!1}break;case"pivottable":case"pivotcache":switch(i[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:_e=!1}break;case"pagebreaks":switch(i[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:_e=!1}break;case"autofilter":switch(i[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:_e=!1}break;case"querytable":switch(i[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:_e=!1}break;case"datavalidation":switch(i[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:_e=!1}break;case"sorting":case"conditionalformatting":switch(i[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:_e=!1}break;case"mapinfo":case"schema":case"data":switch(i[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:_e=!1}break;case"smarttags":break;default:_e=!1;break}if(_e||i[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+i[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(i[0].slice(-2)==="/>")break;i[1]==="/"?p3e(I,oe,M,r.slice(R,i.index)):(M=i,R=i.index+i[0].length);break}if(n.WTF)throw"Unrecognized tag: "+i[3]+"|"+c.join("|")}var re={};return!n.bookSheets&&!n.bookProps&&(re.Sheets=u),re.SheetNames=f,re.Workbook=ne,re.SSF=vs(Nn),re.Props=F,re.Custprops=I,re}function ME(e,t){switch(qk(t=t||{}),t.type||"base64"){case"base64":return Gx(Zo(e),t);case"binary":case"buffer":case"file":return Gx(e,t);case"array":return Gx(GA(e),t)}}function b3e(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Nke(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=Lke(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var x3e=[60,1084,2066,2165,2175];function C3e(e,t,n,r,a){var s=r,o=[],i=n.slice(n.l,n.l+s);if(a&&a.enc&&a.enc.insitu&&i.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(i)}o.push(i),n.l+=s;for(var c=Vc(n,n.l),A=OE[c],u=0;A!=null&&x3e.indexOf(c)>-1;)s=Vc(n,n.l+2),u=n.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),i=n.slice(u,n.l+4+s),o.push(i),n.l+=4+s,A=OE[c=Vc(n,n.l)];var f=Lu(o);us(f,0);var m=0;f.lens=[];for(var v=0;v<o.length;++v)f.lens.push(m),m+=o[v].length;if(f.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+r;return t.f(f,f.length,a)}function Fl(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Nn[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||WA[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Dv(e.v):e.w=xA(e.v):e.w=Bi(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&nh(Nn[r]||String(r))){var a=Zd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function N1(e,t,n){return{v:e,ixfe:t,t:n}}function E3e(e,t){var n={opts:{}},r={},a=t.dense?[]:{},s={},o={},i=null,c=[],A="",u={},f,m="",v,h,y,w,b={},B=[],S,T,N=[],k=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_={},C=function(Je){return Je<8?fA[Je]:Je<64&&k[Je-8]||fA[Je]},F=function(Je,Oe,it){var at=Oe.XF.data;if(!(!at||!at.patternType||!it||!it.cellStyles)){Oe.s={},Oe.s.patternType=at.patternType;var Xe;(Xe=Lv(C(at.icvFore)))&&(Oe.s.fgColor={rgb:Xe}),(Xe=Lv(C(at.icvBack)))&&(Oe.s.bgColor={rgb:Xe})}},I=function(Je,Oe,it){if(!(j>1)&&!(it.sheetRows&&Je.r>=it.sheetRows)){if(it.cellStyles&&Oe.XF&&Oe.XF.data&&F(Je,Oe,it),delete Oe.ixfe,delete Oe.XF,f=Je,m=Pn(Je),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Je.r<o.s.r&&(o.s.r=Je.r),Je.c<o.s.c&&(o.s.c=Je.c),Je.r+1>o.e.r&&(o.e.r=Je.r+1),Je.c+1>o.e.c&&(o.e.c=Je.c+1),it.cellFormula&&Oe.f){for(var at=0;at<B.length;++at)if(!(B[at][0].s.c>Je.c||B[at][0].s.r>Je.r)&&!(B[at][0].e.c<Je.c||B[at][0].e.r<Je.r)){Oe.F=sr(B[at][0]),(B[at][0].s.c!=Je.c||B[at][0].s.r!=Je.r)&&delete Oe.f,Oe.f&&(Oe.f=""+ks(B[at][1],o,Je,K,R));break}}it.dense?(a[Je.r]||(a[Je.r]=[]),a[Je.r][Je.c]=Oe):a[m]=Oe}},R={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:B,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(R.password=t.password);var M,te=[],se=[],O=[],W=[],le=!1,K=[];K.SheetNames=R.snames,K.sharedf=R.sharedf,K.arrayf=R.arrayf,K.names=[],K.XTI=[];var ee=0,j=0,U=0,G=[],ne=[],X;R.codepage=1200,Ji(1200);for(var oe=!1;e.l<e.length-1;){var q=e.l,Y=e.read_shift(2);if(Y===0&&ee===10)break;var ae=e.l===e.length?0:e.read_shift(2),ge=OE[Y];if(ge&&ge.f){if(t.bookSheets&&ee===133&&Y!==133)break;if(ee=Y,ge.r===2||ge.r==12){var we=e.read_shift(2);if(ae-=2,!R.enc&&we!==Y&&((we&255)<<8|we>>8)!==Y)throw new Error("rt mismatch: "+we+"!="+Y);ge.r==12&&(e.l+=10,ae-=10)}var z={};if(Y===10?z=ge.f(e,ae,R):z=C3e(Y,ge,e,ae,R),j==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(Y){case 34:n.opts.Date1904=E.WBProps.date1904=z;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(R.enc||(e.l=0),R.enc=z,!t.password)throw new Error("File is password-protected");if(z.valid==null)throw new Error("Encryption scheme unsupported");if(!z.valid)throw new Error("Password is incorrect");break;case 92:R.lastuser=z;break;case 66:var Ae=Number(z);switch(Ae){case 21010:Ae=1200;break;case 32768:Ae=1e4;break;case 32769:Ae=1252;break}Ji(R.codepage=Ae),oe=!0;break;case 317:R.rrtabid=z;break;case 25:R.winlocked=z;break;case 439:n.opts.RefreshAll=z;break;case 12:n.opts.CalcCount=z;break;case 16:n.opts.CalcDelta=z;break;case 17:n.opts.CalcIter=z;break;case 13:n.opts.CalcMode=z;break;case 14:n.opts.CalcPrecision=z;break;case 95:n.opts.CalcSaveRecalc=z;break;case 15:R.CalcRefMode=z;break;case 2211:n.opts.FullCalc=z;break;case 129:z.fDialog&&(a["!type"]="dialog"),z.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),z.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:N.push(z);break;case 430:K.push([z]),K[K.length-1].XTI=[];break;case 35:case 547:K[K.length-1].push(z);break;case 24:case 536:X={Name:z.Name,Ref:ks(z.rgce,o,null,K,R)},z.itab>0&&(X.Sheet=z.itab-1),K.names.push(X),K[0]||(K[0]=[],K[0].XTI=[]),K[K.length-1].push(z),z.Name=="_xlnm._FilterDatabase"&&z.itab>0&&z.rgce&&z.rgce[0]&&z.rgce[0][0]&&z.rgce[0][0][0]=="PtgArea3d"&&(ne[z.itab-1]={ref:sr(z.rgce[0][0][1][2])});break;case 22:R.ExternCount=z;break;case 23:K.length==0&&(K[0]=[],K[0].XTI=[]),K[K.length-1].XTI=K[K.length-1].XTI.concat(z),K.XTI=K.XTI.concat(z);break;case 2196:if(R.biff<8)break;X!=null&&(X.Comment=z[1]);break;case 18:a["!protect"]=z;break;case 19:z!==0&&R.WTF&&console.error("Password verifier: "+z);break;case 133:s[z.pos]=z,R.snames.push(z.name);break;case 10:{if(--j)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=sr(o),t.sheetRows&&t.sheetRows<=o.e.r){var ie=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=sr(o),o.e.r=ie}o.e.r++,o.e.c++}te.length>0&&(a["!merges"]=te),se.length>0&&(a["!objects"]=se),O.length>0&&(a["!cols"]=O),W.length>0&&(a["!rows"]=W),E.Sheets.push(_)}A===""?u=a:r[A]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(R.biff===8&&(R.biff={9:2,521:3,1033:4}[Y]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[z.BIFFVer]||8),R.biffguess=z.BIFFVer==0,z.BIFFVer==0&&z.dt==4096&&(R.biff=5,oe=!0,Ji(R.codepage=28591)),R.biff==8&&z.BIFFVer==0&&z.dt==16&&(R.biff=2),j++)break;if(a=t.dense?[]:{},R.biff<8&&!oe&&(oe=!0,Ji(R.codepage=t.codepage||1252)),R.biff<5||z.BIFFVer==0&&z.dt==4096){A===""&&(A="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var _e={pos:e.l-ae,name:A};s[_e.pos]=_e,R.snames.push(A)}else A=(s[q]||{name:""}).name;z.dt==32&&(a["!type"]="chart"),z.dt==64&&(a["!type"]="macro"),te=[],se=[],R.arrayf=B=[],O=[],W=[],le=!1,_={Hidden:(s[q]||{hs:0}).hs,name:A}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[z.r]||[])[z.c]:a[Pn({c:z.c,r:z.r})])&&++z.c,S={ixfe:z.ixfe,XF:N[z.ixfe]||{},v:z.val,t:"n"},U>0&&(S.z=G[S.ixfe>>8&63]),Fl(S,t,n.opts.Date1904),I({c:z.c,r:z.r},S,t);break;case 5:case 517:S={ixfe:z.ixfe,XF:N[z.ixfe],v:z.val,t:z.t},U>0&&(S.z=G[S.ixfe>>8&63]),Fl(S,t,n.opts.Date1904),I({c:z.c,r:z.r},S,t);break;case 638:S={ixfe:z.ixfe,XF:N[z.ixfe],v:z.rknum,t:"n"},U>0&&(S.z=G[S.ixfe>>8&63]),Fl(S,t,n.opts.Date1904),I({c:z.c,r:z.r},S,t);break;case 189:for(var Pe=z.c;Pe<=z.C;++Pe){var re=z.rkrec[Pe-z.c][0];S={ixfe:re,XF:N[re],v:z.rkrec[Pe-z.c][1],t:"n"},U>0&&(S.z=G[S.ixfe>>8&63]),Fl(S,t,n.opts.Date1904),I({c:Pe,r:z.r},S,t)}break;case 6:case 518:case 1030:{if(z.val=="String"){i=z;break}if(S=N1(z.val,z.cell.ixfe,z.tt),S.XF=N[S.ixfe],t.cellFormula){var be=z.formula;if(be&&be[0]&&be[0][0]&&be[0][0][0]=="PtgExp"){var He=be[0][0][1][0],ke=be[0][0][1][1],Se=Pn({r:He,c:ke});b[Se]?S.f=""+ks(z.formula,o,z.cell,K,R):S.F=((t.dense?(a[He]||[])[ke]:a[Se])||{}).F}else S.f=""+ks(z.formula,o,z.cell,K,R)}U>0&&(S.z=G[S.ixfe>>8&63]),Fl(S,t,n.opts.Date1904),I(z.cell,S,t),i=z}break;case 7:case 519:if(i)i.val=z,S=N1(z,i.cell.ixfe,"s"),S.XF=N[S.ixfe],t.cellFormula&&(S.f=""+ks(i.formula,o,i.cell,K,R)),U>0&&(S.z=G[S.ixfe>>8&63]),Fl(S,t,n.opts.Date1904),I(i.cell,S,t),i=null;else throw new Error("String record expects Formula");break;case 33:case 545:{B.push(z);var st=Pn(z[0].s);if(v=t.dense?(a[z[0].s.r]||[])[z[0].s.c]:a[st],t.cellFormula&&v){if(!i||!st||!v)break;v.f=""+ks(z[1],o,z[0],K,R),v.F=sr(z[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!i)break;b[Pn(i.cell)]=z[0],v=t.dense?(a[i.cell.r]||[])[i.cell.c]:a[Pn(i.cell)],(v||{}).f=""+ks(z[0],o,f,K,R)}}break;case 253:S=N1(c[z.isst].t,z.ixfe,"s"),c[z.isst].h&&(S.h=c[z.isst].h),S.XF=N[S.ixfe],U>0&&(S.z=G[S.ixfe>>8&63]),Fl(S,t,n.opts.Date1904),I({c:z.c,r:z.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:z.ixfe,XF:N[z.ixfe],t:"z"},U>0&&(S.z=G[S.ixfe>>8&63]),Fl(S,t,n.opts.Date1904),I({c:z.c,r:z.r},S,t));break;case 190:if(t.sheetStubs)for(var je=z.c;je<=z.C;++je){var Ve=z.ixfe[je-z.c];S={ixfe:Ve,XF:N[Ve],t:"z"},U>0&&(S.z=G[S.ixfe>>8&63]),Fl(S,t,n.opts.Date1904),I({c:je,r:z.r},S,t)}break;case 214:case 516:case 4:S=N1(z.val,z.ixfe,"s"),S.XF=N[S.ixfe],U>0&&(S.z=G[S.ixfe>>8&63]),Fl(S,t,n.opts.Date1904),I({c:z.c,r:z.r},S,t);break;case 0:case 512:j===1&&(o=z);break;case 252:c=z;break;case 1054:if(R.biff==4){G[U++]=z[1];for(var Te=0;Te<U+163&&Nn[Te]!=z[1];++Te);Te>=163&&AA(z[1],U+163)}else AA(z[1],z[0]);break;case 30:{G[U++]=z;for(var Le=0;Le<U+163&&Nn[Le]!=z;++Le);Le>=163&&AA(z,U+163)}break;case 229:te=te.concat(z);break;case 93:se[z.cmo[0]]=R.lastobj=z;break;case 438:R.lastobj.TxO=z;break;case 127:R.lastobj.ImData=z;break;case 440:for(w=z[0].s.r;w<=z[0].e.r;++w)for(y=z[0].s.c;y<=z[0].e.c;++y)v=t.dense?(a[w]||[])[y]:a[Pn({c:y,r:w})],v&&(v.l=z[1]);break;case 2048:for(w=z[0].s.r;w<=z[0].e.r;++w)for(y=z[0].s.c;y<=z[0].e.c;++y)v=t.dense?(a[w]||[])[y]:a[Pn({c:y,r:w})],v&&v.l&&(v.l.Tooltip=z[1]);break;case 28:{if(R.biff<=5&&R.biff>=2)break;v=t.dense?(a[z[0].r]||[])[z[0].c]:a[Pn(z[0])];var ht=se[z[2]];v||(t.dense?(a[z[0].r]||(a[z[0].r]=[]),v=a[z[0].r][z[0].c]={t:"z"}):v=a[Pn(z[0])]={t:"z"},o.e.r=Math.max(o.e.r,z[0].r),o.s.r=Math.min(o.s.r,z[0].r),o.e.c=Math.max(o.e.c,z[0].c),o.s.c=Math.min(o.s.c,z[0].c)),v.c||(v.c=[]),h={a:z[1],t:ht.TxO.t},v.c.push(h)}break;case 2173:W4e(N[z.ixfe],z.ext);break;case 125:{if(!R.cellStyles)break;for(;z.e>=z.s;)O[z.e--]={width:z.w/256,level:z.level||0,hidden:!!(z.flags&1)},le||(le=!0,zk(z.w/256)),Nm(O[z.e+1])}break;case 520:{var Ct={};z.level!=null&&(W[z.r]=Ct,Ct.level=z.level),z.hidden&&(W[z.r]=Ct,Ct.hidden=!0),z.hpt&&(W[z.r]=Ct,Ct.hpt=z.hpt,Ct.hpx=Vv(z.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||ev(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Y]]=z;break;case 161:a["!margins"]||ev(a["!margins"]={}),a["!margins"].header=z.header,a["!margins"].footer=z.footer;break;case 574:z.RTL&&(E.Views[0].RTL=!0);break;case 146:k=z;break;case 2198:M=z;break;case 140:T=z;break;case 442:A?_.CodeName=z||_.name:E.WBProps.CodeName=z||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+Y.toString(16)),e.l+=ae}return n.SheetNames=ql(s).sort(function(Dt,Je){return Number(Dt)-Number(Je)}).map(function(Dt){return s[Dt].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&ne.forEach(function(Dt,Je){n.Sheets[n.SheetNames[Je]]["!autofilter"]=Dt}),n.Strings=c,n.SSF=vs(Nn),R.enc&&(n.Encryption=R.enc),M&&(n.Themes=M),n.Metadata={},T!==void 0&&(n.Metadata.Country=T),K.names.length>0&&(E.Names=K.names),n.Workbook=E,n}var aR={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function B3e(e,t,n){var r=nr.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var a=QU(r,Kke,aR.DSI);for(var s in a)t[s]=a[s]}catch(A){if(n.WTF)throw A}var o=nr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var i=QU(o,Gke,aR.SI);for(var c in i)t[c]==null&&(t[c]=i[c])}catch(A){if(n.WTF)throw A}t.HeadingPairs&&t.TitlesOfParts&&(fQ(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function qQ(e,t){t||(t={}),qk(t),EO(),t.codepage&&kk(t.codepage);var n,r;if(e.FullPaths){if(nr.find(e,"/encryption"))throw new Error("File is password-protected");n=nr.find(e,"!CompObj"),r=nr.find(e,"/Workbook")||nr.find(e,"/Book")}else{switch(t.type){case"base64":e=Gi(Zo(e));break;case"binary":e=Gi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}us(e,0),r={content:e}}var a,s;if(n&&b3e(n),t.bookProps&&!t.bookSheets)a={};else{var o=qn?"buffer":"array";if(r&&r.content)a=E3e(r.content,t);else if((s=nr.find(e,"PerfectOffice_MAIN"))&&s.content)a=X0.to_workbook(s.content,(t.type=o,t));else if((s=nr.find(e,"NativeContent_MAIN"))&&s.content)a=X0.to_workbook(s.content,(t.type=o,t));else throw(s=nr.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&nr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=dFe(e))}var i={};return e.FullPaths&&B3e(e,i,t),a.Props=a.Custprops=i,t.bookFiles&&(a.cfb=e),a}var C2={0:{f:iDe},1:{f:dDe},2:{f:wDe},3:{f:hDe},4:{f:fDe},5:{f:yDe},6:{f:xDe},7:{f:pDe},8:{f:kDe},9:{f:SDe},10:{f:EDe},11:{f:BDe},12:{f:ADe},13:{f:_De},14:{f:vDe},15:{f:mDe},16:{f:zQ},17:{f:CDe},18:{f:gDe},19:{f:Mk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:t3e},40:{},42:{},43:{f:E4e},44:{f:C4e},45:{f:B4e},46:{f:k4e},47:{f:S4e},48:{},49:{f:Ike},50:{},51:{f:J4e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:EQ},62:{f:bDe},63:{f:eFe},64:{f:LDe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Hs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:NDe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:uDe},148:{f:lDe,p:16},151:{f:FDe},152:{},153:{f:ZDe},154:{},155:{},156:{f:XDe},157:{},158:{},159:{T:1,f:GTe},160:{T:-1},161:{T:1,f:$A},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:IDe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:j4e},336:{T:-1},337:{f:q4e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:RE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:CQ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:PDe},427:{f:DDe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:RDe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:cDe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:TDe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:RE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lFe},633:{T:1},634:{T:-1},635:{T:1,f:iFe},636:{T:-1},637:{f:Fke},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:KDe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:VDe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},OE={6:{f:Hx},10:{f:Cu},12:{f:Fa},13:{f:Fa},14:{f:wa},15:{f:wa},16:{f:Us},17:{f:wa},18:{f:wa},19:{f:Fa},20:{f:zU},21:{f:zU},23:{f:CQ},24:{f:WU},25:{f:wa},26:{},27:{},28:{f:sTe},29:{},34:{f:wa},35:{f:$U},38:{f:Us},39:{f:Us},40:{f:Us},41:{f:Us},42:{f:wa},43:{f:wa},47:{f:c4e},49:{f:OIe},51:{f:Fa},60:{},61:{f:LIe},64:{f:wa},65:{f:MIe},66:{f:Fa},77:{},80:{},81:{},82:{},85:{f:Fa},89:{},90:{},91:{},92:{f:IIe},93:{f:iTe},94:{},95:{f:wa},96:{},97:{},99:{f:wa},125:{f:EQ},128:{f:qIe},129:{f:TIe},130:{f:Fa},131:{f:wa},132:{f:wa},133:{f:FIe},134:{},140:{f:fTe},141:{f:Fa},144:{},146:{f:hTe},151:{},152:{},153:{},154:{},155:{},156:{f:Fa},157:{},158:{},160:{f:wTe},161:{f:pTe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:$Ie},190:{f:WIe},193:{f:Cu},197:{},198:{},199:{},200:{},201:{},202:{f:wa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Fa},220:{},221:{f:wa},222:{},224:{f:JIe},225:{f:kIe},226:{f:Cu},227:{},229:{f:oTe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:PIe},253:{f:QIe},255:{f:DIe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:gQ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:wa},353:{f:Cu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:XIe},431:{f:wa},432:{},433:{},434:{},437:{},438:{f:uTe},439:{f:wa},440:{f:dTe},441:{},442:{f:Ip},443:{},444:{f:Fa},445:{},446:{},448:{f:Cu},449:{f:NIe,r:2},450:{f:Cu},512:{f:KU},513:{f:yTe},515:{f:YIe},516:{f:HIe},517:{f:GU},519:{f:_Te},520:{f:UIe},523:{},545:{f:jU},549:{f:HU},566:{},574:{f:VIe},638:{f:zIe},659:{},1048:{},1054:{f:KIe},1084:{},1212:{f:nTe},2048:{f:ATe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:D1},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Cu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:vTe,r:12},2173:{f:$4e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:wa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:tTe,r:12},2197:{},2198:{f:O4e,r:12},2199:{},2200:{},2201:{},2202:{f:rTe,r:12},2203:{f:Cu},2204:{},2205:{},2206:{},2207:{},2211:{f:RIe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Fa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:gTe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:mTe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:KU},1:{},2:{f:ETe},3:{f:CTe},4:{f:xTe},5:{f:GU},7:{f:BTe},8:{},9:{f:D1},11:{},22:{f:Fa},30:{f:GIe},31:{},32:{},33:{f:jU},36:{},37:{f:HU},50:{f:STe},62:{},52:{},67:{},68:{f:Fa},69:{},86:{},126:{},127:{f:bTe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:kTe},223:{},234:{},354:{},421:{},518:{f:Hx},521:{f:D1},536:{f:WU},547:{f:$U},561:{},579:{},1030:{f:Hx},1033:{f:D1},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Mi(e,t,n,r){var a=t;if(!isNaN(a)){var s=(n||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&sQ(n)&&e.push(n)}}function sR(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=a.index,i=s&&s.index||e.length,c=YSe(e.slice(o,i),/(:?<tr[^>]*>)/i,"<tr>"),A=-1,u=0,f=0,m=0,v={s:{r:1e7,c:1e7},e:{r:0,c:0}},h=[];for(o=0;o<c.length;++o){var y=c[o].trim(),w=y.slice(0,3).toLowerCase();if(w=="<tr"){if(++A,n.sheetRows&&n.sheetRows<=A){--A;break}u=0;continue}if(!(w!="<td"&&w!="<th")){var b=y.split(/<\/t[dh]>/i);for(i=0;i<b.length;++i){var B=b[i].trim();if(B.match(/<t[dh]/i)){for(var S=B,T=0;S.charAt(0)=="<"&&(T=S.indexOf(">"))>-1;)S=S.slice(T+1);for(var N=0;N<h.length;++N){var k=h[N];k.s.c==u&&k.s.r<A&&A<=k.e.r&&(u=k.e.c+1,N=-1)}var E=Bn(B.slice(0,B.indexOf(">")));m=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||m>1)&&h.push({s:{r:A,c:u},e:{r:A+(f||1)-1,c:u+m-1}});var _=E.t||E["data-t"]||"";if(!S.length){u+=m;continue}if(S=$O(S),v.s.r>A&&(v.s.r=A),v.e.r<A&&(v.e.r=A),v.s.c>u&&(v.s.c=u),v.e.c<u&&(v.e.c=u),!S.length){u+=m;continue}var C={t:"s",v:S};n.raw||!S.trim().length||_=="s"||(S==="TRUE"?C={t:"b",v:!0}:S==="FALSE"?C={t:"b",v:!1}:isNaN(nl(S))?isNaN(Rm(S).getDate())||(C={t:"d",v:ss(S)},n.cellDates||(C={t:"n",v:ho(C.v)}),C.z=n.dateNF||Nn[14]):C={t:"n",v:nl(S)}),n.dense?(r[A]||(r[A]=[]),r[A][u]=C):r[Pn({r:A,c:u})]=C,u+=m}}}}return r["!ref"]=sr(v),h.length&&(r["!merges"]=h),r}function S3e(e,t,n,r){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var i=0,c=0,A=0;A<a.length;++A)if(!(a[A].s.r>n||a[A].s.c>o)&&!(a[A].e.r<n||a[A].e.c<o)){if(a[A].s.r<n||a[A].s.c<o){i=-1;break}i=a[A].e.r-a[A].s.r+1,c=a[A].e.c-a[A].s.c+1;break}if(!(i<0)){var u=Pn({r:n,c:o}),f=r.dense?(e[n]||[])[o]:e[u],m=f&&f.v!=null&&(f.h||Uk(f.w||(Zc(f),f.w)||""))||"",v={};i>1&&(v.rowspan=i),c>1&&(v.colspan=c),r.editable?m='<span contenteditable="true">'+m+"</span>":f&&(v["data-t"]=f&&f.t||"z",f.v!=null&&(v["data-v"]=f.v),f.z!=null&&(v["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),v.id=(r.id||"sjs")+"-"+u,s.push(fke("td",m,v))}}var h="<tr>";return h+s.join("")+"</tr>"}var k3e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',I3e="</body></html>";function T3e(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return vd(sR(n[0],t),t);var r=Xk();return n.forEach(function(a,s){Zk(r,sR(a,t),"Sheet"+(s+1))}),r}function F3e(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function P3e(e,t){var n=t||{},r=n.header!=null?n.header:k3e,a=n.footer!=null?n.footer:I3e,s=[r],o=rh(e["!ref"]);n.dense=Array.isArray(e),s.push(F3e(e,o,n));for(var i=o.s.r;i<=o.e.r;++i)s.push(S3e(e,o,i,n));return s.push("</table>"+a),s.join("")}function YQ(e,t,n){var r=n||{},a=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var o=typeof r.origin=="string"?co(r.origin):r.origin;a=o.r,s=o.c}var i=t.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,i.length),A={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var u=rh(e["!ref"]);A.s.r=Math.min(A.s.r,u.s.r),A.s.c=Math.min(A.s.c,u.s.c),A.e.r=Math.max(A.e.r,u.e.r),A.e.c=Math.max(A.e.c,u.e.c),a==-1&&(A.e.r=a=u.e.r+1)}var f=[],m=0,v=e["!rows"]||(e["!rows"]=[]),h=0,y=0,w=0,b=0,B=0,S=0;for(e["!cols"]||(e["!cols"]=[]);h<i.length&&y<c;++h){var T=i[h];if(oR(T)){if(r.display)continue;v[y]={hidden:!0}}var N=T.children;for(w=b=0;w<N.length;++w){var k=N[w];if(!(r.display&&oR(k))){var E=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):$O(k.innerHTML),_=k.getAttribute("data-z")||k.getAttribute("z");for(m=0;m<f.length;++m){var C=f[m];C.s.c==b+s&&C.s.r<y+a&&y+a<=C.e.r&&(b=C.e.c+1-s,m=-1)}S=+k.getAttribute("colspan")||1,((B=+k.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:y+a,c:b+s},e:{r:y+a+(B||1)-1,c:b+s+(S||1)-1}});var F={t:"s",v:E},I=k.getAttribute("data-t")||k.getAttribute("t")||"";E!=null&&(E.length==0?F.t=I||"z":r.raw||E.trim().length==0||I=="s"||(E==="TRUE"?F={t:"b",v:!0}:E==="FALSE"?F={t:"b",v:!1}:isNaN(nl(E))?isNaN(Rm(E).getDate())||(F={t:"d",v:ss(E)},r.cellDates||(F={t:"n",v:ho(F.v)}),F.z=r.dateNF||Nn[14]):F={t:"n",v:nl(E)})),F.z===void 0&&_!=null&&(F.z=_);var R="",M=k.getElementsByTagName("A");if(M&&M.length)for(var te=0;te<M.length&&!(M[te].hasAttribute("href")&&(R=M[te].getAttribute("href"),R.charAt(0)!="#"));++te);R&&R.charAt(0)!="#"&&(F.l={Target:R}),r.dense?(e[y+a]||(e[y+a]=[]),e[y+a][b+s]=F):e[Pn({c:b+s,r:y+a})]=F,A.e.c<b+s&&(A.e.c=b+s),b+=S}}++y}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),A.e.r=Math.max(A.e.r,y-1+a),e["!ref"]=sr(A),y>=c&&(e["!fullref"]=sr((A.e.r=i.length-h+y-1+a,A))),e}function XQ(e,t){var n=t||{},r=n.dense?[]:{};return YQ(r,e,t)}function D3e(e,t){return vd(XQ(e,t),t)}function oR(e){var t="",n=U3e(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function U3e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function R3e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=ir(t.replace(/<[^>]*>/g,""));return[n]}var iR={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function ZQ(e,t){var n=t||{},r=Rk(e),a=[],s,o,i={name:""},c="",A=0,u,f,m={},v=[],h=n.dense?[]:{},y,w,b={value:""},B="",S=0,T=[],N=-1,k=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},_=0,C={},F=[],I={},R=0,M=0,te=[],se=1,O=1,W=[],le={Names:[]},K={},ee=["",""],j=[],U={},G="",ne=0,X=!1,oe=!1,q=0;for(Rv.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=Rv.exec(r);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?h["!ref"]=sr(E):h["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=E.e.r&&(h["!fullref"]=h["!ref"],E.e.r=n.sheetRows-1,h["!ref"]=sr(E)),F.length&&(h["!merges"]=F),te.length&&(h["!rows"]=te),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),v.push(u.name),m[u.name]=h,oe=!1):y[0].charAt(y[0].length-2)!=="/"&&(u=Bn(y[0],!1),N=k=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,h=n.dense?[]:{},F=[],te=[],oe=!0);break;case"table-row-group":y[1]==="/"?--_:++_;break;case"table-row":case"":if(y[1]==="/"){N+=se,se=1;break}if(f=Bn(y[0],!1),f.?N=f.-1:N==-1&&(N=0),se=+f["number-rows-repeated"]||1,se<10)for(q=0;q<se;++q)_>0&&(te[N+q]={level:_});k=-1;break;case"covered-table-cell":y[1]!=="/"&&++k,n.sheetStubs&&(n.dense?(h[N]||(h[N]=[]),h[N][k]={t:"z"}):h[Pn({r:N,c:k})]={t:"z"}),B="",T=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++k,b=Bn(y[0],!1),O=parseInt(b["number-columns-repeated"]||"1",10),w={t:"z",v:null},b.formula&&n.cellFormula!=!1&&(w.f=tR(ir(b.formula))),(b.||b["value-type"])=="string"&&(w.t="s",w.v=ir(b["string-value"]||""),n.dense?(h[N]||(h[N]=[]),h[N][k]=w):h[Pn({r:N,c:k})]=w),k+=O-1;else if(y[1]!=="/"){++k,B="",S=0,T=[],O=1;var Y=se?N+se-1:N;if(k>E.e.c&&(E.e.c=k),k<E.s.c&&(E.s.c=k),N<E.s.r&&(E.s.r=N),Y>E.e.r&&(E.e.r=Y),b=Bn(y[0],!1),j=[],U={},w={t:b.||b["value-type"],v:null},n.cellFormula)if(b.formula&&(b.formula=ir(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(R=parseInt(b["number-matrix-rows-spanned"],10)||0,M=parseInt(b["number-matrix-columns-spanned"],10)||0,I={s:{r:N,c:k},e:{r:N+R-1,c:k+M-1}},w.F=sr(I),W.push([I,w.F])),b.formula)w.f=tR(b.formula);else for(q=0;q<W.length;++q)N>=W[q][0].s.r&&N<=W[q][0].e.r&&k>=W[q][0].s.c&&k<=W[q][0].e.c&&(w.F=W[q][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(R=parseInt(b["number-rows-spanned"],10)||0,M=parseInt(b["number-columns-spanned"],10)||0,I={s:{r:N,c:k},e:{r:N+R-1,c:k+M-1}},F.push(I)),b["number-columns-repeated"]&&(O=parseInt(b["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=Xr(b["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(b.value);break;case"percentage":w.t="n",w.v=parseFloat(b.value);break;case"currency":w.t="n",w.v=parseFloat(b.value);break;case"date":w.t="d",w.v=ss(b["date-value"]),n.cellDates||(w.t="n",w.v=ho(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=jSe(b["time-value"])/86400,n.cellDates&&(w.t="d",w.v=Gw(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(b.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",b["string-value"]!=null&&(B=ir(b["string-value"]),T=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(X=!1,w.t==="s"&&(w.v=B||"",T.length&&(w.R=T),X=S==0),K.Target&&(w.l=K),j.length>0&&(w.c=j,j=[]),B&&n.cellText!==!1&&(w.w=B),X&&(w.t="z",delete w.v),(!X||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=N))for(var ae=0;ae<se;++ae){if(O=parseInt(b["number-columns-repeated"]||"1",10),n.dense)for(h[N+ae]||(h[N+ae]=[]),h[N+ae][k]=ae==0?w:vs(w);--O>0;)h[N+ae][k+O]=vs(w);else for(h[Pn({r:N+ae,c:k})]=w;--O>0;)h[Pn({r:N+ae,c:k+O})]=vs(w);E.e.c<=k&&(E.e.c=k)}O=parseInt(b["number-columns-repeated"]||"1",10),k+=O-1,O=0,w={},B="",T=[]}K={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((s=a.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((s=a.pop())[0]!==y[3])throw"Bad state: "+s;U.t=B,T.length&&(U.R=T),U.a=G,j.push(U)}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!1]);G="",ne=0,B="",S=0,T=[];break;case"creator":y[1]==="/"?G=r.slice(ne,y.index):ne=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((s=a.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&a.push([y[3],!1]);B="",S=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(C[i.name]=c,(s=a.pop())[0]!==y[3])throw"Bad state: "+s}else y[0].charAt(y[0].length-2)!=="/"&&(c="",i=Bn(y[0],!1),a.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Bn(y[0],!1),c+=iR[y[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Bn(y[0],!1),c+=iR[y[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(A,y.index);break}else A=y.index+y[0].length;break;case"named-range":o=Bn(y[0],!1),ee=Kx(o["cell-range-address"]);var ge={Name:o.name,Ref:ee[0]+"!"+ee[1]};oe&&(ge.Sheet=v.length),le.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(y[1]==="/"&&(!b||!b["string-value"])){var we=R3e(r.slice(S,y.index));B=(B.length>0?B+`
`:"")+we[0]}else Bn(y[0],!1),S=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{ee=Kx(Bn(y[0])["target-range-address"]),m[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(K=Bn(y[0],!1),!K.href)break;K.Target=ir(K.href),delete K.href,K.Target.charAt(0)=="#"&&K.Target.indexOf(".")>-1?(ee=Kx(K.Target.slice(1)),K.Target="#"+ee[0]+"!"+ee[1]):K.Target.match(/^\.\.[\\\/]/)&&(K.Target=K.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(y)}}var z={Sheets:m,SheetNames:v,Workbook:le};return n.bookSheets&&delete z.Sheets,z}function lR(e,t){t=t||{},vi(e,"META-INF/manifest.xml")&&Yke(Ta(e,"META-INF/manifest.xml"),t);var n=zo(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=ZQ(Gr(n),t);return vi(e,"meta.xml")&&(r.Props=AQ(Ta(e,"meta.xml"))),r}function cR(e,t){return ZQ(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function jk(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function QE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Gr(GA(e))}function HE(e){var t=e.reduce(function(a,s){return a+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(a,r),r+=a.length}),n}function uR(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function N3e(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,a=t+13;a>=t;--a)r=r*256+e[a];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function Mv(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function za(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function Ls(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],a=Mv(e,n),s=a&7;a=Math.floor(a/8);var o=0,i;if(a==0)break;switch(s){case 0:{for(var c=n[0];e[n[0]++]>=128;);i=e.slice(c,n[0])}break;case 5:o=4,i=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,i=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Mv(e,n),i=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(r))}var A={data:i,type:s};t[a]==null?t[a]=[A]:t[a].push(A)}return t}function Jk(e,t){return e?.map(function(n){return t(n.data)})||[]}function L3e(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=Mv(e,r),s=Ls(e.slice(r[0],r[0]+a));r[0]+=a;var o={id:za(s[1][0].data),messages:[]};s[2].forEach(function(i){var c=Ls(i.data),A=za(c[3][0].data);o.messages.push({meta:c,data:e.slice(r[0],r[0]+A)}),r[0]+=A}),(t=s[3])!=null&&t[0]&&(o.merge=za(s[3][0].data)>>>0>0),n.push(o)}return n}function V3e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Mv(t,n),a=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var i=o-59;o=t[n[0]],i>1&&(o|=t[n[0]+1]<<8),i>2&&(o|=t[n[0]+2]<<16),i>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=i}a.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var c=0,A=0;if(s==1?(A=(t[n[0]]>>2&7)+4,c=(t[n[0]++]&224)<<3,c|=t[n[0]++]):(A=(t[n[0]++]>>2)+1,s==2?(c=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(c=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[HE(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(A>=c)for(a.push(a[0].slice(-c)),A-=c;A>=a[a.length-1].length;)a.push(a[a.length-1]),A-=a[a.length-1].length;a.push(a[0].slice(-c,-c+A))}}var u=HE(a);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function M3e(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(V3e(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return HE(t)}function O3e(e,t,n,r){var a=jk(e),s=a.getUint32(4,!0),o=(r>1?12:8)+uR(s&(r>1?3470:398))*4,i=-1,c=-1,A=NaN,u=new Date(2001,0,1);s&512&&(i=a.getUint32(o,!0),o+=4),o+=uR(s&(r>1?12288:4096))*4,s&16&&(c=a.getUint32(o,!0),o+=4),s&32&&(A=a.getFloat64(o,!0),o+=8),s&64&&(u.setTime(u.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:A};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:A>0};break;case 7:f={t:"n",v:A/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:n[i]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(A))f={t:"n",v:A};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Q3e(e,t,n){var r=jk(e),a=r.getUint32(8,!0),s=12,o=-1,i=-1,c=NaN,A=NaN,u=new Date(2001,0,1);a&1&&(c=N3e(e,s),s+=16),a&2&&(A=r.getFloat64(s,!0),s+=8),a&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),a&8&&(i=r.getUint32(s,!0),s+=4),a&16&&(o=r.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[i]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:A>0};break;case 7:f={t:"n",v:A/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function H3e(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return O3e(e,t,n,e[0]);case 5:return Q3e(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Yu(e){var t=Ls(e);return Mv(t[1][0].data)}function dR(e,t){var n=Ls(t.data),r=za(n[1][0].data),a=n[3],s=[];return(a||[]).forEach(function(o){var i=Ls(o.data),c=za(i[1][0].data)>>>0;switch(r){case 1:s[c]=QE(i[3][0].data);break;case 8:{var A=e[Yu(i[9][0].data)][0],u=Ls(A.data),f=e[Yu(u[1][0].data)][0],m=za(f.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var v=Ls(f.data);s[c]=v[3].map(function(h){return QE(h.data)}).join("")}break}}),s}function K3e(e,t){var n,r,a,s,o,i,c,A,u,f,m,v,h,y,w=Ls(e),b=za(w[1][0].data)>>>0,B=za(w[2][0].data)>>>0,S=((r=(n=w[8])==null?void 0:n[0])==null?void 0:r.data)&&za(w[8][0].data)>0||!1,T,N;if((s=(a=w[7])==null?void 0:a[0])!=null&&s.data&&t!=0)T=(i=(o=w[7])==null?void 0:o[0])==null?void 0:i.data,N=(A=(c=w[6])==null?void 0:c[0])==null?void 0:A.data;else if((f=(u=w[4])==null?void 0:u[0])!=null&&f.data&&t!=1)T=(v=(m=w[4])==null?void 0:m[0])==null?void 0:v.data,N=(y=(h=w[3])==null?void 0:h[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=S?4:1,E=jk(T),_=[],C=0;C<T.length/2;++C){var F=E.getUint16(C*2,!0);F<65535&&_.push([C,F])}if(_.length!=B)throw"Expected ".concat(B," cells, found ").concat(_.length);var I=[];for(C=0;C<_.length-1;++C)I[_[C][0]]=N.subarray(_[C][1]*k,_[C+1][1]*k);return _.length>=1&&(I[_[_.length-1][0]]=N.subarray(_[_.length-1][1]*k)),{R:b,cells:I}}function G3e(e,t){var n,r=Ls(t.data),a=(n=r?.[7])!=null&&n[0]?za(r[7][0].data)>>>0>0?1:0:-1,s=Jk(r[5],function(o){return K3e(o,a)});return{nrows:za(r[4][0].data)>>>0,data:s.reduce(function(o,i){return o[i.R]||(o[i.R]=[]),i.cells.forEach(function(c,A){if(o[i.R][A])throw new Error("Duplicate cell r=".concat(i.R," c=").concat(A));o[i.R][A]=c}),o},[])}}function z3e(e,t,n){var r,a=Ls(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(za(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(za(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));n["!ref"]=sr(s);var o=Ls(a[4][0].data),i=dR(e,e[Yu(o[4][0].data)][0]),c=(r=o[17])!=null&&r[0]?dR(e,e[Yu(o[17][0].data)][0]):[],A=Ls(o[3][0].data),u=0;A[1].forEach(function(f){var m=Ls(f.data),v=e[Yu(m[2][0].data)][0],h=za(v.meta[1][0].data);if(h!=6002)throw new Error("6001 unexpected reference to ".concat(h));var y=G3e(e,v);y.data.forEach(function(w,b){w.forEach(function(B,S){var T=Pn({r:u+b,c:S}),N=H3e(B,i,c);N&&(n[T]=N)})}),u+=y.nrows})}function $3e(e,t){var n=Ls(t.data),r={"!ref":"A1"},a=e[Yu(n[2][0].data)],s=za(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return z3e(e,a[0],r),r}function W3e(e,t){var n,r=Ls(t.data),a={name:(n=r[1])!=null&&n[0]?QE(r[1][0].data):"",sheets:[]},s=Jk(r[2],Yu);return s.forEach(function(o){e[o].forEach(function(i){var c=za(i.meta[1][0].data);c==6e3&&a.sheets.push($3e(e,i))})}),a}function j3e(e,t){var n=Xk(),r=Ls(t.data),a=Jk(r[1],Yu);if(a.forEach(function(s){e[s].forEach(function(o){var i=za(o.meta[1][0].data);if(i==2){var c=W3e(e,o);c.sheets.forEach(function(A,u){Zk(n,A,u==0?c.name:c.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function zx(e){var t,n,r,a,s={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var A;try{A=M3e(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var u;try{u=L3e(A)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var i=((a=(r=(n=(t=s?.[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:a[0].data)&&za(s[1][0].meta[1][0].data)==1&&s[1][0];if(i||o.forEach(function(c){s[c].forEach(function(A){var u=za(A.meta[1][0].data)>>>0;if(u==1)if(!i)i=A;else throw new Error("Document has multiple roots")})}),!i)throw new Error("Cannot find Document root");return j3e(s,i)}function J3e(e){return function(n){for(var r=0;r!=e.length;++r){var a=e[r];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function qk(e){J3e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function q3e(e){return jf.WS.indexOf(e)>-1?"sheet":e==jf.CS?"chart":e==jf.DS?"dialog":e==jf.MS?"macro":e&&e.length?e:"sheet"}function Y3e(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,q3e(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function X3e(e,t,n,r,a,s,o,i,c,A,u,f){try{s[r]=q0(zo(e,n,!0),t);var m=Ta(e,t),v;switch(i){case"sheet":v=a3e(m,t,a,c,s[r],A,u,f);break;case"chart":if(v=s3e(m,t,a,c,s[r],A,u,f),!v||!v["!drawel"])break;var h=S0(v["!drawel"].Target,t),y=NE(h),w=rFe(zo(e,h,!0),q0(zo(e,y,!0),h)),b=S0(w,h),B=NE(b);v=QDe(zo(e,b,!0),b,c,q0(zo(e,B,!0),b),A,v);break;case"macro":v=o3e(m,t,a,c,s[r],A,u,f);break;case"dialog":v=i3e(m,t,a,c,s[r],A,u,f);break;default:throw new Error("Unrecognized sheet type "+i)}o[r]=v;var S=[];s&&s[r]&&ql(s[r]).forEach(function(T){var N="";if(s[r][T].Type==jf.CMNT){N=S0(s[r][T].Target,t);var k=d3e(Ta(e,N,!0),N,c);if(!k||!k.length)return;qU(v,k,!1)}s[r][T].Type==jf.TCMNT&&(N=S0(s[r][T].Target,t),S=S.concat(sFe(Ta(e,N,!0),c)))}),S&&S.length&&qU(v,S,!0,c.people||[])}catch(T){if(c.WTF)throw T}}function fi(e){return e.charAt(0)=="/"?e.slice(1):e}function Z3e(e,t){if(LO(),t=t||{},qk(t),vi(e,"META-INF/manifest.xml")||vi(e,"objectdata.xml"))return lR(e,t);if(vi(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof zx<"u"){if(e.FileIndex)return zx(e);var n=nr.utils.cfb_new();return xU(e).forEach(function(te){eke(n,te,ZSe(e,te))}),zx(n)}throw new Error("Unsupported NUMBERS file")}if(!vi(e,"[Content_Types].xml"))throw vi(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):vi(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=xU(e),a=Jke(zo(e,"[Content_Types].xml")),s=!1,o,i;if(a.workbooks.length===0&&(i="xl/workbook.xml",Ta(e,i,!0)&&a.workbooks.push(i)),a.workbooks.length===0){if(i="xl/workbook.bin",!Ta(e,i,!0))throw new Error("Could not find workbook");a.workbooks.push(i),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},A={};if(!t.bookSheets&&!t.bookProps){if(Z0=[],a.sst)try{Z0=u3e(Ta(e,fi(a.sst)),a.sst,t)}catch(te){if(t.WTF)throw te}t.cellStyles&&a.themes.length&&(c=c3e(zo(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(A=l3e(Ta(e,fi(a.style)),a.style,c,t))}a.links.map(function(te){try{var se=q0(zo(e,NE(fi(te))),te);return f3e(Ta(e,fi(te)),se,te,t)}catch{}});var u=r3e(Ta(e,fi(a.workbooks[0])),a.workbooks[0],t),f={},m="";a.coreprops.length&&(m=Ta(e,fi(a.coreprops[0]),!0),m&&(f=AQ(m)),a.extprops.length!==0&&(m=Ta(e,fi(a.extprops[0]),!0),m&&eIe(m,f,t)));var v={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(m=zo(e,fi(a.custprops[0]),!0),m&&(v=nIe(m,t)));var h={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(se){return se.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(h.Props=f,h.Custprops=v),t.bookSheets&&typeof o<"u"&&(h.SheetNames=o),t.bookSheets?h.SheetNames:t.bookProps))return h;o={};var y={};t.bookDeps&&a.calcchain&&(y=A3e(Ta(e,fi(a.calcchain)),a.calcchain));var w=0,b={},B,S;{var T=u.Sheets;f.Worksheets=T.length,f.SheetNames=[];for(var N=0;N!=T.length;++N)f.SheetNames[N]=T[N].name}var k=s?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),_=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");vi(e,_)||(_="xl/_rels/workbook."+k+".rels");var C=q0(zo(e,_,!0),_.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=m3e(Ta(e,fi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=oFe(Ta(e,fi(a.people[0])),t)),C&&(C=Y3e(C,u.Sheets));var F=Ta(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=f.Worksheets;++w){var I="sheet";if(C&&C[w]?(B="xl/"+C[w][1].replace(/[\/]?xl\//,""),vi(e,B)||(B=C[w][1]),vi(e,B)||(B=_.replace(/_rels\/.*$/,"")+C[w][1]),I=C[w][2]):(B="xl/worksheets/sheet"+(w+1-F)+"."+k,B=B.replace(/sheet0\./,"sheet.")),S=B.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(w!=t.sheets)continue e;break;case"string":if(f.SheetNames[w].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var R=!1,M=0;M!=t.sheets.length;++M)typeof t.sheets[M]=="number"&&t.sheets[M]==w&&(R=1),typeof t.sheets[M]=="string"&&t.sheets[M].toLowerCase()==f.SheetNames[w].toLowerCase()&&(R=1);if(!R)continue e}}X3e(e,B,S,f.SheetNames[w],w,b,o,I,t,u,c,A)}return h={Directory:a,Workbook:u,Props:f,Custprops:v,Deps:y,Sheets:o,SheetNames:f.SheetNames,Strings:Z0,Styles:A,Themes:c,SSF:vs(Nn)},t&&t.bookFiles&&(e.files?(h.keys=r,h.files=e.files):(h.keys=[],h.files={},e.FullPaths.forEach(function(te,se){te=te.replace(/^Root Entry[\/]/,""),h.keys.push(te),h.files[te]=e.FileIndex[se]}))),t&&t.bookVBA&&(a.vba.length>0?h.vbaraw=Ta(e,fi(a.vba[0]),!0):a.defaults&&a.defaults.bin===uFe&&(h.vbaraw=Ta(e,"xl/vbaProject.bin",!0))),h}function eUe(e,t){var n=t||{},r="Workbook",a=nr.find(e,r);try{if(r="/!DataSpaces/Version",a=nr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if($Te(a.content),r="/!DataSpaces/DataSpaceMap",a=nr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=jTe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=nr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=JTe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=nr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);YTe(a.content)}catch{}if(r="/EncryptionInfo",a=nr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=XTe(a.content);if(r="/EncryptedPackage",a=nr.find(e,r),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(i[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(i[1],a.content,n.password||"",n);if(i[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(i[1],a.content,n.password||"",n);throw new Error("File is password-protected")}function Yk(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Zo(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function tUe(e,t){return nr.find(e,"EncryptedPackage")?eUe(e,t):qQ(e,t)}function nUe(e,t){var n,r=e,a=t||{};return a.type||(a.type=qn&&Buffer.isBuffer(e)?"buffer":"base64"),n=KO(r,a),Z3e(n,a)}function eH(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return ME(e.slice(n),t);default:break e}return Nv.to_workbook(e,t)}function rUe(e,t){var n="",r=Yk(e,t);switch(t.type){case"base64":n=Zo(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=CA(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Gr(n)),t.type="binary",eH(n,t)}function aUe(e,t){var n=e;return t.type=="base64"&&(n=Zo(n)),n=Pv.utils.decode(1200,n.slice(2),"str"),t.type="binary",eH(n,t)}function sUe(e){return e.match(/[^\x00-\x7F]/)?k0(e):e}function $x(e,t,n,r){return r?(n.type="string",Nv.to_workbook(e,n)):Nv.to_workbook(t,n)}function KE(e,t){EO();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return KE(new Uint8Array(e),(n=vs(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,a=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),mm={},n.dateNF&&(mm.dateNF=n.dateNF),n.type||(n.type=qn&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=qn?"buffer":"binary",r=$Se(e),typeof Uint8Array<"u"&&!qn&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=sUe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),i=new Uint8Array(o);if(i.foo="bar",!i.foo)return n=vs(n),n.type="array",KE(Ik(r),n)}switch((a=Yk(r,n))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return tUe(nr.read(r,n),n);break;case 9:if(a[1]<=8)return qQ(r,n);break;case 60:return ME(r,n);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return DTe(r,n);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return FTe.to_workbook(r,n);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?nUe(r,n):$x(e,r,n,s);case 239:return a[3]===60?ME(r,n):$x(e,r,n,s);case 255:if(a[1]===254)return aUe(r,n);if(a[1]===0&&a[2]===2&&a[3]===0)return X0.to_workbook(r,n);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return X0.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return JU.to_workbook(r,n);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return u4e.to_workbook(r,n);break;case 10:case 13:case 32:return rUe(r,n);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return ITe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?JU.to_workbook(r,n):$x(e,r,n,s)}function oUe(e,t,n,r,a,s,o,i){var c=ps(n),A=i.defval,u=i.raw||!Object.prototype.hasOwnProperty.call(i,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:n,enumerable:!1})}catch{m.__rowNum__=n}else m.__rowNum__=n;if(!o||e[n])for(var v=t.s.c;v<=t.e.c;++v){var h=o?e[n][v]:e[r[v]+c];if(h===void 0||h.t===void 0){if(A===void 0)continue;s[v]!=null&&(m[s[v]]=A);continue}var y=h.v;switch(h.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+h.t)}if(s[v]!=null){if(y==null)if(h.t=="e"&&y===null)m[s[v]]=null;else if(A!==void 0)m[s[v]]=A;else if(u&&y===null)m[s[v]]=null;else continue;else m[s[v]]=u&&(h.t!=="n"||h.t==="n"&&i.rawNumbers!==!1)?y:Zc(h,y,i);y!=null&&(f=!1)}}return{row:m,isempty:f}}function GE(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,a=1,s=[],o=0,i="",c={s:{r:0,c:0},e:{r:0,c:0}},A=t||{},u=A.range!=null?A.range:e["!ref"];switch(A.header===1?r=1:A.header==="A"?r=2:Array.isArray(A.header)?r=3:A.header==null&&(r=0),typeof u){case"string":c=da(u);break;case"number":c=da(e["!ref"]),c.s.r=u;break;default:c=u}r>0&&(a=0);var f=ps(c.s.r),m=[],v=[],h=0,y=0,w=Array.isArray(e),b=c.s.r,B=0,S={};w&&!e[b]&&(e[b]=[]);var T=A.skipHidden&&e["!cols"]||[],N=A.skipHidden&&e["!rows"]||[];for(B=c.s.c;B<=c.e.c;++B)if(!(T[B]||{}).hidden)switch(m[B]=Ka(B),n=w?e[b][B]:e[m[B]+f],r){case 1:s[B]=B-c.s.c;break;case 2:s[B]=m[B];break;case 3:s[B]=A.header[B-c.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),i=o=Zc(n,null,A),y=S[o]||0,!y)S[o]=1;else{do i=o+"_"+y++;while(S[i]);S[o]=y,S[i]=1}s[B]=i}for(b=c.s.r+a;b<=c.e.r;++b)if(!(N[b]||{}).hidden){var k=oUe(e,c,b,m,r,s,w,A);(k.isempty===!1||(r===1?A.blankrows!==!1:A.blankrows))&&(v[h++]=k.row)}return v.length=h,v}var AR=/"/g;function iUe(e,t,n,r,a,s,o,i){for(var c=!0,A=[],u="",f=ps(n),m=t.s.c;m<=t.e.c;++m)if(r[m]){var v=i.dense?(e[n]||[])[m]:e[r[m]+f];if(v==null)u="";else if(v.v!=null){c=!1,u=""+(i.rawNumbers&&v.t=="n"?v.v:Zc(v,null,i));for(var h=0,y=0;h!==u.length;++h)if((y=u.charCodeAt(h))===a||y===s||y===34||i.forceQuotes){u='"'+u.replace(AR,'""')+'"';break}u=="ID"&&(u='"ID"')}else v.f!=null&&!v.F?(c=!1,u="="+v.f,u.indexOf(",")>=0&&(u='"'+u.replace(AR,'""')+'"')):u="";A.push(u)}return i.blankrows===!1&&c?null:A.join(o)}function tH(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var a=da(e["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),i=r.RS!==void 0?r.RS:`
`,c=i.charCodeAt(0),A=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];r.dense=Array.isArray(e);for(var m=r.skipHidden&&e["!cols"]||[],v=r.skipHidden&&e["!rows"]||[],h=a.s.c;h<=a.e.c;++h)(m[h]||{}).hidden||(f[h]=Ka(h));for(var y=0,w=a.s.r;w<=a.e.r;++w)(v[w]||{}).hidden||(u=iUe(e,a,w,f,o,c,s,r),u!=null&&(r.strip&&(u=u.replace(A,"")),(u||r.blankrows!==!1)&&n.push((y++?i:"")+u)));return delete r.dense,n.join("")}function lUe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=tH(e,t);return n}function cUe(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var a=da(e["!ref"]),s="",o=[],i,c=[],A=Array.isArray(e);for(i=a.s.c;i<=a.e.c;++i)o[i]=Ka(i);for(var u=a.s.r;u<=a.e.r;++u)for(s=ps(u),i=a.s.c;i<=a.e.c;++i)if(t=o[i]+s,n=A?(e[u]||[])[i]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}c[c.length]=t+"="+r}return c}function nH(e,t,n){var r=n||{},a=+!r.skipHeader,s=e||{},o=0,i=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?co(r.origin):r.origin;o=c.r,i=c.c}var A,u={s:{c:0,r:0},e:{c:i,r:o+t.length-1+a}};if(s["!ref"]){var f=da(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var m=r.header||[],v=0;t.forEach(function(y,w){ql(y).forEach(function(b){(v=m.indexOf(b))==-1&&(m[v=m.length]=b);var B=y[b],S="z",T="",N=Pn({c:i+v,r:o+w+a});A=Ov(s,N),B&&typeof B=="object"&&!(B instanceof Date)?s[N]=B:(typeof B=="number"?S="n":typeof B=="boolean"?S="b":typeof B=="string"?S="s":B instanceof Date?(S="d",r.cellDates||(S="n",B=ho(B)),T=r.dateNF||Nn[14]):B===null&&r.nullError&&(S="e",B=0),A?(A.t=S,A.v=B,delete A.w,delete A.R,T&&(A.z=T)):s[N]=A={t:S,v:B},T&&(A.z=T))})}),u.e.c=Math.max(u.e.c,i+m.length-1);var h=ps(o);if(a)for(v=0;v<m.length;++v)s[Ka(v+i)+h]={t:"s",v:m[v]};return s["!ref"]=sr(u),s}function uUe(e,t){return nH(null,e,t)}function Ov(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=co(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Ov(e,Pn(t)):Ov(e,Pn({r:t,c:n||0}))}function dUe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Xk(){return{SheetNames:[],Sheets:{}}}function Zk(e,t,n,r){var a=1;if(!n)for(;a<=65535&&e.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||n;for(++a;a<=65535&&e.SheetNames.indexOf(n=o+a)!=-1;++a);}if(JDe(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function AUe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=dUe(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function fUe(e,t){return e.z=t,e}function rH(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function mUe(e,t,n){return rH(e,"#"+t,n)}function hUe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function vUe(e,t,n,r){for(var a=typeof t!="string"?t:da(t),s=typeof t=="string"?t:sr(t),o=a.s.r;o<=a.e.r;++o)for(var i=a.s.c;i<=a.e.c;++i){var c=Ov(e,o,i);c.t="n",c.F=s,delete c.v,o==a.s.r&&i==a.s.c&&(c.f=n,r&&(c.D=!0))}return e}var pUe={encode_col:Ka,encode_row:ps,encode_cell:Pn,encode_range:sr,decode_col:Vk,decode_row:Lk,split_cell:kke,decode_cell:co,decode_range:rh,format_cell:Zc,sheet_add_aoa:iQ,sheet_add_json:nH,sheet_add_dom:YQ,aoa_to_sheet:ah,json_to_sheet:uUe,table_to_sheet:XQ,table_to_book:D3e,sheet_to_csv:tH,sheet_to_txt:lUe,sheet_to_json:GE,sheet_to_html:P3e,sheet_to_formulae:cUe,sheet_to_row_object_array:GE,sheet_get_cell:Ov,book_new:Xk,book_append_sheet:Zk,book_set_sheet_visibility:AUe,cell_set_number_format:fUe,cell_set_hyperlink:rH,cell_set_internal_link:mUe,cell_add_comment:hUe,sheet_set_array_formula:vUe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const aH={practo:{name:"Practo",headerRow:1,requiredColumns:{"Patient Name":"name","Mobile Number":"contact_number",Age:"age",Gender:"gender"},optionalColumns:{"Patient Number":"importID","Email Address":"email",Pincode:"address","Date of Birth":"dateOfBirth",DOB:"dateOfBirth","Birth Date":"dateOfBirth"},validation:{required:["Patient Name","Mobile Number","Age","Gender"],optional:["Patient Number","Email Address","Pincode","Date of Birth","DOB","Birth Date"],dataTypes:{"Patient Name":"string","Patient Number":"string",Age:["string","number"],Gender:"string","Mobile Number":["string","number"],"Email Address":"string",Pincode:"string","Date of Birth":"string",DOB:"string","Birth Date":"string"}}},ekacare:{name:"Eka.Care",requiredColumns:{"Patient name":"name",Mobile:"contact_number"},optionalColumns:{"UHID (DF)":"importID",Age:"age",Gender:"gender","Patient Address":"address","Mail ID(DF)":"email","Date of Birth":"dateOfBirth",DOB:"dateOfBirth","Birth Date":"dateOfBirth"},validation:{required:["Patient name","Mobile"],optional:["UHID (DF)","Age","Gender","Patient Address","Mail ID(DF)","Date of Birth","DOB","Birth Date"],dataTypes:{"Patient name":"string","UHID (DF)":"string",Mobile:"string",Age:"string",Gender:"string","Patient Address":"string","Mail ID(DF)":"string","Date of Birth":"string",DOB:"string","Birth Date":"string"}}},healthplix:{name:"Healthplix",headerRow:1,requiredColumns:{ID:"importID",name:"name",phone_number:"contact_number",Sex:"gender",age:"age"},optionalColumns:{person_address:"address",email_id:"email",dob:"dateOfBirth",date_of_birth:"dateOfBirth","Date of Birth":"dateOfBirth",DOB:"dateOfBirth","Birth Date":"dateOfBirth"},validation:{required:["ID","name","phone_number","Sex","age"],optional:["person_address","email_id","dob","date_of_birth","Date of Birth","DOB","Birth Date"],dataTypes:{ID:"string",name:"string",phone_number:["string","number"],Sex:"string",age:["string","number"],person_address:"string",email_id:"string",dob:"string",date_of_birth:"string","Date of Birth":"string",DOB:"string","Birth Date":"string"}}},"evamed-custom":{name:"Evamed Custom Template",headerRow:1,requiredColumns:{id:"importID",name:"name",phone_number:"contact_number"},optionalColumns:{age:"age",gender:"gender",date_of_birth:"dateOfBirth",address:"address",email:"email"},validation:{required:["id","name","phone_number"],optional:["age","gender","date_of_birth","address","email"],dataTypes:{id:["string","number"],name:"string",phone_number:["string","number"],age:["string","number"],gender:"string",date_of_birth:"string",address:"string",email:"string"}}},tatvacare:{name:"TatvaCare",headerRow:1,requiredColumns:{"Patient Name":"name",Mobile:"contact_number"},optionalColumns:{Gender:"gender","Date of Birth":"dateOfBirth",Age:"age","Patient ID":"importID","Street Address":"streetAddress",City:"city",State:"state","Pin Code":"pinCode"},validation:{required:["Patient Name","Mobile"],optional:["Gender","Date of Birth","Age","Patient ID","Street Address","City","State","Pin Code"],dataTypes:{"Patient Name":"string",Mobile:["string","number"],Gender:"string","Date of Birth":"string",Age:["string","number"],"Patient ID":"string","Street Address":"string",City:"string",State:"string","Pin Code":"string"}}}},E2=e=>aH[e]||null,fR=e=>Object.prototype.hasOwnProperty.call(aH,e),sH=(e,t)=>{const n=E2(t);if(!n)return{isValid:!1,error:`Unsupported EMR system: ${t}`,missing:[],found:[]};const r=n.validation.required,a=new Set(e.map(i=>i.trim()));let s=[],o=[];if(t==="practo"){const i={"Patient Name":["Patient Name","PatientName","patient Name","patient name","Name","Patient","Full Name","FullName"],"Mobile Number":["Mobile Number","MobileNumber","mobile Number","mobile number","Mobile","Phone","Phone Number","PhoneNumber","Contact","Contact Number","ContactNumber"],Age:["Age","age","Patient Age","patient Age","Age (Years)"],Gender:["Gender","gender","Sex","sex","Patient Gender","patient Gender"],"Patient Number":["Patient Number","PatientNumber","patient Number","patient number","Patient ID","PatientID","ID","Patient No","PatientNo"],"Date of Birth":["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],DOB:["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],"Birth Date":["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"]};r.forEach(c=>{(i[c]||[c]).find(f=>a.has(f))?o.push(c):s.push(c)})}else if(t==="evamed-custom"){const i={id:["id","ID","Id","patient_id","patient id","Patient ID","PatientID","Patient Id","patientId","PatientNumber","patient number","Patient Number"],name:["name","Name","patient_name","patient name","Patient Name","PatientName","Patient name","Full Name","FullName","full name"],phone_number:["phone_number","phone number","Phone Number","PhoneNumber","phone","Phone","mobile","Mobile","Mobile Number","mobile number","contact_number","contact number","Contact Number","ContactNumber","Contact"],age:["age","Age","patient_age","patient age","Patient Age","PatientAge","Age (Years)","age (years)"],gender:["gender","Gender","patient_gender","patient gender","Patient Gender","PatientGender","sex","Sex","Gender/Sex"],date_of_birth:["date_of_birth","date of birth","Date of Birth","DateOfBirth","DOB","dob","Birth Date","birth date","BirthDate","birthdate"],address:["address","Address","patient_address","patient address","Patient Address","PatientAddress","Address Line","address line"],email:["email","Email","patient_email","patient email","Patient Email","PatientEmail","email_id","email id","Email ID","EmailID","Email Address","email address"]};r.forEach(c=>{(i[c]||[c]).find(f=>a.has(f))?o.push(c):s.push(c)})}else if(t==="tatvacare"){const i={"Patient Name":["Patient Name","PatientName","patient Name","patient name","Name","Patient","Full Name","FullName"],Mobile:["Mobile","mobile","Mobile Number","mobile Number","MobileNumber","Phone","Phone Number","PhoneNumber","Contact","Contact Number","ContactNumber"],Gender:["Gender","gender","Sex","sex","Patient Gender","patient Gender"],"Date of Birth":["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth Date"],Age:["Age","age","Patient Age","patient Age","Age (Years)","age (years)"],"Patient ID":["Patient ID","PatientID","patient ID","patient id","Patient Id","ID","Id","Patient Number","PatientNumber"],"Street Address":["Street Address","StreetAddress","street Address","street address","Address","address","Street","street"],City:["City","city"],State:["State","state"],"Pin Code":["Pin Code","PinCode","pin Code","pin code","Pincode","pincode","Postal Code","postal Code","Zip Code","zip Code"]};r.forEach(c=>{(i[c]||[c]).find(f=>a.has(f))?o.push(c):s.push(c)})}else if(t==="ekacare"){const i={"Patient name":["Patient name","Patient Name","PatientName","patient name","patient Name","Name","Patient","Full Name","FullName"],Mobile:["Mobile","mobile","Mobile Number","mobile Number","MobileNumber","Phone","Phone Number","PhoneNumber","Contact","Contact Number","ContactNumber"],Age:["Age","age","Patient Age","patient Age","Age (Years)"],Gender:["Gender","gender","Sex","sex","Patient Gender","patient Gender"],"Date of Birth":["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],DOB:["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],"Birth Date":["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"]};r.forEach(c=>{(i[c]||[c]).find(f=>a.has(f))?o.push(c):s.push(c)})}else if(t==="healthplix"){const i={ID:["ID","id","Id","patient_id","patient id","Patient ID","PatientID","Patient Id","patientId"],name:["name","Name","patient_name","patient name","Patient Name","PatientName","Patient name","Full Name","FullName"],phone_number:["phone_number","phone number","Phone Number","PhoneNumber","phone","Phone","mobile","Mobile","Mobile Number","mobile number","contact_number","contact number","Contact Number","ContactNumber"],Sex:["Sex","sex","Gender","gender","Patient Gender","patient Gender"],age:["age","Age","patient_age","patient age","Patient Age","PatientAge","Age (Years)"],dob:["dob","DOB","date_of_birth","date of birth","Date of Birth","DateOfBirth","Birth Date","birth date","BirthDate","birthdate"],date_of_birth:["dob","date_of_birth","date of birth","Date of Birth","DateOfBirth","DOB","Birth Date","birth date","BirthDate","birthdate"],"Date of Birth":["dob","Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],DOB:["dob","Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],"Birth Date":["dob","Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","Birth Date","birth date","BirthDate","birthdate","date_of_birth"]};r.forEach(c=>{(i[c]||[c]).find(f=>a.has(f))?o.push(c):s.push(c)})}else s=r.filter(i=>!a.has(i)),o=r.filter(i=>a.has(i));return{isValid:s.length===0,error:s.length>0?`Missing required columns: ${s.join(", ")}`:null,missing:s,found:o,mapping:n}},l0=e=>{if(!e)return null;try{const t=Zm(e),r=u8(new Date,t);return isNaN(r)||r<0?null:r}catch(t){return console.error("Error calculating age from DOB:",e,t),null}},gUe=(e,t,n)=>{const r=E2(n);if(!r)throw new Error(`Unsupported EMR system: ${n}`);const a={},s={...r.requiredColumns,...r.optionalColumns},o=(i,c)=>{let A=c.indexOf(i);if(A!==-1)return A;if(n==="practo"){const f={"Patient Name":["Patient Name","patient Name","Patient name","patient name","PatientName","Name","Patient","Full Name","FullName"],"Mobile Number":["Mobile Number","mobile Number","Mobile number","mobile number","MobileNumber","Mobile","Phone","Phone Number","PhoneNumber","Contact","Contact Number","ContactNumber"],"Patient Number":["Patient Number","patient Number","Patient number","patient number","PatientNumber","Patient ID","PatientID","ID","Patient No","PatientNo"],Age:["Age","age","Patient Age","patient Age","Age (Years)"],Gender:["Gender","gender","Sex","sex","Patient Gender","patient Gender"],"Email Address":["Email Address","email Address","Email address","email address","Email","email","Email ID","Email address"],Pincode:["Pincode","pincode","Pin Code","pin Code","Postal Code","postal Code","Zip Code","zip Code"],"Date of Birth":["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],DOB:["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],"Birth Date":["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"]}[i]||[i];for(const m of f)if(A=c.indexOf(m),A!==-1)return A}if(n==="evamed-custom"){const f={id:["id","ID","Id","patient_id","patient id","Patient ID","PatientID","Patient Id","patientId","PatientNumber","patient number","Patient Number"],name:["name","Name","patient_name","patient name","Patient Name","PatientName","Patient name","Full Name","FullName","full name"],phone_number:["phone_number","phone number","Phone Number","PhoneNumber","phone","Phone","mobile","Mobile","Mobile Number","mobile number","contact_number","contact number","Contact Number","ContactNumber","Contact"],age:["age","Age","patient_age","patient age","Patient Age","PatientAge","Age (Years)","age (years)"],gender:["gender","Gender","patient_gender","patient gender","Patient Gender","PatientGender","sex","Sex","Gender/Sex"],date_of_birth:["date_of_birth","date of birth","Date of Birth","DateOfBirth","DOB","dob","Birth Date","birth date","BirthDate","birthdate"],address:["address","Address","patient_address","patient address","Patient Address","PatientAddress","Address Line","address line"],email:["email","Email","patient_email","patient email","Patient Email","PatientEmail","email_id","email id","Email ID","EmailID","Email Address","email address"]}[i]||[i];for(const m of f)if(A=c.indexOf(m),A!==-1)return A}if(n==="ekacare"){const f={"Patient name":["Patient name","Patient Name","PatientName","patient name","patient Name","Name","Patient","Full Name","FullName"],Mobile:["Mobile","mobile","Mobile Number","mobile Number","MobileNumber","Phone","Phone Number","PhoneNumber","Contact","Contact Number","ContactNumber"],Age:["Age","age","Patient Age","patient Age","Age (Years)"],Gender:["Gender","gender","Sex","sex","Patient Gender","patient Gender"],"Date of Birth":["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],DOB:["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],"Birth Date":["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth date","BirthDate","birthdate","date_of_birth"]}[i]||[i];for(const m of f)if(A=c.indexOf(m),A!==-1)return A}if(n==="healthplix"){const f={ID:["ID","id","Id","patient_id","patient id","Patient ID","PatientID","Patient Id","patientId"],name:["name","Name","patient_name","patient name","Patient Name","PatientName","Patient name","Full Name","FullName"],phone_number:["phone_number","phone number","Phone Number","PhoneNumber","phone","Phone","mobile","Mobile","Mobile Number","mobile number","contact_number","contact number","Contact Number","ContactNumber"],Sex:["Sex","sex","Gender","gender","Patient Gender","patient Gender"],age:["age","Age","patient_age","patient age","Patient Age","PatientAge","Age (Years)"],dob:["dob","DOB","date_of_birth","date of birth","Date of Birth","DateOfBirth","Birth Date","birth date","BirthDate","birthdate"],date_of_birth:["dob","date_of_birth","date of birth","Date of Birth","DateOfBirth","DOB","Birth Date","birth date","BirthDate","birthdate"],"Date of Birth":["dob","Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],DOB:["dob","Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","Birth Date","birth date","BirthDate","birthdate","date_of_birth"],"Birth Date":["dob","Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","Birth Date","birth date","BirthDate","birthdate","date_of_birth"]}[i]||[i];for(const m of f)if(A=c.indexOf(m),A!==-1)return A}if(n==="tatvacare"){const f={"Patient Name":["Patient Name","patient Name","Patient name","patient name","PatientName","Name","Patient","Full Name","FullName"],Mobile:["Mobile","mobile","Mobile Number","mobile Number","MobileNumber","Phone","Phone Number","PhoneNumber","Contact","Contact Number","ContactNumber"],Gender:["Gender","gender","Sex","sex","Patient Gender","patient Gender"],"Date of Birth":["Date of Birth","DateOfBirth","date of Birth","date of birth","DOB","dob","Birth Date","birth Date"],Age:["Age","age","Patient Age","patient Age","Age (Years)","age (years)"],"Patient ID":["Patient ID","PatientID","patient ID","patient id","Patient Id","ID","Id","Patient Number","PatientNumber"],"Street Address":["Street Address","StreetAddress","street Address","street address","Address","address","Street","street"],City:["City","city"],State:["State","state"],"Pin Code":["Pin Code","PinCode","pin Code","pin code","Pincode","pincode","Postal Code","postal Code","Zip Code","zip Code"]}[i]||[i];for(const m of f)if(A=c.indexOf(m),A!==-1)return A}return-1};if(Object.entries(s).forEach(([i,c])=>{const A=o(i,t);if(A!==-1&&c){let u=e[A];n==="practo"&&typeof u=="string"&&u.endsWith("'")&&(u=u.slice(0,-1).trim()),u=wUe(u,i,r.validation.dataTypes[i]),u!=null&&u!==""&&(a[c]=u)}}),a.email=a.email||"",a.address=a.address||"",a.note=a.note||"",n==="practo"){if(a.dateOfBirth){const i=Nu(a.dateOfBirth);i!==null&&(a.birthDate=i.toString(),a.age=l0(a.dateOfBirth)),delete a.dateOfBirth}else if(a.age!==void 0&&a.age!==null&&a.age!==""){const i=parseInt(a.age,10);a.age=isNaN(i)||i<0?null:i}else a.age=null;a.gender=a.gender||"Male"}if(n==="ekacare"){if(a.dateOfBirth){const i=Nu(a.dateOfBirth);i!==null&&(a.birthDate=i.toString(),a.age=l0(a.dateOfBirth)),delete a.dateOfBirth}else if(a.age!==void 0&&a.age!==null&&a.age!==""){const i=String(a.age).match(/^\d+/);if(i){const c=parseInt(i[0],10);a.age=isNaN(c)||c<0?null:c}else a.age=null}}if(n==="healthplix"){if(a.dateOfBirth){const i=Nu(a.dateOfBirth);i!==null&&(a.birthDate=i.toString(),a.age=l0(a.dateOfBirth)),delete a.dateOfBirth}else if(a.age!==void 0&&a.age!==null&&a.age!==""){const i=parseInt(a.age,10);a.age=isNaN(i)||i<0?null:i}}if(n==="evamed-custom"){if(a.dateOfBirth){const i=Nu(a.dateOfBirth);i!==null&&(a.birthDate=i.toString(),a.age=l0(a.dateOfBirth)),delete a.dateOfBirth}else if(a.age!==void 0&&a.age!==null){const i=parseInt(a.age,10);a.age=isNaN(i)||i<0?null:i}if(a.gender){const i=String(a.gender).toLowerCase().trim();i==="male"||i==="m"?a.gender="Male":i==="female"||i==="f"?a.gender="Female":i==="other"||i==="o"?a.gender="Other":a.gender=String(a.gender).trim()}else a.gender="Male"}if(n==="tatvacare"){if(a.dateOfBirth){const c=Nu(a.dateOfBirth);c!==null&&(a.birthDate=c.toString(),a.age=l0(a.dateOfBirth)),delete a.dateOfBirth}else if(a.age!==void 0&&a.age!==null){const c=parseInt(a.age,10);a.age=isNaN(c)||c<0?null:c}const i=[];if(a.streetAddress&&i.push(a.streetAddress),a.city&&i.push(a.city),a.state&&i.push(a.state),a.pinCode&&i.push(a.pinCode),a.address=i.length>0?i.join(", "):"",delete a.streetAddress,delete a.city,delete a.state,delete a.pinCode,a.gender){const c=String(a.gender).toLowerCase().trim();c==="male"||c==="m"?a.gender="Male":c==="female"||c==="f"?a.gender="Female":c==="other"||c==="o"?a.gender="Other":a.gender=String(a.gender).trim()}else a.gender="Male"}return a.importID=a.importID||null,a.importSource=n,a},yUe=e=>{if(!e||e==="")return"";const t=String(e).trim();let n=t.match(/^(\d{2})-(\d{2})-(\d{4})$/);if(n){const[,r,a,s]=n;return`${s}-${a}-${r}`}if(n=t.match(/^(\d{4})-(\d{2})-(\d{2})$/),n)return t;if(n=t.match(/^(\d{2})\/(\d{2})\/(\d{4})$/),n){const[,r,a,s]=n;return`${s}-${a}-${r}`}if(n=t.match(/^(\d{4})\/(\d{2})\/(\d{2})$/),n){const[,r,a,s]=n;return`${r}-${a}-${s}`}return t},wUe=(e,t,n)=>{if(e==null||e==="")return"";let r=String(e).trim();if(!n)return r;switch(t){case"Patient Age":{if(typeof e=="number")return String(Math.floor(e));const a=r.match(/\d+/);return a?a[0]:r}case"Age":{if(e==null||e===""||r==="")return"";if(r.endsWith("'"))return r.slice(0,-1).trim()||"";const a=r.match(/^\d+/);return a?a[0]:""}case"Patient Contact":return r.replace(/[^\d+\-\s]/g,"");case"Mobile Number":{let a=r;return a.endsWith("'")&&(a=a.slice(0,-1)),a.startsWith("+91")&&(a=a.substring(3)),a.trim()}case"Mobile":return r.startsWith("+91")?r.substring(3).trim():r.replace(/[^\d]/g,"");case"Patient Gender":case"Gender":case"gender":{if(e==null||e===""||r==="")return"";let a=r;if(a.endsWith("'")&&(a=a.slice(0,-1).trim()),!a.trim())return"";const s=a.toLowerCase().trim();return s==="f"?"Female":s==="m"?"Male":s==="o"?"Other":s==="male"||s.includes("male")&&!s.includes("female")?"Male":s==="female"||s.includes("female")?"Female":s==="other"?"Other":a.trim()}case"Patient Name":case"Patient name":{let a=r;return a.endsWith("'")&&(a=a.slice(0,-1)),a.replace(/\s+/g," ").trim()}case"Email Address":{let a=r;return a.endsWith("'")&&(a=a.slice(0,-1)),a.trim()}case"Pincode":{let a=r;return a.endsWith("'")&&(a=a.slice(0,-1)),a.trim()}case"Patient Number":{let a=r;return a.endsWith("'")&&(a=a.slice(0,-1)),a.trim()}case"UHID (DF)":return r.trim();case"ID":return r.trim();case"phone_number":{if(e==null||e==="")return"";let a=String(e).trim();return a.startsWith("+91")&&(a=a.substring(3).trim()),a.endsWith(".0")&&(a=a.slice(0,-2)),a=a.replace(/[^\d]/g,""),a}case"Sex":{if(e==null||e===""||r==="")return"";const a=r.trim(),s=a.toLowerCase();return s==="female"?"Female":s==="male"?"Male":a}case"Age":case"age":{if(e==null||e===""||r==="")return"";let a=r;a.endsWith("'")&&(a=a.slice(0,-1).trim());const s=a.match(/^\d+/);return s?s[0]:""}case"id":return e==null||e===""?"":String(e).trim();case"address":case"person_address":return e==null||e===""||r===","||r==='","'?"":String(e).replace(/\s+/g," ").trim();case"email":case"email_id":return e==null||e===""?"":String(e).trim();case"Date of Birth":case"date_of_birth":case"dob":case"DOB":case"Birth Date":{let a=r;return a.endsWith("'")&&(a=a.slice(0,-1).trim()),yUe(a)}case"Patient ID":return r.trim();case"Street Address":case"City":case"State":case"Pin Code":return e==null||e===""?"":String(e).trim();default:return r}};function Wx(e){const t=[];let n="",r=!1;for(let a=0;a<e.length;a++){const s=e[a],o=e[a+1];s==='"'?r&&o==='"'?(n+='"',a++):r=!r:s===","&&!r?(t.push(n.trim()),n=""):n+=s}return t.push(n.trim()),t}const oH=async(e,t=null)=>{const n=e.name.toLowerCase(),r=e.type==="text/csv"||e.type==="application/csv"||n.endsWith(".csv"),a=e.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||e.type==="application/vnd.ms-excel"||n.endsWith(".xlsx")||n.endsWith(".xls");if(!r&&!a)throw new Error("Unsupported file type. Please use CSV (.csv) or Excel (.xlsx, .xls) files.");return r?new Promise((s,o)=>{const i=new FileReader;i.onload=c=>{try{const u=c.target.result.split(/\r?\n/);let f=0,m=1;if(t){const b=E2(t);b&&b.headerRow&&(f=b.headerRow-1,m=f+1)}if(f>=u.length){o(new Error(`Header row ${f+1} does not exist in file`));return}const v=u[f].trim();if(!v){o(new Error("Header row is empty"));return}const h=Wx(v).map(b=>String(b).trim()).filter(b=>b!=="");let y=0;for(let b=m;b<u.length;b++){const B=u[b].trim();B&&Wx(B).some(S=>S.trim()!=="")&&y++}const w=[];for(let b=m;b<u.length;b++){const B=u[b].trim();if(B){const S=Wx(B);S.some(T=>T.trim()!=="")&&w.push(S)}}s({headers:h,rows:w,totalRows:w.length,headerRowIndex:f+1,isCSV:!0,fileType:"csv"})}catch(A){o(new Error(`Failed to parse CSV file: ${A.message}`))}},i.onerror=()=>o(new Error("Failed to read file")),i.readAsText(e)}):a?new Promise((s,o)=>{const i=new FileReader;i.onload=c=>{try{console.log(`Reading Excel file: ${e.name} (${(e.size/1024/1024).toFixed(2)} MB)`);const A=c.target.result,u=KE(A,{type:"binary",cellDates:!1,cellNF:!1,cellStyles:!1,sheetStubs:!1});if(!u.SheetNames||u.SheetNames.length===0){o(new Error("Excel file has no worksheets"));return}const f=u.SheetNames[0],m=u.Sheets[f];if(!m){o(new Error(`Worksheet "${f}" not found`));return}console.log(`Processing worksheet: ${f}`);const v=pUe.sheet_to_json(m,{header:1,defval:"",raw:!1,blankrows:!1});if(v.length===0){o(new Error("Excel file is empty"));return}console.log(`Excel file parsed: ${v.length} total rows`);let h=0,y=1;if(t){const B=E2(t);B&&B.headerRow&&(h=B.headerRow-1,y=h+1)}if(h>=v.length){o(new Error(`Header row ${h+1} does not exist in Excel file`));return}const w=v[h].map(B=>String(B).trim()).filter(B=>B!=="");if(w.length===0){o(new Error("Header row is empty in Excel file"));return}const b=v.slice(y).filter(B=>B.some(S=>S!=null&&String(S).trim()!==""));console.log(`Excel file processed: ${w.length} columns, ${b.length} data rows`),s({headers:w,rows:b,totalRows:b.length,headerRowIndex:h+1,isCSV:!1,fileType:"excel"})}catch(A){console.error("Excel file parsing error:",A),o(new Error(`Failed to parse Excel file: ${A.message}`))}},i.onerror=()=>{console.error("Failed to read Excel file"),o(new Error("Failed to read Excel file"))},i.readAsBinaryString(e)}):Promise.reject(new Error("Unsupported file type. Please use CSV (.csv) or Excel (.xlsx, .xls) files."))},zE=async(e,t)=>{try{const n=await oH(e,t),r=sH(n.headers,t);return{isValid:r.isValid,error:r.error,fileData:r.isValid?n:null,validation:r}}catch(n){return{isValid:!1,error:n.message,fileData:null,validation:null}}},iH=async(e,t,n=null)=>{const{headers:r,rows:a,fileType:s}=e;s&&console.log(`Processing ${s.toUpperCase()} file with ${a.length} rows`);const o={total:a.length,successful:0,failed:0,errors:[],patients:[],duplicates:0},i=100,c=500,A=new Map,u=[],f=[];for(let m=0;m<a.length;m++)try{const v=gUe(a[m],r,t);v.isImported=!0;const h=bUe(v);if(h){o.failed++,o.errors.push({row:m+1,patientData:a[m],error:h,mappedData:v});continue}v.importID&&v.importID.trim()!==""?(A.set(v.importID,{patientData:v,rowIndex:m+1}),u.push(v)):f.push(v),n&&(m%i===0||m===a.length-1)&&n({current:m+1,total:a.length,phase:"mapping",currentPatient:v.name,message:`Processing row ${m+1} of ${a.length}...`}),m%i===0&&m>0&&await new Promise(y=>setTimeout(y,0))}catch(v){console.error(`Row ${m+1} mapping error:`,v),o.failed++,o.errors.push({row:m+1,patientData:a[m],error:v.message,mappedData:null})}if(u.length>0){n&&n({current:0,total:u.length,phase:"duplicate-check",message:"Checking for existing patients..."});const m=await _Ue(u,t);o.duplicates=m.duplicates.length,o.errors.push(...m.duplicates.map(h=>({row:h.row,patientData:h.originalData,error:`Patient already exists with Import ID: ${h.importID}`,mappedData:h.originalData,isDuplicate:!0})));const v=[...m.newPatients,...f];await mR(v,o,n,c)}else await mR(f,o,n,c);return n&&n({current:a.length,total:a.length,phase:"complete",successful:o.successful,failed:o.failed,duplicates:o.duplicates,message:`Import completed: ${o.successful} successful, ${o.failed} failed, ${o.duplicates} duplicates`}),o};async function mR(e,t,n,r){if(e.length===0){console.log("No patients to import");return}n&&n({current:0,total:e.length,phase:"bulk-insert",message:`Inserting ${e.length} patients in batches...`}),console.log(`Bulk inserting ${e.length} patients in batches of ${r}...`);for(let a=0;a<e.length;a+=r){const s=e.slice(a,a+r),o=Math.floor(a/r)+1,i=Math.ceil(e.length/r);console.log(`Processing batch ${o}/${i} (${s.length} patients)...`),n&&n({current:a,total:e.length,phase:"bulk-insert",message:`Inserting batch ${o}/${i}: ${a+1}-${Math.min(a+r,e.length)} of ${e.length}...`});try{const{data:c,error:A}=await DAe(s);A?(console.error(`Batch ${o} failed:`,A),t.failed+=s.length,t.errors.push(...s.map((u,f)=>({patientData:u,error:A.message||"Failed to bulk create patients",row:a+f+1})))):(t.successful+=c.successful||0,t.failed+=c.failed||0,c.patients&&t.patients.push(...c.patients),c.errors&&c.errors.length>0&&t.errors.push(...c.errors.map((u,f)=>({...u,row:a+f+1})))),a+r<e.length&&await new Promise(u=>setTimeout(u,50))}catch(c){console.error(`Batch ${o} error:`,c),t.failed+=s.length,t.errors.push(...s.map((A,u)=>({patientData:A,error:c.message||"Failed to process batch",row:a+u+1})))}s.length=0}console.log(`Bulk insert completed: ${t.successful} successful, ${t.failed} failed`)}const _Ue=async(e,t)=>{const n=e.filter(r=>r.importID&&r.importID.trim()!=="");if(n.length===0)return console.log("No patients with importID found, proceeding with all patients"),{newPatients:e,duplicates:[]};try{console.log(`Checking for duplicates: ${n.length} patients with importID from ${t}`);const{default:r}=await Ca(async()=>{const{default:c}=await Promise.resolve().then(()=>s8);return{default:c}},void 0),a=1e3,s=new Set;for(let c=0;c<n.length;c+=a){const u=n.slice(c,c+a).map(f=>f.importID);try{const f=await r.post("/patient/check-duplicates",{importIDs:u,importSource:t});if(f.data&&f.data.success){const m=f.data.data.existingImportIDs||[];m.forEach(v=>s.add(v)),console.log(`Batch ${Math.floor(c/a)+1}: Found ${m.length} duplicates`)}}catch(f){console.warn("Duplicate check batch failed, continuing with other batches:",f.message)}}console.log(`Found ${s.size} total existing patients with matching importIDs`);const o=[],i=[];return e.forEach((c,A)=>{c.importID&&c.importID.trim()!==""&&s.has(c.importID)?i.push({row:A+1,importID:c.importID,originalData:c}):o.push(c)}),console.log(`Duplicate check results: ${o.length} new patients, ${i.length} duplicates`),{newPatients:o,duplicates:i}}catch(r){return console.warn("Duplicate check failed, proceeding with all patients:",r.message),{newPatients:e,duplicates:[]}}},bUe=e=>(console.log("DEBUG validatePatientData - Input data:",JSON.stringify(e,null,2)),!e.name||e.name.trim()===""?"Patient name is required":!e.contact_number||e.contact_number.trim()===""?"Contact number is required":(console.log(`DEBUG validatePatientData - Before modification - Age: ${JSON.stringify(e.age)}, Gender: ${JSON.stringify(e.gender)}`),!e.age&&e.age!=="0"&&(e.age=""),e.gender||(e.gender=""),console.log(`DEBUG validatePatientData - After modification - Age: ${JSON.stringify(e.age)}, Gender: ${JSON.stringify(e.gender)}`),null)),lH=async(e,t)=>{try{if(console.log("saveImportFile called with:",{fileName:e?.name,fileSize:e?.size,fileType:e?.type,emrSystem:t}),!t)throw new Error("EMR system is required");const n=new FormData;n.append("importFile",e,e.name),console.log("FormData contents:");for(let o of n.entries())console.log(o[0],o[1]);const r={emrSystem:t};console.log("Query params:",r);const{default:a}=await Ca(async()=>{const{default:o}=await Promise.resolve().then(()=>s8);return{default:o}},void 0),s=await a.post("/upload/save-import",n,{params:r,headers:{"Content-Type":"multipart/form-data"}});if(s.data&&s.data.success)return{success:!0,filePath:s.data.data.filePath,fileName:s.data.data.fileName};throw new Error(s.data?.error||"Failed to save file")}catch(n){return console.error("Error saving import file:",n),console.error("Error response:",n.response?.data),{success:!1,error:n.response?.data?.error||n.message||"Failed to save import file"}}},cH=e=>{if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]},uH=e=>{const t=e*.1,n=e*.01,r=t+n+2;return r<60?`~${Math.ceil(r)} seconds`:r<3600?`~${Math.ceil(r/60)} minutes`:`~${Math.ceil(r/3600)} hours`},xUe=Object.freeze(Object.defineProperty({__proto__:null,estimateImportTime:uH,getFileSizeString:cH,processImportFile:iH,readImportFile:oH,saveImportFile:lH,validateFileHeaders:sH,validateImportFile:zE},Symbol.toStringTag,{value:"Module"})),eI={patients:{tableName:"patients",displayName:"Patient Records",columns:[{dbField:"name",exportName:"Name"},{dbField:"age",exportName:"Age"},{dbField:"gender",exportName:"Gender"},{dbField:"contactNumber",exportName:"Contact Number"},{dbField:"email",exportName:"Email Address"},{dbField:"address",exportName:"Address"},{dbField:"note",exportName:"Notes"},{dbField:"importID",exportName:"Import ID"},{dbField:"importSource",exportName:"Import Source"},{dbField:"isImported",exportName:"Is Imported"}]},medicines:{tableName:"medicines",displayName:"Medicines",columns:[{dbField:"productName",exportName:"Product Name"},{dbField:"marketer",exportName:"Marketer"},{dbField:"saltComposition",exportName:"Salt Composition"},{dbField:"productForm",exportName:"Product Form"}]}},CUe=e=>eI[e]?.columns||[],EUe=async e=>{try{const t={success:!1,data:{},summary:{totalRecords:0,dataTypes:[],dateRange:null},filePath:null,error:null};if(!e.dataTypes||!Object.values(e.dataTypes).some(r=>r))throw new Error("No data types selected for export");const n=Object.keys(e.dataTypes).filter(r=>e.dataTypes[r]);console.log("Selected data types for export:",n);for(const r of n){const a=await BUe(r,e);t.data[r]=a,t.summary.totalRecords+=a.length,t.summary.dataTypes.push({type:r,count:a.length,displayName:eI[r]?.displayName||r})}return(e.dateFrom||e.dateTo)&&(t.summary.dateRange={from:e.dateFrom||"Beginning",to:e.dateTo||"Now"}),t.success=!0,t}catch(t){return console.error("Export error:",t),{success:!1,data:{},summary:{totalRecords:0,dataTypes:[],dateRange:null},filePath:null,error:t.message}}},BUe=async(e,t)=>{try{console.log(`Fetching ${e} data for export...`);let n;if(e==="patients"){n=await Bt.get("/patient/patients",{params:{dateFrom:t.dateFrom,dateTo:t.dateTo,exportAll:!0}});const r=n.data?.data?.patients||n.data?.patients||[];return console.log(`Found ${r.length} patients for export`),r}else if(e==="medicines")try{n=await Bt.get("/medicine/all",{params:{dateFrom:t.dateFrom,dateTo:t.dateTo,exportAll:!0}});const r=n.data?.data?.medicines||n.data?.medicines||[];return console.log(`Found ${r.length} medicines for export`),r}catch(r){return console.warn("Medicine export endpoint not available yet:",r.message),[]}else throw new Error(`Unknown data type: ${e}`)}catch(n){if(console.error(`Error fetching ${e} data:`,n),n.response?.status===404)return console.warn(`API endpoint for ${e} export not implemented yet. Returning empty array.`),[];throw n}},SUe=e=>{try{const t=[];return Object.keys(e.data).forEach(n=>{const r=e.data[n],a=CUe(n);if(r.length===0)return;t.push(`
--- ${eI[n]?.displayName||n} ---`);const s=a.map(o=>o.exportName);t.push(s.join(",")),r.forEach(o=>{const i=a.map(c=>{const A=o[c.dbField];if(A==null)return"";const u=String(A);return u.includes(",")||u.includes('"')||u.includes(`
`)?`"${u.replace(/"/g,'""')}"`:u});t.push(i.join(","))}),t.push("")}),t.join(`
`)}catch(t){throw console.error("Error generating CSV:",t),t}},kUe=()=>{try{const e=["id","name","phone_number","age","gender","date_of_birth","address","email"],t=[{id:"P001",name:"Rajesh Kumar",phone_number:"9876543210",age:"35",gender:"Male",date_of_birth:"1989-05-15",address:"123 Main Street, Mumbai, Maharashtra",email:"rajesh.kumar@example.com"},{id:"P002",name:"Priya Sharma",phone_number:"9876543211",age:"28",gender:"Female",date_of_birth:"1996-08-22",address:"456 Park Avenue, Delhi",email:"priya.sharma@example.com"},{id:"P003",name:"Amit Patel",phone_number:"9876543212",age:"42",gender:"Male",date_of_birth:"1982-03-10",address:"789 MG Road, Bangalore, Karnataka",email:"amit.patel@example.com"},{id:"P004",name:"Sneha Reddy",phone_number:"9876543213",age:"31",gender:"Female",date_of_birth:"1993-11-05",address:"321 Church Street, Hyderabad, Telangana",email:"sneha.reddy@example.com"},{id:"P005",name:"Vikram Singh",phone_number:"9876543214",age:"45",gender:"Male",date_of_birth:"1979-07-18",address:"654 Nehru Road, Pune, Maharashtra",email:"vikram.singh@example.com"},{id:"P006",name:"Anjali Desai",phone_number:"9876543215",age:"29",gender:"Female",date_of_birth:"1995-12-30",address:"987 Gandhi Nagar, Ahmedabad, Gujarat",email:"anjali.desai@example.com"}],n=[];return n.push(e.join(",")),t.forEach(r=>{const a=e.map(s=>{const o=r[s]||"";if(o==null||o==="")return"";const i=String(o);return i.includes(",")||i.includes('"')||i.includes(`
`)?`"${i.replace(/"/g,'""')}"`:i});n.push(a.join(","))}),n.join(`
`)}catch(e){throw console.error("Error generating Evamed template:",e),e}},IUe=async()=>{try{const e=kUe(),t="evamed_template.csv",n=new Blob([e],{type:"text/csv;charset=utf-8;"});if(window.electronAPI){const r=await window.electronAPI.showSaveDialog({defaultPath:t,filters:[{name:"CSV Files",extensions:["csv"]}]});return!r.canceled&&r.filePath?(await window.electronAPI.writeFile(r.filePath,e),{success:!0,filePath:r.filePath,filename:t}):{success:!1,error:"Save canceled by user"}}else{const r=document.createElement("a"),a=URL.createObjectURL(n);return r.setAttribute("href",a),r.setAttribute("download",t),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),{success:!0,filePath:`Downloaded: ${t}`,filename:t}}}catch(e){return console.error("Error downloading Evamed template:",e),{success:!1,error:e.message}}},TUe=async(e,t)=>{try{const n=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5),a=`evamed_export_${t.dataTypes.map(o=>o.type).join("_")}_${n}.csv`,s=new Blob([e],{type:"text/csv;charset=utf-8;"});if(window.electronAPI){const o=await window.electronAPI.showSaveDialog({defaultPath:a,filters:[{name:"CSV Files",extensions:["csv"]}]});return!o.canceled&&o.filePath?(await window.electronAPI.writeFile(o.filePath,e),{success:!0,filePath:o.filePath,filename:a}):{success:!1,error:"Save canceled by user"}}else{const o=document.createElement("a"),i=URL.createObjectURL(s);return o.setAttribute("href",i),o.setAttribute("download",a),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i),{success:!0,filePath:`Downloaded: ${a}`,filename:a}}}catch(n){return console.error("Error saving export file:",n),{success:!1,error:n.message}}},FUe={class:"filter-cards-container pa-2",style:{flex:"1 1 auto"}},PUe={class:"template-download-content d-flex align-center"},DUe={class:"text-body-2"},UUe={class:"d-flex justify-center mt-4"},RUe={class:"text-caption text-medium-emphasis"},NUe={key:0},LUe={key:1},VUe={key:2,class:"text-medium-emphasis"},MUe={key:1,class:"d-flex justify-center mt-4"},OUe={__name:"ImportFilter",props:{filters:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:["filter-change","start-import","clear-filters","template-downloaded"],setup(e,{emit:t}){const n=e,r=t,a=H({selectedEMR:n.filters.selectedEMR||"",selectedDataType:n.filters.selectedDataType||"patients",importFile:n.filters.importFile||null}),s=H({isValidating:!1,isValid:null,error:null,fileData:null}),o=H(!1),i=H([...NM]),c=H([...LM,{name:"Appointments",value:"appointments",disabled:!0},{name:"Treatments",value:"treatments",disabled:!0},{name:"Billing Records",value:"billing",disabled:!0}]),A=Z(()=>n.loading),u=Z(()=>a.value.selectedEMR!==""),f=Z(()=>a.value.selectedEMR&&a.value.selectedDataType&&a.value.importFile&&s.value.isValid===!0&&!s.value.isValidating&&!A.value),m=Z(()=>a.value.selectedEMR||a.value.importFile),v=Z(()=>a.value.selectedEMR?s.value.isValidating?"Validating file structure...":s.value.error?`Error: ${s.value.error}`:s.value.isValid&&s.value.fileData?`Valid file: ${s.value.fileData.totalRows} patient records found`:"Supported formats: CSV, Excel":"Please select an EMR system first"),h=async k=>{console.log("File selected, starting validation...",k),s.value={isValidating:!1,isValid:null,error:null,fileData:null};const E=a.value.importFile;console.log("Files from v-model:",E);let _=null;if(E&&(Array.isArray(E)?_=E.length>0?E[0]:null:E instanceof File&&(_=E)),_){console.log("File selected:",_.name,`(${cH(_.size)})`);const C=y(_);if(C.error){console.error("Basic validation failed:",C.error),s.value.error=C.error,s.value.isValid=!1,b();return}if(console.log("Basic validation passed"),a.value.selectedEMR&&fR(a.value.selectedEMR)){console.log("Starting file structure validation for EMR:",a.value.selectedEMR),s.value.isValidating=!0;try{const F=await zE(_,a.value.selectedEMR);console.log("File validation result:",F),s.value.isValid=F.isValid,s.value.error=F.error,s.value.fileData=F.fileData,F.isValid?console.log(` File validated successfully: ${F.fileData.totalRows} rows found`):console.warn(" File validation failed:",F.error)}catch(F){console.error("File validation error:",F),s.value.isValid=!1,s.value.error=`Validation error: ${F.message}`}s.value.isValidating=!1}else console.log("EMR system not selected or not supported, skipping structure validation"),s.value.isValid=!0}else console.log("No file found");b()},y=k=>{if(k.size>52428800)return{error:"File size exceeds 50MB limit"};const _=[".csv",".xlsx",".xls"],C="."+k.name.split(".").pop().toLowerCase();return _.includes(C)?k.size===0?{error:"File is empty"}:{error:null}:{error:"Unsupported file type. Please use CSV or Excel files."}},w=k=>{const E=i.value.find(_=>_.value===k);return E?E.name:k},b=()=>{r("filter-change",{...a.value})},B=()=>{r("start-import",{...a.value})},S=()=>{a.value={selectedEMR:"",selectedDataType:"patients",importFile:null},s.value={isValidating:!1,isValid:null,error:null,fileData:null},r("clear-filters"),b()},T=async()=>{try{o.value=!0;const k=await IUe();k.success?r("template-downloaded",{success:!0,filename:k.filename}):r("template-downloaded",{success:!1,error:k.error})}catch(k){console.error("Error downloading template:",k),r("template-downloaded",{success:!1,error:k.message})}finally{o.value=!1}},N=H({});return Ge(()=>n.filters,k=>{Object.keys(k).some(_=>k[_]!==N.value[_])&&(a.value={...a.value,...k},N.value={...k})},{immediate:!0}),Ge(()=>a.value.selectedEMR,async(k,E)=>{if(k!==E){if(s.value={isValidating:!1,isValid:null,error:null,fileData:null},a.value.importFile&&k&&fR(k)){s.value.isValidating=!0;try{const _=await zE(a.value.importFile[0],k);s.value.isValid=_.isValid,s.value.error=_.error,s.value.fileData=_.fileData}catch(_){s.value.isValid=!1,s.value.error=`Validation error: ${_.message}`}s.value.isValidating=!1}b()}}),(k,E)=>{const _=D("v-icon"),C=D("v-card-title"),F=D("v-select"),I=D("v-card-text"),R=D("v-card"),M=D("v-alert"),te=D("v-chip"),se=D("v-list-item"),O=D("v-file-input"),W=D("v-btn"),le=D("v-divider");return V(),he(R,{color:"surfaceContainer",flat:"",style:{height:"100%",display:"flex","flex-direction":"column"}},{default:d(()=>[p("div",FUe,[l(R,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(C,{class:"pa-0 pb-2"},{default:d(()=>[l(_,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...E[3]||(E[3]=[Q("mdi-database",-1)])]),_:1}),E[4]||(E[4]=p("span",{class:"text-subtitle-1 font-weight-medium"},"EMR System",-1))]),_:1}),l(I,{class:"pa-0"},{default:d(()=>[l(F,{modelValue:a.value.selectedEMR,"onUpdate:modelValue":[E[0]||(E[0]=K=>a.value.selectedEMR=K),b],items:i.value,"item-title":"name","item-value":"value",placeholder:"Choose EMR System",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-database",class:"input-hover"},null,8,["modelValue","items"])]),_:1})]),_:1}),a.value.selectedEMR==="evamed-custom"?(V(),he(M,{key:0,type:"info",variant:"tonal",class:"ma-2 mb-3 template-download-alert",border:"start",density:"comfortable"},{prepend:d(()=>[l(_,{size:"small",color:"primary"},{default:d(()=>[...E[5]||(E[5]=[Q("mdi-alert-circle",-1)])]),_:1})]),default:d(()=>[p("div",PUe,[p("span",DUe,[E[6]||(E[6]=Q(" Important - please ",-1)),p("a",{href:"#",onClick:Qn(T,["prevent"]),class:rt(["template-download-link",{"template-download-link-disabled":o.value}])}," click here ",2),E[7]||(E[7]=Q(" to download the blank custom template. Add your information and then import below. ",-1))])])]),_:1})):Be("",!0),l(R,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(C,{class:"pa-0 pb-2"},{default:d(()=>[l(_,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...E[8]||(E[8]=[Q("mdi-database-outline",-1)])]),_:1}),E[9]||(E[9]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Data Types",-1))]),_:1}),l(I,{class:"pa-0"},{default:d(()=>[l(F,{modelValue:a.value.selectedDataType,"onUpdate:modelValue":E[1]||(E[1]=K=>a.value.selectedDataType=K),items:c.value,"item-title":"name","item-value":"value",placeholder:"Select Data Type",density:"comfortable",variant:"outlined",disabled:!0,"hide-details":"auto","prepend-inner-icon":"mdi-database-outline",class:"input-hover"},{item:d(({props:K,item:ee})=>[l(se,Ne(K,{disabled:ee.raw.disabled}),gm({_:2},[ee.raw.disabled?{name:"append",fn:d(()=>[l(te,{size:"x-small",color:"grey"},{default:d(()=>[...E[10]||(E[10]=[Q("Coming Soon",-1)])]),_:1})]),key:"0"}:void 0]),1040,["disabled"])]),_:1},8,["modelValue","items"]),E[11]||(E[11]=p("p",{class:"text-caption text-medium-emphasis mt-1 mb-0"},"Currently we support import of patient information only.",-1))]),_:1})]),_:1}),l(R,{class:rt(["form-section-card card-status-default ma-2 mb-3 pa-3",{"card-status-disabled":!u.value}]),elevation:"2"},{default:d(()=>[l(C,{class:"pa-0 pb-2"},{default:d(()=>[l(_,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...E[12]||(E[12]=[Q("mdi-file-upload",-1)])]),_:1}),E[13]||(E[13]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Import File",-1))]),_:1}),l(I,{class:"pa-0"},{default:d(()=>[l(O,{modelValue:a.value.importFile,"onUpdate:modelValue":E[2]||(E[2]=K=>a.value.importFile=K),placeholder:"Select file to import",density:"comfortable",variant:"outlined",accept:".csv,.xlsx,.xls","prepend-icon":"mdi-file-upload","show-size":"","hide-details":"auto",class:"input-hover",disabled:!u.value,loading:s.value.isValidating,onChange:h},gm({_:2},[a.value.importFile&&!s.value.isValidating?{name:"append-inner",fn:d(()=>[s.value.isValid===!0?(V(),he(_,{key:0,color:"success",size:"small"},{default:d(()=>[...E[14]||(E[14]=[Q(" mdi-check-circle ",-1)])]),_:1})):s.value.isValid===!1?(V(),he(_,{key:1,color:"error",size:"small"},{default:d(()=>[...E[15]||(E[15]=[Q(" mdi-alert-circle ",-1)])]),_:1})):Be("",!0)]),key:"0"}:void 0]),1032,["modelValue","disabled","loading"]),p("p",{class:rt(["text-caption mt-1 mb-0",{"text-success":s.value.isValid===!0,"text-error":s.value.isValid===!1,"text-medium-emphasis":s.value.isValid===null}])},J(v.value),3)]),_:1})]),_:1},8,["class"]),p("div",UUe,[l(W,{variant:"outlined",color:"primary","prepend-icon":"mdi-upload",onClick:B,disabled:!f.value,loading:A.value,class:"btn-hover-enhanced"},{default:d(()=>[...E[16]||(E[16]=[Q(" Start Import ",-1)])]),_:1},8,["disabled","loading"])]),l(le,{class:"my-4"}),p("div",RUe,[E[17]||(E[17]=p("div",{class:"mb-2"},[p("strong",null,"Current Configuration:")],-1)),a.value.selectedEMR?(V(),ye("div",NUe," EMR System: "+J(w(a.value.selectedEMR)),1)):Be("",!0),a.value.importFile?(V(),ye("div",LUe," File: "+J(a.value.importFile[0]?.name||"File selected"),1)):Be("",!0),!a.value.selectedEMR&&!a.value.importFile?(V(),ye("div",VUe," Please configure import settings ")):Be("",!0)]),m.value?(V(),ye("div",MUe,[l(W,{variant:"outlined",color:"secondary","prepend-icon":"mdi-filter-remove",onClick:S,class:"btn-hover-enhanced"},{default:d(()=>[...E[18]||(E[18]=[Q(" Clear All Filters ",-1)])]),_:1})])):Be("",!0)])]),_:1})}}},QUe=on(OUe,[["__scopeId","data-v-c33e6790"]]),HUe={class:"filter-cards-container pa-2",style:{flex:"1 1 auto"}},KUe={class:"d-flex justify-center mt-4"},GUe={key:0,class:"d-flex justify-center mt-4"},zUe={__name:"ExportFilter",props:{filters:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},emits:["filter-change","start-export","clear-filters"],setup(e,{emit:t}){const n=e,r=t,a=H({dataTypes:{patients:n.filters.dataTypes?.patients!==void 0?n.filters.dataTypes.patients:!0,medicines:n.filters.dataTypes?.medicines!==void 0?n.filters.dataTypes.medicines:!1},dateFrom:n.filters.dateFrom||"",dateTo:n.filters.dateTo||""}),s=H(n.filters.dataTypes?.patients?"patients":n.filters.dataTypes?.medicines?"medicines":"patients"),o=Z(()=>n.loading),i=Z(()=>new Date().toISOString().split("T")[0]),c=Z(()=>!o.value&&A.value),A=Z(()=>s.value!==null&&s.value!==""),u=Z(()=>a.value.dateFrom||a.value.dateTo||s.value!=="patients"),f=y=>{a.value.dataTypes={patients:!1,medicines:!1},y&&(a.value.dataTypes[y]=!0),m()},m=()=>{r("filter-change",{...a.value})},v=()=>{r("start-export",{...a.value})},h=()=>{s.value="patients",a.value={dataTypes:{patients:!0,medicines:!1},dateFrom:"",dateTo:""},r("clear-filters"),m()};return Ge(()=>n.filters,y=>{a.value={...a.value,...y},y.dataTypes&&(s.value=y.dataTypes.patients?"patients":y.dataTypes.medicines?"medicines":"patients")},{deep:!0}),f(s.value),(y,w)=>{const b=D("v-icon"),B=D("v-card-title"),S=D("v-radio"),T=D("v-radio-group"),N=D("v-card-text"),k=D("v-card"),E=D("v-text-field"),_=D("v-btn");return V(),he(k,{color:"surfaceContainer",flat:"",style:{height:"100%",display:"flex","flex-direction":"column"}},{default:d(()=>[p("div",HUe,[l(k,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(B,{class:"pa-0 pb-2"},{default:d(()=>[l(b,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...w[3]||(w[3]=[Q("mdi-database-outline",-1)])]),_:1}),w[4]||(w[4]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Data Types to Export",-1))]),_:1}),l(N,{class:"pa-0"},{default:d(()=>[l(T,{modelValue:s.value,"onUpdate:modelValue":[w[0]||(w[0]=C=>s.value=C),f],"hide-details":""},{default:d(()=>[l(S,{value:"patients",label:"Patient Records",density:"compact"}),l(S,{value:"medicines",label:"Medicines",density:"compact"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(k,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(B,{class:"pa-0 pb-2"},{default:d(()=>[l(b,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...w[5]||(w[5]=[Q("mdi-calendar-range",-1)])]),_:1}),w[6]||(w[6]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Date Range (Optional)",-1))]),_:1}),l(N,{class:"pa-0"},{default:d(()=>[l(E,{modelValue:a.value.dateFrom,"onUpdate:modelValue":[w[1]||(w[1]=C=>a.value.dateFrom=C),m],label:"From Date",type:"date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-start",class:"input-hover",max:a.value.dateTo||i.value},null,8,["modelValue","max"]),l(E,{modelValue:a.value.dateTo,"onUpdate:modelValue":[w[2]||(w[2]=C=>a.value.dateTo=C),m],label:"To Date",type:"date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-end",class:"input-hover mt-3",min:a.value.dateFrom,max:i.value},null,8,["modelValue","min","max"])]),_:1})]),_:1}),p("div",KUe,[l(_,{disabled:!c.value,loading:o.value,color:"primary",variant:"outlined","prepend-icon":"mdi-download",onClick:v,class:"btn-hover-enhanced"},{default:d(()=>[...w[7]||(w[7]=[Q(" Start Export ",-1)])]),_:1},8,["disabled","loading"])]),u.value?(V(),ye("div",GUe,[l(_,{variant:"outlined",color:"secondary","prepend-icon":"mdi-filter-remove",onClick:h,class:"btn-hover-enhanced"},{default:d(()=>[...w[8]||(w[8]=[Q(" Clear All Filters ",-1)])]),_:1})])):Be("",!0)])]),_:1})}}},$Ue=on(zUe,[["__scopeId","data-v-8e58da09"]]),WUe={class:"scrollable-content"},jUe={class:"scrollable-content"},JUe={key:1},qUe={class:"text-center"},YUe={class:"mt-4 text-subtitle-1"},XUe={class:"text-center"},ZUe={class:"scrollable-content"},eRe={class:"scrollable-content"},tRe={key:1},nRe={class:"text-center"},rRe={class:"mt-4 text-subtitle-1"},aRe={key:0,class:"mt-4"},sRe={class:"mb-2"},oRe={class:"mb-2"},iRe={key:0,class:"mb-2"},lRe={key:1},cRe={class:"text-center"},uRe={class:"mb-4"},dRe={class:"mb-4"},ARe={class:"text-caption"},fRe={key:0,class:"mb-4"},mRe={class:"mt-2"},hRe={key:1},vRe={__name:"data-page",setup(e){const t=H(0);zm();const n=H(null),r=H(!1),a=H(""),s=H(!1),o=H(""),i=H(!1),c=H(null),A=H(!1),u=H(0),f=H(""),m=H([]),v=H([]),h=H({selectedEMR:"",selectedDataType:"patients",importFile:null}),y=H(!1),w=H(0),b=H(""),B=H([]),S=H(null),T=H(!1),N=H({dataTypes:{patients:!0,medicines:!1},dateFrom:"",dateTo:""}),k=H([{title:"Data Type",key:"type",sortable:!0},{title:"Import Source",key:"importSource",sortable:!0},{title:"Records Processed",key:"processed",sortable:!0},{title:"Records Imported",key:"imported",sortable:!0},{title:"Duplicates Skipped",key:"duplicates",sortable:!0},{title:"With Import ID",key:"withImportID",sortable:!0},{title:"Errors",key:"errors",sortable:!0},{title:"Status",key:"status",sortable:!0}]),E=H([{title:"Date",key:"date",sortable:!0},{title:"Format",key:"format",sortable:!0},{title:"Data Types",key:"dataTypes",sortable:!0},{title:"Records",key:"recordCount",sortable:!0},{title:"Status",key:"status",sortable:!0},{title:"Actions",key:"actions",sortable:!1}]),_=H([{title:"Row",key:"row",sortable:!0,width:"80px"},{title:"Patient Data",key:"patientData",sortable:!1},{title:"Error",key:"error",sortable:!1},{title:"Actions",key:"actions",sortable:!1,width:"100px"}]),C=H([{title:"IMPORT",disabled:!1},{title:"EXPORT",disabled:!1}]),F=ee=>{h.value={...h.value,...ee}},I=ee=>{N.value={...N.value,...ee}},R=()=>{h.value={selectedEMR:"",selectedDataType:"patients",importFile:null}},M=ee=>{ee.success?(r.value=!0,a.value=`Evamed template downloaded successfully: ${ee.filename}`):(s.value=!0,o.value=`Failed to download template: ${ee.error}`)},te=()=>{N.value={dataTypes:{patients:!0,medicines:!1},dateFrom:"",dateTo:""}},se=async ee=>{try{if(A.value=!0,u.value=0,f.value="Initializing import...",m.value=[],v.value=[],console.log("Starting import with filters:",ee),!ee.importFile)throw new Error("No file selected for import");if(!ee.selectedEMR)throw new Error("No EMR system selected");let j;if(Array.isArray(ee.importFile))j=ee.importFile[0];else if(ee.importFile instanceof File)j=ee.importFile;else throw new Error("Invalid file format");if(!j)throw new Error("No valid file found");const U=ee.selectedEMR;if(console.log("Processing file:",j.name,"for EMR:",U),console.log("Full filterData:",ee),!U||U.trim()==="")throw new Error("EMR system is required and cannot be empty");f.value="Saving import file...";const G=await lH(j,U);if(!G.success)throw new Error(`Failed to save import file: ${G.error}`);u.value=10,console.log(`Import file saved: ${G.fileName}`),f.value="Reading and validating file...";const{readImportFile:ne,validateFileHeaders:X}=await Ca(async()=>{const{readImportFile:Ae,validateFileHeaders:ie}=await Promise.resolve().then(()=>xUe);return{readImportFile:Ae,validateFileHeaders:ie}},void 0);let oe;try{oe=await ne(j,U)}catch(Ae){throw new Error(`Failed to read file: ${Ae.message}`)}const q=X(oe.headers,U);if(!q.isValid)throw new Error(`File validation failed: ${q.error}`);u.value=20;const Y=uH(oe.totalRows);f.value=`Processing ${oe.totalRows} patient records (${Y})...`;const ae=await iH(oe,U,Ae=>{if(Ae.phase==="mapping")u.value=20+Ae.current/Ae.total*30,f.value=`Mapping data: ${Ae.current} of ${Ae.total}`,Ae.currentPatient&&(f.value+=` (${Ae.currentPatient})`);else if(Ae.phase==="duplicate-check")u.value=50+Ae.current/Ae.total*10,f.value=Ae.message||"Checking for existing patients...";else if(Ae.phase==="bulk-insert")u.value=60+Ae.current/Ae.total*30,f.value=Ae.message||"Bulk inserting patients...";else if(Ae.phase==="complete"&&(u.value=90+Ae.current/Ae.total*10,f.value=Ae.message||"Import completed!",Ae.successful>0||Ae.failed>0||Ae.duplicates>0)){const ie=[];Ae.successful>0&&ie.push(`Success: ${Ae.successful}`),Ae.failed>0&&ie.push(`Failed: ${Ae.failed}`),Ae.duplicates>0&&ie.push(`Duplicates: ${Ae.duplicates}`),f.value+=` - ${ie.join(", ")}`}Ae.lastError&&Ae.failed>0&&console.warn("Import error:",Ae.lastError)});v.value=ae.errors||[];const ge=ae.patients?ae.patients.filter(Ae=>Ae.importID&&Ae.importID.trim()!=="").length:0;u.value=100,A.value=!1;const we=U==="practo"?"Practo":U==="ekacare"?"Eka.Care":U==="healthplix"?"Healthplix":U==="evamed-custom"?"Evamed Custom Template":U==="tatvacare"?"TatvaCare":U;m.value=[{type:"Patient Records",importSource:we,processed:ae.total,imported:ae.successful,duplicates:ae.duplicates||0,withImportID:ge,errors:ae.failed,status:ae.failed===0?"Success":"Partial Success"}];const z=ae.duplicates||0;if(ae.failed===0&&z===0)f.value=`${we} import completed successfully! ${ae.successful} patients imported.`,r.value=!0,a.value=`Successfully imported ${ae.successful} patients from ${we}!`;else if(ae.failed===0&&z>0)f.value=`${we} import completed successfully! ${ae.successful} patients imported, ${z} duplicates skipped.`,r.value=!0,a.value=`Successfully imported ${ae.successful} patients from ${we} (${z} duplicates skipped)!`;else{const Ae=z>0?`, ${z} duplicates skipped`:"";f.value=`${we} import completed with ${ae.failed} errors. ${ae.successful} patients imported successfully${Ae}.`,s.value=!0,o.value=`${we} import completed with ${ae.failed} errors out of ${ae.total} records${Ae}.`}console.log("Import Results:",ae),ae.errors.length>0&&console.log("Import Errors:",ae.errors)}catch(j){console.error("Import error:",j),A.value=!1,u.value=0,s.value=!0,o.value="Import failed: "+j.message,f.value=`Import failed: ${j.message}`}},O=async ee=>{try{y.value=!0,w.value=0,b.value="Preparing export...",S.value=null,T.value=!1,console.log("Starting export with filters:",ee),w.value=10,b.value="Collecting data...";const j=await EUe(ee);if(!j.success)throw new Error(j.error||"Failed to collect export data");w.value=50,b.value=`Found ${j.summary.totalRecords} records. Formatting data...`;const U=SUe(j);w.value=80,b.value="Preparing file for download...";const G=await TUe(U,j.summary);if(!G.success)throw new Error(G.error||"Failed to save export file");w.value=100,b.value="Export completed successfully!",S.value={...j.summary,filePath:G.filePath,filename:G.filename},T.value=!0;const ne={id:Date.now().toString(),date:new Date().toLocaleDateString(),format:"CSV",dataTypes:j.summary.dataTypes.map(X=>X.displayName).join(", "),recordCount:j.summary.totalRecords,status:"Completed",filePath:G.filePath,filename:G.filename};B.value.unshift(ne),r.value=!0,a.value=`Export completed! ${j.summary.totalRecords} records exported.`}catch(j){console.error("Export error:",j),y.value=!1,w.value=0,b.value="",T.value=!1,s.value=!0,o.value="Export failed: "+j.message}finally{setTimeout(()=>{T.value&&(y.value=!1)},1500)}},W=ee=>{console.log("Opening export:",ee),window.require.electronAPI&&ee.filePath&&window.require.electronAPI.showItemInFolder(ee.filePath),r.value=!0,a.value=`Opened ${ee.format} export location`},le=ee=>{if(!ee||!Array.isArray(ee))return"No data available";const j=ee[0]||"Unknown",U=ee[3]||ee[1]||"No contact";return`${j} (${U})`},K=ee=>{let j=null;ee.mappedData&&(j={source:ee.mappedData.importSource||"Unknown",importID:ee.mappedData.importID||null}),c.value={row:ee.row,patientData:ee.patientData,error:ee.error,formattedData:le(ee.patientData),importInfo:j},i.value=!0};return fn(()=>{try{console.log("Data page initialized")}catch(ee){console.error("Error setting up data page:",ee),n.value="Failed to initialize data page"}}),(ee,j)=>{const U=D("v-alert"),G=D("v-tab"),ne=D("v-tabs"),X=D("v-card"),oe=D("v-col"),q=D("v-row"),Y=D("v-card-text"),ae=D("v-progress-circular"),ge=D("v-data-table"),we=D("v-icon"),z=D("v-expansion-panel-title"),Ae=D("v-chip"),ie=D("v-btn"),_e=D("v-expansion-panel-text"),Pe=D("v-expansion-panel"),re=D("v-expansion-panels"),be=D("v-window-item"),He=D("v-card-title"),ke=D("v-window"),Se=D("v-snackbar"),st=D("v-spacer"),je=D("v-card-actions"),Ve=D("v-dialog"),Te=D("v-main");return V(),he(Te,null,{default:d(()=>[n.value?(V(),he(U,{key:0,type:"error",dismissible:"","onClick:close":j[0]||(j[0]=Le=>n.value=null),class:"ma-3"},{default:d(()=>[Q(J(n.value),1)]),_:1})):Be("",!0),l(q,{"no-gutters":"",class:"pl-3 pr-3 mb-2",style:{height:"50px"}},{default:d(()=>[l(oe,{cols:"12"},{default:d(()=>[l(X,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex align-center"},{default:d(()=>[l(ne,{modelValue:t.value,"onUpdate:modelValue":j[1]||(j[1]=Le=>t.value=Le),color:"primary","align-tabs":"start",class:"w-100"},{default:d(()=>[(V(!0),ye(ze,null,Jt(C.value,(Le,ht)=>(V(),he(G,{key:ht,value:ht,disabled:Le.disabled},{default:d(()=>[Q(J(Le.title),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(ke,{modelValue:t.value,"onUpdate:modelValue":j[2]||(j[2]=Le=>t.value=Le),class:"pl-3 pr-3 stable-height-main"},{default:d(()=>[l(be,{value:0,style:{height:"100%"}},{default:d(()=>[l(q,{"aria-label":"import row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(oe,{cols:"4",order:"1",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",WUe,[l(QUe,{filters:h.value,loading:A.value,onFilterChange:F,onStartImport:se,onClearFilters:R,onTemplateDownloaded:M},null,8,["filters","loading"])])]),_:1}),l(oe,{cols:"8",order:"2",class:"pl-1 stable-height-column"},{default:d(()=>[p("div",jUe,[l(X,{flat:"",color:"surfaceContainer",style:{height:"100%"}},{default:d(()=>[l(X,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(Y,{class:"pt-2 pb-0 d-flex align-center justify-center"},{default:d(()=>[m.value.length>0?(V(),ye(ze,{key:0},[p("strong",null,J(m.value[0]?.imported||0),1),j[7]||(j[7]=Q(" records imported ",-1))],64)):(V(),ye("strong",JUe,"Import Data"))]),_:1})]),_:1}),A.value?(V(),he(q,{key:0,"no-gutters":""},{default:d(()=>[l(oe,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",qUe,[l(ae,{indeterminate:"",color:"primary",size:"64"}),p("div",YUe,J(f.value||"Processing import..."),1)])]),_:1})]),_:1})):m.value.length>0?(V(),he(q,{key:1,"no-gutters":""},{default:d(()=>[l(oe,{cols:"12",class:"scroll-element mt-2",style:{"padding-bottom":"20px"}},{default:d(()=>[l(ge,{headers:k.value,items:m.value,class:"elevation-1 ma-2",density:"comfortable"},null,8,["headers","items"]),v.value.length>0?(V(),he(re,{key:0,class:"ma-2"},{default:d(()=>[l(Pe,null,{default:d(()=>[l(z,null,{default:d(()=>[l(we,{color:"error",class:"mr-2"},{default:d(()=>[...j[8]||(j[8]=[Q("mdi-alert-circle",-1)])]),_:1}),Q(" Failed Records ("+J(v.value.length)+") ",1)]),_:1}),l(_e,null,{default:d(()=>[l(ge,{headers:_.value,items:v.value,class:"elevation-1",density:"comfortable","items-per-page":10,"items-per-page-options":[5,10,25,50]},{"item.patientData":d(({item:Le})=>[l(Ae,{size:"small",color:"grey",variant:"outlined"},{default:d(()=>[Q(J(le(Le.patientData)),1)]),_:2},1024)]),"item.error":d(({item:Le})=>[l(Ae,{size:"small",color:"error",variant:"outlined"},{default:d(()=>[Q(J(Le.error),1)]),_:2},1024)]),"item.actions":d(({item:Le})=>[l(ie,{size:"small",color:"primary",variant:"text",onClick:ht=>K(Le)},{default:d(()=>[l(we,{size:"small"},{default:d(()=>[...j[9]||(j[9]=[Q("mdi-eye",-1)])]),_:1}),j[10]||(j[10]=Q(" Details ",-1))]),_:1},8,["onClick"])]),_:2},1032,["headers","items"])]),_:1})]),_:1})]),_:1})):Be("",!0)]),_:1})]),_:1})):(V(),he(q,{key:2,"no-gutters":"",style:{height:"calc(100% - 60px)"}},{default:d(()=>[l(oe,{cols:"12",class:"d-flex justify-center align-center",style:{height:"100%"}},{default:d(()=>[p("div",XUe,[l(we,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...j[11]||(j[11]=[Q("mdi-cloud-upload",-1)])]),_:1}),j[12]||(j[12]=p("div",{class:"text-h6 mb-2"},"Import Data",-1)),j[13]||(j[13]=p("div",{class:"text-body-2 text-medium-emphasis"},"Select EMR system and file to begin import process",-1))])]),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1}),l(be,{value:1,style:{height:"100%"}},{default:d(()=>[l(q,{"aria-label":"export row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(oe,{cols:"4",order:"1",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",ZUe,[l($Ue,{filters:N.value,loading:y.value,onFilterChange:I,onStartExport:O,onClearFilters:te},null,8,["filters","loading"])])]),_:1}),l(oe,{cols:"8",order:"2",class:"pl-1 stable-height-column"},{default:d(()=>[p("div",eRe,[l(X,{flat:"",color:"surfaceContainer",style:{height:"100%"}},{default:d(()=>[l(X,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(Y,{class:"pt-2 pb-0 d-flex align-center justify-center"},{default:d(()=>[B.value.length>0?(V(),ye(ze,{key:0},[p("strong",null,J(B.value.length),1),Q(" export"+J(B.value.length!==1?"s":"")+" available ",1)],64)):(V(),ye("strong",tRe,"Export Data"))]),_:1})]),_:1}),y.value?(V(),he(q,{key:0,"no-gutters":""},{default:d(()=>[l(oe,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",nRe,[l(ae,{"model-value":w.value,color:"primary",size:"64",width:"6"},{default:d(()=>[Q(J(w.value)+"% ",1)]),_:1},8,["model-value"]),p("div",rRe,J(b.value||"Processing export..."),1),S.value?(V(),ye("div",aRe,[l(X,{class:"mx-auto","max-width":"300",outlined:""},{default:d(()=>[l(He,{class:"text-h6"},{default:d(()=>[...j[14]||(j[14]=[Q("Export Summary",-1)])]),_:1}),l(Y,null,{default:d(()=>[p("div",sRe,[j[15]||(j[15]=p("strong",null,"Total Records:",-1)),Q(" "+J(S.value.totalRecords),1)]),p("div",oRe,[j[16]||(j[16]=p("strong",null,"Data Types:",-1)),(V(!0),ye(ze,null,Jt(S.value.dataTypes,Le=>(V(),ye("div",{key:Le.type,class:"ml-2"},J(Le.displayName)+": "+J(Le.count)+" records ",1))),128))]),S.value.dateRange?(V(),ye("div",iRe,[j[17]||(j[17]=p("strong",null,"Date Range:",-1)),Q(" "+J(S.value.dateRange.from)+" - "+J(S.value.dateRange.to),1)])):Be("",!0),T.value&&S.value.filename?(V(),ye("div",lRe,[j[18]||(j[18]=p("strong",null,"File:",-1)),Q(" "+J(S.value.filename),1)])):Be("",!0)]),_:1})]),_:1})])):Be("",!0)])]),_:1})]),_:1})):B.value.length>0?(V(),he(q,{key:1,"no-gutters":""},{default:d(()=>[l(oe,{cols:"12",class:"scroll-element mt-2",style:{"padding-bottom":"20px"}},{default:d(()=>[l(ge,{headers:E.value,items:B.value,class:"elevation-1 ma-2",density:"comfortable"},{"item.actions":d(({item:Le})=>[l(ie,{size:"small",color:"primary",variant:"text",onClick:ht=>W(Le)},{default:d(()=>[l(we,null,{default:d(()=>[...j[19]||(j[19]=[Q("mdi-download",-1)])]),_:1}),j[20]||(j[20]=Q(" Download ",-1))]),_:1},8,["onClick"])]),_:2},1032,["headers","items"])]),_:1})]),_:1})):(V(),he(q,{key:2,"no-gutters":"",style:{height:"calc(100% - 60px)"}},{default:d(()=>[l(oe,{cols:"12",class:"d-flex justify-center align-center",style:{height:"100%"}},{default:d(()=>[p("div",cRe,[l(we,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...j[21]||(j[21]=[Q("mdi-download",-1)])]),_:1}),j[22]||(j[22]=p("div",{class:"text-h6 mb-2"},"Export Data",-1)),j[23]||(j[23]=p("div",{class:"text-body-2 text-medium-emphasis"},"Configure export settings and start export process",-1))])]),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(Se,{modelValue:r.value,"onUpdate:modelValue":j[3]||(j[3]=Le=>r.value=Le),class:"elevation-24",color:"success"},{default:d(()=>[Q(J(a.value),1)]),_:1},8,["modelValue"]),l(Se,{modelValue:s.value,"onUpdate:modelValue":j[4]||(j[4]=Le=>s.value=Le),class:"elevation-24",color:"error"},{default:d(()=>[Q(J(o.value),1)]),_:1},8,["modelValue"]),l(Ve,{modelValue:i.value,"onUpdate:modelValue":j[6]||(j[6]=Le=>i.value=Le),"max-width":"600px"},{default:d(()=>[l(X,null,{default:d(()=>[l(He,{class:"text-h6"},{default:d(()=>[l(we,{color:"error",class:"mr-2"},{default:d(()=>[...j[24]||(j[24]=[Q("mdi-alert-circle",-1)])]),_:1}),Q(" Error Details - Row "+J(c.value?.row),1)]),_:1}),l(Y,null,{default:d(()=>[l(q,null,{default:d(()=>[l(oe,{cols:"12"},{default:d(()=>[p("div",uRe,[j[25]||(j[25]=p("strong",null,"Error Message:",-1)),l(Ae,{color:"error",variant:"outlined",class:"ml-2"},{default:d(()=>[Q(J(c.value?.error),1)]),_:1})]),p("div",dRe,[j[26]||(j[26]=p("strong",null,"Patient Data:",-1)),l(X,{variant:"outlined",class:"mt-2 pa-3"},{default:d(()=>[p("pre",ARe,J(JSON.stringify(c.value?.patientData,null,2)),1)]),_:1})]),c.value?.importInfo?(V(),ye("div",fRe,[j[28]||(j[28]=p("strong",null,"Import Information:",-1)),p("div",mRe,[l(Ae,{color:"info",variant:"outlined",class:"mr-2"},{default:d(()=>[Q(" Source: "+J(c.value.importInfo.source),1)]),_:1}),c.value.importInfo.importID?(V(),he(Ae,{key:0,color:"secondary",variant:"outlined"},{default:d(()=>[Q(" ID: "+J(c.value.importInfo.importID),1)]),_:1})):(V(),he(Ae,{key:1,color:"warning",variant:"outlined"},{default:d(()=>[...j[27]||(j[27]=[Q(" No Import ID ",-1)])]),_:1}))])])):Be("",!0),c.value?.formattedData?(V(),ye("div",hRe,[j[29]||(j[29]=p("strong",null,"Formatted Data:",-1)),l(Ae,{color:"primary",variant:"outlined",class:"ml-2"},{default:d(()=>[Q(J(c.value.formattedData),1)]),_:1})])):Be("",!0)]),_:1})]),_:1})]),_:1}),l(je,null,{default:d(()=>[l(st),l(ie,{color:"primary",onClick:j[5]||(j[5]=Le=>i.value=!1)},{default:d(()=>[...j[30]||(j[30]=[Q(" Close ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},pRe=on(vRe,[["__scopeId","data-v-6276ee90"]]),gRe={class:"filter-cards-container px-2 pb-2",style:{flex:"1 1 auto"}},yRe={key:0,class:"text-caption"},wRe={class:"d-flex justify-center mt-2 mb-2"},_Re={class:"d-flex justify-center mt-2"},bRe={__name:"ResearchFilter",props:{modelValueDiagnosis:{type:String,default:null},modelValueMedicine:{type:String,default:null},modelValueDateFrom:{type:String,default:""},modelValueDateTo:{type:String,default:""},modelValuePatientName:{type:String,default:""},modelValueGender:{type:String,default:""},modelValueAgeGreaterThan:{type:[String,Number],default:""},modelValueAgeLessThan:{type:[String,Number],default:""},maxDate:{type:String,default:()=>Jn()},isSearching:{type:Boolean,default:!1}},emits:["update:modelValueDiagnosis","update:modelValueMedicine","update:modelValueDateFrom","update:modelValueDateTo","update:modelValuePatientName","update:modelValueGender","update:modelValueAgeGreaterThan","update:modelValueAgeLessThan","filter-change","search","clear-filters"],setup(e,{emit:t}){const n=e,r=t,a=H(n.modelValueDiagnosis),s=H(n.modelValueMedicine),o=H(n.modelValueDateFrom),i=H(n.modelValueDateTo),c=H(n.modelValuePatientName),A=H(n.modelValueGender),u=H(n.modelValueAgeGreaterThan),f=H(n.modelValueAgeLessThan),m=H(""),v=H(""),h=H(""),y=H(""),w=H(""),b=H(""),B=H(""),S=H(""),T=H(""),N=H([]),k=H(!1),E=[{title:"Male",value:"Male"},{title:"Female",value:"Female"}],_=Z(()=>!!(m.value||v.value||h.value||y.value||w.value||b.value||B.value||S.value));Ge(()=>n.modelValueDiagnosis,le=>{a.value=le}),Ge(()=>n.modelValueMedicine,le=>{s.value=le}),Ge(()=>n.modelValueDateFrom,le=>{o.value=le}),Ge(()=>n.modelValueDateTo,le=>{i.value=le}),Ge(()=>n.modelValuePatientName,le=>{c.value=le}),Ge(()=>n.modelValueGender,le=>{A.value=le}),Ge(()=>n.modelValueAgeGreaterThan,le=>{u.value=le}),Ge(()=>n.modelValueAgeLessThan,le=>{f.value=le}),Ge(a,le=>{r("update:modelValueDiagnosis",le),F()}),Ge(s,le=>{r("update:modelValueMedicine",le),F()}),Ge(o,le=>{r("update:modelValueDateFrom",le),M(),te(),F()}),Ge(i,le=>{r("update:modelValueDateTo",le),te(),M(),F()}),Ge(c,le=>{r("update:modelValuePatientName",le),F()}),Ge(A,le=>{r("update:modelValueGender",le),F()}),Ge(u,le=>{r("update:modelValueAgeGreaterThan",le),se(),F()}),Ge(f,le=>{r("update:modelValueAgeLessThan",le),se(),F()});let C=null;const F=()=>{const le=typeof s.value=="object"&&s.value!==null?s.value.productName:s.value;r("filter-change",{diagnosis:a.value,medicine:le,dateFrom:o.value,dateTo:i.value,patientName:c.value,gender:A.value,ageGreaterThan:u.value,ageLessThan:f.value,hasErrors:_.value})},I=()=>{if(!_.value){const le={diagnosis:a.value,medicine:s.value,dateFrom:o.value,dateTo:i.value,patientName:c.value,gender:A.value,ageGreaterThan:u.value,ageLessThan:f.value};console.log(" ResearchFilter: Starting search with filters"),r("search",le)}},R=()=>{a.value=null,s.value=null,o.value="",i.value="",c.value="",A.value="",u.value="",f.value="",T.value="",m.value="",v.value="",h.value="",y.value="",w.value="",b.value="",B.value="",S.value="",r("clear-filters")},M=()=>{h.value="",o.value&&i.value&&o.value>i.value&&(h.value="From date cannot be after to date")},te=()=>{y.value="",o.value&&i.value&&i.value<o.value&&(y.value="To date cannot be before from date")},se=()=>{B.value="",S.value="",u.value&&(isNaN(u.value)||u.value<0)&&(B.value="Please enter a valid age"),f.value&&(isNaN(f.value)||f.value<0)&&(S.value="Please enter a valid age"),u.value&&f.value&&parseInt(u.value)>=parseInt(f.value)&&(B.value='Must be less than "Age less than"',S.value='Must be greater than "Age greater than"')},O=le=>{clearTimeout(C),C=setTimeout(()=>{W(le)},300)},W=async le=>{k.value=!0;try{const K=await _k(le);if(K.error)N.value=[];else{const ee=K.data||[];N.value=ee.filter(j=>j.isLocal===!0)}}catch(K){console.error("Error fetching medicines:",K),N.value=[]}finally{k.value=!1}};return(le,K)=>{const ee=D("v-icon"),j=D("v-card-title"),U=D("v-text-field"),G=D("v-card-text"),ne=D("v-card"),X=D("v-list-item"),oe=D("v-list-item-title"),q=D("v-autocomplete"),Y=D("v-col"),ae=D("v-row"),ge=D("v-select"),we=D("v-btn");return V(),he(ne,{color:"surfaceContainer",flat:"",style:{height:"100%",display:"flex","flex-direction":"column"}},{default:d(()=>[p("div",gRe,[l(ne,{class:"form-section-card card-status-default mx-2 mt-1 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(j,{class:"pa-0 pb-2"},{default:d(()=>[l(ee,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...K[10]||(K[10]=[Q("mdi-medical-bag",-1)])]),_:1}),K[11]||(K[11]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Diagnosis",-1))]),_:1}),l(G,{class:"pa-0"},{default:d(()=>[l(U,{modelValue:a.value,"onUpdate:modelValue":K[0]||(K[0]=z=>a.value=z),placeholder:"Enter diagnosis name...",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-medical-bag",class:"input-hover","error-messages":m.value,maxlength:"100"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),l(ne,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(j,{class:"pa-0 pb-2"},{default:d(()=>[l(ee,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...K[12]||(K[12]=[Q("mdi-pill",-1)])]),_:1}),K[13]||(K[13]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Medicine",-1))]),_:1}),l(G,{class:"pa-0"},{default:d(()=>[l(q,{modelValue:s.value,"onUpdate:modelValue":K[1]||(K[1]=z=>s.value=z),search:T.value,"onUpdate:search":[K[2]||(K[2]=z=>T.value=z),O],items:N.value,loading:k.value,"item-title":"productName","item-value":"item","return-object":"",placeholder:"Search for medicine...",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-magnify",class:"input-hover","error-messages":v.value},{item:d(({props:z,item:Ae})=>[l(X,Ne(z,{title:Ae.raw.productName}),{subtitle:d(()=>[Ae.raw.marketer?(V(),ye("span",yRe,J(Ae.raw.marketer),1)):Be("",!0)]),append:d(()=>[l(ee,null,{default:d(()=>[...K[14]||(K[14]=[p("img",{src:Xc,alt:"Saved Medicine"},null,-1)])]),_:1})]),_:2},1040,["title"])]),"no-data":d(()=>[T.value&&T.value.length>=3?(V(),he(X,{key:0},{default:d(()=>[l(oe,null,{default:d(()=>[Q('No medicines found matching "'+J(T.value)+'"',1)]),_:1})]),_:1})):(V(),he(X,{key:1},{default:d(()=>[l(oe,null,{default:d(()=>[...K[15]||(K[15]=[Q("Type at least 3 characters to search",-1)])]),_:1})]),_:1}))]),_:1},8,["modelValue","search","items","loading","error-messages"])]),_:1})]),_:1}),l(ne,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(j,{class:"pa-0 pb-2"},{default:d(()=>[l(ee,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...K[17]||(K[17]=[Q("mdi-calendar-range",-1)])]),_:1}),K[18]||(K[18]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Date Range",-1))]),_:1}),l(G,{class:"pa-0"},{default:d(()=>[l(ae,{dense:""},{default:d(()=>[l(Y,{cols:"6"},{default:d(()=>[l(U,{modelValue:o.value,"onUpdate:modelValue":K[3]||(K[3]=z=>o.value=z),type:"date",label:"From Date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-start",class:"input-hover date-input",max:i.value||e.maxDate,"error-messages":h.value,onInput:M,onClick:K[4]||(K[4]=z=>z.target.showPicker&&z.target.showPicker())},null,8,["modelValue","max","error-messages"])]),_:1}),l(Y,{cols:"6"},{default:d(()=>[l(U,{modelValue:i.value,"onUpdate:modelValue":K[5]||(K[5]=z=>i.value=z),type:"date",label:"To Date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-end",class:"input-hover date-input",min:o.value,max:e.maxDate,"error-messages":y.value,onInput:te,onClick:K[6]||(K[6]=z=>z.target.showPicker&&z.target.showPicker())},null,8,["modelValue","min","max","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),l(ne,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(j,{class:"pa-0 pb-2"},{default:d(()=>[l(ee,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...K[19]||(K[19]=[Q("mdi-human-male-female",-1)])]),_:1}),K[20]||(K[20]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Demographics",-1))]),_:1}),l(G,{class:"pa-0"},{default:d(()=>[l(ae,{dense:""},{default:d(()=>[l(Y,{cols:"12",class:"mb-2"},{default:d(()=>[l(ge,{modelValue:A.value,"onUpdate:modelValue":K[7]||(K[7]=z=>A.value=z),items:E,label:"Gender",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-human-male-female",class:"input-hover","error-messages":b.value},null,8,["modelValue","error-messages"])]),_:1}),l(Y,{cols:"6"},{default:d(()=>[l(U,{modelValue:u.value,"onUpdate:modelValue":K[8]||(K[8]=z=>u.value=z),type:"number",label:"Age Greater Than",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-plus",class:"input-hover","error-messages":B.value,min:"0",max:"150"},null,8,["modelValue","error-messages"])]),_:1}),l(Y,{cols:"6"},{default:d(()=>[l(U,{modelValue:f.value,"onUpdate:modelValue":K[9]||(K[9]=z=>f.value=z),type:"number",label:"Age Less Than",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-minus",class:"input-hover","error-messages":S.value,min:"0",max:"150"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),p("div",wRe,[l(we,{color:"primary","prepend-icon":"mdi-database-search",onClick:I,loading:e.isSearching,disabled:_.value,class:"btn-hover-enhanced"},{default:d(()=>[...K[21]||(K[21]=[Q(" Search Consultations ",-1)])]),_:1},8,["loading","disabled"])]),p("div",_Re,[l(we,{variant:"outlined",color:"secondary","prepend-icon":"mdi-filter-remove",onClick:R,class:"btn-hover-enhanced"},{default:d(()=>[...K[22]||(K[22]=[Q(" Clear All Filters ",-1)])]),_:1})])])]),_:1})}}},xRe=on(bRe,[["__scopeId","data-v-f1d6f91b"]]),CRe={class:"filter-cards-container px-2 pb-2",style:{flex:"1 1 auto"}},ERe={class:"d-flex justify-center mt-2 mb-2"},BRe={class:"d-flex justify-center mt-2"},SRe={__name:"ProcedureResearchFilter",props:{modelValueProcedureName:{type:String,default:""},modelValueDateFrom:{type:String,default:""},modelValueDateTo:{type:String,default:""},modelValueGender:{type:String,default:""},modelValueAgeGreaterThan:{type:[String,Number],default:""},modelValueAgeLessThan:{type:[String,Number],default:""},maxDate:{type:String,default:()=>Jn()},isSearching:{type:Boolean,default:!1}},emits:["update:modelValueProcedureName","update:modelValueDateFrom","update:modelValueDateTo","update:modelValueGender","update:modelValueAgeGreaterThan","update:modelValueAgeLessThan","filter-change","search","clear-filters"],setup(e,{emit:t}){const n=e,r=t,a=H(n.modelValueProcedureName||""),s=H(n.modelValueDateFrom||""),o=H(n.modelValueDateTo||""),i=H(n.modelValueGender||""),c=H(n.modelValueAgeGreaterThan||""),A=H(n.modelValueAgeLessThan||""),u=H(""),f=H(""),m=H(""),v=H(""),h=H(""),y=H(""),w=["Male","Female"],b=Z(()=>!!(u.value||f.value||m.value||v.value||h.value||y.value)),B=()=>{f.value="",s.value&&o.value&&s.value>o.value&&(f.value="From date cannot be after To date"),s.value&&n.maxDate&&s.value>n.maxDate&&(f.value="From date cannot be in the future")},S=()=>{m.value="",s.value&&o.value&&o.value<s.value&&(m.value="To date cannot be before From date"),o.value&&n.maxDate&&o.value>n.maxDate&&(m.value="To date cannot be in the future")},T=()=>{h.value="",y.value="";const _=parseInt(c.value),C=parseInt(A.value);c.value&&(isNaN(_)||_<0||_>150)&&(h.value="Age must be between 0 and 150"),A.value&&(isNaN(C)||C<0||C>150)&&(y.value="Age must be between 0 and 150"),c.value&&A.value&&_>=C&&(h.value='Must be less than "Age Less Than"',y.value='Must be greater than "Age Greater Than"')},N=Gn.debounce(()=>{const _={procedureName:a.value,dateFrom:s.value,dateTo:o.value,gender:i.value,ageGreaterThan:c.value,ageLessThan:A.value};r("filter-change",_)},300);Ge(()=>n.modelValueProcedureName,_=>{_!==a.value&&(a.value=_||"")}),Ge(()=>n.modelValueDateFrom,_=>{_!==s.value&&(s.value=_||"")}),Ge(()=>n.modelValueDateTo,_=>{_!==o.value&&(o.value=_||"")}),Ge(()=>n.modelValueGender,_=>{_!==i.value&&(i.value=_||"")}),Ge(()=>n.modelValueAgeGreaterThan,_=>{_!==c.value&&(c.value=_||"")}),Ge(()=>n.modelValueAgeLessThan,_=>{_!==A.value&&(A.value=_||"")}),Ge(a,_=>{r("update:modelValueProcedureName",_),N()}),Ge(s,_=>{r("update:modelValueDateFrom",_),B(),S(),N()}),Ge(o,_=>{r("update:modelValueDateTo",_),S(),B(),N()}),Ge(i,_=>{r("update:modelValueGender",_),N()}),Ge(c,_=>{r("update:modelValueAgeGreaterThan",_),T(),N()}),Ge(A,_=>{r("update:modelValueAgeLessThan",_),T(),N()});const k=async()=>{if(B(),S(),T(),await An(),b.value){console.log(" Cannot search: validation errors present");return}const _={procedureName:a.value,dateFrom:s.value,dateTo:o.value,gender:i.value,ageGreaterThan:c.value,ageLessThan:A.value};console.log(" Procedure research search triggered with filters:",_),r("search",_)},E=()=>{a.value="",s.value="",o.value="",i.value="",c.value="",A.value="",u.value="",f.value="",m.value="",v.value="",h.value="",y.value="",r("clear-filters")};return(_,C)=>{const F=D("v-icon"),I=D("v-card-title"),R=D("v-text-field"),M=D("v-card-text"),te=D("v-card"),se=D("v-col"),O=D("v-row"),W=D("v-select"),le=D("v-btn");return V(),he(te,{color:"surfaceContainer",flat:"",style:{height:"100%",display:"flex","flex-direction":"column"}},{default:d(()=>[p("div",CRe,[l(te,{class:"form-section-card card-status-default mx-2 mt-1 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(I,{class:"pa-0 pb-2"},{default:d(()=>[l(F,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...C[8]||(C[8]=[Q("mdi-medical-bag",-1)])]),_:1}),C[9]||(C[9]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Procedure Name",-1))]),_:1}),l(M,{class:"pa-0"},{default:d(()=>[l(R,{modelValue:a.value,"onUpdate:modelValue":C[0]||(C[0]=K=>a.value=K),placeholder:"Enter procedure name...",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-medical-bag",class:"input-hover","error-messages":u.value,maxlength:"100"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),l(te,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(I,{class:"pa-0 pb-2"},{default:d(()=>[l(F,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...C[10]||(C[10]=[Q("mdi-calendar-range",-1)])]),_:1}),C[11]||(C[11]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Date Range",-1))]),_:1}),l(M,{class:"pa-0"},{default:d(()=>[l(O,{dense:""},{default:d(()=>[l(se,{cols:"6"},{default:d(()=>[l(R,{modelValue:s.value,"onUpdate:modelValue":C[1]||(C[1]=K=>s.value=K),type:"date",label:"From Date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-start",class:"input-hover date-input",max:o.value||e.maxDate,"error-messages":f.value,onInput:B,onClick:C[2]||(C[2]=K=>K.target.showPicker&&K.target.showPicker())},null,8,["modelValue","max","error-messages"])]),_:1}),l(se,{cols:"6"},{default:d(()=>[l(R,{modelValue:o.value,"onUpdate:modelValue":C[3]||(C[3]=K=>o.value=K),type:"date",label:"To Date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-end",class:"input-hover date-input",min:s.value,max:e.maxDate,"error-messages":m.value,onInput:S,onClick:C[4]||(C[4]=K=>K.target.showPicker&&K.target.showPicker())},null,8,["modelValue","min","max","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),l(te,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(I,{class:"pa-0 pb-2"},{default:d(()=>[l(F,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...C[12]||(C[12]=[Q("mdi-human-male-female",-1)])]),_:1}),C[13]||(C[13]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Demographics",-1))]),_:1}),l(M,{class:"pa-0"},{default:d(()=>[l(O,{dense:""},{default:d(()=>[l(se,{cols:"12",class:"mb-2"},{default:d(()=>[l(W,{modelValue:i.value,"onUpdate:modelValue":C[5]||(C[5]=K=>i.value=K),items:w,label:"Gender",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-human-male-female",class:"input-hover","error-messages":v.value},null,8,["modelValue","error-messages"])]),_:1}),l(se,{cols:"6"},{default:d(()=>[l(R,{modelValue:c.value,"onUpdate:modelValue":C[6]||(C[6]=K=>c.value=K),type:"number",label:"Age Greater Than",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-plus",class:"input-hover","error-messages":h.value,min:"0",max:"150"},null,8,["modelValue","error-messages"])]),_:1}),l(se,{cols:"6"},{default:d(()=>[l(R,{modelValue:A.value,"onUpdate:modelValue":C[7]||(C[7]=K=>A.value=K),type:"number",label:"Age Less Than",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-minus",class:"input-hover","error-messages":y.value,min:"0",max:"150"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),p("div",ERe,[l(le,{color:"primary","prepend-icon":"mdi-medical-bag",onClick:k,loading:e.isSearching,disabled:b.value,class:"btn-hover-enhanced"},{default:d(()=>[...C[14]||(C[14]=[Q(" Search Procedures ",-1)])]),_:1},8,["loading","disabled"])]),p("div",BRe,[l(le,{variant:"outlined",color:"secondary","prepend-icon":"mdi-filter-remove",onClick:E,disabled:e.isSearching,class:"btn-hover-enhanced"},{default:d(()=>[...C[15]||(C[15]=[Q(" Clear All Filters ",-1)])]),_:1},8,["disabled"])])])]),_:1})}}},kRe=on(SRe,[["__scopeId","data-v-1a060e25"]]),IRe={class:"scrollable-content"},TRe={class:"scrollable-content"},FRe={key:0,class:"text-medium-emphasis ml-2"},PRe={key:1},DRe={class:"text-center"},URe={class:"text-center"},RRe={class:"text-body-2 text-medium-emphasis mb-4"},NRe={class:"text-center"},LRe={class:"text-h4"},VRe={class:"text-h4"},MRe={class:"text-h4"},ORe={class:"text-h4"},QRe={class:"d-flex align-center"},HRe={class:"mr-2"},KRe={class:"text-caption text-medium-emphasis"},GRe={key:0,class:"text-body-2 mb-1"},zRe={key:1,class:"text-body-2"},$Re={class:"scrollable-content"},WRe={class:"scrollable-content"},jRe={key:0,class:"text-medium-emphasis ml-2"},JRe={key:1},qRe={class:"text-center"},YRe={class:"text-center"},XRe={class:"text-body-2 text-medium-emphasis mb-4"},ZRe={class:"text-center"},eNe={class:"text-h4"},tNe={class:"text-h4"},nNe={class:"text-h4"},rNe={class:"text-h4"},aNe={class:"d-flex align-center"},sNe={class:"mr-2"},oNe={class:"text-caption text-medium-emphasis"},iNe={key:0,class:"text-body-2 mb-1"},lNe={__name:"research-page",setup(e){const{showSnackbar:t}=dr(),n=pr(),r=H(0);zm();const a=au(),s=H(null),o=Z(()=>Jn()),i=H([{title:"Consultations",disabled:!1},{title:"Procedures",disabled:!1}]),c=H({diagnosis:null,medicine:null,dateFrom:"",dateTo:"",patientName:"",gender:"",ageGreaterThan:"",ageLessThan:""}),A=H({procedureName:"",dateFrom:"",dateTo:"",gender:"",ageGreaterThan:"",ageLessThan:""}),u=Z(()=>n.state.researchModule.searchResults),f=Z(()=>n.state.researchModule.isLoading),m=Z(()=>n.state.researchModule.hasSearched),v=Z(()=>n.state.researchModule.searchError),h=Z(()=>n.getters["researchModule/searchSummary"]),y=Z(()=>n.getters["researchModule/hasActiveFilters"]),w=Z(()=>n.getters["researchModule/activeFiltersText"]),b=Z(()=>u.value.length?new Set(u.value.map(Y=>Y.patientId)).size:0),B=Z(()=>u.value.length?new Set(u.value.filter(Y=>Y.diagnosis).map(Y=>Y.diagnosis)).size:0),S=Z(()=>{if(!u.value.length)return 0;const q=new Set;return u.value.forEach(Y=>{Y.medicines&&Array.isArray(Y.medicines)&&Y.medicines.forEach(ae=>q.add(ae.productName))}),q.size}),T=Z(()=>u.value.length),N=Z(()=>n.state.procedureResearchModule.searchResults),k=Z(()=>n.state.procedureResearchModule.isLoading),E=Z(()=>n.state.procedureResearchModule.hasSearched),_=Z(()=>n.state.procedureResearchModule.searchError),C=Z(()=>n.getters["procedureResearchModule/searchSummary"]),F=Z(()=>n.getters["procedureResearchModule/hasActiveFilters"]),I=Z(()=>n.getters["procedureResearchModule/activeFiltersText"]),R=Z(()=>N.value.length?new Set(N.value.map(Y=>Y.patientId)).size:0),M=Z(()=>N.value.length?new Set(N.value.filter(Y=>Y.procedureName).map(Y=>Y.procedureName)).size:0),te=Z(()=>N.value.length?new Set(N.value.filter(Y=>Y.treatmentPlanId).map(Y=>Y.treatmentPlanId)).size:0),se=Z(()=>N.value.length);fn(()=>{try{const q=n.state.researchModule.filters;c.value={...q};const Y=n.state.procedureResearchModule?.filters||{};A.value={...A.value,...Y},m.value&&u.value.length>0?(console.log(" Restored previous consultation research search:",u.value.length,"results"),t({message:`Restored previous search: ${u.value.length} results`,color:"success",timeout:3e3})):y.value&&!m.value&&console.log(" Active consultation filters found, ready to search"),E.value&&N.value.length>0?console.log(" Restored previous procedure research search:",N.value.length,"results"):F.value&&!E.value&&console.log(" Active procedure filters found, ready to search")}catch(q){console.error("Error setting up research page:",q),s.value="Failed to initialize research page"}});const O=async q=>{if(f.value){console.log(" Search in progress, skipping filter update");return}try{c.value={...c.value,...q},await n.dispatch("researchModule/updateFilters",{filters:c.value}),console.log(" Research filters updated:",c.value)}catch(Y){console.error("Error updating filters:",Y),s.value="Failed to update search filters"}},W=async(q=null)=>{if(f.value){console.log(" Search already in progress, skipping duplicate request");return}try{console.log(" Starting research search...");const Y=q||c.value;await n.dispatch("researchModule/updateFilters",{filters:Y});const ae=await n.dispatch("researchModule/performSearch");ae.success?t({message:`Found ${ae.data.length} research results`,color:"success",timeout:3e3}):t({message:ae.error?.message||"Search failed",color:"error",timeout:5e3})}catch(Y){console.error(" Search failed:",Y),t({message:Y.message||"Failed to perform search",color:"error",timeout:5e3})}},le=async()=>{await W()},K=async()=>{if(f.value){console.log(" Search in progress, skipping filter clear");return}try{c.value={diagnosis:null,medicine:null,dateFrom:"",dateTo:"",patientName:"",gender:"",ageGreaterThan:"",ageLessThan:""},await n.dispatch("researchModule/clearAll"),t({message:"All filters and results cleared",color:"success",timeout:3e3})}catch(q){console.error("Error clearing filters:",q),s.value="Failed to clear filters"}},ee=q=>{try{if(!q.patientId)throw new Error("Invalid patient ID");a.push({path:`/patients/${q.patientId}`,query:{from:"research"}})}catch(Y){console.error("Error navigating to patient:",Y),t({message:"Failed to open patient details",color:"error",timeout:5e3})}},j=async q=>{if(k.value){console.log(" Procedure search in progress, skipping filter update");return}try{A.value={...A.value,...q},await n.dispatch("procedureResearchModule/updateFilters",{filters:A.value}),console.log(" Procedure filters updated:",A.value)}catch(Y){console.error("Error updating procedure filters:",Y),s.value="Failed to update procedure search filters"}},U=async(q=null)=>{if(k.value){console.log(" Procedure search already in progress, skipping duplicate request");return}try{console.log(" Starting procedure research search...");const Y=q||A.value;await n.dispatch("procedureResearchModule/updateFilters",{filters:Y});const ae=await n.dispatch("procedureResearchModule/performSearch");ae.success?t({message:`Found ${ae.data.length} procedure results`,color:"success",timeout:3e3}):t({message:ae.error?.message||"Procedure search failed",color:"error",timeout:5e3})}catch(Y){console.error(" Procedure search failed:",Y),t({message:Y.message||"Failed to perform procedure search",color:"error",timeout:5e3})}},G=async()=>{await U()},ne=async()=>{if(k.value){console.log(" Procedure search in progress, skipping filter clear");return}try{A.value={procedureName:"",dateFrom:"",dateTo:"",gender:"",ageGreaterThan:"",ageLessThan:""},await n.dispatch("procedureResearchModule/clearAll"),t({message:"All procedure filters and results cleared",color:"success",timeout:3e3})}catch(q){console.error("Error clearing procedure filters:",q),s.value="Failed to clear procedure filters"}},X=q=>{try{if(!q.patientId)throw new Error("Invalid patient ID");a.push({path:`/patients/${q.patientId}`,query:{from:"research"}})}catch(Y){console.error("Error navigating to patient from procedure result:",Y),t({message:"Failed to open patient details",color:"error",timeout:5e3})}},oe=q=>{if(!q)return"";try{return new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return q}};return(q,Y)=>{const ae=D("v-alert"),ge=D("v-tab"),we=D("v-tabs"),z=D("v-card"),Ae=D("v-col"),ie=D("v-row"),_e=D("v-card-text"),Pe=D("v-progress-circular"),re=D("v-icon"),be=D("v-btn"),He=D("v-empty-state"),ke=D("v-chip"),Se=D("v-card-title"),st=D("v-lazy"),je=D("v-window-item"),Ve=D("v-window"),Te=D("v-main");return V(),he(Te,null,{default:d(()=>[s.value?(V(),he(ae,{key:0,type:"error",dismissible:"","onClick:close":Y[0]||(Y[0]=Le=>s.value=null),class:"ma-3"},{default:d(()=>[Q(J(s.value),1)]),_:1})):Be("",!0),l(ie,{"no-gutters":"",class:"pl-3 pr-3 mb-2",style:{height:"50px"}},{default:d(()=>[l(Ae,{cols:"12"},{default:d(()=>[l(z,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex align-center"},{default:d(()=>[l(we,{modelValue:r.value,"onUpdate:modelValue":Y[1]||(Y[1]=Le=>r.value=Le),color:"primary","align-tabs":"start",class:"w-100"},{default:d(()=>[(V(!0),ye(ze,null,Jt(i.value,(Le,ht)=>(V(),he(ge,{key:ht,value:ht,disabled:Le.disabled},{default:d(()=>[Q(J(Le.title),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(Ve,{modelValue:r.value,"onUpdate:modelValue":Y[16]||(Y[16]=Le=>r.value=Le),class:"pl-3 pr-3 stable-height-main"},{default:d(()=>[l(je,{value:0,style:{height:"100%"}},{default:d(()=>[l(ie,{"aria-label":"research row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(Ae,{cols:"4",order:"1",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",IRe,[l(xRe,{"model-value-diagnosis":c.value.diagnosis,"onUpdate:modelValueDiagnosis":Y[2]||(Y[2]=Le=>c.value.diagnosis=Le),"model-value-medicine":c.value.medicine,"onUpdate:modelValueMedicine":Y[3]||(Y[3]=Le=>c.value.medicine=Le),"model-value-date-from":c.value.dateFrom,"onUpdate:modelValueDateFrom":Y[4]||(Y[4]=Le=>c.value.dateFrom=Le),"model-value-date-to":c.value.dateTo,"onUpdate:modelValueDateTo":Y[5]||(Y[5]=Le=>c.value.dateTo=Le),"model-value-patient-name":c.value.patientName,"onUpdate:modelValuePatientName":Y[6]||(Y[6]=Le=>c.value.patientName=Le),"model-value-gender":c.value.gender,"onUpdate:modelValueGender":Y[7]||(Y[7]=Le=>c.value.gender=Le),"model-value-age-greater-than":c.value.ageGreaterThan,"onUpdate:modelValueAgeGreaterThan":Y[8]||(Y[8]=Le=>c.value.ageGreaterThan=Le),"model-value-age-less-than":c.value.ageLessThan,"onUpdate:modelValueAgeLessThan":Y[9]||(Y[9]=Le=>c.value.ageLessThan=Le),"max-date":o.value,"is-searching":f.value,onFilterChange:O,onSearch:W,onClearFilters:K},null,8,["model-value-diagnosis","model-value-medicine","model-value-date-from","model-value-date-to","model-value-patient-name","model-value-gender","model-value-age-greater-than","model-value-age-less-than","max-date","is-searching"])])]),_:1}),l(Ae,{cols:"8",order:"2",class:"pl-1 stable-height-column"},{default:d(()=>[p("div",TRe,[l(z,{flat:"",color:"surfaceContainer",style:{height:"100%"}},{default:d(()=>[l(z,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(_e,{class:"pt-2 pb-0"},{default:d(()=>[h.value&&h.value.totalResults>0?(V(),ye(ze,{key:0},[p("strong",null,J(h.value.totalResults),1),Q(" research result"+J(h.value.totalResults!==1?"s":"")+" found ",1),w.value?(V(),ye("span",FRe,"  "+J(w.value),1)):Be("",!0)],64)):(V(),ye("strong",PRe,"Research Data Search"))]),_:1})]),_:1}),f.value?(V(),he(ie,{key:0,"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"d-flex justify-center align-center",style:{height:"calc(100vh - 280px)"}},{default:d(()=>[p("div",DRe,[l(Pe,{indeterminate:"",size:"64",color:"primary"}),Y[17]||(Y[17]=p("div",{class:"mt-4 text-subtitle-1"},"Searching Research Data...",-1))])]),_:1})]),_:1})):v.value?(V(),he(ie,{key:1,"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"d-flex justify-center align-center",style:{height:"calc(100vh - 280px)"}},{default:d(()=>[p("div",URe,[l(re,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...Y[18]||(Y[18]=[Q("mdi-alert-circle",-1)])]),_:1}),Y[20]||(Y[20]=p("div",{class:"text-h6 mb-2"},"Search Failed",-1)),p("div",RRe,J(v.value),1),l(be,{color:"primary",onClick:le,"prepend-icon":"mdi-refresh",loading:f.value,disabled:f.value},{default:d(()=>[...Y[19]||(Y[19]=[Q(" Try Again ",-1)])]),_:1},8,["loading","disabled"])])]),_:1})]),_:1})):u.value&&u.value.length===0&&m.value?(V(),he(He,{key:2,image:We(Um),class:"d-flex justify-center"},{title:d(()=>[...Y[21]||(Y[21]=[p("div",{class:"text-subtitle-2 mt-8 text-center"}," No Research Data Found ",-1)])]),text:d(()=>[...Y[22]||(Y[22]=[p("div",{class:"text-caption text-center"}," Try adjusting your search criteria or clear filters to see all data ",-1)])]),actions:d(()=>[l(be,{color:"primary",variant:"outlined",onClick:K,"prepend-icon":"mdi-filter-remove",loading:f.value,disabled:f.value},{default:d(()=>[...Y[23]||(Y[23]=[Q(" Clear Filters ",-1)])]),_:1},8,["loading","disabled"])]),_:1},8,["image"])):m.value?u.value&&u.value.length>0?(V(),ye(ze,{key:4},[l(ie,{class:"mb-1 pa-1"},{default:d(()=>[l(Ae,{cols:"3"},{default:d(()=>[l(z,{color:"primary",variant:"tonal"},{default:d(()=>[l(_e,{class:"text-center"},{default:d(()=>[p("div",LRe,J(b.value),1),Y[27]||(Y[27]=p("div",{class:"text-caption"},"Unique Patients",-1))]),_:1})]),_:1})]),_:1}),l(Ae,{cols:"3"},{default:d(()=>[l(z,{color:"success",variant:"tonal"},{default:d(()=>[l(_e,{class:"text-center"},{default:d(()=>[p("div",VRe,J(B.value),1),Y[28]||(Y[28]=p("div",{class:"text-caption"},"Unique Diagnoses",-1))]),_:1})]),_:1})]),_:1}),l(Ae,{cols:"3"},{default:d(()=>[l(z,{color:"info",variant:"tonal"},{default:d(()=>[l(_e,{class:"text-center"},{default:d(()=>[p("div",MRe,J(S.value),1),Y[29]||(Y[29]=p("div",{class:"text-caption"},"Unique Medicines",-1))]),_:1})]),_:1})]),_:1}),l(Ae,{cols:"3"},{default:d(()=>[l(z,{color:"warning",variant:"tonal"},{default:d(()=>[l(_e,{class:"text-center"},{default:d(()=>[p("div",ORe,J(T.value),1),Y[30]||(Y[30]=p("div",{class:"text-caption"},"Total Consultations",-1))]),_:1})]),_:1})]),_:1})]),_:1}),l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"scroll-element",style:{"padding-bottom":"40px"}},{default:d(()=>[(V(!0),ye(ze,null,Jt(u.value,Le=>(V(),he(st,{key:`${Le.patientId}-${Le.consultationId}`,options:{threshold:.1,rootMargin:"50px"},"min-height":"50"},{default:d(()=>[l(z,{style:It([{textAlign:"left"},{cursor:"pointer"}]),density:"compact",class:"mb-1 mx-2 card-enhanced card-status-default card-hover-base",rounded:"lg",onClick:ht=>ee(Le)},{default:d(()=>[l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12"},{default:d(()=>[l(Se,{class:"d-flex align-center justify-space-between pb-2"},{default:d(()=>[p("div",QRe,[p("span",HRe,J(Le.patientName||"Unknown Patient"),1),Le.patientGender&&Le.patientGender!==""?(V(),he(ke,{key:0,color:"primary","text-color":"black",size:"small",class:"mr-1"},{default:d(()=>[Q(J(Le.patientGender),1)]),_:2},1024)):Be("",!0),Le.patientAge&&Le.patientAge!==""?(V(),he(ke,{key:1,color:"primary","text-color":"black",size:"small",class:"mr-1"},{default:d(()=>[Q(J(Le.patientAge?`${Le.patientAge} yrs`:""),1)]),_:2},1024)):Be("",!0)]),p("div",KRe,J(oe(Le.consultationDate)),1)]),_:2},1024),l(_e,{class:"pt-0 pb-1"},{default:d(()=>[l(ie,{dense:""},{default:d(()=>[l(Ae,{cols:"12"},{default:d(()=>[Le.diagnosis?(V(),ye("div",GRe,[Y[31]||(Y[31]=p("strong",null,"Diagnosis:",-1)),Q(" "+J(Le.diagnosis),1)])):Be("",!0),Le.medicines&&Le.medicines.length>0?(V(),ye("div",zRe,[Y[32]||(Y[32]=p("strong",null,"Medicines:",-1)),Q(" "+J(Le.medicines.map(ht=>ht.productName).join(", ")),1)])):Be("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})],64)):Be("",!0):(V(),he(ie,{key:3,"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"d-flex justify-center align-center",style:{height:"calc(100vh - 280px)"}},{default:d(()=>[p("div",NRe,[l(re,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...Y[24]||(Y[24]=[Q("mdi-database-search",-1)])]),_:1}),Y[25]||(Y[25]=p("div",{class:"text-h6 mb-2"},"Search for Research Data",-1)),Y[26]||(Y[26]=p("div",{class:"text-body-2 text-medium-emphasis"},"Use the filters on the left to search based on diagnosis, medicines, and dates",-1))])]),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1}),l(je,{value:1,style:{height:"100%"}},{default:d(()=>[l(ie,{"aria-label":"procedure research row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(Ae,{cols:"4",order:"1",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",$Re,[l(kRe,{"model-value-procedure-name":A.value.procedureName,"onUpdate:modelValueProcedureName":Y[10]||(Y[10]=Le=>A.value.procedureName=Le),"model-value-date-from":A.value.dateFrom,"onUpdate:modelValueDateFrom":Y[11]||(Y[11]=Le=>A.value.dateFrom=Le),"model-value-date-to":A.value.dateTo,"onUpdate:modelValueDateTo":Y[12]||(Y[12]=Le=>A.value.dateTo=Le),"model-value-gender":A.value.gender,"onUpdate:modelValueGender":Y[13]||(Y[13]=Le=>A.value.gender=Le),"model-value-age-greater-than":A.value.ageGreaterThan,"onUpdate:modelValueAgeGreaterThan":Y[14]||(Y[14]=Le=>A.value.ageGreaterThan=Le),"model-value-age-less-than":A.value.ageLessThan,"onUpdate:modelValueAgeLessThan":Y[15]||(Y[15]=Le=>A.value.ageLessThan=Le),"max-date":o.value,"is-searching":k.value,onFilterChange:j,onSearch:U,onClearFilters:ne},null,8,["model-value-procedure-name","model-value-date-from","model-value-date-to","model-value-gender","model-value-age-greater-than","model-value-age-less-than","max-date","is-searching"])])]),_:1}),l(Ae,{cols:"8",order:"2",class:"pl-1 stable-height-column"},{default:d(()=>[p("div",WRe,[l(z,{flat:"",color:"surfaceContainer",style:{height:"100%"}},{default:d(()=>[l(z,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(_e,{class:"pt-2 pb-0"},{default:d(()=>[C.value&&C.value.totalResults>0?(V(),ye(ze,{key:0},[p("strong",null,J(C.value.totalResults),1),Q(" procedure result"+J(C.value.totalResults!==1?"s":"")+" found ",1),I.value?(V(),ye("span",jRe,"  "+J(I.value),1)):Be("",!0)],64)):(V(),ye("strong",JRe,"Procedure Research Search"))]),_:1})]),_:1}),k.value?(V(),he(ie,{key:0,"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"d-flex justify-center align-center",style:{height:"calc(100vh - 280px)"}},{default:d(()=>[p("div",qRe,[l(Pe,{indeterminate:"",size:"64",color:"primary"}),Y[33]||(Y[33]=p("div",{class:"mt-4 text-subtitle-1"},"Searching Procedure Data...",-1))])]),_:1})]),_:1})):_.value?(V(),he(ie,{key:1,"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"d-flex justify-center align-center",style:{height:"calc(100vh - 280px)"}},{default:d(()=>[p("div",YRe,[l(re,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...Y[34]||(Y[34]=[Q("mdi-alert-circle",-1)])]),_:1}),Y[36]||(Y[36]=p("div",{class:"text-h6 mb-2"},"Search Failed",-1)),p("div",XRe,J(_.value),1),l(be,{color:"primary",onClick:G,"prepend-icon":"mdi-refresh",loading:k.value,disabled:k.value},{default:d(()=>[...Y[35]||(Y[35]=[Q(" Try Again ",-1)])]),_:1},8,["loading","disabled"])])]),_:1})]),_:1})):N.value&&N.value.length===0&&E.value?(V(),he(He,{key:2,image:We(Um),class:"d-flex justify-center"},{title:d(()=>[...Y[37]||(Y[37]=[p("div",{class:"text-subtitle-2 mt-8 text-center"}," No Procedure Data Found ",-1)])]),text:d(()=>[...Y[38]||(Y[38]=[p("div",{class:"text-caption text-center"}," Try adjusting your search criteria or clear filters to see all data ",-1)])]),actions:d(()=>[l(be,{color:"primary",variant:"outlined",onClick:ne,"prepend-icon":"mdi-filter-remove",loading:k.value,disabled:k.value},{default:d(()=>[...Y[39]||(Y[39]=[Q(" Clear Filters ",-1)])]),_:1},8,["loading","disabled"])]),_:1},8,["image"])):E.value?N.value&&N.value.length>0?(V(),ye(ze,{key:4},[l(ie,{class:"mb-1 pa-1"},{default:d(()=>[l(Ae,{cols:"3"},{default:d(()=>[l(z,{color:"primary",variant:"tonal"},{default:d(()=>[l(_e,{class:"text-center"},{default:d(()=>[p("div",eNe,J(R.value),1),Y[43]||(Y[43]=p("div",{class:"text-caption"},"Unique Patients",-1))]),_:1})]),_:1})]),_:1}),l(Ae,{cols:"3"},{default:d(()=>[l(z,{color:"success",variant:"tonal"},{default:d(()=>[l(_e,{class:"text-center"},{default:d(()=>[p("div",tNe,J(M.value),1),Y[44]||(Y[44]=p("div",{class:"text-caption"},"Unique Procedures",-1))]),_:1})]),_:1})]),_:1}),l(Ae,{cols:"3"},{default:d(()=>[l(z,{color:"info",variant:"tonal"},{default:d(()=>[l(_e,{class:"text-center"},{default:d(()=>[p("div",nNe,J(te.value),1),Y[45]||(Y[45]=p("div",{class:"text-caption"},"Treatment Plans",-1))]),_:1})]),_:1})]),_:1}),l(Ae,{cols:"3"},{default:d(()=>[l(z,{color:"warning",variant:"tonal"},{default:d(()=>[l(_e,{class:"text-center"},{default:d(()=>[p("div",rNe,J(se.value),1),Y[46]||(Y[46]=p("div",{class:"text-caption"},"Total Records",-1))]),_:1})]),_:1})]),_:1})]),_:1}),l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"scroll-element",style:{"padding-bottom":"40px"}},{default:d(()=>[(V(!0),ye(ze,null,Jt(N.value,Le=>(V(),he(st,{key:`${Le.patientId}-${Le.treatmentProcedureId}`,options:{threshold:.1,rootMargin:"50px"},"min-height":"50"},{default:d(()=>[l(z,{style:It([{textAlign:"left"},{cursor:"pointer"}]),density:"compact",class:"mb-1 mx-2 card-enhanced card-status-default card-hover-base",rounded:"lg",onClick:ht=>X(Le)},{default:d(()=>[l(ie,{"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12"},{default:d(()=>[l(Se,{class:"d-flex align-center justify-space-between pb-2"},{default:d(()=>[p("div",aNe,[p("span",sNe,J(Le.patientName||"Unknown Patient"),1),Le.patientGender&&Le.patientGender!==""?(V(),he(ke,{key:0,color:"primary","text-color":"black",size:"small",class:"mr-1"},{default:d(()=>[Q(J(Le.patientGender),1)]),_:2},1024)):Be("",!0),Le.patientAge&&Le.patientAge!==""?(V(),he(ke,{key:1,color:"primary","text-color":"black",size:"small",class:"mr-1"},{default:d(()=>[Q(J(Le.patientAge?`${Le.patientAge} yrs`:""),1)]),_:2},1024)):Be("",!0)]),p("div",oNe,J(oe(Le.procedureStartDate||Le.treatmentPlanCreatedAt)),1)]),_:2},1024),l(_e,{class:"pt-0 pb-1"},{default:d(()=>[l(ie,{dense:""},{default:d(()=>[l(Ae,{cols:"12"},{default:d(()=>[Le.procedureName?(V(),ye("div",iNe,[Y[47]||(Y[47]=p("strong",null,"Procedure:",-1)),Q(" "+J(Le.procedureName),1)])):Be("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1})],64)):Be("",!0):(V(),he(ie,{key:3,"no-gutters":""},{default:d(()=>[l(Ae,{cols:"12",class:"d-flex justify-center align-center",style:{height:"calc(100vh - 280px)"}},{default:d(()=>[p("div",ZRe,[l(re,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...Y[40]||(Y[40]=[Q("mdi-database-search",-1)])]),_:1}),Y[41]||(Y[41]=p("div",{class:"text-h6 mb-2"},"Search for Procedure Data",-1)),Y[42]||(Y[42]=p("div",{class:"text-body-2 text-medium-emphasis"},"Use the filters on the left to search based on procedures, dates, and demographics",-1))])]),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},cNe=on(lNe,[["__scopeId","data-v-5fdae635"]]),uNe={class:"filter-cards-container px-2 pb-2",style:{flex:"1 1 auto"}},dNe={class:"d-flex justify-center mt-2 mb-2"},ANe={class:"d-flex justify-center mt-2"},fNe={class:"text-body-2"},mNe={class:"d-flex align-center mb-1"},hNe={class:"d-flex align-center mb-1"},vNe={class:"d-flex align-center mb-2"},pNe={__name:"ReminderFilter",props:{filters:{type:Object,default:()=>({})},isLoading:{type:Boolean,default:!1}},emits:["filter-change","search","clear-filters"],setup(e,{emit:t}){const n=e,r=t,a=H(n.filters?.reminderType||""),s=H(n.filters?.reminderStatus||""),o=H(n.filters?.dateFrom||""),i=H(n.filters?.dateTo||""),c=H(n.filters?.patientName||""),A=H(""),u=H(""),f=H(""),m=H(""),v=H(""),h=[{title:"All Types",value:""},{title:"Appointment",value:"appointment"},{title:"Consultation",value:"consultation"},{title:"Procedures",value:"procedures"}],y=[{title:"All Statuses",value:""},{title:"Pending",value:"pending"},{title:"Completed",value:"completed"}],w=Z(()=>!!(A.value||u.value||f.value||m.value||v.value)),b=()=>{f.value="",o.value&&i.value&&o.value>i.value&&(f.value="From date cannot be after To date")},B=()=>{m.value="",o.value&&i.value&&i.value<o.value&&(m.value="To date cannot be before From date")},S=()=>{v.value="",c.value&&c.value.length<2&&(v.value="Patient name must be at least 2 characters")};Ge(()=>n.filters,E=>{E&&(a.value=E.reminderType||"",s.value=E.reminderStatus||"",o.value=E.dateFrom||"",i.value=E.dateTo||"",c.value=E.patientName||"")},{deep:!0}),Ge(a,()=>{T()}),Ge(s,()=>{T()}),Ge(o,()=>{b(),B(),T()}),Ge(i,()=>{B(),b(),T()}),Ge(c,()=>{S(),T()});const T=()=>{const E={reminderType:a.value,reminderStatus:s.value,dateFrom:o.value,dateTo:i.value,patientName:c.value};r("filter-change",E)},N=async()=>{if(b(),B(),S(),await An(),w.value){console.log(" Cannot search: validation errors present");return}const E={reminderType:a.value,reminderStatus:s.value,dateFrom:o.value,dateTo:i.value,patientName:c.value};console.log(" Reminder search triggered with filters:",E),r("search",E)},k=()=>{a.value="",s.value="",o.value="",i.value="",c.value="",A.value="",u.value="",f.value="",m.value="",v.value="",r("clear-filters")};return(E,_)=>{const C=D("v-icon"),F=D("v-card-title"),I=D("v-select"),R=D("v-card-text"),M=D("v-card"),te=D("v-text-field"),se=D("v-col"),O=D("v-row"),W=D("v-btn"),le=D("v-divider");return V(),he(M,{color:"surfaceContainer",flat:"",style:{height:"100%",display:"flex","flex-direction":"column"}},{default:d(()=>[p("div",uNe,[l(M,{class:"form-section-card card-status-default mx-2 mt-1 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(F,{class:"pa-0 pb-2"},{default:d(()=>[l(C,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[..._[7]||(_[7]=[Q("mdi-bell-outline",-1)])]),_:1}),_[8]||(_[8]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Reminder Type",-1))]),_:1}),l(R,{class:"pa-0"},{default:d(()=>[l(I,{modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=K=>a.value=K),items:h,label:"Select reminder type...",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-bell-outline",class:"input-hover","error-messages":A.value},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),l(M,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(F,{class:"pa-0 pb-2"},{default:d(()=>[l(C,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[..._[9]||(_[9]=[Q("mdi-check-circle-outline",-1)])]),_:1}),_[10]||(_[10]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Reminder Status",-1))]),_:1}),l(R,{class:"pa-0"},{default:d(()=>[l(I,{modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=K=>s.value=K),items:y,label:"Select status...",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-check-circle-outline",class:"input-hover","error-messages":u.value},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),l(M,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(F,{class:"pa-0 pb-2"},{default:d(()=>[l(C,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[..._[11]||(_[11]=[Q("mdi-calendar-range",-1)])]),_:1}),_[12]||(_[12]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Date Range",-1))]),_:1}),l(R,{class:"pa-0"},{default:d(()=>[l(O,{dense:""},{default:d(()=>[l(se,{cols:"6"},{default:d(()=>[l(te,{modelValue:o.value,"onUpdate:modelValue":_[2]||(_[2]=K=>o.value=K),type:"date",label:"From Date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-start",class:"input-hover date-input",max:i.value,"error-messages":f.value,onInput:b,onClick:_[3]||(_[3]=K=>K.target.showPicker&&K.target.showPicker())},null,8,["modelValue","max","error-messages"])]),_:1}),l(se,{cols:"6"},{default:d(()=>[l(te,{modelValue:i.value,"onUpdate:modelValue":_[4]||(_[4]=K=>i.value=K),type:"date",label:"To Date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar-end",class:"input-hover date-input",min:o.value,"error-messages":m.value,onInput:B,onClick:_[5]||(_[5]=K=>K.target.showPicker&&K.target.showPicker())},null,8,["modelValue","min","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1}),l(M,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(F,{class:"pa-0 pb-2"},{default:d(()=>[l(C,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[..._[13]||(_[13]=[Q("mdi-account-search",-1)])]),_:1}),_[14]||(_[14]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Patient Name",-1))]),_:1}),l(R,{class:"pa-0"},{default:d(()=>[l(te,{modelValue:c.value,"onUpdate:modelValue":_[6]||(_[6]=K=>c.value=K),placeholder:"Enter patient name...",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-magnify",class:"input-hover","error-messages":v.value,maxlength:"100"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),p("div",dNe,[l(W,{color:"primary","prepend-icon":"mdi-magnify",onClick:N,loading:e.isLoading,disabled:w.value,class:"btn-hover-enhanced"},{default:d(()=>[..._[15]||(_[15]=[Q(" Search Reminders ",-1)])]),_:1},8,["loading","disabled"])]),p("div",ANe,[l(W,{variant:"outlined",color:"secondary","prepend-icon":"mdi-filter-remove",onClick:k,disabled:e.isLoading,class:"btn-hover-enhanced"},{default:d(()=>[..._[16]||(_[16]=[Q(" Clear All Filters ",-1)])]),_:1},8,["disabled"])]),l(M,{color:"info",variant:"tonal",class:"ma-2 mt-4 pa-3",elevation:"1",rounded:"lg"},{default:d(()=>[l(F,{class:"pa-0 pb-2"},{default:d(()=>[l(C,{class:"mr-2",size:"small",color:"info"},{default:d(()=>[..._[17]||(_[17]=[Q("mdi-information",-1)])]),_:1}),_[18]||(_[18]=p("span",{class:"text-subtitle-2 font-weight-medium"},"Default Search Windows",-1))]),_:1}),l(R,{class:"pa-0"},{default:d(()=>[_[25]||(_[25]=p("div",{class:"text-caption mb-2"}," When no date range is specified, searches are limited to: ",-1)),p("div",fNe,[p("div",mNe,[l(C,{size:"x-small",color:"primary",class:"mr-2"},{default:d(()=>[..._[19]||(_[19]=[Q("mdi-calendar-clock",-1)])]),_:1}),_[20]||(_[20]=p("span",null,[p("strong",null,"Appointments:"),Q(" Next 7 days")],-1))]),p("div",hNe,[l(C,{size:"x-small",color:"success",class:"mr-2"},{default:d(()=>[..._[21]||(_[21]=[Q("mdi-stethoscope",-1)])]),_:1}),_[22]||(_[22]=p("span",null,[p("strong",null,"Consultations:"),Q(" Next 30 days")],-1))]),p("div",vNe,[l(C,{size:"x-small",color:"info",class:"mr-2"},{default:d(()=>[..._[23]||(_[23]=[Q("mdi-medical-bag",-1)])]),_:1}),_[24]||(_[24]=p("span",null,[p("strong",null,"Treatment Plans:"),Q(" Next 30 days")],-1))])]),l(le,{class:"my-2"}),_[26]||(_[26]=p("div",{class:"text-caption text-medium-emphasis"},"  Use the Date Range filter above to search beyond these windows ",-1))]),_:1})]),_:1})])]),_:1})}}},gNe=on(pNe,[["__scopeId","data-v-92c26ea0"]]),B2=e=>{if(!e)return"";try{const t=typeof e=="string"?Zm(e):new Date(e);return Jl(t,"MMMM d, yyyy")}catch{return e}},yNe=(e,t,n)=>{const r=B2(e.dueDate);return`Hi ${n},

This is a reminder for your upcoming appointment with Dr. ${t}.

 Date: ${r}

Please arrive 10 minutes early. Contact us if you need to reschedule.

Best regards,
Dr. ${t}`},wNe=(e,t,n)=>{const r=B2(e.details.consultationDate),a=B2(e.dueDate);return`Hi ${n},

Your follow-up consultation with Dr. ${t} is due.

 Original Consultation: ${r}
 Follow-up Due: ${a}

Please schedule your follow-up appointment. Contact us to book a slot.

Best regards,
Dr. ${t}`},_Ne=(e,t,n)=>{const r=B2(e.dueDate);let a="",s="";if(e.details.procedures&&Array.isArray(e.details.procedures)){const o=e.details.procedures.filter(c=>c.status==="completed").map(c=>c.procedure_name||c.procedureName).filter(c=>c),i=e.details.procedures.filter(c=>["proposed","ongoing","active","scheduled"].includes(c.status)).map(c=>c.procedure_name||c.procedureName).filter(c=>c);a=o.length>0?o.join(", "):"None",s=i.length>0?i.join(", "):"None"}else{if(e.procedureDetails){if(e.procedureDetails.includes("Completed:")){const o=e.procedureDetails.match(/Completed: ([^]+)/);a=o?o[1].trim():"None"}if(e.procedureDetails.includes("Pending:")){const o=e.procedureDetails.match(/Pending: ([^]*)/);s=o?o[1].trim():"None"}}a||(a="None"),s||(s="None")}return`Hi ${n},

This is a reminder for your treatment plan follow-up with Dr. ${t}.

 Follow-up Due: ${r}
 Completed: ${a}
 Pending: ${s}

Please contact us to schedule your next visit.

Best regards,
Dr. ${t}`},bNe=async(e,t)=>{let n=e;n=n.replace(/\D/g,""),!n.startsWith("91")&&n.length===10&&(n="91"+n);const r=`https://api.whatsapp.com/send?phone=${n}&text=${encodeURIComponent(t)}`;try{const{ipcRenderer:a}=window.require("electron"),s=await a.invoke("open-external",r);return s.success?(console.log("Successfully opened WhatsApp with system default browser"),{success:!0}):(console.error("Failed to open WhatsApp via Electron:",s.error),window.open(r,"_blank","noopener,noreferrer"),{success:!0})}catch(a){return console.error("Failed to use Electron IPC:",a),window.open(r,"_blank","noopener,noreferrer"),{success:!0}}},xNe=e=>{if(!e)return!1;const t=e.replace(/\D/g,"");return t.length===10||t.length===12&&t.startsWith("91")},CNe=async(e,t)=>{try{if(!e)throw new Error("Reminder data is required");if(!t?.doctorName)throw new Error("Doctor information is required");const n=e.details?.patient_phone||e.details?.contactNumber||e.details?.contact_number;if(!n)throw new Error("Patient contact number not available");if(!xNe(n))throw new Error("Invalid phone number format");const r=e.patientName||"Patient",a=t.doctorName;let s;switch(e.type){case"appointment":s=yNe(e,a,r);break;case"consultation":s=wNe(e,a,r);break;case"procedures":s=_Ne(e,a,r);break;default:throw new Error(`Unsupported reminder type: ${e.type}`)}if((await bNe(n,s)).success)return{success:!0,message:`WhatsApp reminder sent to ${r}`};throw new Error("Failed to open WhatsApp")}catch(n){return console.error("WhatsApp reminder failed:",n),{success:!1,error:n.message}}},ENe={class:"scrollable-content"},BNe={class:"scrollable-content"},SNe={key:0,class:"text-medium-emphasis ml-2"},kNe={key:1},INe={class:"text-center"},TNe={class:"text-center"},FNe={class:"text-body-2 text-medium-emphasis mb-4"},PNe={class:"text-caption text-center"},DNe={class:"text-center"},UNe={class:"text-caption text-center"},RNe={class:"d-flex align-center mb-1"},NNe={class:"d-flex align-center mb-1"},LNe={class:"d-flex align-center"},VNe={class:"text-h4"},MNe={class:"text-h4"},ONe={class:"text-h4"},QNe={class:"text-h4"},HNe={class:"d-flex align-center"},KNe={class:"text-body-2 font-weight-medium"},GNe={class:"text-body-1 font-weight-medium"},zNe={key:0,class:"text-body-2 text-medium-emphasis ml-2"},$Ne={key:0,class:"text-body-2 text-medium-emphasis mt-1"},WNe={key:2,class:"text-body-2 text-medium-emphasis mt-1"},jNe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18"},JNe=["d"],qNe={__name:"tasks-page",setup(e){const{showSnackbar:t}=dr(),n=pr(),r=H(0),a=H(null),s=Z(()=>n.state.reminderModule.searchResults),o=Z(()=>n.state.reminderModule.isLoading),i=Z(()=>n.state.reminderModule.hasSearched),c=Z(()=>n.state.reminderModule.searchError),A=Z(()=>n.state.reminderModule.filters),u=Z(()=>n.getters["reminderModule/hasActiveFilters"]),f=Z(()=>n.getters["reminderModule/uniquePatientsCount"]),m=Z(()=>n.getters["reminderModule/pendingRemindersCount"]),v=Z(()=>n.getters["reminderModule/completedRemindersCount"]),h=H([{title:"Reminders",disabled:!1}]);fn(()=>{try{console.log("Tasks page initialized")}catch(_){console.error("Error setting up tasks page:",_),a.value="Failed to initialize tasks page"}});const y=_=>{const C=_.details?.patient_phone||_.details?.contactNumber||_.details?.contact_number;if(!C)return!1;const F=C.replace(/\D/g,"");return F.length===10||F.length===12&&F.startsWith("91")},w=async _=>{try{const C=n.getters["doctorModule/currentDoctor"];if(!C){t({message:"Please select a doctor first",color:"warning",timeout:5e3});return}if(!y(_)){t({message:"Patient contact number not available or invalid",color:"warning",timeout:5e3});return}_.sendingWhatsApp=!0,console.log(" Sending WhatsApp reminder for:",_.type,_.patientName);const F=await CNe(_,C);if(F.success)t({message:F.message||"WhatsApp reminder sent successfully",color:"success",timeout:3e3});else throw new Error(F.error||"Failed to send WhatsApp reminder")}catch(C){console.error(" WhatsApp reminder failed:",C),t({message:C.message||"Failed to send WhatsApp reminder",color:"error",timeout:5e3})}finally{_&&(_.sendingWhatsApp=!1)}},b=async _=>{try{await n.dispatch("reminderModule/updateFilters",{filters:_}),console.log(" Reminder filters updated via store:",_)}catch(C){console.error("Error updating filters:",C),a.value="Failed to update search filters"}},B=async(_=null)=>{try{if(_&&await n.dispatch("reminderModule/updateFilters",{filters:_}),!n.state.doctorModule?.doctorId){t({message:"Please select a doctor first to search reminders",color:"warning",timeout:5e3});return}console.log(" Starting reminder search...");const F=await n.dispatch("reminderModule/performSearch");if(F.success){const I=F.data.length;let R=`Found ${I} reminder${I!==1?"s":""}`;F.partialErrors?.length>0?(R+=` (${F.partialErrors.length} source${F.partialErrors.length!==1?"s":""} failed)`,t({message:R,color:"warning",timeout:5e3})):t({message:R,color:"success",timeout:3e3})}else throw new Error(F.error?.message||"Search failed")}catch(C){console.error(" Search failed:",C),t({message:C.message||"Failed to search reminders",color:"error",timeout:5e3})}},S=()=>{N(),setTimeout(()=>{B()},100)},T=async()=>{await B()},N=async()=>{try{await n.dispatch("reminderModule/clearAll"),t({message:"All filters and results cleared",color:"success",timeout:3e3})}catch(_){console.error("Error clearing filters:",_),a.value="Failed to clear filters"}},k=async _=>{try{const C=!_.details.isReminded,F=C?"reminded":"not reminded";console.log(` Toggling reminder status to: ${F}`,_),console.log(" Reminder details:",_.details),t({message:`Marking reminder as ${F}...`,color:"info",timeout:2e3}),await new Promise(R=>requestAnimationFrame(R));const I=await n.dispatch("reminderModule/markAsReminded",{reminder:_,isReminded:C});if(I.success)await new Promise(R=>requestAnimationFrame(R)),t({message:`Reminder marked as ${F}`,color:"success",timeout:3e3});else throw new Error(I.error||"Failed to update reminder status")}catch(C){console.error(" Failed to toggle reminder status:",C),t({message:C.message||"Failed to update reminder status",color:"error",timeout:5e3})}},E=_=>{if(!_)return"";try{return new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return _}};return(_,C)=>{const F=D("v-alert"),I=D("v-tab"),R=D("v-tabs"),M=D("v-card"),te=D("v-col"),se=D("v-row"),O=D("v-card-text"),W=D("v-progress-circular"),le=D("v-icon"),K=D("v-btn"),ee=D("v-empty-state"),j=D("v-divider"),U=D("v-card-title"),G=D("v-tooltip"),ne=D("v-lazy"),X=D("v-window-item"),oe=D("v-window"),q=D("v-main");return V(),he(q,null,{default:d(()=>[a.value?(V(),he(F,{key:0,type:"error",dismissible:"","onClick:close":C[0]||(C[0]=Y=>a.value=null),class:"ma-3"},{default:d(()=>[Q(J(a.value),1)]),_:1})):Be("",!0),l(se,{"no-gutters":"",class:"pl-3 pr-3 mb-2",style:{height:"50px"}},{default:d(()=>[l(te,{cols:"12"},{default:d(()=>[l(M,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex align-center"},{default:d(()=>[l(R,{modelValue:r.value,"onUpdate:modelValue":C[1]||(C[1]=Y=>r.value=Y),color:"primary","align-tabs":"start",class:"w-100"},{default:d(()=>[(V(!0),ye(ze,null,Jt(h.value,(Y,ae)=>(V(),he(I,{key:ae,value:ae,disabled:Y.disabled},{default:d(()=>[Q(J(Y.title),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(oe,{modelValue:r.value,"onUpdate:modelValue":C[2]||(C[2]=Y=>r.value=Y),class:"pl-3 pr-3 stable-height-main"},{default:d(()=>[l(X,{value:0,style:{height:"100%"}},{default:d(()=>[l(se,{"aria-label":"reminders row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(te,{cols:"4",order:"1",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",ENe,[l(gNe,{filters:A.value,isLoading:o.value,onFilterChange:b,onSearch:B,onClearFilters:N},null,8,["filters","isLoading"])])]),_:1}),l(te,{cols:"8",order:"2",class:"pl-1 stable-height-column"},{default:d(()=>[p("div",BNe,[l(M,{flat:"",color:"surfaceContainer",style:{height:"100%"}},{default:d(()=>[l(M,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(O,{class:"pt-2 pb-0"},{default:d(()=>[s.value.length>0&&i.value?(V(),ye(ze,{key:0},[p("strong",null,J(s.value.length),1),Q(" reminder"+J(s.value.length!==1?"s":"")+" found ",1),u.value?(V(),ye("span",SNe,"  Filtered ")):Be("",!0)],64)):(V(),ye("strong",kNe,"Reminders Management"))]),_:1})]),_:1}),o.value?(V(),he(se,{key:0,"no-gutters":""},{default:d(()=>[l(te,{cols:"12",class:"d-flex justify-center align-center",style:{height:"calc(100vh - 280px)"}},{default:d(()=>[p("div",INe,[l(W,{indeterminate:"",size:"64",color:"primary"}),C[3]||(C[3]=p("div",{class:"mt-4 text-subtitle-1"},"Searching Reminders...",-1))])]),_:1})]),_:1})):c.value?(V(),he(se,{key:1,"no-gutters":""},{default:d(()=>[l(te,{cols:"12",class:"d-flex justify-center align-center",style:{height:"calc(100vh - 280px)"}},{default:d(()=>[p("div",TNe,[l(le,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...C[4]||(C[4]=[Q("mdi-alert-circle",-1)])]),_:1}),C[6]||(C[6]=p("div",{class:"text-h6 mb-2"},"Search Failed",-1)),p("div",FNe,J(c.value),1),l(K,{color:"primary",onClick:T,"prepend-icon":"mdi-refresh",loading:o.value,disabled:o.value},{default:d(()=>[...C[5]||(C[5]=[Q(" Try Again ",-1)])]),_:1},8,["loading","disabled"])])]),_:1})]),_:1})):s.value.length===0&&i.value?(V(),he(ee,{key:2,image:We(Um),class:"d-flex justify-center"},{title:d(()=>[...C[7]||(C[7]=[p("div",{class:"text-subtitle-2 mt-8 text-center"}," No Reminders Found ",-1)])]),text:d(()=>[C[12]||(C[12]=p("div",{class:"text-caption text-center mb-4"}," Try adjusting your search criteria or clear filters to see all reminders ",-1)),l(M,{color:"info",variant:"tonal",class:"pa-3 mx-auto",style:{"max-width":"400px"},rounded:"lg"},{default:d(()=>[p("div",PNe,[l(le,{size:"small",class:"mb-1"},{default:d(()=>[...C[8]||(C[8]=[Q("mdi-information",-1)])]),_:1}),C[9]||(C[9]=p("div",{class:"font-weight-medium mb-1"},"Default Search Ranges",-1)),C[10]||(C[10]=p("div",{class:"text-body-2 text-left"},[Q("  "),p("strong",null,"Appointments:"),Q(" Next 7 days"),p("br"),Q("  "),p("strong",null,"Consultations:"),Q(" Next 30 days"),p("br"),Q("  "),p("strong",null,"Treatment Plans:"),Q(" Next 30 days ")],-1)),C[11]||(C[11]=p("div",{class:"mt-2 text-caption text-medium-emphasis"}," Use date filters to search beyond these ranges ",-1))])]),_:1})]),actions:d(()=>[l(K,{color:"primary",variant:"outlined",onClick:N,"prepend-icon":"mdi-filter-remove",loading:o.value,disabled:o.value},{default:d(()=>[...C[13]||(C[13]=[Q(" Clear Filters ",-1)])]),_:1},8,["loading","disabled"])]),_:1},8,["image"])):i.value?s.value.length>0?(V(),ye(ze,{key:4},[l(se,{class:"mb-1 pa-1"},{default:d(()=>[l(te,{cols:"3"},{default:d(()=>[l(M,{color:"primary",variant:"tonal"},{default:d(()=>[l(O,{class:"text-center"},{default:d(()=>[p("div",VNe,J(f.value),1),C[27]||(C[27]=p("div",{class:"text-caption"},"Unique Patients",-1))]),_:1})]),_:1})]),_:1}),l(te,{cols:"3"},{default:d(()=>[l(M,{color:"success",variant:"tonal"},{default:d(()=>[l(O,{class:"text-center"},{default:d(()=>[p("div",MNe,J(m.value),1),C[28]||(C[28]=p("div",{class:"text-caption"},"Pending",-1))]),_:1})]),_:1})]),_:1}),l(te,{cols:"3"},{default:d(()=>[l(M,{color:"info",variant:"tonal"},{default:d(()=>[l(O,{class:"text-center"},{default:d(()=>[p("div",ONe,J(v.value),1),C[29]||(C[29]=p("div",{class:"text-caption"},"Completed",-1))]),_:1})]),_:1})]),_:1}),l(te,{cols:"3"},{default:d(()=>[l(M,{color:"warning",variant:"tonal"},{default:d(()=>[l(O,{class:"text-center"},{default:d(()=>[p("div",QNe,J(s.value.length),1),C[30]||(C[30]=p("div",{class:"text-caption"},"Total Reminders",-1))]),_:1})]),_:1})]),_:1})]),_:1}),l(se,{"no-gutters":""},{default:d(()=>[l(te,{cols:"12",class:"scroll-element",style:{"padding-bottom":"40px"}},{default:d(()=>[(V(!0),ye(ze,null,Jt(s.value,Y=>(V(),he(ne,{key:`reminder-${Y.id}-${Y.status}-${Y.details?.isReminded||!1}`,options:{threshold:.1,rootMargin:"100px"},"min-height":"60",eager:""},{default:d(()=>[l(M,{style:{textAlign:"left"},density:"compact",class:"mb-2 mx-2 card-enhanced card-status-default",rounded:"lg"},{default:d(()=>[l(se,{"no-gutters":""},{default:d(()=>[l(te,{cols:"10"},{default:d(()=>[l(U,{class:"d-flex justify-space-between align-center"},{default:d(()=>[p("span",null,J(Y.title||"Reminder"),1),p("div",HNe,[p("span",KNe,J(E(Y.dueDate)),1)])]),_:2},1024),l(O,{class:"pb-1"},{default:d(()=>[l(se,{dense:""},{default:d(()=>[l(te,{cols:"12"},{default:d(()=>[p("div",GNe,[Q(J(Y.patientName)+" ",1),Y.description?(V(),ye("span",zNe," ("+J(Y.description)+") ",1)):Be("",!0)]),Y.type==="consultation"&&Y.consultationDetails?(V(),ye("div",$Ne,J(Y.consultationDetails),1)):Be("",!0),Y.type==="procedures"&&Y.procedureDetails?(V(!0),ye(ze,{key:1},Jt(Y.procedureDetails.split(" | "),(ae,ge)=>(V(),ye("div",{key:ge,class:"text-body-2 text-medium-emphasis mt-1"},J(ae),1))),128)):Be("",!0),Y.type==="appointment"&&Y.lastAppointmentDetails?(V(),ye("div",WNe,J(Y.lastAppointmentDetails),1)):Be("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),l(te,{cols:"2",class:"d-flex justify-center align-center"},{default:d(()=>[l(se,{"no-gutters":""},{default:d(()=>[l(te,{cols:"12",class:"d-flex justify-center align-center"},{default:d(()=>[l(G,{text:Y.status==="completed"?"Mark as Not Reminded":"Mark as Reminded"},{activator:d(({props:ae})=>[l(K,Ne({color:Y.status==="completed"?"success":"warning",variant:"plain",size:"small"},{ref_for:!0},ae,{onClick:Qn(ge=>k(Y),["stop"]),class:"btn-hover-base mb-2"}),{default:d(()=>[l(le,{color:Y.status==="completed"?"success":"warning",size:"18"},{default:d(()=>[(V(),ye("svg",jNe,[p("path",{fill:"currentColor",d:Y.status==="completed"?"M17.75 21.16L15 18.16L16.16 17L17.75 18.59L21.34 15L22.5 16.41L17.75 21.16M3 20V19L5 17V11C5 7.9 7.03 5.18 10 4.29V4C10 2.9 10.9 2 12 2C13.11 2 14 2.9 14 4V4.29C16.97 5.18 19 7.9 19 11V12.08L18 12C14.69 12 12 14.69 12 18C12 18.7 12.12 19.37 12.34 20H3M12 23C10.9 23 10 22.11 10 21H12.8C13.04 21.41 13.33 21.79 13.65 22.13C13.29 22.66 12.69 23 12 23Z":"M23 7V13H21V7M21 15H23V17H21M12 2A2 2 0 0 0 10 4A2 2 0 0 0 10 4.29C7.12 5.14 5 7.82 5 11V17L3 19V20H21V19L19 17V11C19 7.82 16.88 5.14 14 4.29A2 2 0 0 0 14 4A2 2 0 0 0 12 2M10 21A2 2 0 0 0 12 23A2 2 0 0 0 14 21Z"},null,8,JNe)]))]),_:2},1032,["color"])]),_:2},1040,["color","onClick"])]),_:2},1032,["text"])]),_:2},1024),l(j,{class:"mx-4"}),l(te,{cols:"12",class:"d-flex justify-center align-center"},{default:d(()=>[l(G,{text:"Send WhatsApp Reminder"},{activator:d(({props:ae})=>[l(K,Ne({variant:"plain",size:"small"},{ref_for:!0},ae,{onClick:Qn(ge=>w(Y),["stop"]),disabled:!y(Y),loading:Y.sendingWhatsApp,class:"btn-hover-base mt-1"}),{default:d(()=>[l(le,{size:"18"},{default:d(()=>[...C[31]||(C[31]=[p("img",{src:T8,alt:"WhatsApp",style:{width:"18px",height:"18px"}},null,-1)])]),_:1})]),_:1},16,["onClick","disabled","loading"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})],64)):Be("",!0):(V(),he(se,{key:3,"no-gutters":""},{default:d(()=>[l(te,{cols:"12",class:"d-flex justify-center align-center",style:{height:"calc(100vh - 280px)"}},{default:d(()=>[p("div",DNe,[l(le,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...C[14]||(C[14]=[Q("mdi-bell-outline",-1)])]),_:1}),C[25]||(C[25]=p("div",{class:"text-h6 mb-2"},"Reminder Management",-1)),C[26]||(C[26]=p("div",{class:"text-body-2 text-medium-emphasis mb-6"},"Use the filters on the left to search for reminders",-1)),l(K,{color:"primary",variant:"outlined",onClick:S},{default:d(()=>[...C[15]||(C[15]=[Q(" View All Reminders ",-1)])]),_:1}),l(M,{color:"surface-variant",variant:"tonal",class:"mt-6 pa-4 mx-auto",style:{"max-width":"400px"},rounded:"lg"},{default:d(()=>[p("div",UNe,[l(le,{size:"small",class:"mb-2"},{default:d(()=>[...C[16]||(C[16]=[Q("mdi-clock-outline",-1)])]),_:1}),C[23]||(C[23]=p("div",{class:"font-weight-medium mb-2 text-body-2"},"Default Search Windows",-1)),l(se,{dense:"",class:"text-left"},{default:d(()=>[l(te,{cols:"12",class:"text-body-2"},{default:d(()=>[p("div",RNe,[l(le,{size:"x-small",color:"primary",class:"mr-2"},{default:d(()=>[...C[17]||(C[17]=[Q("mdi-calendar-clock",-1)])]),_:1}),C[18]||(C[18]=p("span",null,[p("strong",null,"Appointments:"),Q(" Next 7 days")],-1))]),p("div",NNe,[l(le,{size:"x-small",color:"success",class:"mr-2"},{default:d(()=>[...C[19]||(C[19]=[Q("mdi-stethoscope",-1)])]),_:1}),C[20]||(C[20]=p("span",null,[p("strong",null,"Consultations:"),Q(" Next 30 days")],-1))]),p("div",LNe,[l(le,{size:"x-small",color:"info",class:"mr-2"},{default:d(()=>[...C[21]||(C[21]=[Q("mdi-medical-bag",-1)])]),_:1}),C[22]||(C[22]=p("span",null,[p("strong",null,"Treatment Plans:"),Q(" Next 30 days")],-1))])]),_:1})]),_:1}),l(j,{class:"my-2"}),C[24]||(C[24]=p("div",{class:"text-caption text-medium-emphasis"},"  Set custom date ranges in filters to search beyond these windows ",-1))])]),_:1})])]),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},YNe=on(qNe,[["__scopeId","data-v-8c39df83"]]),XNe={class:"filter-header pa-2 mb-2"},ZNe={class:"text-h6 font-weight-medium text-primary"},eLe={class:"filter-cards-container pa-2",style:{flex:"1 1 auto"}},tLe={class:"d-flex justify-center mt-4"},nLe={__name:"PaymentFilter",props:{paymentDate:{type:String,default:""}},emits:["filter-change","search","clear"],setup(e,{emit:t}){const n=e,r=t,a=H(n.paymentDate||""),s=Z(()=>Jn()),o=Z(()=>!!a.value);Z(()=>{let m=0;return a.value&&m++,m});const i=m=>{if(!m)return"";try{return new Date(m).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return m}},c=()=>{u()},A=()=>{a.value="",u()},u=()=>{r("filter-change",{paymentDate:a.value,hasErrors:!1,hasFilters:o.value})},f=()=>{a.value="",r("clear"),u()};return Ge(()=>n.paymentDate,m=>{a.value=m||""}),u(),(m,v)=>{const h=D("v-icon"),y=D("v-card-title"),w=D("v-text-field"),b=D("v-chip"),B=D("v-card-text"),S=D("v-card"),T=D("v-btn");return V(),he(S,{color:"surfaceContainer",flat:"",style:{height:"100%",display:"flex","flex-direction":"column"}},{default:d(()=>[p("div",XNe,[p("h3",ZNe,[l(h,{class:"mr-2",color:"primary"},{default:d(()=>[...v[1]||(v[1]=[Q("mdi-filter-variant",-1)])]),_:1}),v[2]||(v[2]=Q(" Filter Payment Receipts ",-1))]),v[3]||(v[3]=p("p",{class:"text-caption text-medium-emphasis mb-0"},"Refine your search criteria",-1))]),p("div",eLe,[l(S,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(y,{class:"pa-0 pb-2"},{default:d(()=>[l(h,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...v[4]||(v[4]=[Q("mdi-calendar-search",-1)])]),_:1}),v[5]||(v[5]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Payment Receipt Date",-1))]),_:1}),l(B,{class:"pa-0"},{default:d(()=>[l(w,{modelValue:a.value,"onUpdate:modelValue":[v[0]||(v[0]=N=>a.value=N),c],type:"date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar",class:"input-hover",max:s.value,"onClick:clear":A},null,8,["modelValue","max"]),a.value?(V(),he(b,{key:0,size:"small",color:"primary",variant:"outlined",closable:"",class:"mt-2","onClick:close":A},{default:d(()=>[Q(" Date: "+J(i(a.value)),1)]),_:1})):Be("",!0)]),_:1})]),_:1}),p("div",tLe,[l(T,{variant:"outlined",color:"secondary","prepend-icon":"mdi-filter-remove",onClick:f,class:"btn-hover-enhanced",disabled:!o.value},{default:d(()=>[...v[6]||(v[6]=[Q(" Clear All Filters ",-1)])]),_:1},8,["disabled"])])])]),_:1})}}},rLe=on(nLe,[["__scopeId","data-v-c453a788"]]),aLe={class:"scrollable-content"},sLe={class:"scrollable-content"},oLe={class:"text-center"},iLe={class:"text-center"},lLe={class:"text-body-2 text-medium-emphasis mb-4"},cLe={class:"text-center"},uLe={key:0,class:"text-warning ml-1"},dLe={key:1,class:"text-body-2 text-medium-emphasis ml-2",style:{"font-weight":"500"}},ALe={key:0,class:"text-body-2 text-medium-emphasis mb-2"},fLe={class:"font-weight-medium ml-1"},mLe={class:"d-flex align-center flex-wrap"},hLe={key:0,class:"text-body-2 text-medium-emphasis mr-3"},vLe={key:1,class:"text-body-2 text-medium-emphasis mr-3"},pLe={__name:"payments",setup(e){const{showSnackbar:t}=dr(),n=pr(),r=H(0),a=H([]),s=H(""),o=H(null),i=H(!1),c=H(null),A=H(!1),u=H(!1),f=H(!1),m=H(null),v=H(!1),h=H(null),y=H(!1);Z(()=>Jn());const w=Z(()=>n.getters["doctorModule/isGSTRegistered"]),b=async()=>{if(!i.value)try{i.value=!0,c.value=null;const K=await C8(n,s.value?.trim()||"");if(K.error)throw new Error(`Search failed: ${K.error.message||"Unknown error"}`);const ee=Array.isArray(K.data)?K.data:[];a.value=ee.filter(j=>j.status!=="Series"),A.value=!0,s.value&&t({message:`Found ${a.value.length} payment receipt${a.value.length!==1?"s":""}`,color:"success",timeout:3e3})}catch(K){console.error("Error fetching payment receipts:",K),c.value=K.message||"Failed to search payment receipts",a.value=[],A.value=!0,t({message:c.value,color:"error",timeout:5e3})}finally{i.value=!1}},B=()=>{c.value=null,b()},S=()=>{try{s.value="",c.value=null,A.value=!0,b(),t({message:"Filters cleared successfully",color:"success",timeout:3e3})}catch(K){console.error("Error clearing filters:",K),o.value="Failed to clear filters"}},T=K=>{s.value=K.paymentDate||"",K.hasErrors||(A.value=!0,le())},N=K=>{s.value=K.paymentDate||"",b()},k=K=>{if(w.value){const ee=a.value.find(U=>U.id===K),j=ee?.billId||ee?.billid;j?(h.value=j,v.value=!0):(t({message:"No associated bill found. Showing payment receipt view.",color:"info",timeout:3e3}),m.value=K,u.value=!0)}else m.value=K,u.value=!0},E=K=>{if(w.value){const ee=a.value.find(U=>U.id===K),j=ee?.billId||ee?.billid;j?(h.value=j,y.value=!0):(t({message:"No associated bill found. Showing payment receipt edit.",color:"info",timeout:3e3}),m.value=K,f.value=!0)}else console.log("Edit receipt:",K),m.value=K,f.value=!0},_=()=>{u.value=!1,m.value=null},C=()=>{f.value=!1,m.value=null},F=K=>{u.value=!1,m.value=K,f.value=!0},I=()=>{v.value=!1,h.value=null},R=K=>{v.value=!1,h.value=null,h.value=K,y.value=!0},M=()=>{y.value=!1,h.value=null},te=K=>{console.log("Bill updated:",K),y.value=!1,h.value=null,b(),t({message:`Bill ${K.identifier} updated successfully!`,color:"success",timeout:3e3})},se=K=>{console.log("Receipt updated:",K),f.value=!1,m.value=null,b(),t({message:`Receipt ${K.identifier} updated successfully!`,color:"success",timeout:3e3})},O=K=>{if(!K)return"";try{return new Date(K).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return K}};let W;const le=()=>{clearTimeout(W),W=setTimeout(()=>{b()},500)};return Ge([s],()=>{A.value=!0,le()}),fn(()=>{try{A.value=!0,b()}catch(K){console.error("Error on mount:",K),o.value="Failed to initialize"}}),(K,ee)=>{const j=D("v-alert"),U=D("v-tab"),G=D("v-tabs"),ne=D("v-card"),X=D("v-col"),oe=D("v-row"),q=D("v-progress-circular"),Y=D("v-icon"),ae=D("v-btn"),ge=D("v-card-text"),we=D("v-empty-state"),z=D("v-card-title"),Ae=D("v-tooltip"),ie=D("v-divider"),_e=D("v-lazy"),Pe=D("v-window-item"),re=D("v-window"),be=D("v-main"),He=D("v-dialog");return V(),ye(ze,null,[l(be,null,{default:d(()=>[o.value?(V(),he(j,{key:0,type:"error",dismissible:"","onClick:close":ee[0]||(ee[0]=ke=>o.value=null),class:"ma-3"},{default:d(()=>[Q(J(o.value),1)]),_:1})):Be("",!0),l(oe,{"no-gutters":"",class:"pl-3 pr-3 mb-2",style:{height:"50px"}},{default:d(()=>[l(X,{cols:"12"},{default:d(()=>[l(ne,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex align-center"},{default:d(()=>[l(G,{modelValue:r.value,"onUpdate:modelValue":ee[1]||(ee[1]=ke=>r.value=ke),color:"primary","align-tabs":"start",class:"w-100"},{default:d(()=>[l(U,{value:0},{default:d(()=>[...ee[7]||(ee[7]=[Q("List",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(re,{modelValue:r.value,"onUpdate:modelValue":ee[2]||(ee[2]=ke=>r.value=ke),class:"pl-3 pr-3 stable-height-main"},{default:d(()=>[l(Pe,{value:0,style:{height:"100%"}},{default:d(()=>[l(oe,{"aria-label":"main row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(X,{cols:"4",order:"1",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",aLe,[l(rLe,{"payment-date":s.value,onFilterChange:T,onSearch:N,onClear:S},null,8,["payment-date"])])]),_:1}),l(X,{cols:"8",order:"2",class:"pl-1 stable-height-column"},{default:d(()=>[p("div",sLe,[l(ne,{flat:"",color:"surfaceContainer",style:{height:"100%"}},{default:d(()=>[i.value?(V(),he(oe,{key:0,"no-gutters":""},{default:d(()=>[l(X,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",oLe,[l(q,{indeterminate:"",color:"primary",size:"64"}),ee[8]||(ee[8]=p("div",{class:"mt-4 text-subtitle-1"},"Searching payment receipts...",-1))])]),_:1})]),_:1})):c.value?(V(),he(oe,{key:1,"no-gutters":""},{default:d(()=>[l(X,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",iLe,[l(Y,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...ee[9]||(ee[9]=[Q("mdi-alert-circle",-1)])]),_:1}),ee[11]||(ee[11]=p("div",{class:"text-h6 mb-2"},"Search Failed",-1)),p("div",lLe,J(c.value),1),l(ae,{color:"primary",onClick:B,"prepend-icon":"mdi-refresh"},{default:d(()=>[...ee[10]||(ee[10]=[Q(" Try Again ",-1)])]),_:1})])]),_:1})]),_:1})):a.value&&a.value.length===0&&A.value?(V(),ye(ze,{key:2},[l(ne,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(ge,{class:"pt-2 pb-0"},{default:d(()=>[...ee[12]||(ee[12]=[p("strong",null,"0",-1),Q(" results found ",-1)])]),_:1})]),_:1}),l(we,{image:We(Um),class:"d-flex justify-center"},{title:d(()=>[...ee[13]||(ee[13]=[p("div",{class:"text-subtitle-2 mt-8 text-center"}," No Payment Receipts Found ",-1)])]),text:d(()=>[...ee[14]||(ee[14]=[p("div",{class:"text-caption text-center"}," Try adjusting your search criteria or clear filters to see all receipts ",-1)])]),actions:d(()=>[l(ae,{color:"primary",variant:"outlined",onClick:S,"prepend-icon":"mdi-filter-remove"},{default:d(()=>[...ee[15]||(ee[15]=[Q(" Clear Filters ",-1)])]),_:1})]),_:1},8,["image"])],64)):A.value?a.value&&a.value.length>0?(V(),ye(ze,{key:4},[l(ne,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(ge,{class:"pt-2 pb-0"},{default:d(()=>[p("strong",null,J(a.value.length),1),Q(" result"+J(a.value.length!==1?"s":"")+" found ",1)]),_:1})]),_:1}),l(oe,{"no-gutters":""},{default:d(()=>[l(X,{cols:"12",class:"scroll-element mt-2",style:{"padding-bottom":"20px"}},{default:d(()=>[(V(!0),ye(ze,null,Jt(a.value,ke=>(V(),he(_e,{key:ke?.id||Math.random(),options:{threshold:.1,rootMargin:"50px"}},{default:d(()=>[ke?(V(),he(ne,{key:0,style:{textAlign:"left"},density:"compact",class:"mb-2 mx-2 card-enhanced card-status-default card-hover-base",rounded:"lg"},{default:d(()=>[l(oe,{"no-gutters":""},{default:d(()=>[l(X,{cols:"10"},{default:d(()=>[l(z,null,{default:d(()=>[Q(J(ke?.identifier||"Unknown Receipt")+" ",1),ke?.status==="Cancelled"?(V(),ye("span",uLe,"(Cancelled)")):Be("",!0),ke?.paymentReceiptDate?(V(),ye("span",dLe," ("+J(O(ke.paymentReceiptDate))+") ",1)):Be("",!0)]),_:2},1024),l(ge,{class:"pb-1"},{default:d(()=>[ke?.servicesInfo?(V(),ye("div",ALe,[Q(J(ke.servicesInfo)+" ",1),p("span",fLe,"("+J(We(Hr)(ke.totalAmount))+")",1)])):Be("",!0),p("div",mLe,[ke?.patientName?(V(),ye("span",hLe,[ee[19]||(ee[19]=p("strong",null,"Patient:",-1)),Q(" "+J(ke.patientName),1)])):Be("",!0),ke?.totalPaid!==void 0?(V(),ye("span",vLe,[ee[20]||(ee[20]=p("strong",null,"Paid:",-1)),Q(" "+J(We(Hr)(ke.totalPaid)),1)])):Be("",!0)])]),_:2},1024)]),_:2},1024),l(X,{cols:"2",class:"d-flex justify-center align-center"},{default:d(()=>[l(oe,{"no-gutters":""},{default:d(()=>[l(X,{cols:"12",class:"d-flex justify-center align-center"},{default:d(()=>[l(Ae,{text:"View Receipt"},{activator:d(({props:Se})=>[l(ae,Ne({variant:"plain",color:"primary",size:"small"},{ref_for:!0},Se,{onClick:Qn(st=>k(ke.id),["stop"]),class:"btn-hover-base mb-2"}),{default:d(()=>[l(Y,{size:"18"},{default:d(()=>[...ee[21]||(ee[21]=[Q("mdi-eye",-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024)]),_:2},1024),l(ie,{class:"mx-4"}),l(X,{cols:"12",class:"d-flex justify-center align-center"},{default:d(()=>[l(Ae,{text:"Edit Receipt"},{activator:d(({props:Se})=>[l(ae,Ne({variant:"plain",color:"secondary",size:"small"},{ref_for:!0},Se,{onClick:Qn(st=>E(ke.id),["stop"]),class:"btn-hover-base mt-1"}),{default:d(()=>[l(Y,{size:"18"},{default:d(()=>[...ee[22]||(ee[22]=[Q("mdi-pencil",-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):Be("",!0)]),_:2},1024))),128))]),_:1})]),_:1})],64)):Be("",!0):(V(),he(oe,{key:3,"no-gutters":""},{default:d(()=>[l(X,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",cLe,[l(Y,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...ee[16]||(ee[16]=[Q("mdi-currency-inr",-1)])]),_:1}),ee[17]||(ee[17]=p("div",{class:"text-h6 mb-2"},"Search for Payment Receipts",-1)),ee[18]||(ee[18]=p("div",{class:"text-body-2 text-medium-emphasis"},"Use the filters on the left to find payment receipts",-1))])]),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(He,{modelValue:u.value,"onUpdate:modelValue":ee[3]||(ee[3]=ke=>u.value=ke),persistent:"","max-width":"70%"},{default:d(()=>[m.value?(V(),he(VM,{key:0,"receipt-id":m.value,onClose:_,onEditReceipt:F},null,8,["receipt-id"])):Be("",!0)]),_:1},8,["modelValue"]),l(He,{modelValue:v.value,"onUpdate:modelValue":ee[4]||(ee[4]=ke=>v.value=ke),persistent:"","max-width":"80%"},{default:d(()=>[h.value?(V(),he(QM,{key:0,"bill-id":h.value,onClose:I,onEditBill:R},null,8,["bill-id"])):Be("",!0)]),_:1},8,["modelValue"]),l(He,{modelValue:f.value,"onUpdate:modelValue":ee[5]||(ee[5]=ke=>f.value=ke),persistent:"","max-width":"70%"},{default:d(()=>[m.value?(V(),he(I8,{key:0,"receipt-id":m.value,onClose:C,onReceiptUpdated:se},null,8,["receipt-id"])):Be("",!0)]),_:1},8,["modelValue"]),l(He,{modelValue:y.value,"onUpdate:modelValue":ee[6]||(ee[6]=ke=>y.value=ke),persistent:"","max-width":"85%"},{default:d(()=>[h.value?(V(),he(HM,{key:0,"bill-id":h.value,onClose:M,onBillUpdated:te},null,8,["bill-id"])):Be("",!0)]),_:1},8,["modelValue"])],64)}}},gLe=on(pLe,[["__scopeId","data-v-caebcbc3"]]),yLe={class:"filter-header pa-2 mb-2"},wLe={class:"text-h6 font-weight-medium text-primary"},_Le={class:"filter-cards-container pa-2",style:{flex:"1 1 auto"}},bLe={class:"status-chip-wrapper"},xLe={class:"d-flex justify-center mt-2 mb-2"},CLe={class:"d-flex justify-center mt-2"},ELe={__name:"PharmacyQueueFilter",props:{billDate:{type:String,default:""},status:{type:String,default:null},isSearching:{type:Boolean,default:!1}},emits:["filter-change","search","clear"],setup(e,{emit:t}){const n=e,r=t,a=H(n.billDate||""),s=H(n.status!==null?n.status:null),o=[{value:null,label:"All"},{value:"Draft",label:"Draft"},{value:"Finalized",label:"Finalized"},{value:"Cancelled",label:"Cancelled"},{value:"Refund",label:"Refund"}],i=Z(()=>Jn()),c=Z(()=>!!a.value||s.value!==null),A=()=>{v()},u=()=>{a.value="",v()},f=()=>{v()},m=w=>{s.value=w,f()},v=()=>{r("filter-change",{billDate:a.value,status:s.value,hasErrors:!1,hasFilters:c.value})},h=()=>{r("search",{billDate:a.value,status:s.value})},y=()=>{a.value="",s.value=null,r("clear"),v()};return Ge(()=>n.billDate,w=>{a.value=w||""}),Ge(()=>n.status,w=>{s.value=w!==void 0?w:null}),v(),(w,b)=>{const B=D("v-icon"),S=D("v-card-title"),T=D("v-text-field"),N=D("v-card-text"),k=D("v-card"),E=D("v-chip"),_=D("v-btn");return V(),he(k,{color:"surfaceContainer",flat:"",style:{height:"100%",display:"flex","flex-direction":"column"}},{default:d(()=>[p("div",yLe,[p("h3",wLe,[l(B,{class:"mr-2",color:"primary"},{default:d(()=>[...b[1]||(b[1]=[Q("mdi-filter-variant",-1)])]),_:1}),b[2]||(b[2]=Q(" Filter Pharmacy Bills ",-1))]),b[3]||(b[3]=p("p",{class:"text-caption text-medium-emphasis mb-0"},"Refine your search criteria",-1))]),p("div",_Le,[l(k,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(S,{class:"pa-0 pb-2"},{default:d(()=>[l(B,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...b[4]||(b[4]=[Q("mdi-calendar-search",-1)])]),_:1}),b[5]||(b[5]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Bill Date",-1))]),_:1}),l(N,{class:"pa-0"},{default:d(()=>[l(T,{modelValue:a.value,"onUpdate:modelValue":[b[0]||(b[0]=C=>a.value=C),A],type:"date",density:"comfortable",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar",class:"input-hover",max:i.value,"onClick:clear":u},null,8,["modelValue","max"])]),_:1})]),_:1}),l(k,{class:"form-section-card card-status-default ma-2 mb-3 pa-3",elevation:"2"},{default:d(()=>[l(S,{class:"pa-0 pb-2"},{default:d(()=>[l(B,{class:"mr-2",size:"small",color:"primary"},{default:d(()=>[...b[6]||(b[6]=[Q("mdi-filter-outline",-1)])]),_:1}),b[7]||(b[7]=p("span",{class:"text-subtitle-1 font-weight-medium"},"Status",-1))]),_:1}),l(N,{class:"pa-0"},{default:d(()=>[p("div",bLe,[(V(),ye(ze,null,Jt(o,C=>l(E,{key:C.value,size:"small",variant:s.value===C.value?"flat":"outlined",color:s.value===C.value?"primary":"default",class:rt(["ma-1 status-chip",{"status-chip-active":s.value===C.value}]),onClick:F=>m(C.value)},{default:d(()=>[s.value===C.value?(V(),he(B,{key:0,size:"small",class:"mr-1"},{default:d(()=>[...b[8]||(b[8]=[Q(" mdi-check-circle ",-1)])]),_:1})):Be("",!0),Q(" "+J(C.label),1)]),_:2},1032,["variant","color","class","onClick"])),64))])]),_:1})]),_:1}),p("div",xLe,[l(_,{color:"primary","prepend-icon":"mdi-magnify",onClick:h,class:"btn-hover-enhanced",loading:e.isSearching},{default:d(()=>[...b[9]||(b[9]=[Q(" Search Bills ",-1)])]),_:1},8,["loading"])]),p("div",CLe,[l(_,{variant:"outlined",color:"secondary","prepend-icon":"mdi-filter-remove",onClick:y,class:"btn-hover-enhanced",disabled:!c.value},{default:d(()=>[...b[10]||(b[10]=[Q(" Clear All Filters ",-1)])]),_:1},8,["disabled"])])])]),_:1})}}},BLe=on(ELe,[["__scopeId","data-v-283f964b"]]);/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Jf=9e15,pd=1e9,$E="0123456789abcdef",S2="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",k2="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",WE={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Jf,maxE:Jf,crypto:!1},dH,Mc,Tn=!0,jw="[DecimalError] ",sd=jw+"Invalid argument: ",AH=jw+"Precision limit exceeded",fH=jw+"crypto unavailable",mH="[object Decimal]",Ks=Math.floor,Qa=Math.pow,SLe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,kLe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ILe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,hH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rl=1e7,wn=7,TLe=9007199254740991,FLe=S2.length-1,jE=k2.length-1,Nt={toStringTag:mH};Nt.absoluteValue=Nt.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),vn(e)};Nt.ceil=function(){return vn(new this.constructor(this),this.e+1,2)};Nt.clampedTo=Nt.clamp=function(e,t){var n,r=this,a=r.constructor;if(e=new a(e),t=new a(t),!e.s||!t.s)return new a(NaN);if(e.gt(t))throw Error(sd+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new a(r)};Nt.comparedTo=Nt.cmp=function(e){var t,n,r,a,s=this,o=s.d,i=(e=new s.constructor(e)).d,c=s.s,A=e.s;if(!o||!i)return!c||!A?NaN:c!==A?c:o===i?0:!o^c<0?1:-1;if(!o[0]||!i[0])return o[0]?c:i[0]?-A:0;if(c!==A)return c;if(s.e!==e.e)return s.e>e.e^c<0?1:-1;for(r=o.length,a=i.length,t=0,n=r<a?r:a;t<n;++t)if(o[t]!==i[t])return o[t]>i[t]^c<0?1:-1;return r===a?0:r>a^c<0?1:-1};Nt.cosine=Nt.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+wn,r.rounding=1,n=PLe(r,wH(r,n)),r.precision=e,r.rounding=t,vn(Mc==2||Mc==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};Nt.cubeRoot=Nt.cbrt=function(){var e,t,n,r,a,s,o,i,c,A,u=this,f=u.constructor;if(!u.isFinite()||u.isZero())return new f(u);for(Tn=!1,s=u.s*Qa(u.s*u,1/3),!s||Math.abs(s)==1/0?(n=ms(u.d),e=u.e,(s=(e-n.length+1)%3)&&(n+=s==1||s==-2?"0":"00"),s=Qa(n,1/3),e=Ks((e+1)/3)-(e%3==(e<0?-1:2)),s==1/0?n="5e"+e:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new f(n),r.s=u.s):r=new f(s.toString()),o=(e=f.precision)+3;;)if(i=r,c=i.times(i).times(i),A=c.plus(u),r=Lr(A.plus(u).times(i),A.plus(c),o+2,1),ms(i.d).slice(0,o)===(n=ms(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!a&&n=="4999"){if(!a&&(vn(i,e+1,0),i.times(i).times(i).eq(u))){r=i;break}o+=4,a=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(vn(r,e+1,1),t=!r.times(r).times(r).eq(u));break}return Tn=!0,vn(r,e,f.rounding,t)};Nt.decimalPlaces=Nt.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-Ks(this.e/wn))*wn,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};Nt.dividedBy=Nt.div=function(e){return Lr(this,new this.constructor(e))};Nt.dividedToIntegerBy=Nt.divToInt=function(e){var t=this,n=t.constructor;return vn(Lr(t,new n(e),0,1,1),n.precision,n.rounding)};Nt.equals=Nt.eq=function(e){return this.cmp(e)===0};Nt.floor=function(){return vn(new this.constructor(this),this.e+1,3)};Nt.greaterThan=Nt.gt=function(e){return this.cmp(e)>0};Nt.greaterThanOrEqualTo=Nt.gte=function(e){var t=this.cmp(e);return t==1||t===0};Nt.hyperbolicCosine=Nt.cosh=function(){var e,t,n,r,a,s=this,o=s.constructor,i=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return i;n=o.precision,r=o.rounding,o.precision=n+Math.max(s.e,s.sd())+4,o.rounding=1,a=s.d.length,a<32?(e=Math.ceil(a/3),t=(1/qw(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),s=Lm(o,1,s.times(t),new o(1),!0);for(var c,A=e,u=new o(8);A--;)c=s.times(s),s=i.minus(c.times(u.minus(c.times(u))));return vn(s,o.precision=n,o.rounding=r,!0)};Nt.hyperbolicSine=Nt.sinh=function(){var e,t,n,r,a=this,s=a.constructor;if(!a.isFinite()||a.isZero())return new s(a);if(t=s.precision,n=s.rounding,s.precision=t+Math.max(a.e,a.sd())+4,s.rounding=1,r=a.d.length,r<3)a=Lm(s,2,a,a,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,a=a.times(1/qw(5,e)),a=Lm(s,2,a,a,!0);for(var o,i=new s(5),c=new s(16),A=new s(20);e--;)o=a.times(a),a=a.times(i.plus(o.times(c.times(o).plus(A))))}return s.precision=t,s.rounding=n,vn(a,t,n,!0)};Nt.hyperbolicTangent=Nt.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,Lr(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};Nt.inverseCosine=Nt.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,a=t.rounding;return n!==-1?n===0?e.isNeg()?Ol(t,r,a):new t(0):new t(NaN):e.isZero()?Ol(t,r+4,a).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=a,e.times(2))};Nt.inverseHyperbolicCosine=Nt.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Tn=!1,n=n.times(n).minus(1).sqrt().plus(n),Tn=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};Nt.inverseHyperbolicSine=Nt.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Tn=!1,n=n.times(n).plus(1).sqrt().plus(n),Tn=!0,r.precision=e,r.rounding=t,n.ln())};Nt.inverseHyperbolicTangent=Nt.atanh=function(){var e,t,n,r,a=this,s=a.constructor;return a.isFinite()?a.e>=0?new s(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(e=s.precision,t=s.rounding,r=a.sd(),Math.max(r,e)<2*-a.e-1?vn(new s(a),e,t,!0):(s.precision=n=r-a.e,a=Lr(a.plus(1),new s(1).minus(a),n+e,1),s.precision=e+4,s.rounding=1,a=a.ln(),s.precision=e,s.rounding=t,a.times(.5))):new s(NaN)};Nt.inverseSine=Nt.asin=function(){var e,t,n,r,a=this,s=a.constructor;return a.isZero()?new s(a):(t=a.abs().cmp(1),n=s.precision,r=s.rounding,t!==-1?t===0?(e=Ol(s,n+4,r).times(.5),e.s=a.s,e):new s(NaN):(s.precision=n+6,s.rounding=1,a=a.div(new s(1).minus(a.times(a)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,a.times(2)))};Nt.inverseTangent=Nt.atan=function(){var e,t,n,r,a,s,o,i,c,A=this,u=A.constructor,f=u.precision,m=u.rounding;if(A.isFinite()){if(A.isZero())return new u(A);if(A.abs().eq(1)&&f+4<=jE)return o=Ol(u,f+4,m).times(.25),o.s=A.s,o}else{if(!A.s)return new u(NaN);if(f+4<=jE)return o=Ol(u,f+4,m).times(.5),o.s=A.s,o}for(u.precision=i=f+10,u.rounding=1,n=Math.min(28,i/wn+2|0),e=n;e;--e)A=A.div(A.times(A).plus(1).sqrt().plus(1));for(Tn=!1,t=Math.ceil(i/wn),r=1,c=A.times(A),o=new u(A),a=A;e!==-1;)if(a=a.times(c),s=o.minus(a.div(r+=2)),a=a.times(c),o=s.plus(a.div(r+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===s.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),Tn=!0,vn(o,u.precision=f,u.rounding=m,!0)};Nt.isFinite=function(){return!!this.d};Nt.isInteger=Nt.isInt=function(){return!!this.d&&Ks(this.e/wn)>this.d.length-2};Nt.isNaN=function(){return!this.s};Nt.isNegative=Nt.isNeg=function(){return this.s<0};Nt.isPositive=Nt.isPos=function(){return this.s>0};Nt.isZero=function(){return!!this.d&&this.d[0]===0};Nt.lessThan=Nt.lt=function(e){return this.cmp(e)<0};Nt.lessThanOrEqualTo=Nt.lte=function(e){return this.cmp(e)<1};Nt.logarithm=Nt.log=function(e){var t,n,r,a,s,o,i,c,A=this,u=A.constructor,f=u.precision,m=u.rounding,v=5;if(e==null)e=new u(10),t=!0;else{if(e=new u(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(n=A.d,A.s<0||!n||!n[0]||A.eq(1))return new u(n&&!n[0]?-1/0:A.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)s=!0;else{for(a=n[0];a%10===0;)a/=10;s=a!==1}if(Tn=!1,i=f+v,o=Ku(A,i),r=t?I2(u,i+10):Ku(e,i),c=Lr(o,r,i,1),Qv(c.d,a=f,m))do if(i+=10,o=Ku(A,i),r=t?I2(u,i+10):Ku(e,i),c=Lr(o,r,i,1),!s){+ms(c.d).slice(a+1,a+15)+1==1e14&&(c=vn(c,f+1,0));break}while(Qv(c.d,a+=10,m));return Tn=!0,vn(c,f,m)};Nt.minus=Nt.sub=function(e){var t,n,r,a,s,o,i,c,A,u,f,m,v=this,h=v.constructor;if(e=new h(e),!v.d||!e.d)return!v.s||!e.s?e=new h(NaN):v.d?e.s=-e.s:e=new h(e.d||v.s!==e.s?v:NaN),e;if(v.s!=e.s)return e.s=-e.s,v.plus(e);if(A=v.d,m=e.d,i=h.precision,c=h.rounding,!A[0]||!m[0]){if(m[0])e.s=-e.s;else if(A[0])e=new h(v);else return new h(c===3?-0:0);return Tn?vn(e,i,c):e}if(n=Ks(e.e/wn),u=Ks(v.e/wn),A=A.slice(),s=u-n,s){for(f=s<0,f?(t=A,s=-s,o=m.length):(t=m,n=u,o=A.length),r=Math.max(Math.ceil(i/wn),o)+2,s>r&&(s=r,t.length=1),t.reverse(),r=s;r--;)t.push(0);t.reverse()}else{for(r=A.length,o=m.length,f=r<o,f&&(o=r),r=0;r<o;r++)if(A[r]!=m[r]){f=A[r]<m[r];break}s=0}for(f&&(t=A,A=m,m=t,e.s=-e.s),o=A.length,r=m.length-o;r>0;--r)A[o++]=0;for(r=m.length;r>s;){if(A[--r]<m[r]){for(a=r;a&&A[--a]===0;)A[a]=rl-1;--A[a],A[r]+=rl}A[r]-=m[r]}for(;A[--o]===0;)A.pop();for(;A[0]===0;A.shift())--n;return A[0]?(e.d=A,e.e=Jw(A,n),Tn?vn(e,i,c):e):new h(c===3?-0:0)};Nt.modulo=Nt.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?vn(new r(n),r.precision,r.rounding):(Tn=!1,r.modulo==9?(t=Lr(n,e.abs(),0,3,1),t.s*=e.s):t=Lr(n,e,0,r.modulo,1),t=t.times(e),Tn=!0,n.minus(t))};Nt.naturalExponential=Nt.exp=function(){return JE(this)};Nt.naturalLogarithm=Nt.ln=function(){return Ku(this)};Nt.negated=Nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s,vn(e)};Nt.plus=Nt.add=function(e){var t,n,r,a,s,o,i,c,A,u,f=this,m=f.constructor;if(e=new m(e),!f.d||!e.d)return!f.s||!e.s?e=new m(NaN):f.d||(e=new m(e.d||f.s===e.s?f:NaN)),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(A=f.d,u=e.d,i=m.precision,c=m.rounding,!A[0]||!u[0])return u[0]||(e=new m(f)),Tn?vn(e,i,c):e;if(s=Ks(f.e/wn),r=Ks(e.e/wn),A=A.slice(),a=s-r,a){for(a<0?(n=A,a=-a,o=u.length):(n=u,r=s,o=A.length),s=Math.ceil(i/wn),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=A.length,a=u.length,o-a<0&&(a=o,n=u,u=A,A=n),t=0;a;)t=(A[--a]=A[a]+u[a]+t)/rl|0,A[a]%=rl;for(t&&(A.unshift(t),++r),o=A.length;A[--o]==0;)A.pop();return e.d=A,e.e=Jw(A,r),Tn?vn(e,i,c):e};Nt.precision=Nt.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sd+e);return n.d?(t=vH(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};Nt.round=function(){var e=this,t=e.constructor;return vn(new t(e),e.e+1,t.rounding)};Nt.sine=Nt.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+wn,r.rounding=1,n=ULe(r,wH(r,n)),r.precision=e,r.rounding=t,vn(Mc>2?n.neg():n,e,t,!0)):new r(NaN)};Nt.squareRoot=Nt.sqrt=function(){var e,t,n,r,a,s,o=this,i=o.d,c=o.e,A=o.s,u=o.constructor;if(A!==1||!i||!i[0])return new u(!A||A<0&&(!i||i[0])?NaN:i?o:1/0);for(Tn=!1,A=Math.sqrt(+o),A==0||A==1/0?(t=ms(i),(t.length+c)%2==0&&(t+="0"),A=Math.sqrt(t),c=Ks((c+1)/2)-(c<0||c%2),A==1/0?t="5e"+c:(t=A.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),r=new u(t)):r=new u(A.toString()),n=(c=u.precision)+3;;)if(s=r,r=s.plus(Lr(o,s,n+2,1)).times(.5),ms(s.d).slice(0,n)===(t=ms(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!a&&t=="4999"){if(!a&&(vn(s,c+1,0),s.times(s).eq(o))){r=s;break}n+=4,a=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(vn(r,c+1,1),e=!r.times(r).eq(o));break}return Tn=!0,vn(r,c,u.rounding,e)};Nt.tangent=Nt.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=Lr(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,vn(Mc==2||Mc==4?n.neg():n,e,t,!0)):new r(NaN)};Nt.times=Nt.mul=function(e){var t,n,r,a,s,o,i,c,A,u=this,f=u.constructor,m=u.d,v=(e=new f(e)).d;if(e.s*=u.s,!m||!m[0]||!v||!v[0])return new f(!e.s||m&&!m[0]&&!v||v&&!v[0]&&!m?NaN:!m||!v?e.s/0:e.s*0);for(n=Ks(u.e/wn)+Ks(e.e/wn),c=m.length,A=v.length,c<A&&(s=m,m=v,v=s,o=c,c=A,A=o),s=[],o=c+A,r=o;r--;)s.push(0);for(r=A;--r>=0;){for(t=0,a=c+r;a>r;)i=s[a]+v[r]*m[a-r-1]+t,s[a--]=i%rl|0,t=i/rl|0;s[a]=(s[a]+t)%rl|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=Jw(s,n),Tn?vn(e,f.precision,f.rounding):e};Nt.toBinary=function(e,t){return tI(this,2,e,t)};Nt.toDecimalPlaces=Nt.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Uo(e,0,pd),t===void 0?t=r.rounding:Uo(t,0,8),vn(n,e+n.e+1,t))};Nt.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Yl(r,!0):(Uo(e,0,pd),t===void 0?t=a.rounding:Uo(t,0,8),r=vn(new a(r),e+1,t),n=Yl(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};Nt.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?n=Yl(a):(Uo(e,0,pd),t===void 0?t=s.rounding:Uo(t,0,8),r=vn(new s(a),e+a.e+1,t),n=Yl(r,!1,e+r.e+1)),a.isNeg()&&!a.isZero()?"-"+n:n};Nt.toFraction=function(e){var t,n,r,a,s,o,i,c,A,u,f,m,v=this,h=v.d,y=v.constructor;if(!h)return new y(v);if(A=n=new y(1),r=c=new y(0),t=new y(r),s=t.e=vH(h)-v.e-1,o=s%wn,t.d[0]=Qa(10,o<0?wn+o:o),e==null)e=s>0?t:A;else{if(i=new y(e),!i.isInt()||i.lt(A))throw Error(sd+i);e=i.gt(t)?s>0?t:A:i}for(Tn=!1,i=new y(ms(h)),u=y.precision,y.precision=s=h.length*wn*2;f=Lr(i,t,0,1,1),a=n.plus(f.times(r)),a.cmp(e)!=1;)n=r,r=a,a=A,A=c.plus(f.times(a)),c=a,a=t,t=i.minus(f.times(a)),i=a;return a=Lr(e.minus(n),r,0,1,1),c=c.plus(a.times(A)),n=n.plus(a.times(r)),c.s=A.s=v.s,m=Lr(A,r,s,1).minus(v).abs().cmp(Lr(c,n,s,1).minus(v).abs())<1?[A,r]:[c,n],y.precision=u,Tn=!0,m};Nt.toHexadecimal=Nt.toHex=function(e,t){return tI(this,16,e,t)};Nt.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:Uo(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(Tn=!1,n=Lr(n,e,0,t,1).times(e),Tn=!0,vn(n)):(e.s=n.s,n=e),n};Nt.toNumber=function(){return+this};Nt.toOctal=function(e,t){return tI(this,8,e,t)};Nt.toPower=Nt.pow=function(e){var t,n,r,a,s,o,i=this,c=i.constructor,A=+(e=new c(e));if(!i.d||!e.d||!i.d[0]||!e.d[0])return new c(Qa(+i,A));if(i=new c(i),i.eq(1))return i;if(r=c.precision,s=c.rounding,e.eq(1))return vn(i,r,s);if(t=Ks(e.e/wn),t>=e.d.length-1&&(n=A<0?-A:A)<=TLe)return a=pH(c,i,n,r),e.s<0?new c(1).div(a):vn(a,r,s);if(o=i.s,o<0){if(t<e.d.length-1)return new c(NaN);if((e.d[t]&1)==0&&(o=1),i.e==0&&i.d[0]==1&&i.d.length==1)return i.s=o,i}return n=Qa(+i,A),t=n==0||!isFinite(n)?Ks(A*(Math.log("0."+ms(i.d))/Math.LN10+i.e+1)):new c(n+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(Tn=!1,c.rounding=i.s=1,n=Math.min(12,(t+"").length),a=JE(e.times(Ku(i,r+n)),r),a.d&&(a=vn(a,r+5,1),Qv(a.d,r,s)&&(t=r+10,a=vn(JE(e.times(Ku(i,t+n)),t),t+5,1),+ms(a.d).slice(r+1,r+15)+1==1e14&&(a=vn(a,r+1,0)))),a.s=o,Tn=!0,c.rounding=s,vn(a,r,s))};Nt.toPrecision=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Yl(r,r.e<=a.toExpNeg||r.e>=a.toExpPos):(Uo(e,1,pd),t===void 0?t=a.rounding:Uo(t,0,8),r=vn(new a(r),e,t),n=Yl(r,e<=r.e||r.e<=a.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};Nt.toSignificantDigits=Nt.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Uo(e,1,pd),t===void 0?t=r.rounding:Uo(t,0,8)),vn(new r(n),e,t)};Nt.toString=function(){var e=this,t=e.constructor,n=Yl(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};Nt.truncated=Nt.trunc=function(){return vn(new this.constructor(this),this.e+1,1)};Nt.valueOf=Nt.toJSON=function(){var e=this,t=e.constructor,n=Yl(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function ms(e){var t,n,r,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)r=e[t]+"",n=wn-r.length,n&&(s+=Pu(n)),s+=r;o=e[t],r=o+"",n=wn-r.length,n&&(s+=Pu(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}function Uo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(sd+e)}function Qv(e,t,n,r){var a,s,o,i;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=wn,a=0):(a=Math.ceil((t+1)/wn),t%=wn),s=Qa(10,wn-t),i=e[a]%s|0,r==null?t<3?(t==0?i=i/100|0:t==1&&(i=i/10|0),o=n<4&&i==99999||n>3&&i==49999||i==5e4||i==0):o=(n<4&&i+1==s||n>3&&i+1==s/2)&&(e[a+1]/s/100|0)==Qa(10,t-2)-1||(i==s/2||i==0)&&(e[a+1]/s/100|0)==0:t<4?(t==0?i=i/1e3|0:t==1?i=i/100|0:t==2&&(i=i/10|0),o=(r||n<4)&&i==9999||!r&&n>3&&i==4999):o=((r||n<4)&&i+1==s||!r&&n>3&&i+1==s/2)&&(e[a+1]/s/1e3|0)==Qa(10,t-3)-1,o}function hy(e,t,n){for(var r,a=[0],s,o=0,i=e.length;o<i;){for(s=a.length;s--;)a[s]*=t;for(a[0]+=$E.indexOf(e.charAt(o++)),r=0;r<a.length;r++)a[r]>n-1&&(a[r+1]===void 0&&(a[r+1]=0),a[r+1]+=a[r]/n|0,a[r]%=n)}return a.reverse()}function PLe(e,t){var n,r,a;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),a=(1/qw(4,n)).toString()):(n=16,a="2.3283064365386962890625e-10"),e.precision+=n,t=Lm(e,1,t.times(a),new e(1));for(var s=n;s--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}var Lr=(function(){function e(r,a,s){var o,i=0,c=r.length;for(r=r.slice();c--;)o=r[c]*a+i,r[c]=o%s|0,i=o/s|0;return i&&r.unshift(i),r}function t(r,a,s,o){var i,c;if(s!=o)c=s>o?1:-1;else for(i=c=0;i<s;i++)if(r[i]!=a[i]){c=r[i]>a[i]?1:-1;break}return c}function n(r,a,s,o){for(var i=0;s--;)r[s]-=i,i=r[s]<a[s]?1:0,r[s]=i*o+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,o,i,c){var A,u,f,m,v,h,y,w,b,B,S,T,N,k,E,_,C,F,I,R,M=r.constructor,te=r.s==a.s?1:-1,se=r.d,O=a.d;if(!se||!se[0]||!O||!O[0])return new M(!r.s||!a.s||(se?O&&se[0]==O[0]:!O)?NaN:se&&se[0]==0||!O?te*0:te/0);for(c?(v=1,u=r.e-a.e):(c=rl,v=wn,u=Ks(r.e/v)-Ks(a.e/v)),I=O.length,C=se.length,b=new M(te),B=b.d=[],f=0;O[f]==(se[f]||0);f++);if(O[f]>(se[f]||0)&&u--,s==null?(k=s=M.precision,o=M.rounding):i?k=s+(r.e-a.e)+1:k=s,k<0)B.push(1),h=!0;else{if(k=k/v+2|0,f=0,I==1){for(m=0,O=O[0],k++;(f<C||m)&&k--;f++)E=m*c+(se[f]||0),B[f]=E/O|0,m=E%O|0;h=m||f<C}else{for(m=c/(O[0]+1)|0,m>1&&(O=e(O,m,c),se=e(se,m,c),I=O.length,C=se.length),_=I,S=se.slice(0,I),T=S.length;T<I;)S[T++]=0;R=O.slice(),R.unshift(0),F=O[0],O[1]>=c/2&&++F;do m=0,A=t(O,S,I,T),A<0?(N=S[0],I!=T&&(N=N*c+(S[1]||0)),m=N/F|0,m>1?(m>=c&&(m=c-1),y=e(O,m,c),w=y.length,T=S.length,A=t(y,S,w,T),A==1&&(m--,n(y,I<w?R:O,w,c))):(m==0&&(A=m=1),y=O.slice()),w=y.length,w<T&&y.unshift(0),n(S,y,T,c),A==-1&&(T=S.length,A=t(O,S,I,T),A<1&&(m++,n(S,I<T?R:O,T,c))),T=S.length):A===0&&(m++,S=[0]),B[f++]=m,A&&S[0]?S[T++]=se[_]||0:(S=[se[_]],T=1);while((_++<C||S[0]!==void 0)&&k--);h=S[0]!==void 0}B[0]||B.shift()}if(v==1)b.e=u,dH=h;else{for(f=1,m=B[0];m>=10;m/=10)f++;b.e=f+u*v-1,vn(b,i?s+b.e+1:s,o,h)}return b}})();function vn(e,t,n,r){var a,s,o,i,c,A,u,f,m,v=e.constructor;e:if(t!=null){if(f=e.d,!f)return e;for(a=1,i=f[0];i>=10;i/=10)a++;if(s=t-a,s<0)s+=wn,o=t,u=f[m=0],c=u/Qa(10,a-o-1)%10|0;else if(m=Math.ceil((s+1)/wn),i=f.length,m>=i)if(r){for(;i++<=m;)f.push(0);u=c=0,a=1,s%=wn,o=s-wn+1}else break e;else{for(u=i=f[m],a=1;i>=10;i/=10)a++;s%=wn,o=s-wn+a,c=o<0?0:u/Qa(10,a-o-1)%10|0}if(r=r||t<0||f[m+1]!==void 0||(o<0?u:u%Qa(10,a-o-1)),A=n<4?(c||r)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(s>0?o>0?u/Qa(10,a-o):0:f[m-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,A?(t-=e.e+1,f[0]=Qa(10,(wn-t%wn)%wn),e.e=-t||0):f[0]=e.e=0,e;if(s==0?(f.length=m,i=1,m--):(f.length=m+1,i=Qa(10,wn-s),f[m]=o>0?(u/Qa(10,a-o)%Qa(10,o)|0)*i:0),A)for(;;)if(m==0){for(s=1,o=f[0];o>=10;o/=10)s++;for(o=f[0]+=i,i=1;o>=10;o/=10)i++;s!=i&&(e.e++,f[0]==rl&&(f[0]=1));break}else{if(f[m]+=i,f[m]!=rl)break;f[m--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop()}return Tn&&(e.e>v.maxE?(e.d=null,e.e=NaN):e.e<v.minE&&(e.e=0,e.d=[0])),e}function Yl(e,t,n){if(!e.isFinite())return yH(e);var r,a=e.e,s=ms(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Pu(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):a<0?(s="0."+Pu(-a-1)+s,n&&(r=n-o)>0&&(s+=Pu(r))):a>=o?(s+=Pu(a+1-o),n&&(r=n-a-1)>0&&(s=s+"."+Pu(r))):((r=a+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(s+="."),s+=Pu(r))),s}function Jw(e,t){var n=e[0];for(t*=wn;n>=10;n/=10)t++;return t}function I2(e,t,n){if(t>FLe)throw Tn=!0,n&&(e.precision=n),Error(AH);return vn(new e(S2),t,1,!0)}function Ol(e,t,n){if(t>jE)throw Error(AH);return vn(new e(k2),t,n,!0)}function vH(e){var t=e.length-1,n=t*wn+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Pu(e){for(var t="";e--;)t+="0";return t}function pH(e,t,n,r){var a,s=new e(1),o=Math.ceil(r/wn+4);for(Tn=!1;;){if(n%2&&(s=s.times(t),vR(s.d,o)&&(a=!0)),n=Ks(n/2),n===0){n=s.d.length-1,a&&s.d[n]===0&&++s.d[n];break}t=t.times(t),vR(t.d,o)}return Tn=!0,s}function hR(e){return e.d[e.d.length-1]&1}function gH(e,t,n){for(var r,a,s=new e(t[0]),o=0;++o<t.length;){if(a=new e(t[o]),!a.s){s=a;break}r=s.cmp(a),(r===n||r===0&&s.s===n)&&(s=a)}return s}function JE(e,t){var n,r,a,s,o,i,c,A=0,u=0,f=0,m=e.constructor,v=m.rounding,h=m.precision;if(!e.d||!e.d[0]||e.e>17)return new m(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(Tn=!1,c=h):c=t,i=new m(.03125);e.e>-2;)e=e.times(i),f+=5;for(r=Math.log(Qa(2,f))/Math.LN10*2+5|0,c+=r,n=s=o=new m(1),m.precision=c;;){if(s=vn(s.times(e),c,1),n=n.times(++u),i=o.plus(Lr(s,n,c,1)),ms(i.d).slice(0,c)===ms(o.d).slice(0,c)){for(a=f;a--;)o=vn(o.times(o),c,1);if(t==null)if(A<3&&Qv(o.d,c-r,v,A))m.precision=c+=10,n=s=i=new m(1),u=0,A++;else return vn(o,m.precision=h,v,Tn=!0);else return m.precision=h,o}o=i}}function Ku(e,t){var n,r,a,s,o,i,c,A,u,f,m,v=1,h=10,y=e,w=y.d,b=y.constructor,B=b.rounding,S=b.precision;if(y.s<0||!w||!w[0]||!y.e&&w[0]==1&&w.length==1)return new b(w&&!w[0]?-1/0:y.s!=1?NaN:w?0:y);if(t==null?(Tn=!1,u=S):u=t,b.precision=u+=h,n=ms(w),r=n.charAt(0),Math.abs(s=y.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=ms(y.d),r=n.charAt(0),v++;s=y.e,r>1?(y=new b("0."+n),s++):y=new b(r+"."+n.slice(1))}else return A=I2(b,u+2,S).times(s+""),y=Ku(new b(r+"."+n.slice(1)),u-h).plus(A),b.precision=S,t==null?vn(y,S,B,Tn=!0):y;for(f=y,c=o=y=Lr(y.minus(1),y.plus(1),u,1),m=vn(y.times(y),u,1),a=3;;){if(o=vn(o.times(m),u,1),A=c.plus(Lr(o,new b(a),u,1)),ms(A.d).slice(0,u)===ms(c.d).slice(0,u))if(c=c.times(2),s!==0&&(c=c.plus(I2(b,u+2,S).times(s+""))),c=Lr(c,new b(v),u,1),t==null)if(Qv(c.d,u-h,B,i))b.precision=u+=h,A=o=y=Lr(f.minus(1),f.plus(1),u,1),m=vn(y.times(y),u,1),a=i=1;else return vn(c,b.precision=S,B,Tn=!0);else return b.precision=S,c;c=A,a+=2}}function yH(e){return String(e.s*e.s/0)}function vy(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(a=t.length;t.charCodeAt(a-1)===48;--a);if(t=t.slice(r,a),t){if(a-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%wn,n<0&&(r+=wn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=wn;r<a;)e.d.push(+t.slice(r,r+=wn));t=t.slice(r),r=wn-t.length}else r-=a;for(;r--;)t+="0";e.d.push(+t),Tn&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function DLe(e,t){var n,r,a,s,o,i,c,A,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),hH.test(t))return vy(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(kLe.test(t))n=16,t=t.toLowerCase();else if(SLe.test(t))n=2;else if(ILe.test(t))n=8;else throw Error(sd+t);for(s=t.search(/p/i),s>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),o=s>=0,r=e.constructor,o&&(t=t.replace(".",""),i=t.length,s=i-s,a=pH(r,new r(n),s,s*2)),A=hy(t,n,rl),u=A.length-1,s=u;A[s]===0;--s)A.pop();return s<0?new r(e.s*0):(e.e=Jw(A,u),e.d=A,Tn=!1,o&&(e=Lr(e,a,i*4)),c&&(e=e.times(Math.abs(c)<54?Qa(2,c):Ht.pow(2,c))),Tn=!0,e)}function ULe(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Lm(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/qw(5,n)),t=Lm(e,2,t,t);for(var a,s=new e(5),o=new e(16),i=new e(20);n--;)a=t.times(t),t=t.times(s.plus(a.times(o.times(a).minus(i))));return t}function Lm(e,t,n,r,a){var s,o,i,c,A=e.precision,u=Math.ceil(A/wn);for(Tn=!1,c=n.times(n),i=new e(r);;){if(o=Lr(i.times(c),new e(t++*t++),A,1),i=a?r.plus(o):r.minus(o),r=Lr(o.times(c),new e(t++*t++),A,1),o=i.plus(r),o.d[u]!==void 0){for(s=u;o.d[s]===i.d[s]&&s--;);if(s==-1)break}s=i,i=r,r=o,o=s}return Tn=!0,o.d.length=u+1,o}function qw(e,t){for(var n=e;--t;)n*=e;return n}function wH(e,t){var n,r=t.s<0,a=Ol(e,e.precision,1),s=a.times(.5);if(t=t.abs(),t.lte(s))return Mc=r?4:1,t;if(n=t.divToInt(a),n.isZero())Mc=r?3:2;else{if(t=t.minus(n.times(a)),t.lte(s))return Mc=hR(n)?r?2:3:r?4:1,t;Mc=hR(n)?r?1:4:r?3:2}return t.minus(a).abs()}function tI(e,t,n,r){var a,s,o,i,c,A,u,f,m,v=e.constructor,h=n!==void 0;if(h?(Uo(n,1,pd),r===void 0?r=v.rounding:Uo(r,0,8)):(n=v.precision,r=v.rounding),!e.isFinite())u=yH(e);else{for(u=Yl(e),o=u.indexOf("."),h?(a=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):a=t,o>=0&&(u=u.replace(".",""),m=new v(1),m.e=u.length-o,m.d=hy(Yl(m),10,a),m.e=m.d.length),f=hy(u,10,a),s=c=f.length;f[--c]==0;)f.pop();if(!f[0])u=h?"0p+0":"0";else{if(o<0?s--:(e=new v(e),e.d=f,e.e=s,e=Lr(e,m,n,r,0,a),f=e.d,s=e.e,A=dH),o=f[n],i=a/2,A=A||f[n+1]!==void 0,A=r<4?(o!==void 0||A)&&(r===0||r===(e.s<0?3:2)):o>i||o===i&&(r===4||A||r===6&&f[n-1]&1||r===(e.s<0?8:7)),f.length=n,A)for(;++f[--n]>a-1;)f[n]=0,n||(++s,f.unshift(1));for(c=f.length;!f[c-1];--c);for(o=0,u="";o<c;o++)u+=$E.charAt(f[o]);if(h){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)u+="0";for(f=hy(u,a,t),c=f.length;!f[c-1];--c);for(o=1,u="1.";o<c;o++)u+=$E.charAt(f[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>c)for(s-=c;s--;)u+="0";else s<c&&(u=u.slice(0,s)+"."+u.slice(s))}u=(t==16?"0x":t==2?"0b":t==8?"0o":"")+u}return e.s<0?"-"+u:u}function vR(e,t){if(e.length>t)return e.length=t,!0}function RLe(e){return new this(e).abs()}function NLe(e){return new this(e).acos()}function LLe(e){return new this(e).acosh()}function VLe(e,t){return new this(e).plus(t)}function MLe(e){return new this(e).asin()}function OLe(e){return new this(e).asinh()}function QLe(e){return new this(e).atan()}function HLe(e){return new this(e).atanh()}function KLe(e,t){e=new this(e),t=new this(t);var n,r=this.precision,a=this.rounding,s=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=Ol(this,s,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?Ol(this,r,a):new this(0),n.s=e.s):!e.d||t.isZero()?(n=Ol(this,s,1).times(.5),n.s=e.s):t.s<0?(this.precision=s,this.rounding=1,n=this.atan(Lr(e,t,s,1)),t=Ol(this,s,1),this.precision=r,this.rounding=a,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Lr(e,t,s,1)),n}function GLe(e){return new this(e).cbrt()}function zLe(e){return vn(e=new this(e),e.e+1,2)}function $Le(e,t,n){return new this(e).clamp(t,n)}function WLe(e){if(!e||typeof e!="object")throw Error(jw+"Object expected");var t,n,r,a=e.defaults===!0,s=["precision",1,pd,"rounding",0,8,"toExpNeg",-Jf,0,"toExpPos",0,Jf,"maxE",0,Jf,"minE",-Jf,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(n=s[t],a&&(this[n]=WE[n]),(r=e[n])!==void 0)if(Ks(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(sd+n+": "+r);if(n="crypto",a&&(this[n]=WE[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(fH);else this[n]=!1;else throw Error(sd+n+": "+r);return this}function jLe(e){return new this(e).cos()}function JLe(e){return new this(e).cosh()}function _H(e){var t,n,r;function a(s){var o,i,c,A=this;if(!(A instanceof a))return new a(s);if(A.constructor=a,pR(s)){A.s=s.s,Tn?!s.d||s.e>a.maxE?(A.e=NaN,A.d=null):s.e<a.minE?(A.e=0,A.d=[0]):(A.e=s.e,A.d=s.d.slice()):(A.e=s.e,A.d=s.d?s.d.slice():s.d);return}if(c=typeof s,c==="number"){if(s===0){A.s=1/s<0?-1:1,A.e=0,A.d=[0];return}if(s<0?(s=-s,A.s=-1):A.s=1,s===~~s&&s<1e7){for(o=0,i=s;i>=10;i/=10)o++;Tn?o>a.maxE?(A.e=NaN,A.d=null):o<a.minE?(A.e=0,A.d=[0]):(A.e=o,A.d=[s]):(A.e=o,A.d=[s]);return}if(s*0!==0){s||(A.s=NaN),A.e=NaN,A.d=null;return}return vy(A,s.toString())}if(c==="string")return(i=s.charCodeAt(0))===45?(s=s.slice(1),A.s=-1):(i===43&&(s=s.slice(1)),A.s=1),hH.test(s)?vy(A,s):DLe(A,s);if(c==="bigint")return s<0?(s=-s,A.s=-1):A.s=1,vy(A,s.toString());throw Error(sd+s)}if(a.prototype=Nt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=WLe,a.clone=_H,a.isDecimal=pR,a.abs=RLe,a.acos=NLe,a.acosh=LLe,a.add=VLe,a.asin=MLe,a.asinh=OLe,a.atan=QLe,a.atanh=HLe,a.atan2=KLe,a.cbrt=GLe,a.ceil=zLe,a.clamp=$Le,a.cos=jLe,a.cosh=JLe,a.div=qLe,a.exp=YLe,a.floor=XLe,a.hypot=ZLe,a.ln=e6e,a.log=t6e,a.log10=r6e,a.log2=n6e,a.max=a6e,a.min=s6e,a.mod=o6e,a.mul=i6e,a.pow=l6e,a.random=c6e,a.round=u6e,a.sign=d6e,a.sin=A6e,a.sinh=f6e,a.sqrt=m6e,a.sub=h6e,a.sum=v6e,a.tan=p6e,a.tanh=g6e,a.trunc=y6e,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function qLe(e,t){return new this(e).div(t)}function YLe(e){return new this(e).exp()}function XLe(e){return vn(e=new this(e),e.e+1,3)}function ZLe(){var e,t,n=new this(0);for(Tn=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return Tn=!0,new this(1/0);n=t}return Tn=!0,n.sqrt()}function pR(e){return e instanceof Ht||e&&e.toStringTag===mH||!1}function e6e(e){return new this(e).ln()}function t6e(e,t){return new this(e).log(t)}function n6e(e){return new this(e).log(2)}function r6e(e){return new this(e).log(10)}function a6e(){return gH(this,arguments,-1)}function s6e(){return gH(this,arguments,1)}function o6e(e,t){return new this(e).mod(t)}function i6e(e,t){return new this(e).mul(t)}function l6e(e,t){return new this(e).pow(t)}function c6e(e){var t,n,r,a,s=0,o=new this(1),i=[];if(e===void 0?e=this.precision:Uo(e,1,pd),r=Math.ceil(e/wn),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));s<r;)a=t[s],a>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:i[s++]=a%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);s<r;)a=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((t[s+3]&127)<<24),a>=214e7?crypto.randomBytes(4).copy(t,s):(i.push(a%1e7),s+=4);s=r/4}else throw Error(fH);else for(;s<r;)i[s++]=Math.random()*1e7|0;for(r=i[--s],e%=wn,r&&e&&(a=Qa(10,wn-e),i[s]=(r/a|0)*a);i[s]===0;s--)i.pop();if(s<0)n=0,i=[0];else{for(n=-1;i[0]===0;n-=wn)i.shift();for(r=1,a=i[0];a>=10;a/=10)r++;r<wn&&(n-=wn-r)}return o.e=n,o.d=i,o}function u6e(e){return vn(e=new this(e),e.e+1,this.rounding)}function d6e(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function A6e(e){return new this(e).sin()}function f6e(e){return new this(e).sinh()}function m6e(e){return new this(e).sqrt()}function h6e(e,t){return new this(e).sub(t)}function v6e(){var e=0,t=arguments,n=new this(t[e]);for(Tn=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return Tn=!0,vn(n,this.precision,this.rounding)}function p6e(e){return new this(e).tan()}function g6e(e){return new this(e).tanh()}function y6e(e){return vn(e=new this(e),e.e+1,1)}Nt[Symbol.for("nodejs.util.inspect.custom")]=Nt.toString;Nt[Symbol.toStringTag]="Decimal";var Ht=Nt.constructor=_H(WE);S2=new Ht(S2);k2=new Ht(k2);function bH(e){const t=H([]),n=H(!1),r=H([]),a=H(!1),s=(f=1e4)=>new Promise((m,v)=>setTimeout(()=>v(new Error("API_TIMEOUT")),f)),o=async()=>{if(!e.value){console.log("No bill ID available for loading payments"),t.value=[];return}if(n.value){console.log("Already loading payments, skipping duplicate call");return}n.value=!0,console.log("Loading payments for pharmacy bill ID:",e.value);try{const f=await Promise.race([Zbe(e.value),s(1e4)]);console.log("Full API response:",f),f.success?(t.value=Array.isArray(f.data)?f.data:[],console.log(" Payments loaded successfully:",t.value.length)):(console.error(" API Error loading payments:",f.error),t.value=[])}catch(f){f.message==="API_TIMEOUT"?console.error(" Payment loading timed out"):console.error(" Exception loading bill payments:",f),t.value=[]}finally{n.value=!1}},i=async f=>{if(!e.value)throw new Error("No bill ID available for payment creation");a.value=!0;try{const m={...f,amount:Number(f.amount)};console.log("Creating pharmacy payment with payload:",m);const v=await Promise.race([Xbe(e.value,m),s(15e3)]);if(!v.success)throw new Error(v.error?.message||"Failed to create payment");return console.log("Payment created successfully:",v.data),await o(),v}catch(m){throw m.message==="API_TIMEOUT"?new Error("Payment creation timed out. Please try again."):m}finally{a.value=!1}},c=async f=>{if(!(!f||!e.value)){if(r.value.includes(f)){console.log("Payment already being deleted:",f);return}r.value.push(f);try{const m=await Promise.race([exe(e.value,f),s(1e4)]);if(!m.success)throw new Error(m.error?.message||"Failed to delete payment");return console.log("Payment deleted successfully:",f),await o(),m}catch(m){throw m.message==="API_TIMEOUT"?new Error("Payment deletion timed out. Please try again."):m}finally{r.value=r.value.filter(m=>m!==f)}}},A=Z(()=>Array.isArray(t.value)?t.value.reduce((f,m)=>f+(parseFloat(m.amount)||0),0):0);let u=null;return Ge(e,async(f,m)=>{if(console.log("Bill ID watcher triggered:",{newBillId:f||"null",oldBillId:m||"null",lastBillId:u||"null"}),f===u){console.log("Bill ID unchanged, skipping reload");return}u=f,f?(console.log("Bill ID changed, loading payments for:",f),await o()):(console.log("No bill ID, clearing payments"),t.value=[])},{immediate:!0}),{billPayments:t,isLoadingPayments:n,deletingPayments:r,isSubmittingPayment:a,totalPaymentsMade:A,loadBillPayments:o,createNewPayment:i,deletePayment:c,formatPaymentAmount:Hr}}const w6e={class:"text-center"},_6e={class:"text-center"},b6e={class:"text-body-2 text-medium-emphasis mb-4"},x6e={class:"pa-1"},C6e={class:"text-body-1 font-weight-medium"},E6e={class:"text-body-2 text-medium-emphasis"},B6e={class:"pa-1"},S6e={class:"text-body-1 font-weight-medium"},k6e={class:"text-body-2 text-medium-emphasis"},I6e={class:"pa-1"},T6e={class:"text-body-1 font-weight-medium"},F6e={class:"text-body-2 text-medium-emphasis"},P6e={key:0,class:"text-right",style:{width:"100px"}},D6e={key:1,class:"text-right",style:{width:"100px"}},U6e={key:2,class:"text-left",style:{width:"80px"}},R6e={class:"text-body-2 font-weight-medium"},N6e={class:"text-caption text-medium-emphasis"},L6e={key:0,class:"text-caption text-medium-emphasis"},V6e={class:"text-body-2 font-weight-medium"},M6e={key:1},O6e={class:"text-body-2"},Q6e={class:"text-caption text-medium-emphasis"},H6e={class:"text-right"},K6e={class:"text-right"},G6e={class:"text-right"},z6e={class:"text-right"},$6e={class:"text-right"},W6e={class:"text-right"},j6e={key:1},J6e={key:0,class:"text-right"},q6e={class:"text-body-2"},Y6e={key:1,class:"text-right"},X6e={class:"text-right font-weight-medium"},Z6e={key:2},e5e={key:0},t5e={key:1},n5e={class:"text-body-2 mb-1"},r5e={class:"text-body-2 mb-1"},a5e={key:0,class:"text-body-2 mb-1"},s5e={class:"text-body-2 mb-1"},o5e={class:"text-body-2 mb-1"},i5e={class:"text-body-2 mb-1"},l5e={class:"text-body-2 mb-1"},c5e={key:0,class:"text-body-2 mb-1"},u5e={class:"text-body-2 mb-1"},d5e={class:"text-body-2 mb-1"},A5e={class:"text-subtitle-1 font-weight-bold mt-2"},f5e={class:"text-h6"},m5e={key:0,class:"text-caption text-medium-emphasis mt-1"},h5e={class:"text-h6 text-success"},v5e={key:0,class:"text-caption text-info mt-1"},p5e={key:0,class:"text-center pa-4"},g5e={class:"font-weight-bold"},y5e={class:"d-flex align-center flex-wrap",style:{gap:"2px"}},w5e={class:"font-weight-medium text-body-1"},_5e={key:0,class:"text-caption text-medium-emphasis"},b5e={class:"mt-1"},x5e={class:"d-flex align-center justify-space-between flex-wrap gap-2 mt-1"},C5e={class:"d-flex align-center flex-wrap gap-2"},E5e={__name:"pharmacy-bill-edit",props:{billId:{type:[String,Number],required:!0},mode:{type:String,default:"edit",validator:e=>["edit","return"].includes(e)}},emits:["close","bill-updated"],setup(e,{emit:t}){const{showSuccess:n,showError:r}=dr(),a=e,s=t,o=H(!1),i=H(null),c=H(null),A=H([]),u=H([]),f=H(0),m=H(!1),v=H(!1),h=H(!1),y=H(!1),w=H(null),b=H([]),B=H(!1),S=H("");let T=null;const N=H({}),k=H(null),E=bH(k),{billPayments:_,isLoadingPayments:C,deletingPayments:F,totalPaymentsMade:I,loadBillPayments:R,createNewPayment:M,deletePayment:te}=E,se=_p,O=H([]),W=[Ke=>!!Ke||"Amount is required",Ke=>Ke>0||"Amount must be greater than 0",Ke=>Number.isInteger(Number(Ke))||"Amount must be a whole number"],le=[Ke=>!!Ke||"Payment mode is required"],K=[Ke=>!!Ke||"Payment date is required"],ee=()=>{O.value.push({amount:null,mode:"Cash",paymentDate:new Date().toISOString().split("T")[0],datePickerMenu:!1})},j=Ke=>{O.value.splice(Ke,1)},U=Ke=>{if(!Ke)return null;try{if(typeof Ke=="string")return Ke.includes("T")?Ke.split("T")[0]:Ke;if(Ke instanceof Date){const me=Ke.getFullYear(),Ee=String(Ke.getMonth()+1).padStart(2,"0"),nt=String(Ke.getDate()).padStart(2,"0");return`${me}-${Ee}-${nt}`}return null}catch(me){return console.error("Error parsing payment date:",me),null}},G=(Ke,me)=>{if(Ke)if(Ke instanceof Date){const Ee=Ke.getFullYear(),nt=String(Ke.getMonth()+1).padStart(2,"0"),At=String(Ke.getDate()).padStart(2,"0");me.paymentDate=`${Ee}-${nt}-${At}`}else typeof Ke=="string"&&(me.paymentDate=Ke);else me.paymentDate="";me.datePickerMenu=!1},ne=Z(()=>Array.isArray(O.value)?O.value.reduce((Ke,me)=>Ke+(parseFloat(me.amount)||0),0):0),X=Z(()=>{const Ke=I.value,me=ne.value;return Math.max(0,je.value-Ke-me)}),oe=async()=>{if(O.value.length===0){console.log("No new payment entries to create");return}console.log("Creating new payment entries:",O.value);try{const Ke=O.value.filter(me=>me.amount&&parseFloat(me.amount)>0&&me.mode&&me.paymentDate);console.log("Valid payments to create:",Ke);for(const me of Ke){const Ee={amount:parseFloat(me.amount),mode:me.mode,paymentDate:me.paymentDate};console.log("Creating payment with payload:",Ee);const nt=await M(Ee);nt.success?console.log("Payment created successfully:",nt.data):(console.error("Error creating payment entry:",nt.error),r(`Failed to create payment: ${nt.error?.message||"Unknown error"}`))}O.value=[],console.log("New payment entries cleared"),await R()}catch(Ke){console.error("Error creating payment entries:",Ke),r("Failed to create some payments. Please try again.")}},q=async()=>{try{o.value=!0,i.value=null;const{data:Ke,error:me}=await rO(a.billId);if(me)i.value=me.response?.data?.error||me.message||"Failed to load bill",r("Error loading bill");else{if(a.mode==="return"&&Ke.status!=="Finalized"){i.value="Only finalized bills can be returned",r("Only finalized bills can be returned");return}c.value=Ke,A.value=Ke.prescriptionMedicines||[],u.value=(Ke.items||[]).map(Ee=>({...Ee,medicineId:Ee.medicineId,medicineName:Ee.medicineName,saltComposition:Ee.saltComposition||"",marketer:Ee.marketer||"",batchId:Ee.medicineBatchId||null,batchNumber:Ee.batchNumber||"",expiryDate:Ee.expiryDate||null,packType:Ee.packType||"",unitsPerPack:Ee.unitsPerPack||1,mrp:Ee.mrp||0,discountPercentage:Ee.discountPercentage||0,gstPercentage:Ee.gstPercentage||0,quantityUnits:Ee.quantityUnits||1,availableUnits:Ee.availableUnits||0,returnedQuantity:Ee.returnedQuantity||0,returnQuantity:0,billItemId:Ee.id})),f.value=Ke.additionalDiscountAmount||0,await ae(),k.value=a.billId,await R()}}catch(Ke){console.error("Error loading bill:",Ke),i.value=Ke.message||"An unexpected error occurred",r("Error loading bill")}finally{o.value=!1}},Y=async Ke=>{if(N.value[Ke])return N.value[Ke];try{const{data:me,error:Ee}=await Gbe(Ke);if(!Ee&&me){const nt=me.map(At=>({id:At.batchId||At.id,label:`${At.batchNumber} (Exp: ${at(At.expiryDate)}, Stock: ${At.availableUnits})`,batchNumber:At.batchNumber,expiryDate:At.expiryDate,packType:At.packType||"",unitsPerPack:At.unitsPerPack||1,availableUnits:At.availableUnits,mrp:At.mrp,discountPercentage:At.discountPercentage,gstPercentage:At.gstPercentage}));return N.value[Ke]=nt,nt}}catch(me){console.error("Error loading batches:",me)}return[]},ae=async()=>{const Ke=[...new Set(u.value.map(me=>me.medicineId))];await Promise.all(Ke.map(me=>Y(me)))},ge=Ke=>N.value[Ke]||[],we=async(Ke,me)=>{const nt=ge(Ke.medicineId).find(At=>At.id===Ke.batchId);nt&&(Ke.batchNumber=nt.batchNumber,Ke.expiryDate=nt.expiryDate,Ke.packType=nt.packType||"",Ke.unitsPerPack=nt.unitsPerPack||1,Ke.mrp=nt.mrp,Ke.discountPercentage=nt.discountPercentage,Ke.gstPercentage=nt.gstPercentage,Ke.availableUnits=nt.availableUnits,_e(Ke))},z=Ke=>{if(!Ke.mrp||!Ke.unitsPerPack||Ke.unitsPerPack<=0)return 0;const me=new Ht(Ke.mrp),Ee=new Ht(Ke.unitsPerPack),nt=new Ht(Ke.gstPercentage||0),At=new Ht(Ke.discountPercentage||0),St=me.dividedBy(Ee),Qt=new Ht(1).minus(At.dividedBy(100)),Rt=St.times(Qt),jt=new Ht(1).plus(nt.dividedBy(100));return Rt.dividedBy(jt).toNumber()},Ae=Ke=>{if(!Ke.mrp||!Ke.unitsPerPack||Ke.unitsPerPack<=0)return 0;const me=new Ht(Ke.mrp),Ee=new Ht(Ke.unitsPerPack),nt=new Ht(Ke.discountPercentage||0),At=me.dividedBy(Ee),St=new Ht(1).minus(nt.dividedBy(100));return At.times(St).toNumber()},ie=Ke=>{if(a.mode==="return"){const me=Ke.quantityUnits||0,Ee=Ke.returnQuantity||0;return Math.max(0,me-Ee)}return Ke.quantityUnits||0},_e=(Ke,me)=>{if(!Ke.mrp||!Ke.unitsPerPack||Ke.unitsPerPack<=0)return 0;const Ee=new Ht(Ke.mrp),nt=new Ht(Ke.unitsPerPack),At=new Ht(Ke.discountPercentage||0),St=ie(Ke),Qt=new Ht(St),Rt=Ee.dividedBy(nt),jt=new Ht(1).minus(At.dividedBy(100));return Rt.times(jt).times(Qt).toNumber()},Pe=()=>{u.value.forEach((Ke,me)=>{_e(Ke)})},re=Z(()=>u.value.reduce((me,Ee)=>{if(!Ee.mrp||!Ee.unitsPerPack||Ee.unitsPerPack<=0)return me;const nt=new Ht(Ee.mrp),At=new Ht(Ee.unitsPerPack),St=ie(Ee),Qt=new Ht(St),jt=nt.dividedBy(At).times(Qt);return me.plus(jt)},new Ht(0)).toNumber()),be=Z(()=>u.value.reduce((me,Ee)=>{if(!Ee.mrp||!Ee.unitsPerPack||Ee.unitsPerPack<=0)return me;const nt=new Ht(Ee.mrp),At=new Ht(Ee.unitsPerPack),St=new Ht(Ee.discountPercentage||0),Qt=ie(Ee),Rt=new Ht(Qt),jt=nt.dividedBy(At),En=new Ht(1).minus(St.dividedBy(100)),hn=jt.times(En),mn=jt.minus(hn).times(Rt);return me.plus(mn)},new Ht(0)).toNumber()),He=Z(()=>u.value.reduce((me,Ee)=>{if(!Ee.mrp||!Ee.unitsPerPack||Ee.unitsPerPack<=0)return me;const nt=new Ht(Ee.mrp),At=new Ht(Ee.unitsPerPack),St=new Ht(Ee.gstPercentage||0),Qt=new Ht(Ee.discountPercentage||0),Rt=ie(Ee),jt=new Ht(Rt),En=nt.dividedBy(At),hn=new Ht(1).minus(Qt.dividedBy(100)),Ot=En.times(hn),mn=new Ht(1).plus(St.dividedBy(100)),pe=Ot.dividedBy(mn).times(St.dividedBy(100)).times(jt);return me.plus(pe)},new Ht(0)).toNumber()),ke=Z(()=>u.value.reduce((me,Ee)=>{const nt=new Ht(_e(Ee,u.value.indexOf(Ee)));return me.plus(nt)},new Ht(0)).toNumber()),Se=Z(()=>{const Ke=new Ht(ke.value),me=new Ht(f.value||0),Ee=Ke.minus(me);return Ht.max(new Ht(0),Ee).toNumber()}),st=Z(()=>Math.ceil(Se.value)-Se.value),je=Z(()=>Math.ceil(Se.value)),Ve=Ke=>{if(!Ke)return"N/A";try{let me;if(typeof Ke=="number")me=new Date(Ke*1e3);else if(typeof Ke=="string")me=new Date(Ke);else return"Invalid Date";if(isNaN(me.getTime()))return"Invalid Date";const Ee=String(me.getDate()).padStart(2,"0"),nt=me.toLocaleDateString("en-IN",{month:"short"}),At=String(me.getFullYear()).slice(-2);return`${Ee} ${nt} ${At}`}catch(me){return console.error("Error formatting date:",me,Ke),"Invalid Date"}},Te=Ke=>{if(S.value=Ke,T&&clearTimeout(T),!Ke||Ke.trim().length===0){b.value=[],B.value=!1;return}T=setTimeout(()=>{Le(Ke.trim())},300)},Le=async Ke=>{if(!Ke||Ke.trim().length===0){b.value=[];return}try{B.value=!0,console.log(" Searching for:",Ke);const{data:me,error:Ee}=await Jbe(Ke);if(console.log(" Search response:",{medicinesCount:me?.length||0,error:Ee?.message||null,data:me}),!Ee&&me){const nt=[];me.forEach(At=>{console.log(` Medicine: ${At.productName}, Batches: ${At.batches?.length||0}`);const St=At.batches||[];console.log(` Valid batches for ${At.productName}: ${St.length}`),St.forEach(Qt=>{const Rt=Qt.unitsPerPack||1,jt=Qt.mrp/Rt;nt.push({batchId:Qt.batchId||Qt.id,batchNumber:Qt.batchNumber,expiryDate:Qt.expiryDate,expiryFormatted:Ve(Qt.expiryDate),medicineId:At.id,medicineName:At.productName,saltComposition:At.saltComposition||"",marketer:At.marketer||"",availableUnits:Qt.availableUnits,mrp:Qt.mrp,mrpPerUnit:jt,discountPercentage:Qt.discountPercentage||0,gstPercentage:Qt.gstPercentage||0,packType:Qt.packType||"",unitsPerPack:Rt,displayLabel:`${At.productName} - ${Qt.batchNumber} (Exp: ${Ve(Qt.expiryDate)}, Stock: ${Qt.availableUnits}, MRP: ${Xe(jt)}/unit)`})})}),b.value=nt,console.log("Flattened batches:",nt.length)}else console.log("No data or error in response"),b.value=[],Ee&&r("Error searching medicines: "+(Ee.message||"Unknown error"))}catch(me){console.error("Error searching medicines:",me),b.value=[],r("Error searching medicines")}finally{B.value=!1}},ht=()=>{y.value=!0,b.value=[],w.value=null,S.value="",T&&clearTimeout(T)},Ct=()=>{if(!w.value)return;const Ke=w.value;if(Ke.availableUnits<=0){r("Selected batch has no available stock.");return}const me={medicineId:Ke.medicineId,medicineName:Ke.medicineName,saltComposition:Ke.saltComposition,marketer:Ke.marketer||"",batchId:Ke.batchId,batchNumber:Ke.batchNumber,expiryDate:Ke.expiryDate,packType:Ke.packType,unitsPerPack:Ke.unitsPerPack,mrp:Ke.mrp,discountPercentage:Ke.discountPercentage,gstPercentage:Ke.gstPercentage,quantityUnits:1,availableUnits:Ke.availableUnits};u.value.push(me),_e(me,u.value.length-1),y.value=!1,w.value=null,n("Medicine added to bill")},Dt=Ke=>{u.value.splice(Ke,1),Pe()},Je=async()=>{if(u.value.length===0)return{success:!1,error:"Please add at least one item to save the draft"};try{const Ke=u.value.map(nt=>({medicineId:nt.medicineId,medicineBatchId:nt.batchId,quantityUnits:nt.quantityUnits,discountPercentage:nt.discountPercentage||0})),{data:me,error:Ee}=await Qbe(a.billId,Ke,f.value);return Ee?{success:!1,error:Ee.response?.data?.error||"Failed to save draft"}:(await oe(),{success:!0,error:null})}catch(Ke){return console.error("Error saving draft:",Ke),{success:!1,error:Ke.message||"An unexpected error occurred"}}},Oe=async()=>{try{m.value=!0;const Ke=await Je();Ke.success?(n("Draft saved successfully"),s("bill-updated"),cn()):r(Ke.error||"Failed to save draft")}catch(Ke){console.error("Error saving draft:",Ke),r("An unexpected error occurred")}finally{m.value=!1}},it=async()=>{if(u.value.length===0){r("Please add at least one item to finalize the bill");return}try{v.value=!0;const Ke=await Je();if(!Ke.success){r(`Failed to save changes: ${Ke.error}. Please try again.`);return}const{data:me,error:Ee}=await Hbe(a.billId);Ee?r(Ee.response?.data?.error||"Failed to finalize bill"):(n("Bill finalized successfully"),s("bill-updated",a.billId))}catch(Ke){console.error("Error finalizing bill:",Ke),r("An unexpected error occurred")}finally{v.value=!1}},at=Ke=>{if(!Ke)return"";try{let me;if(typeof Ke=="number")me=new Date(Ke*1e3);else if(typeof Ke=="string")me=new Date(Ke);else return"";if(isNaN(me.getTime()))return"";const Ee=String(me.getDate()).padStart(2,"0"),nt=me.toLocaleDateString("en-IN",{month:"short"}),At=String(me.getFullYear()).slice(-2);return`${Ee} ${nt} ${At}`}catch(me){return console.error("Error formatting date:",me,Ke),""}},Xe=Ke=>Ke==null?"0.00":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(Ke),Ut=Ke=>Ke==null?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(Ke),Yt=Ke=>{if(!Ke)return!1;try{let me;if(typeof Ke=="number")me=new Date(Ke*1e3);else if(typeof Ke=="string")me=new Date(Ke);else return!1;if(isNaN(me.getTime()))return!1;const Ee=new Date;return Ee.setHours(0,0,0,0),me.setHours(0,0,0,0),me<Ee}catch(me){return console.error("Error checking expiry:",me,Ke),!1}},bt=Ke=>({Draft:"warning",Finalized:"success",Cancelled:"error",Refund:"info"})[Ke]||"default",cn=()=>{s("close")},ln=Ke=>Ke.quantityUnits-(Ke.returnedQuantity||0),an=(Ke,me)=>{const Ee=ln(Ke);Ke.returnQuantity>Ee&&(Ke.returnQuantity=Ee,r(`Return quantity cannot exceed ${Ee} units for ${Ke.medicineName}`)),Ke.returnQuantity<0&&(Ke.returnQuantity=0)},zt=Z(()=>u.value.filter(Ke=>Ke.returnQuantity>0).length),$t=async()=>{const Ke=u.value.filter(me=>me.returnQuantity>0).map(me=>({billItemId:me.billItemId||me.id,returnedQuantity:me.returnQuantity}));if(Ke.length===0){r("Please specify return quantity for at least one item");return}try{if(h.value=!0,O.value.length>0){const nt=O.value.filter(At=>At.amount&&parseFloat(At.amount)>0&&At.mode&&At.paymentDate);if(nt.length>0){for(const At of nt){const St={amount:parseFloat(At.amount),mode:At.mode,paymentDate:At.paymentDate},Qt=await M(St);if(!Qt.success){r(`Failed to create payment: ${Qt.error?.message||"Unknown error"}`),h.value=!1;return}}O.value=[],await R()}}const{data:me,error:Ee}=await Wbe(a.billId,Ke);Ee?r(Ee.response?.data?.error||Ee.message||"Failed to process return"):(n("Return processed successfully"),s("bill-updated",a.billId))}catch(me){console.error("Error processing return:",me),r("An unexpected error occurred")}finally{h.value=!1}};return Ge(()=>a.billId,Ke=>{k.value=Ke},{immediate:!0}),fn(()=>{q()}),(Ke,me)=>{const Ee=D("v-icon"),nt=D("v-btn"),At=D("v-card-title"),St=D("v-col"),Qt=D("v-row"),Rt=D("v-progress-circular"),jt=D("v-label"),En=D("v-chip"),hn=D("v-card-text"),Ot=D("v-card"),mn=D("v-select"),Ce=D("v-text-field"),Re=D("v-table"),pe=D("v-alert"),Ie=D("v-divider"),Me=D("v-date-picker"),de=D("v-menu"),fe=D("v-container"),Ze=D("v-list-item"),Ye=D("v-card-subtitle"),dt=D("v-autocomplete"),ct=D("v-spacer"),lt=D("v-card-actions"),xt=D("v-dialog");return V(),ye(ze,null,[l(Ot,{rounded:"lg",color:"surfaceContainer",flat:"",ripple:!1},{default:d(()=>[l(Qt,{"no-gutters":""},{default:d(()=>[l(St,{cols:"12"},{default:d(()=>[l(At,{class:"d-flex align-center justify-space-between"},{default:d(()=>[p("span",null,"Pharmacy Bill - "+J(e.mode==="return"?"Return":"Edit"),1),l(nt,{onClick:cn,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(Ee,{size:"18"},{default:d(()=>[...me[4]||(me[4]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(Qt,{"no-gutters":""},{default:d(()=>[l(St,{cols:"12",class:"scroll-element"},{default:d(()=>[o.value?(V(),he(Qt,{key:0,"no-gutters":""},{default:d(()=>[l(St,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",w6e,[l(Rt,{indeterminate:"",color:"primary",size:"64"}),me[5]||(me[5]=p("div",{class:"mt-4 text-subtitle-1"},"Loading bill...",-1))])]),_:1})]),_:1})):i.value?(V(),he(Qt,{key:1,"no-gutters":""},{default:d(()=>[l(St,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",_6e,[l(Ee,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...me[6]||(me[6]=[Q("mdi-alert-circle",-1)])]),_:1}),me[8]||(me[8]=p("div",{class:"text-h6 mb-2"},"Failed to Load Bill",-1)),p("div",b6e,J(i.value),1),l(nt,{color:"primary",onClick:q,"prepend-icon":"mdi-refresh"},{default:d(()=>[...me[7]||(me[7]=[Q(" Retry ",-1)])]),_:1})])]),_:1})]),_:1})):c.value?(V(),he(fe,{key:2,fluid:"",class:"pa-3"},{default:d(()=>[l(Ot,{flat:"",color:"surfaceContainerHigh",class:"mb-4 card-enhanced"},{default:d(()=>[l(hn,{class:"pb-1 pt-2"},{default:d(()=>[l(Qt,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(St,{cols:"4"},{default:d(()=>[p("div",x6e,[l(jt,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...me[9]||(me[9]=[Q("Patient Information",-1)])]),_:1}),p("div",C6e,J(c.value.patientName||"Unknown Patient"),1),p("div",E6e,"ID: "+J(c.value.patientId||"N/A"),1)])]),_:1}),l(St,{cols:"4"},{default:d(()=>[p("div",B6e,[l(jt,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...me[10]||(me[10]=[Q("Consultation Details",-1)])]),_:1}),p("div",S6e,"Dr. "+J(c.value.doctorName||"Unknown"),1),p("div",k6e,"Date: "+J(at(c.value.consultationDate)),1)])]),_:1}),l(St,{cols:"4"},{default:d(()=>[p("div",I6e,[l(jt,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...me[11]||(me[11]=[Q("Bill Information",-1)])]),_:1}),p("div",T6e,J(c.value.identifier),1),p("div",F6e,"Date: "+J(at(c.value.billDate)),1),l(En,{color:bt(c.value.status),size:"small",variant:"flat",class:"mt-1"},{default:d(()=>[Q(J(c.value.status),1)]),_:1},8,["color"])])]),_:1})]),_:1})]),_:1})]),_:1}),A.value&&A.value.length>0?(V(),he(Ot,{key:0,flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(hn,{class:"pb-2"},{default:d(()=>[me[12]||(me[12]=p("div",{class:"text-subtitle-1 mb-2"},"Prescription Medicines",-1)),me[13]||(me[13]=p("div",{class:"text-body-2 text-medium-emphasis mb-2"},"These medicines were prescribed in the consultation:",-1)),(V(!0),ye(ze,null,Jt(A.value,(vt,_t)=>(V(),he(En,{key:_t,size:"small",variant:"outlined",class:"mr-2 mb-2"},{default:d(()=>[Q(J(vt.productName)+" ("+J(vt.quantityUnits)+" units) ",1)]),_:2},1024))),128))]),_:1})]),_:1})):Be("",!0),l(Ot,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(hn,{class:"pb-2"},{default:d(()=>[me[34]||(me[34]=p("div",{class:"text-subtitle-1 mb-3"},"Bill Items",-1)),l(Re,{density:"compact",class:"mb-3"},{default:d(()=>[p("thead",null,[p("tr",null,[me[14]||(me[14]=p("th",{class:"text-left",style:{width:"60px"}},"Sr. No",-1)),me[15]||(me[15]=p("th",{class:"text-left",style:{width:"200px"}},"Item",-1)),me[16]||(me[16]=p("th",{class:"text-left",style:{width:"150px"}},"Batch Details",-1)),me[17]||(me[17]=p("th",{class:"text-left",style:{width:"120px"}},"Packaging Details",-1)),me[18]||(me[18]=p("th",{class:"text-right",style:{width:"100px"}},"MRP (Pack)",-1)),me[19]||(me[19]=p("th",{class:"text-right",style:{width:"100px"}},"Discount %",-1)),me[20]||(me[20]=p("th",{class:"text-right",style:{width:"120px"}},"Taxable Value/Unit",-1)),me[21]||(me[21]=p("th",{class:"text-right",style:{width:"100px"}},"GST %",-1)),me[22]||(me[22]=p("th",{class:"text-right",style:{width:"120px"}},"Final Value/Unit",-1)),me[23]||(me[23]=p("th",{class:"text-right",style:{width:"100px"}},"Qty",-1)),e.mode==="return"?(V(),ye("th",P6e,"Already Returned")):Be("",!0),e.mode==="return"?(V(),ye("th",D6e,"Return Qty")):Be("",!0),me[24]||(me[24]=p("th",{class:"text-right",style:{width:"120px"}},"Total ()",-1)),e.mode==="edit"?(V(),ye("th",U6e,"Actions")):Be("",!0)])]),p("tbody",null,[(V(!0),ye(ze,null,Jt(u.value,(vt,_t)=>(V(),ye("tr",{key:_t},[p("td",null,J(_t+1),1),p("td",null,[p("div",R6e,J(vt.medicineName),1),p("div",N6e,J(vt.saltComposition),1),vt.marketer?(V(),ye("div",L6e,J(vt.marketer),1)):Be("",!0)]),p("td",null,[e.mode==="return"||vt.batchId?(V(),ye(ze,{key:0},[p("div",V6e,J(vt.batchNumber||"N/A"),1),p("div",{class:rt(["text-caption text-medium-emphasis",Yt(vt.expiryDate)?"text-error":""])},[vt.expiryDate?(V(),ye(ze,{key:0},[Q(" Exp: "+J(at(vt.expiryDate))+" ",1),Yt(vt.expiryDate)?(V(),he(En,{key:0,color:"error",size:"x-small",variant:"tonal",class:"ml-1"},{default:d(()=>[...me[25]||(me[25]=[Q(" Expired ",-1)])]),_:1})):Be("",!0)],64)):(V(),ye("span",M6e,"Exp: N/A"))],2),e.mode==="return"?(V(),he(En,{key:0,size:"x-small",color:"info",variant:"tonal",class:"mt-1"},{default:d(()=>[l(Ee,{start:"",size:"x-small"},{default:d(()=>[...me[26]||(me[26]=[Q("mdi-lock",-1)])]),_:1}),me[27]||(me[27]=Q(" Locked ",-1))]),_:1})):Be("",!0)],64)):e.mode==="edit"?(V(),he(mn,{key:1,modelValue:vt.batchId,"onUpdate:modelValue":[Lt=>vt.batchId=Lt,()=>we(vt,_t)],items:ge(vt.medicineId),"item-title":"label","item-value":"id",density:"compact",variant:"underlined","hide-details":""},null,8,["modelValue","onUpdate:modelValue","items"])):Be("",!0)]),p("td",null,[p("div",O6e,J(vt.packType||"N/A"),1),p("div",Q6e,J(vt.unitsPerPack||1)+" units/pack",1)]),p("td",H6e,J(Xe(vt.mrp)),1),p("td",K6e,J(vt.discountPercentage)+"%",1),p("td",G6e,J(Xe(z(vt))),1),p("td",z6e,J(vt.gstPercentage)+"%",1),p("td",$6e,J(Xe(Ae(vt))),1),p("td",W6e,[e.mode==="edit"?(V(),he(Ce,{key:0,modelValue:vt.quantityUnits,"onUpdate:modelValue":[Lt=>vt.quantityUnits=Lt,()=>_e(vt,_t)],modelModifiers:{number:!0},type:"number",density:"compact",variant:"underlined","hide-details":"",min:"1",max:vt.availableUnits},null,8,["modelValue","onUpdate:modelValue","max"])):(V(),ye("span",j6e,J(vt.quantityUnits),1))]),e.mode==="return"?(V(),ye("td",J6e,[p("span",q6e,J(vt.returnedQuantity||0),1)])):Be("",!0),e.mode==="return"?(V(),ye("td",Y6e,[l(Ce,{modelValue:vt.returnQuantity,"onUpdate:modelValue":[Lt=>vt.returnQuantity=Lt,()=>{an(vt,_t),Pe()}],modelModifiers:{number:!0},type:"number",density:"compact",variant:"underlined","hide-details":"",min:"0",max:ln(vt)},null,8,["modelValue","onUpdate:modelValue","max"])])):Be("",!0),p("td",X6e,J(Xe(_e(vt,_t))),1),e.mode==="edit"?(V(),ye("td",Z6e,[l(nt,{icon:"",size:"small",color:"error",variant:"text",onClick:Lt=>Dt(_t)},{default:d(()=>[l(Ee,null,{default:d(()=>[...me[28]||(me[28]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])])):Be("",!0)]))),128))])]),_:1}),u.value.length===0?(V(),he(pe,{key:0,type:"info",variant:"tonal",class:"mt-2"},{default:d(()=>[e.mode==="edit"?(V(),ye("span",e5e,'No items in bill. Click "Add Medicine" to add items.')):(V(),ye("span",t5e,"No items in bill."))]),_:1})):Be("",!0),e.mode==="edit"?(V(),he(Qt,{key:1,"no-gutters":"",class:"align-center mt-3"},{default:d(()=>[l(St,{cols:"auto"},{default:d(()=>[l(nt,{variant:"outlined",color:"primary",onClick:ht,"prepend-icon":"mdi-plus",class:"btn-hover-base"},{default:d(()=>[...me[29]||(me[29]=[Q(" Add Medicine ",-1)])]),_:1})]),_:1}),l(St),l(St,{cols:"3"},{default:d(()=>[l(Ce,{label:"Additional Discount",modelValue:f.value,"onUpdate:modelValue":[me[0]||(me[0]=vt=>f.value=vt),Pe],modelModifiers:{number:!0},type:"number",prefix:"",density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})):Be("",!0),e.mode==="return"?(V(),he(Ot,{key:2,flat:"",color:"surfaceContainerHigh",class:"mt-3 card-enhanced"},{default:d(()=>[l(hn,{class:"pb-2"},{default:d(()=>[me[32]||(me[32]=p("div",{class:"text-subtitle-2 mb-2"},"Return Summary",-1)),p("div",n5e,[me[30]||(me[30]=Q(" Items to Return: ",-1)),p("strong",null,J(zt.value),1)]),l(Ie,{class:"my-2"}),p("div",r5e,[me[31]||(me[31]=p("strong",null,"Updated Bill Total (after return):",-1)),Q(" "+J(Xe(je.value)),1)]),me[33]||(me[33]=p("div",{class:"text-body-2 text-medium-emphasis"}," Bill total updates in real-time. Adjust payments as needed before processing return. ",-1))]),_:1})]),_:1})):Be("",!0)]),_:1})]),_:1}),l(Ot,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(hn,{class:"pb-2"},{default:d(()=>[me[42]||(me[42]=p("div",{class:"text-subtitle-1 mb-3"},"Bill Summary",-1)),l(Ie,{class:"mb-3"}),l(Qt,{"no-gutters":""},{default:d(()=>[l(St,{cols:"6"},{default:d(()=>[me[35]||(me[35]=p("div",{class:"text-body-2 mb-1"},"Total MRP:",-1)),me[36]||(me[36]=p("div",{class:"text-body-2 mb-1"},"Total Discount:",-1)),me[37]||(me[37]=p("div",{class:"text-body-2 mb-1"},"Total GST:",-1)),me[38]||(me[38]=p("div",{class:"text-body-2 mb-1"},"Subtotal with GST:",-1)),f.value>0?(V(),ye("div",a5e,"Additional Discount:")):Be("",!0),me[39]||(me[39]=p("div",{class:"text-body-2 mb-1"},"Net Amount:",-1)),me[40]||(me[40]=p("div",{class:"text-body-2 mb-1"},"Round Off:",-1)),me[41]||(me[41]=p("div",{class:"text-subtitle-1 font-weight-bold mt-2"},"Final Amount:",-1))]),_:1}),l(St,{cols:"6",class:"text-right"},{default:d(()=>[p("div",s5e,J(Xe(re.value)),1),p("div",o5e,"-"+J(Xe(be.value)),1),p("div",i5e,J(Xe(He.value)),1),p("div",l5e,J(Xe(ke.value)),1),f.value>0?(V(),ye("div",c5e,"-"+J(Xe(f.value)),1)):Be("",!0),p("div",u5e,J(Xe(Se.value)),1),p("div",d5e,J(st.value>0?"+":"")+J(Xe(st.value)),1),p("div",A5e,J(Xe(je.value)),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(Ot,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(hn,{class:"pb-2"},{default:d(()=>[me[53]||(me[53]=p("div",{class:"text-subtitle-1 mb-3"},"Payment Information",-1)),l(Qt,{"no-gutters":"",class:"mb-3"},{default:d(()=>[l(St,{cols:"4"},{default:d(()=>[me[43]||(me[43]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Total Amount",-1)),p("div",f5e,J(Xe(je.value)),1),e.mode==="return"?(V(),ye("div",m5e," (Updated after return) ")):Be("",!0)]),_:1}),l(St,{cols:"4"},{default:d(()=>[me[44]||(me[44]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Paid Amount",-1)),p("div",h5e,J(Xe(We(I)+ne.value)),1)]),_:1}),l(St,{cols:"4"},{default:d(()=>[me[45]||(me[45]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Balance Due",-1)),p("div",{class:rt(["text-h6",X.value>0?"text-error":"text-success"])},J(Xe(X.value)),3),e.mode==="return"&&X.value<0?(V(),ye("div",v5e," (Credit/Overpayment) ")):Be("",!0)]),_:1})]),_:1}),We(C)?(V(),ye("div",p5e,[l(Rt,{indeterminate:"",size:"32",color:"primary"}),me[46]||(me[46]=p("div",{class:"text-body-2 mt-2"},"Loading payments...",-1))])):(V(),ye(ze,{key:1},[l(Ie,{class:"mb-3"}),me[52]||(me[52]=p("div",{class:"text-subtitle-2 mb-2"},"Payments",-1)),l(Re,{density:"compact",class:"mb-3"},{default:d(()=>[me[50]||(me[50]=p("thead",null,[p("tr",null,[p("th",{class:"text-left",style:{width:"60px"}},"Sr. No"),p("th",{class:"text-left",style:{width:"150px"}},"Amount ()"),p("th",{class:"text-left",style:{width:"150px"}},"Payment Mode"),p("th",{class:"text-left",style:{width:"150px"}},"Payment Date"),p("th",{class:"text-left",style:{width:"80px"}},"Actions")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(We(_),(vt,_t)=>(V(),ye("tr",{key:`existing-${vt.id}`},[p("td",null,J(_t+1),1),p("td",g5e,""+J(vt.amount.toLocaleString()),1),p("td",null,J(vt.mode),1),p("td",null,J(at(vt.paymentDate)),1),p("td",null,[l(nt,{icon:"",size:"small",color:"error",variant:"text",onClick:Lt=>We(te)(vt.id),loading:We(F).includes(vt.id)},{default:d(()=>[l(Ee,null,{default:d(()=>[...me[47]||(me[47]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick","loading"])])]))),128)),(V(!0),ye(ze,null,Jt(O.value,(vt,_t)=>(V(),ye("tr",{key:`new-${_t}`},[p("td",null,J(We(_).length+_t+1),1),p("td",null,[l(Ce,{modelValue:vt.amount,"onUpdate:modelValue":Lt=>vt.amount=Lt,modelModifiers:{number:!0},type:"number",prefix:"",min:"1",density:"compact",variant:"underlined","hide-details":"",rules:W},null,8,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(mn,{modelValue:vt.mode,"onUpdate:modelValue":Lt=>vt.mode=Lt,items:We(se),density:"compact",variant:"underlined","hide-details":"",rules:le},null,8,["modelValue","onUpdate:modelValue","items"])]),p("td",null,[l(de,{modelValue:vt.datePickerMenu,"onUpdate:modelValue":Lt=>vt.datePickerMenu=Lt,"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:d(({props:Lt})=>[l(Ce,Ne({modelValue:vt.paymentDate,"onUpdate:modelValue":qe=>vt.paymentDate=qe,density:"compact",variant:"underlined","hide-details":"",rules:K,readonly:""},{ref_for:!0},Lt),{"append-inner":d(()=>[l(Ee,{class:"text-medium-emphasis"},{default:d(()=>[...me[48]||(me[48]=[Q("mdi-calendar",-1)])]),_:1})]),_:1},16,["modelValue","onUpdate:modelValue"])]),default:d(()=>[l(Me,{"model-value":U(vt.paymentDate),"onUpdate:modelValue":Lt=>G(Lt,vt),color:"primary",locale:"en-IN"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),p("td",null,[l(nt,{icon:"",size:"small",color:"error",variant:"text",onClick:Lt=>j(_t)},{default:d(()=>[l(Ee,null,{default:d(()=>[...me[49]||(me[49]=[Q("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])])]))),128))])]),_:1}),l(Qt,{"no-gutters":"",class:"align-center"},{default:d(()=>[l(St,{cols:"auto"},{default:d(()=>[l(nt,{variant:"outlined",color:"secondary",onClick:ee,"prepend-icon":"mdi-plus",class:"btn-hover-base"},{default:d(()=>[...me[51]||(me[51]=[Q(" Add Payment ",-1)])]),_:1})]),_:1})]),_:1})],64))]),_:1})]),_:1}),l(Ot,{flat:"",color:"surfaceContainerHigh",class:"card-enhanced"},{default:d(()=>[l(hn,{class:"d-flex justify-center pb-2",style:{gap:"4px"}},{default:d(()=>[e.mode==="edit"?(V(),ye(ze,{key:0},[l(nt,{variant:"outlined",onClick:Oe,loading:m.value,disabled:c.value.status!=="Draft"||u.value.length===0},{default:d(()=>[...me[54]||(me[54]=[Q(" Save Draft ",-1)])]),_:1},8,["loading","disabled"]),l(nt,{color:"primary",onClick:it,loading:v.value,disabled:c.value.status!=="Draft"||u.value.length===0},{default:d(()=>[...me[55]||(me[55]=[Q(" Finalize Bill ",-1)])]),_:1},8,["loading","disabled"])],64)):(V(),ye(ze,{key:1},[l(nt,{variant:"outlined",onClick:cn},{default:d(()=>[...me[56]||(me[56]=[Q(" Cancel ",-1)])]),_:1}),l(nt,{color:"primary",onClick:$t,loading:h.value,disabled:zt.value===0},{default:d(()=>[...me[57]||(me[57]=[Q(" Process Return ",-1)])]),_:1},8,["loading","disabled"])],64))]),_:1})]),_:1})]),_:1})):Be("",!0)]),_:1})]),_:1})]),_:1}),l(xt,{modelValue:y.value,"onUpdate:modelValue":me[3]||(me[3]=vt=>y.value=vt),"max-width":"700px",persistent:""},{default:d(()=>[l(Ot,null,{default:d(()=>[l(At,null,{default:d(()=>[...me[58]||(me[58]=[Q("Add Medicine to Bill",-1)])]),_:1}),l(hn,null,{default:d(()=>[l(dt,{modelValue:w.value,"onUpdate:modelValue":me[1]||(me[1]=vt=>w.value=vt),items:b.value,"item-title":"displayLabel","return-object":"",label:"Search Medicine by Batch",variant:"outlined",loading:B.value,"onUpdate:search":Te,placeholder:"Type medicine name to search...",clearable:"",autofocus:""},{item:d(({props:vt,item:_t})=>[l(Ze,Ne(vt,{class:"batch-search-item"}),{title:d(()=>[p("div",y5e,[p("span",w5e,J(_t.raw.medicineName),1),_t.raw.saltComposition?(V(),ye("span",_5e," ("+J(_t.raw.saltComposition)+") ",1)):Be("",!0)])]),subtitle:d(()=>[p("div",b5e,[p("div",x5e,[p("div",C5e,[l(En,{size:"small",variant:"tonal",color:"primary",density:"compact"},{default:d(()=>[l(Ee,{start:"",size:"small"},{default:d(()=>[...me[59]||(me[59]=[Q("mdi-barcode",-1)])]),_:1}),Q(" "+J(_t.raw.batchNumber),1)]),_:2},1024),l(En,{size:"small",variant:"tonal",color:"info",density:"compact"},{default:d(()=>[l(Ee,{start:"",size:"small"},{default:d(()=>[...me[60]||(me[60]=[Q("mdi-calendar",-1)])]),_:1}),Q(" "+J(_t.raw.expiryFormatted),1)]),_:2},1024),l(En,{size:"small",variant:"tonal",color:"default",density:"compact"},{default:d(()=>[Q(J(Ut(_t.raw.mrpPerUnit))+"/unit ",1)]),_:2},1024),_t.raw.discountPercentage>0?(V(),he(En,{key:0,size:"small",variant:"tonal",color:"warning",density:"compact"},{default:d(()=>[l(Ee,{start:"",size:"small"},{default:d(()=>[...me[61]||(me[61]=[Q("mdi-tag",-1)])]),_:1}),Q(" "+J(_t.raw.discountPercentage)+"% off ",1)]),_:2},1024)):Be("",!0)]),l(En,{size:"default",variant:"flat",color:"success",class:"font-weight-bold"},{default:d(()=>[l(Ee,{start:""},{default:d(()=>[...me[62]||(me[62]=[Q("mdi-package-variant",-1)])]),_:1}),Q(" "+J(_t.raw.availableUnits)+" units ",1)]),_:2},1024)])])]),_:2},1040)]),"no-data":d(()=>[l(Ot,{flat:"",class:"pa-4 text-center"},{default:d(()=>[l(Ye,null,{default:d(()=>[Q(J(B.value?"Searching...":"No batches found. Try a different search term."),1)]),_:1})]),_:1})]),_:1},8,["modelValue","items","loading"])]),_:1}),l(lt,null,{default:d(()=>[l(ct),l(nt,{variant:"outlined",onClick:me[2]||(me[2]=vt=>y.value=!1)},{default:d(()=>[...me[63]||(me[63]=[Q("Cancel",-1)])]),_:1}),l(nt,{color:"primary",onClick:Ct,disabled:!w.value},{default:d(()=>[...me[64]||(me[64]=[Q("Add to Bill",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},B5e=on(E5e,[["__scopeId","data-v-7c8fabf4"]]),S5e={class:"text-center"},k5e={class:"text-center"},I5e={class:"text-body-2 text-medium-emphasis mb-4"},T5e={class:"pa-1"},F5e={class:"text-body-1 font-weight-medium"},P5e={class:"text-body-2 text-medium-emphasis"},D5e={key:0,class:"text-body-2 text-medium-emphasis"},U5e={class:"pa-1"},R5e={class:"text-body-1 font-weight-medium"},N5e={class:"text-body-2 text-medium-emphasis"},L5e={class:"pa-1"},V5e={class:"text-body-1 font-weight-medium"},M5e={class:"text-body-2 text-medium-emphasis"},O5e={class:"text-body-2 font-weight-medium"},Q5e={key:0,class:"text-caption text-medium-emphasis"},H5e={class:"text-body-2"},K5e={class:"text-body-2 font-weight-medium"},G5e={key:1},z5e={class:"text-body-2"},$5e={class:"text-caption text-medium-emphasis"},W5e={class:"text-right"},j5e={class:"text-right"},J5e={class:"text-right"},q5e={class:"text-right"},Y5e={class:"text-right"},X5e={class:"text-right"},Z5e={class:"text-right font-weight-medium"},eVe={key:0,class:"text-body-2 mb-1 font-weight-bold"},tVe={class:"text-body-2 mb-1"},nVe={class:"text-body-2 mb-1"},rVe={class:"text-body-2 mb-1"},aVe={class:"text-body-2 mb-1",style:{"font-size":"0.875rem"}},sVe={class:"text-body-2 mb-1",style:{"font-size":"0.875rem"}},oVe={class:"text-body-2 mb-1 font-weight-bold"},iVe={key:0,class:"text-body-2 mb-1 font-weight-bold"},lVe={class:"text-body-2 mb-1"},cVe={class:"text-body-2 mb-1"},uVe={class:"text-subtitle-1 font-weight-bold mt-2"},dVe={class:"text-h6"},AVe={class:"text-h6 text-success"},fVe={key:0,class:"text-center pa-4"},mVe={class:"text-left"},hVe={class:"text-left"},vVe={class:"text-right"},pVe={class:"text-right"},gVe={class:"text-center pa-4"},yVe={key:1,class:"d-flex justify-center align-center pa-8"},wVe={class:"text-center"},_Ve={__name:"pharmacy-bill-view",props:{billId:{type:[String,Number],required:!0}},emits:["close","edit-bill"],setup(e,{emit:t}){const{showError:n}=dr(),r=e,a=t,s=H(!1),o=H(null),i=H(null),c=H(null),A=H("view"),u=H({}),f=H(null),m=bH(f),{billPayments:v,isLoadingPayments:h,totalPaymentsMade:y,loadBillPayments:w}=m,b=async()=>{try{s.value=!0,o.value=null;const{data:X,error:oe}=await rO(r.billId);if(oe)o.value=oe.response?.data?.error||oe.message||"Failed to load bill",n("Error loading bill");else{if(i.value=X,X.patientId)try{const q=await nk(X.patientId);q.data&&(c.value=q.data)}catch(q){console.warn("Could not fetch patient details:",q)}f.value=r.billId,await w()}}catch(X){console.error("Error loading bill:",X),o.value=X.message||"An unexpected error occurred",n("Error loading bill")}finally{s.value=!1}},B=X=>{if(!X)return"";try{let oe;if(typeof X=="number")oe=new Date(X*1e3);else if(typeof X=="string")oe=new Date(X);else return"";if(isNaN(oe.getTime()))return"";const q=String(oe.getDate()).padStart(2,"0"),Y=oe.toLocaleDateString("en-IN",{month:"short"}),ae=String(oe.getFullYear()).slice(-2);return`${q} ${Y} ${ae}`}catch(oe){return console.error("Error formatting date:",oe,X),""}},S=X=>{if(!X)return"";try{return new Date(X*1e3).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return X}},T=X=>X==null?"0.00":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(X),N=X=>{if(!X.mrp||!X.unitsPerPack||X.unitsPerPack<=0)return 0;const oe=new Ht(X.mrp),q=new Ht(X.unitsPerPack),Y=new Ht(X.gstPercentage||0),ae=new Ht(X.discountPercentage||0),ge=oe.dividedBy(q),we=new Ht(1).plus(Y.dividedBy(100)),z=ge.dividedBy(we),Ae=new Ht(1).minus(ae.dividedBy(100));return z.times(Ae).toNumber()},k=X=>{if(!X.mrp||!X.unitsPerPack||X.unitsPerPack<=0)return 0;const oe=new Ht(N(X)),q=new Ht(X.gstPercentage||0),Y=new Ht(1).plus(q.dividedBy(100));return oe.times(Y).toNumber()},E=(X,oe)=>{if(!X.mrp||!X.unitsPerPack||X.unitsPerPack<=0)return 0;const q=new Ht(X.mrp),Y=new Ht(X.unitsPerPack),ae=new Ht(X.gstPercentage||0),ge=new Ht(X.discountPercentage||0),we=new Ht(X.quantityUnits||0),z=q.dividedBy(Y),Ae=new Ht(1).plus(ae.dividedBy(100)),ie=z.dividedBy(Ae),_e=new Ht(1).minus(ge.dividedBy(100)),Pe=ie.times(_e),re=Pe.times(ae.dividedBy(100));return Pe.plus(re).times(we).toNumber()},_=Z(()=>i.value?.items?i.value.items.reduce((oe,q)=>{if(!q.mrp||!q.unitsPerPack||q.unitsPerPack<=0)return oe;const Y=new Ht(q.mrp),ae=new Ht(q.unitsPerPack),ge=new Ht(q.quantityUnits||0),z=Y.dividedBy(ae).times(ge);return oe.plus(z)},new Ht(0)).toNumber():0),C=Z(()=>i.value?.items?i.value.items.reduce((oe,q)=>{if(!q.mrp||!q.unitsPerPack||q.unitsPerPack<=0)return oe;const Y=new Ht(q.mrp),ae=new Ht(q.unitsPerPack),ge=new Ht(q.gstPercentage||0),we=new Ht(q.discountPercentage||0),z=new Ht(q.quantityUnits||0),Ae=Y.dividedBy(ae),ie=new Ht(1).plus(ge.dividedBy(100)),_e=Ae.dividedBy(ie),Pe=new Ht(1).minus(we.dividedBy(100)),re=_e.times(Pe),He=_e.minus(re).times(z);return oe.plus(He)},new Ht(0)).toNumber():0),F=Z(()=>i.value?.items?i.value.items.reduce((oe,q)=>{if(!q.mrp||!q.unitsPerPack||q.unitsPerPack<=0)return oe;const Y=new Ht(q.mrp),ae=new Ht(q.unitsPerPack),ge=new Ht(q.gstPercentage||0),we=new Ht(q.discountPercentage||0),z=new Ht(q.quantityUnits||0),Ae=Y.dividedBy(ae),ie=new Ht(1).plus(ge.dividedBy(100)),_e=Ae.dividedBy(ie),Pe=new Ht(1).minus(we.dividedBy(100)),He=_e.times(Pe).times(ge.dividedBy(100)).times(z);return oe.plus(He)},new Ht(0)).toNumber():0),I=Z(()=>new Ht(F.value).dividedBy(2).toNumber()),R=Z(()=>new Ht(F.value).dividedBy(2).toNumber()),M=Z(()=>i.value?.items?i.value.items.reduce((oe,q)=>{const Y=q.totalAmount||E(q);return oe.plus(new Ht(Y))},new Ht(0)).toNumber():0),te=Z(()=>{const X=new Ht(M.value),oe=new Ht(i.value?.additionalDiscountAmount||0),q=X.minus(oe);return Ht.max(new Ht(0),q).toNumber()}),se=Z(()=>Math.ceil(te.value)-te.value),O=Z(()=>Math.ceil(te.value)),W=Z(()=>Math.max(0,O.value-y.value)),le=X=>{if(!X)return!1;try{let oe;if(typeof X=="number")oe=new Date(X*1e3);else if(typeof X=="string")oe=new Date(X);else return!1;if(isNaN(oe.getTime()))return!1;const q=new Date;return q.setHours(0,0,0,0),oe.setHours(0,0,0,0),oe<q}catch(oe){return console.error("Error checking expiry:",oe,X),!1}},K=X=>({Draft:"warning",Finalized:"success",Cancelled:"error",Refund:"info"})[X]||"default",ee=()=>{a("edit-bill")},j=()=>{a("close")},U=async()=>{try{const X=await jbe();if(X.error)console.error("Error fetching pharmacy config:",X.error),u.value={header:"",gstNumber:"",useHeader:!0,pageSize:"A4"};else{const oe=X.data||{};u.value={header:oe.header||"",gstNumber:oe.gstNumber||"",useHeader:oe.useHeader!==void 0?oe.useHeader===1||oe.useHeader===!0:!0,pageSize:oe.pageSize||"A4"}}}catch(X){console.error("Error fetching pharmacy configurations:",X),u.value={header:"",gstNumber:"",useHeader:!0,pageSize:"A4"}}},G=Z(()=>{if(!i.value)return null;const X=i.value.items.map((oe,q)=>({...oe,taxableValuePerUnit:oe.unitPrice||N(oe),finalValuePerUnit:oe.totalAmount&&oe.quantityUnits?oe.totalAmount/oe.quantityUnits:k(oe),itemTotal:oe.totalAmount||E(oe)}));return{pharmacyBill:{identifier:i.value.identifier,billDate:i.value.billDate,status:i.value.status,patientName:i.value.patientName,patientId:i.value.patientId,patientContactNumber:i.value.patientContactNumber,doctorName:i.value.doctorName,consultationDate:i.value.consultationDate,items:X,totalMrp:_.value,totalDiscount:C.value,totalGst:F.value,totalCgst:I.value,totalSgst:R.value,subtotalWithGst:M.value,additionalDiscountAmount:i.value.additionalDiscountAmount||0,netAmount:te.value,roundOff:se.value,finalAmount:O.value,payments:v.value||[],totalPaymentsMade:y.value,balanceDue:W.value},pharmacyConfigurations:u.value}}),ne=X=>{console.log("Pharmacy bill PDF generated:",X)};return Ge(()=>r.billId,X=>{f.value=X},{immediate:!0}),fn(()=>{b(),U()}),(X,oe)=>{const q=D("v-icon"),Y=D("v-btn"),ae=D("v-card-title"),ge=D("v-col"),we=D("v-row"),z=D("v-tab"),Ae=D("v-tabs"),ie=D("v-progress-circular"),_e=D("v-label"),Pe=D("v-chip"),re=D("v-card-text"),be=D("v-card"),He=D("v-table"),ke=D("v-divider"),Se=D("v-container"),st=D("v-tabs-window-item"),je=D("v-tabs-window");return V(),he(be,{rounded:"lg",color:"surfaceContainer",flat:"",ripple:!1},{default:d(()=>[l(we,{"no-gutters":""},{default:d(()=>[l(ge,{cols:"12"},{default:d(()=>[l(ae,{class:"d-flex align-center justify-space-between"},{default:d(()=>[oe[3]||(oe[3]=p("span",null,"Pharmacy Bill - View",-1)),l(Y,{onClick:j,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(q,{size:"18"},{default:d(()=>[...oe[2]||(oe[2]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(we,{"no-gutters":""},{default:d(()=>[l(ge,{cols:"12"},{default:d(()=>[l(Ae,{modelValue:A.value,"onUpdate:modelValue":oe[0]||(oe[0]=Ve=>A.value=Ve),color:"primary","bg-color":"surfaceContainerHigh","align-tabs":"start",class:"mx-3 mb-3"},{default:d(()=>[l(z,{value:"view"},{default:d(()=>[l(q,{start:""},{default:d(()=>[...oe[4]||(oe[4]=[Q("mdi-eye",-1)])]),_:1}),oe[5]||(oe[5]=Q(" View Bill ",-1))]),_:1}),l(z,{value:"share"},{default:d(()=>[l(q,{start:""},{default:d(()=>[...oe[6]||(oe[6]=[Q("mdi-share-variant",-1)])]),_:1}),oe[7]||(oe[7]=Q(" Share Bill ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(we,{"no-gutters":""},{default:d(()=>[l(ge,{cols:"12",class:"scroll-element"},{default:d(()=>[l(je,{modelValue:A.value,"onUpdate:modelValue":oe[1]||(oe[1]=Ve=>A.value=Ve)},{default:d(()=>[l(st,{value:"view"},{default:d(()=>[s.value?(V(),he(we,{key:0,"no-gutters":""},{default:d(()=>[l(ge,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",S5e,[l(ie,{indeterminate:"",color:"primary",size:"64"}),oe[8]||(oe[8]=p("div",{class:"mt-4 text-subtitle-1"},"Loading bill...",-1))])]),_:1})]),_:1})):o.value?(V(),he(we,{key:1,"no-gutters":""},{default:d(()=>[l(ge,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[p("div",k5e,[l(q,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...oe[9]||(oe[9]=[Q("mdi-alert-circle",-1)])]),_:1}),oe[11]||(oe[11]=p("div",{class:"text-h6 mb-2"},"Failed to Load Bill",-1)),p("div",I5e,J(o.value),1),l(Y,{color:"primary",onClick:b,"prepend-icon":"mdi-refresh"},{default:d(()=>[...oe[10]||(oe[10]=[Q(" Retry ",-1)])]),_:1})])]),_:1})]),_:1})):i.value?(V(),he(Se,{key:2,fluid:"",class:"pa-3"},{default:d(()=>[l(be,{flat:"",color:"surfaceContainerHigh",class:"mb-4 card-enhanced"},{default:d(()=>[l(re,{class:"pb-1 pt-2"},{default:d(()=>[l(we,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(ge,{cols:"4"},{default:d(()=>[p("div",T5e,[l(_e,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...oe[12]||(oe[12]=[Q("Patient Information",-1)])]),_:1}),p("div",F5e,J(i.value.patientName||"Unknown Patient"),1),p("div",P5e,"ID: "+J(i.value.patientId||"N/A"),1),i.value.patientContactNumber?(V(),ye("div",D5e," Phone: "+J(i.value.patientContactNumber),1)):Be("",!0)])]),_:1}),l(ge,{cols:"4"},{default:d(()=>[p("div",U5e,[l(_e,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...oe[13]||(oe[13]=[Q("Consultation Details",-1)])]),_:1}),p("div",R5e,"Dr. "+J(i.value.doctorName||"Unknown"),1),p("div",N5e,"Date: "+J(B(i.value.consultationDate)),1)])]),_:1}),l(ge,{cols:"4"},{default:d(()=>[p("div",L5e,[l(_e,{class:"text-caption text-medium-emphasis"},{default:d(()=>[...oe[14]||(oe[14]=[Q("Bill Information",-1)])]),_:1}),p("div",V5e,J(i.value.identifier),1),p("div",M5e,"Date: "+J(B(i.value.billDate)),1),l(Pe,{color:K(i.value.status),size:"small",variant:"flat",class:"mt-1"},{default:d(()=>[Q(J(i.value.status),1)]),_:1},8,["color"])])]),_:1})]),_:1})]),_:1})]),_:1}),l(be,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(re,{class:"pb-2"},{default:d(()=>[oe[17]||(oe[17]=p("div",{class:"text-subtitle-1 mb-3"},"Bill Items",-1)),l(He,{density:"compact",class:"mb-3"},{default:d(()=>[oe[16]||(oe[16]=p("thead",null,[p("tr",null,[p("th",{class:"text-left",style:{width:"60px"}},"Sr. No"),p("th",{class:"text-left",style:{width:"200px"}},"Item"),p("th",{class:"text-left",style:{width:"100px"}},"HSN Code"),p("th",{class:"text-left",style:{width:"150px"}},"Batch Details"),p("th",{class:"text-left",style:{width:"120px"}},"Packaging Details"),p("th",{class:"text-right",style:{width:"100px"}},"MRP (Pack)"),p("th",{class:"text-right",style:{width:"100px"}},"Discount %"),p("th",{class:"text-right",style:{width:"120px"}},"Taxable Value/Unit"),p("th",{class:"text-right",style:{width:"100px"}},"GST %"),p("th",{class:"text-right",style:{width:"120px"}},"Final Value/Unit"),p("th",{class:"text-right",style:{width:"100px"}},"Qty"),p("th",{class:"text-right",style:{width:"120px"}},"Total ()")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(i.value.items,(Ve,Te)=>(V(),ye("tr",{key:Te},[p("td",null,J(Te+1),1),p("td",null,[p("div",O5e,J(Ve.medicineName),1),Ve.marketer?(V(),ye("div",Q5e,J(Ve.marketer),1)):Be("",!0)]),p("td",null,[p("div",H5e,J(Ve.hsnCode||"N/A"),1)]),p("td",null,[p("div",K5e,J(Ve.batchNumber||"N/A"),1),p("div",{class:rt(["text-caption text-medium-emphasis",le(Ve.expiryDate)?"text-error":""])},[Ve.expiryDate?(V(),ye(ze,{key:0},[Q(" Exp: "+J(B(Ve.expiryDate))+" ",1),le(Ve.expiryDate)?(V(),he(Pe,{key:0,color:"error",size:"x-small",variant:"tonal",class:"ml-1"},{default:d(()=>[...oe[15]||(oe[15]=[Q(" Expired ",-1)])]),_:1})):Be("",!0)],64)):(V(),ye("span",G5e,"Exp: N/A"))],2)]),p("td",null,[p("div",z5e,J(Ve.packType||"N/A"),1),p("div",$5e,J(Ve.unitsPerPack||1)+" units/pack",1)]),p("td",W5e,J(T(Ve.mrp)),1),p("td",j5e,J(Ve.discountPercentage)+"%",1),p("td",J5e,J(T(Ve.unitPrice||N(Ve))),1),p("td",q5e,J(Ve.gstPercentage)+"%",1),p("td",Y5e,J(T(Ve.totalAmount&&Ve.quantityUnits?Ve.totalAmount/Ve.quantityUnits:k(Ve))),1),p("td",X5e,J(Ve.quantityUnits),1),p("td",Z5e,J(T(Ve.totalAmount||E(Ve,Te))),1)]))),128))])]),_:1})]),_:1})]),_:1}),l(be,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(re,{class:"pb-2"},{default:d(()=>[oe[27]||(oe[27]=p("div",{class:"text-subtitle-1 mb-3"},"Bill Summary",-1)),l(ke,{class:"mb-3"}),l(we,{"no-gutters":""},{default:d(()=>[l(ge,{cols:"6"},{default:d(()=>[oe[18]||(oe[18]=p("div",{class:"text-body-2 mb-1"},"Total MRP:",-1)),oe[19]||(oe[19]=p("div",{class:"text-body-2 mb-1"},"Total Discount:",-1)),oe[20]||(oe[20]=p("div",{class:"text-body-2 mb-1"},"Total GST:",-1)),oe[21]||(oe[21]=p("div",{class:"text-body-2 mb-1 pl-4",style:{"font-size":"0.875rem"}},"CGST:",-1)),oe[22]||(oe[22]=p("div",{class:"text-body-2 mb-1 pl-4",style:{"font-size":"0.875rem"}},"SGST:",-1)),oe[23]||(oe[23]=p("div",{class:"text-body-2 mb-1 font-weight-bold"},"Subtotal with GST:",-1)),i.value.additionalDiscountAmount>0?(V(),ye("div",eVe,"Additional Discount:")):Be("",!0),oe[24]||(oe[24]=p("div",{class:"text-body-2 mb-1"},"Net Amount:",-1)),oe[25]||(oe[25]=p("div",{class:"text-body-2 mb-1"},"Round Off:",-1)),oe[26]||(oe[26]=p("div",{class:"text-subtitle-1 font-weight-bold mt-2"},"Final Amount:",-1))]),_:1}),l(ge,{cols:"6",class:"text-right"},{default:d(()=>[p("div",tVe,J(T(_.value)),1),p("div",nVe,"-"+J(T(C.value)),1),p("div",rVe,J(T(F.value)),1),p("div",aVe,J(T(I.value)),1),p("div",sVe,J(T(R.value)),1),p("div",oVe,J(T(M.value)),1),i.value.additionalDiscountAmount>0?(V(),ye("div",iVe,"-"+J(T(i.value.additionalDiscountAmount)),1)):Be("",!0),p("div",lVe,J(T(te.value)),1),p("div",cVe,J(se.value>0?"+":"")+J(T(se.value)),1),p("div",uVe,J(T(O.value)),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(be,{flat:"",color:"surfaceContainerHigh",class:"mb-3 card-enhanced"},{default:d(()=>[l(re,{class:"pb-2"},{default:d(()=>[oe[36]||(oe[36]=p("div",{class:"text-subtitle-1 mb-3"},"Payment Information",-1)),l(we,{"no-gutters":"",class:"mb-3"},{default:d(()=>[l(ge,{cols:"4"},{default:d(()=>[oe[28]||(oe[28]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Total Amount",-1)),p("div",dVe,J(T(O.value)),1)]),_:1}),l(ge,{cols:"4"},{default:d(()=>[oe[29]||(oe[29]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Paid Amount",-1)),p("div",AVe,J(T(We(y))),1)]),_:1}),l(ge,{cols:"4"},{default:d(()=>[oe[30]||(oe[30]=p("div",{class:"text-subtitle-2 text-medium-emphasis mb-1"},"Balance Due",-1)),p("div",{class:rt(["text-h6",W.value>0?"text-error":"text-success"])},J(T(W.value)),3)]),_:1})]),_:1}),We(h)?(V(),ye("div",fVe,[l(ie,{indeterminate:"",size:"32",color:"primary"}),oe[31]||(oe[31]=p("div",{class:"text-body-2 mt-2"},"Loading payments...",-1))])):We(v)&&We(v).length>0?(V(),ye(ze,{key:1},[l(ke,{class:"mb-3"}),oe[33]||(oe[33]=p("div",{class:"text-subtitle-2 mb-2"},"Payment History",-1)),l(He,{density:"compact"},{default:d(()=>[oe[32]||(oe[32]=p("thead",null,[p("tr",null,[p("th",{class:"text-left"},"Date"),p("th",{class:"text-left"},"Mode"),p("th",{class:"text-right"},"Amount"),p("th",{class:"text-right"},"Created")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(We(v),Ve=>(V(),ye("tr",{key:Ve.id},[p("td",mVe,J(B(Ve.paymentDate)),1),p("td",hVe,J(Ve.mode),1),p("td",vVe,J(T(Ve.amount)),1),p("td",pVe,J(S(Ve.createdAt)),1)]))),128))])]),_:1})],64)):(V(),ye(ze,{key:2},[l(ke,{class:"mb-3"}),p("div",gVe,[l(q,{size:"48",color:"outline",class:"mb-2"},{default:d(()=>[...oe[34]||(oe[34]=[Q("mdi-currency-inr",-1)])]),_:1}),oe[35]||(oe[35]=p("div",{class:"text-body-2 text-medium-emphasis"},"No payments recorded",-1))])],64))]),_:1})]),_:1}),l(be,{flat:"",color:"surfaceContainerHigh",class:"card-enhanced"},{default:d(()=>[l(re,{class:"d-flex justify-center pb-2 gap-2"},{default:d(()=>[i.value.status==="Draft"?(V(),he(Y,{key:0,color:"primary",onClick:ee},{default:d(()=>[...oe[37]||(oe[37]=[Q(" Edit Bill ",-1)])]),_:1})):Be("",!0)]),_:1})]),_:1})]),_:1})):Be("",!0)]),_:1}),l(st,{value:"share",class:"h-100"},{default:d(()=>[l(we,{"no-gutters":"",class:"h-100"},{default:d(()=>[l(ge,{cols:"12"},{default:d(()=>[G.value&&c.value?(V(),he(Ep,{key:0,"content-type":"pharmacy-bill",data:G.value,patient:c.value,onPdfGenerated:ne},null,8,["data","patient"])):(V(),ye("div",yVe,[p("div",wVe,[l(ie,{indeterminate:"",color:"primary",size:"64"}),oe[38]||(oe[38]=p("div",{class:"mt-4 text-subtitle-1"},"Loading bill data...",-1))])]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}},bVe=on(_Ve,[["__scopeId","data-v-01d0853d"]]),xVe={class:"text-medium-emphasis"},CVe={key:0},EVe={__name:"cancel-bill",props:{bill:{type:Object,required:!0}},emits:["close"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=H(!1),i=()=>{r("close")},c=async()=>{try{o.value=!0;const A=await Kbe(n.bill.id);if(A.error){const u=A.error.response?.data?.error||A.error.message||"Failed to cancel bill";s(u)}else a("Bill cancelled successfully. Inventory has been released."),i()}catch(A){console.error("Error cancelling bill:",A),s("An unexpected error occurred while cancelling the bill")}finally{o.value=!1}};return(A,u)=>{const f=D("v-card-title"),m=D("v-col"),v=D("v-icon"),h=D("v-btn"),y=D("v-row"),w=D("v-card"),b=D("v-card-text"),B=D("v-divider");return V(),he(w,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(y,{"no-gutters":""},{default:d(()=>[l(m,{cols:"12"},{default:d(()=>[l(w,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(y,{"no-gutters":""},{default:d(()=>[l(m,{cols:"11"},{default:d(()=>[l(f,{class:"pa-0 pl-2"},{default:d(()=>[...u[0]||(u[0]=[Q("Confirm Bill Cancellation",-1)])]),_:1})]),_:1}),l(m,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(h,{icon:"",size:"x-small",onClick:i},{default:d(()=>[l(v,null,{default:d(()=>[...u[1]||(u[1]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(y,{"no-gutters":""},{default:d(()=>[l(m,{cols:"12"},{default:d(()=>[l(w,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(y,{"no-gutters":""},{default:d(()=>[l(m,{cols:"12"},{default:d(()=>[l(b,{class:"text-left"},{default:d(()=>[u[4]||(u[4]=Q(" Are you sure you want to cancel this bill? ",-1)),u[5]||(u[5]=p("span",{class:"text-warning font-weight-bold"}," This will release the reserved/sold inventory back to stock. ",-1)),u[6]||(u[6]=p("br",null,null,-1)),u[7]||(u[7]=p("br",null,null,-1)),p("span",xVe,[u[3]||(u[3]=Q(" Bill ID: ",-1)),p("strong",null,J(e.bill?.identifier||"N/A"),1),e.bill?.status?(V(),ye("span",CVe,[u[2]||(u[2]=Q("  Status: ",-1)),p("strong",null,J(e.bill.status),1)])):Be("",!0)])]),_:1})]),_:1})]),_:1}),l(B),l(y,{"no-gutters":""},{default:d(()=>[l(m,{cols:"2"}),l(m,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(h,{variant:"outlined",color:"error",onClick:c,loading:o.value,disabled:o.value},{default:d(()=>[...u[8]||(u[8]=[Q(" Yes, Cancel Bill ",-1)])]),_:1},8,["loading","disabled"])]),_:1}),l(m,{cols:"2"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},BVe={class:"w-100",style:{"white-space":"normal",overflow:"visible","text-overflow":"unset"}},SVe={class:"text-subtitle-2 mb-1",style:{"white-space":"normal","line-height":"1.3",overflow:"visible","text-overflow":"unset"}},kVe={class:"text-caption",style:{opacity:"0.7"}},IVe={class:"d-flex justify-center"},TVe={__name:"create-draft-bill",emits:["close","draft-bill-created"],setup(e,{emit:t}){const n=pr(),{showSuccess:r,showError:a}=dr(),s=t,o=Z(()=>n.getters["doctorModule/allDoctors"]||[]),i=H(null);fn(()=>{i.value=n.state.doctorModule.doctorId,o.value.length===0&&n.dispatch("doctorModule/fetchDoctors").then(()=>{!i.value&&o.value.length>0&&(i.value=n.state.doctorModule.doctorId||o.value[0]?.id)})});let c=null,A=null;const u=H(!1),f=H([]),m=H(""),v=H(null),h=H(!1),y=H(!1),w=k=>k?`${k.name||""} (${k.contactNumber||k.contact_number||""})`:"",b=(k,E=0,_=!1)=>{if(E===0)return"First time patient";if(_&&E>1)return k?`Has appointment today  Last visit: ${ji(k)}`:"Has appointment today";if(_&&E===1)return"First visit today";if(k){const C=Jn(),F=k;if(F<C)return`Last visit: ${ji(F)}`;if(F>C)return`Next visit: ${ji(F)}`}return"No previous visits"},B=Z(()=>!m.value||m.value.length<1?"Start typing to search for patients":h.value?`No patients found matching "${m.value}"`:""),S=async k=>{if(!k||k.length<1){f.value=[],h.value=!1;return}A&&A.abort(),A=new AbortController,u.value=!0,h.value=!1;try{const E=await p8(k,{signal:A.signal});A.signal.aborted||(f.value=E.data,(!f.value||f.value.length===0)&&(h.value=!0))}catch(E){E.name!=="AbortError"&&(console.error("Error fetching patients:",E),h.value=!0)}finally{A?.signal.aborted||(u.value=!1)}};Ge(m,k=>{c&&clearTimeout(c),h.value=!1,c=setTimeout(()=>{S(k)},300)});const T=async()=>{if(!v.value||!v.value.id){a("Please select a patient");return}if(!i.value){a("Please select a doctor");return}try{y.value=!0;const k=Jn(),E=await tk(v.value.id,i.value,k);if(E.error){a(E.error.response?.data?.error||"Failed to create consultation");return}if(!E.data||!E.data.consultation_id){a("Failed to get consultation ID");return}const _=E.data.consultation_id,C=await aO(_);if(C.error){a(C.error.response?.data?.error||"Failed to create draft bill");return}r("Draft bill created successfully"),s("draft-bill-created"),N()}catch(k){console.error("Error creating draft bill:",k),a("An unexpected error occurred")}finally{y.value=!1}},N=()=>{s("close")};return Br(()=>{c&&(clearTimeout(c),c=null),A&&(A.abort(),A=null)}),(k,E)=>{const _=D("v-card-title"),C=D("v-col"),F=D("v-icon"),I=D("v-btn"),R=D("v-row"),M=D("v-card"),te=D("v-list-item"),se=D("v-select"),O=D("v-list"),W=D("v-card-subtitle"),le=D("v-autocomplete"),K=D("v-card-text"),ee=D("v-divider"),j=D("v-empty-state");return V(),he(M,{rounded:"lg",color:"surfaceContainer"},{default:d(()=>[l(R,{"no-gutters":""},{default:d(()=>[l(C,{cols:"12"},{default:d(()=>[l(M,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(R,{"no-gutters":""},{default:d(()=>[l(C,{cols:"11"},{default:d(()=>[l(_,{class:"pa-0 pl-2"},{default:d(()=>[...E[3]||(E[3]=[Q("Create Draft Bill",-1)])]),_:1})]),_:1}),l(C,{cols:"1"},{default:d(()=>[l(I,{icon:"",size:"x-small",onClick:N,tabindex:"-1"},{default:d(()=>[l(F,null,{default:d(()=>[...E[4]||(E[4]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(R,{"no-gutters":""},{default:d(()=>[l(C,{cols:"12"},{default:d(()=>[l(M,{flat:"",class:"d-flex justify-center ma-2",color:"surfaceContainer"},{default:d(()=>[l(se,{modelValue:i.value,"onUpdate:modelValue":E[0]||(E[0]=U=>i.value=U),items:o.value,"item-title":"doctorName","item-value":"id",density:"compact",variant:"outlined",placeholder:"Select Doctor",style:{width:"90%","max-width":"700px"},"prepend-inner-icon":"mdi-doctor","hide-details":"auto","menu-props":{maxHeight:"400px"}},{item:d(({props:U,item:G})=>[l(te,LA(fd(U)),{title:d(()=>[Q(J(G.raw.doctorName),1)]),subtitle:d(()=>[Q(J(G.raw.doctorSpecialization),1)]),_:2},1040)]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),l(R,{"no-gutters":""},{default:d(()=>[l(C,{cols:"12"},{default:d(()=>[l(M,{flat:"",class:"d-flex justify-center ma-2",color:"surfaceContainer"},{default:d(()=>[l(le,{ref:"searchRef",density:"compact",placeholder:"Search by name or phone",style:{width:"90%","max-width":"700px"},theme:"light",variant:"solo",rounded:"l",items:f.value,search:m.value,"onUpdate:search":E[1]||(E[1]=U=>m.value=U),loading:u.value,"item-title":w,"item-value":"id","return-object":"",modelValue:v.value,"onUpdate:modelValue":E[2]||(E[2]=U=>v.value=U),chips:"",clearable:"","prepend-inner-icon":"mdi-magnify","no-data-text":B.value,"menu-props":{maxHeight:"400px",closeOnContentClick:!1}},{item:d(({props:U,item:G,index:ne})=>[l(O,{density:"compact",class:"pa-0 py-1"},{default:d(()=>[l(te,Ne(U,{class:"py-0 my-0",style:{"min-height":"60px"}}),{default:d(()=>[p("div",BVe,[p("div",SVe," ID: "+J(G.raw.id)+"  "+J(G.raw.gender)+", "+J(G.raw.age)+" yrs  Added On: "+J(We(ji)(G.raw.createdAt))+J(G.raw.importID?`  Import ID: ${G.raw.importID}`:""),1),p("div",kVe,J(b(G.raw.lastAppointmentDate,G.raw.totalAppointments,G.raw.hasAppointmentToday)),1)])]),_:2},1040)]),_:2},1024)]),"no-data":d(()=>[l(O,{density:"compact"},{default:d(()=>[l(te,null,{default:d(()=>[l(W,null,{default:d(()=>[Q(J(B.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["items","search","loading","modelValue","no-data-text"])]),_:1})]),_:1})]),_:1}),l(R,{"no-gutters":""},{default:d(()=>[l(C,{cols:"12",class:"scroll-element"},{default:d(()=>[l(M,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[v.value&&v.value.id?(V(),ye(ze,{key:0},[l(M,{flat:"",class:"text-left",variant:"text"},{default:d(()=>[l(K,{class:"ma-0 pa-0 pl-4 mb-1"},{default:d(()=>[l(R,{"no-gutters":""},{default:d(()=>[l(C,{cols:"6"},{default:d(()=>[Q(J(`Name: ${v.value.name}`),1)]),_:1}),l(C,{cols:"6"},{default:d(()=>[Q(J(`Gender: ${v.value.gender}`),1)]),_:1})]),_:1}),l(R,{"no-gutters":""},{default:d(()=>[l(C,{cols:"6"},{default:d(()=>[Q(J(`Contact: ${v.value.contactNumber||v.value.contact_number}`),1)]),_:1}),l(C,{cols:"6"},{default:d(()=>[Q(J(v.value.age!==null?`Age: ${v.value.age} yrs`:""),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(M,{flat:"",class:"text-left",variant:"text"},{default:d(()=>[l(R,{"no-gutters":""},{default:d(()=>[l(C,{cols:"12"},{default:d(()=>[l(ee,{class:"mb-2"}),p("div",IVe,[l(I,{variant:"outlined",onClick:T,disabled:!v.value||y.value,loading:y.value},{default:d(()=>[...E[5]||(E[5]=[Q(" Create Draft Bill ",-1)])]),_:1},8,["disabled","loading"])])]),_:1})]),_:1})]),_:1})],64)):(V(),he(j,{key:1,image:We(y8)},{title:d(()=>[...E[6]||(E[6]=[p("div",{class:"text-subtitle-2 mt-8"}," Search for a patient above to create a draft bill ",-1)])]),text:d(()=>[...E[7]||(E[7]=[p("div",{class:"text-caption"},null,-1)])]),_:1},8,["image"]))]),_:1})]),_:1})]),_:1})]),_:1})}}},FVe=on(TVe,[["__scopeId","data-v-b2a2ca6f"]]),PVe={class:"scrollable-content"},DVe={class:"scrollable-content"},UVe={class:"text-center"},RVe={class:"text-center"},NVe={class:"text-body-2 text-medium-emphasis mb-4"},LVe={class:"text-center"},VVe={class:"text-subtitle-2 mt-8 text-center"},MVe={key:0},OVe={key:1},QVe={class:"text-caption text-center"},HVe={key:0},KVe={key:1},GVe={class:"text-body-2 text-medium-emphasis"},zVe={class:"font-weight-medium"},$Ve={key:0,class:"text-body-2 text-medium-emphasis mb-1"},WVe={key:0,class:"ml-2"},jVe={key:1,class:"text-body-2 text-medium-emphasis mb-1"},JVe={key:2,class:"text-body-2 font-weight-medium mt-2"},qVe={__name:"pharmacy-queue",setup(e){const{showError:t}=dr(),n=H(0),r=H([]),a=H(""),s=H(""),o=H(null),i=H(null),c=H(!1),A=H(null),u=H(!1),f=H(!1),m=H(!1),v=H(null),h=H("edit"),y=H(!1),w=H(null),b=H(!1);Z(()=>Jn());const B=Z(()=>{if(!r.value||r.value.length===0)return[];const ne=a.value?.trim();if(!ne)return r.value;if(/^\d+$/.test(ne))return r.value.filter(oe=>oe?.patientContactNumber?.includes(ne)??!1);{const oe=ne.toLowerCase();return r.value.filter(q=>q?.patientName?.toLowerCase().includes(oe)??!1)}}),S=ne=>({Draft:"rgb(var(--v-theme-warning))",Finalized:"rgb(var(--v-theme-success))",Cancelled:"rgb(var(--v-theme-error))",Refund:"rgb(var(--v-theme-info))",Series:"rgb(var(--v-theme-secondary))"})[ne]||"rgb(var(--v-theme-on-surface))",T=ne=>{if(!ne)return"";try{const X=new Date(ne*1e3),oe=Jl(X,"d MMM"),q=Jl(X,"EEE");return`${oe}, ${q}`}catch(X){return console.error("Error formatting created day:",X),""}},N=ne=>{if(!ne)return"";try{const X=new Date(ne*1e3),oe=X.getHours(),q=X.getMinutes(),Y=oe%12||12,ae=oe>=12?"PM":"AM";return`${Y}.${q.toString().padStart(2,"0")}${ae}`}catch(X){return console.error("Error formatting created time:",X),""}},k=ne=>ne==null?"0.00":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(ne),E=async()=>{if(!c.value)try{c.value=!0,A.value=null;const{data:ne,error:X}=await Obe(s.value||null,o.value||null);X?(A.value=X.response?.data?.error||X.message||"Failed to fetch pharmacy bills",r.value=[],t("Error fetching pharmacy bills")):(r.value=ne||[],u.value=!0)}catch(ne){console.error("Error in fetchBills:",ne),A.value=ne.message||"An unexpected error occurred",r.value=[],t("Error fetching pharmacy bills")}finally{c.value=!1}},_=ne=>{s.value=ne.billDate||"",o.value=ne.status||null},C=()=>{E()},F=()=>{s.value="",o.value=null,a.value="",r.value=[],u.value=!1,A.value=null},I=()=>{E()},R=ne=>{v.value=ne,f.value=!0},M=ne=>{v.value=ne,h.value="edit",m.value=!0},te=ne=>{v.value=ne,h.value="return",m.value=!0},se=ne=>{ne?.status!=="Cancelled"&&(w.value=ne,y.value=!0)},O=()=>{y.value=!1,w.value=null,E()},W=()=>{m.value=!1,v.value=null,h.value="edit"},le=()=>{f.value=!1,v.value=null},K=()=>{f.value=!1,m.value=!0},ee=async ne=>{m.value=!1,h.value="edit",await An(),ne?(v.value=ne,f.value=!0):v.value=null,E()},j=()=>{b.value=!0},U=()=>{b.value=!1},G=()=>{E()};return fn(()=>{s.value=Jn(),E()}),(ne,X)=>{const oe=D("v-alert"),q=D("v-tab"),Y=D("v-tabs"),ae=D("v-card"),ge=D("v-col"),we=D("v-row"),z=D("v-progress-circular"),Ae=D("v-icon"),ie=D("v-btn"),_e=D("v-text-field"),Pe=D("v-card-text"),re=D("v-empty-state"),be=D("v-card-title"),He=D("v-tooltip"),ke=D("v-divider"),Se=D("v-lazy"),st=D("v-window-item"),je=D("v-window"),Ve=D("v-main"),Te=D("v-dialog");return V(),ye(ze,null,[l(Ve,null,{default:d(()=>[i.value?(V(),he(oe,{key:0,type:"error",dismissible:"","onClick:close":X[0]||(X[0]=Le=>i.value=null),class:"ma-3"},{default:d(()=>[Q(J(i.value),1)]),_:1})):Be("",!0),l(we,{"no-gutters":"",class:"pl-3 pr-3 mb-2",style:{height:"50px"}},{default:d(()=>[l(ge,{cols:"12"},{default:d(()=>[l(ae,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex align-center"},{default:d(()=>[l(Y,{modelValue:n.value,"onUpdate:modelValue":X[1]||(X[1]=Le=>n.value=Le),color:"primary","align-tabs":"start",class:"w-100"},{default:d(()=>[l(q,{value:0},{default:d(()=>[...X[9]||(X[9]=[Q("Queue",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(je,{modelValue:n.value,"onUpdate:modelValue":X[4]||(X[4]=Le=>n.value=Le),class:"pl-3 pr-3 stable-height-main"},{default:d(()=>[l(st,{value:0,style:{height:"100%"}},{default:d(()=>[l(we,{"aria-label":"main row",style:{height:"100%"},class:"d-flex align-stretch"},{default:d(()=>[l(ge,{cols:"4",order:"1",class:"pr-1 stable-height-column"},{default:d(()=>[p("div",PVe,[l(BLe,{"bill-date":s.value,status:o.value,onFilterChange:_,onSearch:C,onClear:F},null,8,["bill-date","status"])])]),_:1}),l(ge,{cols:"8",order:"2",class:"pl-1 stable-height-column"},{default:d(()=>[p("div",DVe,[l(ae,{flat:"",color:"surfaceContainer",style:{height:"100%"}},{default:d(()=>[c.value?(V(),he(we,{key:0,"no-gutters":""},{default:d(()=>[l(ge,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",UVe,[l(z,{indeterminate:"",color:"primary",size:"64"}),X[10]||(X[10]=p("div",{class:"mt-4 text-subtitle-1"},"Loading pharmacy bills...",-1))])]),_:1})]),_:1})):A.value?(V(),he(we,{key:1,"no-gutters":""},{default:d(()=>[l(ge,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",RVe,[l(Ae,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...X[11]||(X[11]=[Q("mdi-alert-circle",-1)])]),_:1}),X[13]||(X[13]=p("div",{class:"text-h6 mb-2"},"Search Failed",-1)),p("div",NVe,J(A.value),1),l(ie,{color:"primary",onClick:I,"prepend-icon":"mdi-refresh"},{default:d(()=>[...X[12]||(X[12]=[Q(" Try Again ",-1)])]),_:1})])]),_:1})]),_:1})):u.value?(V(),ye(ze,{key:3},[l(ae,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(Pe,{class:"pt-2 pb-0 d-flex align-center"},{default:d(()=>[l(ge,{cols:"4",class:"pa-0"},{default:d(()=>[l(_e,{modelValue:a.value,"onUpdate:modelValue":X[2]||(X[2]=Le=>a.value=Le),density:"compact",variant:"outlined",clearable:"","hide-details":"auto","prepend-inner-icon":"mdi-account-search",placeholder:"Search by name or number",class:"patient-search-input"},null,8,["modelValue"])]),_:1}),l(ge,{cols:"4",class:"pa-0 text-center"},{default:d(()=>[p("strong",null,J(B.value.length),1),Q(" result"+J(B.value.length!==1?"s":"")+" found ",1)]),_:1}),l(ge,{cols:"4",class:"pa-0 text-right"},{default:d(()=>[l(ie,{color:"primary",variant:"outlined",onClick:j,"prepend-icon":"mdi-plus",size:"small"},{default:d(()=>[...X[17]||(X[17]=[Q(" Create Draft Bill ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),B.value&&B.value.length===0?(V(),he(re,{key:0,image:We(Um),class:"d-flex justify-center"},{title:d(()=>[p("div",VVe,[a.value?(V(),ye("span",MVe,"No bills match your search")):(V(),ye("span",OVe,"No Pharmacy Bills Found"))])]),text:d(()=>[p("div",QVe,[a.value?(V(),ye("span",HVe,"Try a different search term or clear the filter")):(V(),ye("span",KVe,"Try adjusting your search criteria or clear filters to see all bills"))])]),actions:d(()=>[a.value?(V(),he(ie,{key:0,color:"primary",variant:"outlined",onClick:X[3]||(X[3]=Le=>a.value=""),"prepend-icon":"mdi-close",class:"mr-2"},{default:d(()=>[...X[18]||(X[18]=[Q(" Clear Search ",-1)])]),_:1})):Be("",!0),l(ie,{color:"primary",variant:"outlined",onClick:F,"prepend-icon":"mdi-filter-remove"},{default:d(()=>[...X[19]||(X[19]=[Q(" Clear All Filters ",-1)])]),_:1})]),_:1},8,["image"])):B.value&&B.value.length>0?(V(),he(we,{key:1,"no-gutters":""},{default:d(()=>[l(ge,{cols:"12",class:"scroll-element mt-2",style:{"padding-bottom":"20px"}},{default:d(()=>[(V(!0),ye(ze,null,Jt(B.value,Le=>(V(),he(Se,{key:Le?.id||Math.random(),options:{threshold:.1,rootMargin:"50px"}},{default:d(()=>[Le?(V(),he(ae,{key:0,style:{textAlign:"left"},density:"compact",class:"mb-2 mx-2 card-enhanced card-status-default card-hover-base",rounded:"lg"},{default:d(()=>[l(we,{"no-gutters":""},{default:d(()=>[l(ge,{cols:"8"},{default:d(()=>[l(be,{class:"pb-1"},{default:d(()=>[p("div",GVe,[Le?.identifier?(V(),ye(ze,{key:0},[p("span",zVe,"Bill ID: "+J(Le.identifier),1),X[20]||(X[20]=Q("  ",-1))],64)):Be("",!0),Le?.createdAt?(V(),ye(ze,{key:1},[Q(J(T(Le.createdAt))+"  "+J(N(Le.createdAt))+"  ",1)],64)):Be("",!0),p("span",{class:"font-weight-medium",style:It({color:S(Le?.status)})},J(Le?.status||"Unknown"),5)])]),_:2},1024),l(Pe,{class:"pb-1 pt-1"},{default:d(()=>[Le?.patientName?(V(),ye("div",$Ve,[l(Ae,{size:"small",class:"mr-1"},{default:d(()=>[...X[21]||(X[21]=[Q("mdi-account",-1)])]),_:1}),Q(" "+J(Le.patientName)+" ",1),Le?.patientContactNumber?(V(),ye("span",WVe,"("+J(Le.patientContactNumber)+")",1)):Be("",!0)])):Be("",!0),Le?.doctorName?(V(),ye("div",jVe,[l(Ae,{size:"small",class:"mr-1"},{default:d(()=>[...X[22]||(X[22]=[Q("mdi-doctor",-1)])]),_:1}),Q(" Dr. "+J(Le.doctorName),1)])):Be("",!0),Le?.netAmount!==void 0?(V(),ye("div",JVe,[l(Ae,{size:"small",class:"mr-1"},{default:d(()=>[...X[23]||(X[23]=[Q("mdi-currency-inr",-1)])]),_:1}),Q(" Net Amount: "+J(k(Le.netAmount)),1)])):Be("",!0)]),_:2},1024)]),_:2},1024),l(ge,{cols:"2",class:"d-flex justify-center align-center"},{default:d(()=>[l(we,{"no-gutters":""},{default:d(()=>[l(ge,{cols:"12",class:"d-flex justify-center align-center"},{default:d(()=>[l(He,{text:"View Bill"},{activator:d(({props:ht})=>[l(ie,Ne({variant:"plain",color:"primary",size:"small"},{ref_for:!0},ht,{onClick:Qn(Ct=>R(Le.id),["stop"]),class:"btn-hover-base mb-2"}),{default:d(()=>[l(Ae,{size:"18"},{default:d(()=>[...X[24]||(X[24]=[Q("mdi-eye",-1)])]),_:1})]),_:1},16,["onClick"])]),_:2},1024)]),_:2},1024),l(ke,{class:"mx-4"}),l(ge,{cols:"12",class:"d-flex justify-center align-center"},{default:d(()=>[l(He,{text:Le?.status==="Finalized"?"Cannot edit finalized bills":Le?.status==="Cancelled"?"Cannot edit cancelled bills":"Edit Bill"},{activator:d(({props:ht})=>[l(ie,Ne({variant:"plain",color:"secondary",size:"small"},{ref_for:!0},ht,{disabled:Le?.status==="Finalized"||Le?.status==="Cancelled",onClick:Qn(Ct=>M(Le.id),["stop"]),class:"btn-hover-base mt-1"}),{default:d(()=>[l(Ae,{size:"18"},{default:d(()=>[...X[25]||(X[25]=[Q("mdi-pencil",-1)])]),_:1})]),_:1},16,["disabled","onClick"])]),_:2},1032,["text"])]),_:2},1024)]),_:2},1024)]),_:2},1024),l(ge,{cols:"2",class:"d-flex justify-center align-center"},{default:d(()=>[l(we,{"no-gutters":""},{default:d(()=>[l(ge,{cols:"12",class:"d-flex justify-center align-center"},{default:d(()=>[l(He,{text:Le?.status==="Finalized"?"Return Bill":"Return only available for finalized bills"},{activator:d(({props:ht})=>[l(ie,Ne({variant:"plain",size:"small"},{ref_for:!0},ht,{disabled:Le?.status!=="Finalized",onClick:Qn(Ct=>te(Le.id),["stop"]),class:"btn-hover-base mb-2",style:{color:"orange"}}),{default:d(()=>[l(Ae,{size:"18",color:"orange"},{default:d(()=>[...X[26]||(X[26]=[Q("mdi-arrow-u-left-top",-1)])]),_:1})]),_:1},16,["disabled","onClick"])]),_:2},1032,["text"])]),_:2},1024),l(ke,{class:"mx-4"}),l(ge,{cols:"12",class:"d-flex justify-center align-center"},{default:d(()=>[l(He,{text:Le?.status==="Cancelled"?"Bill is already cancelled":"Cancel Bill"},{activator:d(({props:ht})=>[l(ie,Ne({variant:"plain",color:"error",size:"small"},{ref_for:!0},ht,{disabled:Le?.status==="Cancelled",onClick:Qn(Ct=>se(Le),["stop"]),class:"btn-hover-base mt-1"}),{default:d(()=>[l(Ae,{size:"18"},{default:d(()=>[...X[27]||(X[27]=[Q("mdi-close-circle",-1)])]),_:1})]),_:1},16,["disabled","onClick"])]),_:2},1032,["text"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):Be("",!0)]),_:2},1024))),128))]),_:1})]),_:1})):Be("",!0)],64)):(V(),he(we,{key:2,"no-gutters":""},{default:d(()=>[l(ge,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50%"}},{default:d(()=>[p("div",LVe,[l(Ae,{size:"64",color:"primary",class:"mb-4"},{default:d(()=>[...X[14]||(X[14]=[Q("mdi-pill",-1)])]),_:1}),X[15]||(X[15]=p("div",{class:"text-h6 mb-2"},"Search for Pharmacy Bills",-1)),X[16]||(X[16]=p("div",{class:"text-body-2 text-medium-emphasis"},"Use the filters on the left to find pharmacy bills",-1))])]),_:1})]),_:1}))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(Te,{modelValue:m.value,"onUpdate:modelValue":X[5]||(X[5]=Le=>m.value=Le),persistent:"","max-width":"85%"},{default:d(()=>[v.value?(V(),he(B5e,{key:0,"bill-id":v.value,mode:h.value,onClose:W,onBillUpdated:ee},null,8,["bill-id","mode"])):Be("",!0)]),_:1},8,["modelValue"]),l(Te,{modelValue:f.value,"onUpdate:modelValue":X[6]||(X[6]=Le=>f.value=Le),persistent:"","max-width":"70%"},{default:d(()=>[v.value?(V(),he(bVe,{key:0,"bill-id":v.value,onClose:le,onEditBill:K},null,8,["bill-id"])):Be("",!0)]),_:1},8,["modelValue"]),l(Te,{modelValue:y.value,"onUpdate:modelValue":X[7]||(X[7]=Le=>y.value=Le),persistent:"","max-width":"30%"},{default:d(()=>[w.value?(V(),he(EVe,{key:0,bill:w.value,onClose:O},null,8,["bill"])):Be("",!0)]),_:1},8,["modelValue"]),l(Te,{modelValue:b.value,"onUpdate:modelValue":X[8]||(X[8]=Le=>b.value=Le),persistent:"","max-width":"50%"},{default:d(()=>[l(FVe,{onClose:U,onDraftBillCreated:G})]),_:1},8,["modelValue"])],64)}}},YVe=on(qVe,[["__scopeId","data-v-b1ab9f61"]]),XVe={class:"mb-4"},ZVe={class:"d-flex align-center justify-space-between"},e8e={class:"flex-grow-1"},t8e={class:"text-subtitle-1 font-weight-medium"},n8e={key:0,class:"text-caption text-medium-emphasis mt-1"},r8e={key:1,class:"text-caption text-medium-emphasis"},a8e={key:2,class:"text-caption text-warning mt-1"},s8e={__name:"pharmacy-medicine-form",emits:["close","medicine-added"],setup(e,{emit:t}){const{showSuccess:n,showInfo:r}=dr(),a=t,s=H(null),o=H(!1),i=H(null),c=H(null),A=H(!1),u=async y=>{if(!y||y.length===0)return;const w=y[0];s.value=w,i.value=null,c.value=null,w.isPharmacy?c.value="This medicine is already marked as pharmacy medicine.":w.isLocal||(c.value="This is an external medicine. It will be created in your database and then marked as pharmacy medicine.")},f=()=>{A.value=!0},m=async y=>{A.value=!1,y&&y.id&&(s.value={...y,isLocal:!0,isPharmacy:!1},await v())},v=async()=>{if(!s.value){i.value="Please select a medicine first";return}if(s.value.isPharmacy){r("This medicine is already in pharmacy");return}try{o.value=!0,i.value=null;let y=s.value.id;if(!s.value.isLocal){const B=await wk({productName:s.value.productName,marketer:s.value.marketer||"",saltComposition:s.value.saltComposition||"",productForm:s.value.productForm||"",productId:s.value.productId||"",primaryUse:s.value.primaryUse||"",source:"A",isCreatedByUser:!1});if(B.error){i.value=B.error.response?.data?.error||"Failed to create medicine";return}if(!B.data||!B.data.id){i.value="Medicine was created but ID was not returned";return}y=B.data.id}const{data:w,error:b}=await qbe(y);if(b){i.value=b.response?.data?.error||"Failed to add medicine to pharmacy";return}n("Medicine added to pharmacy successfully"),a("medicine-added",w),h()}catch(y){console.error("Error adding medicine to pharmacy:",y),i.value="An unexpected error occurred"}finally{o.value=!1}},h=()=>{s.value=null,i.value=null,c.value=null,a("close")};return(y,w)=>{const b=D("v-icon"),B=D("v-btn"),S=D("v-card-title"),T=D("v-divider"),N=D("v-alert"),k=D("v-chip"),E=D("v-card"),_=D("v-card-text"),C=D("v-spacer"),F=D("v-card-actions"),I=D("v-dialog");return V(),ye(ze,null,[l(E,{rounded:"lg",color:"surfaceContainer",flat:""},{default:d(()=>[l(S,{class:"d-flex align-center justify-space-between"},{default:d(()=>[w[4]||(w[4]=p("span",null,"Add Medicine to Pharmacy",-1)),l(B,{onClick:h,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(b,{size:"18"},{default:d(()=>[...w[3]||(w[3]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(T),l(_,{class:"pt-4"},{default:d(()=>[i.value?(V(),he(N,{key:0,type:"error",variant:"tonal",class:"mb-4",dismissible:"","onClick:close":w[0]||(w[0]=R=>i.value=null)},{default:d(()=>[Q(J(i.value),1)]),_:1})):Be("",!0),c.value?(V(),he(N,{key:1,type:"info",variant:"tonal",class:"mb-4"},{default:d(()=>[Q(J(c.value),1)]),_:1})):Be("",!0),p("div",XVe,[w[5]||(w[5]=p("div",{class:"text-subtitle-2 mb-2"},"Search and select a medicine to add to pharmacy inventory:",-1)),l(XM,{onSearchedMedicines:u,onAddMedicine:f})]),s.value?(V(),he(E,{key:2,variant:"outlined",class:"pa-3 mb-4",color:s.value.isPharmacy?"success":"primary"},{default:d(()=>[p("div",ZVe,[p("div",e8e,[p("div",t8e,[Q(J(s.value.productName)+" ",1),s.value.isPharmacy?(V(),he(k,{key:0,size:"x-small",color:"success",variant:"flat",class:"ml-2"},{default:d(()=>[...w[6]||(w[6]=[Q(" Already in Pharmacy ",-1)])]),_:1})):Be("",!0)]),s.value.saltComposition?(V(),ye("div",n8e,J(s.value.saltComposition),1)):Be("",!0),s.value.marketer?(V(),ye("div",r8e,J(s.value.marketer),1)):Be("",!0),s.value.isLocal?Be("",!0):(V(),ye("div",a8e,[l(b,{size:"small"},{default:d(()=>[...w[7]||(w[7]=[Q("mdi-information",-1)])]),_:1}),w[8]||(w[8]=Q(" This medicine will be created in your database first ",-1))]))])])]),_:1},8,["color"])):Be("",!0)]),_:1}),l(T),l(F,{class:"pa-4"},{default:d(()=>[l(C),l(B,{onClick:h},{default:d(()=>[...w[9]||(w[9]=[Q(" Cancel ",-1)])]),_:1}),l(B,{color:"primary",variant:"outlined",onClick:v,disabled:!s.value||o.value||s.value&&s.value.isPharmacy,loading:o.value},{default:d(()=>[Q(J(s.value?.isPharmacy?"Already Added":"Add to Pharmacy"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1}),l(I,{modelValue:A.value,"onUpdate:modelValue":w[2]||(w[2]=R=>A.value=R),persistent:"","max-width":"600px"},{default:d(()=>[l(bk,{onClose:w[1]||(w[1]=R=>A.value=!1),"onUpdate:medicinelist":m})]),_:1},8,["modelValue"])],64)}}},o8e=on(s8e,[["__scopeId","data-v-4e957024"]]),i8e={key:0,class:"text-caption text-medium-emphasis"},l8e={key:1},c8e={class:"text-caption font-weight-medium"},u8e={key:0,class:"text-caption text-medium-emphasis"},d8e={key:2,class:"text-caption text-error"},A8e={class:"text-caption text-medium-emphasis"},f8e={class:"font-weight-medium"},m8e={class:"text-caption text-medium-emphasis"},h8e={key:0,class:"mb-0.5"},v8e={key:1,class:"mb-0.5"},p8e={key:2},g8e={__name:"pharmacy-batch-inward-form",props:{medicineId:{type:Number,default:null},medicineInfo:{type:Object,default:null},purchaseInvoiceId:{type:Number,default:null}},emits:["close","batch-created"],setup(e,{emit:t}){const{showSuccess:n,showError:r}=dr(),a=e,s=t,o=H(null),i=H(!1),c=H(!1),A=H(!1),u=H(!1),f=H(null),m=H([]),v=H(""),h=H({medicineId:a.medicineId||null,batchNumber:"",expiryDate:"",packType:"",unitsPerPack:1,mrp:null,discountPercentage:0,saleQuantityPacks:0,freeQuantityPacks:0,cgstPercentage:0,sgstPercentage:0,inwardBillId:"",purchaseInvoiceId:a.purchaseInvoiceId||null,location:""}),y=H("0.00"),w=Z(()=>Number(y.value??0)||0),b=()=>{y.value=(Number(y.value??0)||0).toFixed(2)},B=Z(()=>{const j=Number(h.value.cgstPercentage??0)||0,U=Number(h.value.sgstPercentage??0)||0;return j+U}),S=Z(()=>{const j=w.value||0,U=Number(B.value??0)||0;return j*(1+U/100)}),T=Z(()=>(Number(S.value??0)||0).toFixed(2)),N=Z(()=>{const j=h.value.saleQuantityPacks||0,U=h.value.freeQuantityPacks||0;return j+U}),k=Z(()=>N.value*(h.value.unitsPerPack||1)),E=Z(()=>{const j=h.value.saleQuantityPacks||0,U=h.value.freeQuantityPacks||0,G=w.value||0,ne=j+U;return ne===0?null:G*j/ne}),_=Z(()=>{const j=h.value.saleQuantityPacks||0,U=h.value.freeQuantityPacks||0,G=S.value||0,ne=j+U;return ne===0?null:G*j/ne}),C=Z(()=>{const j=h.value.cgstPercentage||0,U=h.value.sgstPercentage||0;return j+U}),F=[j=>!!j||"Expiry date is required"],I=[j=>j!=null&&!isNaN(j)&&j>=0||"Sale quantity must be non-negative",j=>{const U=j!=null&&!isNaN(j)?j:0,G=h.value.freeQuantityPacks!==null&&h.value.freeQuantityPacks!==void 0&&!isNaN(h.value.freeQuantityPacks)?h.value.freeQuantityPacks:0;return U>0||G>0||"At least one of sale quantity or free quantity must be greater than 0"}],R=[j=>j!=null&&!isNaN(j)&&j>=0||"Free quantity must be non-negative",j=>{const U=h.value.saleQuantityPacks!==null&&h.value.saleQuantityPacks!==void 0&&!isNaN(h.value.saleQuantityPacks)?h.value.saleQuantityPacks:0,G=j!=null&&!isNaN(j)?j:0;return U>0||G>0||"At least one of sale quantity or free quantity must be greater than 0"}],M=[j=>{if(!j||j.trim()==="")return"Price to retailer (excl. GST) is required";const U=Number(j);return isNaN(U)?"Price to retailer (excl. GST) must be a valid number":U<0?"Price to retailer (excl. GST) must be non-negative":!0}],te=()=>{o.value&&o.value.validate()},se=()=>{o.value&&o.value.validate()},O=async()=>{if(a.purchaseInvoiceId)try{const{data:j}=await Bp(a.purchaseInvoiceId);j&&(v.value=`${j.pharmacyPurchaseInvoiceIdentifier} (${W(j.pharmacyPurchaseInvoiceDate)})`)}catch(j){console.error("Error loading invoice info:",j)}else{u.value=!0;try{const{data:j}=await lxe();m.value=j||[]}catch(j){console.error("Error loading purchase invoices:",j)}finally{u.value=!1}}},W=j=>j?new Date(j*1e3).toLocaleDateString():"-",le=async()=>{if(!a.medicineId){f.value=null;return}if(a.medicineInfo){f.value={id:a.medicineInfo.id,productName:a.medicineInfo.productName,marketer:a.medicineInfo.marketer},h.value.medicineId=a.medicineInfo.id;return}try{A.value=!0;const{data:j,error:U}=await Hw();if(!U&&j){const G=j.find(ne=>ne.id===a.medicineId);G?(f.value={id:G.id,productName:G.productName,marketer:G.marketer},h.value.medicineId=G.id):(r("Medicine not found"),f.value=null)}else r("Failed to load medicine details"),f.value=null}catch(j){console.error("Error loading medicine details:",j),r("Error loading medicine details"),f.value=null}finally{A.value=!1}},K=async()=>{if(!i.value){o.value?.validate();return}try{c.value=!0;const j=h.value.saleQuantityPacks||0,U=h.value.freeQuantityPacks||0;if(j===0&&U===0){r("At least one of sale quantity or free quantity must be greater than 0"),c.value=!1;return}const G=_.value;if(G!==null&&h.value.mrp<G){r("MRP must be greater than or equal to calculated cost"),c.value=!1;return}const ne={medicineId:h.value.medicineId,batchNumber:h.value.batchNumber,expiryDate:h.value.expiryDate,packType:h.value.packType,unitsPerPack:parseInt(h.value.unitsPerPack||1),mrp:parseFloat(h.value.mrp),discountPercentage:parseFloat(h.value.discountPercentage||0),saleQuantityPacks:parseFloat(h.value.saleQuantityPacks||0),freeQuantityPacks:parseFloat(h.value.freeQuantityPacks||0),priceToRetailer:parseFloat(S.value||0),cgstPercentage:parseFloat(h.value.cgstPercentage||0),sgstPercentage:parseFloat(h.value.sgstPercentage||0),inwardBillId:h.value.inwardBillId||"",purchaseInvoiceId:h.value.purchaseInvoiceId||a.purchaseInvoiceId||null,location:h.value.location||""},{data:X,error:oe}=await sO(ne);oe?r(oe.response?.data?.error||"Failed to create batch inward"):(n("Batch inward created successfully"),s("batch-created"),ee())}catch(j){console.error("Error saving batch inward:",j),r("An unexpected error occurred")}finally{c.value=!1}},ee=()=>{s("close")};return Ge(()=>a.purchaseInvoiceId,j=>{j&&(h.value.purchaseInvoiceId=j,O())},{immediate:!0}),fn(()=>{b(),a.medicineId?le():r("Medicine ID is required"),O()}),(j,U)=>{const G=D("v-icon"),ne=D("v-btn"),X=D("v-card-title"),oe=D("v-divider"),q=D("v-col"),Y=D("v-text-field"),ae=D("v-select"),ge=D("v-autocomplete"),we=D("v-row"),z=D("v-form"),Ae=D("v-card-text"),ie=D("v-spacer"),_e=D("v-card-actions"),Pe=D("v-card");return V(),he(Pe,{rounded:"lg",color:"surfaceContainer",flat:""},{default:d(()=>[l(X,{class:"d-flex align-center justify-space-between"},{default:d(()=>[U[16]||(U[16]=p("span",null,"Add purchased inventory",-1)),l(ne,{onClick:ee,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(G,{size:"18"},{default:d(()=>[...U[15]||(U[15]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(oe),l(Ae,{class:"py-1"},{default:d(()=>[l(z,{ref_key:"form",ref:o,modelValue:i.value,"onUpdate:modelValue":U[14]||(U[14]=re=>i.value=re)},{default:d(()=>[l(we,{dense:""},{default:d(()=>[l(q,{cols:"12",class:"pb-1"},{default:d(()=>[A.value?(V(),ye("div",i8e," Loading... ")):f.value?(V(),ye("div",l8e,[p("div",c8e,J(f.value.productName||"Unknown Medicine"),1),f.value.marketer?(V(),ye("div",u8e,J(f.value.marketer),1)):Be("",!0)])):(V(),ye("div",d8e," Medicine not found "))]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.batchNumber,"onUpdate:modelValue":U[0]||(U[0]=re=>h.value.batchNumber=re),label:"Batch Number *",variant:"outlined",density:"compact",rules:[re=>!!re||"Batch number is required"],"prepend-inner-icon":"mdi-barcode"},null,8,["modelValue","rules"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.expiryDate,"onUpdate:modelValue":U[1]||(U[1]=re=>h.value.expiryDate=re),type:"date",label:"Expiry Date *",variant:"outlined",density:"compact",rules:F,"prepend-inner-icon":"mdi-calendar"},null,8,["modelValue"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:h.value.packType,"onUpdate:modelValue":U[2]||(U[2]=re=>h.value.packType=re),items:We(Ow),label:"Pack Type *",variant:"outlined",density:"compact",rules:[re=>!!re||"Pack type is required"],"prepend-inner-icon":"mdi-package-variant"},null,8,["modelValue","items","rules"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.unitsPerPack,"onUpdate:modelValue":U[3]||(U[3]=re=>h.value.unitsPerPack=re),modelModifiers:{number:!0},label:"Units Per Pack *",variant:"outlined",density:"compact",type:"number",rules:[re=>re!=null&&!isNaN(re)&&re>0||"Units per pack must be greater than 0"],"prepend-inner-icon":"mdi-numeric"},null,8,["modelValue","rules"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.mrp,"onUpdate:modelValue":U[4]||(U[4]=re=>h.value.mrp=re),modelModifiers:{number:!0},label:"MRP per Pack () *",variant:"outlined",density:"compact",type:"number",rules:[re=>re!=null&&!isNaN(re)&&re>=0||"MRP must be a positive number"],"prepend-inner-icon":"mdi-currency-inr"},null,8,["modelValue","rules"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.discountPercentage,"onUpdate:modelValue":U[5]||(U[5]=re=>h.value.discountPercentage=re),modelModifiers:{number:!0},label:"Discount to Patients % *",variant:"outlined",density:"compact",type:"number",rules:[re=>re!=null&&!isNaN(re)&&re>=0&&re<=100||"Discount must be between 0-100%"],"prepend-inner-icon":"mdi-percent"},null,8,["modelValue","rules"])]),_:1}),l(q,{cols:"12",class:"py-0"},{default:d(()=>[l(oe)]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.saleQuantityPacks,"onUpdate:modelValue":[U[6]||(U[6]=re=>h.value.saleQuantityPacks=re),te],modelModifiers:{number:!0},label:"Sale Quantity (Packs) *",variant:"outlined",density:"compact",type:"number",rules:I,"prepend-inner-icon":"mdi-package-variant"},null,8,["modelValue"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.freeQuantityPacks,"onUpdate:modelValue":[U[7]||(U[7]=re=>h.value.freeQuantityPacks=re),se],modelModifiers:{number:!0},label:"Free Quantity (Packs) *",variant:"outlined",density:"compact",type:"number",rules:R,"prepend-inner-icon":"mdi-gift"},null,8,["modelValue"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.cgstPercentage,"onUpdate:modelValue":U[8]||(U[8]=re=>h.value.cgstPercentage=re),modelModifiers:{number:!0},label:"CGST % *",variant:"outlined",density:"compact",type:"number",rules:[re=>re!=null&&!isNaN(re)&&re>=0&&re<=100||"CGST must be between 0-100%"],"prepend-inner-icon":"mdi-percent"},null,8,["modelValue","rules"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.sgstPercentage,"onUpdate:modelValue":U[9]||(U[9]=re=>h.value.sgstPercentage=re),modelModifiers:{number:!0},label:"SGST % *",variant:"outlined",density:"compact",type:"number",rules:[re=>re!=null&&!isNaN(re)&&re>=0&&re<=100||"SGST must be between 0-100%"],"prepend-inner-icon":"mdi-percent"},null,8,["modelValue","rules"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:y.value,"onUpdate:modelValue":U[10]||(U[10]=re=>y.value=re),label:"Price to Retailer (Excl. GST) per Pack () *",variant:"outlined",density:"compact",inputmode:"decimal",rules:M,"prepend-inner-icon":"mdi-currency-inr",hint:"User input (excludes GST)","persistent-hint":"",onBlur:b},null,8,["modelValue"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[p("div",A8e,[p("div",f8e,"Price to Retailer (Incl. GST): "+J(T.value),1),U[17]||(U[17]=p("div",null,"Computed using CGST + SGST",-1))])]),_:1}),e.purchaseInvoiceId?Be("",!0):(V(),he(q,{key:0,cols:"12",md:"6"},{default:d(()=>[l(ge,{modelValue:h.value.purchaseInvoiceId,"onUpdate:modelValue":U[11]||(U[11]=re=>h.value.purchaseInvoiceId=re),items:m.value,"item-title":"displayText","item-value":"id",label:"Purchase Invoice (Optional)",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-file-document",loading:u.value,hint:"Link this batch to a purchase invoice","persistent-hint":"",clearable:""},null,8,["modelValue","items","loading"])]),_:1})),e.purchaseInvoiceId?(V(),he(q,{key:1,cols:"12",md:"6"},{default:d(()=>[l(Y,{"model-value":v.value,label:"Purchase Invoice",variant:"outlined",density:"compact",readonly:"","prepend-inner-icon":"mdi-file-document"},null,8,["model-value"])]),_:1})):Be("",!0),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.inwardBillId,"onUpdate:modelValue":U[12]||(U[12]=re=>h.value.inwardBillId=re),label:"Inward Bill ID",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-receipt",hint:"Optional reference to inward bill","persistent-hint":""},null,8,["modelValue"])]),_:1}),l(q,{cols:"12",md:"6"},{default:d(()=>[l(Y,{modelValue:h.value.location,"onUpdate:modelValue":U[13]||(U[13]=re=>h.value.location=re),label:"Location",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker",hint:"Physical storage location (e.g., Shelf A-3, Room 1)","persistent-hint":""},null,8,["modelValue"])]),_:1}),l(q,{cols:"12",class:"pt-1"},{default:d(()=>[l(oe,{class:"mb-1"}),p("div",m8e,[N.value>0?(V(),ye("div",h8e,[U[18]||(U[18]=p("strong",null,"Total Quantity:",-1)),Q(" "+J(N.value)+" packs ("+J(k.value)+" units) ",1)])):Be("",!0),E.value!==null?(V(),ye("div",v8e,[U[19]||(U[19]=p("strong",null,"Cost per Pack (Excl. GST):",-1)),Q(" "+J(E.value.toFixed(2)),1)])):Be("",!0),C.value!==null?(V(),ye("div",p8e,[U[20]||(U[20]=p("strong",null,"GST %:",-1)),Q(" "+J(C.value.toFixed(2))+"% ",1)])):Be("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(oe),l(_e,{class:"pa-3"},{default:d(()=>[l(ie),l(ne,{onClick:ee},{default:d(()=>[...U[21]||(U[21]=[Q(" Cancel ",-1)])]),_:1}),l(ne,{color:"primary",onClick:K,disabled:!i.value||c.value,loading:c.value,variant:"outlined"},{default:d(()=>[...U[22]||(U[22]=[Q(" Add purchased inventory ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})}}},y8e=on(g8e,[["__scopeId","data-v-2357bf66"]]),w8e={class:"text-body-2 font-weight-medium"},_8e={key:0,class:"text-caption text-medium-emphasis mt-0.5"},b8e={class:"text-caption text-medium-emphasis"},x8e={class:"font-weight-medium"},C8e={class:"text-body-2 text-medium-emphasis"},E8e={key:0,class:"mb-0.5"},B8e={key:1,class:"mb-0.5"},S8e={key:2},k8e={__name:"edit-batch-inward",props:{batchId:{type:Number,required:!0},batch:{type:Object,required:!0}},emits:["close","batch-updated"],setup(e,{emit:t}){const{showSuccess:n,showError:r}=dr(),a=e,s=t,o=H(null),i=H(!1),c=H(!1),A=H(null),u=H(null),f=U=>{if(!U)return"";try{const G=new Date(U*1e3);if(isNaN(G.getTime()))return"";const ne=G.getFullYear(),X=String(G.getMonth()+1).padStart(2,"0"),oe=String(G.getDate()).padStart(2,"0");return`${ne}-${X}-${oe}`}catch(G){return console.error("Error converting timestamp to date:",G),""}},m=a.batch.unitsPerPack||1,v=a.batch.saleQuantity||0,h=a.batch.freeQuantity||0,w=(a.batch.priceToRetailer||0)/100,b=Z(()=>{const U=Number(E.value.cgstPercentage??0)||0,G=Number(E.value.sgstPercentage??0)||0;return U+G}),B=H("0.00"),S=Z(()=>Number(B.value??0)||0),T=()=>{B.value=(Number(B.value??0)||0).toFixed(2)},N=Z(()=>{const U=S.value||0,G=Number(b.value??0)||0;return U*(1+G/100)}),k=Z(()=>(Number(N.value??0)||0).toFixed(2)),E=H({batchNumber:a.batch.batchNumber||"",expiryDate:a.batch.expiryDate?typeof a.batch.expiryDate=="number"?f(a.batch.expiryDate):typeof a.batch.expiryDate=="string"&&a.batch.expiryDate.includes("T")?a.batch.expiryDate.split("T")[0]:a.batch.expiryDate:"",packType:a.batch.packType||"",unitsPerPack:m,mrp:a.batch.mrp||null,discountPercentage:a.batch.discountPercentage||0,saleQuantityPacks:m>0?v/m:0,freeQuantityPacks:m>0?h/m:0,cgstPercentage:a.batch.cgstPercentage||0,sgstPercentage:a.batch.sgstPercentage||0,inwardBillId:a.batch.inwardBillId||"",location:a.batch.location||""}),_=()=>{const G=1+(Number(b.value??0)||0)/100;if(G<=0){B.value="0.00";return}B.value=((Number(w??0)||0)/G).toFixed(2)},C=Z(()=>{const U=E.value.saleQuantityPacks||0,G=E.value.freeQuantityPacks||0;return U+G}),F=Z(()=>C.value*(E.value.unitsPerPack||1)),I=Z(()=>{const U=E.value.saleQuantityPacks||0,G=E.value.freeQuantityPacks||0,ne=Number(S.value??0)||0,X=U+G;return X===0?null:ne*U/X}),R=Z(()=>{const U=E.value.saleQuantityPacks||0,G=E.value.freeQuantityPacks||0,ne=N.value||0,X=U+G;return X===0?null:ne*U/X}),M=Z(()=>{const U=E.value.cgstPercentage||0,G=E.value.sgstPercentage||0;return U+G}),te=[U=>!!U||"Expiry date is required"],se=[U=>U!=null&&U>=0||"Sale quantity must be non-negative",U=>{const G=U||0,ne=E.value.freeQuantityPacks||0;return G>0||ne>0||"At least one of sale quantity or free quantity must be greater than 0"}],O=[U=>U!=null&&U>=0||"Free quantity must be non-negative",U=>{const G=E.value.saleQuantityPacks||0,ne=U||0;return G>0||ne>0||"At least one of sale quantity or free quantity must be greater than 0"}],W=async()=>{if(!i.value){o.value?.validate();return}try{c.value=!0;const U=E.value.saleQuantityPacks||0,G=E.value.freeQuantityPacks||0;if(U===0&&G===0){r("At least one of sale quantity or free quantity must be greater than 0"),c.value=!1;return}const ne=R.value;if(ne!==null&&E.value.mrp<ne){r("MRP must be greater than or equal to calculated cost"),c.value=!1;return}const X={batchNumber:E.value.batchNumber,expiryDate:E.value.expiryDate,packType:E.value.packType,unitsPerPack:parseInt(E.value.unitsPerPack||1),mrp:parseFloat(E.value.mrp),discountPercentage:parseFloat(E.value.discountPercentage||0),saleQuantityPacks:parseFloat(E.value.saleQuantityPacks||0),freeQuantityPacks:parseFloat(E.value.freeQuantityPacks||0),priceToRetailer:parseFloat(N.value||0),cgstPercentage:parseFloat(E.value.cgstPercentage||0),sgstPercentage:parseFloat(E.value.sgstPercentage||0),inwardBillId:E.value.inwardBillId||"",location:E.value.location||""},{data:oe,error:q}=await zbe(a.batchId,X);q?r(q.response?.data?.error||"Failed to update batch inward"):(n("Batch inward updated successfully"),s("batch-updated"),j())}catch(U){console.error("Error updating batch inward:",U),r("An unexpected error occurred")}finally{c.value=!1}},le=async()=>{if(a.batch.purchaseInvoiceId)try{const{data:U}=await Bp(a.batch.purchaseInvoiceId);U&&(u.value={id:U.id,identifier:U.pharmacyPurchaseInvoiceIdentifier,date:U.pharmacyPurchaseInvoiceDate,displayText:`${U.pharmacyPurchaseInvoiceIdentifier} (${K(U.pharmacyPurchaseInvoiceDate)})`})}catch(U){console.error("Error loading purchase invoice info:",U)}},K=U=>U?new Date(U*1e3).toLocaleDateString():"-",ee=()=>{a.batch.medicineName||a.batch.medicineMarketer?A.value={id:a.batch.medicineId,productName:a.batch.medicineName,marketer:a.batch.medicineMarketer}:Hw().then(({data:U,error:G})=>{if(!G&&U){for(const ne of U)if(ne.batches&&ne.batches.find(oe=>oe.id===a.batchId)){A.value={id:ne.id,productName:ne.productName,marketer:ne.marketer};break}}}).catch(U=>{console.error("Error loading medicine info:",U)})},j=()=>{s("close")};return fn(()=>{ee(),le(),_()}),(U,G)=>{const ne=D("v-icon"),X=D("v-btn"),oe=D("v-card-title"),q=D("v-divider"),Y=D("v-col"),ae=D("v-text-field"),ge=D("v-select"),we=D("v-row"),z=D("v-form"),Ae=D("v-card-text"),ie=D("v-spacer"),_e=D("v-card-actions"),Pe=D("v-card");return V(),he(Pe,{rounded:"lg",color:"surfaceContainer",flat:""},{default:d(()=>[l(oe,{class:"d-flex align-center justify-space-between"},{default:d(()=>[G[15]||(G[15]=p("span",null,"Edit purchased inventory",-1)),l(X,{onClick:j,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(ne,{size:"18"},{default:d(()=>[...G[14]||(G[14]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(q),l(Ae,{class:"py-1"},{default:d(()=>[l(z,{ref_key:"form",ref:o,modelValue:i.value,"onUpdate:modelValue":G[13]||(G[13]=re=>i.value=re)},{default:d(()=>[l(we,{dense:""},{default:d(()=>[A.value?(V(),he(Y,{key:0,cols:"12"},{default:d(()=>[p("div",w8e,J(A.value.productName||"Unknown Medicine"),1),A.value.marketer?(V(),ye("div",_8e,J(A.value.marketer),1)):Be("",!0)]),_:1})):Be("",!0),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.batchNumber,"onUpdate:modelValue":G[0]||(G[0]=re=>E.value.batchNumber=re),label:"Batch Number *",variant:"outlined",density:"compact",rules:[re=>!!re||"Batch number is required"],"prepend-inner-icon":"mdi-barcode"},null,8,["modelValue","rules"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.expiryDate,"onUpdate:modelValue":G[1]||(G[1]=re=>E.value.expiryDate=re),type:"date",label:"Expiry Date *",variant:"outlined",density:"compact",rules:te,"prepend-inner-icon":"mdi-calendar"},null,8,["modelValue"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ge,{modelValue:E.value.packType,"onUpdate:modelValue":G[2]||(G[2]=re=>E.value.packType=re),items:We(Ow),label:"Pack Type *",variant:"outlined",density:"compact",rules:[re=>!!re||"Pack type is required"],"prepend-inner-icon":"mdi-package-variant"},null,8,["modelValue","items","rules"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.unitsPerPack,"onUpdate:modelValue":G[3]||(G[3]=re=>E.value.unitsPerPack=re),modelModifiers:{number:!0},label:"Units Per Pack *",variant:"outlined",density:"compact",type:"number",rules:[re=>re!=null&&re>0||"Units per pack must be greater than 0"],"prepend-inner-icon":"mdi-numeric"},null,8,["modelValue","rules"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.mrp,"onUpdate:modelValue":G[4]||(G[4]=re=>E.value.mrp=re),modelModifiers:{number:!0},label:"MRP per Pack () *",variant:"outlined",density:"compact",type:"number",rules:[re=>re!=null&&re>=0||"MRP must be a positive number"],"prepend-inner-icon":"mdi-currency-inr"},null,8,["modelValue","rules"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.discountPercentage,"onUpdate:modelValue":G[5]||(G[5]=re=>E.value.discountPercentage=re),modelModifiers:{number:!0},label:"Discount to Patients % *",variant:"outlined",density:"compact",type:"number",rules:[re=>re!=null&&re>=0&&re<=100||"Discount must be between 0-100%"],"prepend-inner-icon":"mdi-percent"},null,8,["modelValue","rules"])]),_:1}),l(Y,{cols:"12"},{default:d(()=>[l(q,{class:"my-1"})]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.saleQuantityPacks,"onUpdate:modelValue":G[6]||(G[6]=re=>E.value.saleQuantityPacks=re),modelModifiers:{number:!0},label:"Sale Quantity (Packs) *",variant:"outlined",density:"compact",type:"number",rules:se,"prepend-inner-icon":"mdi-package-variant"},null,8,["modelValue"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.freeQuantityPacks,"onUpdate:modelValue":G[7]||(G[7]=re=>E.value.freeQuantityPacks=re),modelModifiers:{number:!0},label:"Free Quantity (Packs) *",variant:"outlined",density:"compact",type:"number",rules:O,"prepend-inner-icon":"mdi-gift"},null,8,["modelValue"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.cgstPercentage,"onUpdate:modelValue":G[8]||(G[8]=re=>E.value.cgstPercentage=re),modelModifiers:{number:!0},label:"CGST % *",variant:"outlined",density:"compact",type:"number",rules:[re=>re!=null&&re>=0&&re<=100||"CGST must be between 0-100%"],"prepend-inner-icon":"mdi-percent"},null,8,["modelValue","rules"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.sgstPercentage,"onUpdate:modelValue":G[9]||(G[9]=re=>E.value.sgstPercentage=re),modelModifiers:{number:!0},label:"SGST % *",variant:"outlined",density:"compact",type:"number",rules:[re=>re!=null&&re>=0&&re<=100||"SGST must be between 0-100%"],"prepend-inner-icon":"mdi-percent"},null,8,["modelValue","rules"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:B.value,"onUpdate:modelValue":G[10]||(G[10]=re=>B.value=re),label:"Price to Retailer (Excl. GST) per Pack () *",variant:"outlined",density:"compact",inputmode:"decimal",rules:[re=>Number(re)>=0||"Price to retailer (excl. GST) must be non-negative"],"prepend-inner-icon":"mdi-currency-inr",hint:"User input (excludes GST)","persistent-hint":"",onBlur:T},null,8,["modelValue","rules"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[p("div",b8e,[p("div",x8e,"Price to Retailer (Incl. GST): "+J(k.value),1),G[16]||(G[16]=p("div",null,"Computed using CGST + SGST",-1))])]),_:1}),u.value?(V(),he(Y,{key:1,cols:"12",md:"6"},{default:d(()=>[l(ae,{"model-value":u.value.displayText,label:"Purchase Invoice",variant:"outlined",density:"compact",readonly:"","prepend-inner-icon":"mdi-file-document",hint:"Invoice link cannot be changed","persistent-hint":""},null,8,["model-value"])]),_:1})):Be("",!0),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.inwardBillId,"onUpdate:modelValue":G[11]||(G[11]=re=>E.value.inwardBillId=re),label:"Inward Bill ID",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-receipt",hint:"Optional reference to inward bill","persistent-hint":""},null,8,["modelValue"])]),_:1}),l(Y,{cols:"12",md:"6"},{default:d(()=>[l(ae,{modelValue:E.value.location,"onUpdate:modelValue":G[12]||(G[12]=re=>E.value.location=re),label:"Location",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker",hint:"Physical storage location (e.g., Shelf A-3, Room 1)","persistent-hint":""},null,8,["modelValue"])]),_:1}),l(Y,{cols:"12"},{default:d(()=>[l(q,{class:"my-1"}),p("div",C8e,[C.value>0?(V(),ye("div",E8e,[G[17]||(G[17]=p("strong",null,"Total Quantity:",-1)),Q(" "+J(C.value)+" packs ("+J(F.value)+" units) ",1)])):Be("",!0),I.value!==null?(V(),ye("div",B8e,[G[18]||(G[18]=p("strong",null,"Calculated Cost per Pack (Excl. GST):",-1)),Q(" "+J(I.value.toFixed(2)),1)])):Be("",!0),M.value!==null?(V(),ye("div",S8e,[G[19]||(G[19]=p("strong",null,"Calculated GST %:",-1)),Q(" "+J(M.value.toFixed(2))+"% ",1)])):Be("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(q),l(_e,{class:"pa-3"},{default:d(()=>[l(ie),l(X,{onClick:j},{default:d(()=>[...G[20]||(G[20]=[Q(" Cancel ",-1)])]),_:1}),l(X,{color:"primary",variant:"outlined",onClick:W,disabled:!i.value||c.value,loading:c.value},{default:d(()=>[...G[21]||(G[21]=[Q(" Update purchased inventory ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})}}},I8e=on(k8e,[["__scopeId","data-v-b0e37027"]]),T8e={class:"text-body-2"},F8e={key:2,class:"text-caption text-medium-emphasis mt-1 ml-4"},P8e={key:3,class:"text-caption text-medium-emphasis mt-1 ml-4"},D8e={__name:"edit-inventory",props:{batchId:{type:Number,required:!0},batch:{type:Object,required:!0}},emits:["close","inventory-added"],setup(e,{emit:t}){const{showSuccess:n,showError:r}=dr(),a=e,s=t,o=H(null),i=H(!1),c=H(!1),A=H(!1),u=H(null),f=H(null),m=H("increase"),v=H(""),h=H("packs"),y=H(null),w=H(null),b=Z(()=>h.value==="packs"&&y.value&&f.value?.unitsPerPack>0?y.value*f.value.unitsPerPack:w.value||0),B=Z(()=>h.value==="units"&&w.value&&f.value?.unitsPerPack>0?(w.value/f.value.unitsPerPack).toFixed(2):y.value||0),S=()=>{h.value==="packs"?(y.value&&f.value?.unitsPerPack>0&&(w.value=y.value*f.value.unitsPerPack),h.value="units"):(w.value&&f.value?.unitsPerPack>0&&(y.value=w.value/f.value.unitsPerPack),h.value="packs")},T=Z(()=>[_=>_!=null&&_>0||"Quantity must be greater than 0",_=>{if(m.value==="decrease"&&f.value){const C=f.value.availableUnits||0;let F=0;return h.value==="packs"&&_&&f.value?.unitsPerPack>0?F=_*f.value.unitsPerPack:h.value==="units"&&_&&(F=_),F<=C||`Cannot decrease more than current stock (${C} units)`}return!0}]),N=async()=>{try{A.value=!0,u.value=null,a.batch?f.value={batchNumber:a.batch.batchNumber||"Unknown",medicineName:a.batch.medicineName||"Unknown",availableUnits:a.batch.availableUnits||0,medicineId:a.batch.medicineId,unitsPerPack:a.batch.unitsPerPack||1}:u.value="Batch information not available"}catch(_){console.error("Error loading batch info:",_),u.value=_.message||"Failed to load batch information"}finally{A.value=!1}},k=async()=>{if(!i.value){o.value?.validate();return}if(!m.value){r("Please select increase or decrease for stock correction");return}try{c.value=!0;let _=0;if(h.value==="packs"&&y.value&&f.value?.unitsPerPack>0)_=y.value*f.value.unitsPerPack;else if(h.value==="units"&&w.value)_=w.value;else{r("Please enter a valid quantity"),c.value=!1;return}const C="stock_correction";let F=_;m.value==="decrease"&&(F=-_);const{data:I,error:R}=await $be(a.batchId,F,v.value,C);if(R)r(R.response?.data?.error||"Failed to adjust inventory");else{const M=m.value==="increase"?"increased":"decreased";n(`Inventory ${M} successfully`),s("inventory-added"),E()}}catch(_){console.error("Error adjusting inventory:",_),r("An unexpected error occurred")}finally{c.value=!1}},E=()=>{m.value="increase",y.value=null,w.value=null,h.value="packs",v.value="",s("close")};return fn(()=>{N()}),(_,C)=>{const F=D("v-icon"),I=D("v-btn"),R=D("v-card-title"),M=D("v-divider"),te=D("v-progress-circular"),se=D("v-col"),O=D("v-row"),W=D("v-alert"),le=D("v-radio"),K=D("v-radio-group"),ee=D("v-text-field"),j=D("v-textarea"),U=D("v-form"),G=D("v-card-text"),ne=D("v-spacer"),X=D("v-card-actions"),oe=D("v-card");return V(),he(oe,{rounded:"lg",color:"surfaceContainer",flat:""},{default:d(()=>[l(R,{class:"d-flex align-center justify-space-between"},{default:d(()=>[C[6]||(C[6]=p("span",null,"Manage Inventory",-1)),l(I,{onClick:E,variant:"text",size:"small",color:"outline",class:"btn-hover-base"},{default:d(()=>[l(F,{size:"18"},{default:d(()=>[...C[5]||(C[5]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(M),l(G,{class:"pt-4"},{default:d(()=>[A.value?(V(),he(O,{key:0},{default:d(()=>[l(se,{cols:"12",class:"d-flex justify-center align-center pa-8"},{default:d(()=>[l(te,{indeterminate:"",color:"primary"})]),_:1})]),_:1})):f.value?(V(),ye(ze,{key:1},[l(W,{type:"info",variant:"tonal",class:"mb-4"},{default:d(()=>[p("div",T8e,[C[7]||(C[7]=p("strong",null,"Batch:",-1)),Q(" "+J(f.value.batchNumber),1),C[8]||(C[8]=p("br",null,null,-1)),C[9]||(C[9]=p("strong",null,"Medicine:",-1)),Q(" "+J(f.value.medicineName),1),C[10]||(C[10]=p("br",null,null,-1)),C[11]||(C[11]=p("strong",null,"Current Stock:",-1)),Q(" "+J(f.value.availableUnits||0)+" units ",1)])]),_:1}),l(U,{ref_key:"form",ref:o,modelValue:i.value,"onUpdate:modelValue":C[4]||(C[4]=q=>i.value=q)},{default:d(()=>[l(O,null,{default:d(()=>[l(se,{cols:"12"},{default:d(()=>[l(K,{modelValue:m.value,"onUpdate:modelValue":C[0]||(C[0]=q=>m.value=q),inline:"",rules:[q=>!!q||"Please select correction direction"]},{default:d(()=>[l(le,{label:"Increase Stock",value:"increase",color:"success"}),l(le,{label:"Decrease Stock",value:"decrease",color:"error"})]),_:1},8,["modelValue","rules"])]),_:1}),l(se,{cols:"12"},{default:d(()=>[h.value==="packs"?(V(),he(ee,{key:0,modelValue:y.value,"onUpdate:modelValue":C[1]||(C[1]=q=>y.value=q),modelModifiers:{number:!0},label:"Quantity (Packs) *",variant:"outlined",density:"comfortable",type:"number",rules:T.value,"prepend-inner-icon":"mdi-package-variant",hint:"Enter quantity in packs","persistent-hint":""},{"append-inner":d(()=>[l(I,{icon:"",size:"small",variant:"text",onClick:S,title:"Switch to Units"},{default:d(()=>[l(F,{size:"small"},{default:d(()=>[...C[12]||(C[12]=[Q("mdi-swap-horizontal",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])):(V(),he(ee,{key:1,modelValue:w.value,"onUpdate:modelValue":C[2]||(C[2]=q=>w.value=q),modelModifiers:{number:!0},label:"Quantity (Units) *",variant:"outlined",density:"comfortable",type:"number",rules:T.value,"prepend-inner-icon":"mdi-package-variant",hint:"Enter quantity in units","persistent-hint":""},{"append-inner":d(()=>[l(I,{icon:"",size:"small",variant:"text",onClick:S,title:"Switch to Packs"},{default:d(()=>[l(F,{size:"small"},{default:d(()=>[...C[13]||(C[13]=[Q("mdi-swap-horizontal",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])),h.value==="packs"&&f.value?.unitsPerPack>0&&y.value?(V(),ye("div",F8e," = "+J(b.value)+" units ("+J(f.value.unitsPerPack)+" units/pack) ",1)):h.value==="units"&&f.value?.unitsPerPack>0&&w.value?(V(),ye("div",P8e," = "+J(B.value)+" packs ("+J(f.value.unitsPerPack)+" units/pack) ",1)):Be("",!0)]),_:1}),l(se,{cols:"12"},{default:d(()=>[l(j,{modelValue:v.value,"onUpdate:modelValue":C[3]||(C[3]=q=>v.value=q),label:"Reason/Notes *",variant:"outlined",density:"comfortable",rules:[q=>!!q||"Reason is required"],rows:"3","prepend-inner-icon":"mdi-note-text"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)):u.value?(V(),ye(ze,{key:2},[l(W,{type:"error",class:"mb-4"},{default:d(()=>[Q(J(u.value),1)]),_:1}),l(I,{color:"primary",onClick:N,"prepend-icon":"mdi-refresh"},{default:d(()=>[...C[14]||(C[14]=[Q(" Retry ",-1)])]),_:1})],64)):Be("",!0)]),_:1}),l(M),l(X,{class:"pa-4"},{default:d(()=>[l(ne),l(I,{variant:"outlined",onClick:E},{default:d(()=>[...C[15]||(C[15]=[Q(" Cancel ",-1)])]),_:1}),l(I,{color:"primary",onClick:k,disabled:!i.value||c.value||!f.value,loading:c.value},{default:d(()=>[Q(J(m.value==="increase"?"Increase Stock":"Decrease Stock"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})}}},U8e=on(D8e,[["__scopeId","data-v-199072f7"]]),R8e={class:"text-medium-emphasis"},N8e={key:0},L8e={__name:"remove-medicine-from-pharmacy",props:{medicine:{type:Object,required:!0}},emits:["close","medicine-removed"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=H(!1),i=()=>{r("close")},c=async()=>{try{o.value=!0;const A=await Ybe(n.medicine.id);if(A.error){const u=A.error.response?.data?.error||A.error.message||"Failed to remove medicine from pharmacy";s(u)}else a("Medicine removed from pharmacy successfully"),r("medicine-removed"),i()}catch(A){console.error("Error removing medicine from pharmacy:",A),s("An unexpected error occurred while removing the medicine from pharmacy")}finally{o.value=!1}};return(A,u)=>{const f=D("v-card-title"),m=D("v-col"),v=D("v-icon"),h=D("v-btn"),y=D("v-row"),w=D("v-card"),b=D("v-card-text"),B=D("v-divider");return V(),he(w,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(y,{"no-gutters":""},{default:d(()=>[l(m,{cols:"12"},{default:d(()=>[l(w,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(y,{"no-gutters":""},{default:d(()=>[l(m,{cols:"11"},{default:d(()=>[l(f,{class:"pa-0 pl-2"},{default:d(()=>[...u[0]||(u[0]=[Q("Remove Medicine from Pharmacy",-1)])]),_:1})]),_:1}),l(m,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(h,{icon:"",size:"x-small",onClick:i},{default:d(()=>[l(v,null,{default:d(()=>[...u[1]||(u[1]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(y,{"no-gutters":""},{default:d(()=>[l(m,{cols:"12"},{default:d(()=>[l(w,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(y,{"no-gutters":""},{default:d(()=>[l(m,{cols:"12"},{default:d(()=>[l(b,{class:"text-left"},{default:d(()=>[u[4]||(u[4]=Q(" Are you sure you want to remove this medicine from pharmacy? ",-1)),u[5]||(u[5]=p("span",{class:"text-warning font-weight-bold"}," Medicine will not be shown in pharmacy operations. You will need to select and add it again later. ",-1)),u[6]||(u[6]=p("br",null,null,-1)),u[7]||(u[7]=p("br",null,null,-1)),p("span",R8e,[u[3]||(u[3]=Q(" Medicine: ",-1)),p("strong",null,J(e.medicine?.productName||"N/A"),1),e.medicine?.marketer?(V(),ye("span",N8e,[u[2]||(u[2]=Q("  Marketer: ",-1)),p("strong",null,J(e.medicine.marketer),1)])):Be("",!0)])]),_:1})]),_:1})]),_:1}),l(B),l(y,{"no-gutters":""},{default:d(()=>[l(m,{cols:"2"}),l(m,{cols:"8",class:"mt-2 d-flex justify-center"},{default:d(()=>[l(h,{variant:"outlined",color:"error",onClick:c,loading:o.value,disabled:o.value},{default:d(()=>[...u[8]||(u[8]=[Q(" Yes, Remove from Pharmacy ",-1)])]),_:1},8,["loading","disabled"])]),_:1}),l(m,{cols:"2"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},V8e={class:"d-flex align-center"},M8e={class:"d-flex align-center"},O8e={class:"pr-3 d-flex"},Q8e={class:"scrollable-content"},H8e={class:"text-center"},K8e={class:"text-center"},G8e={class:"text-body-2 text-medium-emphasis mb-4"},z8e={class:"text-center"},$8e={class:"text-center"},W8e={class:"text-body-2 text-medium-emphasis mb-4"},j8e={key:0},J8e={key:1},q8e={class:"d-flex align-center justify-space-between w-100"},Y8e={class:"flex-grow-1 d-flex align-center flex-wrap"},X8e={style:{"margin-right":"2px"},class:"d-flex align-center"},Z8e={class:"text-subtitle-1"},eMe={class:"d-flex align-center"},tMe={key:0},nMe={class:"text-right"},rMe={class:"text-right"},aMe={class:"text-right"},sMe={class:"text-right"},oMe={class:"text-center"},iMe={key:1,class:"text-body-2 text-medium-emphasis text-center py-2"},lMe={key:0,class:"text-medium-emphasis"},cMe={__name:"pharmacy-inventory",setup(e){const{showSuccess:t,showError:n}=dr(),r=H(0),a=H([]),s=H(null),o=H(!1),i=H(null),c=H(""),A=H(""),u=H(!1),f=H(!1),m=H(!1),v=H(!1),h=H(!1),y=H(!1),w=H(!1),b=H(!1),B=H(!1),S=H(null),T=H(null);H(null);const N=H(null),k=H(null),E=H(null),_=H(new Map),C=H(new Set),F=H(!1),I=H(null),R=Je=>!Je||Je===0?"error":Je<10?"warning":"success",M=Je=>{if(!Je)return!1;try{const Oe=new Date(Je),it=new Date;return it.setHours(0,0,0,0),Oe<it}catch{return!1}},te=Je=>{if(!Je.batches||Je.batches.length===0)return!1;const Oe=new Date;return Oe.setHours(0,0,0,0),Je.batches.some(it=>{if(!it.expiryDate)return!1;try{const at=new Date(it.expiryDate);return at.setHours(0,0,0,0),at<Oe&&(it.availableUnits||0)>0}catch{return!1}})},se=Je=>{if(!Je)return"";try{return new Date(Je).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}catch{return Je}},O=Je=>Je==null?"0.00":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(Je),W=Z(()=>{let Je=a.value;if(c.value&&c.value.trim()!==""){const Oe=c.value.toLowerCase().trim();Je=Je.filter(it=>(it.productName||"").toLowerCase().includes(Oe))}if(A.value&&A.value.trim()!==""){const Oe=A.value.toLowerCase().trim();Je=Je.filter(it=>(it.group||"").toLowerCase().includes(Oe))}return u.value&&(Je=Je.filter(Oe=>Oe.hasExpiredBatchesWithInventory)),f.value&&(Je=Je.filter(Oe=>Oe.lowStock)),Je}),le=Je=>{if(!Je.batches||Je.batches.length===0)return{availableUnits:0,lowStock:!1};const Oe=new Date;Oe.setHours(0,0,0,0);const it=Je.batches.filter(Ut=>{if(!Ut.expiryDate)return!0;try{return new Date(Ut.expiryDate)>=Oe}catch{return!0}}).reduce((Ut,Yt)=>Ut+(Yt.availableUnits||0),0),at=Je.alertUnits||0,Xe=it<at;return{availableUnits:it,lowStock:Xe}},K=async()=>{try{o.value=!0,i.value=null;const{data:Je,error:Oe}=await Hw();Oe?(i.value=Oe.response?.data?.error||Oe.message||"Failed to load inventory",a.value=[],n("Error loading inventory")):(a.value=(Je||[]).map(it=>{const at=le(it),Xe=te(it);return{...it,availableUnits:at.availableUnits,lowStock:at.lowStock,hasExpiredBatchesWithInventory:Xe}}),await Le())}catch(Je){console.error("Error in loadInventory:",Je),i.value=Je.message||"An unexpected error occurred",a.value=[],n("Error loading inventory")}finally{o.value=!1}},ee=()=>{m.value=!0},j=(Je=null)=>{if(S.value=Je,Je){const Oe=a.value.find(it=>it.id===Je);Oe?T.value={id:Oe.id,productName:Oe.productName,marketer:Oe.marketer}:T.value=null}else T.value=null;v.value=!0},U=Je=>{let Oe=null,it=null;for(const at of a.value)if(at.batches&&(Oe=at.batches.find(Xe=>Xe.id===Je),Oe)){it=at;break}Oe?(k.value={...Oe,medicineId:it.id,medicineName:it.productName,medicineMarketer:it.marketer},b.value=!0):n("Batch not found")},G=Je=>{let Oe=null;for(const it of a.value)if(it.batches){const at=it.batches.find(Xe=>Xe.id===Je);if(at){Oe={...at,medicineName:it.productName||"Unknown",medicineId:it.id,unitsPerPack:at.unitsPerPack||1};break}}Oe?(k.value=Oe,h.value=!0):n("Batch not found")},ne=()=>{y.value=!0},X=()=>{m.value=!1},oe=()=>{m.value=!1,K()},q=()=>{v.value=!1,S.value=null,T.value=null},Y=()=>{v.value=!1,S.value=null,T.value=null,K()},ae=()=>{h.value=!1,k.value=null},ge=()=>{h.value=!1,k.value=null,K()},we=()=>{y.value=!1},z=()=>{y.value=!1,K(),t("Medicine created successfully")},Ae=Je=>{N.value=Je,w.value=!0},ie=Je=>{E.value=Je,B.value=!0},_e=()=>{w.value=!1,N.value=null},Pe=Je=>{const Oe=a.value.findIndex(it=>it.id===Je.id);Oe!==-1&&(a.value[Oe]={...a.value[Oe],...Je}),w.value=!1,N.value=null,K(),t("Medicine updated successfully")},re=()=>{b.value=!1,k.value=null},be=()=>{b.value=!1,k.value=null,K()},He=()=>{B.value=!1,E.value=null},ke=()=>{B.value=!1,E.value=null,K()},Se=Je=>_.value.has(Je)&&_.value.get(Je)===!0,st=Je=>!!(Je.purchaseInvoiceId||Je.purchaseInvoiceIdentifier),je=Je=>Se(Je.id)?"Cannot delete: Inventory is used in a bill":st(Je)?"Cannot delete: Batch is linked to a purchase invoice. Remove from invoice view instead.":"Delete Inventory",Ve=Je=>C.value.has(Je),Te=async Je=>{if(_.value.has(Je))return _.value.get(Je);const{data:Oe,error:it}=await txe(Je);if(it)return console.error("Error checking batch usage:",it),_.value.set(Je,!1),!1;const at=Oe?.isUsed||!1;return _.value.set(Je,at),at},Le=async()=>{_.value.clear();const Je=[];a.value.forEach(it=>{it.batches&&it.batches.length>0&&it.batches.forEach(at=>{Je.push(at.id)})});const Oe=Je.map(it=>Te(it));await Promise.all(Oe)},ht=async Je=>{let Oe=null;for(const at of a.value)if(at.batches&&(Oe=at.batches.find(Xe=>Xe.id===Je),Oe))break;if(!Oe){n("Batch not found");return}if(st(Oe)){n("Cannot delete batch: Batch is linked to a purchase invoice. Remove from invoice view instead.");return}if(await Te(Je)){n("Cannot delete batch: This inventory is being used in one or more bills");return}I.value=Oe,F.value=!0},Ct=()=>{F.value=!1,I.value=null},Dt=async Je=>{if(Je)try{C.value.add(Je);const{data:Oe,error:it}=await nxe(Je);if(it){const at=it.message||"Failed to delete batch";n(at);return}_.value.delete(Je),F.value=!1,I.value=null,t("Batch deleted successfully"),await K()}catch(Oe){console.error("Error deleting batch:",Oe),n("An unexpected error occurred while deleting the batch")}finally{C.value.delete(Je)}};return fn(()=>{K()}),(Je,Oe)=>{const it=D("v-alert"),at=D("v-tab"),Xe=D("v-tabs"),Ut=D("v-icon"),Yt=D("v-card-text"),bt=D("v-card"),cn=D("v-btn"),ln=D("v-tooltip"),an=D("v-col"),zt=D("v-row"),$t=D("v-progress-circular"),Ke=D("v-text-field"),me=D("v-checkbox"),Ee=D("v-chip"),nt=D("v-card-title"),At=D("v-divider"),St=D("v-table"),Qt=D("v-lazy"),Rt=D("v-window-item"),jt=D("v-window"),En=D("v-main"),hn=D("v-dialog");return V(),ye(ze,null,[l(En,null,{default:d(()=>[s.value?(V(),he(it,{key:0,type:"error",dismissible:"","onClick:close":Oe[0]||(Oe[0]=Ot=>s.value=null),class:"ma-3"},{default:d(()=>[Q(J(s.value),1)]),_:1})):Be("",!0),l(zt,{"no-gutters":"",class:"pl-3 pr-3 mb-2",style:{height:"50px"}},{default:d(()=>[l(an,{cols:"12"},{default:d(()=>[l(bt,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex align-center justify-space-between"},{default:d(()=>[p("div",V8e,[l(Xe,{modelValue:r.value,"onUpdate:modelValue":Oe[1]||(Oe[1]=Ot=>r.value=Ot),color:"primary","align-tabs":"start"},{default:d(()=>[l(at,{value:0},{default:d(()=>[...Oe[17]||(Oe[17]=[Q("Inventory",-1)])]),_:1})]),_:1},8,["modelValue"]),a.value&&a.value.length>0?(V(),he(bt,{key:0,rounded:"0",class:"ml-3",color:"warning",variant:"tonal",style:{height:"fit-content"}},{default:d(()=>[l(Yt,{class:"py-1 px-2"},{default:d(()=>[p("div",M8e,[l(Ut,{color:"warning",size:"small",class:"mr-2"},{default:d(()=>[...Oe[18]||(Oe[18]=[Q("mdi-alert-circle",-1)])]),_:1}),Oe[19]||(Oe[19]=p("span",{class:"text-body-2 font-weight-medium"}," Before reconciliation, ensure there is no inventory blocked for bills in draft state. ",-1))])]),_:1})]),_:1})):Be("",!0)]),p("div",O8e,[l(cn,{color:"primary","prepend-icon":"mdi-magnify-plus",onClick:ee,style:{"margin-right":"2px"}},{default:d(()=>[...Oe[20]||(Oe[20]=[Q(" Search & Add Medicine ",-1)])]),_:1}),l(cn,{color:"primary",variant:"outlined","prepend-icon":"mdi-plus-box",onClick:ne,style:{"margin-right":"2px"}},{default:d(()=>[...Oe[21]||(Oe[21]=[Q(" Create & Add Medicine ",-1)])]),_:1}),l(ln,{text:"Refresh Inventory"},{activator:d(({props:Ot})=>[l(cn,Ne({rounded:"x-small",onClick:K,size:"small"},Ot,{loading:o.value,class:"btn-hover-enhanced ml-1"}),{default:d(()=>[l(Ut,null,{default:d(()=>[...Oe[22]||(Oe[22]=[Q("mdi-refresh",-1)])]),_:1})]),_:1},16,["loading"])]),_:1})])]),_:1})]),_:1})]),_:1}),l(jt,{modelValue:r.value,"onUpdate:modelValue":Oe[7]||(Oe[7]=Ot=>r.value=Ot),class:"pl-3 pr-3 stable-height-main"},{default:d(()=>[l(Rt,{value:0,style:{height:"100%"}},{default:d(()=>[p("div",Q8e,[o.value?(V(),he(zt,{key:0,"no-gutters":""},{default:d(()=>[l(an,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50vh"}},{default:d(()=>[p("div",H8e,[l($t,{indeterminate:"",color:"primary",size:"64"}),Oe[23]||(Oe[23]=p("div",{class:"mt-4 text-subtitle-1"},"Loading inventory...",-1))])]),_:1})]),_:1})):i.value?(V(),he(zt,{key:1,"no-gutters":""},{default:d(()=>[l(an,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50vh"}},{default:d(()=>[p("div",K8e,[l(Ut,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...Oe[24]||(Oe[24]=[Q("mdi-alert-circle",-1)])]),_:1}),Oe[26]||(Oe[26]=p("div",{class:"text-h6 mb-2"},"Failed to Load Inventory",-1)),p("div",G8e,J(i.value),1),l(cn,{color:"primary",onClick:K,"prepend-icon":"mdi-refresh"},{default:d(()=>[...Oe[25]||(Oe[25]=[Q(" Try Again ",-1)])]),_:1})])]),_:1})]),_:1})):a.value&&a.value.length===0?(V(),he(zt,{key:2,"no-gutters":""},{default:d(()=>[l(an,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50vh"}},{default:d(()=>[p("div",z8e,[l(Ut,{size:"64",color:"grey",class:"mb-4"},{default:d(()=>[...Oe[27]||(Oe[27]=[Q("mdi-pill-off",-1)])]),_:1}),Oe[29]||(Oe[29]=p("div",{class:"text-h6 mb-2"},"No Pharmacy Inventory",-1)),Oe[30]||(Oe[30]=p("div",{class:"text-body-2 text-medium-emphasis mb-4"},"Add medicines to start managing inventory",-1)),l(cn,{color:"primary",onClick:ee,"prepend-icon":"mdi-magnify-plus"},{default:d(()=>[...Oe[28]||(Oe[28]=[Q(" Search & Add Medicine ",-1)])]),_:1})])]),_:1})]),_:1})):a.value&&a.value.length>0?(V(),ye(ze,{key:3},[l(zt,{"no-gutters":"",class:"mb-2"},{default:d(()=>[l(an,{cols:"12",class:"d-flex justify-center align-center flex-wrap gap-2"},{default:d(()=>[l(Ke,{modelValue:c.value,"onUpdate:modelValue":Oe[2]||(Oe[2]=Ot=>c.value=Ot),placeholder:"Filter by medicine name...",density:"compact",variant:"outlined",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify",class:"filter-input",style:{"max-width":"300px",width:"100%"}},null,8,["modelValue"]),l(Ke,{modelValue:A.value,"onUpdate:modelValue":Oe[3]||(Oe[3]=Ot=>A.value=Ot),placeholder:"Filter by group...",density:"compact",variant:"outlined",clearable:"","hide-details":"","prepend-inner-icon":"mdi-tag",class:"filter-input",style:{"max-width":"300px",width:"100%"}},null,8,["modelValue"]),l(me,{modelValue:u.value,"onUpdate:modelValue":Oe[4]||(Oe[4]=Ot=>u.value=Ot),label:"Expired batches only",density:"compact","hide-details":"",color:"error",class:"filter-checkbox"},null,8,["modelValue"]),l(me,{modelValue:f.value,"onUpdate:modelValue":Oe[5]||(Oe[5]=Ot=>f.value=Ot),label:"Low stock only",density:"compact","hide-details":"",color:"warning",class:"filter-checkbox"},null,8,["modelValue"])]),_:1})]),_:1}),c.value&&c.value.trim()!==""||A.value&&A.value.trim()!==""||u.value||f.value?(V(),ye(ze,{key:0},[W.value.length===0?(V(),he(zt,{key:0,"no-gutters":""},{default:d(()=>[l(an,{cols:"12",class:"d-flex justify-center align-center",style:{height:"40vh"}},{default:d(()=>[p("div",$8e,[l(Ut,{size:"64",color:"grey",class:"mb-4"},{default:d(()=>[...Oe[31]||(Oe[31]=[Q("mdi-magnify-remove",-1)])]),_:1}),Oe[33]||(Oe[33]=p("div",{class:"text-h6 mb-2"},"No medicines found",-1)),p("div",W8e,[c.value&&c.value.trim()!==""?(V(),ye("span",j8e,' No medicines match "'+J(c.value)+'" ',1)):(V(),ye("span",J8e," No medicines match the selected filters "))]),l(cn,{color:"primary",onClick:Oe[6]||(Oe[6]=Ot=>{c.value="",A.value="",u.value=!1,f.value=!1}),"prepend-icon":"mdi-filter-remove"},{default:d(()=>[...Oe[32]||(Oe[32]=[Q(" Clear All Filters ",-1)])]),_:1})])]),_:1})]),_:1})):Be("",!0)],64)):Be("",!0),(V(!0),ye(ze,null,Jt(W.value,Ot=>(V(),he(Qt,{key:Ot?.id||Math.random(),options:{threshold:.1,rootMargin:"50px"}},{default:d(()=>[Ot?(V(),he(bt,{key:0,style:{textAlign:"left"},density:"compact",class:"mb-2 mx-2 card-enhanced card-status-default",rounded:"lg"},{default:d(()=>[l(nt,{class:"pb-2"},{default:d(()=>[p("div",q8e,[p("div",Y8e,[p("div",X8e,[p("div",Z8e,J(Ot.productName||"Unknown Medicine"),1),l(ln,{text:"Edit Medicine"},{activator:d(({props:mn})=>[l(Ut,Ne({size:"x-small"},{ref_for:!0},mn,{class:"edit-icon flex-shrink-0 ml-1",onClick:Ce=>Ae(Ot),tabindex:"-1"}),{default:d(()=>[...Oe[34]||(Oe[34]=[Q(" mdi-pencil ",-1)])]),_:1},16,["onClick"])]),_:2},1024),l(ln,{text:"Remove Medicine from Pharmacy"},{activator:d(({props:mn})=>[l(Ut,Ne({size:"x-small"},{ref_for:!0},mn,{class:"edit-icon flex-shrink-0 ml-1",onClick:Ce=>ie(Ot),tabindex:"-1",color:"error"}),{default:d(()=>[...Oe[35]||(Oe[35]=[Q(" mdi-delete-outline ",-1)])]),_:1},16,["onClick"])]),_:2},1024)]),Ot.group&&Ot.group.trim()!==""?(V(),he(Ee,{key:0,color:"info",size:"small",variant:"tonal",style:{"margin-left":"2px"}},{default:d(()=>[Q(J(Ot.group),1)]),_:2},1024)):Be("",!0),l(Ee,{color:R(Ot.availableUnits),size:"small",variant:"tonal",style:{"margin-left":"2px"}},{default:d(()=>[l(Ut,{size:"small",class:"mr-1"},{default:d(()=>[...Oe[36]||(Oe[36]=[Q("mdi-package-variant",-1)])]),_:1}),Q(" "+J(Ot.availableUnits||0)+" units ",1)]),_:2},1032,["color"]),Ot.lowStock?(V(),he(Ee,{key:1,color:"warning",size:"small",variant:"tonal",style:{"margin-left":"2px"}},{default:d(()=>[l(Ut,{size:"small",class:"mr-1"},{default:d(()=>[...Oe[37]||(Oe[37]=[Q("mdi-alert",-1)])]),_:1}),Oe[38]||(Oe[38]=Q(" Low Stock ",-1))]),_:1})):Be("",!0),!Ot.hsnCode||Ot.hsnCode.trim()===""?(V(),he(Ee,{key:2,color:"warning",size:"small",variant:"tonal",style:{"margin-left":"2px"}},{default:d(()=>[l(Ut,{size:"small",class:"mr-1"},{default:d(()=>[...Oe[39]||(Oe[39]=[Q("mdi-alert-circle",-1)])]),_:1}),Oe[40]||(Oe[40]=Q(" HSN Missing ",-1))]),_:1})):Be("",!0)]),p("div",eMe,[l(cn,{color:"primary",variant:"outlined","prepend-icon":"mdi-plus",size:"small",onClick:mn=>j(Ot.id)},{default:d(()=>[...Oe[41]||(Oe[41]=[Q(" Add Inventory ",-1)])]),_:1},8,["onClick"])])])]),_:2},1024),Ot.batches&&Ot.batches.length>0?(V(),he(At,{key:0})):Be("",!0),l(Yt,{class:rt({"pt-2":Ot.batches&&Ot.batches.length>0,"pa-0":!Ot.batches||Ot.batches.length===0})},{default:d(()=>[Ot.batches&&Ot.batches.length>0?(V(),ye("div",tMe,[l(St,{density:"compact",class:"batch-table"},{default:d(()=>[Oe[42]||(Oe[42]=p("thead",null,[p("tr",null,[p("th",{class:"text-left"},"Batch #"),p("th",{class:"text-left"},"Expiry"),p("th",{class:"text-left"},"InwardBillID"),p("th",{class:"text-left"},"Location"),p("th",{class:"text-right"},"MRP/pack"),p("th",{class:"text-right"},"Cost/pack"),p("th",{class:"text-right"},"Discount %"),p("th",{class:"text-right"},"Available Quantity"),p("th",{class:"text-center"},"Actions")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(Ot.batches,mn=>(V(),ye("tr",{key:mn.id,class:rt({"batch-expired":M(mn.expiryDate)})},[p("td",null,J(mn.batchNumber),1),p("td",null,[p("span",{class:rt({"text-error":M(mn.expiryDate)})},J(se(mn.expiryDate)),3)]),p("td",null,J(mn.inwardBillId||mn.purchaseInvoiceIdentifier||"-"),1),p("td",null,J(mn.location||"-"),1),p("td",nMe,J(O(mn.mrp)),1),p("td",rMe,J(O(mn.cost)),1),p("td",aMe,J(mn.discountPercentage||0)+"%",1),p("td",sMe,[l(Ee,{color:mn.availableUnits>0?"success":"error",size:"small",variant:"tonal"},{default:d(()=>[Q(J(mn.availableUnits||0),1)]),_:2},1032,["color"])]),p("td",oMe,[l(ln,{text:"Edit Purchased Inventory"},{activator:d(({props:Ce})=>[l(cn,Ne({icon:"mdi-pencil",size:"small",variant:"text",onClick:Re=>U(mn.id),class:"mr-1"},{ref_for:!0},Ce),null,16,["onClick"])]),_:2},1024),l(ln,{text:"Manage Inventory"},{activator:d(({props:Ce})=>[l(cn,Ne({icon:"mdi-swap-horizontal",size:"small",variant:"text",onClick:Re=>G(mn.id)},{ref_for:!0},Ce,{class:"mr-1"}),null,16,["onClick"])]),_:2},1024),l(ln,{text:je(mn)},{activator:d(({props:Ce})=>[l(cn,Ne({icon:"mdi-delete-outline",size:"small",variant:"text",onClick:Re=>ht(mn.id),disabled:Se(mn.id)||st(mn)||Ve(mn.id),loading:Ve(mn.id),color:"error"},{ref_for:!0},Ce),null,16,["onClick","disabled","loading"])]),_:2},1032,["text"])])],2))),128))])]),_:2},1024)])):(V(),ye("div",iMe,' No inventory available. Click on "Add Inventory" to add inventory. '))]),_:2},1032,["class"])]),_:2},1024)):Be("",!0)]),_:2},1024))),128))],64)):Be("",!0)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(hn,{modelValue:m.value,"onUpdate:modelValue":Oe[8]||(Oe[8]=Ot=>m.value=Ot),persistent:"","max-width":"700px"},{default:d(()=>[m.value?(V(),he(o8e,{key:0,onClose:X,onMedicineAdded:oe})):Be("",!0)]),_:1},8,["modelValue"]),l(hn,{modelValue:v.value,"onUpdate:modelValue":Oe[9]||(Oe[9]=Ot=>v.value=Ot),persistent:"","max-width":"800px"},{default:d(()=>[v.value?(V(),he(y8e,{key:0,"medicine-id":S.value,"medicine-info":T.value,onClose:q,onBatchCreated:Y},null,8,["medicine-id","medicine-info"])):Be("",!0)]),_:1},8,["modelValue"]),l(hn,{modelValue:h.value,"onUpdate:modelValue":Oe[10]||(Oe[10]=Ot=>h.value=Ot),persistent:"","max-width":"600px"},{default:d(()=>[h.value&&k.value?(V(),he(U8e,{key:0,"batch-id":k.value.id,batch:k.value,onClose:ae,onInventoryAdded:ge},null,8,["batch-id","batch"])):Be("",!0)]),_:1},8,["modelValue"]),l(hn,{modelValue:y.value,"onUpdate:modelValue":Oe[11]||(Oe[11]=Ot=>y.value=Ot),persistent:"","max-width":"40%"},{default:d(()=>[y.value?(V(),he(bk,{key:0,mode:"pharmacy",onClose:we,onMedicineCreated:z})):Be("",!0)]),_:1},8,["modelValue"]),l(hn,{modelValue:w.value,"onUpdate:modelValue":Oe[12]||(Oe[12]=Ot=>w.value=Ot),persistent:"","max-width":"40%"},{default:d(()=>[w.value&&N.value?(V(),he(ZM,{key:0,medicine:N.value,mode:"pharmacy",onClose:_e,"onUpdate:medicine":Pe},null,8,["medicine"])):Be("",!0)]),_:1},8,["modelValue"]),l(hn,{modelValue:b.value,"onUpdate:modelValue":Oe[13]||(Oe[13]=Ot=>b.value=Ot),persistent:"","max-width":"800px"},{default:d(()=>[b.value&&k.value?(V(),he(I8e,{key:0,"batch-id":k.value.id,batch:k.value,onClose:re,onBatchUpdated:be},null,8,["batch-id","batch"])):Be("",!0)]),_:1},8,["modelValue"]),l(hn,{modelValue:B.value,"onUpdate:modelValue":Oe[14]||(Oe[14]=Ot=>B.value=Ot),persistent:"","max-width":"30%"},{default:d(()=>[B.value&&E.value?(V(),he(L8e,{key:0,medicine:E.value,onClose:He,onMedicineRemoved:ke},null,8,["medicine"])):Be("",!0)]),_:1},8,["modelValue"]),l(hn,{modelValue:F.value,"onUpdate:modelValue":Oe[16]||(Oe[16]=Ot=>F.value=Ot),persistent:"","max-width":"500px"},{default:d(()=>[l(bt,{rounded:"lg",flat:"",color:"surfaceContainer"},{default:d(()=>[l(zt,{"no-gutters":""},{default:d(()=>[l(an,{cols:"12"},{default:d(()=>[l(bt,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(zt,{"no-gutters":""},{default:d(()=>[l(an,{cols:"11"},{default:d(()=>[l(nt,{class:"pa-0 pl-2"},{default:d(()=>[...Oe[43]||(Oe[43]=[Q("Delete Inventory Batch",-1)])]),_:1})]),_:1}),l(an,{cols:"1",class:"d-flex justify-end"},{default:d(()=>[l(cn,{icon:"",size:"x-small",onClick:Ct,disabled:Ve(I.value?.id)},{default:d(()=>[l(Ut,null,{default:d(()=>[...Oe[44]||(Oe[44]=[Q("mdi-close",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(zt,{"no-gutters":""},{default:d(()=>[l(an,{cols:"12"},{default:d(()=>[l(bt,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(zt,{"no-gutters":""},{default:d(()=>[l(an,{cols:"12"},{default:d(()=>[l(Yt,{class:"text-left"},{default:d(()=>[Oe[50]||(Oe[50]=Q(" Are you sure you want to delete this inventory batch? ",-1)),Oe[51]||(Oe[51]=p("span",{class:"text-error font-weight-bold"}," This action cannot be undone. The batch and all associated inventory data will be permanently deleted. ",-1)),Oe[52]||(Oe[52]=p("br",null,null,-1)),Oe[53]||(Oe[53]=p("br",null,null,-1)),I.value?(V(),ye("span",lMe,[Oe[45]||(Oe[45]=p("strong",null,"Batch #:",-1)),Q(" "+J(I.value.batchNumber),1),Oe[46]||(Oe[46]=p("br",null,null,-1)),Oe[47]||(Oe[47]=p("strong",null,"Expiry:",-1)),Q(" "+J(se(I.value.expiryDate)),1),Oe[48]||(Oe[48]=p("br",null,null,-1)),Oe[49]||(Oe[49]=p("strong",null,"Available Units:",-1)),Q(" "+J(I.value.availableUnits||0),1)])):Be("",!0)]),_:1})]),_:1})]),_:1}),l(At),l(zt,{"no-gutters":""},{default:d(()=>[l(an,{cols:"12",class:"pa-3 d-flex justify-end"},{default:d(()=>[l(cn,{variant:"outlined",color:"error",onClick:Oe[15]||(Oe[15]=Ot=>Dt(I.value?.id)),loading:Ve(I.value?.id),disabled:!I.value||Ve(I.value?.id),class:"mr-2"},{default:d(()=>[...Oe[54]||(Oe[54]=[Q(" Delete ",-1)])]),_:1},8,["loading","disabled"]),l(cn,{variant:"flat",color:"primary",onClick:Ct,disabled:Ve(I.value?.id)},{default:d(()=>[...Oe[55]||(Oe[55]=[Q(" Cancel ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},uMe=on(cMe,[["__scopeId","data-v-3f926450"]]),dMe={__name:"pharmacy-supplier-form",props:{supplier:{type:Object,default:null}},emits:["close","saved"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=H(!0),i=H(!1),c=H(!1),A=H(null),u=H({identifier:"",supplierName:"",gstin:"",address:"",contactNumber:""});Ge(()=>n.supplier,v=>{v&&(u.value={...v})},{immediate:!0});const f=()=>{o.value=!1,r("close")},m=async()=>{if(!A.value)return;const{valid:v}=await A.value.validate();if(v){c.value=!0;try{const{data:h,error:y}=await rxe(u.value);if(y)throw y;a("Supplier created successfully"),r("saved"),f()}catch(h){console.error("Error creating supplier:",h),s(h.response?.data?.error||h.message||"Failed to create supplier")}finally{c.value=!1}}};return(v,h)=>{const y=D("v-icon"),w=D("v-btn"),b=D("v-card-title"),B=D("v-divider"),S=D("v-text-field"),T=D("v-textarea"),N=D("v-form"),k=D("v-card-text"),E=D("v-spacer"),_=D("v-card-actions"),C=D("v-card"),F=D("v-dialog");return V(),he(F,{modelValue:o.value,"onUpdate:modelValue":h[6]||(h[6]=I=>o.value=I),persistent:"","max-width":"600px"},{default:d(()=>[l(C,{rounded:"lg"},{default:d(()=>[l(b,{class:"d-flex align-center justify-space-between"},{default:d(()=>[h[8]||(h[8]=p("span",null,"Add Supplier",-1)),l(w,{onClick:f,variant:"text",size:"small"},{default:d(()=>[l(y,null,{default:d(()=>[...h[7]||(h[7]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(B),l(k,{class:"py-2"},{default:d(()=>[l(N,{ref_key:"form",ref:A,modelValue:i.value,"onUpdate:modelValue":h[5]||(h[5]=I=>i.value=I)},{default:d(()=>[l(S,{modelValue:u.value.identifier,"onUpdate:modelValue":h[0]||(h[0]=I=>u.value.identifier=I),label:"Identifier",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-identifier",class:"mb-1"},null,8,["modelValue"]),l(S,{modelValue:u.value.supplierName,"onUpdate:modelValue":h[1]||(h[1]=I=>u.value.supplierName=I),label:"Supplier Name *",variant:"outlined",density:"compact",rules:[I=>!!I||"Supplier name is required"],"prepend-inner-icon":"mdi-account",class:"mb-1"},null,8,["modelValue","rules"]),l(S,{modelValue:u.value.gstin,"onUpdate:modelValue":h[2]||(h[2]=I=>u.value.gstin=I),label:"GSTIN *",variant:"outlined",density:"compact",rules:[I=>!!I||"GSTIN is required"],"prepend-inner-icon":"mdi-card-account-details",class:"mb-1"},null,8,["modelValue","rules"]),l(T,{modelValue:u.value.address,"onUpdate:modelValue":h[3]||(h[3]=I=>u.value.address=I),label:"Address",variant:"outlined",density:"compact",rows:"2","prepend-inner-icon":"mdi-map-marker",class:"mb-1"},null,8,["modelValue"]),l(S,{modelValue:u.value.contactNumber,"onUpdate:modelValue":h[4]||(h[4]=I=>u.value.contactNumber=I),label:"Contact Number",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-phone"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),l(B),l(_,{class:"pa-3"},{default:d(()=>[l(E),l(w,{onClick:f},{default:d(()=>[...h[9]||(h[9]=[Q("Cancel",-1)])]),_:1}),l(w,{color:"primary",onClick:m,disabled:!i.value||c.value,loading:c.value},{default:d(()=>[...h[10]||(h[10]=[Q(" Save ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},AMe={__name:"pharmacy-edit-supplier",props:{supplier:{type:Object,required:!0}},emits:["close","saved"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=H(!0),i=H(!1),c=H(!1),A=H(null),u=H({identifier:"",supplierName:"",gstin:"",address:"",contactNumber:""});Ge(()=>n.supplier,v=>{v&&(u.value={identifier:v.identifier||"",supplierName:v.supplierName||"",gstin:v.gstin||"",address:v.address||"",contactNumber:v.contactNumber||""})},{immediate:!0});const f=()=>{o.value=!1,r("close")},m=async()=>{if(!A.value)return;const{valid:v}=await A.value.validate();if(v){c.value=!0;try{const{data:h,error:y}=await axe(n.supplier.id,u.value);if(y)throw y;a("Supplier updated successfully"),r("saved"),f()}catch(h){console.error("Error updating supplier:",h),s(h.response?.data?.error||h.message||"Failed to update supplier")}finally{c.value=!1}}};return(v,h)=>{const y=D("v-icon"),w=D("v-btn"),b=D("v-card-title"),B=D("v-divider"),S=D("v-text-field"),T=D("v-textarea"),N=D("v-form"),k=D("v-card-text"),E=D("v-spacer"),_=D("v-card-actions"),C=D("v-card"),F=D("v-dialog");return V(),he(F,{modelValue:o.value,"onUpdate:modelValue":h[6]||(h[6]=I=>o.value=I),persistent:"","max-width":"600px"},{default:d(()=>[l(C,{rounded:"lg"},{default:d(()=>[l(b,{class:"d-flex align-center justify-space-between"},{default:d(()=>[h[8]||(h[8]=p("span",null,"Edit Supplier",-1)),l(w,{onClick:f,variant:"text",size:"small"},{default:d(()=>[l(y,null,{default:d(()=>[...h[7]||(h[7]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(B),l(k,{class:"py-2"},{default:d(()=>[l(N,{ref_key:"form",ref:A,modelValue:i.value,"onUpdate:modelValue":h[5]||(h[5]=I=>i.value=I)},{default:d(()=>[l(S,{modelValue:u.value.identifier,"onUpdate:modelValue":h[0]||(h[0]=I=>u.value.identifier=I),label:"Identifier",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-identifier",class:"mb-1"},null,8,["modelValue"]),l(S,{modelValue:u.value.supplierName,"onUpdate:modelValue":h[1]||(h[1]=I=>u.value.supplierName=I),label:"Supplier Name *",variant:"outlined",density:"compact",rules:[I=>!!I||"Supplier name is required"],"prepend-inner-icon":"mdi-account",class:"mb-1"},null,8,["modelValue","rules"]),l(S,{modelValue:u.value.gstin,"onUpdate:modelValue":h[2]||(h[2]=I=>u.value.gstin=I),label:"GSTIN *",variant:"outlined",density:"compact",rules:[I=>!!I||"GSTIN is required"],"prepend-inner-icon":"mdi-card-account-details",class:"mb-1"},null,8,["modelValue","rules"]),l(T,{modelValue:u.value.address,"onUpdate:modelValue":h[3]||(h[3]=I=>u.value.address=I),label:"Address",variant:"outlined",density:"compact",rows:"2","prepend-inner-icon":"mdi-map-marker",class:"mb-1"},null,8,["modelValue"]),l(S,{modelValue:u.value.contactNumber,"onUpdate:modelValue":h[4]||(h[4]=I=>u.value.contactNumber=I),label:"Contact Number",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-phone"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),l(B),l(_,{class:"pa-3"},{default:d(()=>[l(E),l(w,{onClick:f},{default:d(()=>[...h[9]||(h[9]=[Q("Cancel",-1)])]),_:1}),l(w,{color:"primary",onClick:m,disabled:!i.value||c.value,loading:c.value},{default:d(()=>[...h[10]||(h[10]=[Q(" Update ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},fMe={__name:"pharmacy-purchase-invoice-form",props:{supplierId:{type:Number,default:null}},emits:["close","saved"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=H(!0),i=H(!1),c=H(!1),A=H(null),u=H([]),f=H({supplierId:null,pharmacyPurchaseInvoiceDate:"",pharmacyPurchaseInvoiceIdentifier:"",status:1,additionalDiscount:0,paymentDueDate:"",paymentDate:""}),m=[{label:"Draft",value:1},{label:"Finalized",value:2}];Ge(()=>n.supplierId,y=>{y&&(f.value.supplierId=y)},{immediate:!0}),fn(async()=>{const{data:y}=await oO();u.value=y||[]});const v=()=>{o.value=!1,r("close")},h=async()=>{if(!A.value)return;const{valid:y}=await A.value.validate();if(y){c.value=!0;try{const{data:w,error:b}=await oxe(f.value);if(b)throw b;a("Purchase invoice created successfully"),r("saved"),v()}catch(w){console.error("Error creating purchase invoice:",w),s(w.response?.data?.error||w.message||"Failed to create purchase invoice")}finally{c.value=!1}}};return(y,w)=>{const b=D("v-icon"),B=D("v-btn"),S=D("v-card-title"),T=D("v-divider"),N=D("v-select"),k=D("v-col"),E=D("v-text-field"),_=D("v-row"),C=D("v-form"),F=D("v-card-text"),I=D("v-spacer"),R=D("v-card-actions"),M=D("v-card"),te=D("v-dialog");return V(),he(te,{modelValue:o.value,"onUpdate:modelValue":w[8]||(w[8]=se=>o.value=se),persistent:"","max-width":"700px"},{default:d(()=>[l(M,{rounded:"lg"},{default:d(()=>[l(S,{class:"d-flex align-center justify-space-between"},{default:d(()=>[w[10]||(w[10]=p("span",null,"Create Purchase Invoice",-1)),l(B,{onClick:v,variant:"text",size:"small"},{default:d(()=>[l(b,null,{default:d(()=>[...w[9]||(w[9]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(T),l(F,{class:"py-1"},{default:d(()=>[l(C,{ref_key:"form",ref:A,modelValue:i.value,"onUpdate:modelValue":w[7]||(w[7]=se=>i.value=se)},{default:d(()=>[l(_,{dense:""},{default:d(()=>[l(k,{cols:"12"},{default:d(()=>[l(N,{modelValue:f.value.supplierId,"onUpdate:modelValue":w[0]||(w[0]=se=>f.value.supplierId=se),items:u.value,"item-title":"supplierName","item-value":"id",label:"Supplier *",variant:"outlined",density:"compact",rules:[se=>!!se||"Supplier is required"],"prepend-inner-icon":"mdi-account",disabled:!!e.supplierId},null,8,["modelValue","items","rules","disabled"])]),_:1}),l(k,{cols:"12",md:"6"},{default:d(()=>[l(E,{modelValue:f.value.pharmacyPurchaseInvoiceDate,"onUpdate:modelValue":w[1]||(w[1]=se=>f.value.pharmacyPurchaseInvoiceDate=se),type:"date",label:"Invoice Date *",variant:"outlined",density:"compact",rules:[se=>!!se||"Invoice date is required"],"prepend-inner-icon":"mdi-calendar"},null,8,["modelValue","rules"])]),_:1}),l(k,{cols:"12",md:"6"},{default:d(()=>[l(E,{modelValue:f.value.pharmacyPurchaseInvoiceIdentifier,"onUpdate:modelValue":w[2]||(w[2]=se=>f.value.pharmacyPurchaseInvoiceIdentifier=se),label:"Invoice Identifier *",variant:"outlined",density:"compact",rules:[se=>!!se||"Invoice identifier is required"],"prepend-inner-icon":"mdi-file-document"},null,8,["modelValue","rules"])]),_:1}),l(k,{cols:"12",md:"6"},{default:d(()=>[l(N,{modelValue:f.value.status,"onUpdate:modelValue":w[3]||(w[3]=se=>f.value.status=se),items:m,"item-title":"label","item-value":"value",label:"Status",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-check-circle"},null,8,["modelValue"])]),_:1}),l(k,{cols:"12",md:"6"},{default:d(()=>[l(E,{modelValue:f.value.additionalDiscount,"onUpdate:modelValue":w[4]||(w[4]=se=>f.value.additionalDiscount=se),modelModifiers:{number:!0},label:"Additional Discount ()",variant:"outlined",density:"compact",type:"number",rules:[se=>se==null||se>=0||"Additional discount cannot be negative"],"prepend-inner-icon":"mdi-currency-inr"},null,8,["modelValue","rules"])]),_:1}),l(k,{cols:"12",md:"6"},{default:d(()=>[l(E,{modelValue:f.value.paymentDueDate,"onUpdate:modelValue":w[5]||(w[5]=se=>f.value.paymentDueDate=se),type:"date",label:"Payment Due Date",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-calendar-clock"},null,8,["modelValue"])]),_:1}),l(k,{cols:"12",md:"6"},{default:d(()=>[l(E,{modelValue:f.value.paymentDate,"onUpdate:modelValue":w[6]||(w[6]=se=>f.value.paymentDate=se),type:"date",label:"Payment Date",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-calendar-check"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(T),l(R,{class:"pa-3"},{default:d(()=>[l(I),l(B,{onClick:v},{default:d(()=>[...w[11]||(w[11]=[Q("Cancel",-1)])]),_:1}),l(B,{color:"primary",onClick:h,disabled:!i.value||c.value,loading:c.value},{default:d(()=>[...w[12]||(w[12]=[Q(" Create Invoice ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},mMe={class:"text-center py-4"},hMe={__name:"pharmacy-edit-purchase-invoice",props:{invoiceId:{type:Number,required:!0}},emits:["close","saved"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=H(!0),i=H(!1),c=H(!1),A=H(!1),u=H(null),f=H({status:1,additionalDiscount:0,paymentDueDate:"",paymentDate:""}),m=[{label:"Draft",value:1},{label:"Finalized",value:2}],v=async()=>{A.value=!0;try{const{data:b,error:B}=await Bp(n.invoiceId);if(B)throw B;f.value={status:b.status||1,additionalDiscount:b.additionalDiscount||0,paymentDueDate:b.paymentDueDate?h(b.paymentDueDate):"",paymentDate:b.paymentDate?h(b.paymentDate):""}}catch(b){console.error("Error loading invoice:",b),s(b.response?.data?.error||b.message||"Failed to load invoice")}finally{A.value=!1}};fn(()=>{v()});const h=b=>b?new Date(b*1e3).toISOString().split("T")[0]:"",y=()=>{o.value=!1,r("close")},w=async()=>{if(!u.value)return;const{valid:b}=await u.value.validate();if(b){c.value=!0;try{const{data:B,error:S}=await ixe(n.invoiceId,f.value);if(S)throw S;a("Purchase invoice updated successfully"),r("saved"),y()}catch(B){console.error("Error updating purchase invoice:",B),s(B.response?.data?.error||B.message||"Failed to update purchase invoice")}finally{c.value=!1}}};return(b,B)=>{const S=D("v-icon"),T=D("v-btn"),N=D("v-card-title"),k=D("v-divider"),E=D("v-progress-circular"),_=D("v-card-text"),C=D("v-select"),F=D("v-text-field"),I=D("v-form"),R=D("v-spacer"),M=D("v-card-actions"),te=D("v-card"),se=D("v-dialog");return V(),he(se,{modelValue:o.value,"onUpdate:modelValue":B[5]||(B[5]=O=>o.value=O),persistent:"","max-width":"600px"},{default:d(()=>[l(te,{rounded:"lg"},{default:d(()=>[l(N,{class:"d-flex align-center justify-space-between"},{default:d(()=>[B[7]||(B[7]=p("span",null,"Edit Purchase Invoice",-1)),l(T,{onClick:y,variant:"text",size:"small"},{default:d(()=>[l(S,null,{default:d(()=>[...B[6]||(B[6]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(k),A.value?(V(),he(_,{key:0,class:"py-2"},{default:d(()=>[p("div",mMe,[l(E,{indeterminate:"",color:"primary"})])]),_:1})):(V(),he(_,{key:1,class:"py-2"},{default:d(()=>[l(I,{ref_key:"form",ref:u,modelValue:i.value,"onUpdate:modelValue":B[4]||(B[4]=O=>i.value=O)},{default:d(()=>[l(C,{modelValue:f.value.status,"onUpdate:modelValue":B[0]||(B[0]=O=>f.value.status=O),items:m,"item-title":"label","item-value":"value",label:"Status",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-check-circle",class:"mb-1"},null,8,["modelValue"]),l(F,{modelValue:f.value.additionalDiscount,"onUpdate:modelValue":B[1]||(B[1]=O=>f.value.additionalDiscount=O),modelModifiers:{number:!0},label:"Additional Discount ()",variant:"outlined",density:"compact",type:"number",rules:[O=>O==null||O>=0||"Additional discount cannot be negative"],"prepend-inner-icon":"mdi-currency-inr",class:"mb-1"},null,8,["modelValue","rules"]),l(F,{modelValue:f.value.paymentDueDate,"onUpdate:modelValue":B[2]||(B[2]=O=>f.value.paymentDueDate=O),type:"date",label:"Payment Due Date",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-calendar-clock",class:"mb-1"},null,8,["modelValue"]),l(F,{modelValue:f.value.paymentDate,"onUpdate:modelValue":B[3]||(B[3]=O=>f.value.paymentDate=O),type:"date",label:"Payment Date",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-calendar-check"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})),l(k),l(M,{class:"pa-3"},{default:d(()=>[l(R),l(T,{onClick:y},{default:d(()=>[...B[8]||(B[8]=[Q("Cancel",-1)])]),_:1}),l(T,{color:"primary",onClick:w,disabled:!i.value||c.value,loading:c.value},{default:d(()=>[...B[9]||(B[9]=[Q(" Update ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},vMe={class:"text-center py-4"},pMe={class:"text-body-2 mb-0.5"},gMe={class:"text-body-2 mb-0.5"},yMe={class:"text-body-2 mb-0.5"},wMe={class:"text-body-2 mb-0.5"},_Me={class:"text-body-2 mb-0.5"},bMe={key:0,class:"text-body-2 mb-0.5"},xMe={key:0,class:"text-body-2 mb-0.5"},CMe={key:1,class:"text-body-2 mb-0.5"},EMe={key:2,class:"text-body-2 mb-0.5"},BMe={class:"text-right"},SMe={class:"text-right"},kMe={class:"text-right"},IMe={class:"text-right"},TMe={class:"text-right"},FMe={class:"text-right"},PMe={class:"text-center"},DMe={key:1,class:"text-body-2 text-medium-emphasis py-2 text-center"},UMe={key:0,class:"text-body-2 mb-1"},RMe={class:"text-body-2 mb-1"},NMe={class:"text-body-2 mb-1"},LMe={class:"text-body-2 mb-1"},VMe={key:0,class:"text-body-2 mb-1"},MMe={class:"text-subtitle-1 font-weight-bold"},OMe={class:"text-body-2 text-medium-emphasis mt-2"},QMe={__name:"pharmacy-purchase-invoice-view",props:{invoiceId:{type:Number,required:!0}},emits:["close","updated","add-batch"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=H(!0),i=H(!1),c=H(null),A=H(!1),u=async()=>{i.value=!0;try{const{data:B,error:S}=await Bp(n.invoiceId);if(S)throw S;c.value=B}catch(B){console.error("Error loading invoice:",B),s(B.response?.data?.error||B.message||"Failed to load invoice")}finally{i.value=!1}};Ge(()=>n.invoiceId,()=>{u()},{immediate:!0});const f=()=>{o.value=!1,r("close")},m=()=>{r("add-batch",n.invoiceId)},v=()=>{A.value=!0},h=()=>{A.value=!1,u(),r("updated")},y=async B=>{if(confirm("Are you sure you want to remove this batch? This will delete the batch entirely."))try{const{error:S}=await cxe(n.invoiceId,B);if(S)throw S;a("Batch removed successfully"),u(),r("updated")}catch(S){console.error("Error removing batch:",S),s(S.response?.data?.error||S.message||"Failed to remove batch")}},w=B=>B?new Date(B*1e3).toLocaleDateString():"-",b=B=>B==null?"0.00":`${B.toFixed(2)}`;return(B,S)=>{const T=D("v-icon"),N=D("v-btn"),k=D("v-card-title"),E=D("v-divider"),_=D("v-progress-circular"),C=D("v-card-text"),F=D("v-chip"),I=D("v-col"),R=D("v-row"),M=D("v-table"),te=D("v-spacer"),se=D("v-card-actions"),O=D("v-card"),W=D("v-dialog");return V(),ye(ze,null,[l(W,{modelValue:o.value,"onUpdate:modelValue":S[0]||(S[0]=le=>o.value=le),persistent:"","max-width":"90%",scrollable:""},{default:d(()=>[l(O,{rounded:"lg"},{default:d(()=>[l(k,{class:"d-flex align-center justify-space-between"},{default:d(()=>[S[3]||(S[3]=p("span",null,"Purchase Invoice Details",-1)),l(N,{onClick:f,variant:"text",size:"small"},{default:d(()=>[l(T,null,{default:d(()=>[...S[2]||(S[2]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(E),i.value?(V(),he(C,{key:0,class:"py-2"},{default:d(()=>[p("div",vMe,[l(_,{indeterminate:"",color:"primary"})])]),_:1})):c.value?(V(),he(C,{key:1,class:"py-2"},{default:d(()=>[l(R,{dense:"",class:"mb-2"},{default:d(()=>[l(I,{cols:"12",md:"4"},{default:d(()=>[S[7]||(S[7]=p("div",{class:"text-subtitle-2 mb-1"},"Invoice Information",-1)),p("div",pMe,[S[4]||(S[4]=p("strong",null,"Date:",-1)),Q(" "+J(w(c.value.pharmacyPurchaseInvoiceDate)),1)]),p("div",gMe,[S[5]||(S[5]=p("strong",null,"Identifier:",-1)),Q(" "+J(c.value.pharmacyPurchaseInvoiceIdentifier),1)]),p("div",yMe,[S[6]||(S[6]=p("strong",null,"Status:",-1)),l(F,{color:c.value.status===2?"success":"warning",size:"small",variant:"tonal",class:"ml-2"},{default:d(()=>[Q(J(c.value.statusLabel||"Draft"),1)]),_:1},8,["color"])])]),_:1}),l(I,{cols:"12",md:"4"},{default:d(()=>[S[11]||(S[11]=p("div",{class:"text-subtitle-2 mb-1"},"Supplier Information",-1)),p("div",wMe,[S[8]||(S[8]=p("strong",null,"Name:",-1)),Q(" "+J(c.value.supplier?.supplierName||"-"),1)]),p("div",_Me,[S[9]||(S[9]=p("strong",null,"GSTIN:",-1)),Q(" "+J(c.value.supplier?.gstin||"-"),1)]),c.value.supplier?.address?(V(),ye("div",bMe,[S[10]||(S[10]=p("strong",null,"Address:",-1)),Q(" "+J(c.value.supplier.address),1)])):Be("",!0)]),_:1}),l(I,{cols:"12",md:"4"},{default:d(()=>[S[15]||(S[15]=p("div",{class:"text-subtitle-2 mb-1"},"Payment Information",-1)),c.value.paymentDueDate?(V(),ye("div",xMe,[S[12]||(S[12]=p("strong",null,"Due Date:",-1)),Q(" "+J(w(c.value.paymentDueDate)),1)])):Be("",!0),c.value.paymentDate?(V(),ye("div",CMe,[S[13]||(S[13]=p("strong",null,"Payment Date:",-1)),Q(" "+J(w(c.value.paymentDate)),1)])):(V(),ye("div",EMe,[...S[14]||(S[14]=[p("strong",null,"Payment Status:",-1),Q(),p("span",{class:"text-warning"},"Unpaid",-1)])]))]),_:1})]),_:1}),l(E,{class:"my-2"}),S[23]||(S[23]=p("div",{class:"text-subtitle-2 mb-1"},"Medicine Batches",-1)),c.value.batches&&c.value.batches.length>0?(V(),he(M,{key:0,density:"compact"},{default:d(()=>[S[16]||(S[16]=p("thead",null,[p("tr",null,[p("th",{class:"text-left"},"Medicine Name"),p("th",{class:"text-left"},"Batch Number"),p("th",{class:"text-left"},"Expiry Date"),p("th",{class:"text-left"},"Location"),p("th",{class:"text-right"},"MRP (per pack)"),p("th",{class:"text-right"},"Cost (per pack, incl. GST)"),p("th",{class:"text-right"},"GST %"),p("th",{class:"text-right"},"Total Packs"),p("th",{class:"text-right"},"Total Units"),p("th",{class:"text-right"},"Total Cost"),p("th",{class:"text-center"},"Actions")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(c.value.batches,le=>(V(),ye("tr",{key:le.id},[p("td",null,J(le.medicine?.productName||"-"),1),p("td",null,J(le.batchNumber),1),p("td",null,J(w(le.expiryDate)),1),p("td",null,J(le.location||"-"),1),p("td",BMe,J(b(le.mrp)),1),p("td",SMe,J(b(le.cost)),1),p("td",kMe,J(le.gstPercentage||0)+"%",1),p("td",IMe,J(le.totalPacks||0),1),p("td",TMe,J(le.totalUnits||0),1),p("td",FMe,J(b(le.totalCost||0)),1),p("td",PMe,[l(N,{size:"x-small",variant:"text",icon:"mdi-delete",color:"error",onClick:K=>y(le.id)},null,8,["onClick"])])]))),128))])]),_:1})):(V(),ye("div",DMe," No batches added yet ")),l(E,{class:"mb-3 mt-2"}),c.value.totals?(V(),he(R,{key:2,"no-gutters":""},{default:d(()=>[l(I,{cols:"8",class:"text-right"},{default:d(()=>[S[17]||(S[17]=p("div",{class:"text-body-2 mb-1"},"Base Cost Total:",-1)),S[18]||(S[18]=p("div",{class:"text-body-2 mb-1"},"GST:",-1)),S[19]||(S[19]=p("div",{class:"text-body-2 mb-1"},"Subtotal with GST:",-1)),c.value.totals.additionalDiscount>0?(V(),ye("div",UMe,"Additional Discount:")):Be("",!0),S[20]||(S[20]=p("div",{class:"text-subtitle-1 font-weight-bold"},"Grand Total:",-1))]),_:1}),l(I,{cols:"4",class:"text-right"},{default:d(()=>[p("div",RMe,J(b(c.value.totals.subtotal)),1),p("div",NMe,J(b(c.value.totals.totalGST)),1),p("div",LMe,J(b(c.value.totals.subtotalWithGST)),1),c.value.totals.additionalDiscount>0?(V(),ye("div",VMe,"-"+J(b(c.value.totals.additionalDiscount)),1)):Be("",!0),p("div",MMe,J(b(c.value.totals.netAmount)),1)]),_:1})]),_:1})):Be("",!0),p("div",OMe,[S[21]||(S[21]=p("strong",null,"Medicine Count:",-1)),Q(" "+J(c.value.medicineCount||0)+" | ",1),S[22]||(S[22]=p("strong",null,"Batch Count:",-1)),Q(" "+J(c.value.batchCount||0),1)])]),_:1})):Be("",!0),l(E),l(se,{class:"pa-3"},{default:d(()=>[l(N,{color:"primary","prepend-icon":"mdi-plus",onClick:m},{default:d(()=>[...S[24]||(S[24]=[Q(" Add Medicine Batch ",-1)])]),_:1}),l(te),l(N,{color:"primary",variant:"outlined","prepend-icon":"mdi-pencil",onClick:v},{default:d(()=>[...S[25]||(S[25]=[Q(" Edit Invoice ",-1)])]),_:1}),l(N,{onClick:f},{default:d(()=>[...S[26]||(S[26]=[Q("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),A.value?(V(),he(hMe,{key:0,"invoice-id":e.invoiceId,onClose:S[1]||(S[1]=le=>A.value=!1),onSaved:h},null,8,["invoice-id"])):Be("",!0)],64)}}},HMe={key:1},KMe={class:"text-caption text-medium-emphasis"},GMe={class:"font-weight-medium"},zMe={class:"text-caption text-medium-emphasis"},$Me={key:0,class:"mb-0.5"},WMe={key:1,class:"mb-0.5"},jMe={key:2},JMe={__name:"pharmacy-add-medicine-batch",props:{purchaseInvoiceId:{type:Number,required:!0}},emits:["close","saved"],setup(e,{emit:t}){const n=e,r=t,{showSuccess:a,showError:s}=dr(),o=H(!0),i=H(!1),c=H(!1),A=H(!1),u=H(null),f=H(null),m=H(null),v=H([]),h=H(""),y=H({batchNumber:"",expiryDate:"",packType:"",unitsPerPack:1,mrp:null,discountPercentage:0,saleQuantityPacks:0,freeQuantityPacks:0,cgstPercentage:0,sgstPercentage:0,location:""}),w=H("0.00"),b=Z(()=>Number(w.value??0)||0),B=()=>{w.value=(Number(w.value??0)||0).toFixed(2)},S=Z(()=>{const se=Number(y.value.cgstPercentage??0)||0,O=Number(y.value.sgstPercentage??0)||0;return se+O}),T=Z(()=>{const se=b.value||0,O=Number(S.value??0)||0;return se*(1+O/100)}),N=Z(()=>(Number(T.value??0)||0).toFixed(2)),k=Z(()=>{const se=y.value.saleQuantityPacks||0,O=y.value.freeQuantityPacks||0;return se+O}),E=Z(()=>k.value*(y.value.unitsPerPack||1)),_=Z(()=>{const se=y.value.saleQuantityPacks||0,O=y.value.freeQuantityPacks||0,W=b.value||0,le=se+O;return le===0?null:W*se/le});fn(()=>{B()}),fn(async()=>{await C(),await F()});const C=async()=>{A.value=!0;try{const{data:se,error:O}=await Hw();if(O){console.error("Error loading pharmacy medicines:",O),s("Failed to load pharmacy medicines");return}v.value=(se||[]).map(W=>({id:W.id,productName:W.productName,marketer:W.marketer,productForm:W.productForm,group:W.group,hsnCode:W.hsnCode,displayName:W.productName}))}catch(se){console.error("Error loading pharmacy medicines:",se),showSnackbar("Failed to load pharmacy medicines","error")}finally{A.value=!1}},F=async()=>{try{const{data:se}=await Bp(n.purchaseInvoiceId);se&&(h.value=`${se.pharmacyPurchaseInvoiceIdentifier} (${R(se.pharmacyPurchaseInvoiceDate)})`)}catch(se){console.error("Error loading invoice info:",se)}},I=se=>{m.value=v.value.find(O=>O.id===se)},R=se=>se?new Date(se*1e3).toLocaleDateString():"-",M=()=>{o.value=!1,r("close")},te=async()=>{if(!u.value)return;const{valid:se}=await u.value.validate();if(se){if(!f.value){s("Please select a medicine");return}c.value=!0;try{const O={medicineId:f.value,purchaseInvoiceId:n.purchaseInvoiceId,...y.value,priceToRetailer:Number(T.value??0)||0},{data:W,error:le}=await sO(O);if(le)throw le;a("Batch added successfully"),r("saved"),M()}catch(O){console.error("Error creating batch:",O),s(O.response?.data?.error||O.message||"Failed to create batch")}finally{c.value=!1}}};return(se,O)=>{const W=D("v-icon"),le=D("v-btn"),K=D("v-card-title"),ee=D("v-divider"),j=D("v-text-field"),U=D("v-list-item-title"),G=D("v-list-item-subtitle"),ne=D("v-list-item"),X=D("v-autocomplete"),oe=D("v-col"),q=D("v-select"),Y=D("v-row"),ae=D("v-form"),ge=D("v-card-text"),we=D("v-spacer"),z=D("v-card-actions"),Ae=D("v-card"),ie=D("v-dialog");return V(),he(ie,{modelValue:o.value,"onUpdate:modelValue":O[14]||(O[14]=_e=>o.value=_e),persistent:"","max-width":"800px",scrollable:""},{default:d(()=>[l(Ae,{rounded:"lg"},{default:d(()=>[l(K,{class:"d-flex align-center justify-space-between"},{default:d(()=>[O[16]||(O[16]=p("span",null,"Add Medicine Batch to Invoice",-1)),l(le,{onClick:M,variant:"text",size:"small"},{default:d(()=>[l(W,null,{default:d(()=>[...O[15]||(O[15]=[Q("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(ee),l(ge,{class:"py-1"},{default:d(()=>[l(ae,{ref_key:"form",ref:u,modelValue:i.value,"onUpdate:modelValue":O[13]||(O[13]=_e=>i.value=_e)},{default:d(()=>[e.purchaseInvoiceId?(V(),he(j,{key:0,"model-value":h.value,label:"Purchase Invoice",variant:"outlined",density:"compact",readonly:"","prepend-inner-icon":"mdi-file-document",class:"mb-1"},null,8,["model-value"])):Be("",!0),l(X,{modelValue:f.value,"onUpdate:modelValue":[O[0]||(O[0]=_e=>f.value=_e),I],items:v.value,"item-value":"id","item-title":"productName",label:"Select Medicine *",variant:"outlined",density:"compact",rules:[_e=>!!_e||"Medicine selection is required"],"prepend-inner-icon":"mdi-pill",loading:A.value,class:"mb-1"},{selection:d(({item:_e})=>[Q(J(_e.raw.productName),1)]),item:d(({props:_e,item:Pe})=>[l(ne,LA(fd({..._e,title:void 0})),{prepend:d(()=>[l(W,null,{default:d(()=>[...O[17]||(O[17]=[Q("mdi-pill",-1)])]),_:1})]),default:d(()=>[l(U,{class:"text-wrap"},{default:d(()=>[Q(J(Pe.raw.productName),1)]),_:2},1024),l(G,{class:"text-wrap"},{default:d(()=>[Q(J([Pe.raw.marketer,Pe.raw.group,Pe.raw.productForm].filter(Boolean).join(" | ")||"No additional details"),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","items","rules","loading"]),f.value&&m.value?(V(),ye("div",HMe,[l(ee,{class:"my-1"}),O[22]||(O[22]=p("div",{class:"text-caption font-weight-medium mb-1"},"Batch Details",-1)),l(Y,{dense:""},{default:d(()=>[l(oe,{cols:"12",md:"6"},{default:d(()=>[l(j,{modelValue:y.value.batchNumber,"onUpdate:modelValue":O[1]||(O[1]=_e=>y.value.batchNumber=_e),label:"Batch Number *",variant:"outlined",density:"compact",rules:[_e=>!!_e||"Batch number is required"],"prepend-inner-icon":"mdi-barcode"},null,8,["modelValue","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[l(j,{modelValue:y.value.expiryDate,"onUpdate:modelValue":O[2]||(O[2]=_e=>y.value.expiryDate=_e),type:"date",label:"Expiry Date *",variant:"outlined",density:"compact",rules:[_e=>!!_e||"Expiry date is required"],"prepend-inner-icon":"mdi-calendar"},null,8,["modelValue","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[l(q,{modelValue:y.value.packType,"onUpdate:modelValue":O[3]||(O[3]=_e=>y.value.packType=_e),items:We(Ow),label:"Pack Type *",variant:"outlined",density:"compact",rules:[_e=>!!_e||"Pack type is required"],"prepend-inner-icon":"mdi-package-variant"},null,8,["modelValue","items","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[l(j,{modelValue:y.value.unitsPerPack,"onUpdate:modelValue":O[4]||(O[4]=_e=>y.value.unitsPerPack=_e),modelModifiers:{number:!0},label:"Units Per Pack *",variant:"outlined",density:"compact",type:"number",rules:[_e=>_e!=null&&_e>0||"Units per pack must be greater than 0"],"prepend-inner-icon":"mdi-numeric"},null,8,["modelValue","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[l(j,{modelValue:y.value.mrp,"onUpdate:modelValue":O[5]||(O[5]=_e=>y.value.mrp=_e),modelModifiers:{number:!0},label:"MRP per Pack () *",variant:"outlined",density:"compact",type:"number",rules:[_e=>_e!=null&&_e>=0||"MRP must be a positive number"],"prepend-inner-icon":"mdi-currency-inr"},null,8,["modelValue","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[l(j,{modelValue:y.value.discountPercentage,"onUpdate:modelValue":O[6]||(O[6]=_e=>y.value.discountPercentage=_e),modelModifiers:{number:!0},label:"Discount to Patients %",variant:"outlined",density:"compact",type:"number",rules:[_e=>_e==null||_e>=0&&_e<=100||"Discount must be between 0 and 100"],"prepend-inner-icon":"mdi-percent"},null,8,["modelValue","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[l(j,{modelValue:y.value.saleQuantityPacks,"onUpdate:modelValue":O[7]||(O[7]=_e=>y.value.saleQuantityPacks=_e),modelModifiers:{number:!0},label:"Sale Quantity (Packs) *",variant:"outlined",density:"compact",type:"number",rules:[_e=>_e!=null&&_e>=0||"Sale quantity must be non-negative"],"prepend-inner-icon":"mdi-numeric"},null,8,["modelValue","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[l(j,{modelValue:y.value.freeQuantityPacks,"onUpdate:modelValue":O[8]||(O[8]=_e=>y.value.freeQuantityPacks=_e),modelModifiers:{number:!0},label:"Free Quantity (Packs) *",variant:"outlined",density:"compact",type:"number",rules:[_e=>_e!=null&&_e>=0||"Free quantity must be non-negative"],"prepend-inner-icon":"mdi-numeric"},null,8,["modelValue","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[l(j,{modelValue:y.value.cgstPercentage,"onUpdate:modelValue":O[9]||(O[9]=_e=>y.value.cgstPercentage=_e),modelModifiers:{number:!0},label:"CGST % *",variant:"outlined",density:"compact",type:"number",rules:[_e=>_e!=null||"CGST percentage is required"],"prepend-inner-icon":"mdi-percent"},null,8,["modelValue","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[l(j,{modelValue:y.value.sgstPercentage,"onUpdate:modelValue":O[10]||(O[10]=_e=>y.value.sgstPercentage=_e),modelModifiers:{number:!0},label:"SGST % *",variant:"outlined",density:"compact",type:"number",rules:[_e=>_e!=null||"SGST percentage is required"],"prepend-inner-icon":"mdi-percent"},null,8,["modelValue","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[l(j,{modelValue:w.value,"onUpdate:modelValue":O[11]||(O[11]=_e=>w.value=_e),label:"Price to Retailer (Excl. GST) () *",variant:"outlined",density:"compact",inputmode:"decimal",rules:[_e=>Number(_e)>=0||"Price to retailer (excl. GST) must be non-negative"],"prepend-inner-icon":"mdi-currency-inr",hint:"User input (excludes GST)","persistent-hint":"",onBlur:B},null,8,["modelValue","rules"])]),_:1}),l(oe,{cols:"12",md:"6"},{default:d(()=>[p("div",KMe,[p("div",GMe,"Price to Retailer (Incl. GST): "+J(N.value),1),O[18]||(O[18]=p("div",null,"Computed using CGST + SGST",-1))])]),_:1}),l(oe,{cols:"12"},{default:d(()=>[l(j,{modelValue:y.value.location,"onUpdate:modelValue":O[12]||(O[12]=_e=>y.value.location=_e),label:"Location",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-map-marker",hint:"Physical storage location (e.g., Shelf A-3, Room 1)","persistent-hint":""},null,8,["modelValue"])]),_:1}),l(oe,{cols:"12",class:"pt-1"},{default:d(()=>[l(ee,{class:"mb-1"}),p("div",zMe,[k.value>0?(V(),ye("div",$Me,[O[19]||(O[19]=p("strong",null,"Total Quantity:",-1)),Q(" "+J(k.value)+" packs ("+J(E.value)+" units) ",1)])):Be("",!0),_.value!==null?(V(),ye("div",WMe,[O[20]||(O[20]=p("strong",null,"Cost per Pack (Excl. GST):",-1)),Q(" "+J(_.value.toFixed(2)),1)])):Be("",!0),S.value!==null?(V(),ye("div",jMe,[O[21]||(O[21]=p("strong",null,"GST %:",-1)),Q(" "+J(S.value.toFixed(2))+"% ",1)])):Be("",!0)])]),_:1})]),_:1})])):Be("",!0)]),_:1},8,["modelValue"])]),_:1}),l(ee),l(z,{class:"pa-3"},{default:d(()=>[l(we),l(le,{onClick:M},{default:d(()=>[...O[23]||(O[23]=[Q("Cancel",-1)])]),_:1}),l(le,{color:"primary",onClick:te,disabled:!i.value||!f.value||c.value,loading:c.value},{default:d(()=>[...O[24]||(O[24]=[Q(" Add Batch ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},qMe={class:"d-flex align-center flex-grow-1"},YMe={class:"pr-3 d-flex"},XMe={class:"scrollable-content pl-3 pr-3"},ZMe={class:"text-center"},eOe={class:"text-center"},tOe={class:"text-body-2 text-medium-emphasis mb-4"},nOe={class:"text-center"},rOe={class:"d-flex align-center justify-space-between w-100"},aOe={class:"flex-grow-1 d-flex align-center flex-wrap"},sOe={style:{"margin-right":"2px"},class:"d-flex align-center"},oOe={class:"text-subtitle-1"},iOe={class:"d-flex align-center"},lOe={key:0,class:"text-body-2 mb-2"},cOe={key:0,class:"mb-1"},uOe={key:1},dOe={key:1},AOe={class:"text-right"},fOe={class:"text-right"},mOe={class:"text-right"},hOe={class:"text-center"},vOe={key:2,class:"text-body-2 text-medium-emphasis text-center py-2"},pOe={__name:"pharmacy-purchase",setup(e){const t=H(null),n=H(!1),r=H(null),a=H([]),s=H(""),o=H(""),i=H(!1),c=H(!1),A=H(null),u=H(!1),f=H(null),m=H(null),v=H(!1),h=H(null),y=Z(()=>{let O=a.value;if(s.value&&s.value.trim()!==""){const W=s.value.toLowerCase();O=O.filter(le=>le.supplierName&&le.supplierName.toLowerCase().includes(W))}if(o.value&&o.value.trim()!==""){const W=o.value.toLowerCase();O=O.map(le=>{const K=(le.invoices||[]).filter(ee=>ee.pharmacyPurchaseInvoiceIdentifier&&ee.pharmacyPurchaseInvoiceIdentifier.toLowerCase().includes(W));return{...le,invoices:K}}).filter(le=>le.invoices.length>0)}return O}),w=async()=>{n.value=!0,r.value=null;try{const{data:O,error:W}=await oO();if(W)throw W;const le=await Promise.all((O||[]).map(async K=>{const{data:ee}=await sxe({supplierId:K.id});return{...K,invoices:ee||[]}}));a.value=le}catch(O){console.error("Error loading suppliers:",O),r.value=O.response?.data?.error||O.message||"Failed to load suppliers"}finally{n.value=!1}},b=()=>{A.value=null,i.value=!0},B=()=>{i.value=!1,A.value=null},S=O=>{A.value=O,c.value=!0},T=()=>{c.value=!1,A.value=null},N=()=>{B(),T(),w()},k=O=>{f.value=O,u.value=!0},E=()=>{u.value=!1,f.value=null},_=()=>{E(),w()},C=O=>{m.value=O},F=()=>{m.value=null},I=O=>{h.value=O,v.value=!0},R=()=>{v.value=!1,h.value=null},M=()=>{R(),m.value&&(F(),C(h.value)),w()},te=O=>O?new Date(O*1e3).toLocaleDateString():"-",se=O=>O==null?"0.00":`${O.toFixed(2)}`;return fn(()=>{w()}),(O,W)=>{const le=D("v-alert"),K=D("v-text-field"),ee=D("v-btn"),j=D("v-icon"),U=D("v-tooltip"),G=D("v-card"),ne=D("v-col"),X=D("v-row"),oe=D("v-progress-circular"),q=D("v-chip"),Y=D("v-card-title"),ae=D("v-divider"),ge=D("v-table"),we=D("v-card-text"),z=D("v-lazy"),Ae=D("v-main");return V(),he(Ae,null,{default:d(()=>[t.value?(V(),he(le,{key:0,type:"error",dismissible:"","onClick:close":W[0]||(W[0]=ie=>t.value=null),class:"ma-3"},{default:d(()=>[Q(J(t.value),1)]),_:1})):Be("",!0),l(X,{"no-gutters":"",class:"pl-3 pr-3 mb-2",style:{height:"50px"}},{default:d(()=>[l(ne,{cols:"12"},{default:d(()=>[l(G,{color:"surfaceContainer",flat:"",style:{height:"100%"},class:"d-flex align-center justify-space-between"},{default:d(()=>[p("div",qMe,[l(K,{modelValue:s.value,"onUpdate:modelValue":W[1]||(W[1]=ie=>s.value=ie),placeholder:"Filter by supplier name...",density:"compact",variant:"outlined",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify",class:"filter-input mr-2",style:{"max-width":"300px"}},null,8,["modelValue"]),l(K,{modelValue:o.value,"onUpdate:modelValue":W[2]||(W[2]=ie=>o.value=ie),placeholder:"Filter by invoice ID...",density:"compact",variant:"outlined",clearable:"","hide-details":"","prepend-inner-icon":"mdi-file-document",class:"filter-input",style:{"max-width":"300px"}},null,8,["modelValue"])]),p("div",YMe,[l(ee,{color:"primary","prepend-icon":"mdi-plus",onClick:b},{default:d(()=>[...W[3]||(W[3]=[Q(" Add Supplier ",-1)])]),_:1}),l(U,{text:"Refresh"},{activator:d(({props:ie})=>[l(ee,Ne({rounded:"x-small",onClick:w,size:"small"},ie,{loading:n.value,class:"btn-hover-enhanced ml-1"}),{default:d(()=>[l(j,null,{default:d(()=>[...W[4]||(W[4]=[Q("mdi-refresh",-1)])]),_:1})]),_:1},16,["loading"])]),_:1})])]),_:1})]),_:1})]),_:1}),p("div",XMe,[n.value?(V(),he(X,{key:0,"no-gutters":""},{default:d(()=>[l(ne,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50vh"}},{default:d(()=>[p("div",ZMe,[l(oe,{indeterminate:"",color:"primary",size:"64"}),W[5]||(W[5]=p("div",{class:"mt-4 text-subtitle-1"},"Loading suppliers...",-1))])]),_:1})]),_:1})):r.value?(V(),he(X,{key:1,"no-gutters":""},{default:d(()=>[l(ne,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50vh"}},{default:d(()=>[p("div",eOe,[l(j,{size:"64",color:"error",class:"mb-4"},{default:d(()=>[...W[6]||(W[6]=[Q("mdi-alert-circle",-1)])]),_:1}),W[8]||(W[8]=p("div",{class:"text-h6 mb-2"},"Failed to Load Suppliers",-1)),p("div",tOe,J(r.value),1),l(ee,{color:"primary",onClick:w,"prepend-icon":"mdi-refresh"},{default:d(()=>[...W[7]||(W[7]=[Q(" Try Again ",-1)])]),_:1})])]),_:1})]),_:1})):y.value.length===0?(V(),he(X,{key:2,"no-gutters":""},{default:d(()=>[l(ne,{cols:"12",class:"d-flex justify-center align-center",style:{height:"50vh"}},{default:d(()=>[p("div",nOe,[l(j,{size:"64",color:"grey",class:"mb-4"},{default:d(()=>[...W[9]||(W[9]=[Q("mdi-cart-off",-1)])]),_:1}),W[11]||(W[11]=p("div",{class:"text-h6 mb-2"},"No Suppliers",-1)),W[12]||(W[12]=p("div",{class:"text-body-2 text-medium-emphasis mb-4"},"Add suppliers to start managing purchase invoices",-1)),l(ee,{color:"primary",onClick:b,"prepend-icon":"mdi-plus"},{default:d(()=>[...W[10]||(W[10]=[Q(" Add Supplier ",-1)])]),_:1})])]),_:1})]),_:1})):(V(!0),ye(ze,{key:3},Jt(y.value,ie=>(V(),he(z,{key:ie.id,options:{threshold:.1,rootMargin:"50px"}},{default:d(()=>[l(G,{style:{textAlign:"left"},density:"compact",class:"mb-2 mx-2 card-enhanced card-status-default",rounded:"lg"},{default:d(()=>[l(Y,{class:"pb-2"},{default:d(()=>[p("div",rOe,[p("div",aOe,[p("div",sOe,[p("div",oOe,J(ie.supplierName||"Unknown Supplier"),1),l(U,{text:"Edit Supplier"},{activator:d(({props:_e})=>[l(j,Ne({size:"x-small"},{ref_for:!0},_e,{class:"edit-icon flex-shrink-0 ml-1",onClick:Pe=>S(ie),tabindex:"-1"}),{default:d(()=>[...W[13]||(W[13]=[Q(" mdi-pencil ",-1)])]),_:1},16,["onClick"])]),_:2},1024)]),ie.gstin&&ie.gstin.trim()!==""?(V(),he(q,{key:0,color:"info",size:"small",variant:"tonal",style:{"margin-left":"2px"}},{default:d(()=>[Q(J(ie.gstin),1)]),_:2},1024)):Be("",!0)]),p("div",iOe,[l(ee,{color:"primary",variant:"outlined","prepend-icon":"mdi-file-document-plus",size:"small",onClick:_e=>k(ie.id)},{default:d(()=>[...W[14]||(W[14]=[Q(" Add Invoice ",-1)])]),_:1},8,["onClick"])])])]),_:2},1024),l(we,{class:rt({"pt-2":ie.invoices&&ie.invoices.length>0,"pa-0":!ie.invoices||ie.invoices.length===0})},{default:d(()=>[ie.address||ie.contactNumber?(V(),ye("div",lOe,[ie.address?(V(),ye("div",cOe,[W[15]||(W[15]=p("strong",null,"Address:",-1)),Q(" "+J(ie.address),1)])):Be("",!0),ie.contactNumber?(V(),ye("div",uOe,[W[16]||(W[16]=p("strong",null,"Contact:",-1)),Q(" "+J(ie.contactNumber),1)])):Be("",!0)])):Be("",!0),ie.invoices&&ie.invoices.length>0?(V(),ye("div",dOe,[ie.address||ie.contactNumber?(V(),he(ae,{key:0,class:"mb-2"})):Be("",!0),l(ge,{density:"compact",class:"batch-table"},{default:d(()=>[W[17]||(W[17]=p("thead",null,[p("tr",null,[p("th",{class:"text-left"},"Date"),p("th",{class:"text-left"},"Invoice ID"),p("th",{class:"text-left"},"Status"),p("th",{class:"text-right"},"Total Amount"),p("th",{class:"text-right"},"Batches"),p("th",{class:"text-right"},"Medicines"),p("th",{class:"text-center"},"Actions")])],-1)),p("tbody",null,[(V(!0),ye(ze,null,Jt(ie.invoices,_e=>(V(),ye("tr",{key:_e.id},[p("td",null,J(te(_e.pharmacyPurchaseInvoiceDate)),1),p("td",null,J(_e.pharmacyPurchaseInvoiceIdentifier),1),p("td",null,[l(q,{color:_e.status===2?"success":"warning",size:"small",variant:"tonal"},{default:d(()=>[Q(J(_e.statusLabel||"Draft"),1)]),_:2},1032,["color"])]),p("td",AOe,J(se(_e.totalAmount||0)),1),p("td",fOe,J(_e.batchCount||0),1),p("td",mOe,J(_e.medicineCount||0),1),p("td",hOe,[l(U,{text:"View Invoice"},{activator:d(({props:Pe})=>[l(ee,Ne({icon:"mdi-eye",size:"small",variant:"text",onClick:re=>C(_e.id),class:"mr-1"},{ref_for:!0},Pe),null,16,["onClick"])]),_:2},1024),l(U,{text:"Add Medicine Batch"},{activator:d(({props:Pe})=>[l(ee,Ne({icon:"mdi-plus",size:"small",variant:"text",onClick:re=>I(_e.id)},{ref_for:!0},Pe),null,16,["onClick"])]),_:2},1024)])]))),128))])]),_:2},1024)])):(V(),ye("div",vOe,' No purchase invoices yet. Click on "Add Invoice" to create one. '))]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024))),128))]),i.value?(V(),he(dMe,{key:1,supplier:A.value,onClose:B,onSaved:N},null,8,["supplier"])):Be("",!0),c.value?(V(),he(AMe,{key:2,supplier:A.value,onClose:T,onSaved:N},null,8,["supplier"])):Be("",!0),u.value?(V(),he(fMe,{key:3,"supplier-id":f.value,onClose:E,onSaved:_},null,8,["supplier-id"])):Be("",!0),m.value?(V(),he(QMe,{key:4,"invoice-id":m.value,onClose:F,onUpdated:_,onAddBatch:I},null,8,["invoice-id"])):Be("",!0),v.value?(V(),he(JMe,{key:5,"purchase-invoice-id":h.value,onClose:R,onSaved:M},null,8,["purchase-invoice-id"])):Be("",!0)]),_:1})}}},gOe=on(pOe,[["__scopeId","data-v-ff5199a5"]]),yOe={name:"WelcomePage",setup(){const e=au(),t=H(!0),n=H(0),r=H({first_name:"",last_name:"",registrationNumber:"",phone:"",pincode:"",specialization:""}),a=H(null),s=H(!1),o=H(null),i=[f=>!!f||"this information is required"];return fn(()=>{t.value=!0}),{showDialog:t,currentStep:n,userProfile:r,profileForm:a,isSubmitting:s,profileError:o,doctorSpecialization:UM,nameRules:Ei,regNumberRules:LAe,phoneRules:Bw,pincodeRules:VAe,specializationRules:i,submitProfile:async()=>{const{valid:f}=await a.value.validate();if(!f){o.value="Please fill in all required fields correctly.";return}s.value=!0,o.value=null;try{const m=ts.currentUser;if(!m||!m.email)throw new Error("User authentication required");const v={first_name:r.value.first_name,last_name:r.value.last_name,email:m.email,phone:r.value.phone,address:"",city:"",state:"",country:"India",pincode:r.value.pincode,registration_number:r.value.registrationNumber,specialization:r.value.specialization,premium_level:"basic",premium_end_date:null,max_devices:1,auth_id:m.uid};console.log("=== DETAILED API PAYLOAD DEBUG ==="),console.log("Full payload:",JSON.stringify(v,null,2)),console.log("Registration number:",v.registration_number),console.log("Specialization:",v.specialization),console.log("Auth ID:",v.auth_id),console.log("=====================================");const h=await m.getIdToken(),w=await ca.post("https://api.origamimed.com/users/",v,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(w.status===200||w.status===201)console.log("User profile created successfully"),n.value=1;else throw new Error("Failed to create user profile")}catch(m){if(console.error("Profile submission error:",m),m.response){const v=m.response.status;v>=400&&v<500?o.value="Please check your information and try again.":o.value="Server error. Please try again later."}else m.request?o.value="Network error. Please check your connection and try again.":o.value=m.message||"Something went wrong. Please try again."}finally{s.value=!1}},goToHome:()=>{t.value=!1,setTimeout(()=>{e.push("/home")},200)},openVideos:()=>{try{if(window.require){const{shell:f}=window.require("electron");f.openExternal("https://www.evamed.in/videos")}else window.open("https://www.evamed.in/videos","_blank")}catch(f){console.error("Error opening videos link:",f),window.open("https://www.evamed.in/videos","_blank")}}}}};function wOe(e,t,n,r,a,s){const o=D("v-toolbar-title"),i=D("v-toolbar"),c=D("v-stepper-item"),A=D("v-divider"),u=D("v-stepper-header"),f=D("v-text-field"),m=D("v-col"),v=D("v-select"),h=D("v-row"),y=D("v-form"),w=D("v-alert"),b=D("v-card-text"),B=D("v-spacer"),S=D("v-btn"),T=D("v-card-actions"),N=D("v-stepper-window-item"),k=D("v-list-item-title"),E=D("v-list-item-subtitle"),_=D("v-list-item"),C=D("v-list"),F=D("v-stepper-window"),I=D("v-stepper"),R=D("v-card"),M=D("v-dialog");return V(),ye("div",null,[l(M,{modelValue:r.showDialog,"onUpdate:modelValue":t[10]||(t[10]=te=>r.showDialog=te),persistent:"","max-width":"700px","overlay-opacity":"0.7"},{default:d(()=>[l(R,null,{default:d(()=>[l(i,{color:"primary",dark:"",flat:"",class:"brand-blue-toolbar"},{default:d(()=>[l(o,null,{default:d(()=>[...t[11]||(t[11]=[Q("Welcome to evamed!",-1)])]),_:1})]),_:1}),l(I,{modelValue:r.currentStep,"onUpdate:modelValue":t[9]||(t[9]=te=>r.currentStep=te),"alt-labels":""},{default:d(()=>[l(u,null,{default:d(()=>[l(c,{complete:r.currentStep>0,step:"1",title:"Setup Profile"},null,8,["complete"]),l(A),l(c,{step:"2",title:"Get Started"})]),_:1}),l(F,{modelValue:r.currentStep,"onUpdate:modelValue":t[8]||(t[8]=te=>r.currentStep=te)},{default:d(()=>[l(N,{value:0},{default:d(()=>[l(b,{class:"pt-4"},{default:d(()=>[t[13]||(t[13]=p("h2",{class:"text-h5 mb-3"},"Let's set up your profile with evamed.",-1)),t[14]||(t[14]=p("p",{class:"mb-4"},"Please provide your professional details to get started:",-1)),l(y,{ref:"profileForm",onSubmit:Qn(r.submitProfile,["prevent"])},{default:d(()=>[l(h,{"no-gutters":"",class:"mx-0"},{default:d(()=>[l(m,{cols:"12",md:"6",class:"pb-2 pr-md-2"},{default:d(()=>[l(f,{modelValue:r.userProfile.first_name,"onUpdate:modelValue":t[0]||(t[0]=te=>r.userProfile.first_name=te),label:"First Name",rules:r.nameRules,variant:"outlined",density:"compact",required:""},null,8,["modelValue","rules"])]),_:1}),l(m,{cols:"12",md:"6",class:"pb-2 pl-md-2"},{default:d(()=>[l(f,{modelValue:r.userProfile.last_name,"onUpdate:modelValue":t[1]||(t[1]=te=>r.userProfile.last_name=te),label:"Last Name",rules:r.nameRules,variant:"outlined",density:"compact",required:""},null,8,["modelValue","rules"])]),_:1}),l(m,{cols:"12",md:"6",class:"pb-2 pr-md-2"},{default:d(()=>[l(f,{modelValue:r.userProfile.registrationNumber,"onUpdate:modelValue":t[2]||(t[2]=te=>r.userProfile.registrationNumber=te),label:"Medical Registration Number",rules:r.regNumberRules,variant:"outlined",density:"compact",required:""},null,8,["modelValue","rules"])]),_:1}),l(m,{cols:"12",md:"6",class:"pb-2 pl-md-2"},{default:d(()=>[l(f,{modelValue:r.userProfile.phone,"onUpdate:modelValue":t[3]||(t[3]=te=>r.userProfile.phone=te),label:"Mobile Number",rules:r.phoneRules,variant:"outlined",density:"compact",required:""},null,8,["modelValue","rules"])]),_:1}),l(m,{cols:"12",md:"6",class:"pb-2 pr-md-2"},{default:d(()=>[l(f,{modelValue:r.userProfile.pincode,"onUpdate:modelValue":t[4]||(t[4]=te=>r.userProfile.pincode=te),label:"Practice Pincode",rules:r.pincodeRules,variant:"outlined",density:"compact",required:""},null,8,["modelValue","rules"])]),_:1}),l(m,{cols:"12",md:"6",class:"pb-2 pl-md-2"},{default:d(()=>[l(v,{modelValue:r.userProfile.specialization,"onUpdate:modelValue":t[5]||(t[5]=te=>r.userProfile.specialization=te),items:r.doctorSpecialization,label:"Specialization",rules:r.specializationRules,variant:"outlined",density:"compact",required:""},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1},8,["onSubmit"]),r.profileError?(V(),he(w,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-4",closable:"","onClick:close":t[6]||(t[6]=te=>r.profileError=null)},{default:d(()=>[Q(J(r.profileError),1)]),_:1})):Be("",!0),l(w,{type:"info",variant:"tonal",density:"compact",class:"mt-4",icon:"mdi-information"},{default:d(()=>[...t[12]||(t[12]=[p("small",null," This information is shared with evamed. It is used to verify your identity and ensure only licensed practitioners can access the software. ",-1)])]),_:1})]),_:1}),l(T,{class:"px-6 pb-6"},{default:d(()=>[l(B),l(S,{color:"primary",class:"btn-hover-base text-none",onClick:r.submitProfile,loading:r.isSubmitting,disabled:r.isSubmitting},{default:d(()=>[...t[15]||(t[15]=[Q(" Continue ",-1)])]),_:1},8,["onClick","loading","disabled"])]),_:1})]),_:1}),l(N,{value:1},{default:d(()=>[l(b,{class:"pt-6"},{default:d(()=>[t[21]||(t[21]=p("h2",{class:"text-h5 mb-4"},"Let's get started",-1)),t[22]||(t[22]=p("p",{class:"mb-4"},"We're excited to have you onboard! Choose how you'd like to begin:",-1)),l(C,null,{default:d(()=>[l(_,{"prepend-icon":"mdi-play-circle"},{default:d(()=>[l(k,null,{default:d(()=>[...t[16]||(t[16]=[Q("Watch demo videos",-1)])]),_:1}),l(E,null,{default:d(()=>[t[17]||(t[17]=Q("View our tutorials and take a demo at ",-1)),p("a",{href:"#",onClick:t[7]||(t[7]=Qn((...te)=>r.openVideos&&r.openVideos(...te),["prevent"])),class:"video-link"},"our website"),t[18]||(t[18]=Q(".",-1))]),_:1})]),_:1}),l(_,{"prepend-icon":"mdi-account-cog"},{default:d(()=>[l(k,null,{default:d(()=>[...t[19]||(t[19]=[Q("Setup your practice",-1)])]),_:1}),l(E,null,{default:d(()=>[...t[20]||(t[20]=[Q("Configure your doctor, clinic and print details in the Admin tab.",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),l(T,{class:"px-6 pb-6"},{default:d(()=>[l(B),l(S,{color:"primary",class:"btn-hover-base text-none",onClick:r.goToHome},{default:d(()=>[...t[23]||(t[23]=[Q(" GET STARTED ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])}const _Oe=on(yOe,[["render",wOe],["__scopeId","data-v-c92e045c"]]),bOe={class:"coming-soon-container"},xOe={class:"logo-section mb-8"},COe={class:"countdown-section mb-8"},EOe={class:"time-unit"},BOe={class:"time-value"},SOe={class:"time-label"},kOe={class:"features-preview mb-8"},IOe={class:"text-h6 font-weight-medium mb-2"},TOe={class:"text-body-2 text--secondary"},FOe={class:"email-subscription mb-8"},POe={class:"social-links"},DOe={class:"social-buttons"},UOe={__name:"coming-soon-page",setup(e){const t=H(""),n=H(!1),r=H(""),a=H("success"),s=H(new Date("2024-12-31T00:00:00")),o=H({days:0,hours:0,minutes:0,seconds:0}),i=[h=>!!h||"Email is required",h=>/.+@.+\..+/.test(h)||"Email must be valid"],c=H([{icon:"mdi-account-group",title:"Patient Management",description:"Comprehensive patient records and history tracking"},{icon:"mdi-calendar-clock",title:"Appointment Scheduling",description:"Easy appointment booking and calendar management"},{icon:"mdi-chart-line",title:"Analytics & Reports",description:"Detailed insights and reporting for your practice"}]),A=H([{name:"Twitter",icon:"mdi-twitter",url:"#"},{name:"LinkedIn",icon:"mdi-linkedin",url:"#"},{name:"Facebook",icon:"mdi-facebook",url:"#"}]),u=H("/logo.svg");let f=null;const m=()=>{const h=new Date().getTime(),y=s.value.getTime()-h;if(y<0){o.value={days:0,hours:0,minutes:0,seconds:0},clearInterval(f);return}o.value.days=Math.floor(y/(1e3*60*60*24)),o.value.hours=Math.floor(y%(1e3*60*60*24)/(1e3*60*60)),o.value.minutes=Math.floor(y%(1e3*60*60)/(1e3*60)),o.value.seconds=Math.floor(y%(1e3*60)/1e3)},v=async()=>{if(t.value){n.value=!0;try{await new Promise(h=>setTimeout(h,2e3)),r.value="Thank you! We'll notify you when we launch.",a.value="success",t.value=""}catch{r.value="Something went wrong. Please try again.",a.value="error"}finally{n.value=!1}}};return fn(()=>{m(),f=setInterval(m,1e3)}),nc(()=>{f&&clearInterval(f)}),(h,y)=>{const w=D("v-img"),b=D("v-col"),B=D("v-row"),S=D("v-card-text"),T=D("v-card"),N=D("v-icon"),k=D("v-text-field"),E=D("v-btn"),_=D("v-form"),C=D("v-alert"),F=D("v-container"),I=D("v-main"),R=D("v-app");return V(),he(R,null,{default:d(()=>[l(I,null,{default:d(()=>[p("div",bOe,[y[11]||(y[11]=p("div",{class:"background-animation"},[p("div",{class:"floating-shapes"},[p("div",{class:"shape shape-1"}),p("div",{class:"shape shape-2"}),p("div",{class:"shape shape-3"}),p("div",{class:"shape shape-4"}),p("div",{class:"shape shape-5"})])],-1)),l(F,{class:"coming-soon-content",fluid:""},{default:d(()=>[l(B,{justify:"center",align:"center",class:"fill-height"},{default:d(()=>[l(b,{cols:"12",md:"8",lg:"6",class:"text-center"},{default:d(()=>[p("div",xOe,[l(w,{src:u.value,alt:"EvaMed Logo",class:"logo mx-auto mb-4","max-width":"120","max-height":"120"},null,8,["src"]),y[2]||(y[2]=p("h1",{class:"app-name text-h3 font-weight-bold mb-2"}," EvaMed ",-1)),y[3]||(y[3]=p("p",{class:"app-tagline text-h6 text--secondary"}," Medical Practice Management ",-1))]),y[10]||(y[10]=p("div",{class:"coming-soon-message mb-8"},[p("h2",{class:"text-h2 font-weight-bold mb-4 primary--text"}," Coming Soon "),p("p",{class:"text-h5 mb-6 text--secondary"}," We're working hard to bring you something amazing. Stay tuned for updates! ")],-1)),p("div",COe,[l(T,{class:"countdown-card",elevation:"8",rounded:"xl"},{default:d(()=>[l(S,{class:"pa-8"},{default:d(()=>[y[4]||(y[4]=p("h3",{class:"text-h5 mb-6 font-weight-medium"}," Launch Countdown ",-1)),l(B,{class:"countdown-timer"},{default:d(()=>[(V(!0),ye(ze,null,Jt(o.value,(M,te)=>(V(),he(b,{cols:"3",key:te},{default:d(()=>[p("div",EOe,[p("div",BOe,J(M),1),p("div",SOe,J(te),1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),p("div",kOe,[y[5]||(y[5]=p("h3",{class:"text-h5 mb-6 font-weight-medium"}," What's Coming ",-1)),l(B,null,{default:d(()=>[(V(!0),ye(ze,null,Jt(c.value,M=>(V(),he(b,{cols:"12",md:"4",key:M.title},{default:d(()=>[l(T,{class:"feature-card",elevation:"4",rounded:"lg"},{default:d(()=>[l(S,{class:"text-center pa-6"},{default:d(()=>[l(N,{icon:M.icon,size:"48",class:"mb-4 primary--text"},null,8,["icon"]),p("h4",IOe,J(M.title),1),p("p",TOe,J(M.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),p("div",FOe,[l(T,{class:"subscription-card",elevation:"4",rounded:"xl"},{default:d(()=>[l(S,{class:"pa-8"},{default:d(()=>[y[7]||(y[7]=p("h3",{class:"text-h5 mb-4 font-weight-medium"}," Get Notified ",-1)),y[8]||(y[8]=p("p",{class:"text-body-1 mb-6 text--secondary"}," Be the first to know when we launch! ",-1)),l(_,{onSubmit:Qn(v,["prevent"]),ref:"emailForm"},{default:d(()=>[l(B,null,{default:d(()=>[l(b,{cols:"12",md:"8"},{default:d(()=>[l(k,{modelValue:t.value,"onUpdate:modelValue":y[0]||(y[0]=M=>t.value=M),type:"email",label:"Enter your email address",variant:"outlined",rules:i,required:"","hide-details":"auto"},null,8,["modelValue"])]),_:1}),l(b,{cols:"12",md:"4"},{default:d(()=>[l(E,{type:"submit",color:"primary",size:"large",block:"",loading:n.value,disabled:!t.value},{default:d(()=>[...y[6]||(y[6]=[Q(" Notify Me ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},512),r.value?(V(),he(C,{key:0,type:a.value,class:"mt-4",dismissible:"","onClick:close":y[1]||(y[1]=M=>r.value="")},{default:d(()=>[Q(J(r.value),1)]),_:1},8,["type"])):Be("",!0)]),_:1})]),_:1})]),p("div",POe,[y[9]||(y[9]=p("h4",{class:"text-h6 mb-4"},"Follow Us",-1)),p("div",DOe,[(V(!0),ye(ze,null,Jt(A.value,M=>(V(),he(E,{key:M.name,icon:M.icon,href:M.url,target:"_blank",variant:"text",size:"large",class:"mx-2"},null,8,["icon","href"]))),128))])])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})}}},ROe=on(UOe,[["__scopeId","data-v-0b406f72"]]),NOe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z'%20/%3e%3c/svg%3e",LOe={__name:"mobile-home",setup(e){const t=H("queue"),n=H(!1),r=a=>{t.value=a,setTimeout(()=>{n.value=!1},150)};return(a,s)=>{const o=D("v-app-bar-title"),i=D("v-spacer"),c=D("v-icon"),A=D("v-btn"),u=D("v-app-bar"),f=D("v-card-title"),m=D("v-col"),v=D("v-row"),h=D("v-card"),y=D("v-list-item-title"),w=D("v-list-item"),b=D("v-list"),B=D("v-navigation-drawer"),S=D("v-main");return V(),ye(ze,null,[l(u,{density:"compact",color:"primary",elevation:"2",class:"app-header"},{default:d(()=>[l(o,{class:"text-h6 font-weight-medium"},{default:d(()=>[...s[5]||(s[5]=[Q(" EvaMed ",-1)])]),_:1}),l(i),l(A,{icon:"",variant:"text",onClick:s[0]||(s[0]=Qn(T=>n.value=!n.value,["stop"])),class:"btn-hover-base"},{default:d(()=>[l(c,null,{default:d(()=>[...s[6]||(s[6]=[p("img",{src:NOe,alt:"Menu",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1}),l(B,{modelValue:n.value,"onUpdate:modelValue":s[4]||(s[4]=T=>n.value=T),location:"bottom",temporary:"",class:"navigation-drawer",height:"280"},{default:d(()=>[l(h,{rounded:"lg",color:"surfaceContainer",class:"navigation-card"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(m,{cols:"12"},{default:d(()=>[l(h,{rounded:"0",class:"pa-1",color:"surfaceContainerHigh"},{default:d(()=>[l(v,{"no-gutters":""},{default:d(()=>[l(m,{cols:"11"},{default:d(()=>[l(f,{class:"pa-0 pl-2"},{default:d(()=>[...s[7]||(s[7]=[Q("Navigation",-1)])]),_:1})]),_:1}),l(m,{cols:"1"},{default:d(()=>[l(A,{icon:"",size:"x-small",onClick:s[1]||(s[1]=T=>n.value=!1)},{default:d(()=>[l(c,null,{default:d(()=>[...s[8]||(s[8]=[p("img",{src:hl,alt:"close",style:{filter:"invert(1)"}},null,-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(v,{"no-gutters":""},{default:d(()=>[l(m,{cols:"12"},{default:d(()=>[l(h,{flat:"",class:"ma-2",color:"surfaceContainer"},{default:d(()=>[l(b,{class:"nav-list"},{default:d(()=>[l(w,{class:rt([{"active-item":t.value==="home"},"nav-item btn-hover-base"]),onClick:s[2]||(s[2]=T=>r("home")),ripple:""},{prepend:d(()=>[l(c,{color:t.value==="home"?"primary":"grey-darken-1",class:"nav-icon"},{default:d(()=>[...s[9]||(s[9]=[Q(" mdi-home-outline ",-1)])]),_:1},8,["color"])]),default:d(()=>[l(y,{class:rt([{"active-title":t.value==="home"},"nav-title"])},{default:d(()=>[...s[10]||(s[10]=[Q(" Home ",-1)])]),_:1},8,["class"])]),_:1},8,["class"]),l(w,{class:rt([{"active-item":t.value==="queue"},"nav-item btn-hover-base"]),onClick:s[3]||(s[3]=T=>r("queue")),ripple:""},{prepend:d(()=>[l(c,{color:t.value==="queue"?"primary":"grey-darken-1",class:"nav-icon"},{default:d(()=>[...s[11]||(s[11]=[Q(" mdi-clipboard-list-outline ",-1)])]),_:1},8,["color"])]),default:d(()=>[l(y,{class:rt([{"active-title":t.value==="queue"},"nav-title"])},{default:d(()=>[...s[12]||(s[12]=[Q(" Queue ",-1)])]),_:1},8,["class"])]),_:1},8,["class"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(S,{class:"pt-0"},{default:d(()=>[t.value==="home"?(V(),ye(ze,{key:0},[Q(" This is home ")],64)):Be("",!0),t.value==="queue"?(V(),he(KM,{key:1})):Be("",!0)]),_:1})],64)}}},VOe=on(LOe,[["__scopeId","data-v-dd4f3937"]]),MOe={class:"d-flex justify-center align-center",style:{height:"100%"}},OOe={class:"text-center"},QOe={key:1,class:"d-flex justify-center align-center pa-4",style:{"min-height":"50vh"}},HOe={class:"text-center"},KOe={class:"d-flex justify-center align-center pa-4",style:{"min-height":"30vh"}},GOe={class:"text-center"},zOe={__name:"patient-detail-mobile",setup(e){const t=zm(),n=au(),r=H(!0),a=H(!1),s=H(null),o=H(0),i=H(!1),c=H(""),A=H("info"),u=H(4e3),f=H(navigator.onLine),m=H(t.params.id),v=H({}),h=H([]),y=H({}),w=(O,W="Unknown")=>{console.error(`Mobile Patient Detail Error (${W}):`,O),O?.code==="NETWORK_ERROR"||O?.response?.status>=500||!O?.response||O?.message?.includes("timeout")?s.value=`${W} error. Please check your connection and try again.`:(i.value=!0,c.value=`${W}: ${O?.response?.data?.message||O.message||"Unknown error occurred"}`,A.value="error")},b=O=>{i.value=!0,c.value=O,A.value="success",u.value=3e3},B=O=>{i.value=!0,c.value=O,A.value="warning",u.value=5e3},S=Z(()=>{try{return v.value?.name||"Unknown Patient"}catch(O){return console.warn("Error accessing patient name:",O),"Unknown Patient"}}),T=(O,W=15e3)=>Promise.race([O,new Promise((le,K)=>setTimeout(()=>K(new Error("Request timeout")),W))]),N=()=>{try{window.history.length>1?n.back():n.push("/patients")}catch(O){console.error("Navigation error:",O),n.push("/patients")}},k=async()=>{try{if(!m.value)throw new Error("Patient ID is required");const O=await T(nk(m.value));if(!O?.data)throw new Error("No patient data received");v.value=Gn.cloneDeep(O.data),console.log("Patient details fetched:",v.value)}catch(O){w(O,"Failed to fetch patient details"),v.value={name:"Unknown Patient"}}},E=async()=>{try{if(!v.value?.id)throw new Error("Patient ID is required for consultations");const O=await T(oy(v.value.id));if(!O?.data){console.warn("No consultation data received"),h.value=[];return}h.value=Gn.cloneDeep(O.data),console.log("Consultations fetched:",h.value)}catch(O){w(O,"Failed to fetch consultations"),h.value=[]}},_=async()=>{try{await n.isReady();const O=t.params.id;if(!O)throw new Error("Patient ID not found in URL");if(!/^[a-zA-Z0-9-]+$/.test(O))throw new Error("Invalid patient ID format");m.value=O,console.log("Patient ID extracted from URL:",m.value)}catch(O){w(O,"Invalid URL parameters"),n.push("/patients")}},C=Z(()=>{try{return!Array.isArray(h.value)||h.value.length===0?!1:h.value.some(O=>{try{if(!O?.createdAt)return console.warn("Consultation missing createdAt:",O),!1;const W=ls(O.createdAt);return console.log("Created Date",O.createdAt,"Checking creation date in IST:",W,"against today:",ux),W===ux}catch(W){return console.warn("Error processing consultation date:",W),!1}})}catch(O){return console.error("Error checking consultation presence:",O),!1}}),F=async()=>{try{if(C.value){const O=h.value.find(W=>{try{return W?.createdAt&&ls(W.createdAt)===ux}catch(le){return console.warn("Error processing consultation for selection:",le),!1}});y.value=O||{id:"0"},O?console.log("Today's consultation selected:",O):console.warn("Today's consultation found but could not be selected")}else console.log("No consultation found for today"),y.value={id:"0"}}catch(O){console.error("Error selecting today's consultation:",O),y.value={id:"0"}}},I=async()=>{if(!a.value)try{a.value=!0,await Promise.allSettled([k(),E()]),await F(),o.value+=1,b("Data refreshed successfully")}catch(O){w(O,"Failed to refresh data")}finally{a.value=!1}},R=O=>{console.error("Consultation component error:",O),w(O,"Consultation loading failed"),o.value+=1},M=()=>{f.value=!0,b("Connection restored"),setTimeout(()=>{I()},1e3)},te=()=>{f.value=!1,B("You are now offline. Data may not be current.")},se=O=>{O.touches.length>1&&O.preventDefault()};return Al(async()=>{try{r.value=!0,console.log("Patient detail mobile page initializing..."),await _(),await k(),await E(),await F()}catch(O){w(O,"Failed to initialize page")}finally{r.value=!1}}),fn(()=>{try{window.addEventListener("online",M),window.addEventListener("offline",te),document.addEventListener("touchstart",se,{passive:!1});const O=document.querySelector("meta[name=viewport]");O&&O.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"),console.log("Mobile patient detail page mounted successfully")}catch(O){console.error("Error setting up mobile optimizations:",O)}}),Br(()=>{try{window.removeEventListener("online",M),window.removeEventListener("offline",te),document.removeEventListener("touchstart",se),r.value=!1,a.value=!1,s.value=null,i.value=!1,console.log("Mobile patient detail cleanup completed")}catch(O){console.error("Cleanup error:",O)}}),Ge(()=>t.params.id,async O=>{O&&O!==m.value&&(m.value=O,await I())}),(O,W)=>{const le=D("v-alert"),K=D("v-icon"),ee=D("v-app-bar-nav-icon"),j=D("v-toolbar-title"),U=D("v-app-bar"),G=D("v-progress-circular"),ne=D("v-card"),X=D("v-main"),oe=D("v-spacer"),q=D("v-btn"),Y=D("v-snackbar");return V(),ye(ze,null,[s.value?(V(),he(le,{key:0,type:"error",variant:"tonal",closable:"","onClick:close":W[0]||(W[0]=ae=>s.value=null),class:"ma-2",density:"compact"},{default:d(()=>[Q(J(s.value),1)]),_:1})):Be("",!0),r.value?(V(),ye(ze,{key:1},[l(U,{density:"compact"},{default:d(()=>[l(ee,null,{default:d(()=>[l(K,{onClick:N,icon:"mdi-chevron-left",size:"large"})]),_:1}),l(j,{class:"text-h6"},{default:d(()=>[...W[3]||(W[3]=[Q("Loading...",-1)])]),_:1})]),_:1}),l(X,{class:"pt-0"},{default:d(()=>[l(ne,{color:"surfaceContainer",flat:"",style:{height:"100vh"}},{default:d(()=>[p("div",MOe,[p("div",OOe,[l(G,{indeterminate:"",color:"primary",size:"64"}),W[4]||(W[4]=p("div",{class:"mt-4 text-subtitle-1"},"Loading patient details...",-1))])])]),_:1})]),_:1})],64)):s.value?Be("",!0):(V(),ye(ze,{key:2},[l(U,{density:"compact",class:"mobile-app-bar"},{default:d(()=>[l(ee,null,{default:d(()=>[l(K,{onClick:N,icon:"mdi-chevron-left",size:"large"})]),_:1}),l(j,{class:"text-h6 patient-title"},{default:d(()=>[Q(J(S.value),1)]),_:1}),l(oe),l(q,{icon:"",onClick:I,loading:a.value,disabled:a.value,size:"small"},{default:d(()=>[l(K,null,{default:d(()=>[...W[5]||(W[5]=[Q("mdi-refresh",-1)])]),_:1})]),_:1},8,["loading","disabled"])]),_:1}),l(X,{class:"pt-0"},{default:d(()=>[l(ne,{color:"surfaceContainer",flat:"",class:"mobile-content"},{default:d(()=>[f.value?Be("",!0):(V(),he(le,{key:0,type:"warning",variant:"tonal",density:"compact",class:"ma-2"},{default:d(()=>[...W[6]||(W[6]=[Q(" You are offline. Data may not be current. ",-1)])]),_:1})),!y.value?.id||y.value.id==="0"?(V(),ye("div",QOe,[p("div",HOe,[l(K,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:d(()=>[...W[7]||(W[7]=[Q("mdi-calendar-blank",-1)])]),_:1}),W[9]||(W[9]=p("div",{class:"text-h6 mb-2"},"No consultation today",-1)),W[10]||(W[10]=p("div",{class:"text-body-2 text-grey"},"No consultation has been created for today.",-1)),l(q,{variant:"outlined",onClick:I,class:"mt-4",loading:a.value},{default:d(()=>[...W[8]||(W[8]=[Q(" Refresh ",-1)])]),_:1},8,["loading"])])])):(V(),he(xC,{key:2},{default:d(()=>[(V(),he(xO,{consultation:y.value,patient:v.value,key:`${y.value.id}-${o.value}`,onError:R},null,8,["consultation","patient"]))]),fallback:d(()=>[p("div",KOe,[p("div",GOe,[l(G,{indeterminate:"",color:"primary",size:"48"}),W[11]||(W[11]=p("div",{class:"mt-3 text-body-2"},"Loading consultation...",-1))])])]),_:1}))]),_:1})]),_:1})],64)),l(Y,{modelValue:i.value,"onUpdate:modelValue":W[2]||(W[2]=ae=>i.value=ae),color:A.value,timeout:u.value,location:"bottom",class:"mobile-snackbar"},{actions:d(()=>[l(q,{variant:"text",size:"small",onClick:W[1]||(W[1]=ae=>i.value=!1)},{default:d(()=>[...W[12]||(W[12]=[Q(" Close ",-1)])]),_:1})]),default:d(()=>[Q(J(c.value)+" ",1)]),_:1},8,["modelValue","color","timeout"])],64)}}},$Oe=on(zOe,[["__scopeId","data-v-fd53b52b"]]),WOe=[{path:"/",redirect:"/home",meta:{requiresAuth:!1}},{name:"MobileHome",component:VOe,path:"/mobile",meta:{requiresAuth:!1}},{name:"PatientDetailMobile",component:$Oe,path:"/mobile/:id",meta:{requiresAuth:!1}},{name:"WelcomePage",component:_Oe,path:"/welcome",meta:{requiresAuth:!1}},{name:"ComingSoonPage",component:ROe,path:"/coming-soon",meta:{requiresAuth:!1}},{name:"HomePage",component:Gwe,path:"/home/:tab?",meta:{requiresAuth:!1}},{name:"PatientsLandingPage",component:$_e,path:"/patients",meta:{requiresAuth:!1},children:[{path:":id",name:"PatientDetailPage",component:lSe,meta:{requiresAuth:!1}}]},{name:"TasksPage",component:YNe,path:"/tasks",meta:{requiresAuth:!1}},{name:"AdminPage",component:hSe,path:"/admin",meta:{requiresAuth:!1}},{name:"DataPage",component:pRe,path:"/data",meta:{requiresAuth:!1}},{name:"ResearchPage",component:cNe,path:"/research",meta:{requiresAuth:!1}},{name:"PaymentsPage",component:gLe,path:"/payments",meta:{requiresAuth:!1}},{name:"PharmacyPurchasePage",component:gOe,path:"/pharmacy/purchase",meta:{requiresAuth:!1}},{name:"PharmacyQueuePage",component:YVe,path:"/pharmacy/queue",meta:{requiresAuth:!1}},{name:"PharmacyInventoryPage",component:uMe,path:"/pharmacy/inventory",meta:{requiresAuth:!1}}],Rl=lre({history:One(),routes:WOe});Rl.beforeEach((e,t,n)=>{console.log("Navigation guard triggered:",{to:e.path,from:t.path,requiresAuth:e.matched.some(i=>i.meta.requiresAuth),isAuthenticated:Ns.getters["auth/isAuthenticated"],storeState:Ns.state.auth});const r=t.query.server||e.query.server,a=t.query.endpoint||e.query.endpoint;if((r||a)&&!e.query.server&&!e.query.endpoint)return console.log("Preserving query params:",{serverParam:r,endpointParam:a}),n({...e,query:{...e.query,...r&&{server:r},...a&&{endpoint:a}}});const s=e.matched.some(i=>i.meta.requiresAuth),o=Ns.getters["auth/isAuthenticated"];console.log("Auth check:",{requiresAuth:s,isAuthenticated:o}),console.log("Navigation allowed to:",e.path),n()});const jOe=et({...Gt(),...cr(r5(),["fullHeight"]),...Hn()},"VApp"),JOe=mt()({name:"VApp",props:jOe(),setup(e,t){let{slots:n}=t;const r=or(e),{layoutClasses:a,getLayoutItem:s,items:o,layoutRef:i}=s5({...e,fullHeight:!0}),{rtlClasses:c}=Ea();return yt(()=>p("div",{ref:i,class:rt(["v-application",r.themeClasses.value,a.value,c.value,e.class]),style:It([e.style])},[p("div",{class:"v-application__wrap"},[n.default?.()])])),{getLayoutItem:s,items:o,theme:r}}}),gn=et({tag:{type:[String,Object,Function],default:"div"}},"tag"),xH=et({text:String,...Gt(),...gn()},"VToolbarTitle"),nI=mt()({name:"VToolbarTitle",props:xH(),setup(e,t){let{slots:n}=t;return yt(()=>{const r=!!(n.default||n.text||e.text);return l(e.tag,{class:rt(["v-toolbar-title",e.class]),style:It(e.style)},{default:()=>[r&&p("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,n.default?.()])]})}),{}}}),qOe=et({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function ri(e,t,n){return mt()({name:e,props:qOe({mode:n,origin:t}),setup(r,a){let{slots:s}=a;const o={onBeforeEnter(i){r.origin&&(i.style.transformOrigin=r.origin)},onLeave(i){if(r.leaveAbsolute){const{offsetTop:c,offsetLeft:A,offsetWidth:u,offsetHeight:f}=i;i._transitionInitialStyles={position:i.style.position,top:i.style.top,left:i.style.left,width:i.style.width,height:i.style.height},i.style.position="absolute",i.style.top=`${c}px`,i.style.left=`${A}px`,i.style.width=`${u}px`,i.style.height=`${f}px`}r.hideOnLeave&&i.style.setProperty("display","none","important")},onAfterLeave(i){if(r.leaveAbsolute&&i?._transitionInitialStyles){const{position:c,top:A,left:u,width:f,height:m}=i._transitionInitialStyles;delete i._transitionInitialStyles,i.style.position=c||"",i.style.top=A||"",i.style.left=u||"",i.style.width=f||"",i.style.height=m||""}}};return()=>{const i=r.group?uS:td;return fl(i,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:o},s.default)}}})}function CH(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return mt()({name:e,props:{mode:{type:String,default:n},disabled:{type:Boolean,default:zl()},group:Boolean},setup(r,a){let{slots:s}=a;const o=r.group?uS:td;return()=>fl(o,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},s.default)}})}function EH(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=fo(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const i=o._initialStyle;if(!i)return;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const c=`${o[r]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=i.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=c})},onAfterEnter:s,onEnterCancelled:s,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[r]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:a,onLeaveCancelled:a};function a(o){e&&o._parent&&o._parent.classList.remove(e),s(o)}function s(o){if(!o._initialStyle)return;const i=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,i!=null&&(o.style[n]=i),delete o._initialStyle}}const YOe=et({target:[Object,Array]},"v-dialog-transition"),jx=new WeakMap,Yw=mt()({name:"VDialogTransition",props:YOe(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(a){a.style.pointerEvents="none",a.style.visibility="hidden"},async onEnter(a,s){await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),a.style.visibility="";const o=yR(e.target,a),{x:i,y:c,sx:A,sy:u,speed:f}=o;if(jx.set(a,o),zl())Fc(a,[{opacity:0},{}],{duration:125*f,easing:hP}).finished.then(()=>s());else{const m=Fc(a,[{transform:`translate(${i}px, ${c}px) scale(${A}, ${u})`,opacity:0},{}],{duration:225*f,easing:hP});gR(a)?.forEach(v=>{Fc(v,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*f,easing:pv})}),m.finished.then(()=>s())}},onAfterEnter(a){a.style.removeProperty("pointer-events")},onBeforeLeave(a){a.style.pointerEvents="none"},async onLeave(a,s){await new Promise(m=>requestAnimationFrame(m));let o;!jx.has(a)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?o=yR(e.target,a):o=jx.get(a);const{x:i,y:c,sx:A,sy:u,speed:f}=o;zl()?Fc(a,[{},{opacity:0}],{duration:85*f,easing:vP}).finished.then(()=>s()):(Fc(a,[{},{transform:`translate(${i}px, ${c}px) scale(${A}, ${u})`,opacity:0}],{duration:125*f,easing:vP}).finished.then(()=>s()),gR(a)?.forEach(v=>{Fc(v,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*f,easing:pv})}))},onAfterLeave(a){a.style.removeProperty("pointer-events")}};return()=>e.target?l(td,Ne({name:"dialog-transition"},r,{css:!1}),n):l(td,{name:"dialog-transition"},n)}});function gR(e){const t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list")?.children;return t&&[...t]}function yR(e,t){const n=U6(e),r=vS(t),[a,s]=getComputedStyle(t).transformOrigin.split(" ").map(b=>parseFloat(b)),[o,i]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let c=n.left+n.width/2;o==="left"||i==="left"?c-=n.width/2:(o==="right"||i==="right")&&(c+=n.width/2);let A=n.top+n.height/2;o==="top"||i==="top"?A-=n.height/2:(o==="bottom"||i==="bottom")&&(A+=n.height/2);const u=n.width/r.width,f=n.height/r.height,m=Math.max(1,u,f),v=u/m||0,h=f/m||0,y=r.width*r.height/(window.innerWidth*window.innerHeight),w=y>.12?Math.min(1.5,(y-.12)*10+1):1;return{x:c-(a+r.left),y:A-(s+r.top),sx:v,sy:h,speed:w}}const XOe=ri("fab-transition","center center","out-in"),ZOe=ri("dialog-bottom-transition"),eQe=ri("dialog-top-transition"),Hv=ri("fade-transition"),rI=ri("scale-transition"),tQe=ri("scroll-x-transition"),nQe=ri("scroll-x-reverse-transition"),rQe=ri("scroll-y-transition"),aQe=ri("scroll-y-reverse-transition"),sQe=ri("slide-x-transition"),oQe=ri("slide-x-reverse-transition"),aI=ri("slide-y-transition"),iQe=ri("slide-y-reverse-transition"),Xw=CH("expand-transition",EH()),sI=CH("expand-x-transition",EH("",!0)),lQe=et({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Cn=mt(!1)({name:"VDefaultsProvider",props:lQe(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:a,reset:s,root:o,scoped:i}=VA(e);return jr(r,{reset:s,root:o,scoped:i,disabled:a}),()=>n.default?.()}}),Aa=et({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function fa(e){return{dimensionStyles:Z(()=>{const n={},r=Mt(e.height),a=Mt(e.maxHeight),s=Mt(e.maxWidth),o=Mt(e.minHeight),i=Mt(e.minWidth),c=Mt(e.width);return r!=null&&(n.height=r),a!=null&&(n.maxHeight=a),s!=null&&(n.maxWidth=s),o!=null&&(n.minHeight=o),i!=null&&(n.minWidth=i),c!=null&&(n.width=c),n})}}function cQe(e){return{aspectStyles:Z(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const BH=et({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Gt(),...Aa()},"VResponsive"),qE=mt()({name:"VResponsive",props:BH(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=cQe(e),{dimensionStyles:a}=fa(e);return yt(()=>p("div",{class:rt(["v-responsive",{"v-responsive--inline":e.inline},e.class]),style:It([a.value,e.style])},[p("div",{class:"v-responsive__sizer",style:It(r.value)},null),n.additional?.(),n.default&&p("div",{class:rt(["v-responsive__content",e.contentClass])},[n.default()])])),{}}});function oI(e){return hS(()=>{const{class:t,style:n}=uQe(e);return{colorClasses:t,colorStyles:n}})}function os(e){const{colorClasses:t,colorStyles:n}=oI(()=>({text:Os(e)}));return{textColorClasses:t,textColorStyles:n}}function lr(e){const{colorClasses:t,colorStyles:n}=oI(()=>({background:Os(e)}));return{backgroundColorClasses:t,backgroundColorStyles:n}}function uQe(e){const t=Os(e),n=[],r={};if(t.background)if(DC(t.background)){if(r.backgroundColor=t.background,!t.text&&tee(t.background)){const a=Jo(t.background);if(a.a==null||a.a===1){const s=G6(a);r.color=s,r.caretColor=s}}}else n.push(`bg-${t.background}`);return t.text&&(DC(t.text)?(r.color=t.text,r.caretColor=t.text):n.push(`text-${t.text}`)),{class:n,style:r}}const Or=et({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function qr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rc();return{roundedClasses:Z(()=>{const r=xa(e)?e.value:e.rounded,a=xa(e)?!1:e.tile,s=[];if(a||r===!1)s.push("rounded-0");else if(r===!0||r==="")s.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const o of String(r).split(" "))s.push(`rounded-${o}`);return s})}}const iu=et({transition:{type:null,default:"fade-transition",validator:e=>e!==!0}},"transition"),Vs=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:a,group:s,...o}=e,{component:i=s?uS:td,...c}=vv(r)?r:{};let A;return vv(r)?A=Ne(c,LZ({disabled:a,group:s}),o):A=Ne({name:a||!r?"":r},o),fl(i,A,n)};function dQe(e,t){if(!dS)return;const n=t.modifiers||{},r=t.value,{handler:a,options:s}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;const A=e._observe?.[t.instance.$.uid];if(!A)return;const u=i.some(f=>f.isIntersecting);a&&(!n.quiet||A.init)&&(!n.once||u||A.init)&&a(u,i,c),u&&n.once?SH(e,t):A.init=!0},s);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function SH(e,t){const n=e._observe?.[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const cl={mounted:dQe,unmounted:SH},kH=et({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...BH(),...Gt(),...Or(),...iu()},"VImg"),eu=mt()({name:"VImg",directives:{vIntersect:cl},props:kH(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:a,backgroundColorStyles:s}=lr(()=>e.color),{roundedClasses:o}=qr(e),i=na("VImg"),c=kt(""),A=H(),u=kt(e.eager?"loading":"idle"),f=kt(),m=kt(),v=Z(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),h=Z(()=>v.value.aspect||f.value/m.value||0);Ge(()=>e.src,()=>{y(u.value!=="idle")}),Ge(h,(R,M)=>{!R&&M&&A.value&&T(A.value)}),Al(()=>y());function y(R){if(!(e.eager&&R)&&!(dS&&!R&&!e.eager)){if(u.value="loading",v.value.lazySrc){const M=new Image;M.src=v.value.lazySrc,T(M,null)}v.value.src&&An(()=>{n("loadstart",A.value?.currentSrc||v.value.src),setTimeout(()=>{if(!i.isUnmounted)if(A.value?.complete){if(A.value.naturalWidth||b(),u.value==="error")return;h.value||T(A.value,null),u.value==="loading"&&w()}else h.value||T(A.value),B()})})}}function w(){i.isUnmounted||(B(),T(A.value),u.value="loaded",n("load",A.value?.currentSrc||v.value.src))}function b(){i.isUnmounted||(u.value="error",n("error",A.value?.currentSrc||v.value.src))}function B(){const R=A.value;R&&(c.value=R.currentSrc||R.src)}let S=-1;Br(()=>{clearTimeout(S)});function T(R){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const te=()=>{if(clearTimeout(S),i.isUnmounted)return;const{naturalHeight:se,naturalWidth:O}=R;se||O?(f.value=O,m.value=se):!R.complete&&u.value==="loading"&&M!=null?S=window.setTimeout(te,M):(R.currentSrc.endsWith(".svg")||R.currentSrc.startsWith("data:image/svg+xml"))&&(f.value=1,m.value=1)};te()}const N=Qe(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),k=()=>{if(!v.value.src||u.value==="idle")return null;const R=p("img",{class:rt(["v-img__img",N.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:v.value.src,srcset:v.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:A,onLoad:w,onError:b},null),M=r.sources?.();return l(Vs,{transition:e.transition,appear:!0},{default:()=>[Tr(M?p("picture",{class:"v-img__picture"},[M,R]):R,[[Po,u.value==="loaded"]])]})},E=()=>l(Vs,{transition:e.transition},{default:()=>[v.value.lazySrc&&u.value!=="loaded"&&p("img",{class:rt(["v-img__img","v-img__img--preload",N.value]),style:{objectPosition:e.position},crossorigin:e.crossorigin,src:v.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),_=()=>r.placeholder?l(Vs,{transition:e.transition,appear:!0},{default:()=>[(u.value==="loading"||u.value==="error"&&!r.error)&&p("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,C=()=>r.error?l(Vs,{transition:e.transition,appear:!0},{default:()=>[u.value==="error"&&p("div",{class:"v-img__error"},[r.error()])]}):null,F=()=>e.gradient?p("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,I=kt(!1);{const R=Ge(h,M=>{M&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{I.value=!0})}),R())})}return yt(()=>{const R=qE.filterProps(e);return Tr(l(qE,Ne({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!I.value},a.value,o.value,e.class],style:[{width:Mt(e.width==="auto"?f.value:e.width)},s.value,e.style]},R,{aspectRatio:h.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>p(ze,null,[l(k,null,null),l(E,null,null),l(F,null,null),l(_,null,null),l(C,null,null)]),default:r.default}),[[cl,{handler:y,options:e.options},null,{once:!0}]])}),{currentSrc:c,image:A,state:u,naturalWidth:f,naturalHeight:m}}}),vo=et({border:[Boolean,Number,String]},"border");function No(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rc();return{borderClasses:Z(()=>{const r=e.border;return r===!0||r===""?`${t}--border`:typeof r=="string"||r===0?String(r).split(" ").map(a=>`border-${a}`):[]})}}const Ba=et({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Wa(e){return{elevationClasses:Qe(()=>{const n=xa(e)?e.value:e.elevation;return n==null?[]:[`elevation-${n}`]})}}const AQe=[null,"prominent","default","comfortable","compact"],IH=et({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>AQe.includes(e)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...vo(),...Gt(),...Ba(),...Or(),...gn({tag:"header"}),...Hn()},"VToolbar"),YE=mt()({name:"VToolbar",props:IH(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=lr(()=>e.color),{borderClasses:s}=No(e),{elevationClasses:o}=Wa(e),{roundedClasses:i}=qr(e),{themeClasses:c}=or(e),{rtlClasses:A}=Ea(),u=kt(e.extended===null?!!n.extension?.():e.extended),f=Z(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),m=Z(()=>u.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return jr({VBtn:{variant:"text"}}),yt(()=>{const v=!!(e.title||n.title),h=!!(n.image||e.image),y=n.extension?.();return u.value=e.extended===null?!!y:e.extended,l(e.tag,{class:rt(["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,s.value,o.value,i.value,c.value,A.value,e.class]),style:It([a.value,e.style])},{default:()=>[h&&p("div",{key:"image",class:"v-toolbar__image"},[n.image?l(Cn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):l(eu,{key:"image-img",cover:!0,src:e.image},null)]),l(Cn,{defaults:{VTabs:{height:Mt(f.value)}}},{default:()=>[p("div",{class:"v-toolbar__content",style:{height:Mt(f.value)}},[n.prepend&&p("div",{class:"v-toolbar__prepend"},[n.prepend?.()]),v&&l(nI,{key:"title",text:e.title},{text:n.title}),n.default?.(),n.append&&p("div",{class:"v-toolbar__append"},[n.append?.()])])]}),l(Cn,{defaults:{VTabs:{height:Mt(m.value)}}},{default:()=>[l(Xw,null,{default:()=>[u.value&&p("div",{class:"v-toolbar__extension",style:{height:Mt(m.value)}},[y])]})]})]})}),{contentHeight:f,extensionHeight:m}}}),fQe=et({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function mQe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0,a=0;const s=H(null),o=kt(0),i=kt(0),c=kt(0),A=kt(!1),u=kt(!1),f=Z(()=>Number(e.scrollThreshold)),m=Z(()=>Er((f.value-o.value)/f.value||0)),v=()=>{const h=s.value;if(!h||n&&!n.value)return;r=o.value,o.value="window"in h?h.pageYOffset:h.scrollTop;const y=h instanceof Window?document.documentElement.scrollHeight:h.scrollHeight;if(a!==y){a=y;return}u.value=o.value<r,c.value=Math.abs(o.value-f.value)};return Ge(u,()=>{i.value=i.value||o.value}),Ge(A,()=>{i.value=0}),fn(()=>{Ge(()=>e.scrollTarget,h=>{const y=h?document.querySelector(h):window;y&&y!==s.value&&(s.value?.removeEventListener("scroll",v),s.value=y,s.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),Br(()=>{s.value?.removeEventListener("scroll",v)}),n&&Ge(n,v,{immediate:!0}),{scrollThreshold:f,currentScroll:o,currentThreshold:c,isScrollActive:A,scrollRatio:m,isScrollingUp:u,savedScroll:i}}function JA(){const e=kt(!1);return fn(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:Qe(()=>e.value?void 0:{transition:"none !important"}),isBooted:pA(e)}}const hQe=et({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...IH(),...OA(),...fQe(),height:{type:[Number,String],default:64}},"VAppBar"),vQe=mt()({name:"VAppBar",props:hQe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=H(),a=en(e,"modelValue"),s=Z(()=>{const B=new Set(e.scrollBehavior?.split(" ")??[]);return{hide:B.has("hide"),fullyHide:B.has("fully-hide"),inverted:B.has("inverted"),collapse:B.has("collapse"),elevate:B.has("elevate"),fadeImage:B.has("fade-image")}}),o=Z(()=>{const B=s.value;return B.hide||B.fullyHide||B.inverted||B.collapse||B.elevate||B.fadeImage||!a.value}),{currentScroll:i,scrollThreshold:c,isScrollingUp:A,scrollRatio:u}=mQe(e,{canScroll:o}),f=Qe(()=>s.value.hide||s.value.fullyHide),m=Z(()=>e.collapse||s.value.collapse&&(s.value.inverted?u.value>0:u.value===0)),v=Z(()=>e.flat||s.value.fullyHide&&!a.value||s.value.elevate&&(s.value.inverted?i.value>0:i.value===0)),h=Z(()=>s.value.fadeImage?s.value.inverted?1-u.value:u.value:void 0),y=Z(()=>{if(s.value.hide&&s.value.inverted)return 0;const B=r.value?.contentHeight??0,S=r.value?.extensionHeight??0;return f.value?i.value<c.value||s.value.fullyHide?B+S:B:B+S});hs(()=>!!e.scrollBehavior,()=>{Mr(()=>{f.value?s.value.inverted?a.value=i.value>c.value:a.value=A.value||i.value<c.value:a.value=!0})});const{ssrBootStyles:w}=JA(),{layoutItemStyles:b}=QA({id:e.name,order:Z(()=>parseInt(e.order,10)),position:Qe(()=>e.location),layoutSize:y,elementSize:kt(void 0),active:a,absolute:Qe(()=>e.absolute)});return yt(()=>{const B=YE.filterProps(e);return l(YE,Ne({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...b.value,"--v-toolbar-image-opacity":h.value,height:void 0,...w.value},e.style]},B,{collapse:m.value,flat:v.value}),n)}),{}}}),pQe=[null,"default","comfortable","compact"],ra=et({density:{type:String,default:"default",validator:e=>pQe.includes(e)}},"density");function $s(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rc();return{densityClasses:Qe(()=>`${t}--density-${e.density}`)}}const gQe=["elevated","flat","tonal","outlined","text","plain"];function gd(e,t){return p(ze,null,[e&&p("span",{key:"overlay",class:rt(`${t}__overlay`)},null),p("span",{key:"underlay",class:rt(`${t}__underlay`)},null)])}const Ii=et({color:String,variant:{type:String,default:"elevated",validator:e=>gQe.includes(e)}},"variant");function qA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rc();const n=Qe(()=>{const{variant:s}=Os(e);return`${t}--variant-${s}`}),{colorClasses:r,colorStyles:a}=oI(()=>{const{variant:s,color:o}=Os(e);return{[["elevated","flat"].includes(s)?"background":"text"]:o}});return{colorClasses:r,colorStyles:a,variantClasses:n}}const TH=et({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...vo(),...Gt(),...ra(),...Ba(),...Or(),...gn(),...Hn(),...Ii()},"VBtnGroup"),XE=mt()({name:"VBtnGroup",props:TH(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=or(e),{densityClasses:a}=$s(e),{borderClasses:s}=No(e),{elevationClasses:o}=Wa(e),{roundedClasses:i}=qr(e);jr({VBtn:{height:Qe(()=>e.direction==="horizontal"?"auto":null),baseColor:Qe(()=>e.baseColor),color:Qe(()=>e.color),density:Qe(()=>e.density),flat:!0,variant:Qe(()=>e.variant)}}),yt(()=>l(e.tag,{class:rt(["v-btn-group",`v-btn-group--${e.direction}`,{"v-btn-group--divided":e.divided},r.value,s.value,a.value,o.value,i.value,e.class]),style:It(e.style)},n))}}),YA=et({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),XA=et({value:null,disabled:Boolean,selectedClass:String},"group-item");function od(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=na("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const a=ys();vr(Symbol.for(`${t.description}:id`),a);const s=pn(t,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=Qe(()=>e.value),i=Z(()=>!!(s.disabled.value||e.disabled));function c(){s?.register({id:a,value:o,disabled:i},r)}function A(){s?.unregister(a)}c(),Br(()=>A());const u=Z(()=>s.isSelected(a)),f=Z(()=>s.items.value[0].id===a),m=Z(()=>s.items.value[s.items.value.length-1].id===a),v=Z(()=>u.value&&[s.selectedClass.value,e.selectedClass]);return Ge(u,h=>{r.emit("group:selected",{value:h})},{flush:"sync"}),{id:a,isSelected:u,isFirst:f,isLast:m,toggle:()=>s.select(a,!u.value),select:h=>s.select(a,h),selectedClass:v,value:o,disabled:i,group:s,register:c,unregister:A}}function yd(e,t){let n=!1;const r=Da([]),a=en(e,"modelValue",[],m=>m===void 0?[]:FH(r,m===null?[null]:Wr(m)),m=>{const v=wQe(r,m);return e.multiple?v:v[0]}),s=na("useGroup");function o(m,v){const h=m,y=Symbol.for(`${t.description}:id`),b=Gf(y,s?.vnode).indexOf(v);We(h.value)===void 0&&(h.value=b,h.useIndexAsValue=!0),b>-1?r.splice(b,0,h):r.push(h)}function i(m){if(n)return;c();const v=r.findIndex(h=>h.id===m);r.splice(v,1)}function c(){const m=r.find(v=>!v.disabled);m&&e.mandatory==="force"&&!a.value.length&&(a.value=[m.id])}fn(()=>{c()}),Br(()=>{n=!0}),nS(()=>{for(let m=0;m<r.length;m++)r[m].useIndexAsValue&&(r[m].value=m)});function A(m,v){const h=r.find(y=>y.id===m);if(!(v&&h?.disabled))if(e.multiple){const y=a.value.slice(),w=y.findIndex(B=>B===m),b=~w;if(v=v??!b,b&&e.mandatory&&y.length<=1||!b&&e.max!=null&&y.length+1>e.max)return;w<0&&v?y.push(m):w>=0&&!v&&y.splice(w,1),a.value=y}else{const y=a.value.includes(m);if(e.mandatory&&y||!y&&!v)return;a.value=v??!y?[m]:[]}}function u(m){if(e.multiple,a.value.length){const v=a.value[0],h=r.findIndex(b=>b.id===v);let y=(h+m)%r.length,w=r[y];for(;w.disabled&&y!==h;)y=(y+m)%r.length,w=r[y];if(w.disabled)return;a.value=[r[y].id]}else{const v=r.find(h=>!h.disabled);v&&(a.value=[v.id])}}const f={register:o,unregister:i,selected:a,select:A,disabled:Qe(()=>e.disabled),prev:()=>u(r.length-1),next:()=>u(1),isSelected:m=>a.value.includes(m),selectedClass:Qe(()=>e.selectedClass),items:Qe(()=>r),getItemIndex:m=>yQe(r,m)};return vr(t,f),f}function yQe(e,t){const n=FH(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function FH(e,t){const n=[];return t.forEach(r=>{const a=e.find(o=>Ga(r,o.value)),s=e[r];a?.value!==void 0?n.push(a.id):s?.useIndexAsValue&&n.push(s.id)}),n}function wQe(e,t){const n=[];return t.forEach(r=>{const a=e.findIndex(s=>s.id===r);if(~a){const s=e[a];n.push(s.value!==void 0?s.value:a)}}),n}const iI=Symbol.for("vuetify:v-btn-toggle"),_Qe=et({...TH(),...YA()},"VBtnToggle"),bQe=mt()({name:"VBtnToggle",props:_Qe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:a,prev:s,select:o,selected:i}=yd(e,iI);return yt(()=>{const c=XE.filterProps(e);return l(XE,Ne({class:["v-btn-toggle",e.class]},c,{style:e.style}),{default:()=>[n.default?.({isSelected:r,next:a,prev:s,select:o,selected:i})]})}),{next:a,prev:s,select:o}}}),xQe=["x-small","small","default","large","x-large"],uc=et({size:{type:[String,Number],default:"default"}},"size");function sh(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rc();return hS(()=>{const n=e.size;let r,a;return Ty(xQe,n)?r=`${t}--size-${n}`:n&&(a={width:Mt(n),height:Mt(n)}),{sizeClasses:r,sizeStyles:a}})}const CQe=et({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:qt,opacity:[String,Number],...Gt(),...uc(),...gn({tag:"i"}),...Hn()},"VIcon"),Xn=mt()({name:"VIcon",props:CQe(),setup(e,t){let{attrs:n,slots:r}=t;const a=kt(),{themeClasses:s}=BS(),{iconData:o}=wte(()=>a.value||e.icon),{sizeClasses:i}=sh(e),{textColorClasses:c,textColorStyles:A}=os(()=>e.color);return yt(()=>{const u=r.default?.();u&&(a.value=k6(u).filter(m=>m.type===rp&&m.children&&typeof m.children=="string")[0]?.children);const f=!!(n.onClick||n.onClickOnce);return l(o.value.component,{tag:e.tag,icon:o.value.icon,class:rt(["v-icon","notranslate",s.value,i.value,c.value,{"v-icon--clickable":f,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class]),style:It([{"--v-icon-opacity":e.opacity},i.value?void 0:{fontSize:Mt(e.size),height:Mt(e.size),width:Mt(e.size)},A.value,e.style]),role:f?"button":void 0,"aria-hidden":!f,tabindex:f?e.disabled?-1:0:void 0},{default:()=>[u]})}),{}}});function Dp(e,t){const n=H(),r=kt(!1);if(dS){const a=new IntersectionObserver(s=>{r.value=!!s.find(o=>o.isIntersecting)},t);Ra(()=>{a.disconnect()}),Ge(n,(s,o)=>{o&&(a.unobserve(o),r.value=!1),s&&a.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const EQe=et({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Gt(),...uc(),...gn({tag:"div"}),...Hn()},"VProgressCircular"),BA=mt()({name:"VProgressCircular",props:EQe(),setup(e,t){let{slots:n}=t;const r=20,a=2*Math.PI*r,s=H(),{themeClasses:o}=or(e),{sizeClasses:i,sizeStyles:c}=sh(e),{textColorClasses:A,textColorStyles:u}=os(()=>e.color),{textColorClasses:f,textColorStyles:m}=os(()=>e.bgColor),{intersectionRef:v,isIntersecting:h}=Dp(),{resizeRef:y,contentRect:w}=Ci(),b=Qe(()=>Er(parseFloat(e.modelValue),0,100)),B=Qe(()=>Number(e.width)),S=Qe(()=>c.value?Number(e.size):w.value?w.value.width:Math.max(B.value,32)),T=Qe(()=>r/(1-B.value/S.value)*2),N=Qe(()=>B.value/S.value*T.value),k=Qe(()=>Mt((100-b.value)/100*a));return Mr(()=>{v.value=s.value,y.value=s.value}),yt(()=>l(e.tag,{ref:s,class:rt(["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":h.value,"v-progress-circular--disable-shrink":e.indeterminate&&(e.indeterminate==="disable-shrink"||zl())},o.value,i.value,A.value,e.class]),style:It([c.value,u.value,e.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:b.value},{default:()=>[p("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${T.value} ${T.value}`},[p("circle",{class:rt(["v-progress-circular__underlay",f.value]),style:It(m.value),fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":N.value,"stroke-dasharray":a,"stroke-dashoffset":0},null),p("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":N.value,"stroke-dasharray":a,"stroke-dashoffset":k.value},null)]),n.default&&p("div",{class:"v-progress-circular__content"},[n.default({value:b.value})])]})),{}}}),wR={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},lu=et({location:String},"location");function ZA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Ea();return{locationStyles:Z(()=>{if(!e.location)return{};const{side:s,align:o}=FC(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function i(A){return n?n(A):0}const c={};return s!=="center"&&(t?c[wR[s]]=`calc(100% - ${i(s)}px)`:c[s]=0),o!=="center"?t?c[wR[o]]=`calc(100% - ${i(o)}px)`:c[o]=0:(s==="center"?c.top=c.left="50%":c[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",c.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),c})}}const BQe=et({chunkCount:{type:[Number,String],default:null},chunkWidth:{type:[Number,String],default:null},chunkGap:{type:[Number,String],default:4}},"chunks");function SQe(e,t){const n=Qe(()=>!!e.chunkCount||!!e.chunkWidth),r=Z(()=>{const i=Os(t);if(!i)return 0;if(!e.chunkCount)return Number(e.chunkWidth);const c=Number(e.chunkCount);return(i-Number(e.chunkGap)*(c-1))/c}),a=Qe(()=>Number(e.chunkGap)),s=Z(()=>{if(!n.value)return{};const i=Mt(a.value),c=Mt(r.value);return{maskRepeat:"repeat-x",maskImage:`linear-gradient(90deg, #000, #000 ${c}, transparent ${c}, transparent)`,maskSize:`calc(${c} + ${i}) 100%`}});function o(i){const c=Os(t);if(!c)return i;const A=100*a.value/c,u=100*(r.value+a.value)/c,f=Math.floor((i+A)/u);return Er(0,f*u-A/2,100)}return{hasChunks:n,chunksMaskStyles:s,snapValueToChunk:o}}const kQe=et({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...BQe(),...Gt(),...lu({location:"top"}),...Or(),...gn(),...Hn()},"VProgressLinear"),Zw=mt()({name:"VProgressLinear",props:kQe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=H(),a=en(e,"modelValue"),{isRtl:s,rtlClasses:o}=Ea(),{themeClasses:i}=or(e),{locationStyles:c}=ZA(e),{textColorClasses:A,textColorStyles:u}=os(()=>e.color),{backgroundColorClasses:f,backgroundColorStyles:m}=lr(()=>e.bgColor||e.color),{backgroundColorClasses:v,backgroundColorStyles:h}=lr(()=>e.bufferColor||e.bgColor||e.color),{backgroundColorClasses:y,backgroundColorStyles:w}=lr(()=>e.color),{roundedClasses:b}=qr(e),{intersectionRef:B,isIntersecting:S}=Dp(),T=Z(()=>parseFloat(e.max)),N=Z(()=>parseFloat(e.height)),k=Z(()=>Er(parseFloat(e.bufferValue)/T.value*100,0,100)),E=Z(()=>Er(parseFloat(a.value)/T.value*100,0,100)),_=Z(()=>s.value!==e.reverse),C=Z(()=>e.indeterminate?"fade-transition":"slide-x-transition"),F=kt(0),{hasChunks:I,chunksMaskStyles:R,snapValueToChunk:M}=SQe(e,F);hs(I,()=>{const{resizeRef:W}=Ci(le=>F.value=le[0].contentRect.width);Mr(()=>W.value=r.value)});const te=Z(()=>I.value?M(k.value):k.value),se=Z(()=>I.value?M(E.value):E.value);function O(W){if(!B.value)return;const{left:le,right:K,width:ee}=B.value.getBoundingClientRect(),j=_.value?ee-W.clientX+(K-ee):W.clientX-le;a.value=Math.round(j/ee*T.value)}return Mr(()=>{B.value=r.value}),yt(()=>l(e.tag,{ref:r,class:rt(["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&S.value,"v-progress-linear--reverse":_.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped,"v-progress-linear--clickable":e.clickable},b.value,i.value,o.value,e.class]),style:It([{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Mt(N.value):0,"--v-progress-linear-height":Mt(N.value),...e.absolute?c.value:{}},R.value,e.style]),role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(a.value),T.value),onClick:e.clickable&&O},{default:()=>[e.stream&&p("div",{key:"stream",class:rt(["v-progress-linear__stream",A.value]),style:{...u.value,[_.value?"left":"right"]:Mt(-N.value),borderTop:`${Mt(N.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Mt(N.value/4)})`,width:Mt(100-k.value,"%"),"--v-progress-linear-stream-to":Mt(N.value*(_.value?1:-1))}},null),p("div",{class:rt(["v-progress-linear__background",f.value]),style:It([m.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}])},null),p("div",{class:rt(["v-progress-linear__buffer",v.value]),style:It([h.value,{opacity:parseFloat(e.bufferOpacity),width:Mt(te.value,"%")}])},null),l(td,{name:C.value},{default:()=>[e.indeterminate?p("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(W=>p("div",{key:W,class:rt(["v-progress-linear__indeterminate",W,y.value]),style:It(w.value)},null))]):p("div",{class:rt(["v-progress-linear__determinate",y.value]),style:It([w.value,{width:Mt(se.value,"%")}])},null)]}),n.default&&p("div",{class:"v-progress-linear__content"},[n.default({value:E.value,buffer:k.value})])]})),{}}}),e_=et({loading:[Boolean,String]},"loader");function Up(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rc();return{loaderClasses:Qe(()=>({[`${t}--loading`]:e.loading}))}}function Rp(e,t){let{slots:n}=t;return p("div",{class:rt(`${e.name}__loader`)},[n.default?.({color:e.color,isActive:e.active})||l(Zw,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const IQe=["static","relative","fixed","absolute","sticky"],oh=et({position:{type:String,validator:e=>IQe.includes(e)}},"position");function ih(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rc();return{positionClasses:Qe(()=>e.position?`${t}--${e.position}`:void 0)}}function TQe(){const e=na("useRoute");return Z(()=>e?.proxy?.$route)}function PH(){return na("useRouter")?.proxy?.$router}function Np(e,t){const n=rS("RouterLink"),r=Qe(()=>!!(e.href||e.to)),a=Z(()=>r?.value||tP(t,"click")||tP(e,"click"));if(typeof n=="string"||!("useLink"in n)){const f=Qe(()=>e.href);return{isLink:r,isRouterLink:Qe(()=>!1),isClickable:a,href:f,linkProps:Da({href:f})}}const s=n.useLink({to:Qe(()=>e.to||""),replace:Qe(()=>e.replace)}),o=Z(()=>e.to?s:void 0),i=TQe(),c=Z(()=>o.value?e.exact?i.value?o.value.isExactActive?.value&&Ga(o.value.route.value.query,i.value.query):o.value.isExactActive?.value??!1:o.value.isActive?.value??!1:!1),A=Z(()=>e.to?o.value?.route.value.href:e.href),u=Qe(()=>!!e.to);return{isLink:r,isRouterLink:u,isClickable:a,isActive:c,route:o.value?.route,navigate:o.value?.navigate,href:A,linkProps:Da({href:A,"aria-current":Qe(()=>c.value?"page":void 0),"aria-disabled":Qe(()=>e.disabled&&r.value?"true":void 0),tabindex:Qe(()=>e.disabled&&r.value?"-1":void 0)})}}const Lp=et({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Jx=!1;function FQe(e,t){let n=!1,r,a;Zn&&e?.beforeEach&&(An(()=>{window.addEventListener("popstate",s),r=e.beforeEach((o,i,c)=>{Jx?n?t(c):c():setTimeout(()=>n?t(c):c()),Jx=!0}),a=e?.afterEach(()=>{Jx=!1})}),Ra(()=>{window.removeEventListener("popstate",s),r?.(),a?.()}));function s(o){o.state?.replaced||(n=!0,setTimeout(()=>n=!1))}}function PQe(e,t){Ge(()=>e.isActive?.value,n=>{e.isLink.value&&n!=null&&t&&An(()=>{t(n)})},{immediate:!0})}const ZE=Symbol("rippleStop"),DQe=80;function _R(e,t){e.style.transform=t,e.style.webkitTransform=t}function eB(e){return e.constructor.name==="TouchEvent"}function DH(e){return e.constructor.name==="KeyboardEvent"}const UQe=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,a=0;if(!DH(e)){const f=t.getBoundingClientRect(),m=eB(e)?e.touches[e.touches.length-1]:e;r=m.clientX-f.left,a=m.clientY-f.top}let s=0,o=.3;t._ripple?.circle?(o=.15,s=t.clientWidth/2,s=n.center?s:s+Math.sqrt((r-s)**2+(a-s)**2)/4):s=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const i=`${(t.clientWidth-s*2)/2}px`,c=`${(t.clientHeight-s*2)/2}px`,A=n.center?i:`${r-s}px`,u=n.center?c:`${a-s}px`;return{radius:s,scale:o,x:A,y:u,centerX:i,centerY:c}},T2={show(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t?._ripple?.enabled)return;const r=document.createElement("span"),a=document.createElement("span");r.appendChild(a),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:s,scale:o,x:i,y:c,centerX:A,centerY:u}=UQe(e,t,n),f=`${s*2}px`;a.className="v-ripple__animation",a.style.width=f,a.style.height=f,t.appendChild(r);const m=window.getComputedStyle(t);m&&m.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),a.classList.add("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--visible"),_R(a,`translate(${i}, ${c}) scale3d(${o},${o},${o})`),a.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{a.classList.remove("v-ripple__animation--enter"),a.classList.add("v-ripple__animation--in"),_R(a,`translate(${A}, ${u}) scale3d(1,1,1)`)})})},hide(e){if(!e?._ripple?.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=Array.from(t).findLast(s=>!s.dataset.isHiding);if(n)n.dataset.isHiding="true";else return;const r=performance.now()-Number(n.dataset.activated),a=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),n.parentNode?.parentNode===e&&e.removeChild(n.parentNode)},300)},a)}};function UH(e){return typeof e>"u"||!!e}function Kv(e){const t={},n=e.currentTarget;if(!(!n?._ripple||n._ripple.touched||e[ZE])){if(e[ZE]=!0,eB(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||DH(e),n._ripple.class&&(t.class=n._ripple.class),eB(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{T2.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{n?._ripple?.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},DQe)}else T2.show(e,n,t)}}function bR(e){e[ZE]=!0}function $o(e){const t=e.currentTarget;if(t?._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{$o(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),T2.hide(t)}}function RH(e){const t=e.currentTarget;t?._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Gv=!1;function xR(e,t){!Gv&&t.includes(e.key)&&(Gv=!0,Kv(e))}function NH(e){Gv=!1,$o(e)}function LH(e){Gv&&(Gv=!1,$o(e))}function VH(e,t,n){const{value:r,modifiers:a}=t,s=UH(r);s||T2.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=s,e._ripple.centered=a.center,e._ripple.circle=a.circle;const o=vv(r)?r:{};o.class&&(e._ripple.class=o.class);const i=o.keys??["Enter","Space"];if(e._ripple.keyDownHandler=c=>xR(c,i),s&&!n){if(a.stop){e.addEventListener("touchstart",bR,{passive:!0}),e.addEventListener("mousedown",bR);return}e.addEventListener("touchstart",Kv,{passive:!0}),e.addEventListener("touchend",$o,{passive:!0}),e.addEventListener("touchmove",RH,{passive:!0}),e.addEventListener("touchcancel",$o),e.addEventListener("mousedown",Kv),e.addEventListener("mouseup",$o),e.addEventListener("mouseleave",$o),e.addEventListener("keydown",c=>xR(c,i)),e.addEventListener("keyup",NH),e.addEventListener("blur",LH),e.addEventListener("dragstart",$o,{passive:!0})}else!s&&n&&MH(e)}function MH(e){e.removeEventListener("mousedown",Kv),e.removeEventListener("touchstart",Kv),e.removeEventListener("touchend",$o),e.removeEventListener("touchmove",RH),e.removeEventListener("touchcancel",$o),e.removeEventListener("mouseup",$o),e.removeEventListener("mouseleave",$o),e._ripple?.keyDownHandler&&e.removeEventListener("keydown",e._ripple.keyDownHandler),e.removeEventListener("keyup",NH),e.removeEventListener("dragstart",$o),e.removeEventListener("blur",LH)}function RQe(e,t){VH(e,t,!1)}function NQe(e){MH(e),delete e._ripple}function LQe(e,t){if(t.value===t.oldValue)return;const n=UH(t.oldValue);VH(e,t,n)}const Gs={mounted:RQe,unmounted:NQe,updated:LQe},t_=et({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:iI},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:qt,appendIcon:qt,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,spaced:String,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...vo(),...Gt(),...ra(),...Aa(),...Ba(),...XA(),...e_(),...lu(),...oh(),...Or(),...Lp(),...uc(),...gn({tag:"button"}),...Hn(),...Ii({variant:"elevated"})},"VBtn"),Rn=mt()({name:"VBtn",props:t_(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:a}=or(e),{borderClasses:s}=No(e),{densityClasses:o}=$s(e),{dimensionStyles:i}=fa(e),{elevationClasses:c}=Wa(e),{loaderClasses:A}=Up(e),{locationStyles:u}=ZA(e),{positionClasses:f}=ih(e),{roundedClasses:m}=qr(e),{sizeClasses:v,sizeStyles:h}=sh(e),y=od(e,e.symbol,!1),w=Np(e,n),b=Z(()=>e.active!==void 0?e.active:w.isRouterLink.value?w.isActive?.value:y?.isSelected.value),B=Qe(()=>b.value?e.activeColor??e.color:e.color),S=Z(()=>({color:y?.isSelected.value&&(!w.isLink.value||w.isActive?.value)||!y||w.isActive?.value?B.value??e.baseColor:e.baseColor,variant:e.variant})),{colorClasses:T,colorStyles:N,variantClasses:k}=qA(S),E=Z(()=>y?.disabled.value||e.disabled),_=Qe(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),C=Z(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function F(I){E.value||w.isLink.value&&(I.metaKey||I.ctrlKey||I.shiftKey||I.button!==0||n.target==="_blank")||(w.isRouterLink.value?w.navigate?.(I):y?.toggle())}return PQe(w,y?.select),yt(()=>{const I=w.isLink.value?"a":e.tag,R=!!(e.prependIcon||r.prepend),M=!!(e.appendIcon||r.append),te=!!(e.icon&&e.icon!==!0);return Tr(l(I,Ne(w.linkProps,{type:I==="a"?void 0:"button",class:["v-btn",y?.selectedClass.value,{"v-btn--active":b.value,"v-btn--block":e.block,"v-btn--disabled":E.value,"v-btn--elevated":_.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},e.spaced?["v-btn--spaced",`v-btn--spaced-${e.spaced}`]:[],a.value,s.value,T.value,o.value,c.value,A.value,f.value,m.value,v.value,k.value,e.class],style:[N.value,i.value,u.value,h.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:E.value&&I!=="a"||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:F,value:C.value}),{default:()=>[gd(!0,"v-btn"),!e.icon&&R&&p("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?l(Cn,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):l(Xn,{key:"prepend-icon",icon:e.prependIcon},null)]),p("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&te?l(Xn,{key:"content-icon",icon:e.icon},null):l(Cn,{key:"content-defaults",disabled:!te,defaults:{VIcon:{icon:e.icon}}},{default:()=>[r.default?.()??J(e.text)]})]),!e.icon&&M&&p("span",{key:"append",class:"v-btn__append"},[r.append?l(Cn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):l(Xn,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&p("span",{key:"loader",class:"v-btn__loader"},[r.loader?.()??l(BA,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}),[[Gs,!E.value&&e.ripple,"",{center:!!e.icon}]])}),{group:y}}}),VQe=et({...cr(t_({icon:"$menu",variant:"text"}),["spaced"])},"VAppBarNavIcon"),MQe=mt()({name:"VAppBarNavIcon",props:VQe(),setup(e,t){let{slots:n}=t;return yt(()=>l(Rn,Ne(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),OQe=mt()({name:"VAppBarTitle",props:xH(),setup(e,t){let{slots:n}=t;return yt(()=>l(nI,Ne(e,{class:"v-app-bar-title"}),n)),{}}}),OH=ru("v-alert-title"),QQe=et({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function HQe(e,t){return{iconSize:Z(()=>{const r=new Map(e.iconSizes),a=e.iconSize??t()??"default";return r.has(a)?r.get(a):a})}}const KQe=["success","info","warning","error"],GQe=et({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:qt,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>KQe.includes(e)},...Gt(),...ra(),...Aa(),...Ba(),...QQe(),...lu(),...oh(),...Or(),...gn(),...Hn(),...Ii({variant:"flat"})},"VAlert"),zQe=mt()({name:"VAlert",props:GQe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=en(e,"modelValue"),s=Qe(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{iconSize:o}=HQe(e,()=>e.prominent?44:void 0),{themeClasses:i}=or(e),{colorClasses:c,colorStyles:A,variantClasses:u}=qA(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:f}=$s(e),{dimensionStyles:m}=fa(e),{elevationClasses:v}=Wa(e),{locationStyles:h}=ZA(e),{positionClasses:y}=ih(e),{roundedClasses:w}=qr(e),{textColorClasses:b,textColorStyles:B}=os(()=>e.borderColor),{t:S}=ur(),T=Qe(()=>({"aria-label":S(e.closeLabel),onClick(N){a.value=!1,n("click:close",N)}}));return()=>{const N=!!(r.prepend||s.value),k=!!(r.title||e.title),E=!!(r.close||e.closable),_={density:e.density,icon:s.value,size:e.iconSize||e.prominent?o.value:void 0};return a.value&&l(e.tag,{class:rt(["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},i.value,c.value,f.value,v.value,y.value,w.value,u.value,e.class]),style:It([A.value,m.value,h.value,e.style]),role:"alert"},{default:()=>[gd(!1,"v-alert"),e.border&&p("div",{key:"border",class:rt(["v-alert__border",b.value]),style:It(B.value)},null),N&&p("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?l(Cn,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{..._}}},r.prepend):l(Xn,Ne({key:"prepend-icon"},_),null)]),p("div",{class:"v-alert__content"},[k&&l(OH,{key:"title"},{default:()=>[r.title?.()??e.title]}),r.text?.()??e.text,r.default?.()]),r.append&&p("div",{key:"append",class:"v-alert__append"},[r.append()]),E&&p("div",{key:"close",class:"v-alert__close"},[r.close?l(Cn,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[r.close?.({props:T.value})]}):l(Rn,Ne({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},T.value),null)])]})}}}),$Qe=et({start:Boolean,end:Boolean,icon:qt,image:String,text:String,...vo(),...Gt(),...ra(),...Or(),...uc(),...gn(),...Hn(),...Ii({variant:"flat"})},"VAvatar"),ei=mt()({name:"VAvatar",props:$Qe(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=or(e),{borderClasses:a}=No(e),{colorClasses:s,colorStyles:o,variantClasses:i}=qA(e),{densityClasses:c}=$s(e),{roundedClasses:A}=qr(e),{sizeClasses:u,sizeStyles:f}=sh(e);return yt(()=>l(e.tag,{class:rt(["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,a.value,s.value,c.value,A.value,u.value,i.value,e.class]),style:It([o.value,f.value,e.style])},{default:()=>[n.default?l(Cn,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?l(eu,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?l(Xn,{key:"icon",icon:e.icon},null):e.text,gd(!1,"v-avatar")]})),{}}}),WQe=et({text:String,onClick:as(),...Gt(),...Hn()},"VLabel"),lh=mt()({name:"VLabel",props:WQe(),setup(e,t){let{slots:n}=t;return yt(()=>p("label",{class:rt(["v-label",{"v-label--clickable":!!e.onClick},e.class]),style:It(e.style),onClick:e.onClick},[e.text,n.default?.()])),{}}}),QH=Symbol.for("vuetify:selection-control-group"),lI=et({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:qt,trueIcon:qt,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Ga},...Gt(),...ra(),...Hn()},"SelectionControlGroup"),jQe=et({...lI({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),HH=mt()({name:"VSelectionControlGroup",props:jQe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"modelValue"),a=ys(),s=Qe(()=>e.id||`v-selection-control-group-${a}`),o=Qe(()=>e.name||s.value),i=new Set;return vr(QH,{modelValue:r,forceUpdate:()=>{i.forEach(c=>c())},onForceUpdate:c=>{i.add(c),Ra(()=>{i.delete(c)})}}),jr({[e.defaultsTarget]:{color:Qe(()=>e.color),disabled:Qe(()=>e.disabled),density:Qe(()=>e.density),error:Qe(()=>e.error),inline:Qe(()=>e.inline),modelValue:r,multiple:Qe(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:o,falseIcon:Qe(()=>e.falseIcon),trueIcon:Qe(()=>e.trueIcon),readonly:Qe(()=>e.readonly),ripple:Qe(()=>e.ripple),type:Qe(()=>e.type),valueComparator:Qe(()=>e.valueComparator)}}),yt(()=>p("div",{class:rt(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:It(e.style),role:e.type==="radio"?"radiogroup":void 0},[n.default?.()])),{}}}),n_=et({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Gt(),...lI()},"VSelectionControl");function JQe(e){const t=pn(QH,void 0),{densityClasses:n}=$s(e),r=en(e,"modelValue"),a=Z(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),s=Z(()=>e.falseValue!==void 0?e.falseValue:!1),o=Z(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),i=Z({get(){const v=t?t.modelValue.value:r.value;return o.value?Wr(v).some(h=>e.valueComparator(h,a.value)):e.valueComparator(v,a.value)},set(v){if(e.readonly)return;const h=v?a.value:s.value;let y=h;o.value&&(y=v?[...Wr(r.value),h]:Wr(r.value).filter(w=>!e.valueComparator(w,a.value))),t?t.modelValue.value=y:r.value=y}}),{textColorClasses:c,textColorStyles:A}=os(()=>{if(!(e.error||e.disabled))return i.value?e.color:e.baseColor}),{backgroundColorClasses:u,backgroundColorStyles:f}=lr(()=>i.value&&!e.error&&!e.disabled?e.color:e.baseColor),m=Z(()=>i.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:a,falseValue:s,model:i,textColorClasses:c,textColorStyles:A,backgroundColorClasses:u,backgroundColorStyles:f,icon:m}}const id=mt()({name:"VSelectionControl",directives:{vRipple:Gs},inheritAttrs:!1,props:n_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:a,densityClasses:s,icon:o,model:i,textColorClasses:c,textColorStyles:A,backgroundColorClasses:u,backgroundColorStyles:f,trueValue:m}=JQe(e),v=ys(),h=kt(!1),y=kt(!1),w=H(),b=Qe(()=>e.id||`input-${v}`),B=Qe(()=>!e.disabled&&!e.readonly);a?.onForceUpdate(()=>{w.value&&(w.value.checked=i.value)});function S(E){B.value&&(h.value=!0,xm(E.target,":focus-visible")!==!1&&(y.value=!0))}function T(){h.value=!1,y.value=!1}function N(E){E.stopPropagation()}function k(E){if(!B.value){w.value&&(w.value.checked=i.value);return}e.readonly&&a&&An(()=>a.forceUpdate()),i.value=E.target.checked}return yt(()=>{const E=r.label?r.label({label:e.label,props:{for:b.value}}):e.label,[_,C]=md(n),F=p("input",Ne({ref:w,checked:i.value,disabled:!!e.disabled,id:b.value,onBlur:T,onFocus:S,onInput:k,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:m.value,name:e.name,"aria-checked":e.type==="checkbox"?i.value:void 0},C),null);return p("div",Ne({class:["v-selection-control",{"v-selection-control--dirty":i.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":h.value,"v-selection-control--focus-visible":y.value,"v-selection-control--inline":e.inline},s.value,e.class]},_,{style:e.style}),[p("div",{class:rt(["v-selection-control__wrapper",c.value]),style:It(A.value)},[r.default?.({backgroundColorClasses:u,backgroundColorStyles:f}),Tr(p("div",{class:rt(["v-selection-control__input"])},[r.input?.({model:i,textColorClasses:c,textColorStyles:A,backgroundColorClasses:u,backgroundColorStyles:f,inputNode:F,icon:o.value,props:{onFocus:S,onBlur:T,id:b.value}})??p(ze,null,[o.value&&l(Xn,{key:"icon",icon:o.value},null),F])]),[[Gs,!e.disabled&&!e.readonly&&e.ripple,null,{center:!0,circle:!0}]])]),E&&l(lh,{for:b.value,onClick:N},{default:()=>[E]})])}),{isFocused:h,input:w}}}),KH=et({indeterminate:Boolean,indeterminateIcon:{type:qt,default:"$checkboxIndeterminate"},...n_({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Xl=mt()({name:"VCheckboxBtn",props:KH(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"indeterminate"),a=en(e,"modelValue");function s(c){r.value&&(r.value=!1)}const o=Qe(()=>r.value?e.indeterminateIcon:e.falseIcon),i=Qe(()=>r.value?e.indeterminateIcon:e.trueIcon);return yt(()=>{const c=cr(id.filterProps(e),["modelValue"]);return l(id,Ne(c,{modelValue:a.value,"onUpdate:modelValue":[A=>a.value=A,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:i.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}});function GH(e){const{t}=ur();function n(r){let{name:a,color:s,...o}=r;const i={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[a],c=e[`onClick:${a}`];function A(f){f.key!=="Enter"&&f.key!==" "||(f.preventDefault(),f.stopPropagation(),sp(c,new PointerEvent("click",f)))}const u=c&&i?t(`$vuetify.input.${i}`,e.label??""):void 0;return l(Xn,Ne({icon:e[`${a}Icon`],"aria-label":u,onClick:c,onKeydown:A,color:s},o),null)}return{InputIcon:n}}const qQe=et({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Gt(),...iu({transition:{component:aI,leaveAbsolute:!0,group:!0}})},"VMessages"),zH=mt()({name:"VMessages",props:qQe(),setup(e,t){let{slots:n}=t;const r=Z(()=>Wr(e.messages)),{textColorClasses:a,textColorStyles:s}=os(()=>e.color);return yt(()=>l(Vs,{transition:e.transition,tag:"div",class:rt(["v-messages",a.value,e.class]),style:It([s.value,e.style])},{default:()=>[e.active&&r.value.map((o,i)=>p("div",{class:"v-messages__message",key:`${i}-${r.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),Vp=et({focused:Boolean,"onUpdate:focused":as()},"focus");function cu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rc();const n=en(e,"focused"),r=Qe(()=>({[`${t}--focused`]:n.value}));function a(){n.value=!0}function s(){n.value=!1}return{focusClasses:r,isFocused:n,focus:a,blur:s}}const $H=Symbol.for("vuetify:form"),YQe=et({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function XQe(e){const t=en(e,"modelValue"),n=Qe(()=>e.disabled),r=Qe(()=>e.readonly),a=kt(!1),s=H([]),o=H([]);async function i(){const u=[];let f=!0;o.value=[],a.value=!0;for(const m of s.value){const v=await m.validate();if(v.length>0&&(f=!1,u.push({id:m.id,errorMessages:v})),!f&&e.fastFail)break}return o.value=u,a.value=!1,{valid:f,errors:o.value}}function c(){s.value.forEach(u=>u.reset())}function A(){s.value.forEach(u=>u.resetValidation())}return Ge(s,()=>{let u=0,f=0;const m=[];for(const v of s.value)v.isValid===!1?(f++,m.push({id:v.id,errorMessages:v.errorMessages})):v.isValid===!0&&u++;o.value=m,t.value=f>0?!1:u===s.value.length?!0:null},{deep:!0,flush:"post"}),vr($H,{register:u=>{let{id:f,vm:m,validate:v,reset:h,resetValidation:y}=u;s.value.some(w=>w.id===f),s.value.push({id:f,validate:v,reset:h,resetValidation:y,vm:yy(m),isValid:null,errorMessages:[]})},unregister:u=>{s.value=s.value.filter(f=>f.id!==u)},update:(u,f,m)=>{const v=s.value.find(h=>h.id===u);v&&(v.isValid=f,v.errorMessages=m)},isDisabled:n,isReadonly:r,isValidating:a,isValid:t,items:s,validateOn:Qe(()=>e.validateOn)}),{errors:o,isDisabled:n,isReadonly:r,isValidating:a,isValid:t,items:s,validate:i,reset:c,resetValidation:A}}function ch(e){const t=pn($H,null);return{...t,isReadonly:Z(()=>!!(e?.readonly??t?.isReadonly.value)),isDisabled:Z(()=>!!(e?.disabled??t?.isDisabled.value))}}const ZQe=Symbol.for("vuetify:rules");function eHe(e){const t=pn(ZQe,null);if(!e){if(!t)throw new Error("Could not find Vuetify rules injection");return t.aliases}return t?.resolve(e)??Qe(e)}const WH=et({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Vp()},"validation");function jH(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rc(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ys();const r=en(e,"modelValue"),a=Z(()=>e.validationValue===void 0?r.value:e.validationValue),s=ch(e),o=eHe(()=>e.rules),i=H([]),c=kt(!0),A=Z(()=>!!(Wr(r.value===""?null:r.value).length||Wr(a.value===""?null:a.value).length)),u=Z(()=>e.errorMessages?.length?Wr(e.errorMessages).concat(i.value).slice(0,Math.max(0,Number(e.maxErrors))):i.value),f=Z(()=>{let T=(e.validateOn??s.validateOn?.value)||"input";T==="lazy"&&(T="input lazy"),T==="eager"&&(T="input eager");const N=new Set(T?.split(" ")??[]);return{input:N.has("input"),blur:N.has("blur")||N.has("input")||N.has("invalid-input"),invalidInput:N.has("invalid-input"),lazy:N.has("lazy"),eager:N.has("eager")}}),m=Z(()=>e.error||e.errorMessages?.length?!1:e.rules.length?c.value?i.value.length||f.value.lazy?null:!0:!i.value.length:!0),v=kt(!1),h=Z(()=>({[`${t}--error`]:m.value===!1,[`${t}--dirty`]:A.value,[`${t}--disabled`]:s.isDisabled.value,[`${t}--readonly`]:s.isReadonly.value})),y=na("validation"),w=Z(()=>e.name??We(n));Al(()=>{s.register?.({id:w.value,vm:y,validate:S,reset:b,resetValidation:B})}),Br(()=>{s.unregister?.(w.value)}),fn(async()=>{f.value.lazy||await S(!f.value.eager),s.update?.(w.value,m.value,u.value)}),hs(()=>f.value.input||f.value.invalidInput&&m.value===!1,()=>{Ge(a,()=>{if(a.value!=null)S();else if(e.focused){const T=Ge(()=>e.focused,N=>{N||S(),T()})}})}),hs(()=>f.value.blur,()=>{Ge(()=>e.focused,T=>{T||S()})}),Ge([m,u],()=>{s.update?.(w.value,m.value,u.value)});async function b(){r.value=null,await An(),await B()}async function B(){c.value=!0,f.value.lazy?i.value=[]:await S(!f.value.eager)}async function S(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const N=[];v.value=!0;for(const k of o.value){if(N.length>=Number(e.maxErrors??1))break;const _=await(typeof k=="function"?k:()=>k)(a.value);if(_!==!0){if(_!==!1&&typeof _!="string"){console.warn(`${_} is not a valid value. Rule functions must return boolean true or a string.`);continue}N.push(_||"")}}return i.value=N,v.value=!1,c.value=T,i.value}return{errorMessages:u,isDirty:A,isDisabled:s.isDisabled,isReadonly:s.isReadonly,isPristine:c,isValid:m,isValidating:v,reset:b,resetValidation:B,validate:S,validationClasses:h}}const uu=et({id:String,appendIcon:qt,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:qt,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":as(),"onClick:append":as(),...Gt(),...ra(),...Do(Aa(),["maxWidth","minWidth","width"]),...Hn(),...WH()},"VInput"),gs=mt()({name:"VInput",props:{...uu()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:a}=t;const{densityClasses:s}=$s(e),{dimensionStyles:o}=fa(e),{themeClasses:i}=or(e),{rtlClasses:c}=Ea(),{InputIcon:A}=GH(e),u=ys(),f=Z(()=>e.id||`input-${u}`),{errorMessages:m,isDirty:v,isDisabled:h,isReadonly:y,isPristine:w,isValid:b,isValidating:B,reset:S,resetValidation:T,validate:N,validationClasses:k}=jH(e,"v-input",f),E=Z(()=>e.errorMessages?.length||!w.value&&m.value.length?m.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages),_=Qe(()=>E.value.length>0),C=Qe(()=>!e.hideDetails||e.hideDetails==="auto"&&(_.value||!!r.details)),F=Z(()=>C.value?`${f.value}-messages`:void 0),I=Z(()=>({id:f,messagesId:F,isDirty:v,isDisabled:h,isReadonly:y,isPristine:w,isValid:b,isValidating:B,hasDetails:C,reset:S,resetValidation:T,validate:N})),R=Qe(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),M=Qe(()=>{if(e.iconColor)return e.iconColor===!0?R.value:e.iconColor});return yt(()=>{const te=!!(r.prepend||e.prependIcon),se=!!(r.append||e.appendIcon);return p("div",{class:rt(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},s.value,i.value,c.value,k.value,e.class]),style:It([o.value,e.style])},[te&&p("div",{key:"prepend",class:"v-input__prepend"},[r.prepend?.(I.value),e.prependIcon&&l(A,{key:"prepend-icon",name:"prepend",color:M.value},null)]),r.default&&p("div",{class:"v-input__control"},[r.default?.(I.value)]),se&&p("div",{key:"append",class:"v-input__append"},[e.appendIcon&&l(A,{key:"append-icon",name:"append",color:M.value},null),r.append?.(I.value)]),C.value&&p("div",{id:F.value,class:"v-input__details",role:"alert","aria-live":"polite"},[l(zH,{active:_.value,messages:E.value},{message:r.message}),r.details?.(I.value)])])}),{reset:S,resetValidation:T,validate:N,isValid:b,errorMessages:m}}}),qx=Symbol("Forwarded refs");function Yx(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ja(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[qx]=n,new Proxy(e,{get(a,s){if(Reflect.has(a,s))return Reflect.get(a,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,s)){const i=Reflect.get(o.value,s);return typeof i=="function"?i.bind(o.value):i}}},has(a,s){if(Reflect.has(a,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,s))return!0;return!1},set(a,s,o){if(Reflect.has(a,s))return Reflect.set(a,s,o);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const i of n)if(i.value&&Reflect.has(i.value,s))return Reflect.set(i.value,s,o);return!1},getOwnPropertyDescriptor(a,s){const o=Reflect.getOwnPropertyDescriptor(a,s);if(o)return o;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const i of n){if(!i.value)continue;const c=Yx(i.value,s)??("_"in i.value?Yx(i.value._?.setupState,s):void 0);if(c)return c}for(const i of n){const c=i.value&&i.value[qx];if(!c)continue;const A=c.slice();for(;A.length;){const u=A.shift(),f=Yx(u.value,s);if(f)return f;const m=u.value&&u.value[qx];m&&A.push(...m)}}}}})}const tHe=et({...uu(),...cr(KH(),["inline"])},"VCheckbox"),nHe=mt()({name:"VCheckbox",inheritAttrs:!1,props:tHe(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const a=en(e,"modelValue"),{isFocused:s,focus:o,blur:i}=cu(e),c=H(),A=ys();return yt(()=>{const[u,f]=md(n),m=gs.filterProps(e),v=Xl.filterProps(e);return l(gs,Ne({ref:c,class:["v-checkbox",e.class]},u,m,{modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,id:e.id||`checkbox-${A}`,focused:s.value,style:e.style}),{...r,default:h=>{let{id:y,messagesId:w,isDisabled:b,isReadonly:B,isValid:S}=h;return l(Xl,Ne(v,{id:y.value,"aria-describedby":w.value,disabled:b.value,readonly:B.value},f,{error:S.value===!1,modelValue:a.value,"onUpdate:modelValue":T=>a.value=T,onFocus:o,onBlur:i}),r)}})}),ja({},c)}});function rHe(e){let{selectedElement:t,containerElement:n,isRtl:r,isHorizontal:a}=e;const s=zv(a,n),o=JH(a,r,n),i=zv(a,t),c=qH(a,t),A=i*.4;return o>c?c-A:o+s<c+i?c-s+i+A:o}function aHe(e){let{selectedElement:t,containerElement:n,isHorizontal:r}=e;const a=zv(r,n),s=qH(r,t),o=zv(r,t);return s-a/2+o/2}function CR(e,t){return t?.[e?"scrollWidth":"scrollHeight"]||0}function sHe(e,t){return t?.[e?"clientWidth":"clientHeight"]||0}function JH(e,t,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:a,scrollWidth:s}=n;return e?t?s-a+r:r:n.scrollTop}function zv(e,t){return t?.[e?"offsetWidth":"offsetHeight"]||0}function qH(e,t){return t?.[e?"offsetLeft":"offsetTop"]||0}const cI=Symbol.for("vuetify:v-slide-group"),uI=et({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:cI},nextIcon:{type:qt,default:"$next"},prevIcon:{type:qt,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Gt(),...MA({mobile:null}),...gn(),...YA({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),$v=mt()({name:"VSlideGroup",props:uI(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=Ea(),{displayClasses:a,mobile:s}=ni(e),o=yd(e,e.symbol),i=kt(!1),c=kt(0),A=kt(0),u=kt(0),f=Z(()=>e.direction==="horizontal"),{resizeRef:m,contentRect:v}=Ci(),{resizeRef:h,contentRect:y}=Ci(),w=fte(),b=Z(()=>({container:m.el,duration:200,easing:"easeOutQuart"})),B=Z(()=>o.selected.value.length?o.items.value.findIndex(U=>U.id===o.selected.value[0]):-1),S=Z(()=>o.selected.value.length?o.items.value.findIndex(U=>U.id===o.selected.value[o.selected.value.length-1]):-1);if(Zn){let U=-1;Ge(()=>[o.selected.value,v.value,y.value,f.value],()=>{cancelAnimationFrame(U),U=requestAnimationFrame(()=>{if(v.value&&y.value){const G=f.value?"width":"height";A.value=v.value[G],u.value=y.value[G],i.value=A.value+1<u.value}if(e.scrollToActive&&B.value>=0&&h.el){const G=h.el.children[S.value];N(G,e.centerActive)}})})}const T=kt(!1);function N(U,G){let ne=0;G?ne=aHe({containerElement:m.el,isHorizontal:f.value,selectedElement:U}):ne=rHe({containerElement:m.el,isHorizontal:f.value,isRtl:r.value,selectedElement:U}),k(ne)}function k(U){if(!Zn||!m.el)return;const G=zv(f.value,m.el),ne=JH(f.value,r.value,m.el);if(!(CR(f.value,m.el)<=G||Math.abs(U-ne)<16)){if(f.value&&r.value&&m.el){const{scrollWidth:oe,offsetWidth:q}=m.el;U=oe-q-U}f.value?w.horizontal(U,b.value):w(U,b.value)}}function E(U){const{scrollTop:G,scrollLeft:ne}=U.target;c.value=f.value?ne:G}function _(U){if(T.value=!0,!(!i.value||!h.el)){for(const G of U.composedPath())for(const ne of h.el.children)if(ne===G){N(ne);return}}}function C(U){T.value=!1}let F=!1;function I(U){!F&&!T.value&&!(U.relatedTarget&&h.el?.contains(U.relatedTarget))&&se(),F=!1}function R(){F=!0}function M(U){if(!h.el)return;function G(ne){U.preventDefault(),se(ne)}f.value?U.key==="ArrowRight"?G(r.value?"prev":"next"):U.key==="ArrowLeft"&&G(r.value?"next":"prev"):U.key==="ArrowDown"?G("next"):U.key==="ArrowUp"&&G("prev"),U.key==="Home"?G("first"):U.key==="End"&&G("last")}function te(U,G){if(!U)return;let ne=U;do ne=ne?.[G==="next"?"nextElementSibling":"previousElementSibling"];while(ne?.hasAttribute("disabled"));return ne}function se(U){if(!h.el)return;let G;if(!U)G=bm(h.el)[0];else if(U==="next"){if(G=te(h.el.querySelector(":focus"),U),!G)return se("first")}else if(U==="prev"){if(G=te(h.el.querySelector(":focus"),U),!G)return se("last")}else U==="first"?(G=h.el.firstElementChild,G?.hasAttribute("disabled")&&(G=te(G,"next"))):U==="last"&&(G=h.el.lastElementChild,G?.hasAttribute("disabled")&&(G=te(G,"prev")));G&&G.focus({preventScroll:!0})}function O(U){const G=f.value&&r.value?-1:1,ne=(U==="prev"?-G:G)*A.value;let X=c.value+ne;if(f.value&&r.value&&m.el){const{scrollWidth:oe,offsetWidth:q}=m.el;X+=oe-q}k(X)}const W=Z(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),le=Z(()=>i.value||Math.abs(c.value)>0),K=Z(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return le.value;case"mobile":return s.value||le.value;default:return!s.value&&le.value}}),ee=Z(()=>Math.abs(c.value)>1),j=Z(()=>{if(!m.value||!le.value)return!1;const U=CR(f.value,m.el),G=sHe(f.value,m.el);return U-G-Math.abs(c.value)>1});return yt(()=>l(e.tag,{class:rt(["v-slide-group",{"v-slide-group--vertical":!f.value,"v-slide-group--has-affixes":K.value,"v-slide-group--is-overflowing":i.value},a.value,e.class]),style:It(e.style),tabindex:T.value||o.selected.value.length?-1:0,onFocus:I},{default:()=>[K.value&&p("div",{key:"prev",class:rt(["v-slide-group__prev",{"v-slide-group__prev--disabled":!ee.value}]),onMousedown:R,onClick:()=>ee.value&&O("prev")},[n.prev?.(W.value)??l(Hv,null,{default:()=>[l(Xn,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),p("div",{key:"container",ref:m,class:rt(["v-slide-group__container",e.contentClass]),onScroll:E},[p("div",{ref:h,class:"v-slide-group__content",onFocusin:_,onFocusout:C,onKeydown:M},[n.default?.(W.value)])]),K.value&&p("div",{key:"next",class:rt(["v-slide-group__next",{"v-slide-group__next--disabled":!j.value}]),onMousedown:R,onClick:()=>j.value&&O("next")},[n.next?.(W.value)??l(Hv,null,{default:()=>[l(Xn,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]})),{selected:o.selected,scrollTo:O,scrollOffset:c,focus:se,hasPrev:ee,hasNext:j}}}),YH=Symbol.for("vuetify:v-chip-group"),oHe=et({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ga},...uI({scrollToActive:!1}),...Gt(),...YA({selectedClass:"v-chip--selected"}),...gn(),...Hn(),...Ii({variant:"tonal"})},"VChipGroup"),iHe=mt()({name:"VChipGroup",props:oHe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=or(e),{isSelected:a,select:s,next:o,prev:i,selected:c}=yd(e,YH);return jr({VChip:{baseColor:Qe(()=>e.baseColor),color:Qe(()=>e.color),disabled:Qe(()=>e.disabled),filter:Qe(()=>e.filter),variant:Qe(()=>e.variant)}}),yt(()=>{const A=$v.filterProps(e);return l($v,Ne(A,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>[n.default?.({isSelected:a,select:s,next:o,prev:i,selected:c.value})]})}),{}}}),lHe=et({activeClass:String,appendAvatar:String,appendIcon:qt,baseColor:String,closable:Boolean,closeIcon:{type:qt,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:qt,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:qt,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:as(),onClickOnce:as(),...vo(),...Gt(),...ra(),...Ba(),...XA(),...Or(),...Lp(),...uc(),...gn({tag:"span"}),...Hn(),...Ii({variant:"tonal"})},"VChip"),uh=mt()({name:"VChip",directives:{vRipple:Gs},props:lHe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{t:s}=ur(),{borderClasses:o}=No(e),{densityClasses:i}=$s(e),{elevationClasses:c}=Wa(e),{roundedClasses:A}=qr(e),{sizeClasses:u}=sh(e),{themeClasses:f}=or(e),m=en(e,"modelValue"),v=od(e,YH,!1),h=od(e,cI,!1),y=Np(e,n),w=Qe(()=>e.link!==!1&&y.isLink.value),b=Z(()=>!e.disabled&&e.link!==!1&&(!!v||e.link||y.isClickable.value)),B=Qe(()=>({"aria-label":s(e.closeLabel),disabled:e.disabled,onClick(_){_.preventDefault(),_.stopPropagation(),m.value=!1,r("click:close",_)}}));Ge(m,_=>{_?(v?.register(),h?.register()):(v?.unregister(),h?.unregister())});const{colorClasses:S,colorStyles:T,variantClasses:N}=qA(()=>({color:!v||v.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function k(_){r("click",_),b.value&&(y.navigate?.(_),v?.toggle())}function E(_){(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),k(_))}return()=>{const _=y.isLink.value?"a":e.tag,C=!!(e.appendIcon||e.appendAvatar),F=!!(C||a.append),I=!!(a.close||e.closable),R=!!(a.filter||e.filter)&&v,M=!!(e.prependIcon||e.prependAvatar),te=!!(M||a.prepend);return m.value&&Tr(l(_,Ne(y.linkProps,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":b.value,"v-chip--filter":R,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&y.isActive?.value},f.value,o.value,S.value,i.value,c.value,A.value,u.value,N.value,v?.selectedClass.value,e.class],style:[T.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:b.value?0:void 0,onClick:k,onKeydown:b.value&&!w.value&&E}),{default:()=>[gd(b.value,"v-chip"),R&&l(sI,{key:"filter"},{default:()=>[Tr(p("div",{class:"v-chip__filter"},[a.filter?l(Cn,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},a.filter):l(Xn,{key:"filter-icon",icon:e.filterIcon},null)]),[[Po,v.isSelected.value]])]}),te&&p("div",{key:"prepend",class:"v-chip__prepend"},[a.prepend?l(Cn,{key:"prepend-defaults",disabled:!M,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},a.prepend):p(ze,null,[e.prependIcon&&l(Xn,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&l(ei,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),p("div",{class:"v-chip__content","data-no-activator":""},[a.default?.({isSelected:v?.isSelected.value,selectedClass:v?.selectedClass.value,select:v?.select,toggle:v?.toggle,value:v?.value.value,disabled:e.disabled})??J(e.text)]),F&&p("div",{key:"append",class:"v-chip__append"},[a.append?l(Cn,{key:"append-defaults",disabled:!C,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},a.append):p(ze,null,[e.appendIcon&&l(Xn,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&l(ei,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),I&&p("button",Ne({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},B.value),[a.close?l(Cn,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},a.close):l(Xn,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}),[[Gs,b.value&&e.ripple,null]])}}}),cHe=et({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Gt(),...Hn()},"VDivider"),qo=mt()({name:"VDivider",props:cHe(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:a}=or(e),{textColorClasses:s,textColorStyles:o}=os(()=>e.color),i=Z(()=>{const c={};return e.length&&(c[e.vertical?"height":"width"]=Mt(e.length)),e.thickness&&(c[e.vertical?"borderRightWidth":"borderTopWidth"]=Mt(e.thickness)),c});return yt(()=>{const c=p("hr",{class:rt([{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},a.value,s.value,e.class]),style:It([i.value,o.value,{"--v-border-opacity":e.opacity},e.style]),"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return r.default?p("div",{class:rt(["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}])},[c,p("div",{class:"v-divider__content"},[r.default()]),c]):c}),{}}}),tB=Symbol.for("vuetify:list");function XH(){let{filterable:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const t=pn(tB,{filterable:!1,hasPrepend:kt(!1),updateHasPrepend:()=>null}),n={filterable:t.filterable||e,hasPrepend:kt(!1),updateHasPrepend:r=>{r&&(n.hasPrepend.value=r)}};return vr(tB,n),t}function ZH(){return pn(tB,null)}const dI=e=>{const t={activate:n=>{let{id:r,value:a,activated:s}=n;return r=un(r),e&&!a&&s.size===1&&s.has(r)||(a?s.add(r):s.delete(r)),s},in:(n,r,a)=>{let s=new Set;if(n!=null)for(const o of Wr(n))s=t.activate({id:o,value:!0,activated:new Set(s),children:r,parents:a});return s},out:n=>Array.from(n)};return t},e9=e=>{const t=dI(e);return{activate:r=>{let{activated:a,id:s,...o}=r;s=un(s);const i=a.has(s)?new Set([s]):new Set;return t.activate({...o,id:s,activated:i})},in:(r,a,s)=>{let o=new Set;if(r!=null){const i=Wr(r);i.length&&(o=t.in(i.slice(0,1),a,s))}return o},out:(r,a,s)=>t.out(r,a,s)}},uHe=e=>{const t=dI(e);return{activate:r=>{let{id:a,activated:s,children:o,...i}=r;return a=un(a),o.has(a)?s:t.activate({id:a,activated:s,children:o,...i})},in:t.in,out:t.out}},dHe=e=>{const t=e9(e);return{activate:r=>{let{id:a,activated:s,children:o,...i}=r;return a=un(a),o.has(a)?s:t.activate({id:a,activated:s,children:o,...i})},in:t.in,out:t.out}},AHe={open:e=>{let{id:t,value:n,opened:r,parents:a}=e;if(n){const s=new Set;s.add(t);let o=a.get(t);for(;o!=null;)s.add(o),o=a.get(o);return s}else return r.delete(t),r},select:()=>null},t9={open:e=>{let{id:t,value:n,opened:r,parents:a}=e;if(n){let s=a.get(t);for(r.add(t);s!=null&&s!==t;)r.add(s),s=a.get(s);return r}else r.delete(t);return r},select:()=>null},fHe={open:t9.open,select:e=>{let{id:t,value:n,opened:r,parents:a}=e;if(!n)return r;const s=[];let o=a.get(t);for(;o!=null;)s.push(o),o=a.get(o);return new Set(s)}},AI=e=>{const t={select:n=>{let{id:r,value:a,selected:s}=n;if(r=un(r),e&&!a){const o=Array.from(s.entries()).reduce((i,c)=>{let[A,u]=c;return u==="on"&&i.push(A),i},[]);if(o.length===1&&o[0]===r)return s}return s.set(r,a?"on":"off"),s},in:(n,r,a,s)=>{const o=new Map;for(const i of n||[])t.select({id:i,value:!0,selected:o,children:r,parents:a,disabled:s});return o},out:n=>{const r=[];for(const[a,s]of n.entries())s==="on"&&r.push(a);return r}};return t},n9=e=>{const t=AI(e);return{select:r=>{let{selected:a,id:s,...o}=r;s=un(s);const i=a.has(s)?new Map([[s,a.get(s)]]):new Map;return t.select({...o,id:s,selected:i})},in:(r,a,s,o)=>r?.length?t.in(r.slice(0,1),a,s,o):new Map,out:(r,a,s)=>t.out(r,a,s)}},mHe=e=>{const t=AI(e);return{select:r=>{let{id:a,selected:s,children:o,...i}=r;return a=un(a),o.has(a)?s:t.select({id:a,selected:s,children:o,...i})},in:t.in,out:t.out}},hHe=e=>{const t=n9(e);return{select:r=>{let{id:a,selected:s,children:o,...i}=r;return a=un(a),o.has(a)?s:t.select({id:a,selected:s,children:o,...i})},in:t.in,out:t.out}},r9=e=>{const t={select:n=>{let{id:r,value:a,selected:s,children:o,parents:i,disabled:c}=n;r=un(r);const A=new Map(s),u=[r];for(;u.length;){const m=u.shift();c.has(m)||s.set(un(m),a?"on":"off"),o.has(m)&&u.push(...o.get(m))}let f=un(i.get(r));for(;f;){let m=!0,v=!0;for(const h of o.get(f)){const y=un(h);if(!c.has(y)&&(s.get(y)!=="on"&&(m=!1),s.has(y)&&s.get(y)!=="off"&&(v=!1),!m&&!v))break}s.set(f,m?"on":v?"off":"indeterminate"),f=un(i.get(f))}return e&&!a&&Array.from(s.entries()).reduce((v,h)=>{let[y,w]=h;return w==="on"&&v.push(y),v},[]).length===0?A:s},in:(n,r,a,s)=>{let o=new Map;for(const i of n||[])o=t.select({id:i,value:!0,selected:o,children:r,parents:a,disabled:s});return o},out:(n,r)=>{const a=[];for(const[s,o]of n.entries())o==="on"&&!r.has(s)&&a.push(s);return a}};return t},vHe=e=>{const t=r9(e);return{select:t.select,in:t.in,out:(r,a,s)=>{const o=[];for(const[i,c]of r.entries())if(c==="on"){if(s.has(i)){const A=s.get(i);if(r.get(A)==="on")continue}o.push(i)}return o}}},Wv=Symbol.for("vuetify:nested"),a9={id:kt(),root:{register:()=>null,unregister:()=>null,children:H(new Map),parents:H(new Map),disabled:H(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:H(!1),selectable:H(!1),opened:H(new Set),activated:H(new Set),selected:H(new Map),selectedValues:H([]),getPath:()=>[]}},pHe=et({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),gHe=e=>{let t=!1;const n=kt(new Map),r=kt(new Map),a=kt(new Set),s=en(e,"opened",e.opened,y=>new Set(Array.isArray(y)?y.map(w=>un(w)):y),y=>[...y.values()]),o=Z(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return uHe(e.mandatory);case"single-leaf":return dHe(e.mandatory);case"independent":return dI(e.mandatory);case"single-independent":default:return e9(e.mandatory)}}),i=Z(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return hHe(e.mandatory);case"leaf":return mHe(e.mandatory);case"independent":return AI(e.mandatory);case"single-independent":return n9(e.mandatory);case"trunk":return vHe(e.mandatory);case"classic":default:return r9(e.mandatory)}}),c=Z(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return fHe;case"single":return AHe;case"multiple":default:return t9}}),A=en(e,"activated",e.activated,y=>o.value.in(y,n.value,r.value),y=>o.value.out(y,n.value,r.value)),u=en(e,"selected",e.selected,y=>i.value.in(y,n.value,r.value,a.value),y=>i.value.out(y,n.value,r.value));Br(()=>{t=!0});function f(y){const w=[];let b=un(y);for(;b!==void 0;)w.unshift(b),b=r.value.get(b);return w}const m=na("nested"),v=new Set,h={id:kt(),root:{opened:s,activatable:Qe(()=>e.activatable),selectable:Qe(()=>e.selectable),activated:A,selected:u,selectedValues:Z(()=>{const y=[];for(const[w,b]of u.value.entries())b==="on"&&y.push(w);return y}),register:(y,w,b,B)=>{if(v.has(y)){f(y).map(String).join(" -> "),f(w).concat(y).map(String).join(" -> ");return}else v.add(y);w&&y!==w&&r.value.set(y,w),b&&a.value.add(y),B&&n.value.set(y,[]),w!=null&&n.value.set(w,[...n.value.get(w)||[],y])},unregister:y=>{if(t)return;v.delete(y),n.value.delete(y),a.value.delete(y);const w=r.value.get(y);if(w){const b=n.value.get(w)??[];n.value.set(w,b.filter(B=>B!==y))}r.value.delete(y)},open:(y,w,b)=>{m.emit("click:open",{id:y,value:w,path:f(y),event:b});const B=c.value.open({id:y,value:w,opened:new Set(s.value),children:n.value,parents:r.value,event:b});B&&(s.value=B)},openOnSelect:(y,w,b)=>{const B=c.value.select({id:y,value:w,selected:new Map(u.value),opened:new Set(s.value),children:n.value,parents:r.value,event:b});B&&(s.value=B)},select:(y,w,b)=>{m.emit("click:select",{id:y,value:w,path:f(y),event:b});const B=i.value.select({id:y,value:w,selected:new Map(u.value),children:n.value,parents:r.value,disabled:a.value,event:b});B&&(u.value=B),h.root.openOnSelect(y,w,b)},activate:(y,w,b)=>{if(!e.activatable)return h.root.select(y,!0,b);m.emit("click:activate",{id:y,value:w,path:f(y),event:b});const B=o.value.activate({id:y,value:w,activated:new Set(A.value),children:n.value,parents:r.value,event:b});if(B.size!==A.value.size)A.value=B;else{for(const S of B)if(!A.value.has(S)){A.value=B;return}for(const S of A.value)if(!B.has(S)){A.value=B;return}}},children:n,parents:r,disabled:a,getPath:f}};return vr(Wv,h),h.root},s9=(e,t,n)=>{const r=pn(Wv,a9),a=Symbol("nested item"),s=Z(()=>{const i=un(Os(e));return i!==void 0?i:a}),o={...r,id:s,open:(i,c)=>r.root.open(s.value,i,c),openOnSelect:(i,c)=>r.root.openOnSelect(s.value,i,c),isOpen:Z(()=>r.root.opened.value.has(s.value)),parent:Z(()=>r.root.parents.value.get(s.value)),activate:(i,c)=>r.root.activate(s.value,i,c),isActivated:Z(()=>r.root.activated.value.has(s.value)),select:(i,c)=>r.root.select(s.value,i,c),isSelected:Z(()=>r.root.selected.value.get(s.value)==="on"),isIndeterminate:Z(()=>r.root.selected.value.get(s.value)==="indeterminate"),isLeaf:Z(()=>!r.root.children.value.get(s.value)),isGroupActivator:r.isGroupActivator};return Al(()=>{r.isGroupActivator||An(()=>{r.root.register(s.value,r.id.value,Os(t),n)})}),Br(()=>{r.isGroupActivator||r.root.unregister(s.value)}),Ge(s,(i,c)=>{r.isGroupActivator||(r.root.unregister(c),An(()=>{r.root.register(i,r.id.value,Os(t),n)}))}),n&&vr(Wv,o),o},yHe=()=>{const e=pn(Wv,a9);vr(Wv,{...e,isGroupActivator:!0})},wHe=ti({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return yHe(),()=>n.default?.()}}),o9=et({activeColor:String,baseColor:String,color:String,collapseIcon:{type:qt,default:"$collapse"},disabled:Boolean,expandIcon:{type:qt,default:"$expand"},rawId:[String,Number],prependIcon:qt,appendIcon:qt,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Gt(),...gn()},"VListGroup"),jv=mt()({name:"VListGroup",props:o9(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:a,id:s}=s9(()=>e.value,()=>e.disabled,!0),o=Z(()=>`v-list-group--id-${String(e.rawId??s.value)}`),i=ZH(),{isBooted:c}=JA();function A(v){["INPUT","TEXTAREA"].includes(v.target?.tagName)||a(!r.value,v)}const u=Z(()=>({onClick:A,class:"v-list-group__header",id:o.value})),f=Z(()=>r.value?e.collapseIcon:e.expandIcon),m=Z(()=>({VListItem:{activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&f.value,appendIcon:e.appendIcon||!e.subgroup&&f.value,title:e.title,value:e.value}}));return yt(()=>l(e.tag,{class:rt(["v-list-group",{"v-list-group--prepend":i?.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class]),style:It(e.style)},{default:()=>[n.activator&&l(Cn,{defaults:m.value},{default:()=>[l(wHe,null,{default:()=>[n.activator({props:u.value,isOpen:r.value})]})]}),l(Vs,{transition:{component:Xw},disabled:!c.value},{default:()=>[Tr(p("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[n.default?.()]),[[Po,r.value]])]})]})),{isOpen:r}}}),_He=et({opacity:[Number,String],...Gt(),...gn()},"VListItemSubtitle"),i9=mt()({name:"VListItemSubtitle",props:_He(),setup(e,t){let{slots:n}=t;return yt(()=>l(e.tag,{class:rt(["v-list-item-subtitle",e.class]),style:It([{"--v-list-item-subtitle-opacity":e.opacity},e.style])},n)),{}}}),l9=ru("v-list-item-title"),c9=et({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:qt,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:qt,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:as(),onClickOnce:as(),...vo(),...Gt(),...ra(),...Aa(),...Ba(),...Or(),...Lp(),...gn(),...Hn(),...Ii({variant:"text"})},"VListItem"),ul=mt()({name:"VListItem",directives:{vRipple:Gs},props:c9(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:a}=t;const s=Np(e,n),o=Z(()=>e.value===void 0?s.href.value:e.value),{activate:i,isActivated:c,select:A,isOpen:u,isSelected:f,isIndeterminate:m,isGroupActivator:v,root:h,parent:y,openOnSelect:w,id:b}=s9(o,()=>e.disabled,!1),B=ZH(),S=Z(()=>e.active!==!1&&(e.active||s.isActive?.value||(h.activatable.value?c.value:f.value))),T=Qe(()=>e.link!==!1&&s.isLink.value),N=Z(()=>!!B&&(h.selectable.value||h.activatable.value||e.value!=null)),k=Z(()=>!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||N.value)),E=Z(()=>B?T.value?"link":N.value?"option":"listitem":void 0),_=Z(()=>{if(N.value)return h.activatable.value?c.value:h.selectable.value?f.value:S.value}),C=Qe(()=>e.rounded||e.nav),F=Qe(()=>e.color??e.activeColor),I=Qe(()=>({color:S.value?F.value??e.baseColor:e.baseColor,variant:e.variant}));Ge(()=>s.isActive?.value,q=>{q&&R()}),Al(()=>{s.isActive?.value&&An(()=>R())});function R(){y.value!=null&&h.open(y.value,!0),w(!0)}const{themeClasses:M}=or(e),{borderClasses:te}=No(e),{colorClasses:se,colorStyles:O,variantClasses:W}=qA(I),{densityClasses:le}=$s(e),{dimensionStyles:K}=fa(e),{elevationClasses:ee}=Wa(e),{roundedClasses:j}=qr(C),U=Qe(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),G=Qe(()=>e.ripple!==void 0&&e.ripple&&B?.filterable?{keys:["Enter"]}:e.ripple),ne=Z(()=>({isActive:S.value,select:A,isOpen:u.value,isSelected:f.value,isIndeterminate:m.value}));function X(q){a("click",q),!["INPUT","TEXTAREA"].includes(q.target?.tagName)&&k.value&&(s.navigate?.(q),!v&&(h.activatable.value?i(!c.value,q):(h.selectable.value||e.value!=null&&!T.value)&&A(!f.value,q)))}function oe(q){const Y=q.target;["INPUT","TEXTAREA"].includes(Y.tagName)||(q.key==="Enter"||q.key===" "&&!B?.filterable)&&(q.preventDefault(),q.stopPropagation(),q.target.dispatchEvent(new MouseEvent("click",q)))}return yt(()=>{const q=T.value?"a":e.tag,Y=r.title||e.title!=null,ae=r.subtitle||e.subtitle!=null,ge=!!(e.appendAvatar||e.appendIcon),we=!!(ge||r.append),z=!!(e.prependAvatar||e.prependIcon),Ae=!!(z||r.prepend);return B?.updateHasPrepend(Ae),e.activeColor&&R6("active-color",["color","base-color"]),Tr(l(q,Ne(s.linkProps,{class:["v-list-item",{"v-list-item--active":S.value,"v-list-item--disabled":e.disabled,"v-list-item--link":k.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!Ae&&B?.hasPrepend.value,"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&S.value},M.value,te.value,se.value,le.value,ee.value,U.value,j.value,W.value,e.class],style:[O.value,K.value,e.style],tabindex:k.value?B?-2:0:void 0,"aria-selected":_.value,role:E.value,onClick:X,onKeydown:k.value&&!T.value&&oe}),{default:()=>[gd(k.value||S.value,"v-list-item"),Ae&&p("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?l(Cn,{key:"prepend-defaults",disabled:!z,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>[r.prepend?.(ne.value)]}):p(ze,null,[e.prependAvatar&&l(ei,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&l(Xn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),p("div",{class:"v-list-item__spacer"},null)]),p("div",{class:"v-list-item__content","data-no-activator":""},[Y&&l(l9,{key:"title"},{default:()=>[r.title?.({title:e.title})??J(e.title)]}),ae&&l(i9,{key:"subtitle"},{default:()=>[r.subtitle?.({subtitle:e.subtitle})??J(e.subtitle)]}),r.default?.(ne.value)]),we&&p("div",{key:"append",class:"v-list-item__append"},[r.append?l(Cn,{key:"append-defaults",disabled:!ge,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>[r.append?.(ne.value)]}):p(ze,null,[e.appendIcon&&l(Xn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&l(ei,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),p("div",{class:"v-list-item__spacer"},null)])]}),[[Gs,k.value&&G.value]])}),{activate:i,isActivated:c,isGroupActivator:v,isSelected:f,list:B,select:A,root:h,id:b,link:s}}}),bHe=et({color:String,inset:Boolean,sticky:Boolean,title:String,...Gt(),...gn()},"VListSubheader"),dh=mt()({name:"VListSubheader",props:bHe(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:a}=os(()=>e.color);return yt(()=>{const s=!!(n.default||e.title);return l(e.tag,{class:rt(["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class]),style:It([{textColorStyles:a},e.style])},{default:()=>[s&&p("div",{class:"v-list-subheader__text"},[n.default?.()??e.title])]})}),{}}}),xHe=et({items:Array,returnObject:Boolean},"VListChildren"),u9=mt()({name:"VListChildren",props:xHe(),setup(e,t){let{slots:n}=t;return XH(),()=>n.default?.()??e.items?.map(r=>{let{children:a,props:s,type:o,raw:i}=r;if(o==="divider")return n.divider?.({props:s})??l(qo,s,null);if(o==="subheader")return n.subheader?.({props:s})??l(dh,s,null);const c={subtitle:n.subtitle?u=>n.subtitle?.({...u,item:i}):void 0,prepend:n.prepend?u=>n.prepend?.({...u,item:i}):void 0,append:n.append?u=>n.append?.({...u,item:i}):void 0,title:n.title?u=>n.title?.({...u,item:i}):void 0},A=jv.filterProps(s);return a?l(jv,Ne(A,{value:e.returnObject?i:s?.value,rawId:s?.value}),{activator:u=>{let{props:f}=u;const m=Ne(s,f,{value:e.returnObject?i:s.value});return n.header?n.header({props:m}):l(ul,m,c)},default:()=>l(u9,{items:a,returnObject:e.returnObject},n)}):n.item?n.item({props:s}):l(ul,Ne(s,{value:e.returnObject?i:s.value}),c)})}}),d9=et({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items"),CHe=new Set(["item","divider","subheader"]);function zi(e,t){const n=la(t,e.itemTitle,t),r=la(t,e.itemValue,n),a=la(t,e.itemChildren),s=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?cr(t,["children"]):t:void 0:la(t,e.itemProps);let o=la(t,e.itemType,"item");CHe.has(o)||(o="item");const i={title:n,value:r,...s};return{type:o,title:String(i.title??""),value:i.value,props:i,children:o==="item"&&Array.isArray(a)?A9(e,a):void 0,raw:t}}zi.neededProps=["itemTitle","itemValue","itemChildren","itemProps","itemType"];function A9(e,t){const n=Do(e,zi.neededProps),r=[];for(const a of t)r.push(zi(n,a));return r}function fI(e){const t=Z(()=>A9(e,e.items)),n=Z(()=>t.value.some(i=>i.value===null)),r=kt(new Map),a=kt([]);Mr(()=>{const i=t.value,c=new Map,A=[];for(let u=0;u<i.length;u++){const f=i[u];if(TC(f.value)||f.value===null){let m=c.get(f.value);m||(m=[],c.set(f.value,m)),m.push(f)}else A.push(f)}r.value=c,a.value=A});function s(i){const c=r.value,A=t.value,u=a.value,f=n.value,m=e.returnObject,v=!!e.valueComparator,h=e.valueComparator||Ga,y=Do(e,zi.neededProps),w=[];e:for(const b of i){if(!f&&b===null)continue;if(m&&typeof b=="string"){w.push(zi(y,b));continue}const B=c.get(b);if(v||!B){for(const S of v?A:u)if(h(b,S.value)){w.push(S);continue e}w.push(zi(y,b));continue}w.push(...B)}return w}function o(i){return e.returnObject?i.map(c=>{let{raw:A}=c;return A}):i.map(c=>{let{value:A}=c;return A})}return{items:t,transformIn:s,transformOut:o}}const EHe=new Set(["item","divider","subheader"]);function BHe(e,t){const n=TC(t)?t:la(t,e.itemTitle),r=TC(t)?t:la(t,e.itemValue,void 0),a=la(t,e.itemChildren),s=e.itemProps===!0?cr(t,["children"]):la(t,e.itemProps);let o=la(t,e.itemType,"item");EHe.has(o)||(o="item");const i={title:n,value:r,...s};return{type:o,title:i.title,value:i.value,props:i,children:o==="item"&&a?f9(e,a):void 0,raw:t}}function f9(e,t){const n=[];for(const r of t)n.push(BHe(e,r));return n}function m9(e){return{items:Z(()=>f9(e,e.items))}}const h9=et({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:qt,collapseIcon:qt,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":as(),"onClick:select":as(),"onUpdate:opened":as(),...pHe({selectStrategy:"single-leaf",openStrategy:"list"}),...vo(),...Gt(),...ra(),...Aa(),...Ba(),...d9(),...Or(),...gn(),...Hn(),...Ii({variant:"text"})},"VList"),Vm=mt()({name:"VList",props:h9(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=m9(e),{themeClasses:a}=or(e),{backgroundColorClasses:s,backgroundColorStyles:o}=lr(()=>e.bgColor),{borderClasses:i}=No(e),{densityClasses:c}=$s(e),{dimensionStyles:A}=fa(e),{elevationClasses:u}=Wa(e),{roundedClasses:f}=qr(e),{children:m,open:v,parents:h,select:y,getPath:w}=gHe(e),b=Qe(()=>e.lines?`v-list--${e.lines}-line`:void 0),B=Qe(()=>e.activeColor),S=Qe(()=>e.baseColor),T=Qe(()=>e.color),N=Qe(()=>e.selectable||e.activatable);XH({filterable:e.filterable}),jr({VListGroup:{activeColor:B,baseColor:S,color:T,expandIcon:Qe(()=>e.expandIcon),collapseIcon:Qe(()=>e.collapseIcon)},VListItem:{activeClass:Qe(()=>e.activeClass),activeColor:B,baseColor:S,color:T,density:Qe(()=>e.density),disabled:Qe(()=>e.disabled),lines:Qe(()=>e.lines),nav:Qe(()=>e.nav),slim:Qe(()=>e.slim),variant:Qe(()=>e.variant)}});const k=kt(!1),E=H();function _(te){k.value=!0}function C(te){k.value=!1}function F(te){!k.value&&!(te.relatedTarget&&E.value?.contains(te.relatedTarget))&&M()}function I(te){const se=te.target;if(!(!E.value||se.tagName==="INPUT"&&["Home","End"].includes(te.key)||se.tagName==="TEXTAREA")){if(te.key==="ArrowDown")M("next");else if(te.key==="ArrowUp")M("prev");else if(te.key==="Home")M("first");else if(te.key==="End")M("last");else return;te.preventDefault()}}function R(te){k.value=!0}function M(te){if(E.value)return sA(E.value,te)}return yt(()=>l(e.tag,{ref:E,class:rt(["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},a.value,s.value,i.value,c.value,u.value,b.value,f.value,e.class]),style:It([o.value,A.value,e.style]),tabindex:e.disabled?-1:0,role:N.value?"listbox":"list","aria-activedescendant":void 0,onFocusin:_,onFocusout:C,onFocus:F,onKeydown:I,onMousedown:R},{default:()=>[l(u9,{items:r.value,returnObject:e.returnObject},n)]})),{open:v,select:y,focus:M,children:m,parents:h,getPath:w}}}),SHe=ru("v-list-img"),kHe=et({start:Boolean,end:Boolean,...Gt(),...gn()},"VListItemAction"),mI=mt()({name:"VListItemAction",props:kHe(),setup(e,t){let{slots:n}=t;return yt(()=>l(e.tag,{class:rt(["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class]),style:It(e.style)},n)),{}}}),IHe=et({start:Boolean,end:Boolean,...Gt(),...gn()},"VListItemMedia"),THe=mt()({name:"VListItemMedia",props:IHe(),setup(e,t){let{slots:n}=t;return yt(()=>l(e.tag,{class:rt(["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class]),style:It(e.style)},n)),{}}});function Xx(e,t){return{x:e.x+t.x,y:e.y+t.y}}function FHe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ER(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,a=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,s=n==="top"?0:n==="bottom"?t.height:n;return Xx({x:a,y:s},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,a=n==="left"?0:n==="right"?t.width:n,s=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return Xx({x:a,y:s},t)}return Xx({x:t.width/2,y:t.height/2},t)}const v9={static:UHe,connected:NHe},PHe=et({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in v9},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array],stickToTarget:Boolean},"VOverlay-location-strategies");function DHe(e,t){const n=H({}),r=H();Zn&&hs(()=>!!(t.isActive.value&&e.locationStrategy),i=>{Ge(()=>e.locationStrategy,i),Ra(()=>{window.removeEventListener("resize",a),visualViewport?.removeEventListener("resize",s),visualViewport?.removeEventListener("scroll",o),r.value=void 0}),window.addEventListener("resize",a,{passive:!0}),visualViewport?.addEventListener("resize",s,{passive:!0}),visualViewport?.addEventListener("scroll",o,{passive:!0}),typeof e.locationStrategy=="function"?r.value=e.locationStrategy(t,e,n)?.updateLocation:r.value=v9[e.locationStrategy](t,e,n)?.updateLocation});function a(i){r.value?.(i)}function s(i){r.value?.(i)}function o(i){r.value?.(i)}return{contentStyles:n,updateLocation:r}}function UHe(){}function RHe(e,t){const n=vS(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function NHe(e,t,n){(Array.isArray(e.target.value)||vee(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:a,preferredOrigin:s}=hS(()=>{const b=FC(t.location,e.isRtl.value),B=t.origin==="overlap"?b:t.origin==="auto"?Mb(b):FC(t.origin,e.isRtl.value);return b.side===B.side&&b.align===Ob(B).align?{preferredAnchor:nP(b),preferredOrigin:nP(B)}:{preferredAnchor:b,preferredOrigin:B}}),[o,i,c,A]=["minWidth","minHeight","maxWidth","maxHeight"].map(b=>Z(()=>{const B=parseFloat(t[b]);return isNaN(B)?1/0:B})),u=Z(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const b=t.offset.split(" ").map(parseFloat);return b.length<2&&b.push(0),b}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1,m=-1;const v=new I6(4),h=new ResizeObserver(()=>{if(!f)return;if(requestAnimationFrame(B=>{B!==m&&v.clear(),requestAnimationFrame(S=>{m=S})}),v.isFull){const B=v.values();if(Ga(B.at(-1),B.at(-3))&&!Ga(B.at(-1),B.at(-2)))return}const b=w();b&&v.push(b.flipped)});let y=new yi({x:0,y:0,width:0,height:0});Ge(e.target,(b,B)=>{B&&!Array.isArray(B)&&h.unobserve(B),Array.isArray(b)?Ga(b,B)||w():b&&h.observe(b)},{immediate:!0}),Ge(e.contentEl,(b,B)=>{B&&h.unobserve(B),b&&h.observe(b)},{immediate:!0}),Ra(()=>{h.disconnect()});function w(){if(f=!1,requestAnimationFrame(()=>f=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(y=U6(e.target.value));const b=RHe(e.contentEl.value,e.isRtl.value),B=Uy(e.contentEl.value),S=12;B.length||(B.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(b.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),b.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const T=B.reduce((M,te)=>{const se=MZ(te);return M?new yi({x:Math.max(M.left,se.left),y:Math.max(M.top,se.top),width:Math.min(M.right,se.right)-Math.max(M.left,se.left),height:Math.min(M.bottom,se.bottom)-Math.max(M.top,se.top)}):se},void 0);T.x+=S,T.y+=S,T.width-=S*2,T.height-=S*2;let N={anchor:a.value,origin:s.value};function k(M){const te=new yi(b),se=ER(M.anchor,y),O=ER(M.origin,te);let{x:W,y:le}=FHe(se,O);switch(M.anchor.side){case"top":le-=u.value[0];break;case"bottom":le+=u.value[0];break;case"left":W-=u.value[0];break;case"right":W+=u.value[0];break}switch(M.anchor.align){case"top":le-=u.value[1];break;case"bottom":le+=u.value[1];break;case"left":W-=u.value[1];break;case"right":W+=u.value[1];break}return te.x+=W,te.y+=le,te.width=Math.min(te.width,c.value),te.height=Math.min(te.height,A.value),{overflows:aP(te,T),x:W,y:le}}let E=0,_=0;const C={x:0,y:0},F={x:!1,y:!1};let I=-1;for(;!(I++>10);){const{x:M,y:te,overflows:se}=k(N);E+=M,_+=te,b.x+=M,b.y+=te;{const O=rP(N.anchor),W=se.x.before||se.x.after,le=se.y.before||se.y.after;let K=!1;if(["x","y"].forEach(ee=>{if(ee==="x"&&W&&!F.x||ee==="y"&&le&&!F.y){const j={anchor:{...N.anchor},origin:{...N.origin}},U=ee==="x"?O==="y"?Ob:Mb:O==="y"?Mb:Ob;j.anchor=U(j.anchor),j.origin=U(j.origin);const{overflows:G}=k(j);(G[ee].before<=se[ee].before&&G[ee].after<=se[ee].after||G[ee].before+G[ee].after<(se[ee].before+se[ee].after)/2)&&(N=j,K=F[ee]=!0)}}),K)continue}se.x.before&&(t.stickToTarget||(E+=se.x.before),b.x+=se.x.before),se.x.after&&(t.stickToTarget||(E-=se.x.after),b.x-=se.x.after),se.y.before&&(t.stickToTarget||(_+=se.y.before),b.y+=se.y.before),se.y.after&&(t.stickToTarget||(_-=se.y.after),b.y-=se.y.after);{const O=aP(b,T);C.x=T.width-O.x.before-O.x.after,C.y=T.height-O.y.before-O.y.after,t.stickToTarget||(E+=O.x.before),b.x+=O.x.before,t.stickToTarget||(_+=O.y.before),b.y+=O.y.before}break}const R=rP(N.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${N.anchor.side} ${N.anchor.align}`,transformOrigin:`${N.origin.side} ${N.origin.align}`,top:Mt(Zx(_)),left:e.isRtl.value?void 0:Mt(Zx(E)),right:e.isRtl.value?Mt(Zx(-E)):void 0,minWidth:Mt(R==="y"?Math.min(o.value,y.width):o.value),maxWidth:Mt(BR(Er(C.x,o.value===1/0?0:o.value,c.value))),maxHeight:Mt(BR(Er(C.y,i.value===1/0?0:i.value,A.value)))}),{available:C,contentBox:b,flipped:F}}return Ge(()=>[a.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>w()),An(()=>{const b=w();if(!b)return;const{available:B,contentBox:S}=b;S.height>B.y&&requestAnimationFrame(()=>{w(),requestAnimationFrame(()=>{w()})})}),{updateLocation:w}}function Zx(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function BR(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let nB=!0;const F2=[];function LHe(e){!nB||F2.length?(F2.push(e),rB()):(nB=!1,e(),rB())}let SR=-1;function rB(){cancelAnimationFrame(SR),SR=requestAnimationFrame(()=>{const e=F2.shift();e&&e(),F2.length?rB():nB=!0})}const p9={none:null,close:OHe,block:QHe,reposition:HHe},VHe=et({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in p9}},"VOverlay-scroll-strategies");function MHe(e,t){if(!Zn)return;let n;Mr(async()=>{n?.stop(),t.isActive.value&&e.scrollStrategy&&(n=Zu(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):p9[e.scrollStrategy]?.(t,e,n)}))}),Ra(()=>{n?.stop()})}function OHe(e){function t(n){e.isActive.value=!1}g9(hI(e.target.value,e.contentEl.value),t)}function QHe(e,t){const n=e.root.value?.offsetParent,r=hI(e.target.value,e.contentEl.value),a=[...new Set([...Uy(r,t.contained?n:void 0),...Uy(e.contentEl.value,t.contained?n:void 0)])].filter(i=>!i.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,o=(i=>wS(i)&&i)(n||document.documentElement);o&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((i,c)=>{i.style.setProperty("--v-body-scroll-x",Mt(-i.scrollLeft)),i.style.setProperty("--v-body-scroll-y",Mt(-i.scrollTop)),i!==document.documentElement&&i.style.setProperty("--v-scrollbar-offset",Mt(s)),i.classList.add("v-overlay-scroll-blocked")}),Ra(()=>{a.forEach((i,c)=>{const A=parseFloat(i.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(i.style.getPropertyValue("--v-body-scroll-y")),f=i.style.scrollBehavior;i.style.scrollBehavior="auto",i.style.removeProperty("--v-body-scroll-x"),i.style.removeProperty("--v-body-scroll-y"),i.style.removeProperty("--v-scrollbar-offset"),i.classList.remove("v-overlay-scroll-blocked"),i.scrollLeft=-A,i.scrollTop=-u,i.style.scrollBehavior=f}),o&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function HHe(e,t,n){let r=!1,a=-1,s=-1;function o(i){LHe(()=>{const c=performance.now();e.updateLocation.value?.(i),r=(performance.now()-c)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?i=>i():requestIdleCallback)(()=>{n.run(()=>{g9(hI(e.target.value,e.contentEl.value),i=>{r?(cancelAnimationFrame(a),a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{o(i)})})):o(i)})})}),Ra(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(a)})}function hI(e,t){return Array.isArray(e)?document.elementsFromPoint(...e).find(n=>!t?.contains(n)):e??t}function g9(e,t){const n=[document,...Uy(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),Ra(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const aB=Symbol.for("vuetify:v-menu"),vI=et({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function pI(e,t){let n=()=>{};function r(o){n?.();const i=Number(o?e.openDelay:e.closeDelay);return new Promise(c=>{n=DZ(i,()=>{t?.(o),c(o)})})}function a(){return r(!0)}function s(){return r(!1)}return{clearDelay:n,runOpenDelay:a,runCloseDelay:s}}const KHe=et({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...vI()},"VOverlay-activator");function GHe(e,t){let{isActive:n,isTop:r,contentEl:a}=t;const s=na("useActivator"),o=H();let i=!1,c=!1,A=!0;const u=Z(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),f=Z(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!u.value),{runOpenDelay:m,runCloseDelay:v}=pI(e,_=>{_===(e.openOnHover&&i||u.value&&c)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==_&&(A=!0),n.value=_)}),h=H(),y={onClick:_=>{_.stopPropagation(),o.value=_.currentTarget||_.target,n.value||(h.value=[_.clientX,_.clientY]),n.value=!n.value},onMouseenter:_=>{_.sourceCapabilities?.firesTouchEvents||(i=!0,o.value=_.currentTarget||_.target,m())},onMouseleave:_=>{i=!1,v()},onFocus:_=>{xm(_.target,":focus-visible")!==!1&&(c=!0,_.stopPropagation(),o.value=_.currentTarget||_.target,m())},onBlur:_=>{c=!1,_.stopPropagation(),v()}},w=Z(()=>{const _={};return f.value&&(_.onClick=y.onClick),e.openOnHover&&(_.onMouseenter=y.onMouseenter,_.onMouseleave=y.onMouseleave),u.value&&(_.onFocus=y.onFocus,_.onBlur=y.onBlur),_}),b=Z(()=>{const _={};if(e.openOnHover&&(_.onMouseenter=()=>{i=!0,m()},_.onMouseleave=()=>{i=!1,v()}),u.value&&(_.onFocusin=()=>{c=!0,m()},_.onFocusout=()=>{c=!1,v()}),e.closeOnContentClick){const C=pn(aB,null);_.onClick=()=>{n.value=!1,C?.closeParents()}}return _}),B=Z(()=>{const _={};return e.openOnHover&&(_.onMouseenter=()=>{A&&(i=!0,A=!1,m())},_.onMouseleave=()=>{i=!1,v()}),_});Ge(r,_=>{_&&(e.openOnHover&&!i&&(!u.value||!c)||u.value&&!c&&(!e.openOnHover||!i))&&!a.value?.contains(document.activeElement)&&(n.value=!1)}),Ge(n,_=>{_||setTimeout(()=>{h.value=void 0})},{flush:"post"});const S=Fy();Mr(()=>{S.value&&An(()=>{o.value=S.el})});const T=Fy(),N=Z(()=>e.target==="cursor"&&h.value?h.value:T.value?T.el:y9(e.target,s)||o.value),k=Z(()=>Array.isArray(N.value)?void 0:N.value);let E;return Ge(()=>!!e.activator,_=>{_&&Zn?(E=Zu(),E.run(()=>{zHe(e,s,{activatorEl:o,activatorEvents:w})})):E&&E.stop()},{flush:"post",immediate:!0}),Ra(()=>{E?.stop()}),{activatorEl:o,activatorRef:S,target:N,targetEl:k,targetRef:T,activatorEvents:w,contentEvents:b,scrimEvents:B}}function zHe(e,t,n){let{activatorEl:r,activatorEvents:a}=n;Ge(()=>e.activator,(c,A)=>{if(A&&c!==A){const u=i(A);u&&o(u)}c&&An(()=>s())},{immediate:!0}),Ge(()=>e.activatorProps,()=>{s()}),Ra(()=>{o()});function s(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i(),A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;c&&OZ(c,Ne(a.value,A))}function o(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:i(),A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;c&&QZ(c,Ne(a.value,A))}function i(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const A=y9(c,t);return r.value=A?.nodeType===Node.ELEMENT_NODE?A:void 0,r.value}}function y9(e,t){if(!e)return;let n;if(e==="parent"){let r=t?.proxy?.$el?.parentNode;for(;r?.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function w9(){if(!Zn)return kt(!1);const{ssr:e}=ni();if(e){const t=kt(!1);return fn(()=>{t.value=!0}),t}else return kt(!0)}const gI=et({eager:Boolean},"lazy");function yI(e,t){const n=kt(!1),r=Qe(()=>n.value||e.eager||t.value);Ge(t,()=>n.value=!0);function a(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:a}}function ef(){const t=na("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const kR=Symbol.for("vuetify:stack"),c0=Da([]);function $He(e,t,n){const r=na("useStack"),a=!n,s=pn(kR,void 0),o=Da({activeChildren:new Set});vr(kR,o);const i=kt(Number(Os(t)));hs(e,()=>{const u=c0.at(-1)?.[1];i.value=u?u+10:Number(Os(t)),a&&c0.push([r.uid,i.value]),s?.activeChildren.add(r.uid),Ra(()=>{if(a){const f=un(c0).findIndex(m=>m[0]===r.uid);c0.splice(f,1)}s?.activeChildren.delete(r.uid)})});const c=kt(!0);a&&Mr(()=>{const u=c0.at(-1)?.[0]===r.uid;setTimeout(()=>c.value=u)});const A=Qe(()=>!o.activeChildren.size);return{globalTop:pA(c),localTop:A,stackStyles:Qe(()=>({zIndex:i.value}))}}function WHe(e){return{teleportTarget:Z(()=>{const n=e();if(n===!0||!Zn)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let a=[...r.children].find(s=>s.matches(".v-overlay-container"));return a||(a=document.createElement("div"),a.className="v-overlay-container",r.appendChild(a)),a})}}function jHe(){return!0}function _9(e,t,n){if(!e||b9(e,n)===!1)return!1;const r=z6(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const a=(typeof n.value=="object"&&n.value.include||(()=>[]))();return a.push(t),!a.some(s=>s?.contains(e.target))}function b9(e,t){return(typeof t.value=="object"&&t.value.closeConditional||jHe)(e)}function JHe(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&_9(e,t,n)&&setTimeout(()=>{b9(e,n)&&r&&r(e)},0)}function IR(e,t){const n=z6(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const sB={mounted(e,t){const n=a=>JHe(a,e,t),r=a=>{e._clickOutside.lastMousedownWasOutside=_9(a,e,t)};IR(e,a=>{a.addEventListener("click",n,!0),a.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},beforeUnmount(e,t){e._clickOutside&&(IR(e,n=>{if(!n||!e._clickOutside?.[t.instance.$.uid])return;const{onClick:r,onMousedown:a}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",a,!0)}),delete e._clickOutside[t.instance.$.uid])}};function qHe(e){const{modelValue:t,color:n,...r}=e;return l(td,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&p("div",Ne({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const Mp=et({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...KHe(),...Gt(),...Aa(),...gI(),...PHe(),...VHe(),...Hn(),...iu()},"VOverlay"),Zl=mt()({name:"VOverlay",directives:{vClickOutside:sB},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Mp()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:a}=t;const s=na("VOverlay"),o=H(),i=H(),c=H(),A=en(e,"modelValue"),u=Z({get:()=>A.value,set:q=>{q&&e.disabled||(A.value=q)}}),{themeClasses:f}=or(e),{rtlClasses:m,isRtl:v}=Ea(),{hasContent:h,onAfterLeave:y}=yI(e,u),w=lr(()=>typeof e.scrim=="string"?e.scrim:null),{globalTop:b,localTop:B,stackStyles:S}=$He(u,()=>e.zIndex,e._disableGlobalStack),{activatorEl:T,activatorRef:N,target:k,targetEl:E,targetRef:_,activatorEvents:C,contentEvents:F,scrimEvents:I}=GHe(e,{isActive:u,isTop:B,contentEl:c}),{teleportTarget:R}=WHe(()=>{const q=e.attach||e.contained;if(q)return q;const Y=T?.value?.getRootNode()||s.proxy?.$el?.getRootNode();return Y instanceof ShadowRoot?Y:!1}),{dimensionStyles:M}=fa(e),te=w9(),{scopeId:se}=ef();Ge(()=>e.disabled,q=>{q&&(u.value=!1)});const{contentStyles:O,updateLocation:W}=DHe(e,{isRtl:v,contentEl:c,target:k,isActive:u});MHe(e,{root:o,contentEl:c,targetEl:E,target:k,isActive:u,updateLocation:W});function le(q){a("click:outside",q),e.persistent?ne():u.value=!1}function K(q){return u.value&&b.value&&(!e.scrim||q.target===i.value||q instanceof MouseEvent&&q.shadowTarget===i.value)}Zn&&Ge(u,q=>{q?window.addEventListener("keydown",ee):window.removeEventListener("keydown",ee)},{immediate:!0}),Br(()=>{Zn&&window.removeEventListener("keydown",ee)});function ee(q){q.key==="Escape"&&b.value&&(c.value?.contains(document.activeElement)||a("keydown",q),e.persistent?ne():(u.value=!1,c.value?.contains(document.activeElement)&&T.value?.focus()))}function j(q){q.key==="Escape"&&!b.value||a("keydown",q)}const U=PH();hs(()=>e.closeOnBack,()=>{FQe(U,q=>{b.value&&u.value?(q(!1),e.persistent?ne():u.value=!1):q()})});const G=H();Ge(()=>u.value&&(e.absolute||e.contained)&&R.value==null,q=>{if(q){const Y=sw(o.value);Y&&Y!==document.scrollingElement&&(G.value=Y.scrollTop)}});function ne(){e.noClickAnimation||c.value&&Fc(c.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:pv})}function X(){a("afterEnter")}function oe(){y(),a("afterLeave")}return yt(()=>p(ze,null,[n.activator?.({isActive:u.value,targetRef:_,props:Ne({ref:N},C.value,e.activatorProps)}),te.value&&h.value&&l(zY,{disabled:!R.value,to:R.value},{default:()=>[p("div",Ne({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":u.value,"v-overlay--contained":e.contained},f.value,m.value,e.class],style:[S.value,{"--v-overlay-opacity":e.opacity,top:Mt(G.value)},e.style],ref:o,onKeydown:j},se,r),[l(qHe,Ne({color:w,modelValue:u.value&&!!e.scrim,ref:i},I.value),null),l(Vs,{appear:!0,persisted:!0,transition:e.transition,target:k.value,onAfterEnter:X,onAfterLeave:oe},{default:()=>[Tr(p("div",Ne({ref:c,class:["v-overlay__content",e.contentClass],style:[M.value,O.value]},F.value,e.contentProps),[n.default?.({isActive:u})]),[[Po,u.value],[sB,{handler:le,closeConditional:K,include:()=>[T.value]}]])]})])]})])),{activatorEl:T,scrimEl:i,target:k,animateClick:ne,contentEl:c,globalTop:b,localTop:B,updateLocation:W}}}),x9=et({id:String,submenu:Boolean,disableInitialFocus:Boolean,...cr(Mp({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Yw}}),["absolute"])},"VMenu"),Mm=mt()({name:"VMenu",props:x9(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"modelValue"),{scopeId:a}=ef(),{isRtl:s}=Ea(),o=ys(),i=Qe(()=>e.id||`v-menu-${o}`),c=H(),A=pn(aB,null),u=kt(new Set);vr(aB,{register(){u.value.add(o)},unregister(){u.value.delete(o)},closeParents(S){setTimeout(()=>{!u.value.size&&!e.persistent&&(S==null||c.value?.contentEl&&!UZ(S,c.value.contentEl))&&(r.value=!1,A?.closeParents())},40)}}),Br(()=>{A?.unregister(),document.removeEventListener("focusin",h)}),ew(()=>r.value=!1);let f=!1,m=-1;async function v(){f=!0,m=window.setTimeout(()=>{f=!1},100)}async function h(S){const T=S.relatedTarget,N=S.target;await An(),r.value&&T!==N&&c.value?.contentEl&&c.value?.localTop&&![document,c.value.contentEl].includes(N)&&!c.value.contentEl.contains(N)&&(f?!e.openOnHover&&!c.value.activatorEl?.contains(N)&&(r.value=!1):(bm(c.value.contentEl)[0]?.focus(),document.removeEventListener("pointerdown",v)))}Ge(r,S=>{S?(A?.register(),Zn&&!e.disableInitialFocus&&(document.addEventListener("pointerdown",v),document.addEventListener("focusin",h,{once:!0}))):(A?.unregister(),Zn&&(clearTimeout(m),document.removeEventListener("pointerdown",v),document.removeEventListener("focusin",h)))},{immediate:!0});function y(S){A?.closeParents(S)}function w(S){if(!e.disabled)if(S.key==="Tab"||S.key==="Enter"&&!e.closeOnContentClick){if(S.key==="Enter"&&(S.target instanceof HTMLTextAreaElement||S.target instanceof HTMLInputElement&&S.target.closest("form")))return;S.key==="Enter"&&S.preventDefault(),F6(bm(c.value?.contentEl,!1),S.shiftKey?"prev":"next",N=>N.tabIndex>=0)||(r.value=!1,c.value?.activatorEl?.focus())}else e.submenu&&S.key===(s.value?"ArrowRight":"ArrowLeft")&&(r.value=!1,c.value?.activatorEl?.focus())}function b(S){if(e.disabled)return;const T=c.value?.contentEl;T&&r.value?S.key==="ArrowDown"?(S.preventDefault(),S.stopImmediatePropagation(),sA(T,"next")):S.key==="ArrowUp"?(S.preventDefault(),S.stopImmediatePropagation(),sA(T,"prev")):e.submenu&&(S.key===(s.value?"ArrowRight":"ArrowLeft")?r.value=!1:S.key===(s.value?"ArrowLeft":"ArrowRight")&&(S.preventDefault(),sA(T,"first"))):(e.submenu?S.key===(s.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(S.key))&&(r.value=!0,S.preventDefault(),setTimeout(()=>setTimeout(()=>b(S))))}const B=Z(()=>Ne({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-controls":i.value,onKeydown:b},e.activatorProps));return yt(()=>{const S=Zl.filterProps(e);return l(Zl,Ne({ref:c,id:i.value,class:["v-menu",e.class],style:e.style},S,{modelValue:r.value,"onUpdate:modelValue":T=>r.value=T,absolute:!0,activatorProps:B.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":y,onKeydown:w},a),{activator:n.activator,default:function(){for(var T=arguments.length,N=new Array(T),k=0;k<T;k++)N[k]=arguments[k];return l(Cn,{root:"VMenu"},{default:()=>[n.default?.(...N)]})}})}),ja({id:i,openChildren:u},c)}}),YHe=et({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Gt(),...iu({transition:{component:aI}})},"VCounter"),r_=mt()({name:"VCounter",functional:!0,props:YHe(),setup(e,t){let{slots:n}=t;const r=Qe(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return yt(()=>l(Vs,{transition:e.transition},{default:()=>[Tr(p("div",{class:rt(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:It(e.style)},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[Po,e.active]])]})),{}}}),XHe=et({floating:Boolean,...Gt()},"VFieldLabel"),I0=mt()({name:"VFieldLabel",props:XHe(),setup(e,t){let{slots:n}=t;return yt(()=>l(lh,{class:rt(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:It(e.style)},n)),{}}}),ZHe=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Op=et({appendInnerIcon:qt,bgColor:String,clearable:Boolean,clearIcon:{type:qt,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,details:Boolean,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:qt,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>ZHe.includes(e)},"onClick:clear":as(),"onClick:appendInner":as(),"onClick:prependInner":as(),...Gt(),...e_(),...Or(),...Hn()},"VField"),ld=mt()({name:"VField",inheritAttrs:!1,props:{id:String,...Vp(),...Op()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{themeClasses:s}=or(e),{loaderClasses:o}=Up(e),{focusClasses:i,isFocused:c,focus:A,blur:u}=cu(e),{InputIcon:f}=GH(e),{roundedClasses:m}=qr(e),{rtlClasses:v}=Ea(),h=Qe(()=>e.dirty||e.active),y=Qe(()=>!!(e.label||a.label)),w=Qe(()=>!e.singleLine&&y.value),b=ys(),B=Z(()=>e.id||`input-${b}`),S=Qe(()=>e.details?`${B.value}-messages`:void 0),T=H(),N=H(),k=H(),E=Z(()=>["plain","underlined"].includes(e.variant)),_=Z(()=>e.error||e.disabled?void 0:h.value&&c.value?e.color:e.baseColor),C=Z(()=>{if(!(!e.iconColor||e.glow&&!c.value))return e.iconColor===!0?_.value:e.iconColor}),{backgroundColorClasses:F,backgroundColorStyles:I}=lr(()=>e.bgColor),{textColorClasses:R,textColorStyles:M}=os(_);Ge(h,O=>{if(w.value&&!zl()){const W=T.value.$el,le=N.value.$el;requestAnimationFrame(()=>{const K=vS(W),ee=le.getBoundingClientRect(),j=ee.x-K.x,U=ee.y-K.y-(K.height/2-ee.height/2),G=ee.width/.75,ne=Math.abs(G-K.width)>1?{maxWidth:Mt(G)}:void 0,X=getComputedStyle(W),oe=getComputedStyle(le),q=parseFloat(X.transitionDuration)*1e3||150,Y=parseFloat(oe.getPropertyValue("--v-field-label-scale")),ae=oe.getPropertyValue("color");W.style.visibility="visible",le.style.visibility="hidden",Fc(W,{transform:`translate(${j}px, ${U}px) scale(${Y})`,color:ae,...ne},{duration:q,easing:pv,direction:O?"normal":"reverse"}).finished.then(()=>{W.style.removeProperty("visibility"),le.style.removeProperty("visibility")})})}},{flush:"post"});const te=Z(()=>({isActive:h,isFocused:c,controlRef:k,blur:u,focus:A}));function se(O){O.target!==document.activeElement&&O.preventDefault()}return yt(()=>{const O=e.variant==="outlined",W=!!(a["prepend-inner"]||e.prependInnerIcon),le=!!(e.clearable||a.clear)&&!e.disabled,K=!!(a["append-inner"]||e.appendInnerIcon||le),ee=()=>a.label?a.label({...te.value,label:e.label,props:{for:B.value}}):e.label;return p("div",Ne({class:["v-field",{"v-field--active":h.value,"v-field--appended":K,"v-field--center-affix":e.centerAffix??!E.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":W,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!ee(),[`v-field--variant-${e.variant}`]:!0},s.value,F.value,i.value,o.value,m.value,v.value,e.class],style:[I.value,e.style],onClick:se},n),[p("div",{class:"v-field__overlay"},null),l(Rp,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:a.loader}),W&&p("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(f,{key:"prepend-icon",name:"prependInner",color:C.value},null),a["prepend-inner"]?.(te.value)]),p("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&w.value&&l(I0,{key:"floating-label",ref:N,class:rt([R.value]),floating:!0,for:B.value,"aria-hidden":!h.value,style:It(M.value)},{default:()=>[ee()]}),y.value&&l(I0,{key:"label",ref:T,for:B.value},{default:()=>[ee()]}),a.default?.({...te.value,props:{id:B.value,class:"v-field__input","aria-describedby":S.value},focus:A,blur:u})??p("div",{id:B.value,class:"v-field__input","aria-describedby":S.value},null)]),le&&l(sI,{key:"clear"},{default:()=>[Tr(p("div",{class:"v-field__clearable",onMousedown:j=>{j.preventDefault(),j.stopPropagation()}},[l(Cn,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[a.clear?a.clear({...te.value,props:{onFocus:A,onBlur:u,onClick:e["onClick:clear"],tabindex:-1}}):l(f,{name:"clear",onFocus:A,onBlur:u,tabindex:-1},null)]})]),[[Po,e.dirty]])]}),K&&p("div",{key:"append",class:"v-field__append-inner"},[a["append-inner"]?.(te.value),e.appendInnerIcon&&l(f,{key:"append-icon",name:"appendInner",color:C.value},null)]),p("div",{class:rt(["v-field__outline",R.value]),style:It(M.value)},[O&&p(ze,null,[p("div",{class:"v-field__outline__start"},null),w.value&&p("div",{class:"v-field__outline__notch"},[l(I0,{ref:N,floating:!0,for:B.value,"aria-hidden":!h.value},{default:()=>[ee()]})]),p("div",{class:"v-field__outline__end"},null)]),E.value&&w.value&&l(I0,{ref:N,floating:!0,for:B.value,"aria-hidden":!h.value},{default:()=>[ee()]})])])}),{controlRef:k,fieldIconColor:C}}}),C9=et({autocomplete:String},"autocomplete");function E9(e){const t=ys(),n=kt(0),r=Qe(()=>e.autocomplete==="suppress"),a=Qe(()=>r.value?`${e.name}-${t}-${n.value}`:e.name),s=Qe(()=>r.value?"off":e.autocomplete);return{isSuppressing:r,fieldAutocomplete:s,fieldName:a,update:()=>n.value=new Date().getTime()}}function B9(e){function t(n,r){!e.autofocus||!n||r[0].target?.focus?.()}return{onIntersect:t}}const e9e=["color","file","time","date","datetime-local","week","month"],Qp=et({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...C9(),...uu(),...Op()},"VTextField"),tu=mt()({name:"VTextField",directives:{vIntersect:cl},inheritAttrs:!1,props:Qp(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const s=en(e,"modelValue"),{isFocused:o,focus:i,blur:c}=cu(e),{onIntersect:A}=B9(e),u=Z(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),f=Z(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),m=Z(()=>["plain","underlined"].includes(e.variant)),v=H(),h=H(),y=H(),w=E9(e),b=Z(()=>e9e.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function B(){w.isSuppressing.value&&w.update(),o.value||i(),An(()=>{y.value!==document.activeElement&&y.value?.focus()})}function S(E){r("mousedown:control",E),E.target!==y.value&&(B(),E.preventDefault())}function T(E){r("click:control",E)}function N(E,_){E.stopPropagation(),B(),An(()=>{_(),sp(e["onClick:clear"],E)})}function k(E){const _=E.target;if(s.value=_.value,e.modelModifiers?.trim&&["text","search","password","tel","url"].includes(e.type)){const C=[_.selectionStart,_.selectionEnd];An(()=>{_.selectionStart=C[0],_.selectionEnd=C[1]})}}return yt(()=>{const E=!!(a.counter||e.counter!==!1&&e.counter!=null),_=!!(E||a.details),[C,F]=md(n),{modelValue:I,...R}=gs.filterProps(e),M=ld.filterProps(e);return l(gs,Ne({ref:v,modelValue:s.value,"onUpdate:modelValue":te=>s.value=te,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":m.value},e.class],style:e.style},C,R,{centerAffix:!m.value,focused:o.value}),{...a,default:te=>{let{id:se,isDisabled:O,isDirty:W,isReadonly:le,isValid:K,hasDetails:ee,reset:j}=te;return l(ld,Ne({ref:h,onMousedown:S,onClick:T,"onClick:clear":U=>N(U,j),role:e.role},cr(M,["onClick:clear"]),{id:se.value,active:b.value||W.value,dirty:W.value||e.dirty,disabled:O.value,focused:o.value,details:ee.value,error:K.value===!1}),{...a,default:U=>{let{props:{class:G,...ne},controlRef:X}=U;const oe=Tr(p("input",Ne({ref:q=>y.value=X.value=q,value:s.value,onInput:k,autofocus:e.autofocus,readonly:le.value,disabled:O.value,name:w.fieldName.value,autocomplete:w.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:i,onBlur:c},ne,F),null),[[cl,{handler:A},null,{once:!0}]]);return p(ze,null,[e.prefix&&p("span",{class:"v-text-field__prefix"},[p("span",{class:"v-text-field__prefix__text"},[e.prefix])]),a.default?p("div",{class:rt(G),"data-no-activator":""},[a.default(),oe]):Wc(oe,{class:G}),e.suffix&&p("span",{class:"v-text-field__suffix"},[p("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:_?te=>p(ze,null,[a.details?.(te),E&&p(ze,null,[p("span",null,null),l(r_,{active:e.persistentCounter||o.value,value:u.value,max:f.value,disabled:e.disabled},a.counter)])]):void 0})}),ja({},v,h,y)}}),t9e=et({renderless:Boolean,...Gt()},"VVirtualScrollItem"),S9=mt()({name:"VVirtualScrollItem",inheritAttrs:!1,props:t9e(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{resizeRef:s,contentRect:o}=Ci(void 0,"border");Ge(()=>o.value?.height,i=>{i!=null&&r("update:height",i)}),yt(()=>e.renderless?p(ze,null,[a.default?.({itemRef:s})]):p("div",Ne({ref:s,class:["v-virtual-scroll__item",e.class],style:e.style},n),[a.default?.()]))}}),n9e=-1,r9e=1,eC=100,k9=et({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function I9(e,t){const n=ni(),r=kt(0);Mr(()=>{r.value=parseFloat(e.itemHeight||0)});const a=kt(0),s=kt(Math.ceil((parseInt(e.height)||n.height.value)/(r.value||16))||1),o=kt(0),i=kt(0),c=H(),A=H();let u=0;const{resizeRef:f,contentRect:m}=Ci();Mr(()=>{f.value=c.value});const v=Z(()=>c.value===document.documentElement?n.height.value:m.value?.height||parseInt(e.height)||0),h=Z(()=>!!(c.value&&A.value&&v.value&&r.value));let y=Array.from({length:t.value.length}),w=Array.from({length:t.value.length});const b=kt(0);let B=-1;function S(ee){return y[ee]||r.value}const T=S6(()=>{const ee=performance.now();w[0]=0;const j=t.value.length;for(let U=1;U<=j;U++)w[U]=(w[U-1]||0)+S(U-1);b.value=Math.max(b.value,performance.now()-ee)},b),N=Ge(h,ee=>{ee&&(N(),u=A.value.offsetTop,T.immediate(),O(),~B&&An(()=>{Zn&&window.requestAnimationFrame(()=>{le(B),B=-1})}))});Ra(()=>{T.clear()});function k(ee,j){const U=y[ee],G=r.value;r.value=G?Math.min(r.value,j):j,(U!==j||G!==r.value)&&(y[ee]=j,T())}function E(ee){ee=Er(ee,0,t.value.length);const j=Math.floor(ee),U=ee%1,G=j+1,ne=w[j]||0,X=w[G]||ne;return ne+(X-ne)*U}function _(ee){return a9e(w,ee)}let C=0,F=0,I=0;Ge(v,(ee,j)=>{j&&(O(),ee<j&&requestAnimationFrame(()=>{F=0,O()}))});let R=-1;function M(){if(!c.value||!A.value)return;const ee=c.value.scrollTop,j=performance.now();j-I>500?(F=Math.sign(ee-C),u=A.value.offsetTop):F=ee-C,C=ee,I=j,window.clearTimeout(R),R=window.setTimeout(te,500),O()}function te(){!c.value||!A.value||(F=0,I=0,window.clearTimeout(R),O())}let se=-1;function O(){cancelAnimationFrame(se),se=requestAnimationFrame(W)}function W(){if(!c.value||!v.value||!r.value)return;const ee=C-u,j=Math.sign(F),U=Math.max(0,ee-eC),G=Er(_(U),0,t.value.length),ne=ee+v.value+eC,X=Er(_(ne)+1,G+1,t.value.length);if((j!==n9e||G<a.value)&&(j!==r9e||X>s.value)){const oe=E(a.value)-E(G),q=E(X)-E(s.value);Math.max(oe,q)>eC?(a.value=G,s.value=X):(G<=0&&(a.value=G),X>=t.value.length&&(s.value=X))}o.value=E(a.value),i.value=E(t.value.length)-E(s.value)}function le(ee){const j=E(ee);!c.value||ee&&!j?B=ee:c.value.scrollTop=j}const K=Z(()=>t.value.slice(a.value,s.value).map((ee,j)=>{const U=j+a.value;return{raw:ee,index:U,key:la(ee,e.itemKey,U)}}));return Ge(t,()=>{y=Array.from({length:t.value.length}),w=Array.from({length:t.value.length}),T.immediate(),O()},{deep:1}),{calculateVisibleItems:O,containerRef:c,markerRef:A,computedItems:K,paddingTop:o,paddingBottom:i,scrollToIndex:le,handleScroll:M,handleScrollend:te,handleItemResize:k}}function a9e(e,t){let n=e.length-1,r=0,a=0,s=null,o=-1;if(e[n]<t)return n;for(;r<=n;)if(a=r+n>>1,s=e[a],s>t)n=a-1;else if(s<t)o=a,r=a+1;else return s===t?a:r;return o}const s9e=et({items:{type:Array,default:()=>[]},renderless:Boolean,...k9(),...Gt(),...Aa()},"VVirtualScroll"),a_=mt()({name:"VVirtualScroll",props:s9e(),setup(e,t){let{slots:n}=t;const r=na("VVirtualScroll"),{dimensionStyles:a}=fa(e),{calculateVisibleItems:s,containerRef:o,markerRef:i,handleScroll:c,handleScrollend:A,handleItemResize:u,scrollToIndex:f,paddingTop:m,paddingBottom:v,computedItems:h}=I9(e,Qe(()=>e.items));return hs(()=>e.renderless,()=>{function y(){const b=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[b]("scroll",c,{passive:!0}),document[b]("scrollend",A)):(o.value?.[b]("scroll",c,{passive:!0}),o.value?.[b]("scrollend",A))}fn(()=>{o.value=sw(r.vnode.el,!0),y(!0)}),Ra(y)}),yt(()=>{const y=h.value.map(w=>l(S9,{key:w.key,renderless:e.renderless,"onUpdate:height":b=>u(w.index,b)},{default:b=>n.default?.({item:w.raw,index:w.index,...b})}));return e.renderless?p(ze,null,[p("div",{ref:i,class:"v-virtual-scroll__spacer",style:{paddingTop:Mt(m.value)}},null),y,p("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Mt(v.value)}},null)]):p("div",{ref:o,class:rt(["v-virtual-scroll",e.class]),onScrollPassive:c,onScrollend:A,style:It([a.value,e.style])},[p("div",{ref:i,class:"v-virtual-scroll__container",style:{paddingTop:Mt(m.value),paddingBottom:Mt(v.value)}},[y])])}),{calculateVisibleItems:s,scrollToIndex:f}}});function wI(e,t){const n=kt(!1);let r;function a(i){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function s(){await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>{if(n.value){const c=Ge(n,()=>{c(),i()})}else i()})}async function o(i){if(i.key==="Tab"&&t.value?.focus(),!["PageDown","PageUp","Home","End"].includes(i.key))return;const c=e.value?.$el;if(!c)return;(i.key==="Home"||i.key==="End")&&c.scrollTo({top:i.key==="Home"?0:c.scrollHeight,behavior:"smooth"}),await s();const A=c.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(i.key==="PageDown"||i.key==="Home"){const u=c.getBoundingClientRect().top;for(const f of A)if(f.getBoundingClientRect().top>=u){f.focus();break}}else{const u=c.getBoundingClientRect().bottom;for(const f of[...A].reverse())if(f.getBoundingClientRect().bottom<=u){f.focus();break}}}return{onScrollPassive:a,onKeydown:o}}const o9e=et({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function _I(e,t){const{t:n}=ur(),r=ys(),a=Z(()=>`menu-${r}`),s=Qe(()=>Os(t)),o=Qe(()=>a.value),i=Qe(()=>n(Os(t)?e.closeText:e.openText));return{menuId:a,ariaExpanded:s,ariaControls:o,ariaLabel:i}}const bI=et({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:qt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...o9e(),...d9({itemChildren:!1})},"Select"),i9e=et({...bI(),...cr(Qp({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...iu({transition:{component:Yw}})},"VSelect"),xI=mt()({name:"VSelect",props:i9e(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=ur(),a=H(),s=H(),o=H(),{items:i,transformIn:c,transformOut:A}=fI(e),u=en(e,"modelValue",[],G=>c(G===null?[null]:Wr(G)),G=>{const ne=A(G);return e.multiple?ne:ne[0]??null}),f=Z(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:u.value.length),m=ch(e),v=Z(()=>u.value.map(G=>G.value)),h=kt(!1);let y="",w=-1,b;const B=Z(()=>e.hideSelected?i.value.filter(G=>!u.value.some(ne=>(e.valueComparator||Ga)(ne,G))):i.value),S=Z(()=>e.hideNoData&&!B.value.length||m.isReadonly.value||m.isDisabled.value),T=en(e,"menu"),N=Z({get:()=>T.value,set:G=>{T.value&&!G&&s.value?.openChildren.size||G&&S.value||(T.value=G)}}),{menuId:k,ariaExpanded:E,ariaControls:_,ariaLabel:C}=_I(e,N),F=Z(()=>({...e.menuProps,activatorProps:{...e.menuProps?.activatorProps||{},"aria-haspopup":"listbox"}})),I=H(),R=wI(I,a);function M(G){e.openOnClear&&(N.value=!0)}function te(){S.value||(N.value=!N.value)}function se(G){Cm(G)&&O(G)}function O(G){if(!G.key||m.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(G.key)&&G.preventDefault(),["Enter","ArrowDown"," "].includes(G.key)&&(N.value=!0),["Escape","Tab"].includes(G.key)&&(N.value=!1),G.key==="Home"?I.value?.focus("first"):G.key==="End"&&I.value?.focus("last");const ne=1e3;if(!Cm(G))return;const X=performance.now();X-b>ne&&(y="",w=-1),y+=G.key.toLowerCase(),b=X;const oe=B.value;function q(){let z=Y();return z||y.at(-1)===y.at(-2)&&(y=y.slice(0,-1),z=Y(),z)||(w=-1,z=Y(),z)?z:(y=G.key.toLowerCase(),Y())}function Y(){for(let z=w+1;z<oe.length;z++){const Ae=oe[z];if(Ae.title.toLowerCase().startsWith(y))return[Ae,z]}}const ae=q();if(!ae)return;const[ge,we]=ae;w=we,I.value?.focus(we),e.multiple||(u.value=[ge])}function W(G){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!G.props.disabled)if(e.multiple){const X=u.value.findIndex(q=>(e.valueComparator||Ga)(q.value,G.value)),oe=ne??!~X;if(~X){const q=oe?[...u.value,G]:[...u.value];q.splice(X,1),u.value=q}else oe&&(u.value=[...u.value,G])}else{const X=ne!==!1;u.value=X?[G]:[],An(()=>{N.value=!1})}}function le(G){I.value?.$el.contains(G.relatedTarget)||(N.value=!1)}function K(){e.eager&&o.value?.calculateVisibleItems()}function ee(){h.value&&a.value?.focus()}function j(G){h.value=!0}function U(G){if(G==null)u.value=[];else if(xm(a.value,":autofill")||xm(a.value,":-webkit-autofill")){const ne=i.value.find(X=>X.title===G);ne&&W(ne)}else a.value&&(a.value.value="")}return Ge(N,()=>{if(!e.hideSelected&&N.value&&u.value.length){const G=B.value.findIndex(ne=>u.value.some(X=>(e.valueComparator||Ga)(X.value,ne.value)));Zn&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{G>=0&&o.value?.scrollToIndex(G)})}}),Ge(i,(G,ne)=>{N.value||h.value&&e.hideNoData&&!ne.length&&G.length&&(N.value=!0)}),yt(()=>{const G=!!(e.chips||n.chip),ne=!!(!e.hideNoData||B.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),X=u.value.length>0,oe=tu.filterProps(e),q=X||!h.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return l(tu,Ne({ref:a},oe,{modelValue:u.value.map(Y=>Y.props.value).join(", "),"onUpdate:modelValue":U,focused:h.value,"onUpdate:focused":Y=>h.value=Y,validationValue:u.externalValue,counterValue:f.value,dirty:X,class:["v-select",{"v-select--active-menu":N.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":u.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:q,"onClick:clear":M,"onMousedown:control":te,onBlur:le,onKeydown:O,"aria-expanded":E.value,"aria-controls":_.value,"aria-label":C.value,title:C.value}),{...n,default:()=>p(ze,null,[l(Mm,Ne({id:k.value,ref:s,modelValue:N.value,"onUpdate:modelValue":Y=>N.value=Y,activator:"parent",contentClass:"v-select__content",disabled:S.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:K,onAfterLeave:ee},F.value),{default:()=>[ne&&l(Vm,Ne({ref:I,selected:v.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Y=>Y.preventDefault(),onKeydown:se,onFocusin:j,tabindex:"-1",selectable:!0,"aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},R,e.listProps),{default:()=>[n["prepend-item"]?.(),!B.value.length&&!e.hideNoData&&(n["no-data"]?.()??l(ul,{key:"no-data",title:r(e.noDataText)},null)),l(a_,{ref:o,renderless:!0,items:B.value,itemKey:"value"},{default:Y=>{let{item:ae,index:ge,itemRef:we}=Y;const z=NZ(ae.props),Ae=Ne(ae.props,{ref:we,key:ae.value,onClick:()=>W(ae,null)});return ae.type==="divider"?n.divider?.({props:ae.raw,index:ge})??l(qo,Ne(ae.props,{key:`divider-${ge}`}),null):ae.type==="subheader"?n.subheader?.({props:ae.raw,index:ge})??l(dh,Ne(ae.props,{key:`subheader-${ge}`}),null):n.item?.({item:ae,index:ge,props:Ae})??l(ul,Ne(Ae,{role:"option"}),{prepend:ie=>{let{isSelected:_e}=ie;return p(ze,null,[e.multiple&&!e.hideSelected?l(Xl,{key:ae.value,modelValue:_e,ripple:!1,tabindex:"-1",onClick:Pe=>Pe.preventDefault()},null):void 0,z.prependAvatar&&l(ei,{image:z.prependAvatar},null),z.prependIcon&&l(Xn,{icon:z.prependIcon},null)])}})}}),n["append-item"]?.()]})]}),u.value.map((Y,ae)=>{function ge(ie){ie.stopPropagation(),ie.preventDefault(),W(Y,!1)}const we={"onClick:close":ge,onKeydown(ie){ie.key!=="Enter"&&ie.key!==" "||(ie.preventDefault(),ie.stopPropagation(),ge(ie))},onMousedown(ie){ie.preventDefault(),ie.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},z=G?!!n.chip:!!n.selection,Ae=z?aw(G?n.chip({item:Y,index:ae,props:we}):n.selection({item:Y,index:ae})):void 0;if(!(z&&!Ae))return p("div",{key:Y.value,class:"v-select__selection"},[G?n.chip?l(Cn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Y.title}}},{default:()=>[Ae]}):l(uh,Ne({key:"chip",closable:e.closableChips,size:"small",text:Y.title,disabled:Y.props.disabled},we),null):Ae??p("span",{class:"v-select__selection-text"},[Y.title,e.multiple&&ae<u.value.length-1&&p("span",{class:"v-select__selection-comma"},[Q(",")])])])})]),"append-inner":function(){for(var Y=arguments.length,ae=new Array(Y),ge=0;ge<Y;ge++)ae[ge]=arguments[ge];return p(ze,null,[n["append-inner"]?.(...ae),e.menuIcon?l(Xn,{class:"v-select__menu-icon",color:a.value?.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),ja({isFocused:h,menu:N,select:W},a)}}),l9e=(e,t,n)=>{if(e==null||t==null)return-1;if(!t.length)return 0;e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const r=[];let a=e.indexOf(t);for(;~a;)r.push([a,a+t.length]),a=e.indexOf(t,a+t.length);return r.length?r:-1};function tC(e,t){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+t.length]]:Array.isArray(e[0])?e:[e]}const Ah=et({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function c9e(e,t,n){const r=[],a=n?.default??l9e,s=n?.filterKeys?Wr(n.filterKeys):!1,o=Object.keys(n?.customKeyFilter??{}).length;if(!e?.length)return r;let i=null;e:for(let c=0;c<e.length;c++){const[A,u=A]=Wr(e[c]),f={},m={};let v=-1;if((t||o>0)&&!n?.noFilter){let h=!1;if(typeof A=="object"){if(A.type==="divider"||A.type==="subheader"){i?.type==="divider"&&A.type==="subheader"&&r.push(i),i={index:c,matches:{},type:A.type};continue}const b=s||Object.keys(u);h=b.length===o;for(const B of b){const S=la(u,B),T=n?.customKeyFilter?.[B];if(v=T?T(S,t,A):a(S,t,A),v!==-1&&v!==!1)T?f[B]=tC(v,t):m[B]=tC(v,t);else if(n?.filterMode==="every")continue e}}else v=a(A,t,A),v!==-1&&v!==!1&&(m.title=tC(v,t));const y=Object.keys(m).length,w=Object.keys(f).length;if(!y&&!w||n?.filterMode==="union"&&w!==o&&!y||n?.filterMode==="intersection"&&(w!==o||!y&&o>0&&!h))continue}i&&(r.push(i),i=null),r.push({index:c,matches:{...m,...f}})}return r}function fh(e,t,n,r){const a=kt([]),s=kt(new Map),o=Z(()=>r?.transform?We(t).map(c=>[c,r.transform(c)]):We(t));Mr(()=>{const c=typeof n=="function"?n():We(n),A=typeof c!="string"&&typeof c!="number"?"":String(c),u=c9e(o.value,A,{customKeyFilter:{...e.customKeyFilter,...We(r?.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),f=We(t),m=[],v=new Map;u.forEach(h=>{let{index:y,matches:w}=h;const b=f[y];m.push(b),v.set(b.value,w)}),a.value=m,s.value=v});function i(c){return s.value.get(c.value)}return{filteredItems:a,filteredMatches:s,getMatches:i}}function T9(e,t,n){return n==null||!n.length?t:n.map((r,a)=>{const s=a===0?0:n[a-1][1],o=[p("span",{class:rt(`${e}__unmask`)},[t.slice(s,r[0])]),p("span",{class:rt(`${e}__mask`)},[t.slice(r[0],r[1])])];return a===n.length-1&&o.push(p("span",{class:rt(`${e}__unmask`)},[t.slice(r[1])])),p(ze,null,[o])})}const u9e=et({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Ah({filterKeys:["title"]}),...bI(),...cr(Qp({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VAutocomplete"),d9e=mt()({name:"VAutocomplete",props:u9e(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=ur(),a=H(),s=kt(!1),o=kt(!0),i=kt(!1),c=H(),A=H(),u=kt(-1),f=kt(null),{items:m,transformIn:v,transformOut:h}=fI(e),{textColorClasses:y,textColorStyles:w}=os(()=>a.value?.color),b=en(e,"search",""),B=en(e,"modelValue",[],ie=>v(ie===null?[null]:Wr(ie)),ie=>{const _e=h(ie);return e.multiple?_e:_e[0]??null}),S=Z(()=>typeof e.counterValue=="function"?e.counterValue(B.value):typeof e.counterValue=="number"?e.counterValue:B.value.length),T=ch(e),{filteredItems:N,getMatches:k}=fh(e,m,()=>f.value??(o.value?"":b.value)),E=Z(()=>e.hideSelected&&f.value===null?N.value.filter(ie=>!B.value.some(_e=>_e.value===ie.value)):N.value),_=Z(()=>!!(e.chips||n.chip)),C=Z(()=>_.value||!!n.selection),F=Z(()=>B.value.map(ie=>ie.props.value)),I=Z(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&b.value===E.value[0]?.title)&&E.value.length>0&&!o.value&&!i.value),R=Z(()=>e.hideNoData&&!E.value.length||T.isReadonly.value||T.isDisabled.value),M=en(e,"menu"),te=Z({get:()=>M.value,set:ie=>{M.value&&!ie&&c.value?.openChildren.size||ie&&R.value||(M.value=ie)}}),{menuId:se,ariaExpanded:O,ariaControls:W,ariaLabel:le}=_I(e,te),K=H(),ee=wI(K,a);function j(ie){e.openOnClear&&(te.value=!0),b.value=""}function U(){R.value||(te.value=!0)}function G(ie){R.value||(s.value&&(ie.preventDefault(),ie.stopPropagation()),te.value=!te.value)}function ne(ie){(Cm(ie)||ie.key==="Backspace")&&a.value?.focus()}function X(ie){if(T.isReadonly.value)return;const _e=a.value?.selectionStart,Pe=B.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(ie.key)&&ie.preventDefault(),["Enter","ArrowDown"].includes(ie.key)&&(te.value=!0),["Escape"].includes(ie.key)&&(te.value=!1),I.value&&["Enter","Tab"].includes(ie.key)&&!B.value.some(re=>{let{value:be}=re;return be===E.value[0].value})&&Ae(E.value[0]),ie.key==="ArrowDown"&&I.value&&K.value?.focus("next"),["Backspace","Delete"].includes(ie.key)){if(!e.multiple&&C.value&&B.value.length>0&&!b.value)return Ae(B.value[0],!1);if(~u.value){ie.preventDefault();const re=u.value;Ae(B.value[u.value],!1),u.value=re>=Pe-1?Pe-2:re}else ie.key==="Backspace"&&!b.value&&(u.value=Pe-1);return}if(e.multiple)if(ie.key==="ArrowLeft"){if(u.value<0&&_e&&_e>0)return;const re=u.value>-1?u.value-1:Pe-1;if(B.value[re])u.value=re;else{const be=b.value?.length??null;u.value=-1,a.value?.setSelectionRange(be,be)}}else if(ie.key==="ArrowRight"){if(u.value<0)return;const re=u.value+1;B.value[re]?u.value=re:(u.value=-1,a.value?.setSelectionRange(0,0))}else~u.value&&Cm(ie)&&(u.value=-1)}function oe(ie){if(xm(a.value,":autofill")||xm(a.value,":-webkit-autofill")){const _e=m.value.find(Pe=>Pe.title===ie.target.value);_e&&Ae(_e)}}function q(){e.eager&&A.value?.calculateVisibleItems()}function Y(){s.value&&(o.value=!0,a.value?.focus()),f.value=null}function ae(ie){s.value=!0,setTimeout(()=>{i.value=!0})}function ge(ie){i.value=!1}function we(ie){(ie==null||ie===""&&!e.multiple&&!C.value)&&(B.value=[])}const z=kt(!1);function Ae(ie){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!ie||ie.props.disabled))if(e.multiple){const Pe=B.value.findIndex(be=>(e.valueComparator||Ga)(be.value,ie.value)),re=_e??!~Pe;if(~Pe){const be=re?[...B.value,ie]:[...B.value];be.splice(Pe,1),B.value=be}else re&&(B.value=[...B.value,ie]);e.clearOnSelect&&(b.value="")}else{const Pe=_e!==!1;B.value=Pe?[ie]:[],f.value=o.value?"":b.value??"",b.value=Pe&&!C.value?ie.title:"",An(()=>{te.value=!1,o.value=!0})}}return Ge(s,(ie,_e)=>{ie!==_e&&(ie?(z.value=!0,b.value=e.multiple||C.value?"":String(B.value.at(-1)?.props.title??""),o.value=!0,An(()=>z.value=!1)):(!e.multiple&&b.value==null&&(B.value=[]),te.value=!1,!o.value&&b.value&&(f.value=b.value),b.value="",u.value=-1))}),Ge(b,ie=>{!s.value||z.value||(ie&&(te.value=!0),o.value=!ie)}),Ge(te,ie=>{if(!e.hideSelected&&ie&&B.value.length&&o.value){const _e=E.value.findIndex(Pe=>B.value.some(re=>Pe.value===re.value));Zn&&window.requestAnimationFrame(()=>{_e>=0&&A.value?.scrollToIndex(_e)})}ie&&(f.value=null)}),Ge(m,(ie,_e)=>{te.value||s.value&&!_e.length&&ie.length&&(te.value=!0)}),yt(()=>{const ie=!!(!e.hideNoData||E.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),_e=B.value.length>0,Pe=tu.filterProps(e);return l(tu,Ne({ref:a},Pe,{modelValue:b.value,"onUpdate:modelValue":[re=>b.value=re,we],focused:s.value,"onUpdate:focused":re=>s.value=re,validationValue:B.externalValue,counterValue:S.value,dirty:_e,onChange:oe,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":te.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!C.value,"v-autocomplete--selecting-index":u.value>-1},e.class],style:e.style,readonly:T.isReadonly.value,placeholder:_e?void 0:e.placeholder,"onClick:clear":j,"onMousedown:control":U,onKeydown:X,"aria-expanded":O.value,"aria-controls":W.value}),{...n,default:()=>p(ze,null,[l(Mm,Ne({id:se.value,ref:c,modelValue:te.value,"onUpdate:modelValue":re=>te.value=re,activator:"parent",contentClass:"v-autocomplete__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:q,onAfterLeave:Y},e.menuProps),{default:()=>[ie&&l(Vm,Ne({ref:K,filterable:!0,selected:F.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:re=>re.preventDefault(),onKeydown:ne,onFocusin:ae,onFocusout:ge,tabindex:"-1",selectable:!0,"aria-live":"polite",color:e.itemColor??e.color},ee,e.listProps),{default:()=>[n["prepend-item"]?.(),!E.value.length&&!e.hideNoData&&(n["no-data"]?.()??l(ul,{key:"no-data",title:r(e.noDataText)},null)),l(a_,{ref:A,renderless:!0,items:E.value,itemKey:"value"},{default:re=>{let{item:be,index:He,itemRef:ke}=re;const Se=Ne(be.props,{ref:ke,key:be.value,active:I.value&&He===0?!0:void 0,onClick:()=>Ae(be,null)});return be.type==="divider"?n.divider?.({props:be.raw,index:He})??l(qo,Ne(be.props,{key:`divider-${He}`}),null):be.type==="subheader"?n.subheader?.({props:be.raw,index:He})??l(dh,Ne(be.props,{key:`subheader-${He}`}),null):n.item?.({item:be,index:He,props:Se})??l(ul,Ne(Se,{role:"option"}),{prepend:st=>{let{isSelected:je}=st;return p(ze,null,[e.multiple&&!e.hideSelected?l(Xl,{key:be.value,modelValue:je,ripple:!1,tabindex:"-1",onClick:Ve=>Ve.preventDefault()},null):void 0,be.props.prependAvatar&&l(ei,{image:be.props.prependAvatar},null),be.props.prependIcon&&l(Xn,{icon:be.props.prependIcon},null)])},title:()=>o.value?be.title:T9("v-autocomplete",be.title,k(be)?.title)})}}),n["append-item"]?.()]})]}),B.value.map((re,be)=>{function He(je){je.stopPropagation(),je.preventDefault(),Ae(re,!1)}const ke={"onClick:close":He,onKeydown(je){je.key!=="Enter"&&je.key!==" "||(je.preventDefault(),je.stopPropagation(),He(je))},onMousedown(je){je.preventDefault(),je.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Se=_.value?!!n.chip:!!n.selection,st=Se?aw(_.value?n.chip({item:re,index:be,props:ke}):n.selection({item:re,index:be})):void 0;if(!(Se&&!st))return p("div",{key:re.value,class:rt(["v-autocomplete__selection",be===u.value&&["v-autocomplete__selection--selected",y.value]]),style:It(be===u.value?w.value:{})},[_.value?n.chip?l(Cn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:re.title}}},{default:()=>[st]}):l(uh,Ne({key:"chip",closable:e.closableChips,size:"small",text:re.title,disabled:re.props.disabled},ke),null):st??p("span",{class:"v-autocomplete__selection-text"},[re.title,e.multiple&&be<B.value.length-1&&p("span",{class:"v-autocomplete__selection-comma"},[Q(",")])])])})]),"append-inner":function(){for(var re=arguments.length,be=new Array(re),He=0;He<re;He++)be[He]=arguments[He];return p(ze,null,[n["append-inner"]?.(...be),e.menuIcon?l(Xn,{class:"v-autocomplete__menu-icon",color:a.value?.fieldIconColor,icon:e.menuIcon,onMousedown:G,onClick:P6,"aria-label":le.value,title:le.value,tabindex:"-1"},null):void 0])}})}),ja({isFocused:s,isPristine:o,menu:te,search:b,filteredItems:N,select:Ae},a)}}),A9e=et({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:qt,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Gt(),...lu({location:"top end"}),...Or(),...gn(),...Hn(),...iu({transition:"scale-rotate-transition"}),...Aa()},"VBadge"),f9e=mt()({name:"VBadge",inheritAttrs:!1,props:A9e(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:r}=lr(()=>e.color),{roundedClasses:a}=qr(e),{t:s}=ur(),{textColorClasses:o,textColorStyles:i}=os(()=>e.textColor),{themeClasses:c}=BS(),{locationStyles:A}=ZA(e,!0,f=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(f)?Number(e.offsetY??0):["left","right"].includes(f)?Number(e.offsetX??0):0)),{dimensionStyles:u}=fa(e);return yt(()=>{const f=Number(e.content),m=!e.max||isNaN(f)?e.content:f<=Number(e.max)?f:`${e.max}+`,[v,h]=IC(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return l(e.tag,Ne({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},h,{style:e.style}),{default:()=>[p("div",{class:"v-badge__wrapper"},[t.slots.default?.(),l(Vs,{transition:e.transition},{default:()=>[Tr(p("span",Ne({class:["v-badge__badge",c.value,n.value,a.value,o.value],style:[r.value,i.value,u.value,e.inline?{}:A.value],"aria-atomic":"true","aria-label":s(e.label,f),"aria-live":"polite",role:"status"},v),[e.dot?void 0:t.slots.badge?t.slots.badge?.():e.icon?l(Xn,{icon:e.icon},null):m]),[[Po,e.modelValue]])]})])]})}),{}}}),m9e=et({color:String,density:String,...Gt()},"VBannerActions"),F9=mt()({name:"VBannerActions",props:m9e(),setup(e,t){let{slots:n}=t;return jr({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),yt(()=>p("div",{class:rt(["v-banner-actions",e.class]),style:It(e.style)},[n.default?.()])),{}}}),P9=ru("v-banner-text"),h9e=et({avatar:String,bgColor:String,color:String,icon:qt,lines:String,stacked:Boolean,sticky:Boolean,text:String,...vo(),...Gt(),...ra(),...Aa(),...MA({mobile:null}),...Ba(),...lu(),...oh(),...Or(),...gn(),...Hn()},"VBanner"),v9e=mt()({name:"VBanner",props:h9e(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=lr(()=>e.bgColor),{borderClasses:s}=No(e),{densityClasses:o}=$s(e),{displayClasses:i,mobile:c}=ni(e),{dimensionStyles:A}=fa(e),{elevationClasses:u}=Wa(e),{locationStyles:f}=ZA(e),{positionClasses:m}=ih(e),{roundedClasses:v}=qr(e),{themeClasses:h}=or(e),y=Qe(()=>e.color),w=Qe(()=>e.density);jr({VBannerActions:{color:y,density:w}}),yt(()=>{const b=!!(e.text||n.text),B=!!(e.avatar||e.icon),S=!!(B||n.prepend);return l(e.tag,{class:rt(["v-banner",{"v-banner--stacked":e.stacked||c.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},h.value,r.value,s.value,o.value,i.value,u.value,m.value,v.value,e.class]),style:It([a.value,A.value,f.value,e.style]),role:"banner"},{default:()=>[S&&p("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?l(Cn,{key:"prepend-defaults",disabled:!B,defaults:{VAvatar:{color:y.value,density:w.value,icon:e.icon,image:e.avatar}}},n.prepend):l(ei,{key:"prepend-avatar",color:y.value,density:w.value,icon:e.icon,image:e.avatar},null)]),p("div",{class:"v-banner__content"},[b&&l(P9,{key:"text"},{default:()=>[n.text?.()??e.text]}),n.default?.()]),n.actions&&l(F9,{key:"actions"},n.actions)]})})}}),p9e=et({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...vo(),...Gt(),...ra(),...Ba(),...Or(),...OA({name:"bottom-navigation"}),...gn({tag:"header"}),...YA({selectedClass:"v-btn--selected"}),...Hn()},"VBottomNavigation"),g9e=mt()({name:"VBottomNavigation",props:p9e(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=BS(),{borderClasses:a}=No(e),{backgroundColorClasses:s,backgroundColorStyles:o}=lr(()=>e.bgColor),{densityClasses:i}=$s(e),{elevationClasses:c}=Wa(e),{roundedClasses:A}=qr(e),{ssrBootStyles:u}=JA(),f=Z(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),m=en(e,"active",e.active),{layoutItemStyles:v}=QA({id:e.name,order:Z(()=>parseInt(e.order,10)),position:Qe(()=>"bottom"),layoutSize:Qe(()=>m.value?f.value:0),elementSize:f,active:m,absolute:Qe(()=>e.absolute)});return yd(e,iI),jr({VBtn:{baseColor:Qe(()=>e.baseColor),color:Qe(()=>e.color),density:Qe(()=>e.density),stacked:Qe(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),yt(()=>l(e.tag,{class:rt(["v-bottom-navigation",{"v-bottom-navigation--active":m.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},r.value,s.value,a.value,i.value,c.value,A.value,e.class]),style:It([o.value,v.value,{height:Mt(f.value)},u.value,e.style])},{default:()=>[n.default&&p("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),D9=et({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Mp({origin:"center center",scrollStrategy:"block",transition:{component:Yw},zIndex:2400})},"VDialog"),oB=mt()({name:"VDialog",props:D9(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=en(e,"modelValue"),{scopeId:s}=ef(),o=H();async function i(f){const m=f.relatedTarget,v=f.target;await An(),a.value&&m!==v&&o.value?.contentEl&&o.value?.globalTop&&![document,o.value.contentEl].includes(v)&&!o.value.contentEl.contains(v)&&bm(o.value.contentEl)[0]?.focus()}function c(f){if(f.key!=="Tab"||!o.value?.contentEl)return;const m=bm(o.value.contentEl);if(!m.length)return;const v=m[0],h=m[m.length-1],y=document.activeElement;f.shiftKey&&y===v?(f.preventDefault(),h.focus()):!f.shiftKey&&y===h&&(f.preventDefault(),v.focus())}Br(()=>{document.removeEventListener("focusin",i),document.removeEventListener("keydown",c)}),Zn&&Ge(()=>a.value&&e.retainFocus,f=>{f?(document.addEventListener("focusin",i,{once:!0}),document.addEventListener("keydown",c)):(document.removeEventListener("focusin",i),document.removeEventListener("keydown",c))},{immediate:!0});function A(){n("afterEnter"),(e.scrim||e.retainFocus)&&o.value?.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return Ge(a,async f=>{f||(await An(),o.value.activatorEl?.focus({preventScroll:!0}))}),yt(()=>{const f=Zl.filterProps(e),m=Ne({"aria-haspopup":"dialog"},e.activatorProps),v=Ne({tabindex:-1},e.contentProps);return l(Zl,Ne({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},f,{modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,"aria-modal":"true",activatorProps:m,contentProps:v,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:A,onAfterLeave:u},s),{activator:r.activator,default:function(){for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];return l(Cn,{root:"VDialog"},{default:()=>[r.default?.(...y)]})}})}),ja({},o)}}),y9e=et({inset:Boolean,...D9({transition:"bottom-sheet-transition"})},"VBottomSheet"),w9e=mt()({name:"VBottomSheet",props:y9e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"modelValue");return yt(()=>{const a=oB.filterProps(e);return l(oB,Ne(a,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:r.value,"onUpdate:modelValue":s=>r.value=s,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),n)}),{}}}),_9e=et({divider:[Number,String],...Gt()},"VBreadcrumbsDivider"),U9=mt()({name:"VBreadcrumbsDivider",props:_9e(),setup(e,t){let{slots:n}=t;return yt(()=>p("li",{"aria-hidden":"true",class:rt(["v-breadcrumbs-divider",e.class]),style:It(e.style)},[n?.default?.()??e.divider])),{}}}),b9e=et({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Gt(),...Lp(),...gn({tag:"li"})},"VBreadcrumbsItem"),R9=mt()({name:"VBreadcrumbsItem",props:b9e(),setup(e,t){let{slots:n,attrs:r}=t;const a=Np(e,r),s=Z(()=>e.active||a.isActive?.value),{textColorClasses:o,textColorStyles:i}=os(()=>s.value?e.activeColor:e.color);return yt(()=>l(e.tag,{class:rt(["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:s.value&&e.activeClass},o.value,e.class]),style:It([i.value,e.style]),"aria-current":s.value?"page":void 0},{default:()=>[a.isLink.value?p("a",Ne({class:"v-breadcrumbs-item--link",onClick:a.navigate},a.linkProps),[n.default?.()??e.title]):n.default?.()??e.title]})),{}}}),x9e=et({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:qt,items:{type:Array,default:()=>[]},...Gt(),...ra(),...Or(),...gn({tag:"ul"})},"VBreadcrumbs"),C9e=mt()({name:"VBreadcrumbs",props:x9e(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=lr(()=>e.bgColor),{densityClasses:s}=$s(e),{roundedClasses:o}=qr(e);jr({VBreadcrumbsDivider:{divider:Qe(()=>e.divider)},VBreadcrumbsItem:{activeClass:Qe(()=>e.activeClass),activeColor:Qe(()=>e.activeColor),color:Qe(()=>e.color),disabled:Qe(()=>e.disabled)}});const i=Z(()=>e.items.map(c=>typeof c=="string"?{item:{title:c},raw:c}:{item:c,raw:c}));return yt(()=>{const c=!!(n.prepend||e.icon);return l(e.tag,{class:rt(["v-breadcrumbs",r.value,s.value,o.value,e.class]),style:It([a.value,e.style])},{default:()=>[c&&p("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?l(Cn,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):l(Xn,{key:"prepend-icon",start:!0,icon:e.icon},null)]),i.value.map((A,u,f)=>{let{item:m,raw:v}=A;return p(ze,null,[n.item?.({item:m,index:u})??l(R9,Ne({key:u,disabled:u>=f.length-1},typeof m=="string"?{title:m}:m),{default:n.title?()=>n.title?.({item:m,index:u}):void 0}),u<f.length-1&&l(U9,null,{default:n.divider?()=>n.divider?.({item:v,index:u}):void 0})])}),n.default?.()]})}),{}}}),E9e=et({...Gt(),...gn()},"VCardActions"),N9=mt()({name:"VCardActions",props:E9e(),setup(e,t){let{slots:n}=t;return jr({VBtn:{slim:!0,variant:"text"}}),yt(()=>l(e.tag,{class:rt(["v-card-actions",e.class]),style:It(e.style)},n)),{}}}),B9e=et({opacity:[Number,String],...Gt(),...gn()},"VCardSubtitle"),L9=mt()({name:"VCardSubtitle",props:B9e(),setup(e,t){let{slots:n}=t;return yt(()=>l(e.tag,{class:rt(["v-card-subtitle",e.class]),style:It([{"--v-card-subtitle-opacity":e.opacity},e.style])},n)),{}}}),V9=ru("v-card-title"),S9e=et({appendAvatar:String,appendIcon:qt,prependAvatar:String,prependIcon:qt,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Gt(),...ra(),...gn()},"VCardItem"),M9=mt()({name:"VCardItem",props:S9e(),setup(e,t){let{slots:n}=t;return yt(()=>{const r=!!(e.prependAvatar||e.prependIcon),a=!!(r||n.prepend),s=!!(e.appendAvatar||e.appendIcon),o=!!(s||n.append),i=!!(e.title!=null||n.title),c=!!(e.subtitle!=null||n.subtitle);return l(e.tag,{class:rt(["v-card-item",e.class]),style:It(e.style)},{default:()=>[a&&p("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?l(Cn,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):p(ze,null,[e.prependAvatar&&l(ei,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&l(Xn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),p("div",{class:"v-card-item__content"},[i&&l(V9,{key:"title"},{default:()=>[n.title?.()??J(e.title)]}),c&&l(L9,{key:"subtitle"},{default:()=>[n.subtitle?.()??J(e.subtitle)]}),n.default?.()]),o&&p("div",{key:"append",class:"v-card-item__append"},[n.append?l(Cn,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):p(ze,null,[e.appendIcon&&l(Xn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&l(ei,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])]})}),{}}}),k9e=et({opacity:[Number,String],...Gt(),...gn()},"VCardText"),O9=mt()({name:"VCardText",props:k9e(),setup(e,t){let{slots:n}=t;return yt(()=>l(e.tag,{class:rt(["v-card-text",e.class]),style:It([{"--v-card-text-opacity":e.opacity},e.style])},n)),{}}}),I9e=et({appendAvatar:String,appendIcon:qt,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:qt,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...vo(),...Gt(),...ra(),...Aa(),...Ba(),...e_(),...lu(),...oh(),...Or(),...Lp(),...gn(),...Hn(),...Ii({variant:"elevated"})},"VCard"),T9e=mt()({name:"VCard",directives:{vRipple:Gs},props:I9e(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:a}=or(e),{borderClasses:s}=No(e),{colorClasses:o,colorStyles:i,variantClasses:c}=qA(e),{densityClasses:A}=$s(e),{dimensionStyles:u}=fa(e),{elevationClasses:f}=Wa(e),{loaderClasses:m}=Up(e),{locationStyles:v}=ZA(e),{positionClasses:h}=ih(e),{roundedClasses:y}=qr(e),w=Np(e,n);return yt(()=>{const b=e.link!==!1&&w.isLink.value,B=!e.disabled&&e.link!==!1&&(e.link||w.isClickable.value),S=b?"a":e.tag,T=!!(r.title||e.title!=null),N=!!(r.subtitle||e.subtitle!=null),k=T||N,E=!!(r.append||e.appendAvatar||e.appendIcon),_=!!(r.prepend||e.prependAvatar||e.prependIcon),C=!!(r.image||e.image),F=k||_||E,I=!!(r.text||e.text!=null);return Tr(l(S,Ne(w.linkProps,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":B},a.value,s.value,o.value,A.value,f.value,m.value,h.value,y.value,c.value,e.class],style:[i.value,u.value,v.value,e.style],onClick:B&&w.navigate,tabindex:e.disabled?-1:void 0}),{default:()=>[C&&p("div",{key:"image",class:"v-card__image"},[r.image?l(Cn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):l(eu,{key:"image-img",cover:!0,src:e.image},null)]),l(Rp,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),F&&l(M9,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),I&&l(O9,{key:"text"},{default:()=>[r.text?.()??e.text]}),r.default?.(),r.actions&&l(N9,null,{default:r.actions}),gd(B,"v-card")]}),[[Gs,B&&e.ripple]])}),{}}}),F9e=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:a}=e,s=.5,o=16;e.offsetX=n-t,e.offsetY=a-r,Math.abs(e.offsetY)<s*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<s*Math.abs(e.offsetY)&&(e.up&&a<r-o&&e.up(e),e.down&&a>r+o&&e.down(e))};function P9e(e,t){const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,t.start?.({originalEvent:e,...t})}function D9e(e,t){const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,t.end?.({originalEvent:e,...t}),F9e(t)}function U9e(e,t){const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,t.move?.({originalEvent:e,...t})}function R9e(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>P9e(n,t),touchend:n=>D9e(n,t),touchmove:n=>U9e(n,t)}}function N9e(e,t){const n=t.value,r=n?.parent?e.parentElement:e,a=n?.options??{passive:!0},s=t.instance?.$.uid;if(!r||s===void 0)return;const o=R9e(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[s]=o,E6(o).forEach(i=>{r.addEventListener(i,o[i],a)})}function L9e(e,t){const n=t.value?.parent?e.parentElement:e,r=t.instance?.$.uid;if(!n?._touchHandlers||r===void 0)return;const a=n._touchHandlers[r];E6(a).forEach(s=>{n.removeEventListener(s,a[s])}),delete n._touchHandlers[r]}const P2={mounted:N9e,unmounted:L9e},Q9=Symbol.for("vuetify:v-window"),H9=Symbol.for("vuetify:v-window-group"),s_=et({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},crossfade:Boolean,transitionDuration:Number,...Gt(),...gn(),...Hn()},"VWindow"),SA=mt()({name:"VWindow",directives:{vTouch:P2},props:s_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=or(e),{isRtl:a}=Ea(),{t:s}=ur(),o=yd(e,H9),i=H(),c=Z(()=>a.value?!e.reverse:e.reverse),A=kt(!1),u=Z(()=>{if(e.crossfade)return"v-window-crossfade-transition";const T=e.direction==="vertical"?"y":"x",k=(c.value?!A.value:A.value)?"-reverse":"";return`v-window-${T}${k}-transition`}),f=kt(0),m=H(void 0),v=Z(()=>o.items.value.findIndex(T=>o.selected.value.includes(T.id)));Ge(v,(T,N)=>{let k;const E={left:0,top:0};Zn&&N>=0&&(k=sw(i.value),E.left=k?.scrollLeft,E.top=k?.scrollTop);const _=o.items.value.length,C=_-1;_<=2?A.value=T<N:T===C&&N===0?A.value=!0:T===0&&N===C?A.value=!1:A.value=T<N,An(()=>{if(!Zn||!k)return;k.scrollTop!==E.top&&k.scrollTo({...E,behavior:"instant"}),requestAnimationFrame(()=>{if(!k)return;k.scrollTop!==E.top&&k.scrollTo({...E,behavior:"instant"})})})},{flush:"sync"}),vr(Q9,{transition:u,isReversed:A,transitionCount:f,transitionHeight:m,rootRef:i});const h=Qe(()=>e.continuous||v.value!==0),y=Qe(()=>e.continuous||v.value!==o.items.value.length-1);function w(){h.value&&o.prev()}function b(){y.value&&o.next()}const B=Z(()=>{const T=[],N={icon:a.value?e.nextIcon:e.prevIcon,class:`v-window__${c.value?"right":"left"}`,onClick:o.prev,"aria-label":s("$vuetify.carousel.prev")};T.push(h.value?n.prev?n.prev({props:N}):l(Rn,N,null):p("div",null,null));const k={icon:a.value?e.prevIcon:e.nextIcon,class:`v-window__${c.value?"left":"right"}`,onClick:o.next,"aria-label":s("$vuetify.carousel.next")};return T.push(y.value?n.next?n.next({props:k}):l(Rn,k,null):p("div",null,null)),T}),S=Z(()=>e.touch===!1?e.touch:{...{left:()=>{c.value?w():b()},right:()=>{c.value?b():w()},start:N=>{let{originalEvent:k}=N;k.stopPropagation()}},...e.touch===!0?{}:e.touch});return yt(()=>Tr(l(e.tag,{ref:i,class:rt(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover","v-window--vertical-arrows":!!e.verticalArrows,"v-window--crossfade":!!e.crossfade},r.value,e.class]),style:It([e.style,e.transitionDuration&&!zl?{"--v-window-transition-duration":Mt(e.transitionDuration,"ms")}:void 0])},{default:()=>[p("div",{class:"v-window__container",style:{height:m.value}},[n.default?.({group:o}),e.showArrows!==!1&&p("div",{class:rt(["v-window__controls",{"v-window__controls--left":e.verticalArrows==="left"||e.verticalArrows===!0},{"v-window__controls--right":e.verticalArrows==="right"}])},[B.value])]),n.additional?.({group:o})]}),[[P2,S.value]])),{group:o}}}),V9e=et({color:String,cycle:Boolean,delimiterIcon:{type:qt,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...s_({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),M9e=mt()({name:"VCarousel",props:V9e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"modelValue"),{t:a}=ur(),s=H();let o=-1;Ge(r,c),Ge(()=>e.interval,c),Ge(()=>e.cycle,A=>{A?c():window.clearTimeout(o)}),fn(i);function i(){!e.cycle||!s.value||(o=window.setTimeout(s.value.group.next,Number(e.interval)>0?Number(e.interval):6e3))}function c(){window.clearTimeout(o),window.requestAnimationFrame(i)}return yt(()=>{const A=SA.filterProps(e);return l(SA,Ne({ref:s},A,{modelValue:r.value,"onUpdate:modelValue":u=>r.value=u,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:Mt(e.height)},e.style]}),{default:n.default,additional:u=>{let{group:f}=u;return p(ze,null,[!e.hideDelimiters&&p("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[f.items.value.length>0&&l(Cn,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[f.items.value.map((m,v)=>{const h={id:`carousel-item-${m.id}`,"aria-label":a("$vuetify.carousel.ariaLabel.delimiter",v+1,f.items.value.length),class:["v-carousel__controls__item",f.isSelected(m.id)&&"v-btn--active"],onClick:()=>f.select(m.id,!0)};return n.item?n.item({props:h,item:m}):l(Rn,Ne(m,h),null)})]})]),e.progress&&l(Zw,{absolute:!0,class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(f.getItemIndex(r.value)+1)/f.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),o_=et({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Gt(),...XA(),...gI()},"VWindowItem"),kA=mt()({name:"VWindowItem",directives:{vTouch:P2},props:o_(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=pn(Q9),a=od(e,H9),{isBooted:s}=JA();if(!r||!a)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=kt(!1),i=Z(()=>s.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function c(){!o.value||!r||(o.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function A(){o.value||!r||(o.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=Mt(r.rootRef.value?.clientHeight)),r.transitionCount.value+=1)}function u(){c()}function f(h){o.value&&An(()=>{!i.value||!o.value||!r||(r.transitionHeight.value=Mt(h.clientHeight))})}const m=Z(()=>{const h=r.isReversed.value?e.reverseTransition:e.transition;return i.value?{name:typeof h!="string"?r.transition.value:h,onBeforeEnter:A,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:A,onAfterLeave:c,onLeaveCancelled:u,onEnter:f}:!1}),{hasContent:v}=yI(e,a.isSelected);return yt(()=>l(Vs,{transition:m.value,disabled:!s.value},{default:()=>[Tr(p("div",{class:rt(["v-window-item",a.selectedClass.value,e.class]),style:It(e.style)},[v.value&&n.default?.()]),[[Po,a.isSelected.value]])]})),{groupItem:a}}}),O9e=et({...kH(),...o_()},"VCarouselItem"),Q9e=mt()({name:"VCarouselItem",inheritAttrs:!1,props:O9e(),setup(e,t){let{slots:n,attrs:r}=t;yt(()=>{const a=eu.filterProps(e),s=kA.filterProps(e);return l(kA,Ne({class:["v-carousel-item",e.class]},s),{default:()=>[l(eu,Ne(r,a),n)]})})}}),H9e=ru("v-code","code"),K9e=et({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Gt()},"VColorPickerCanvas"),G9e=ti({name:"VColorPickerCanvas",props:K9e(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const r=kt(!1),a=H(),s=kt(parseFloat(e.width)),o=kt(parseFloat(e.height)),i=H({x:0,y:0}),c=Z({get:()=>i.value,set(w){if(!a.value)return;const{x:b,y:B}=w;i.value=w,n("update:color",{h:e.color?.h??0,s:Er(b,0,s.value)/s.value,v:1-Er(B,0,o.value)/o.value,a:e.color?.a??1})}}),A=Z(()=>{const{x:w,y:b}=c.value,B=parseInt(e.dotSize,10)/2;return{width:Mt(e.dotSize),height:Mt(e.dotSize),transform:`translate(${Mt(w-B)}, ${Mt(b-B)})`}}),{resizeRef:u}=Ci(w=>{if(!u.el?.offsetParent)return;const{width:b,height:B}=w[0].contentRect;s.value=b,o.value=B});function f(w,b,B){const{left:S,top:T,width:N,height:k}=B;c.value={x:Er(w-S,0,N),y:Er(b-T,0,k)}}function m(w){w.type==="mousedown"&&w.preventDefault(),!e.disabled&&(v(w),window.addEventListener("mousemove",v),window.addEventListener("mouseup",h),window.addEventListener("touchmove",v),window.addEventListener("touchend",h))}function v(w){if(e.disabled||!a.value)return;r.value=!0;const b=PZ(w);f(b.clientX,b.clientY,a.value.getBoundingClientRect())}function h(){window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",h),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",h)}function y(){if(!a.value)return;const w=a.value,b=w.getContext("2d");if(!b)return;const B=b.createLinearGradient(0,0,w.width,0);B.addColorStop(0,"hsla(0, 0%, 100%, 1)"),B.addColorStop(1,`hsla(${e.color?.h??0}, 100%, 50%, 1)`),b.fillStyle=B,b.fillRect(0,0,w.width,w.height);const S=b.createLinearGradient(0,0,0,w.height);S.addColorStop(0,"hsla(0, 0%, 0%, 0)"),S.addColorStop(1,"hsla(0, 0%, 0%, 1)"),b.fillStyle=S,b.fillRect(0,0,w.width,w.height)}return Ge(()=>e.color?.h,y,{immediate:!0}),Ge(()=>[s.value,o.value],(w,b)=>{y(),i.value={x:c.value.x*w[0]/b[0],y:c.value.y*w[1]/b[1]}},{flush:"post"}),Ge(()=>e.color,()=>{if(r.value){r.value=!1;return}i.value=e.color?{x:e.color.s*s.value,y:(1-e.color.v)*o.value}:{x:0,y:0}},{deep:!0,immediate:!0}),fn(()=>y()),yt(()=>p("div",{ref:u,class:rt(["v-color-picker-canvas",e.class]),style:It(e.style),onMousedown:m,onTouchstartPassive:m},[p("canvas",{ref:a,width:s.value,height:o.value},null),e.color&&p("div",{class:rt(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}]),style:It(A.value)},null)])),{}}});function z9e(e,t){if(t){const{a:n,...r}=e;return r}return e}function $9e(e,t){if(t==null||typeof t=="string"){const n=e.a!==1;if(t?.startsWith("rgb(")){const{r:a,g:s,b:o,a:i}=$l(e);return`rgb(${a} ${s} ${o}`+(n?` / ${i})`:")")}else if(t?.startsWith("hsl(")){const{h:a,s,l:o,a:i}=UC(e);return`hsl(${a} ${Math.round(s*100)} ${Math.round(o*100)}`+(n?` / ${i})`:")")}const r=K6(e);return e.a===1?r.slice(0,7):r}if(typeof t=="object"){let n;return Wd(t,["r","g","b"])?n=$l(e):Wd(t,["h","s","l"])?n=UC(e):Wd(t,["h","s","v"])&&(n=e),z9e(n,!Wd(t,["a"])&&e.a===1)}return e}const qf={h:0,s:0,v:0,a:1},iB={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)}),localeKey:"redInput"},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)}),localeKey:"greenInput"},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)}),localeKey:"blueInput"},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)}),localeKey:"alphaInput"}],to:$l,from:op},W9e={...iB,inputs:iB.inputs?.slice(0,3)},lB={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)}),localeKey:"hueInput"},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)}),localeKey:"saturationInput"},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)}),localeKey:"lightnessInput"},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)}),localeKey:"alphaInput"}],to:UC,from:gS},j9e={...lB,inputs:lB.inputs.slice(0,3)},K9={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t,localeKey:"hexaInput"}],to:K6,from:ree},J9e={...K9,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t,localeKey:"hexInput"}]},mA={rgb:W9e,rgba:iB,hsl:j9e,hsla:lB,hex:J9e,hexa:K9},q9e=e=>{let{label:t,...n}=e;return p("div",{class:"v-color-picker-edit__input"},[p("input",LA(fd(n)),null),p("span",null,[t])])},Y9e=et({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(mA).includes(e)},modes:{type:Array,default:()=>Object.keys(mA),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(mA).includes(t))},...Gt()},"VColorPickerEdit"),X9e=ti({name:"VColorPickerEdit",props:Y9e(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const{t:r}=ur(),a=Z(()=>e.modes.map(o=>({...mA[o],name:o}))),s=Z(()=>{const o=a.value.find(c=>c.name===e.mode);if(!o)return[];const i=e.color?o.to(e.color):null;return o.inputs?.map(c=>{let{getValue:A,getColor:u,localeKey:f,...m}=c;return{...o.inputProps,...m,ariaLabel:r(`$vuetify.colorPicker.ariaLabel.${f}`),disabled:e.disabled,value:i&&A(i),onChange:v=>{const h=v.target;h&&n("update:color",o.from(u(i??o.to(qf),h.value)))}}})});return yt(()=>p("div",{class:rt(["v-color-picker-edit",e.class]),style:It(e.style)},[s.value?.map(o=>l(q9e,o,null)),a.value.length>1&&l(Rn,{icon:"$unfold",size:"x-small",variant:"plain","aria-label":r("$vuetify.colorPicker.ariaLabel.changeFormat"),onClick:()=>{const o=a.value.findIndex(i=>i.name===e.mode);n("update:mode",a.value[(o+1)%a.value.length].name)}},null)])),{}}}),CI=Symbol.for("vuetify:v-slider");function cB(e,t,n){const r=n==="vertical",a=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return r?s.clientY-(a.top+a.height/2):s.clientX-(a.left+a.width/2)}function Z9e(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const G9=et({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,noKeyboard:Boolean,...Or(),...Ba({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),z9=e=>{const t=Z(()=>parseFloat(e.min)),n=Z(()=>parseFloat(e.max)),r=Z(()=>Number(e.step)>0?parseFloat(e.step):0),a=Z(()=>Math.max(YF(r.value),YF(t.value)));function s(o){if(o=parseFloat(o),r.value<=0)return o;const i=Er(o,t.value,n.value),c=t.value%r.value;let A=Math.round((i-c)/r.value)*r.value+c;return i>A&&A+r.value>n.value&&(A=n.value),parseFloat(Math.min(A,n.value).toFixed(a.value))}return{min:t,max:n,step:r,decimals:a,roundValue:s}},$9=e=>{let{props:t,steps:n,onSliderStart:r,onSliderMove:a,onSliderEnd:s,getActiveThumb:o}=e;const i=ch(t),{isRtl:c}=Ea(),A=Qe(()=>t.reverse),u=Z(()=>t.direction==="vertical"),f=Z(()=>u.value!==A.value),{min:m,max:v,step:h,decimals:y,roundValue:w}=n,b=Z(()=>parseInt(t.thumbSize,10)),B=Z(()=>parseInt(t.tickSize,10)),S=Z(()=>parseInt(t.trackSize,10)),T=Z(()=>(v.value-m.value)/h.value),N=Z(()=>t.error||i.isDisabled.value?void 0:t.thumbColor??t.color),k=Z(()=>t.error||i.isDisabled.value?void 0:t.thumbColor),E=Z(()=>t.error||i.isDisabled.value?void 0:t.trackColor??t.color),_=Z(()=>t.error||i.isDisabled.value?void 0:t.trackFillColor??t.color),C=kt(!1),F=kt(0),I=H(),R=H();function M(q){const Y=I.value?.$el;if(!Y)return;const ae=t.direction==="vertical",ge=ae?"top":"left",we=ae?"height":"width",z=ae?"clientY":"clientX",{[ge]:Ae,[we]:ie}=Y.getBoundingClientRect(),_e=Z9e(q,z);let Pe=Er((_e-Ae-F.value)/ie)||0;return(ae?f.value:f.value!==c.value)&&(Pe=1-Pe),w(m.value+Pe*(v.value-m.value))}const te=q=>{const Y=M(q);Y!=null&&s({value:Y}),C.value=!1,F.value=0},se=q=>{const Y=M(q);R.value=o(q),R.value&&(C.value=!0,R.value.contains(q.target)?F.value=cB(q,R.value,t.direction):(F.value=0,Y!=null&&a({value:Y})),Y!=null&&r({value:Y}),An(()=>R.value?.focus()))},O={passive:!0,capture:!0};function W(q){const Y=M(q);Y!=null&&a({value:Y})}function le(q){q.stopPropagation(),q.preventDefault(),te(q),window.removeEventListener("mousemove",W,O),window.removeEventListener("mouseup",le)}function K(q){te(q),window.removeEventListener("touchmove",W,O),q.target?.removeEventListener("touchend",K)}function ee(q){se(q),window.addEventListener("touchmove",W,O),q.target?.addEventListener("touchend",K,{passive:!1})}function j(q){q.button===0&&(q.preventDefault(),se(q),window.addEventListener("mousemove",W,O),window.addEventListener("mouseup",le,{passive:!1}))}const U=q=>{const Y=(q-m.value)/(v.value-m.value)*100;return Er(isNaN(Y)?0:Y,0,100)},G=Qe(()=>t.showTicks),ne=Z(()=>G.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(q=>({value:q,position:U(q),label:q.toString()})):Object.keys(t.ticks).map(q=>({value:parseFloat(q),position:U(parseFloat(q)),label:t.ticks[q]})):T.value!==1/0?jo(T.value+1).map(q=>{const Y=m.value+q*h.value;return{value:Y,position:U(Y)}}):[]:[]),X=Z(()=>ne.value.some(q=>{let{label:Y}=q;return!!Y})),oe={activeThumbRef:R,color:Qe(()=>t.color),decimals:y,disabled:i.isDisabled,direction:Qe(()=>t.direction),elevation:Qe(()=>t.elevation),hasLabels:X,isReversed:A,indexFromEnd:f,min:m,max:v,mousePressed:C,noKeyboard:Qe(()=>t.noKeyboard),numTicks:T,onSliderMousedown:j,onSliderTouchstart:ee,parsedTicks:ne,parseMouseMove:M,position:U,readonly:i.isReadonly,rounded:Qe(()=>t.rounded),roundValue:w,showTicks:G,startOffset:F,step:h,thumbSize:b,thumbColor:N,thumbLabelColor:k,thumbLabel:Qe(()=>t.thumbLabel),ticks:Qe(()=>t.ticks),tickSize:B,trackColor:E,trackContainerRef:I,trackFillColor:_,trackSize:S,vertical:u};return vr(CI,oe),oe},e7e=et({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,noKeyboard:Boolean,...Gt()},"VSliderThumb"),uB=mt()({name:"VSliderThumb",directives:{vRipple:Gs},props:e7e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=pn(CI),{isRtl:s,rtlClasses:o}=Ea();if(!a)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:i,max:c,thumbColor:A,thumbLabelColor:u,step:f,disabled:m,thumbSize:v,thumbLabel:h,direction:y,isReversed:w,vertical:b,readonly:B,elevation:S,mousePressed:T,decimals:N,indexFromEnd:k}=a,E=Z(()=>m.value?void 0:S.value),{elevationClasses:_}=Wa(E),{textColorClasses:C,textColorStyles:F}=os(A),{backgroundColorClasses:I,backgroundColorStyles:R}=lr(u),{pageup:M,pagedown:te,end:se,home:O,left:W,right:le,down:K,up:ee}=kC,j=[M,te,se,O,W,le,K,ee],U=Z(()=>f.value?[1,2,3]:[1,5,10]);function G(X,oe){if(e.noKeyboard||!j.includes(X.key))return;X.preventDefault();const q=f.value||.1,Y=(c.value-i.value)/q;if([W,le,K,ee].includes(X.key)){const ge=(b.value?[s.value?W:le,w.value?K:ee]:k.value!==s.value?[W,ee]:[le,ee]).includes(X.key)?1:-1,we=X.shiftKey?2:X.ctrlKey?1:0;ge===-1&&oe===c.value&&!we&&!Number.isInteger(Y)?oe=oe-Y%1*q:oe=oe+ge*q*U.value[we]}else if(X.key===O)oe=i.value;else if(X.key===se)oe=c.value;else{const ae=X.key===te?1:-1;oe=oe-ae*q*(Y>100?Y/10:10)}return Math.max(e.min,Math.min(e.max,oe))}function ne(X){const oe=G(X,e.modelValue);oe!=null&&r("update:modelValue",oe)}return yt(()=>{const X=Mt(k.value?100-e.position:e.position,"%");return p("div",{class:rt(["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&T.value},e.class,o.value]),style:It([{"--v-slider-thumb-position":X,"--v-slider-thumb-size":Mt(v.value)},e.style]),role:"slider",tabindex:m.value?-1:0,"aria-label":e.name,"aria-valuemin":i.value,"aria-valuemax":c.value,"aria-valuenow":e.modelValue,"aria-readonly":!!B.value,"aria-orientation":y.value,onKeydown:B.value?void 0:ne},[p("div",{class:rt(["v-slider-thumb__surface",C.value,_.value]),style:It(F.value)},null),Tr(p("div",{class:rt(["v-slider-thumb__ripple",C.value]),style:It(F.value)},null),[[Gs,e.ripple,null,{circle:!0,center:!0}]]),l(rI,{origin:"bottom center"},{default:()=>[Tr(p("div",{class:"v-slider-thumb__label-container"},[p("div",{class:rt(["v-slider-thumb__label",I.value]),style:It(R.value)},[p("div",null,[n["thumb-label"]?.({modelValue:e.modelValue})??e.modelValue.toFixed(f.value?N.value:1)]),p("div",{class:"v-slider-thumb__label-wedge"},null)])]),[[Po,h.value&&e.focused||h.value==="always"]])]})])}),{}}}),t7e=et({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Gt()},"VSliderTrack"),W9=mt()({name:"VSliderTrack",props:t7e(),emits:{},setup(e,t){let{slots:n}=t;const r=pn(CI);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:a,parsedTicks:s,rounded:o,showTicks:i,tickSize:c,trackColor:A,trackFillColor:u,trackSize:f,vertical:m,min:v,max:h,indexFromEnd:y}=r,{roundedClasses:w}=qr(o),{backgroundColorClasses:b,backgroundColorStyles:B}=lr(u),{backgroundColorClasses:S,backgroundColorStyles:T}=lr(A),N=Z(()=>`inset-${m.value?"block":"inline"}-${y.value?"end":"start"}`),k=Z(()=>m.value?"height":"width"),E=Z(()=>({[N.value]:"0%",[k.value]:"100%"})),_=Z(()=>e.stop-e.start),C=Z(()=>({[N.value]:Mt(e.start,"%"),[k.value]:Mt(_.value,"%")})),F=Z(()=>i.value?(m.value?s.value.slice().reverse():s.value).map((R,M)=>{const te=R.value!==v.value&&R.value!==h.value?Mt(R.position,"%"):void 0;return p("div",{key:R.value,class:rt(["v-slider-track__tick",{"v-slider-track__tick--filled":R.position>=e.start&&R.position<=e.stop,"v-slider-track__tick--first":R.value===v.value,"v-slider-track__tick--last":R.value===h.value}]),style:{[N.value]:te}},[(R.label||n["tick-label"])&&p("div",{class:"v-slider-track__tick-label"},[n["tick-label"]?.({tick:R,index:M})??R.label])])}):[]);return yt(()=>p("div",{class:rt(["v-slider-track",w.value,e.class]),style:It([{"--v-slider-track-size":Mt(f.value),"--v-slider-tick-size":Mt(c.value)},e.style])},[p("div",{class:rt(["v-slider-track__background",S.value,{"v-slider-track__background--opacity":!!a.value||!u.value}]),style:{...E.value,...T.value}},null),p("div",{class:rt(["v-slider-track__fill",b.value]),style:{...C.value,...B.value}},null),i.value&&p("div",{class:rt(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":i.value==="always"}])},[F.value])])),{}}}),n7e=et({...Vp(),...G9(),...uu(),modelValue:{type:[Number,String],default:0}},"VSlider"),dB=mt()({name:"VSlider",props:n7e(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=H(),s=H(),{rtlClasses:o}=Ea(),i=z9(e),c=en(e,"modelValue",void 0,C=>i.roundValue(C??i.min.value)),{min:A,max:u,mousePressed:f,roundValue:m,onSliderMousedown:v,onSliderTouchstart:h,trackContainerRef:y,position:w,hasLabels:b,disabled:B,readonly:S,noKeyboard:T}=$9({props:e,steps:i,onSliderStart:()=>{r("start",c.value)},onSliderEnd:C=>{let{value:F}=C;const I=m(F);c.value=I,r("end",I)},onSliderMove:C=>{let{value:F}=C;return c.value=m(F)},getActiveThumb:()=>a.value?.$el}),{isFocused:N,focus:k,blur:E}=cu(e),_=Z(()=>w(c.value));return yt(()=>{const C=gs.filterProps(e),F=!!(e.label||n.label||n.prepend);return l(gs,Ne({ref:s,class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||b.value,"v-slider--focused":N.value,"v-slider--pressed":f.value,"v-slider--disabled":e.disabled},o.value,e.class],style:e.style},C,{focused:N.value}),{...n,prepend:F?I=>p(ze,null,[n.label?.(I)??(e.label?l(lh,{id:I.id.value,class:"v-slider__label",text:e.label},null):void 0),n.prepend?.(I)]):void 0,default:I=>{let{id:R,messagesId:M}=I;return p("div",{class:"v-slider__container",onMousedown:S.value?void 0:v,onTouchstartPassive:S.value?void 0:h},[p("input",{id:R.value,name:e.name||R.value,disabled:!!B.value,readonly:!!S.value,tabindex:"-1",value:c.value},null),l(W9,{ref:y,start:0,stop:_.value},{"tick-label":n["tick-label"]}),l(uB,{ref:a,"aria-describedby":M.value,focused:N.value,noKeyboard:T.value,min:A.value,max:u.value,modelValue:c.value,"onUpdate:modelValue":te=>c.value=te,position:_.value,elevation:e.elevation,onFocus:k,onBlur:E,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),ja({focus:()=>a.value?.$el.focus()},s)}}),j9=et({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,hideEyeDropper:Boolean,eyeDropperIcon:{type:qt,default:"$eyeDropper"},...Gt()},"VColorPickerPreview"),r7e=ti({name:"VColorPickerPreview",props:j9(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const{t:r}=ur(),a=new AbortController;nc(()=>a.abort());async function s(){if(!WF||e.disabled)return;const o=new window.EyeDropper;try{const i=await o.open({signal:a.signal}),c=op(Jo(i.sRGBHex));n("update:color",{...e.color??qf,...c})}catch{}}return yt(()=>p("div",{class:rt(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class]),style:It(e.style)},[WF&&!e.hideEyeDropper&&p("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[l(Rn,{"aria-label":r("$vuetify.colorPicker.ariaLabel.eyedropper"),density:"comfortable",disabled:e.disabled,icon:e.eyeDropperIcon,variant:"plain",onClick:s},null)]),p("div",{class:"v-color-picker-preview__dot"},[p("div",{style:{background:O6(e.color??qf)}},null)]),p("div",{class:"v-color-picker-preview__sliders"},[l(dB,{class:"v-color-picker-preview__track v-color-picker-preview__hue",name:r("$vuetify.colorPicker.ariaLabel.hueSlider"),modelValue:e.color?.h,"onUpdate:modelValue":o=>n("update:color",{...e.color??qf,h:o}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&l(dB,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",name:r("$vuetify.colorPicker.ariaLabel.alphaSlider"),modelValue:e.color?.a??1,"onUpdate:modelValue":o=>n("update:color",{...e.color??qf,a:o}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])),{}}}),a7e={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},s7e={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},o7e={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},i7e={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},l7e={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},c7e={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},u7e={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},d7e={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},A7e={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},f7e={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},m7e={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},h7e={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},v7e={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},p7e={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},g7e={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},y7e={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},w7e={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},_7e={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},b7e={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},x7e={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},C7e={red:a7e,pink:s7e,purple:o7e,deepPurple:i7e,indigo:l7e,blue:c7e,lightBlue:u7e,cyan:d7e,teal:A7e,green:f7e,lightGreen:m7e,lime:h7e,yellow:v7e,amber:p7e,orange:g7e,deepOrange:y7e,brown:w7e,blueGrey:_7e,grey:b7e,shades:x7e},E7e=et({swatches:{type:Array,default:()=>B7e(C7e)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Gt()},"VColorPickerSwatches");function B7e(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const S7e=ti({name:"VColorPickerSwatches",props:E7e(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return yt(()=>p("div",{class:rt(["v-color-picker-swatches",e.class]),style:It([{maxHeight:Mt(e.maxHeight)},e.style])},[p("div",null,[e.swatches.map(r=>p("div",{class:"v-color-picker-swatches__swatch"},[r.map(a=>{const s=Jo(a),o=op(s),i=M6(s);return p("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&n("update:color",o)},[p("div",{style:{background:i}},[e.color&&Ga(e.color,o)?l(Xn,{size:"x-small",icon:"$success",color:iee(a,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),k7e=ru("v-picker-title"),EI=et({color:String,...vo(),...Gt(),...Aa(),...Ba(),...lu(),...oh(),...Or(),...gn(),...Hn()},"VSheet"),Jv=mt()({name:"VSheet",props:EI(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=or(e),{backgroundColorClasses:a,backgroundColorStyles:s}=lr(()=>e.color),{borderClasses:o}=No(e),{dimensionStyles:i}=fa(e),{elevationClasses:c}=Wa(e),{locationStyles:A}=ZA(e),{positionClasses:u}=ih(e),{roundedClasses:f}=qr(e);return yt(()=>l(e.tag,{class:rt(["v-sheet",r.value,a.value,o.value,c.value,u.value,f.value,e.class]),style:It([s.value,i.value,A.value,e.style])},n)),{}}}),i_=et({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,hideTitle:Boolean,...EI()},"VPicker"),Om=mt()({name:"VPicker",props:i_(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:a}=lr(()=>e.color);return yt(()=>{const s=Jv.filterProps(e),o=!e.hideTitle&&!!(e.title||n.title);return l(Jv,Ne(s,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>[!e.hideHeader&&p("div",{key:"header",class:rt([r.value]),style:It([a.value])},[o&&l(k7e,{key:"picker-title"},{default:()=>[n.title?.()??e.title]}),n.header&&p("div",{class:"v-picker__header"},[n.header()])]),p("div",{class:"v-picker__body"},[n.default?.()]),n.actions&&l(Cn,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[p("div",{class:"v-picker__actions"},[n.actions()])]})]})}),{}}}),I7e=et({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(mA).includes(e)},modes:{type:Array,default:()=>Object.keys(mA),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(mA).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...i_({hideHeader:!0}),...Do(j9(),["hideEyeDropper","eyeDropperIcon"])},"VColorPicker"),T7e=ti({name:"VColorPicker",props:I7e(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"mode"),a=H(null),s=en(e,"modelValue",void 0,u=>{if(u==null||u==="")return null;let f;try{f=op(Jo(u))}catch{return null}return f},u=>u?$9e(u,e.modelValue):null),o=Z(()=>s.value?{...s.value,h:a.value??s.value.h}:null),{rtlClasses:i}=Ea();let c=!0;Ge(s,u=>{if(!c){c=!0;return}u&&(a.value=u.h)},{immediate:!0});const A=u=>{c=!1,a.value=u.h,s.value=u};return Al(()=>{e.modes.includes(r.value)||(r.value=e.modes[0])}),jr({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),yt(()=>{const u=Om.filterProps(e);return l(Om,Ne(u,{class:["v-color-picker",i.value,e.class],style:[{"--v-color-picker-color-hsv":O6({...o.value??qf,a:1})},e.style]}),{...n,default:()=>p(ze,null,[!e.hideCanvas&&l(G9e,{key:"canvas",color:o.value,"onUpdate:color":A,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&p("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&l(r7e,{key:"preview",color:o.value,"onUpdate:color":A,hideAlpha:!r.value.endsWith("a"),disabled:e.disabled,hideEyeDropper:e.hideEyeDropper,eyeDropperIcon:e.eyeDropperIcon},null),!e.hideInputs&&l(X9e,{key:"edit",modes:e.modes,mode:r.value,"onUpdate:mode":f=>r.value=f,color:o.value,"onUpdate:color":A,disabled:e.disabled},null)]),e.showSwatches&&l(S7e,{key:"swatches",color:o.value,"onUpdate:color":A,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)])})}),{}}}),F7e=et({alwaysFilter:Boolean,autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Ah({filterKeys:["title"]}),...bI({hideNoData:!0,returnObject:!0}),...cr(Qp({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])},"VCombobox"),P7e=mt()({name:"VCombobox",props:F7e(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:a}=ur(),s=H(),o=kt(!1),i=kt(!0),c=kt(!1),A=H(),u=H(),f=kt(-1);let m=!1;const{items:v,transformIn:h,transformOut:y}=fI(e),{textColorClasses:w,textColorStyles:b}=os(()=>s.value?.color),B=en(e,"modelValue",[],ie=>h(Wr(ie)),ie=>{const _e=y(ie);return e.multiple?_e:_e[0]??null}),S=ch(e),T=Z(()=>!!(e.chips||r.chip)),N=Z(()=>T.value||!!r.selection),k=kt(!e.multiple&&!N.value?B.value[0]?.title??"":""),E=kt(null),_=Z({get:()=>k.value,set:async ie=>{if(k.value=ie??"",ie===null||ie===""&&!e.multiple&&!N.value?B.value=[]:!e.multiple&&!N.value&&(B.value=[zi(e,ie)],An(()=>u.value?.scrollToIndex(0))),ie&&e.multiple&&e.delimiters?.length){const _e=e.delimiters.map(Py).join("|"),Pe=ie.split(new RegExp(`(?:${_e})+`));if(Pe.length>1){for(let re of Pe)re=re.trim(),re&&(we(zi(e,re)),await An());k.value=""}}ie||(f.value=-1),i.value=!ie}}),C=Z(()=>typeof e.counterValue=="function"?e.counterValue(B.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?B.value.length:_.value.length),{filteredItems:F,getMatches:I}=fh(e,v,()=>E.value??(e.alwaysFilter||!i.value?_.value:"")),R=Z(()=>e.hideSelected&&E.value===null?F.value.filter(ie=>!B.value.some(_e=>_e.value===ie.value)):F.value),M=Z(()=>e.hideNoData&&!R.value.length||S.isReadonly.value||S.isDisabled.value),te=en(e,"menu"),se=Z({get:()=>te.value,set:ie=>{te.value&&!ie&&A.value?.openChildren.size||ie&&M.value||(te.value=ie)}}),{menuId:O,ariaExpanded:W,ariaControls:le,ariaLabel:K}=_I(e,se);Ge(k,ie=>{m?An(()=>m=!1):o.value&&!se.value&&(se.value=!0),n("update:search",ie)}),Ge(B,ie=>{!e.multiple&&!N.value&&(k.value=ie[0]?.title??"")});const ee=Z(()=>B.value.map(ie=>ie.value)),j=Z(()=>(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&_.value===R.value[0]?.title)&&R.value.length>0&&!i.value&&!c.value),U=H(),G=wI(U,s);function ne(ie){m=!0,An(()=>m=!1),e.openOnClear&&(se.value=!0)}function X(){M.value||(se.value=!0)}function oe(ie){M.value||(o.value&&(ie.preventDefault(),ie.stopPropagation()),se.value=!se.value)}function q(ie){(Cm(ie)||ie.key==="Backspace")&&s.value?.focus()}function Y(ie){if(TZ(ie)||S.isReadonly.value)return;const _e=s.value?.selectionStart,Pe=B.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(ie.key)&&ie.preventDefault(),["Enter","ArrowDown"].includes(ie.key)&&(se.value=!0),["Escape"].includes(ie.key)&&(se.value=!1),j.value&&["Enter","Tab"].includes(ie.key)&&!B.value.some(re=>{let{value:be}=re;return be===R.value[0].value})&&we(F.value[0]),ie.key==="ArrowDown"&&j.value&&U.value?.focus("next"),ie.key==="Enter"&&_.value&&(we(zi(e,_.value),!0,!0),N.value&&(k.value="")),["Backspace","Delete"].includes(ie.key)){if(!e.multiple&&N.value&&B.value.length>0&&!_.value)return we(B.value[0],!1);if(~f.value){ie.preventDefault();const re=f.value;we(B.value[f.value],!1),f.value=re>=Pe-1?Pe-2:re}else ie.key==="Backspace"&&!_.value&&(f.value=Pe-1);return}if(e.multiple)if(ie.key==="ArrowLeft"){if(f.value<0&&_e&&_e>0)return;const re=f.value>-1?f.value-1:Pe-1;B.value[re]?f.value=re:(f.value=-1,s.value?.setSelectionRange(_.value.length,_.value.length))}else if(ie.key==="ArrowRight"){if(f.value<0)return;const re=f.value+1;B.value[re]?f.value=re:(f.value=-1,s.value?.setSelectionRange(0,0))}else~f.value&&Cm(ie)&&(f.value=-1)}function ae(){e.eager&&u.value?.calculateVisibleItems()}function ge(){o.value&&s.value?.focus(),i.value=!0,E.value=null}function we(ie){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!(!ie||ie.props.disabled))if(e.multiple){const re=B.value.findIndex(He=>(e.valueComparator||Ga)(He.value,ie.value)),be=_e??!~re;if(~re){const He=be?[...B.value,ie]:[...B.value];He.splice(re,1),B.value=He}else be&&(B.value=[...B.value,ie]);e.clearOnSelect&&(_.value="")}else{const re=_e!==!1;B.value=re?[ie]:[],(!i.value||e.alwaysFilter)&&k.value&&(E.value=k.value),k.value=re&&!N.value?ie.title:"",An(()=>{se.value=Pe,i.value=!0})}}function z(ie){o.value=!0,setTimeout(()=>{c.value=!0})}function Ae(ie){c.value=!1}return Ge(o,(ie,_e)=>{if(!(ie||ie===_e)&&(f.value=-1,se.value=!1,_.value)){if(e.multiple){we(zi(e,_.value));return}if(!N.value)return;B.value.some(Pe=>{let{title:re}=Pe;return re===_.value})?k.value="":we(zi(e,_.value))}}),Ge(se,ie=>{if(!e.hideSelected&&ie&&B.value.length&&i.value){const _e=R.value.findIndex(Pe=>B.value.some(re=>(e.valueComparator||Ga)(re.value,Pe.value)));Zn&&window.requestAnimationFrame(()=>{_e>=0&&u.value?.scrollToIndex(_e)})}ie&&(E.value=null)}),Ge(v,(ie,_e)=>{se.value||o.value&&!_e.length&&ie.length&&(se.value=!0)}),yt(()=>{const ie=!!(!e.hideNoData||R.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),_e=B.value.length>0,Pe=tu.filterProps(e);return l(tu,Ne({ref:s},Pe,{modelValue:_.value,"onUpdate:modelValue":re=>_.value=re,focused:o.value,"onUpdate:focused":re=>o.value=re,validationValue:B.externalValue,counterValue:C.value,dirty:_e,class:["v-combobox",{"v-combobox--active-menu":se.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!N.value,"v-combobox--selecting-index":f.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:S.isReadonly.value,placeholder:_e?void 0:e.placeholder,"onClick:clear":ne,"onMousedown:control":X,onKeydown:Y,"aria-expanded":W.value,"aria-controls":le.value}),{...r,default:()=>p(ze,null,[l(Mm,Ne({id:O.value,ref:A,modelValue:se.value,"onUpdate:modelValue":re=>se.value=re,activator:"parent",contentClass:"v-combobox__content",disabled:M.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:ae,onAfterLeave:ge},e.menuProps),{default:()=>[ie&&l(Vm,Ne({ref:U,filterable:!0,selected:ee.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:re=>re.preventDefault(),selectable:!0,onKeydown:q,onFocusin:z,onFocusout:Ae,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},G,e.listProps),{default:()=>[r["prepend-item"]?.(),!R.value.length&&!e.hideNoData&&(r["no-data"]?.()??l(ul,{key:"no-data",title:a(e.noDataText)},null)),l(a_,{ref:u,renderless:!0,items:R.value,itemKey:"value"},{default:re=>{let{item:be,index:He,itemRef:ke}=re;const Se=Ne(be.props,{ref:ke,key:be.value,active:j.value&&He===0?!0:void 0,onClick:()=>we(be,null)});return be.type==="divider"?r.divider?.({props:be.raw,index:He})??l(qo,Ne(be.props,{key:`divider-${He}`}),null):be.type==="subheader"?r.subheader?.({props:be.raw,index:He})??l(dh,Ne(be.props,{key:`subheader-${He}`}),null):r.item?.({item:be,index:He,props:Se})??l(ul,Ne(Se,{role:"option"}),{prepend:st=>{let{isSelected:je}=st;return p(ze,null,[e.multiple&&!e.hideSelected?l(Xl,{key:be.value,modelValue:je,ripple:!1,tabindex:"-1",onClick:Ve=>Ve.preventDefault()},null):void 0,be.props.prependAvatar&&l(ei,{image:be.props.prependAvatar},null),be.props.prependIcon&&l(Xn,{icon:be.props.prependIcon},null)])},title:()=>i.value?be.title:T9("v-combobox",be.title,I(be)?.title)})}}),r["append-item"]?.()]})]}),B.value.map((re,be)=>{function He(je){je.stopPropagation(),je.preventDefault(),we(re,!1)}const ke={"onClick:close":He,onKeydown(je){je.key!=="Enter"&&je.key!==" "||(je.preventDefault(),je.stopPropagation(),He(je))},onMousedown(je){je.preventDefault(),je.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Se=T.value?!!r.chip:!!r.selection,st=Se?aw(T.value?r.chip({item:re,index:be,props:ke}):r.selection({item:re,index:be})):void 0;if(!(Se&&!st))return p("div",{key:re.value,class:rt(["v-combobox__selection",be===f.value&&["v-combobox__selection--selected",w.value]]),style:It(be===f.value?b.value:{})},[T.value?r.chip?l(Cn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:re.title}}},{default:()=>[st]}):l(uh,Ne({key:"chip",closable:e.closableChips,size:"small",text:re.title,disabled:re.props.disabled},ke),null):st??p("span",{class:"v-combobox__selection-text"},[re.title,e.multiple&&be<B.value.length-1&&p("span",{class:"v-combobox__selection-comma"},[Q(",")])])])})]),"append-inner":function(){for(var re=arguments.length,be=new Array(re),He=0;He<re;He++)be[He]=arguments[He];return p(ze,null,[r["append-inner"]?.(...be),(!e.hideNoData||e.items.length)&&e.menuIcon?l(Xn,{class:"v-combobox__menu-icon",color:s.value?.fieldIconColor,icon:e.menuIcon,onMousedown:oe,onClick:P6,"aria-label":K.value,title:K.value,tabindex:"-1"},null):void 0])}})}),ja({isFocused:o,isPristine:i,menu:se,search:_,selectionIndex:f,filteredItems:F,select:we},s)}}),D7e=et({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"},disabled:{type:[Boolean,Array],default:void 0},hideActions:Boolean},"VConfirmEdit"),U7e=mt()({name:"VConfirmEdit",props:D7e(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=en(e,"modelValue"),s=H();Mr(()=>{s.value=structuredClone(un(a.value))});const{t:o}=ur(),i=Z(()=>Ga(a.value,s.value));function c(y){return typeof e.disabled=="boolean"?e.disabled:Array.isArray(e.disabled)?e.disabled.includes(y):i.value}const A=Z(()=>c("save")),u=Z(()=>c("cancel"));function f(){a.value=s.value,n("save",s.value)}function m(){s.value=structuredClone(un(a.value)),n("cancel")}function v(y){return p(ze,null,[l(Rn,Ne({disabled:u.value,variant:"text",color:e.color,onClick:m,text:o(e.cancelText)},y),null),l(Rn,Ne({disabled:A.value,variant:"text",color:e.color,onClick:f,text:o(e.okText)},y),null)])}let h=!1;return yt(()=>p(ze,null,[r.default?.({model:s,save:f,cancel:m,isPristine:i.value,get actions(){return h=!0,v}}),!e.hideActions&&!h&&v()])),{save:f,cancel:m,isPristine:i}}}),J9=et({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),q9=Symbol.for("vuetify:datatable:expanded");function l_(e){const t=Qe(()=>e.expandOnClick),n=en(e,"expanded",e.expanded,i=>new Set(i),i=>[...i.values()]);function r(i,c){const A=new Set(n.value),u=un(i.value);if(c)A.add(u);else{const f=[...n.value].find(m=>un(m)===u);A.delete(f)}n.value=A}function a(i){const c=un(i.value);return[...n.value].some(A=>un(A)===c)}function s(i){r(i,!a(i))}const o={expand:r,expanded:n,expandOnClick:t,isExpanded:a,toggleExpand:s};return vr(q9,o),o}function Y9(){const e=pn(q9);if(!e)throw new Error("foo");return e}const BI=et({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),X9=Symbol.for("vuetify:data-table-group");function SI(e){return{groupBy:en(e,"groupBy")}}function c_(e){const{disableSort:t,groupBy:n,sortBy:r}=e,a=H(new Set),s=Z(()=>n.value.map(u=>({...u,order:u.order??!1})).concat(t?.value?[]:r.value));function o(u){return a.value.has(u.id)}function i(u){const f=new Set(a.value);o(u)?f.delete(u.id):f.add(u.id),a.value=f}function c(u){function f(m){const v=[];for(const h of m.items)"type"in h&&h.type==="group"?v.push(...f(h)):v.push(h);return[...new Set(v)]}return f({items:u})}const A={sortByWithGroups:s,toggleGroup:i,opened:a,groupBy:n,extractRows:c,isGroupOpen:o};return vr(X9,A),A}function Z9(){const e=pn(X9);if(!e)throw new Error("Missing group!");return e}function R7e(e,t){if(!e.length)return[];const n=new Map;for(const r of e){const a=yA(r.raw,t);n.has(a)||n.set(a,[]),n.get(a).push(r)}return n}function e7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const a=R7e(e,t[0]),s=[],o=t.slice(1);return a.forEach((i,c)=>{const A=t[0],u=`${r}_${A}_${c}`;s.push({depth:n,id:u,key:A,value:c,items:o.length?e7(i,o,n+1,u):i,type:"group"})}),s}function t7(e,t,n){const r=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&r.push(a),(t.has(a.id)||a.value==null)&&(r.push(...t7(a.items,t,n)),n&&r.push({...a,type:"group-summary"}))):r.push(a);return r}function u_(e,t,n,r){return{flatItems:Z(()=>{if(!t.value.length)return e.value;const s=e7(e.value,t.value.map(o=>o.key));return t7(s,n.value,Os(r))})}}function d_(e){let{page:t,itemsPerPage:n,sortBy:r,groupBy:a,search:s}=e;const o=na("VDataTable"),i=()=>({page:t.value,itemsPerPage:n.value,sortBy:r.value,groupBy:a.value,search:s.value});let c=null;Ge(i,A=>{Ga(c,A)||(c&&c.search!==A.search&&(t.value=1),o.emit("update:options",A),c=A)},{deep:!0,immediate:!0})}const kI=et({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),n7=Symbol.for("vuetify:data-table-pagination");function II(e){const t=en(e,"page",void 0,r=>Number(r??1)),n=en(e,"itemsPerPage",void 0,r=>Number(r??10));return{page:t,itemsPerPage:n}}function TI(e){const{page:t,itemsPerPage:n,itemsLength:r}=e,a=Z(()=>n.value===-1?0:n.value*(t.value-1)),s=Z(()=>n.value===-1?r.value:Math.min(r.value,a.value+n.value)),o=Z(()=>n.value===-1||r.value===0?1:Math.ceil(r.value/n.value));Ge([t,o],()=>{t.value>o.value&&(t.value=o.value)});function i(m){n.value=m,t.value=1}function c(){t.value=Er(t.value+1,1,o.value)}function A(){t.value=Er(t.value-1,1,o.value)}function u(m){t.value=Er(m,1,o.value)}const f={page:t,itemsPerPage:n,startIndex:a,stopIndex:s,pageCount:o,itemsLength:r,nextPage:c,prevPage:A,setPage:u,setItemsPerPage:i};return vr(n7,f),f}function N7e(){const e=pn(n7);if(!e)throw new Error("Missing pagination!");return e}function r7(e){const t=na("usePaginatedItems"),{items:n,startIndex:r,stopIndex:a,itemsPerPage:s}=e,o=Z(()=>s.value<=0?n.value:n.value.slice(r.value,a.value));return Ge(o,i=>{t.emit("update:currentItems",i)},{immediate:!0}),{paginatedItems:o}}const L7e={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:n}=e;return new Set(n?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},a7={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const a of t)n?r.add(a.value):r.delete(a.value);return r},selectAll:e=>{let{value:t,currentPage:n,selected:r}=e;return a7.select({items:n,value:t,selected:r})}},s7={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const a of t)n?r.add(a.value):r.delete(a.value);return r},selectAll:e=>{let{value:t,allItems:n,selected:r}=e;return s7.select({items:n,value:t,selected:r})}},o7=et({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Ga}},"DataTable-select"),i7=Symbol.for("vuetify:data-table-selection");function A_(e,t){let{allItems:n,currentPage:r}=t;const a=en(e,"modelValue",e.modelValue,B=>new Set(Wr(B).map(S=>n.value.find(T=>e.valueComparator(S,T.value))?.value??S)),B=>[...B.values()]),s=Z(()=>n.value.filter(B=>B.selectable)),o=Z(()=>r.value.filter(B=>B.selectable)),i=Z(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return L7e;case"all":return s7;case"page":default:return a7}}),c=kt(null);function A(B){return Wr(B).every(S=>a.value.has(S.value))}function u(B){return Wr(B).some(S=>a.value.has(S.value))}function f(B,S){const T=i.value.select({items:B,value:S,selected:new Set(a.value)});a.value=T}function m(B,S,T){const N=[];if(S=S??r.value.findIndex(k=>k.value===B.value),e.selectStrategy!=="single"&&T?.shiftKey&&c.value!==null){const[k,E]=[c.value,S].sort((_,C)=>_-C);N.push(...r.value.slice(k,E+1).filter(_=>_.selectable))}else N.push(B),c.value=S;f(N,!A([B]))}function v(B){const S=i.value.selectAll({value:B,allItems:s.value,currentPage:o.value,selected:new Set(a.value)});a.value=S}const h=Z(()=>a.value.size>0),y=Z(()=>{const B=i.value.allSelected({allItems:s.value,currentPage:o.value});return!!B.length&&A(B)}),w=Qe(()=>i.value.showSelectAll),b={toggleSelect:m,select:f,selectAll:v,isSelected:A,isSomeSelected:u,someSelected:h,allSelected:y,showSelectAll:w,lastSelectedIndex:c,selectStrategy:i};return vr(i7,b),b}function f_(){const e=pn(i7);if(!e)throw new Error("Missing selection!");return e}const l7=et({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),c7=Symbol.for("vuetify:data-table-sort");function m_(e){const t=en(e,"sortBy"),n=Qe(()=>e.mustSort),r=Qe(()=>e.multiSort);return{sortBy:t,mustSort:n,multiSort:r}}function h_(e){const{sortBy:t,mustSort:n,multiSort:r,page:a}=e,s=c=>{if(c.key==null)return;let A=t.value.map(f=>({...f}))??[];const u=A.find(f=>f.key===c.key);u?u.order==="desc"?n.value&&A.length===1?u.order="asc":A=A.filter(f=>f.key!==c.key):u.order="desc":r.value?A.push({key:c.key,order:"asc"}):A=[{key:c.key,order:"asc"}],t.value=A,a&&(a.value=1)};function o(c){return!!t.value.find(A=>A.key===c.key)}const i={sortBy:t,toggleSort:s,isSorted:o};return vr(c7,i),i}function u7(){const e=pn(c7);if(!e)throw new Error("Missing sort!");return e}function FI(e,t,n,r){const a=ur();return{sortedItems:Z(()=>n.value.length?V7e(t.value,n.value,a.current.value,{transform:r?.transform,sortFunctions:{...e.customKeySort,...r?.sortFunctions?.value},sortRawFunctions:r?.sortRawFunctions?.value}):t.value)}}function V7e(e,t,n,r){const a=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,r?.transform?r.transform(o):o]).sort((o,i)=>{for(let c=0;c<t.length;c++){let A=!1;const u=t[c].key,f=t[c].order??"asc";if(f===!1)continue;let m=yA(o[1],u),v=yA(i[1],u),h=o[0].raw,y=i[0].raw;if(f==="desc"&&([m,v]=[v,m],[h,y]=[y,h]),r?.sortRawFunctions?.[u]){const w=r.sortRawFunctions[u](h,y);if(w==null)continue;if(A=!0,w)return w}if(r?.sortFunctions?.[u]){const w=r.sortFunctions[u](m,v);if(w==null)continue;if(A=!0,w)return w}if(!A&&(m instanceof Date&&v instanceof Date&&(m=m.getTime(),v=v.getTime()),[m,v]=[m,v].map(w=>w!=null?w.toString().toLocaleLowerCase():w),m!==v))return Jg(m)&&Jg(v)?0:Jg(m)?-1:Jg(v)?1:!isNaN(m)&&!isNaN(v)?Number(m)-Number(v):a.compare(m,v)}return 0}).map(o=>{let[i]=o;return i})}const M7e=et({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function O7e(e,t){const n=e.returnObject?t:la(t,e.itemValue),r=la(t,e.itemSelectable,!0);return{type:"item",value:n,selectable:r,raw:t}}function Q7e(e,t){const n=[];for(const r of t)n.push(O7e(e,r));return n}function H7e(e){return{items:Z(()=>Q7e(e,e.items))}}const K7e=et({search:String,loading:Boolean,...Gt(),...M7e(),...o7(),...l7(),...kI({itemsPerPage:5}),...J9(),...BI(),...Ah(),...gn(),...iu({transition:{component:Hv,hideOnLeave:!0}})},"VDataIterator"),G7e=mt()({name:"VDataIterator",props:K7e(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"groupBy"),a=Qe(()=>e.search),{items:s}=H7e(e),{filteredItems:o}=fh(e,s,a,{transform:j=>j.raw}),{sortBy:i,multiSort:c,mustSort:A}=m_(e),{page:u,itemsPerPage:f}=II(e),{toggleSort:m}=h_({sortBy:i,multiSort:c,mustSort:A,page:u}),{sortByWithGroups:v,opened:h,extractRows:y,isGroupOpen:w,toggleGroup:b}=c_({groupBy:r,sortBy:i}),{sortedItems:B}=FI(e,o,v,{transform:j=>j.raw}),{flatItems:S}=u_(B,r,h,!1),T=Qe(()=>S.value.length),{startIndex:N,stopIndex:k,pageCount:E,prevPage:_,nextPage:C,setItemsPerPage:F,setPage:I}=TI({page:u,itemsPerPage:f,itemsLength:T}),{paginatedItems:R}=r7({items:S,startIndex:N,stopIndex:k,itemsPerPage:f}),M=Z(()=>y(R.value)),{isSelected:te,select:se,selectAll:O,toggleSelect:W}=A_(e,{allItems:s,currentPage:M}),{isExpanded:le,toggleExpand:K}=l_(e);d_({page:u,itemsPerPage:f,sortBy:i,groupBy:r,search:a});const ee=Z(()=>({page:u.value,itemsPerPage:f.value,sortBy:i.value,pageCount:E.value,toggleSort:m,prevPage:_,nextPage:C,setPage:I,setItemsPerPage:F,isSelected:te,select:se,selectAll:O,toggleSelect:W,isExpanded:le,toggleExpand:K,isGroupOpen:w,toggleGroup:b,items:M.value,itemsCount:o.value.length,groupedItems:R.value}));return yt(()=>l(e.tag,{class:rt(["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class]),style:It(e.style)},{default:()=>[n.header?.(ee.value),l(Vs,{transition:e.transition},{default:()=>[e.loading?l(Rp,{key:"loader",name:"v-data-iterator",active:!0},{default:j=>n.loader?.(j)}):p("div",{key:"items"},[R.value.length?n.default?.(ee.value):n["no-data"]?.()])]}),n.footer?.(ee.value)]})),{}}});function z7e(){const e=H([]);HL(()=>e.value=[]);function t(n,r){e.value[r]=n}return{refs:e,updateRef:t}}const $7e=et({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:qt,default:"$first"},prevIcon:{type:qt,default:"$prev"},nextIcon:{type:qt,default:"$next"},lastIcon:{type:qt,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...vo(),...Gt(),...ra(),...Ba(),...Or(),...uc(),...gn({tag:"nav"}),...Hn(),...Ii({variant:"text"})},"VPagination"),AB=mt()({name:"VPagination",props:$7e(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=en(e,"modelValue"),{t:s,n:o}=ur(),{isRtl:i}=Ea(),{themeClasses:c}=or(e),{width:A}=ni(),u=kt(-1);jr(void 0,{scoped:!0});const{resizeRef:f}=Ci(_=>{if(!_.length)return;const{target:C,contentRect:F}=_[0],I=C.querySelector(".v-pagination__list > *");if(!I)return;const R=F.width,M=I.offsetWidth+parseFloat(getComputedStyle(I).marginRight)*2;u.value=y(R,M)}),m=Z(()=>parseInt(e.length,10)),v=Z(()=>parseInt(e.start,10)),h=Z(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):u.value>=0?u.value:y(A.value,58));function y(_,C){const F=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((_-C*F)/C).toFixed(2))))}const w=Z(()=>{if(m.value<=0||isNaN(m.value)||m.value>Number.MAX_SAFE_INTEGER)return[];if(h.value<=0)return[];if(h.value===1)return[a.value];if(m.value<=h.value)return jo(m.value,v.value);const _=h.value%2===0,C=_?h.value/2:Math.floor(h.value/2),F=_?C:C+1,I=m.value-C;if(F-a.value>=0)return[...jo(Math.max(1,h.value-1),v.value),e.ellipsis,m.value];if(a.value-I>=(_?1:0)){const R=h.value-1,M=m.value-R+v.value;return[v.value,e.ellipsis,...jo(R,M)]}else{const R=Math.max(1,h.value-2),M=R===1?a.value:a.value-Math.ceil(R/2)+v.value;return[v.value,e.ellipsis,...jo(R,M),e.ellipsis,m.value]}});function b(_,C,F){_.preventDefault(),a.value=C,F&&r(F,C)}const{refs:B,updateRef:S}=z7e();jr({VPaginationBtn:{color:Qe(()=>e.color),border:Qe(()=>e.border),density:Qe(()=>e.density),size:Qe(()=>e.size),variant:Qe(()=>e.variant),rounded:Qe(()=>e.rounded),elevation:Qe(()=>e.elevation)}});const T=Z(()=>w.value.map((_,C)=>{const F=I=>S(I,C);if(typeof _=="string")return{isActive:!1,key:`ellipsis-${C}`,page:_,props:{ref:F,ellipsis:!0,icon:!0,disabled:!0}};{const I=_===a.value;return{isActive:I,key:_,page:o(_),props:{ref:F,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:I?e.activeColor:e.color,"aria-current":I,"aria-label":s(I?e.currentPageAriaLabel:e.pageAriaLabel,_),onClick:R=>b(R,_)}}}})),N=Z(()=>{const _=!!e.disabled||a.value<=v.value,C=!!e.disabled||a.value>=v.value+m.value-1;return{first:e.showFirstLastPage?{icon:i.value?e.lastIcon:e.firstIcon,onClick:F=>b(F,v.value,"first"),disabled:_,"aria-label":s(e.firstAriaLabel),"aria-disabled":_}:void 0,prev:{icon:i.value?e.nextIcon:e.prevIcon,onClick:F=>b(F,a.value-1,"prev"),disabled:_,"aria-label":s(e.previousAriaLabel),"aria-disabled":_},next:{icon:i.value?e.prevIcon:e.nextIcon,onClick:F=>b(F,a.value+1,"next"),disabled:C,"aria-label":s(e.nextAriaLabel),"aria-disabled":C},last:e.showFirstLastPage?{icon:i.value?e.firstIcon:e.lastIcon,onClick:F=>b(F,v.value+m.value-1,"last"),disabled:C,"aria-label":s(e.lastAriaLabel),"aria-disabled":C}:void 0}});function k(){const _=a.value-v.value;B.value[_]?.$el.focus()}function E(_){_.key===kC.left&&!e.disabled&&a.value>Number(e.start)?(a.value=a.value-1,An(k)):_.key===kC.right&&!e.disabled&&a.value<v.value+m.value-1&&(a.value=a.value+1,An(k))}return yt(()=>l(e.tag,{ref:f,class:rt(["v-pagination",c.value,e.class]),style:It(e.style),role:"navigation","aria-label":s(e.ariaLabel),onKeydown:E,"data-test":"v-pagination-root"},{default:()=>[p("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&p("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(N.value.first):l(Rn,Ne({_as:"VPaginationBtn"},N.value.first),null)]),p("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(N.value.prev):l(Rn,Ne({_as:"VPaginationBtn"},N.value.prev),null)]),T.value.map((_,C)=>p("li",{key:_.key,class:rt(["v-pagination__item",{"v-pagination__item--is-active":_.isActive}]),"data-test":"v-pagination-item"},[n.item?n.item(_):l(Rn,Ne({_as:"VPaginationBtn"},_.props),{default:()=>[_.page]})])),p("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(N.value.next):l(Rn,Ne({_as:"VPaginationBtn"},N.value.next),null)]),e.showFirstLastPage&&p("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(N.value.last):l(Rn,Ne({_as:"VPaginationBtn"},N.value.last),null)])])]})),{}}}),PI=et({prevIcon:{type:qt,default:"$prev"},nextIcon:{type:qt,default:"$next"},firstIcon:{type:qt,default:"$first"},lastIcon:{type:qt,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),qv=mt()({name:"VDataTableFooter",props:PI(),setup(e,t){let{slots:n}=t;const{t:r}=ur(),{page:a,pageCount:s,startIndex:o,stopIndex:i,itemsLength:c,itemsPerPage:A,setItemsPerPage:u}=N7e(),f=Z(()=>e.itemsPerPageOptions.map(m=>typeof m=="number"?{value:m,title:m===-1?r("$vuetify.dataFooter.itemsPerPageAll"):String(m)}:{...m,title:isNaN(Number(m.title))?r(m.title):m.title}));return yt(()=>{const m=AB.filterProps(e);return p("div",{class:"v-data-table-footer"},[n.prepend?.(),p("div",{class:"v-data-table-footer__items-per-page"},[p("span",{"aria-label":r(e.itemsPerPageText)},[r(e.itemsPerPageText)]),l(xI,{items:f.value,modelValue:A.value,"onUpdate:modelValue":v=>u(Number(v)),density:"compact",variant:"outlined",hideDetails:!0},null)]),p("div",{class:"v-data-table-footer__info"},[p("div",null,[r(e.pageText,c.value?o.value+1:0,i.value,c.value)])]),p("div",{class:"v-data-table-footer__pagination"},[l(AB,Ne({modelValue:a.value,"onUpdate:modelValue":v=>a.value=v,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:s.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},m),null)])])}),{}}}),Yv=Aee({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const r=e.tag??"td",a=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return l(r,{class:rt(["v-data-table__td",{"v-data-table-column--fixed":a==="start","v-data-table-column--fixed-end":a==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:Mt(e.height),width:Mt(e.width),maxWidth:Mt(e.maxWidth),left:a==="start"?Mt(e.fixedOffset||null):void 0,right:a==="end"?Mt(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?Mt(e.indent):void 0}},{default:()=>[n.default?.()]})}),W7e=et({headers:Array},"DataTable-header"),d7=Symbol.for("vuetify:data-table-headers"),A7={title:"",sortable:!1},j7e={...A7,width:48};function J7e(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,r)=>{let a=!1;for(let s=0;s<t.length;s++)if(t[s].priority>r){t.splice(s,0,{element:n,priority:r}),a=!0;break}a||t.push({element:n,priority:r})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const r=Math.floor(t[0].priority);for(let a=0;a<t.length;a++)Math.floor(t[a].priority)===r&&(n+=1);return n},dequeue:()=>t.shift()}}function fB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)fB(n,t);return t}function f7(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&f7(n.children,t);return t}function q7e(e){if(e.key){if(e.key==="data-table-group")return A7;if(["data-table-expand","data-table-select"].includes(e.key))return j7e}}function DI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>DI(n,t+1))):t}function Y7e(e){let t=!1;function n(s,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(s)if(i!=="none"&&(s.fixed=i),s.fixed===!0&&(s.fixed="start"),s.fixed===o)if(s.children)if(o==="start")for(let c=s.children.length-1;c>=0;c--)n(s.children[c],o,o);else for(let c=0;c<s.children.length;c++)n(s.children[c],o,o);else!t&&o==="start"?s.lastFixed=!0:!t&&o==="end"?s.firstFixedEnd=!0:isNaN(Number(s.width))?(`${s.key}`,void 0):s.minWidth=Math.max(Number(s.width)||0,Number(s.minWidth)||0),t=!0;else if(s.children)if(o==="start")for(let c=s.children.length-1;c>=0;c--)n(s.children[c],o);else for(let c=0;c<s.children.length;c++)n(s.children[c],o);else t=!1}for(let s=e.length-1;s>=0;s--)n(e[s],"start");for(let s=0;s<e.length;s++)n(e[s],"end");let r=0;for(let s=0;s<e.length;s++)r=m7(e[s],r);let a=0;for(let s=e.length-1;s>=0;s--)a=h7(e[s],a)}function m7(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const n of e.children)t=m7(n,t)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function h7(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const n of e.children)t=h7(n,t)}else e.fixed==="end"&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function X7e(e,t){const n=[];let r=0;const a=J7e(e);for(;a.size()>0;){let o=a.count();const i=[];let c=1;for(;o>0;){const{element:A,priority:u}=a.dequeue(),f=t-r-DI(A);if(i.push({...A,rowspan:f??1,colspan:A.children?fB(A).length:1}),A.children)for(const m of A.children){const v=u%1+c/Math.pow(10,r+2);a.enqueue(m,r+f+v)}c+=1,o-=1}r+=1,n.push(i)}return{columns:e.map(o=>fB(o)).flat(),headers:n}}function v7(e){const t=[];for(const n of e){const r={...q7e(n),...n},a=r.key??(typeof r.value=="string"?r.value:null),s=r.value??a??null,o={...r,key:a,value:s,sortable:r.sortable??(r.key!=null||!!r.sort),children:r.children?v7(r.children):void 0};t.push(o)}return t}function UI(e,t){const n=H([]),r=H([]),a=H({}),s=H({}),o=H({});Mr(()=>{const A=(e.headers||Object.keys(e.items[0]??{}).map(y=>({key:y,title:tc(y)}))).slice(),u=f7(A);t?.groupBy?.value.length&&!u.has("data-table-group")&&A.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!u.has("data-table-select")&&A.unshift({key:"data-table-select"}),t?.showExpand?.value&&!u.has("data-table-expand")&&A.push({key:"data-table-expand"});const f=v7(A);Y7e(f);const m=Math.max(...f.map(y=>DI(y)))+1,v=X7e(f,m);n.value=v.headers,r.value=v.columns;const h=v.headers.flat(1);for(const y of h)y.key&&(y.sortable&&(y.sort&&(a.value[y.key]=y.sort),y.sortRaw&&(s.value[y.key]=y.sortRaw)),y.filter&&(o.value[y.key]=y.filter))});const i={headers:n,columns:r,sortFunctions:a,sortRawFunctions:s,filterFunctions:o};return vr(d7,i),i}function v_(){const e=pn(d7);if(!e)throw new Error("Missing headers!");return e}const p7=et({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:qt,default:"$sortAsc"},sortDescIcon:{type:qt,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...ra(),...MA(),...e_()},"VDataTableHeaders"),IA=mt()({name:"VDataTableHeaders",props:p7(),setup(e,t){let{slots:n}=t;const{t:r}=ur(),{toggleSort:a,sortBy:s,isSorted:o}=u7(),{someSelected:i,allSelected:c,selectAll:A,showSelectAll:u}=f_(),{columns:f,headers:m}=v_(),{loaderClasses:v}=Up(e);function h(C,F){if(!(e.sticky||e.fixedHeader)&&!C.fixed)return;const I=typeof C.fixed=="string"?C.fixed:C.fixed?"start":"none";return{position:"sticky",left:I==="start"?Mt(C.fixedOffset):void 0,right:I==="end"?Mt(C.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${F})`:void 0}}function y(C,F){C.key==="Enter"&&!e.disableSort&&a(F)}function w(C){const F=s.value.find(I=>I.key===C.key);return F?F.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:b,backgroundColorStyles:B}=lr(()=>e.color),{displayClasses:S,mobile:T}=ni(e),N=Z(()=>({headers:m.value,columns:f.value,toggleSort:a,isSorted:o,sortBy:s.value,someSelected:i.value,allSelected:c.value,selectAll:A,getSortIcon:w})),k=Z(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},S.value,v.value]),E=C=>{let{column:F,x:I,y:R}=C;const M=F.key==="data-table-select"||F.key==="data-table-expand",te=F.key==="data-table-group"&&F.width===0&&!F.title,se=Ne(e.headerProps??{},F.headerProps??{});return l(Yv,Ne({tag:"th",align:F.align,class:[{"v-data-table__th--sortable":F.sortable&&!e.disableSort,"v-data-table__th--sorted":o(F),"v-data-table__th--fixed":F.fixed},...k.value],style:{width:Mt(F.width),minWidth:Mt(F.minWidth),maxWidth:Mt(F.maxWidth),...h(F,R)},colspan:F.colspan,rowspan:F.rowspan,fixed:F.fixed,nowrap:F.nowrap,lastFixed:F.lastFixed,firstFixedEnd:F.firstFixedEnd,noPadding:M,empty:te,tabindex:F.sortable?0:void 0,onClick:F.sortable?()=>a(F):void 0,onKeydown:F.sortable?O=>y(O,F):void 0},se),{default:()=>{const O=`header.${F.key}`,W={column:F,selectAll:A,isSorted:o,toggleSort:a,sortBy:s.value,someSelected:i.value,allSelected:c.value,getSortIcon:w};return n[O]?n[O](W):te?"":F.key==="data-table-select"?n["header.data-table-select"]?.(W)??(u.value&&l(Xl,{density:e.density,modelValue:c.value,indeterminate:i.value&&!c.value,"onUpdate:modelValue":A},null)):p("div",{class:"v-data-table-header__content"},[p("span",null,[F.title]),F.sortable&&!e.disableSort&&l(Xn,{key:"icon",class:"v-data-table-header__sort-icon",icon:w(F)},null),e.multiSort&&o(F)&&p("div",{key:"badge",class:rt(["v-data-table-header__sort-badge",...b.value]),style:It(B.value)},[s.value.findIndex(le=>le.key===F.key)+1])])}})},_=()=>{const C=Z(()=>f.value.filter(I=>I?.sortable&&!e.disableSort)),F=Z(()=>{if(f.value.find(R=>R.key==="data-table-select")!=null)return c.value?"$checkboxOn":i.value?"$checkboxIndeterminate":"$checkboxOff"});return l(Yv,Ne({tag:"th",class:[...k.value],colspan:m.value.length+1},e.headerProps),{default:()=>[p("div",{class:"v-data-table-header__content"},[l(xI,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:C.value,label:r("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>s.value=[],appendIcon:F.value,"onClick:append":()=>A(!c.value)},{chip:I=>l(uh,{onClick:I.item.raw?.sortable?()=>a(I.item.raw):void 0,onMousedown:R=>{R.preventDefault(),R.stopPropagation()}},{default:()=>[I.item.title,l(Xn,{class:rt(["v-data-table__td-sort-icon",o(I.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:w(I.item.raw),size:"small"},null)]})})])]})};yt(()=>T.value?p("tr",null,[l(_,null,null)]):p(ze,null,[n.headers?n.headers(N.value):m.value.map((C,F)=>p("tr",null,[C.map((I,R)=>l(E,{column:I,x:R,y:F},null))])),e.loading&&p("tr",{class:"v-data-table-progress"},[p("th",{colspan:f.value.length},[l(Rp,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),g7=et({item:{type:Object,required:!0},groupCollapseIcon:{type:qt,default:"$tableGroupCollapse"},groupExpandIcon:{type:qt,default:"$tableGroupExpand"},...ra()},"VDataTableGroupHeaderRow"),Z7e=mt()({name:"VDataTableGroupHeaderRow",props:g7(),setup(e,t){let{slots:n}=t;const{isGroupOpen:r,toggleGroup:a,extractRows:s}=Z9(),{isSelected:o,isSomeSelected:i,select:c}=f_(),{columns:A}=v_(),u=Z(()=>s([e.item])),f=Qe(()=>A.value.length-(A.value.some(m=>m.key==="data-table-select")?1:0));return()=>p("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[A.value.map(m=>{if(m.key==="data-table-group"){const v=r(e.item)?e.groupCollapseIcon:e.groupExpandIcon,h=()=>a(e.item);return n["data-table-group"]?.({item:e.item,count:u.value.length,props:{icon:v,onClick:h}})??l(Yv,{class:"v-data-table-group-header-row__column",colspan:f.value},{default:()=>[l(Rn,{size:"small",variant:"text",icon:v,onClick:h},null),p("span",null,[e.item.value]),p("span",null,[Q("("),u.value.length,Q(")")])]})}else if(m.key==="data-table-select"){const v=o(u.value),h=i(u.value)&&!v,y=w=>c(u.value,w);return n["data-table-select"]?.({props:{modelValue:v,indeterminate:h,"onUpdate:modelValue":y}})??l(Yv,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[l(Xl,{density:e.density,modelValue:v,indeterminate:h,"onUpdate:modelValue":y},null)]})}return""})])}}),y7=et({index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:qt,default:"$collapse"},expandIcon:{type:qt,default:"$expand"},onClick:as(),onContextmenu:as(),onDblclick:as(),...ra(),...MA()},"VDataTableRow"),RI=mt()({name:"VDataTableRow",props:y7(),setup(e,t){let{slots:n}=t;const{displayClasses:r,mobile:a}=ni(e,"v-data-table__tr"),{isSelected:s,toggleSelect:o,someSelected:i,allSelected:c,selectAll:A}=f_(),{isExpanded:u,toggleExpand:f}=Y9(),{toggleSort:m,sortBy:v,isSorted:h}=u7(),{columns:y}=v_();yt(()=>p("tr",{class:rt(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},r.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&y.value.map((w,b)=>{const B=e.item,S=`item.${w.key}`,T=`header.${w.key}`,N={index:e.index,item:B.raw,internalItem:B,value:yA(B.columns,w.key),column:w,isSelected:s,toggleSelect:o,isExpanded:u,toggleExpand:f},k={column:w,selectAll:A,isSorted:h,toggleSort:m,sortBy:v.value,someSelected:i.value,allSelected:c.value,getSortIcon:()=>""},E=typeof e.cellProps=="function"?e.cellProps({index:N.index,item:N.item,internalItem:N.internalItem,value:N.value,column:w}):e.cellProps,_=typeof w.cellProps=="function"?w.cellProps({index:N.index,item:N.item,internalItem:N.internalItem,value:N.value}):w.cellProps,C=w.key==="data-table-select"||w.key==="data-table-expand",F=w.key==="data-table-group"&&w.width===0&&!w.title;return l(Yv,Ne({align:w.align,indent:w.intent,class:{"v-data-table__td--expanded-row":w.key==="data-table-expand","v-data-table__td--select-row":w.key==="data-table-select"},fixed:w.fixed,fixedOffset:w.fixedOffset,fixedEndOffset:w.fixedEndOffset,lastFixed:w.lastFixed,firstFixedEnd:w.firstFixedEnd,maxWidth:a.value?void 0:w.maxWidth,noPadding:C,empty:F,nowrap:w.nowrap,width:a.value?void 0:w.width},E,_),{default:()=>{if(w.key==="data-table-select")return n["item.data-table-select"]?.({...N,props:{disabled:!B.selectable,modelValue:s([B]),onClick:Qn(()=>o(B),["stop"])}})??l(Xl,{disabled:!B.selectable,density:e.density,modelValue:s([B]),onClick:Qn(R=>o(B,e.index,R),["stop"])},null);if(w.key==="data-table-expand")return n["item.data-table-expand"]?.({...N,props:{icon:u(B)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:Qn(()=>f(B),["stop"])}})??l(Rn,{icon:u(B)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:Qn(()=>f(B),["stop"])},null);if(n[S]&&!a.value)return n[S](N);const I=J(N.value);return a.value?p(ze,null,[p("div",{class:"v-data-table__td-title"},[n[T]?.(k)??w.title]),p("div",{class:"v-data-table__td-value"},[n[S]?.(N)??I])]):I}})})]))}}),w7=et({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Do(y7(),["collapseIcon","expandIcon","density"]),...Do(g7(),["groupCollapseIcon","groupExpandIcon","density"]),...MA()},"VDataTableRows"),TA=mt()({name:"VDataTableRows",inheritAttrs:!1,props:w7(),setup(e,t){let{attrs:n,slots:r}=t;const{columns:a}=v_(),{expandOnClick:s,toggleExpand:o,isExpanded:i}=Y9(),{isSelected:c,toggleSelect:A}=f_(),{toggleGroup:u,isGroupOpen:f}=Z9(),{t:m}=ur(),{mobile:v}=ni(e);return yt(()=>{const h=Do(e,["groupCollapseIcon","groupExpandIcon","density"]);return e.loading&&(!e.items.length||r.loading)?p("tr",{class:"v-data-table-rows-loading",key:"loading"},[p("td",{colspan:a.value.length},[r.loading?.()??m(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?p("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[p("td",{colspan:a.value.length},[r["no-data"]?.()??m(e.noDataText)])]):p(ze,null,[e.items.map((y,w)=>{if(y.type==="group"){const S={index:w,item:y,columns:a.value,isExpanded:i,toggleExpand:o,isSelected:c,toggleSelect:A,toggleGroup:u,isGroupOpen:f};return r["group-header"]?r["group-header"](S):l(Z7e,Ne({key:`group-header_${y.id}`,item:y},pP(n,":groupHeader",()=>S),h),r)}if(y.type==="group-summary"){const S={index:w,item:y,columns:a.value,toggleGroup:u};return r["group-summary"]?.(S)??""}const b={index:w,item:y.raw,internalItem:y,columns:a.value,isExpanded:i,toggleExpand:o,isSelected:c,toggleSelect:A},B={...b,props:Ne({key:`item_${y.key??y.index}`,onClick:s.value?()=>{o(y)}:void 0,index:w,item:y,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,density:e.density,mobile:v.value},pP(n,":row",()=>b),typeof e.rowProps=="function"?e.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):e.rowProps)};return p(ze,{key:B.props.key},[r.item?r.item(B):l(RI,B.props,r),i(y)&&r["expanded-row"]?.(b)])})])}),{}}}),_7=et({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...Gt(),...ra(),...gn(),...Hn()},"VTable"),FA=mt()({name:"VTable",props:_7(),setup(e,t){let{slots:n,emit:r}=t;const{themeClasses:a}=or(e),{densityClasses:s}=$s(e);return yt(()=>l(e.tag,{class:rt(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},a.value,s.value,e.class]),style:It(e.style)},{default:()=>[n.top?.(),n.default?p("div",{class:"v-table__wrapper",style:{height:Mt(e.height)}},[p("table",null,[n.default()])]):n.wrapper?.(),n.bottom?.()]})),{}}}),eKe=et({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function tKe(e,t,n,r){const a=e.returnObject?t:la(t,e.itemValue),s=la(t,e.itemSelectable,!0),o=r.reduce((i,c)=>(c.key!=null&&(i[c.key]=la(t,c.value)),i),{});return{type:"item",key:e.returnObject?la(t,e.itemValue):a,index:n,value:a,selectable:s,columns:o,raw:t}}function nKe(e,t,n){return t.map((r,a)=>tKe(e,r,a,n))}function NI(e,t){return{items:Z(()=>nKe(e,e.items,t.value))}}const LI=et({...w7(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...J9(),...BI(),...W7e(),...eKe(),...o7(),...l7(),...p7(),..._7()},"DataTable"),rKe=et({...kI(),...LI(),...Ah(),...PI()},"VDataTable"),aKe=mt()({name:"VDataTable",props:rKe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{groupBy:a}=SI(e),{sortBy:s,multiSort:o,mustSort:i}=m_(e),{page:c,itemsPerPage:A}=II(e),{disableSort:u}=VA(e),{columns:f,headers:m,sortFunctions:v,sortRawFunctions:h,filterFunctions:y}=UI(e,{groupBy:a,showSelect:Qe(()=>e.showSelect),showExpand:Qe(()=>e.showExpand)}),{items:w}=NI(e,f),b=Qe(()=>e.search),{filteredItems:B}=fh(e,w,b,{transform:q=>q.columns,customKeyFilter:y}),{toggleSort:S}=h_({sortBy:s,multiSort:o,mustSort:i,page:c}),{sortByWithGroups:T,opened:N,extractRows:k,isGroupOpen:E,toggleGroup:_}=c_({groupBy:a,sortBy:s,disableSort:u}),{sortedItems:C}=FI(e,B,T,{transform:q=>({...q.raw,...q.columns}),sortFunctions:v,sortRawFunctions:h}),{flatItems:F}=u_(C,a,N,()=>!!r["group-summary"]),I=Z(()=>F.value.length),{startIndex:R,stopIndex:M,pageCount:te,setItemsPerPage:se}=TI({page:c,itemsPerPage:A,itemsLength:I}),{paginatedItems:O}=r7({items:F,startIndex:R,stopIndex:M,itemsPerPage:A}),W=Z(()=>k(O.value)),{isSelected:le,select:K,selectAll:ee,toggleSelect:j,someSelected:U,allSelected:G}=A_(e,{allItems:w,currentPage:W}),{isExpanded:ne,toggleExpand:X}=l_(e);d_({page:c,itemsPerPage:A,sortBy:s,groupBy:a,search:b}),jr({VDataTableRows:{hideNoData:Qe(()=>e.hideNoData),noDataText:Qe(()=>e.noDataText),loading:Qe(()=>e.loading),loadingText:Qe(()=>e.loadingText)}});const oe=Z(()=>({page:c.value,itemsPerPage:A.value,sortBy:s.value,pageCount:te.value,toggleSort:S,setItemsPerPage:se,someSelected:U.value,allSelected:G.value,isSelected:le,select:K,selectAll:ee,toggleSelect:j,isExpanded:ne,toggleExpand:X,isGroupOpen:E,toggleGroup:_,items:W.value.map(q=>q.raw),internalItems:W.value,groupedItems:O.value,columns:f.value,headers:m.value}));return yt(()=>{const q=qv.filterProps(e),Y=IA.filterProps(e),ae=TA.filterProps(e),ge=FA.filterProps(e);return l(FA,Ne({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ge,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>r.top?.(oe.value),default:()=>r.default?r.default(oe.value):p(ze,null,[r.colgroup?.(oe.value),!e.hideDefaultHeader&&p("thead",{key:"thead"},[l(IA,Y,r)]),r.thead?.(oe.value),!e.hideDefaultBody&&p("tbody",null,[r["body.prepend"]?.(oe.value),r.body?r.body(oe.value):l(TA,Ne(n,ae,{items:O.value}),r),r["body.append"]?.(oe.value)]),r.tbody?.(oe.value),r.tfoot?.(oe.value)]),bottom:()=>r.bottom?r.bottom(oe.value):!e.hideDefaultFooter&&p(ze,null,[l(qo,null,null),l(qv,q,{prepend:r["footer.prepend"]})])})}),{}}}),sKe=et({...cr(LI(),["hideDefaultFooter"]),...BI(),...k9(),...Ah()},"VDataTableVirtual"),oKe=mt()({name:"VDataTableVirtual",props:sKe(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{groupBy:a}=SI(e),{sortBy:s,multiSort:o,mustSort:i}=m_(e),{disableSort:c}=VA(e),{columns:A,headers:u,filterFunctions:f,sortFunctions:m,sortRawFunctions:v}=UI(e,{groupBy:a,showSelect:Qe(()=>e.showSelect),showExpand:Qe(()=>e.showExpand)}),{items:h}=NI(e,A),y=Qe(()=>e.search),{filteredItems:w}=fh(e,h,y,{transform:ge=>ge.columns,customKeyFilter:f}),{toggleSort:b}=h_({sortBy:s,multiSort:o,mustSort:i}),{sortByWithGroups:B,opened:S,extractRows:T,isGroupOpen:N,toggleGroup:k}=c_({groupBy:a,sortBy:s,disableSort:c}),{sortedItems:E}=FI(e,w,B,{transform:ge=>({...ge.raw,...ge.columns}),sortFunctions:m,sortRawFunctions:v}),{flatItems:_}=u_(E,a,S,()=>!!r["group-summary"]),C=Z(()=>T(_.value)),{isSelected:F,select:I,selectAll:R,toggleSelect:M,someSelected:te,allSelected:se}=A_(e,{allItems:C,currentPage:C}),{isExpanded:O,toggleExpand:W}=l_(e),{containerRef:le,markerRef:K,paddingTop:ee,paddingBottom:j,computedItems:U,handleItemResize:G,handleScroll:ne,handleScrollend:X,calculateVisibleItems:oe,scrollToIndex:q}=I9(e,_),Y=Z(()=>U.value.map(ge=>ge.raw));d_({sortBy:s,page:kt(1),itemsPerPage:kt(-1),groupBy:a,search:y}),jr({VDataTableRows:{hideNoData:Qe(()=>e.hideNoData),noDataText:Qe(()=>e.noDataText),loading:Qe(()=>e.loading),loadingText:Qe(()=>e.loadingText)}});const ae=Z(()=>({sortBy:s.value,toggleSort:b,someSelected:te.value,allSelected:se.value,isSelected:F,select:I,selectAll:R,toggleSelect:M,isExpanded:O,toggleExpand:W,isGroupOpen:N,toggleGroup:k,items:C.value.map(ge=>ge.raw),internalItems:C.value,groupedItems:_.value,columns:A.value,headers:u.value}));return yt(()=>{const ge=IA.filterProps(e),we=TA.filterProps(e),z=FA.filterProps(e);return l(FA,Ne({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},z,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>r.top?.(ae.value),wrapper:()=>p("div",{ref:le,onScrollPassive:ne,onScrollend:X,class:"v-table__wrapper",style:{height:Mt(e.height)}},[p("table",null,[r.colgroup?.(ae.value),!e.hideDefaultHeader&&p("thead",{key:"thead"},[l(IA,ge,r)]),r.thead?.(ae.value),!e.hideDefaultBody&&p("tbody",{key:"tbody"},[p("tr",{ref:K,style:{height:Mt(ee.value),border:0}},[p("td",{colspan:A.value.length,style:{height:0,border:0}},null)]),r["body.prepend"]?.(ae.value),l(TA,Ne(n,we,{items:Y.value}),{...r,item:Ae=>l(S9,{key:Ae.internalItem.index,renderless:!0,"onUpdate:height":ie=>G(Ae.internalItem.index,ie)},{default:ie=>{let{itemRef:_e}=ie;return r.item?.({...Ae,itemRef:_e})??l(RI,Ne(Ae.props,{ref:_e,key:Ae.internalItem.index,index:Ae.internalItem.index}),r)}})}),r["body.append"]?.(ae.value),p("tr",{style:{height:Mt(j.value),border:0}},[p("td",{colspan:A.value.length,style:{height:0,border:0}},null)])]),r.tbody?.(ae.value),r.tfoot?.(ae.value)])]),bottom:()=>r.bottom?.(ae.value)})}),{calculateVisibleItems:oe,scrollToIndex:q}}}),iKe=et({itemsLength:{type:[Number,String],required:!0},...kI(),...LI(),...PI()},"VDataTableServer"),lKe=mt()({name:"VDataTableServer",props:iKe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{groupBy:a}=SI(e),{sortBy:s,multiSort:o,mustSort:i}=m_(e),{page:c,itemsPerPage:A}=II(e),{disableSort:u}=VA(e),f=Z(()=>parseInt(e.itemsLength,10)),{columns:m,headers:v}=UI(e,{groupBy:a,showSelect:Qe(()=>e.showSelect),showExpand:Qe(()=>e.showExpand)}),{items:h}=NI(e,m),{toggleSort:y}=h_({sortBy:s,multiSort:o,mustSort:i,page:c}),{opened:w,isGroupOpen:b,toggleGroup:B,extractRows:S}=c_({groupBy:a,sortBy:s,disableSort:u}),{pageCount:T,setItemsPerPage:N}=TI({page:c,itemsPerPage:A,itemsLength:f}),{flatItems:k}=u_(h,a,w,()=>!!r["group-summary"]),{isSelected:E,select:_,selectAll:C,toggleSelect:F,someSelected:I,allSelected:R}=A_(e,{allItems:h,currentPage:h}),{isExpanded:M,toggleExpand:te}=l_(e),se=Z(()=>S(h.value));d_({page:c,itemsPerPage:A,sortBy:s,groupBy:a,search:Qe(()=>e.search)}),vr("v-data-table",{toggleSort:y,sortBy:s}),jr({VDataTableRows:{hideNoData:Qe(()=>e.hideNoData),noDataText:Qe(()=>e.noDataText),loading:Qe(()=>e.loading),loadingText:Qe(()=>e.loadingText)}});const O=Z(()=>({page:c.value,itemsPerPage:A.value,sortBy:s.value,pageCount:T.value,toggleSort:y,setItemsPerPage:N,someSelected:I.value,allSelected:R.value,isSelected:E,select:_,selectAll:C,toggleSelect:F,isExpanded:M,toggleExpand:te,isGroupOpen:b,toggleGroup:B,items:se.value.map(W=>W.raw),internalItems:se.value,groupedItems:k.value,columns:m.value,headers:v.value}));yt(()=>{const W=qv.filterProps(e),le=IA.filterProps(e),K=TA.filterProps(e),ee=FA.filterProps(e);return l(FA,Ne({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},ee,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>r.top?.(O.value),default:()=>r.default?r.default(O.value):p(ze,null,[r.colgroup?.(O.value),!e.hideDefaultHeader&&p("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[l(IA,le,r)]),r.thead?.(O.value),!e.hideDefaultBody&&p("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[r["body.prepend"]?.(O.value),r.body?r.body(O.value):l(TA,Ne(n,K,{items:k.value}),r),r["body.append"]?.(O.value)]),r.tbody?.(O.value),r.tfoot?.(O.value)]),bottom:()=>r.bottom?r.bottom(O.value):!e.hideDefaultFooter&&p(ze,null,[l(qo,null,null),l(qv,W,{prepend:r["footer.prepend"]})])})})}}),cKe=et({fluid:{type:Boolean,default:!1},...Gt(),...Aa(),...gn()},"VContainer"),uKe=mt()({name:"VContainer",props:cKe(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=Ea(),{dimensionStyles:a}=fa(e);return yt(()=>l(e.tag,{class:rt(["v-container",{"v-container--fluid":e.fluid},r.value,e.class]),style:It([a.value,e.style])},n)),{}}}),b7=ow.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),x7=ow.reduce((e,t)=>{const n="offset"+tc(t);return e[n]={type:[String,Number],default:null},e},{}),C7=ow.reduce((e,t)=>{const n="order"+tc(t);return e[n]={type:[String,Number],default:null},e},{}),TR={col:Object.keys(b7),offset:Object.keys(x7),order:Object.keys(C7)};function dKe(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const a=t.replace(e,"");r+=`-${a}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const AKe=["auto","start","end","center","baseline","stretch"],fKe=et({cols:{type:[Boolean,String,Number],default:!1},...b7,offset:{type:[String,Number],default:null},...x7,order:{type:[String,Number],default:null},...C7,alignSelf:{type:String,default:null,validator:e=>AKe.includes(e)},...Gt(),...gn()},"VCol"),mKe=mt()({name:"VCol",props:fKe(),setup(e,t){let{slots:n}=t;const r=Z(()=>{const a=[];let s;for(s in TR)TR[s].forEach(i=>{const c=e[i],A=dKe(s,i,c);A&&a.push(A)});const o=a.some(i=>i.startsWith("v-col-"));return a.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),a});return()=>fl(e.tag,{class:[r.value,e.class],style:e.style},n.default?.())}}),VI=["start","end","center"],E7=["space-between","space-around","space-evenly"];function MI(e,t){return ow.reduce((n,r)=>{const a=e+tc(r);return n[a]=t(),n},{})}const hKe=[...VI,"baseline","stretch"],B7=e=>hKe.includes(e),S7=MI("align",()=>({type:String,default:null,validator:B7})),vKe=[...VI,...E7],k7=e=>vKe.includes(e),I7=MI("justify",()=>({type:String,default:null,validator:k7})),pKe=[...VI,...E7,"stretch"],T7=e=>pKe.includes(e),F7=MI("alignContent",()=>({type:String,default:null,validator:T7})),FR={align:Object.keys(S7),justify:Object.keys(I7),alignContent:Object.keys(F7)},gKe={align:"align",justify:"justify",alignContent:"align-content"};function yKe(e,t,n){let r=gKe[e];if(n!=null){if(t){const a=t.replace(e,"");r+=`-${a}`}return r+=`-${n}`,r.toLowerCase()}}const wKe=et({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:B7},...S7,justify:{type:String,default:null,validator:k7},...I7,alignContent:{type:String,default:null,validator:T7},...F7,...Gt(),...gn()},"VRow"),_Ke=mt()({name:"VRow",props:wKe(),setup(e,t){let{slots:n}=t;const r=Z(()=>{const a=[];let s;for(s in FR)FR[s].forEach(o=>{const i=e[o],c=yKe(s,o,i);c&&a.push(c)});return a.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),a});return()=>fl(e.tag,{class:["v-row",r.value,e.class],style:e.style},n.default?.())}}),P7=ru("v-spacer","div","VSpacer"),D7=et({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:qt,default:"$next"},prevIcon:{type:qt,default:"$prev"},modeIcon:{type:qt,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),mB=mt()({name:"VDatePickerControls",props:D7(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const{t:r}=ur(),a=Z(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),s=Z(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),o=Z(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),i=Z(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function c(){n("click:prev")}function A(){n("click:next")}function u(){n("click:year")}function f(){n("click:month")}return yt(()=>p("div",{class:rt(["v-date-picker-controls"]),style:{"--v-date-picker-controls-height":Mt(e.controlHeight)}},[l(Rn,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:a.value,text:e.text,variant:"text",rounded:!0,onClick:f},null),l(Rn,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:s.value,density:"comfortable",icon:e.modeIcon,variant:"text","aria-label":r("$vuetify.datePicker.ariaLabel.selectYear"),onClick:u},null),l(P7,null,null),p("div",{class:"v-date-picker-controls__month"},[l(Rn,{"data-testid":"prev-month",disabled:o.value,density:"comfortable",icon:e.prevIcon,variant:"text","aria-label":r("$vuetify.datePicker.ariaLabel.previousMonth"),onClick:c},null),l(Rn,{"data-testid":"next-month",disabled:i.value,icon:e.nextIcon,density:"comfortable",variant:"text","aria-label":r("$vuetify.datePicker.ariaLabel.nextMonth"),onClick:A},null)])])),{}}}),bKe=et({appendIcon:qt,color:String,header:String,transition:String,onClick:as()},"VDatePickerHeader"),hB=mt()({name:"VDatePickerHeader",props:bKe(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:a,backgroundColorStyles:s}=lr(()=>e.color);function o(){n("click")}function i(){n("click:append")}return yt(()=>{const c=!!(r.default||e.header),A=!!(r.append||e.appendIcon);return p("div",{class:rt(["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},a.value]),style:It(s.value),onClick:o},[r.prepend&&p("div",{key:"prepend",class:"v-date-picker-header__prepend"},[r.prepend()]),c&&l(Vs,{key:"content",name:e.transition},{default:()=>[p("div",{key:e.header,class:"v-date-picker-header__content"},[r.default?.()??e.header])]}),A&&p("div",{class:"v-date-picker-header__append"},[r.append?l(Cn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>[r.append?.()]}):l(Rn,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:i},null)])])}),{}}}),xKe=et({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0},firstDayOfYear:{type:[Number,String],default:void 0},weekdayFormat:String},"calendar");function CKe(e){const t=lp(),n=en(e,"modelValue",[],v=>Wr(v).map(h=>t.date(h))),r=Z(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),a=en(e,"year",void 0,v=>{const h=v!=null?Number(v):t.getYear(r.value);return t.startOfYear(t.setYear(t.date(),h))},v=>t.getYear(v)),s=en(e,"month",void 0,v=>{const h=v!=null?Number(v):t.getMonth(r.value),y=t.setYear(t.startOfMonth(t.date()),t.getYear(a.value));return t.setMonth(y,h)},v=>t.getMonth(v)),o=Z(()=>{const v=t.toJsDate(t.startOfWeek(t.date(),e.firstDayOfWeek)).getDay();return t.getWeekdays(e.firstDayOfWeek,e.weekdayFormat).filter((h,y)=>e.weekdays.includes((y+v)%7))}),i=Z(()=>{const v=t.getWeekArray(s.value,e.firstDayOfWeek),h=v.flat(),y=42;if(e.weeksInMonth==="static"&&h.length<y){const w=h[h.length-1];let b=[];for(let B=1;B<=y-h.length;B++)b.push(t.addDays(w,B)),B%7===0&&(v.push(b),b=[])}return v});function c(v,h){return v.filter(y=>e.weekdays.includes(t.toJsDate(y).getDay())).map((y,w)=>{const b=t.toISO(y),B=!t.isSameMonth(y,s.value),S=t.isSameDay(y,t.startOfMonth(s.value)),T=t.isSameDay(y,t.endOfMonth(s.value)),N=t.isSameDay(y,s.value),k=e.weekdays.length;return{date:y,formatted:t.format(y,"keyboardDate"),isAdjacent:B,isDisabled:m(y),isEnd:T,isHidden:B&&!e.showAdjacentMonths,isSame:N,isSelected:n.value.some(E=>t.isSameDay(y,E)),isStart:S,isToday:t.isSameDay(y,h),isWeekEnd:w%k===k-1,isWeekStart:w%k===0,isoDate:b,localized:t.format(y,"dayOfMonth"),month:t.getMonth(y),year:t.getYear(y)}})}const A=Z(()=>{const v=t.startOfWeek(r.value,e.firstDayOfWeek),h=[];for(let w=0;w<=6;w++)h.push(t.addDays(v,w));const y=t.date();return c(h,y)}),u=Z(()=>{const v=i.value.flat(),h=t.date();return c(v,h)}),f=Z(()=>i.value.map(v=>v.length?t.getWeek(v[0],e.firstDayOfWeek,e.firstDayOfYear):null));function m(v){if(e.disabled)return!0;const h=t.date(v);return e.min&&t.isBefore(t.endOfDay(h),t.date(e.min))||e.max&&t.isAfter(h,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(y=>t.isSameDay(t.date(y),h)):typeof e.allowedDates=="function"?!e.allowedDates(h):!1}return{displayValue:r,daysInMonth:u,daysInWeek:A,genDays:c,model:n,weeksInMonth:i,weekdayLabels:o,weekNumbers:f}}const U7=et({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...cr(xKe(),["displayValue"])},"VDatePickerMonth"),vB=mt()({name:"VDatePickerMonth",props:U7(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=H(),{t:s}=ur(),{daysInMonth:o,model:i,weekNumbers:c,weekdayLabels:A}=CKe(e),u=lp(),f=kt(),m=kt(),v=kt(!1),h=Qe(()=>v.value?e.reverseTransition:e.transition);e.multiple==="range"&&i.value.length>0&&(f.value=i.value[0],i.value.length>1&&(m.value=i.value[i.value.length-1]));const y=Z(()=>{const T=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return i.value.length>=T});Ge(o,(T,N)=>{N&&(v.value=u.isBefore(T[0].date,N[0].date))});function w(T){const N=u.startOfDay(T);if(i.value.length===0?f.value=void 0:i.value.length===1&&(f.value=i.value[0],m.value=void 0),!f.value)f.value=N,i.value=[f.value];else if(m.value)f.value=T,m.value=void 0,i.value=[f.value];else{if(u.isSameDay(N,f.value)){f.value=void 0,i.value=[];return}else u.isBefore(N,f.value)?(m.value=u.endOfDay(f.value),f.value=N):m.value=u.endOfDay(N);i.value=lte(u,f.value,m.value)}}function b(T){const N=u.format(T.date,"fullDateWithWeekday"),k=T.isToday?"currentDate":"selectDate";return s(`$vuetify.datePicker.ariaLabel.${k}`,N)}function B(T){const N=i.value.findIndex(k=>u.isSameDay(k,T));if(N===-1)i.value=[...i.value,T];else{const k=[...i.value];k.splice(N,1),i.value=k}}function S(T){e.multiple==="range"?w(T):e.multiple?B(T):i.value=[T]}yt(()=>p("div",{class:"v-date-picker-month",style:{"--v-date-picker-days-in-week":e.weekdays.length}},[e.showWeek&&p("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&p("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Q("")]),c.value.map(T=>p("div",{class:rt(["v-date-picker-month__day","v-date-picker-month__day--adjacent"])},[T]))]),l(Vs,{name:h.value},{default:()=>[p("div",{ref:a,key:o.value[0].date?.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&A.value.map(T=>p("div",{class:rt(["v-date-picker-month__day","v-date-picker-month__weekday"])},[T])),o.value.map((T,N)=>{const k={props:{class:"v-date-picker-month__day-btn",color:T.isSelected||T.isToday?e.color:void 0,disabled:T.isDisabled,icon:!0,ripple:!1,text:T.localized,variant:T.isSelected?"flat":T.isToday?"outlined":"text","aria-label":b(T),"aria-current":T.isToday?"date":void 0,onClick:()=>S(T.date)},item:T,i:N};return y.value&&!T.isSelected&&(T.isDisabled=!0),p("div",{class:rt(["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":T.isAdjacent,"v-date-picker-month__day--hide-adjacent":T.isHidden,"v-date-picker-month__day--selected":T.isSelected,"v-date-picker-month__day--week-end":T.isWeekEnd,"v-date-picker-month__day--week-start":T.isWeekStart}]),"data-v-date":T.isDisabled?void 0:T.isoDate},[(e.showAdjacentMonths||!T.isAdjacent)&&(r.day?.(k)??l(Rn,k.props,null))])})])]})]))}}),R7=et({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number,allowedMonths:[Array,Function]},"VDatePickerMonths"),pB=mt()({name:"VDatePickerMonths",props:R7(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=lp(),s=en(e,"modelValue"),o=Z(()=>{let c=a.startOfYear(a.date());return e.year&&(c=a.setYear(c,e.year)),jo(12).map(A=>{const u=a.format(c,"monthShort"),f=a.format(c,"month"),m=!!(!i(A)||e.min&&a.isAfter(a.startOfMonth(a.date(e.min)),c)||e.max&&a.isAfter(c,a.startOfMonth(a.date(e.max))));return c=a.getNextMonth(c),{isDisabled:m,text:u,label:f,value:A}})});Mr(()=>{s.value=s.value??a.getMonth(a.date())});function i(c){return Array.isArray(e.allowedMonths)&&e.allowedMonths.length?e.allowedMonths.includes(c):typeof e.allowedMonths=="function"?e.allowedMonths(c):!0}return yt(()=>p("div",{class:"v-date-picker-months",style:{height:Mt(e.height)}},[p("div",{class:"v-date-picker-months__content"},[o.value.map((c,A)=>{const u={active:s.value===A,ariaLabel:c.label,color:s.value===A?e.color:void 0,disabled:c.isDisabled,rounded:!0,text:c.text,variant:s.value===c.value?"flat":"text",onClick:()=>f(A)};function f(m){if(s.value===m){n("update:modelValue",s.value);return}s.value=m}return r.month?.({month:c,i:A,props:u})??l(Rn,Ne({key:"month"},u),null)})])])),{}}}),N7=et({color:String,height:[String,Number],min:null,max:null,modelValue:Number,allowedYears:[Array,Function]},"VDatePickerYears"),gB=mt()({name:"VDatePickerYears",props:N7(),directives:{vIntersect:cl},emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=lp(),s=en(e,"modelValue"),o=Z(()=>{const u=a.getYear(a.date());let f=u-100,m=u+52;e.min&&(f=a.getYear(a.date(e.min))),e.max&&(m=a.getYear(a.date(e.max)));let v=a.startOfYear(a.date());return v=a.setYear(v,f),jo(m-f+1,f).map(h=>{const y=a.format(v,"year");return v=a.setYear(v,a.getYear(v)+1),{text:y,value:h,isDisabled:!A(h)}})});Mr(()=>{s.value=s.value??a.getYear(a.date())});const i=Fy();function c(){i.el?.focus(),i.el?.scrollIntoView({block:"center"})}function A(u){return Array.isArray(e.allowedYears)&&e.allowedYears.length?e.allowedYears.includes(u):typeof e.allowedYears=="function"?e.allowedYears(u):!0}return yt(()=>Tr(p("div",{class:"v-date-picker-years",style:{height:Mt(e.height)}},[p("div",{class:"v-date-picker-years__content"},[o.value.map((u,f)=>{const m={ref:s.value===u.value?i:void 0,active:s.value===u.value,color:s.value===u.value?e.color:void 0,rounded:!0,text:u.text,disabled:u.isDisabled,variant:s.value===u.value?"flat":"text",onClick:()=>{if(s.value===u.value){n("update:modelValue",s.value);return}s.value=u.value}};return r.year?.({year:u,i:f,props:m})??l(Rn,Ne({key:"month"},m),null)})])]),[[cl,{handler:c},null,{once:!0}]])),{}}}),EKe=et({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...D7(),...U7({weeksInMonth:"static"}),...cr(R7(),["modelValue"]),...cr(N7(),["modelValue"]),...i_({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),BKe=mt()({name:"VDatePicker",props:EKe(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const a=lp(),{t:s}=ur(),{rtlClasses:o}=Ea(),i=en(e,"modelValue",void 0,le=>Wr(le).map(K=>a.date(K)),le=>e.multiple?le:le[0]),c=en(e,"viewMode"),A=Z(()=>{const le=a.date(e.min);return e.min&&a.isValid(le)?le:null}),u=Z(()=>{const le=a.date(e.max);return e.max&&a.isValid(le)?le:null}),f=Z(()=>{const le=a.date();let K=le;return i.value?.[0]?K=a.date(i.value[0]):A.value&&a.isBefore(le,A.value)?K=A.value:u.value&&a.isAfter(le,u.value)&&(K=u.value),K&&a.isValid(K)?K:le}),m=Qe(()=>e.headerColor??e.color),v=en(e,"month"),h=Z({get:()=>Number(v.value??a.getMonth(a.startOfMonth(f.value))),set:le=>v.value=le}),y=en(e,"year"),w=Z({get:()=>Number(y.value??a.getYear(a.startOfYear(a.setMonth(f.value,h.value)))),set:le=>y.value=le}),b=kt(!1),B=Z(()=>e.multiple&&i.value.length>1?s("$vuetify.datePicker.itemsSelected",i.value.length):i.value[0]&&a.isValid(i.value[0])?a.format(a.date(i.value[0]),"normalDateWithWeekday"):s(e.header)),S=Z(()=>{let le=a.date();return le=a.setDate(le,1),le=a.setMonth(le,h.value),le=a.setYear(le,w.value),a.format(le,"monthAndYear")}),T=Qe(()=>`date-picker-header${b.value?"-reverse":""}-transition`),N=Z(()=>{if(e.disabled)return!0;const le=[];if(c.value!=="month")le.push("prev","next");else{let K=a.date();if(K=a.startOfMonth(K),K=a.setMonth(K,h.value),K=a.setYear(K,w.value),A.value){const ee=a.addDays(a.startOfMonth(K),-1);a.isAfter(A.value,ee)&&le.push("prev")}if(u.value){const ee=a.addDays(a.endOfMonth(K),1);a.isAfter(ee,u.value)&&le.push("next")}}return le}),k=Z(()=>e.allowedYears||C),E=Z(()=>e.allowedMonths||F);function _(le,K){const ee=e.allowedDates;if(typeof ee!="function")return!0;const j=1+a.getDiff(new Date(`${a.toISO(K)}T00:00:00Z`),new Date(`${a.toISO(le)}T00:00:00Z`),"days");for(let U=0;U<j;U++)if(ee(a.addDays(le,U)))return!0;return!1}function C(le){if(typeof e.allowedDates=="function"){const K=a.parseISO(`${le}-01-01`);return _(K,a.endOfYear(K))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const K of e.allowedDates)if(a.getYear(a.date(K))===le)return!0;return!1}return!0}function F(le){if(typeof e.allowedDates=="function"){const K=String(le+1).padStart(2,"0"),ee=a.parseISO(`${w.value}-${K}-01`);return _(ee,a.endOfMonth(ee))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const K of e.allowedDates)if(a.getYear(a.date(K))===w.value&&a.getMonth(a.date(K))===le)return!0;return!1}return!0}function I(){h.value<11?h.value++:(w.value++,h.value=0,W()),O()}function R(){h.value>0?h.value--:(w.value--,h.value=11,W()),O()}function M(){c.value="month"}function te(){c.value=c.value==="months"?"month":"months"}function se(){c.value=c.value==="year"?"month":"year"}function O(){c.value==="months"&&te()}function W(){c.value==="year"&&se()}return Ge(i,(le,K)=>{const ee=Wr(K),j=Wr(le);if(!j.length)return;const U=a.date(ee[ee.length-1]),G=a.date(j[j.length-1]),ne=a.getMonth(G),X=a.getYear(G);ne!==h.value&&(h.value=ne,O()),X!==w.value&&(w.value=X,W()),b.value=a.isBefore(U,G)}),yt(()=>{const le=Om.filterProps(e),K=mB.filterProps(e),ee=hB.filterProps(e),j=vB.filterProps(e),U=cr(pB.filterProps(e),["modelValue"]),G=cr(gB.filterProps(e),["modelValue"]),ne={color:m.value,header:B.value,transition:T.value};return l(Om,Ne(le,{color:m.value,class:["v-date-picker",`v-date-picker--${c.value}`,{"v-date-picker--show-week":e.showWeek},o.value,e.class],style:e.style}),{title:()=>r.title?.()??p("div",{class:"v-date-picker__title"},[s(e.title)]),header:()=>r.header?l(Cn,{defaults:{VDatePickerHeader:{...ne}}},{default:()=>[r.header?.(ne)]}):l(hB,Ne({key:"header"},ee,ne,{onClick:c.value!=="month"?M:void 0}),{prepend:r.prepend,append:r.append}),default:()=>p(ze,null,[l(mB,Ne(K,{disabled:N.value,text:S.value,"onClick:next":I,"onClick:prev":R,"onClick:month":te,"onClick:year":se}),null),l(Hv,{hideOnLeave:!0},{default:()=>[c.value==="months"?l(pB,Ne({key:"date-picker-months"},U,{modelValue:h.value,"onUpdate:modelValue":[X=>h.value=X,O],min:A.value,max:u.value,year:w.value,allowedMonths:E.value}),{month:r.month}):c.value==="year"?l(gB,Ne({key:"date-picker-years"},G,{modelValue:w.value,"onUpdate:modelValue":[X=>w.value=X,W],min:A.value,max:u.value,allowedYears:k.value}),{year:r.year}):l(vB,Ne({key:"date-picker-month"},j,{modelValue:i.value,"onUpdate:modelValue":X=>i.value=X,month:h.value,"onUpdate:month":[X=>h.value=X,O],year:w.value,"onUpdate:year":[X=>w.value=X,W],min:A.value,max:u.value}),{day:r.day})]})]),actions:r.actions})}),{}}}),SKe=et({actionText:String,bgColor:String,color:String,icon:qt,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Gt(),...Aa(),...uc({size:void 0}),...Hn()},"VEmptyState"),kKe=mt()({name:"VEmptyState",props:SKe(),emits:{"click:action":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{themeClasses:a}=or(e),{backgroundColorClasses:s,backgroundColorStyles:o}=lr(()=>e.bgColor),{dimensionStyles:i}=fa(e),{displayClasses:c}=ni();function A(u){n("click:action",u)}return yt(()=>{const u=!!(r.actions||e.actionText),f=!!(r.headline||e.headline),m=!!(r.title||e.title),v=!!(r.text||e.text),h=!!(r.media||e.image||e.icon),y=e.size||(e.image?200:96);return p("div",{class:rt(["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},a.value,s.value,c.value,e.class]),style:It([o.value,i.value,e.style])},[h&&p("div",{key:"media",class:"v-empty-state__media"},[r.media?l(Cn,{key:"media-defaults",defaults:{VImg:{src:e.image,height:y},VIcon:{size:y,icon:e.icon}}},{default:()=>[r.media()]}):p(ze,null,[e.image?l(eu,{key:"image",src:e.image,height:y},null):e.icon?l(Xn,{key:"icon",color:e.color,size:y,icon:e.icon},null):void 0])]),f&&p("div",{key:"headline",class:"v-empty-state__headline"},[r.headline?.()??e.headline]),m&&p("div",{key:"title",class:"v-empty-state__title"},[r.title?.()??e.title]),v&&p("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Mt(e.textWidth)}},[r.text?.()??e.text]),r.default&&p("div",{key:"content",class:"v-empty-state__content"},[r.default()]),u&&p("div",{key:"actions",class:"v-empty-state__actions"},[l(Cn,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",href:e.href,text:e.actionText,to:e.to}}},{default:()=>[r.actions?.({props:{onClick:A}})??l(Rn,{onClick:A},null)]})])])}),{}}}),Xv=Symbol.for("vuetify:v-expansion-panel"),L7=et({...Gt(),...gI()},"VExpansionPanelText"),yB=mt()({name:"VExpansionPanelText",props:L7(),setup(e,t){let{slots:n}=t;const r=pn(Xv);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:a,onAfterLeave:s}=yI(e,r.isSelected);return yt(()=>l(Xw,{onAfterLeave:s},{default:()=>[Tr(p("div",{class:rt(["v-expansion-panel-text",e.class]),style:It(e.style)},[n.default&&a.value&&p("div",{class:"v-expansion-panel-text__wrapper"},[n.default?.()])]),[[Po,r.isSelected.value]])]})),{}}}),V7=et({color:String,expandIcon:{type:qt,default:"$expand"},collapseIcon:{type:qt,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Gt(),...Aa()},"VExpansionPanelTitle"),wB=mt()({name:"VExpansionPanelTitle",directives:{vRipple:Gs},props:V7(),setup(e,t){let{slots:n}=t;const r=pn(Xv);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:a,backgroundColorStyles:s}=lr(()=>e.color),{dimensionStyles:o}=fa(e),i=Z(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),c=Qe(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return yt(()=>Tr(p("button",{class:rt(["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},a.value,e.class]),style:It([s.value,o.value,e.style]),type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[p("span",{class:"v-expansion-panel-title__overlay"},null),n.default?.(i.value),!e.hideActions&&l(Cn,{defaults:{VIcon:{icon:c.value}}},{default:()=>[p("span",{class:"v-expansion-panel-title__icon"},[n.actions?.(i.value)??l(Xn,null,null)])]})]),[[Gs,e.ripple]])),{}}}),M7=et({title:String,text:String,bgColor:String,...Ba(),...XA(),...Or(),...gn(),...V7(),...L7()},"VExpansionPanel"),IKe=mt()({name:"VExpansionPanel",props:M7(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=od(e,Xv),{backgroundColorClasses:a,backgroundColorStyles:s}=lr(()=>e.bgColor),{elevationClasses:o}=Wa(e),{roundedClasses:i}=qr(e),c=Qe(()=>r?.disabled.value||e.disabled),A=Z(()=>r.group.items.value.reduce((m,v,h)=>(r.group.selected.value.includes(v.id)&&m.push(h),m),[])),u=Z(()=>{const m=r.group.items.value.findIndex(v=>v.id===r.id);return!r.isSelected.value&&A.value.some(v=>v-m===1)}),f=Z(()=>{const m=r.group.items.value.findIndex(v=>v.id===r.id);return!r.isSelected.value&&A.value.some(v=>v-m===-1)});return vr(Xv,r),yt(()=>{const m=!!(n.text||e.text),v=!!(n.title||e.title),h=wB.filterProps(e),y=yB.filterProps(e);return l(e.tag,{class:rt(["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":u.value,"v-expansion-panel--after-active":f.value,"v-expansion-panel--disabled":c.value},i.value,a.value,e.class]),style:It([s.value,e.style])},{default:()=>[p("div",{class:rt(["v-expansion-panel__shadow",...o.value])},null),l(Cn,{defaults:{VExpansionPanelTitle:{...h},VExpansionPanelText:{...y}}},{default:()=>[v&&l(wB,{key:"title"},{default:()=>[n.title?n.title():e.title]}),m&&l(yB,{key:"text"},{default:()=>[n.text?n.text():e.text]}),n.default?.()]})]})}),{groupItem:r}}}),TKe=["default","accordion","inset","popout"],FKe=et({flat:Boolean,...YA(),...Do(M7(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Hn(),...Gt(),...gn(),variant:{type:String,default:"default",validator:e=>TKe.includes(e)}},"VExpansionPanels"),PKe=mt()({name:"VExpansionPanels",props:FKe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:r,prev:a}=yd(e,Xv),{themeClasses:s}=or(e),o=Qe(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return jr({VExpansionPanel:{bgColor:Qe(()=>e.bgColor),collapseIcon:Qe(()=>e.collapseIcon),color:Qe(()=>e.color),eager:Qe(()=>e.eager),elevation:Qe(()=>e.elevation),expandIcon:Qe(()=>e.expandIcon),focusable:Qe(()=>e.focusable),hideActions:Qe(()=>e.hideActions),readonly:Qe(()=>e.readonly),ripple:Qe(()=>e.ripple),rounded:Qe(()=>e.rounded),static:Qe(()=>e.static)}}),yt(()=>l(e.tag,{class:rt(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},s.value,o.value,e.class]),style:It(e.style)},{default:()=>[n.default?.({prev:a,next:r})]})),{next:r,prev:a}}}),DKe=et({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...cr(t_({active:!0}),["location","spaced"]),...OA(),...lu(),...iu({transition:"fab-transition"})},"VFab"),UKe=mt()({name:"VFab",props:DKe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"modelValue"),a=kt(56),s=H(),{resizeRef:o}=Ci(f=>{f.length&&(a.value=f[0].target.clientHeight)}),i=Qe(()=>e.app||e.absolute),c=Z(()=>i.value?e.location?.split(" ").shift()??"bottom":!1),A=Z(()=>i.value?e.location?.split(" ")[1]??"end":!1);hs(()=>e.app,()=>{const f=QA({id:e.name,order:Z(()=>parseInt(e.order,10)),position:c,layoutSize:Z(()=>e.layout?a.value+24:0),elementSize:Z(()=>a.value+24),active:Z(()=>e.app&&r.value),absolute:Qe(()=>e.absolute)});Mr(()=>{s.value=f.layoutItemStyles.value})});const u=H();return yt(()=>{const f=Rn.filterProps(e);return p("div",{ref:u,class:rt(["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${c.value}`]:i.value,[`v-fab--${A.value}`]:i.value},e.class]),style:It([e.app?{...s.value}:{height:e.absolute?"100%":"inherit"},e.style])},[p("div",{class:"v-fab__container"},[l(Vs,{appear:e.appear,transition:e.transition},{default:()=>[Tr(l(Rn,Ne({ref:o},f,{active:void 0,location:void 0}),n),[[Po,e.active]])]})])])}),{}}});function RKe(){function e(n){return[...n.dataTransfer?.items??[]].filter(a=>a.kind==="file").map(a=>a.webkitGetAsEntry()).filter(Boolean).length>0||[...n.dataTransfer?.files??[]].length>0}async function t(n){const r=[],a=[...n.dataTransfer?.items??[]].filter(s=>s.kind==="file").map(s=>s.webkitGetAsEntry()).filter(Boolean);if(a.length)for(const s of a){const o=await O7(s,Q7(".",s));r.push(...o.map(i=>i.file))}else r.push(...n.dataTransfer?.files??[]);return r}return{handleDrop:t,hasFilesOrFolders:e}}function O7(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((n,r)=>{e.isFile?e.file(s=>n([{file:s,path:t}]),r):e.isDirectory&&e.createReader().readEntries(async s=>{const o=[];for(const i of s)o.push(...await O7(i,Q7(t,i)));n(o)})})}function Q7(e,t){return t.isDirectory?`${e}/${t.name}`:e}const NKe=et({filterByType:String},"file-accept");function LKe(e){const t=Z(()=>e.filterByType?VKe(e.filterByType):null);function n(r){if(t.value){const a=r.filter(t.value);return{accepted:a,rejected:r.filter(s=>!a.includes(s))}}return{accepted:r,rejected:[]}}return{filterAccepted:n}}function VKe(e){const t=e.split(",").map(s=>s.trim().toLowerCase()),n=t.filter(s=>s.startsWith(".")),r=t.filter(s=>s.endsWith("/*")),a=t.filter(s=>!n.includes(s)&&!r.includes(s));return s=>{const o=s.name.split(".").at(-1)?.toLowerCase()??"",i=s.type.split("/").at(0)?.toLowerCase()??"";return a.includes(s.type)||n.includes(`.${o}`)||r.includes(`${i}/*`)}}const MKe=et({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},truncateLength:{type:[Number,String],default:22},...uu({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Wr(e).every(t=>t!=null&&typeof t=="object")},...NKe(),...Op({clearable:!0})},"VFileInput"),OKe=mt()({name:"VFileInput",inheritAttrs:!1,props:MKe(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,rejected:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{t:s}=ur(),{filterAccepted:o}=LKe(e),i=en(e,"modelValue",e.modelValue,K=>Wr(K),K=>!e.multiple&&Array.isArray(K)?K[0]:K),{isFocused:c,focus:A,blur:u}=cu(e),f=Z(()=>typeof e.showSize!="boolean"?e.showSize:void 0),m=Z(()=>(i.value??[]).reduce((K,ee)=>{let{size:j=0}=ee;return K+j},0)),v=Z(()=>eP(m.value,f.value)),h=Z(()=>(i.value??[]).map(K=>{const{name:ee="",size:j=0}=K,U=M(ee);return e.showSize?`${U} (${eP(j,f.value)})`:U})),y=Z(()=>{const K=i.value?.length??0;return e.showSize?s(e.counterSizeString,K,v.value):s(e.counterString,K)}),w=H(),b=H(),B=H(),S=Qe(()=>c.value||e.active),T=Z(()=>["plain","underlined"].includes(e.variant)),N=kt(!1),{handleDrop:k,hasFilesOrFolders:E}=RKe();function _(){B.value!==document.activeElement&&B.value?.focus(),c.value||A()}function C(K){B.value?.click()}function F(K){r("mousedown:control",K)}function I(K){B.value?.click(),r("click:control",K)}function R(K){K.stopPropagation(),_(),An(()=>{i.value=[],sp(e["onClick:clear"],K)})}function M(K){if(K.length<Number(e.truncateLength))return K;const ee=Math.floor((Number(e.truncateLength)-1)/2);return`${K.slice(0,ee)}${K.slice(K.length-ee)}`}function te(K){K.preventDefault(),K.stopImmediatePropagation(),N.value=!0}function se(K){K.preventDefault(),N.value=!1}async function O(K){if(K.preventDefault(),K.stopImmediatePropagation(),N.value=!1,!B.value||!E(K))return;const ee=await k(K);le(ee)}function W(K){if(!(!K.target||K.repack))if(e.filterByType)le([...K.target.files]);else{const ee=K.target;i.value=[...ee.files??[]]}}function le(K){const ee=new DataTransfer,{accepted:j,rejected:U}=o(K);U.length&&r("rejected",U);for(const ne of j)ee.items.add(ne);B.value.files=ee.files,i.value=[...ee.files];const G=new Event("change",{bubbles:!0});G.repack=!0,B.value.dispatchEvent(G)}return Ge(i,K=>{(!Array.isArray(K)||!K.length)&&B.value&&(B.value.value="")}),yt(()=>{const K=!!(a.counter||e.counter),ee=!!(K||a.details),[j,U]=md(n),{modelValue:G,...ne}=gs.filterProps(e),X={...ld.filterProps(e),"onClick:clear":R},oe=n.webkitdirectory!==void 0&&n.webkitdirectory!==!1,q=n.accept?String(n.accept):void 0,Y=oe?void 0:e.filterByType??q;return l(gs,Ne({ref:w,modelValue:e.multiple?i.value:i.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":N.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":T.value},e.class],style:e.style,"onClick:prepend":C},j,ne,{centerAffix:!T.value,focused:c.value}),{...a,default:ae=>{let{id:ge,isDisabled:we,isDirty:z,isReadonly:Ae,isValid:ie,hasDetails:_e}=ae;return l(ld,Ne({ref:b,prependIcon:e.prependIcon,onMousedown:F,onClick:I,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},X,{id:ge.value,active:S.value||z.value,dirty:z.value||e.dirty,disabled:we.value,focused:c.value,details:_e.value,error:ie.value===!1,onDragover:te,onDrop:O}),{...a,default:Pe=>{let{props:{class:re,...be},controlRef:He}=Pe;return p(ze,null,[p("input",Ne({ref:ke=>B.value=He.value=ke,type:"file",accept:Y,readonly:Ae.value,disabled:we.value,multiple:e.multiple,name:e.name,onClick:ke=>{ke.stopPropagation(),Ae.value&&ke.preventDefault(),_()},onChange:W,onDragleave:se,onFocus:_,onBlur:u},be,U),null),p("div",{class:rt(re)},[!!i.value?.length&&!e.hideInput&&(a.selection?a.selection({fileNames:h.value,totalBytes:m.value,totalBytesReadable:v.value}):e.chips?h.value.map(ke=>l(uh,{key:ke,size:"small",text:ke},null)):h.value.join(", "))])])}})},details:ee?ae=>p(ze,null,[a.details?.(ae),K&&p(ze,null,[p("span",null,null),l(r_,{active:!!i.value?.length,value:y.value,disabled:e.disabled},a.counter)])]):void 0})}),ja({},w,b,B)}}),QKe=et({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...vo(),...Gt(),...Ba(),...OA(),...Or(),...gn({tag:"footer"}),...Hn()},"VFooter"),HKe=mt()({name:"VFooter",props:QKe(),setup(e,t){let{slots:n}=t;const r=H(),{themeClasses:a}=or(e),{backgroundColorClasses:s,backgroundColorStyles:o}=lr(()=>e.color),{borderClasses:i}=No(e),{elevationClasses:c}=Wa(e),{roundedClasses:A}=qr(e),u=kt(32),{resizeRef:f}=Ci(v=>{v.length&&(u.value=v[0].target.clientHeight)}),m=Z(()=>e.height==="auto"?u.value:parseInt(e.height,10));return hs(()=>e.app,()=>{const v=QA({id:e.name,order:Z(()=>parseInt(e.order,10)),position:Qe(()=>"bottom"),layoutSize:m,elementSize:Z(()=>e.height==="auto"?void 0:m.value),active:Qe(()=>e.app),absolute:Qe(()=>e.absolute)});Mr(()=>{r.value=v.layoutItemStyles.value})}),yt(()=>l(e.tag,{ref:f,class:rt(["v-footer",a.value,s.value,i.value,c.value,A.value,e.class]),style:It([o.value,e.app?r.value:{height:Mt(e.height)},e.style])},n)),{}}}),KKe=et({...Gt(),...YQe()},"VForm"),GKe=mt()({name:"VForm",props:KKe(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=XQe(e),s=H();function o(c){c.preventDefault(),a.reset()}function i(c){const A=c,u=a.validate();A.then=u.then.bind(u),A.catch=u.catch.bind(u),A.finally=u.finally.bind(u),r("submit",A),A.defaultPrevented||u.then(f=>{let{valid:m}=f;m&&s.value?.submit()}),A.preventDefault()}return yt(()=>p("form",{ref:s,class:rt(["v-form",e.class]),style:It(e.style),novalidate:!0,onReset:o,onSubmit:i},[n.default?.(a)])),ja(a,s)}}),zKe=et({disabled:Boolean,modelValue:{type:Boolean,default:null},...vI()},"VHover"),$Ke=mt()({name:"VHover",props:zKe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"modelValue"),{runOpenDelay:a,runCloseDelay:s}=pI(e,o=>!e.disabled&&(r.value=o));return()=>n.default?.({isHovering:r.value,props:{onMouseenter:a,onMouseleave:s}})}}),WKe=et({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...Aa(),...gn()},"VInfiniteScroll"),PR=ti({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:n}=t;const{intersectionRef:r,isIntersecting:a}=Dp();return Ge(a,async s=>{n("intersect",e.side,s)}),yt(()=>p("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:r},[Q("")])),{}}}),jKe=mt()({name:"VInfiniteScroll",props:WKe(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=H(),s=kt("ok"),o=kt("ok"),i=Z(()=>Mt(e.margin)),c=kt(!1);function A(k){if(!a.value)return;const E=e.direction==="vertical"?"scrollTop":"scrollLeft";a.value[E]=k}function u(){if(!a.value)return 0;const k=e.direction==="vertical"?"scrollTop":"scrollLeft";return a.value[k]}function f(){if(!a.value)return 0;const k=e.direction==="vertical"?"scrollHeight":"scrollWidth";return a.value[k]}function m(){if(!a.value)return 0;const k=e.direction==="vertical"?"clientHeight":"clientWidth";return a.value[k]}fn(()=>{a.value&&(e.side==="start"?A(f()):e.side==="both"&&A(f()/2-m()/2))});function v(k,E){k==="start"?s.value=E:k==="end"?o.value=E:k==="both"&&(s.value=E,o.value=E)}function h(k){return k==="start"?s.value:o.value}let y=0;function w(k,E){c.value=E,c.value&&b(k)}function b(k){if(e.mode!=="manual"&&!c.value)return;const E=h(k);if(!a.value||["empty","loading"].includes(E))return;y=f(),v(k,"loading");function _(C){v(k,C),An(()=>{C==="empty"||C==="error"||(C==="ok"&&k==="start"&&A(f()-y+u()),e.mode!=="manual"&&An(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{b(k)})})})}))})}r("load",{side:k,done:_})}const{t:B}=ur();function S(k,E){if(e.side!==k&&e.side!=="both")return;const _=()=>b(k),C={side:k,props:{onClick:_,color:e.color}};return E==="error"?n.error?.(C):E==="empty"?n.empty?.(C)??p("div",null,[B(e.emptyText)]):e.mode==="manual"?E==="loading"?n.loading?.(C)??l(BA,{indeterminate:!0,color:e.color},null):n["load-more"]?.(C)??l(Rn,{variant:"outlined",color:e.color,onClick:_},{default:()=>[B(e.loadMoreText)]}):n.loading?.(C)??l(BA,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:T}=fa(e);yt(()=>{const k=e.tag,E=e.side==="start"||e.side==="both",_=e.side==="end"||e.side==="both",C=e.mode==="intersect";return l(k,{ref:a,class:rt(["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":E,"v-infinite-scroll--end":_}]),style:It(T.value)},{default:()=>[p("div",{class:"v-infinite-scroll__side"},[S("start",s.value)]),E&&C&&l(PR,{key:"start",side:"start",onIntersect:w,rootMargin:i.value},null),n.default?.(),_&&C&&l(PR,{key:"end",side:"end",onIntersect:w,rootMargin:i.value},null),p("div",{class:"v-infinite-scroll__side"},[S("end",o.value)])]})});function N(k){const E=k??e.side;v(E,"ok"),An(()=>{A(f()-y+u()),e.mode!=="manual"&&An(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{E==="both"?(b("start"),b("end")):b(E)})})})})})}return{reset:N}}}),H7=Symbol.for("vuetify:v-item-group"),JKe=et({...Gt(),...YA({selectedClass:"v-item--selected"}),...gn(),...Hn()},"VItemGroup"),qKe=mt()({name:"VItemGroup",props:JKe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=or(e),{isSelected:a,select:s,next:o,prev:i,selected:c}=yd(e,H7);return()=>l(e.tag,{class:rt(["v-item-group",r.value,e.class]),style:It(e.style)},{default:()=>[n.default?.({isSelected:a,select:s,next:o,prev:i,selected:c.value})]})}}),YKe=mt()({name:"VItem",props:XA(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,select:a,toggle:s,selectedClass:o,value:i,disabled:c}=od(e,H7);return()=>n.default?.({isSelected:r.value,selectedClass:o.value,select:a,toggle:s,value:i.value,disabled:c.value})}}),XKe=et({color:String,...vo(),...Gt(),...Or(),...gn({tag:"kbd"}),...Hn(),...Ba()},"VKbd"),ZKe=mt()({name:"VKbd",props:XKe(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=or(e),{borderClasses:a}=No(e),{roundedClasses:s}=qr(e),{backgroundColorClasses:o,backgroundColorStyles:i}=lr(()=>e.color),{elevationClasses:c}=Wa(e);return yt(()=>l(e.tag,{class:rt(["v-kbd",r.value,o.value,a.value,c.value,s.value,e.class]),style:It([i.value,e.style])},n)),{}}}),eGe=et({...Gt(),...Aa(),...r5()},"VLayout"),tGe=mt()({name:"VLayout",props:eGe(),setup(e,t){let{slots:n}=t;const{layoutClasses:r,layoutStyles:a,getLayoutItem:s,items:o,layoutRef:i}=s5(e),{dimensionStyles:c}=fa(e);return yt(()=>p("div",{ref:i,class:rt([r.value,e.class]),style:It([c.value,a.value,e.style])},[n.default?.()])),{getLayoutItem:s,items:o}}}),nGe=et({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Gt(),...OA()},"VLayoutItem"),rGe=mt()({name:"VLayoutItem",props:nGe(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:r}=QA({id:e.name,order:Z(()=>parseInt(e.order,10)),position:Qe(()=>e.position),elementSize:Qe(()=>e.size),layoutSize:Qe(()=>e.size),active:Qe(()=>e.modelValue),absolute:Qe(()=>e.absolute)});return()=>p("div",{class:rt(["v-layout-item",e.class]),style:It([r.value,e.style])},[n.default?.()])}}),aGe=et({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Gt(),...Aa(),...gn(),...iu({transition:"fade-transition"})},"VLazy"),sGe=mt()({name:"VLazy",directives:{vIntersect:cl},props:aGe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=fa(e),a=en(e,"modelValue");function s(o){a.value||(a.value=o)}return yt(()=>Tr(l(e.tag,{class:rt(["v-lazy",e.class]),style:It([r.value,e.style])},{default:()=>[a.value&&l(Vs,{transition:e.transition,appear:!0},{default:()=>[n.default?.()]})]}),[[cl,{handler:s,options:e.options},null]])),{}}}),oGe=et({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Gt()},"VLocaleProvider"),iGe=mt()({name:"VLocaleProvider",props:oGe(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=_ee(e);return yt(()=>p("div",{class:rt(["v-locale-provider",r.value,e.class]),style:It(e.style)},[n.default?.()])),{}}}),lGe=et({scrollable:Boolean,...Gt(),...Aa(),...gn({tag:"main"})},"VMain"),cGe=mt()({name:"VMain",props:lGe(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=fa(e),{mainStyles:a}=a5(),{ssrBootStyles:s}=JA();return yt(()=>l(e.tag,{class:rt(["v-main",{"v-main--scrollable":e.scrollable},e.class]),style:It([a.value,s.value,r.value,e.style])},{default:()=>[e.scrollable?p("div",{class:"v-main__scroller"},[n.default?.()]):n.default?.()]})),{}}});function uGe(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const a=kt(!1),s=kt(0),o=Z(()=>{const A=typeof a.value=="boolean"?"top":a.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[A]:Mt(s.value)}:{top:r.value.top}]});fn(()=>{Ge(n,A=>{A?window.addEventListener("scroll",c,{passive:!0}):window.removeEventListener("scroll",c)},{immediate:!0})}),Br(()=>{window.removeEventListener("scroll",c)});let i=0;function c(){const A=i>window.scrollY?"up":"down",u=t.value.getBoundingClientRect(),f=parseFloat(r.value.top??0),m=window.scrollY-Math.max(0,s.value-f),v=u.height+Math.max(s.value,f)-window.scrollY-window.innerHeight,h=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;u.height<window.innerHeight-f?(a.value="top",s.value=f):A==="up"&&a.value==="bottom"||A==="down"&&a.value==="top"?(s.value=window.scrollY+u.top-h,a.value=!0):A==="down"&&v<=0?(s.value=0,a.value="bottom"):A==="up"&&m<=0&&(h?a.value!=="top"&&(s.value=-m+h+f,a.value="top"):(s.value=u.top+m,a.value="top")),i=window.scrollY}return{isStuck:a,stickyStyles:o}}const dGe=100,AGe=20;function DR(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function UR(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=DR(t),a=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(a-r)*Math.abs(a),n===e.length-1&&(t*=.5)}return DR(t)*1e3}function fGe(){const e={};function t(a){Array.from(a.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new I6(AGe))).push([a.timeStamp,s])})}function n(a){Array.from(a.changedTouches).forEach(s=>{delete e[s.identifier]})}function r(a){const s=e[a]?.values().reverse();if(!s)throw new Error(`No samples for touch id ${a}`);const o=s[0],i=[],c=[];for(const A of s){if(o[0]-A[0]>dGe)break;i.push({t:A[0],d:A[1].clientX}),c.push({t:A[0],d:A[1].clientY})}return{x:UR(i),y:UR(c),get direction(){const{x:A,y:u}=this,[f,m]=[Math.abs(A),Math.abs(u)];return f>m&&A>=0?"right":f>m&&A<=0?"left":m>f&&u>=0?"down":m>f&&u<=0?"up":mGe()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function mGe(){throw new Error}function hGe(e){let{el:t,isActive:n,isTemporary:r,width:a,touchless:s,position:o}=e;fn(()=>{window.addEventListener("touchstart",B,{passive:!0}),window.addEventListener("touchmove",S,{passive:!1}),window.addEventListener("touchend",T,{passive:!0})}),Br(()=>{window.removeEventListener("touchstart",B),window.removeEventListener("touchmove",S),window.removeEventListener("touchend",T)});const i=Z(()=>["left","right"].includes(o.value)),{addMovement:c,endTouch:A,getVelocity:u}=fGe();let f=!1;const m=kt(!1),v=kt(0),h=kt(0);let y;function w(k,E){return(o.value==="left"?k:o.value==="right"?document.documentElement.clientWidth-k:o.value==="top"?k:o.value==="bottom"?document.documentElement.clientHeight-k:Nf())-(E?a.value:0)}function b(k){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const _=o.value==="left"?(k-h.value)/a.value:o.value==="right"?(document.documentElement.clientWidth-k-h.value)/a.value:o.value==="top"?(k-h.value)/a.value:o.value==="bottom"?(document.documentElement.clientHeight-k-h.value)/a.value:Nf();return E?Er(_):_}function B(k){if(s.value)return;const E=k.changedTouches[0].clientX,_=k.changedTouches[0].clientY,C=25,F=o.value==="left"?E<C:o.value==="right"?E>document.documentElement.clientWidth-C:o.value==="top"?_<C:o.value==="bottom"?_>document.documentElement.clientHeight-C:Nf(),I=n.value&&(o.value==="left"?E<a.value:o.value==="right"?E>document.documentElement.clientWidth-a.value:o.value==="top"?_<a.value:o.value==="bottom"?_>document.documentElement.clientHeight-a.value:Nf());(F||I||n.value&&r.value)&&(y=[E,_],h.value=w(i.value?E:_,n.value),v.value=b(i.value?E:_),f=h.value>-20&&h.value<80,A(k),c(k))}function S(k){const E=k.changedTouches[0].clientX,_=k.changedTouches[0].clientY;if(f){if(!k.cancelable){f=!1;return}const F=Math.abs(E-y[0]),I=Math.abs(_-y[1]);(i.value?F>I&&F>3:I>F&&I>3)?(m.value=!0,f=!1):(i.value?I:F)>3&&(f=!1)}if(!m.value)return;k.preventDefault(),c(k);const C=b(i.value?E:_,!1);v.value=Math.max(0,Math.min(1,C)),C>1?h.value=w(i.value?E:_,!0):C<0&&(h.value=w(i.value?E:_,!1))}function T(k){if(f=!1,!m.value)return;c(k),m.value=!1;const E=u(k.changedTouches[0].identifier),_=Math.abs(E.x),C=Math.abs(E.y);(i.value?_>C&&_>400:C>_&&C>3)?n.value=E.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||Nf()):n.value=v.value>.5}const N=Z(()=>m.value?{transform:o.value==="left"?`translateX(calc(-100% + ${v.value*a.value}px))`:o.value==="right"?`translateX(calc(100% - ${v.value*a.value}px))`:o.value==="top"?`translateY(calc(-100% + ${v.value*a.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${v.value*a.value}px))`:Nf(),transition:"none"}:void 0);return hs(m,()=>{const k=t.value?.style.transform??null,E=t.value?.style.transition??null;Mr(()=>{t.value?.style.setProperty("transform",N.value?.transform||"none"),t.value?.style.setProperty("transition",N.value?.transition||null)}),Ra(()=>{t.value?.style.setProperty("transform",k),t.value?.style.setProperty("transition",E)})}),{isDragging:m,dragProgress:v,dragStyles:N}}function Nf(){throw new Error}const vGe=["start","end","left","right","top","bottom"],pGe=et({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>vGe.includes(e)},sticky:Boolean,...vo(),...Gt(),...vI(),...MA({mobile:null}),...Ba(),...OA(),...Or(),...gn({tag:"nav"}),...Hn()},"VNavigationDrawer"),gGe=mt()({name:"VNavigationDrawer",props:pGe(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{isRtl:s}=Ea(),{themeClasses:o}=or(e),{borderClasses:i}=No(e),{backgroundColorClasses:c,backgroundColorStyles:A}=lr(()=>e.color),{elevationClasses:u}=Wa(e),{displayClasses:f,mobile:m}=ni(e),{roundedClasses:v}=qr(e),h=PH(),y=en(e,"modelValue",null,ee=>!!ee),{ssrBootStyles:w}=JA(),{scopeId:b}=ef(),B=H(),S=kt(!1),{runOpenDelay:T,runCloseDelay:N}=pI(e,ee=>{S.value=ee}),k=Z(()=>e.rail&&e.expandOnHover&&S.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),E=Z(()=>PC(e.location,s.value)),_=Qe(()=>e.persistent),C=Z(()=>!e.permanent&&(m.value||e.temporary)),F=Z(()=>e.sticky&&!C.value&&E.value!=="bottom");hs(()=>e.expandOnHover&&e.rail!=null,()=>{Ge(S,ee=>r("update:rail",!ee))}),hs(()=>!e.disableResizeWatcher,()=>{Ge(C,ee=>!e.permanent&&An(()=>y.value=!ee))}),hs(()=>!e.disableRouteWatcher&&!!h,()=>{Ge(h.currentRoute,()=>C.value&&(y.value=!1))}),Ge(()=>e.permanent,ee=>{ee&&(y.value=!0)}),e.modelValue==null&&!C.value&&(y.value=e.permanent||!m.value);const{isDragging:I,dragProgress:R}=hGe({el:B,isActive:y,isTemporary:C,width:k,touchless:Qe(()=>e.touchless),position:E}),M=Z(()=>{const ee=C.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):k.value;return I.value?ee*R.value:ee}),{layoutItemStyles:te,layoutItemScrimStyles:se}=QA({id:e.name,order:Z(()=>parseInt(e.order,10)),position:E,layoutSize:M,elementSize:k,active:pA(y),disableTransitions:Qe(()=>I.value),absolute:Z(()=>e.absolute||F.value&&typeof O.value!="string")}),{isStuck:O,stickyStyles:W}=uGe({rootEl:B,isSticky:F,layoutItemStyles:te}),le=lr(()=>typeof e.scrim=="string"?e.scrim:null),K=Z(()=>({...I.value?{opacity:R.value*.2,transition:"none"}:void 0,...se.value}));return jr({VList:{bgColor:"transparent"}}),yt(()=>{const ee=a.image||e.image;return p(ze,null,[l(e.tag,Ne({ref:B,onMouseenter:T,onMouseleave:N,class:["v-navigation-drawer",`v-navigation-drawer--${E.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":S.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":C.value,"v-navigation-drawer--persistent":_.value,"v-navigation-drawer--active":y.value,"v-navigation-drawer--sticky":F.value},o.value,c.value,i.value,f.value,u.value,v.value,e.class],style:[A.value,te.value,w.value,W.value,e.style]},b,n),{default:()=>[ee&&p("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?l(Cn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},a.image):l(eu,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),a.prepend&&p("div",{class:"v-navigation-drawer__prepend"},[a.prepend?.()]),p("div",{class:"v-navigation-drawer__content"},[a.default?.()]),a.append&&p("div",{class:"v-navigation-drawer__append"},[a.append?.()])]}),l(td,{name:"fade-transition"},{default:()=>[C.value&&(I.value||y.value)&&!!e.scrim&&p("div",Ne({class:["v-navigation-drawer__scrim",le.backgroundColorClasses.value],style:[K.value,le.backgroundColorStyles.value],onClick:()=>{_.value||(y.value=!1)}},b),null)]})])}),{isStuck:O}}}),yGe=ti({name:"VNoSsr",setup(e,t){let{slots:n}=t;const r=w9();return()=>r.value&&n.default?.()}}),wGe=50,_Ge=500;function bGe(e){let{toggleUpDown:t}=e,n=-1,r=-1;Ra(s);function a(i){s(),o(i),window.addEventListener("pointerup",s),document.addEventListener("blur",s),n=window.setTimeout(()=>{r=window.setInterval(()=>o(i),wGe)},_Ge)}function s(){window.clearTimeout(n),window.clearInterval(r),window.removeEventListener("pointerup",s),document.removeEventListener("blur",s)}function o(i){t(i==="up")}return{holdStart:a,holdStop:s}}const xGe=et({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},minFractionDigits:{type:Number,default:null},decimalSeparator:{type:String,validator:e=>!e||e.length===1},...cr(Qp(),["modelValue","validationValue"])},"VNumberInput"),CGe=mt()({name:"VNumberInput",props:{...xGe()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=H(),{holdStart:a,holdStop:s}=bGe({toggleUpDown:C}),o=ch(e),i=Z(()=>o.isDisabled.value||o.isReadonly.value),c=kt(e.focused),{decimalSeparator:A}=ur(),u=Z(()=>e.decimalSeparator?.[0]||A.value);function f(j){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.precision,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const ne=U==null?String(j):j.toFixed(U);if(c.value&&G)return Number(ne).toString().replace(".",u.value);if(e.minFractionDigits===null||U!==null&&U<e.minFractionDigits)return ne.replace(".",u.value);let[X,oe]=ne.split(".");return oe=(oe??"").padEnd(e.minFractionDigits,"0").replace(new RegExp(`(?<=\\d{${e.minFractionDigits}})0+$`,"g"),""),[X,oe].filter(Boolean).join(u.value)}const m=en(e,"modelValue",null,j=>j??null,j=>j==null?j??null:Er(Number(j),e.min,e.max)),v=kt(null);Mr(()=>{c.value&&!i.value&&Number(v.value?.replace(u.value,"."))===m.value||(m.value==null?v.value=null:isNaN(m.value)||(v.value=f(m.value)))});const h=Z({get:()=>v.value,set(j){if(j===null||j===""){m.value=null,v.value=null;return}const U=Number(j.replace(u.value,"."));!isNaN(U)&&U<=e.max&&U>=e.min&&(m.value=U,v.value=j)}}),y=Z(()=>i.value?!1:(m.value??0)+e.step<=e.max),w=Z(()=>i.value?!1:(m.value??0)-e.step>=e.min),b=Z(()=>e.hideInput?"stacked":e.controlVariant),B=Qe(()=>b.value==="split"?"$plus":"$collapse"),S=Qe(()=>b.value==="split"?"$minus":"$expand"),T=Qe(()=>b.value==="split"?"default":"small"),N=Qe(()=>b.value==="stacked"?"auto":"100%"),k={props:{onClick:R,onPointerup:M,onPointerdown:te,onPointercancel:M}},E={props:{onClick:R,onPointerup:M,onPointerdown:se,onPointercancel:M}};Ge(()=>e.precision,()=>W()),Ge(()=>e.minFractionDigits,()=>W()),fn(()=>{O()});function _(j){if(j==null)return 0;const U=j.toString(),G=U.indexOf(".");return~G?U.length-G:0}function C(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(i.value)return;if(m.value==null){h.value=f(Er(0,e.min,e.max));return}let U=Math.max(_(m.value),_(e.step));e.precision!=null&&(U=Math.max(U,e.precision)),j?y.value&&(h.value=f(m.value+e.step,U)):w.value&&(h.value=f(m.value-e.step,U))}function F(j){if(!j.data)return;const U=j.target,{value:G,selectionStart:ne,selectionEnd:X}=U??{},oe=G?G.slice(0,ne)+j.data+G.slice(X):j.data,q=RZ(oe,e.precision,u.value);if(new RegExp(`^-?\\d*${Py(u.value)}?\\d*$`).test(oe)||(j.preventDefault(),U.value=q,An(()=>h.value=q)),e.precision!=null){if(oe.split(u.value)[1]?.length>e.precision){j.preventDefault(),U.value=q,An(()=>h.value=q);const Y=(ne??0)+j.data.length;U.setSelectionRange(Y,Y)}e.precision===0&&oe.endsWith(u.value)&&(j.preventDefault(),U.value=q,An(()=>h.value=q))}}async function I(j){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(j.key)||j.ctrlKey||["ArrowDown","ArrowUp"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),O(),await An(),j.key==="ArrowDown"?C(!1):C())}function R(j){j.stopPropagation()}function M(j){j.currentTarget?.releasePointerCapture(j.pointerId),j.preventDefault(),s()}function te(j){j.currentTarget?.setPointerCapture(j.pointerId),j.preventDefault(),j.stopPropagation(),a("up")}function se(j){j.currentTarget?.setPointerCapture(j.pointerId),j.preventDefault(),j.stopPropagation(),a("down")}function O(){if(i.value||!r.value)return;const j=r.value.value,U=Number(j.replace(u.value,"."));j&&!isNaN(U)?h.value=f(Er(U,e.min,e.max)):h.value=null}function W(){i.value||(h.value=m.value!==null&&!isNaN(m.value)?f(m.value,e.precision,!1):null)}function le(){if(!i.value){if(m.value===null||isNaN(m.value)){h.value=null;return}h.value=m.value.toString().replace(".",u.value)}}function K(){le()}function ee(){O()}return yt(()=>{const{modelValue:j,type:U,...G}=tu.filterProps(e);function ne(){return n.increment?l(Cn,{key:"increment-defaults",defaults:{VBtn:{disabled:!y.value,height:N.value,size:T.value,icon:B.value,variant:"text"}}},{default:()=>[n.increment(k)]}):l(Rn,{"aria-hidden":"true","data-testid":"increment",disabled:!y.value,height:N.value,icon:B.value,key:"increment-btn",onClick:R,onPointerdown:te,onPointerup:M,onPointercancel:M,size:T.value,variant:"text",tabindex:"-1"},null)}function X(){return n.decrement?l(Cn,{key:"decrement-defaults",defaults:{VBtn:{disabled:!w.value,height:N.value,size:T.value,icon:S.value,variant:"text"}}},{default:()=>[n.decrement(E)]}):l(Rn,{"aria-hidden":"true","data-testid":"decrement",disabled:!w.value,height:N.value,icon:S.value,key:"decrement-btn",onClick:R,onPointerdown:se,onPointerup:M,onPointercancel:M,size:T.value,variant:"text",tabindex:"-1"},null)}function oe(){return p("div",{class:"v-number-input__control"},[X(),l(qo,{vertical:b.value!=="stacked"},null),ne()])}function q(){return!e.hideInput&&!e.inset?l(qo,{vertical:!0},null):void 0}const Y=b.value==="split"?p("div",{class:"v-number-input__control"},[l(qo,{vertical:!0},null),ne()]):e.reverse||b.value==="hidden"?void 0:p(ze,null,[q(),oe()]),ae=n["append-inner"]||Y,ge=b.value==="split"?p("div",{class:"v-number-input__control"},[X(),l(qo,{vertical:!0},null)]):e.reverse&&b.value!=="hidden"?p(ze,null,[oe(),q()]):void 0,we=n["prepend-inner"]||ge;return l(tu,Ne({ref:r},G,{modelValue:h.value,"onUpdate:modelValue":z=>h.value=z,focused:c.value,"onUpdate:focused":z=>c.value=z,validationValue:m.value,onBeforeinput:F,onFocus:K,onBlur:ee,onKeydown:I,class:["v-number-input",{"v-number-input--default":b.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":b.value==="split","v-number-input--stacked":b.value==="stacked"},e.class],style:e.style,inputmode:"decimal"}),{...n,"append-inner":ae?function(){for(var z=arguments.length,Ae=new Array(z),ie=0;ie<z;ie++)Ae[ie]=arguments[ie];return p(ze,null,[n["append-inner"]?.(...Ae),Y])}:void 0,"prepend-inner":we?function(){for(var z=arguments.length,Ae=new Array(z),ie=0;ie<z;ie++)Ae[ie]=arguments[ie];return p(ze,null,[ge,n["prepend-inner"]?.(...Ae)])}:void 0})}),ja({},r)}}),EGe=et({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...Aa(),...Vp(),...Do(Op({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),BGe=mt()({name:"VOtpInput",props:EGe(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const{dimensionStyles:s}=fa(e),{isFocused:o,focus:i,blur:c}=cu(e),A=en(e,"modelValue","",F=>F==null?[]:String(F).split(""),F=>F.join("")),{t:u}=ur(),f=Z(()=>Number(e.length)),m=Z(()=>Array(f.value).fill(0)),v=H(-1),h=H(),y=H([]),w=Z(()=>y.value[v.value]);let b=!1;hs(()=>e.autofocus,()=>{const F=Zu();F.run(()=>{const{intersectionRef:I,isIntersecting:R}=Dp();Mr(()=>{I.value=y.value[0]}),Ge(R,M=>{M&&(I.value?.focus(),F.stop())})})});function B(){if(C(w.value.value)){w.value.value="";return}if(b)return;const F=A.value.slice(),I=w.value.value;F[v.value]=I;let R=null;v.value>A.value.length?R=A.value.length+1:v.value+1!==f.value&&(R="next"),A.value=F,R&&sA(h.value,R)}function S(){b=!1,B()}function T(F){const I=A.value.slice(),R=v.value;let M=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(F.key)&&(F.preventDefault(),F.key==="ArrowLeft"?M="prev":F.key==="ArrowRight"?M="next":["Backspace","Delete"].includes(F.key)&&(I[v.value]="",A.value=I,v.value>0&&F.key==="Backspace"?M="prev":requestAnimationFrame(()=>{y.value[R]?.select()})),requestAnimationFrame(()=>{M!=null&&sA(h.value,M)}))}function N(F,I){I.preventDefault(),I.stopPropagation();const R=I?.clipboardData?.getData("Text").trim().slice(0,f.value)??"",M=R.length-1===-1?F:R.length-1;C(R)||(A.value=R.split(""),v.value=M)}function k(){A.value=[]}function E(F,I){i(),v.value=I}function _(){c(),v.value=-1}function C(F){return e.type==="number"&&/[^0-9]/g.test(F)}return jr({VField:{color:Qe(()=>e.color),bgColor:Qe(()=>e.color),baseColor:Qe(()=>e.baseColor),disabled:Qe(()=>e.disabled),error:Qe(()=>e.error),variant:Qe(()=>e.variant)}},{scoped:!0}),Ge(A,F=>{F.length===f.value&&r("finish",F.join(""))},{deep:!0}),Ge(v,F=>{F<0||An(()=>{y.value[F]?.select()})}),yt(()=>{const[F,I]=md(n);return p("div",Ne({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},F),[p("div",{ref:h,class:"v-otp-input__content",style:It([s.value])},[m.value.map((R,M)=>p(ze,null,[e.divider&&M!==0&&p("span",{class:"v-otp-input__divider"},[e.divider]),l(ld,{focused:o.value&&e.focusAll||v.value===M,key:M},{...a,loader:void 0,default:()=>p("input",{ref:te=>y.value[M]=te,"aria-label":u(e.label,M+1),autofocus:M===0&&e.autofocus,autocomplete:"one-time-code",class:rt(["v-otp-input__field"]),disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:M===0?f.value:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:A.value[M],onInput:B,onFocus:te=>E(te,M),onBlur:_,onKeydown:T,onCompositionstart:()=>b=!0,onCompositionend:S,onPaste:te=>N(M,te)},null)})])),p("input",Ne({class:"v-otp-input-input",type:"hidden"},I,{value:A.value.join("")}),null),l(Zl,{contained:!0,contentClass:"v-otp-input__loader",modelValue:!!e.loading,persistent:!0},{default:()=>[a.loader?.()??l(BA,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}),a.default?.()])])}),{blur:()=>{y.value?.some(F=>F.blur())},focus:()=>{y.value?.[0].focus()},reset:k,isFocused:o}}});function SGe(e){return Math.floor(Math.abs(e))*Math.sign(e)}const kGe=et({scale:{type:[Number,String],default:.5},...Gt()},"VParallax"),IGe=mt()({name:"VParallax",props:kGe(),setup(e,t){let{slots:n}=t;const{intersectionRef:r,isIntersecting:a}=Dp(),{resizeRef:s,contentRect:o}=Ci(),{height:i}=ni(),c=H();Mr(()=>{r.value=s.value=c.value?.$el});let A;Ge(a,v=>{v?(A=sw(r.value),A=A===document.scrollingElement?document:A,A.addEventListener("scroll",m,{passive:!0}),m()):A.removeEventListener("scroll",m)}),Br(()=>{A?.removeEventListener("scroll",m)}),Ge(i,m),Ge(()=>o.value?.height,m);const u=Z(()=>1-Er(Number(e.scale)));let f=-1;function m(){!a.value||zl()||(cancelAnimationFrame(f),f=requestAnimationFrame(()=>{const v=(c.value?.$el).querySelector(".v-img__img");if(!v)return;const h=A instanceof Document?document.documentElement.clientHeight:A.clientHeight,y=A instanceof Document?window.scrollY:A.scrollTop,w=r.value.getBoundingClientRect().top+y,b=o.value.height,B=w+(b-h)/2,S=SGe((y-B)*u.value),T=Math.max(1,(u.value*(h-b)+b)/b);v.style.setProperty("transform",`translateY(${S}px) scale(${T})`)}))}return yt(()=>l(eu,{class:rt(["v-parallax",{"v-parallax--active":a.value},e.class]),style:It(e.style),ref:c,cover:!0,onLoadstart:m,onLoad:m},n)),{}}}),TGe=et({...n_({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),FGe=mt()({name:"VRadio",props:TGe(),setup(e,t){let{slots:n}=t;return yt(()=>{const r=id.filterProps(e);return l(id,Ne(r,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),PGe=et({height:{type:[Number,String],default:"auto"},...uu(),...cr(lI(),["multiple"]),trueIcon:{type:qt,default:"$radioOn"},falseIcon:{type:qt,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),DGe=mt()({name:"VRadioGroup",inheritAttrs:!1,props:PGe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const a=ys(),s=Z(()=>e.id||`radio-group-${a}`),o=en(e,"modelValue"),i=H();return yt(()=>{const[c,A]=md(n),u=gs.filterProps(e),f=id.filterProps(e),m=r.label?r.label({label:e.label,props:{for:s.value}}):e.label;return l(gs,Ne({ref:i,class:["v-radio-group",e.class],style:e.style},c,u,{modelValue:o.value,"onUpdate:modelValue":v=>o.value=v,id:s.value}),{...r,default:v=>{let{id:h,messagesId:y,isDisabled:w,isReadonly:b}=v;return p(ze,null,[m&&l(lh,{id:h.value},{default:()=>[m]}),l(HH,Ne(f,{id:h.value,"aria-describedby":y.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:w.value,readonly:b.value,"aria-labelledby":m?h.value:void 0,multiple:!1},A,{modelValue:o.value,"onUpdate:modelValue":B=>o.value=B}),r)])}})}),ja({},i)}}),UGe=et({...Vp(),...uu(),...G9(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),RGe=mt()({name:"VRangeSlider",props:UGe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=H(),s=H(),o=H(),{rtlClasses:i}=Ea();function c(F){if(!a.value||!s.value)return;const I=cB(F,a.value.$el,e.direction),R=cB(F,s.value.$el,e.direction),M=Math.abs(I),te=Math.abs(R);return M<te||M===te&&I<0?a.value.$el:s.value.$el}const A=z9(e),u=en(e,"modelValue",void 0,F=>F?.length?F.map(I=>A.roundValue(I)):[0,0]),{activeThumbRef:f,hasLabels:m,max:v,min:h,mousePressed:y,onSliderMousedown:w,onSliderTouchstart:b,position:B,trackContainerRef:S,readonly:T}=$9({props:e,steps:A,onSliderStart:()=>{r("start",u.value)},onSliderEnd:F=>{let{value:I}=F;const R=f.value===a.value?.$el?[I,u.value[1]]:[u.value[0],I];!e.strict&&R[0]<R[1]&&(u.value=R),r("end",u.value)},onSliderMove:F=>{let{value:I}=F;const[R,M]=u.value;!e.strict&&R===M&&R!==h.value&&(f.value=I>R?s.value?.$el:a.value?.$el,f.value?.focus()),f.value===a.value?.$el?u.value=[Math.min(I,M),M]:u.value=[R,Math.max(R,I)]},getActiveThumb:c}),{isFocused:N,focus:k,blur:E}=cu(e),_=Z(()=>B(u.value[0])),C=Z(()=>B(u.value[1]));return yt(()=>{const F=gs.filterProps(e),I=!!(e.label||n.label||n.prepend);return l(gs,Ne({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||m.value,"v-slider--focused":N.value,"v-slider--pressed":y.value,"v-slider--disabled":e.disabled},i.value,e.class],style:e.style,ref:o},F,{focused:N.value}),{...n,prepend:I?R=>p(ze,null,[n.label?.(R)??(e.label?l(lh,{class:"v-slider__label",text:e.label},null):void 0),n.prepend?.(R)]):void 0,default:R=>{let{id:M,messagesId:te}=R;return p("div",{class:"v-slider__container",onMousedown:T.value?void 0:w,onTouchstartPassive:T.value?void 0:b},[p("input",{id:`${M.value}_start`,name:e.name||M.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:u.value[0]},null),p("input",{id:`${M.value}_stop`,name:e.name||M.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:u.value[1]},null),l(W9,{ref:S,start:_.value,stop:C.value},{"tick-label":n["tick-label"]}),l(uB,{ref:a,"aria-describedby":te.value,focused:N&&f.value===a.value?.$el,modelValue:u.value[0],"onUpdate:modelValue":se=>u.value=[se,u.value[1]],onFocus:se=>{k(),f.value=a.value?.$el,v.value!==h.value&&u.value[0]===u.value[1]&&u.value[1]===h.value&&se.relatedTarget!==s.value?.$el&&(a.value?.$el.blur(),s.value?.$el.focus())},onBlur:()=>{E(),f.value=void 0},min:h.value,max:u.value[1],position:_.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),l(uB,{ref:s,"aria-describedby":te.value,focused:N&&f.value===s.value?.$el,modelValue:u.value[1],"onUpdate:modelValue":se=>u.value=[u.value[0],se],onFocus:se=>{k(),f.value=s.value?.$el,v.value!==h.value&&u.value[0]===u.value[1]&&u.value[0]===v.value&&se.relatedTarget!==a.value?.$el&&(s.value?.$el.blur(),a.value?.$el.focus())},onBlur:()=>{E(),f.value=void 0},min:u.value[0],max:v.value,position:C.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),ja({focus:()=>a.value?.$el.focus()},o)}}),NGe=et({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:qt,default:"$ratingEmpty"},fullIcon:{type:qt,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Gt(),...ra(),...uc(),...gn(),...Hn()},"VRating"),LGe=mt()({name:"VRating",props:NGe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=ur(),{themeClasses:a}=or(e),s=en(e,"modelValue"),o=Z(()=>Er(parseFloat(s.value),0,Number(e.length))),i=Z(()=>jo(Number(e.length),1)),c=Z(()=>i.value.flatMap(w=>e.halfIncrements?[w-.5,w]:[w])),A=kt(-1),u=Z(()=>c.value.map(w=>{const b=e.hover&&A.value>-1,B=o.value>=w,S=A.value>=w,N=(b?S:B)?e.fullIcon:e.emptyIcon,k=e.activeColor??e.color,E=B||S?k:e.color;return{isFilled:B,isHovered:S,icon:N,color:E}})),f=Z(()=>[0,...c.value].map(w=>{function b(){A.value=w}function B(){A.value=-1}function S(){e.disabled||e.readonly||(s.value=o.value===w&&e.clearable?0:w)}return{onMouseenter:e.hover?b:void 0,onMouseleave:e.hover?B:void 0,onClick:S}})),m=ys(),v=Z(()=>e.name??`v-rating-${m}`);function h(w){let{value:b,index:B,showStar:S=!0}=w;const{onMouseenter:T,onMouseleave:N,onClick:k}=f.value[B+1],E=`${v.value}-${String(b).replace(".","-")}`,_={color:u.value[B]?.color,density:e.density,disabled:e.disabled,icon:u.value[B]?.icon,ripple:e.ripple,size:e.size,variant:"plain"};return p(ze,null,[p("label",{for:E,class:rt({"v-rating__item--half":e.halfIncrements&&b%1>0,"v-rating__item--full":e.halfIncrements&&b%1===0}),onMouseenter:T,onMouseleave:N,onClick:k},[p("span",{class:"v-rating__hidden"},[r(e.itemAriaLabel,b,e.length)]),S?n.item?n.item({...u.value[B],props:_,value:b,index:B,rating:o.value}):l(Rn,Ne({"aria-label":r(e.itemAriaLabel,b,e.length)},_),null):void 0]),p("input",{class:"v-rating__hidden",name:v.value,id:E,type:"radio",value:b,checked:o.value===b,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function y(w){return n["item-label"]?n["item-label"](w):w.label?p("span",null,[w.label]):p("span",null,[Q("")])}return yt(()=>{const w=!!e.itemLabels?.length||n["item-label"];return l(e.tag,{class:rt(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},a.value,e.class]),style:It(e.style)},{default:()=>[l(h,{value:0,index:-1,showStar:!1},null),i.value.map((b,B)=>p("div",{class:"v-rating__wrapper"},[w&&e.itemLabelPosition==="top"?y({value:b,index:B,label:e.itemLabels?.[B]}):void 0,p("div",{class:"v-rating__item"},[e.halfIncrements?p(ze,null,[l(h,{value:b-.5,index:B*2},null),l(h,{value:b,index:B*2+1},null)]):l(h,{value:b,index:B},null)]),w&&e.itemLabelPosition==="bottom"?y({value:b,index:B,label:e.itemLabels?.[B]}):void 0]))]})}),{}}}),VGe={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function MGe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return p("div",{class:rt(["v-skeleton-loader__bone",`v-skeleton-loader__${e}`])},[t])}function RR(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>p_(t))}function p_(e){let t=[];if(!e)return t;const n=VGe[e];if(e!==n){if(e.includes(","))return NR(e);if(e.includes("@"))return RR(e);n.includes(",")?t=NR(n):n.includes("@")?t=RR(n):n&&t.push(p_(n))}return[MGe(e,t)]}function NR(e){return e.replace(/\s/g,"").split(",").map(p_)}const OGe=et({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...Aa(),...Ba(),...Hn()},"VSkeletonLoader"),QGe=mt()({name:"VSkeletonLoader",inheritAttrs:!1,props:OGe(),setup(e,t){let{attrs:n,slots:r}=t;const{backgroundColorClasses:a,backgroundColorStyles:s}=lr(()=>e.color),{dimensionStyles:o}=fa(e),{elevationClasses:i}=Wa(e),{themeClasses:c}=or(e),{t:A}=ur(),u=Z(()=>p_(Wr(e.type).join(",")));return yt(()=>{const f=!r.default||e.loading,m=e.boilerplate||!f?{}:{ariaLive:"polite",ariaLabel:A(e.loadingText),role:"alert"};return f?p("div",Ne({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},c.value,a.value,i.value],style:[s.value,o.value]},m,n),[u.value]):p(ze,null,[r.default?.()])}),{}}}),HGe=mt()({name:"VSlideGroupItem",props:XA(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=od(e,cI);return()=>n.default?.({isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}});function KGe(e){const t=kt(e());let n=-1;function r(){clearInterval(n)}function a(){r(),An(()=>t.value=e())}function s(o){const i=o?getComputedStyle(o):{transitionDuration:.2},c=parseFloat(i.transitionDuration)*1e3||200;if(r(),t.value<=0)return;const A=performance.now();n=window.setInterval(()=>{const u=performance.now()-A+c;t.value=Math.max(e()-u,0),t.value<=0&&r()},c)}return Ra(r),{clear:r,time:t,start:s,reset:a}}const K7=et({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...lu({location:"bottom"}),...oh(),...Or(),...Ii(),...Hn(),...cr(Mp({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy","stickToTarget"])},"VSnackbar"),_B=mt()({name:"VSnackbar",props:K7(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"modelValue"),{positionClasses:a}=ih(e),{scopeId:s}=ef(),{themeClasses:o}=or(e),{colorClasses:i,colorStyles:c,variantClasses:A}=qA(e),{roundedClasses:u}=qr(e),f=KGe(()=>Number(e.timeout)),m=H(),v=H(),h=kt(!1),y=kt(0),w=H(),b=pn(_v,void 0);hs(()=>!!b,()=>{const I=a5();Mr(()=>{w.value=I.mainStyles.value})}),Ge(r,S),Ge(()=>e.timeout,S),fn(()=>{r.value&&S()});let B=-1;function S(){f.reset(),window.clearTimeout(B);const I=Number(e.timeout);if(!r.value||I===-1)return;const R=fS(v.value);f.start(R),B=window.setTimeout(()=>{r.value=!1},I)}function T(){f.reset(),window.clearTimeout(B)}function N(){h.value=!0,T()}function k(){h.value=!1,S()}function E(I){y.value=I.touches[0].clientY}function _(I){Math.abs(y.value-I.changedTouches[0].clientY)>50&&(r.value=!1)}function C(){h.value&&k()}const F=Z(()=>e.location.split(" ").reduce((I,R)=>(I[`v-snackbar--${R}`]=!0,I),{}));return yt(()=>{const I=Zl.filterProps(e),R=!!(n.default||n.text||e.text);return l(Zl,Ne({ref:m,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},F.value,a.value,e.class],style:[w.value,e.style]},I,{modelValue:r.value,"onUpdate:modelValue":M=>r.value=M,contentProps:Ne({class:["v-snackbar__wrapper",o.value,i.value,u.value,A.value],style:[c.value],onPointerenter:N,onPointerleave:k},I.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:E,onTouchend:_,onAfterLeave:C},s),{default:()=>[gd(!1,"v-snackbar"),e.timer&&!h.value&&p("div",{key:"timer",class:"v-snackbar__timer"},[l(Zw,{ref:v,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,modelValue:f.time.value},null)]),R&&p("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.text?.()??e.text,n.default?.()]),n.actions&&l(Cn,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[p("div",{class:"v-snackbar__actions"},[n.actions({isActive:r})])]})],activator:n.activator})}),ja({},m)}}),GGe=et({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...cr(K7(),["modelValue"])},"VSnackbarQueue"),zGe=mt()({name:"VSnackbarQueue",props:GGe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:a}=ur(),s=kt(!1),o=kt(!1),i=kt();Ge(()=>e.modelValue.length,(m,v)=>{!o.value&&m>v&&A()}),Ge(s,m=>{m&&(o.value=!0)});function c(){e.modelValue.length?A():(i.value=void 0,o.value=!1)}function A(){const[m,...v]=e.modelValue;n("update:modelValue",v),i.value=typeof m=="string"?{text:m}:m,An(()=>{s.value=!0})}function u(){s.value=!1}const f=Z(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:a(e.closeText)}));yt(()=>{const m=!!(e.closable||r.actions),{modelValue:v,...h}=_B.filterProps(e);return p(ze,null,[o.value&&!!i.value&&(r.default?l(Cn,{defaults:{VSnackbar:i.value}},{default:()=>[r.default({item:i.value})]}):l(_B,Ne(h,i.value,{modelValue:s.value,"onUpdate:modelValue":y=>s.value=y,onAfterLeave:c}),{text:r.text?()=>r.text?.({item:i.value}):void 0,actions:m?()=>p(ze,null,[r.actions?l(Cn,{defaults:{VBtn:f.value}},{default:()=>[r.actions({item:i.value,props:{onClick:u}})]}):l(Rn,Ne(f.value,{onClick:u}),null)]):void 0}))])})}}),G7=et({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:[Boolean,String,Number],width:{type:[Number,String],default:300}},"Line"),z7=et({autoLineWidth:Boolean,...G7()},"VBarline"),LR=mt()({name:"VBarline",props:z7(),setup(e,t){let{slots:n}=t;const r=ys(),a=Z(()=>e.id||`barline-${r}`),s=Z(()=>Number(e.autoDrawDuration)||500),o=Z(()=>!!(e.showLabels||e.labels.length>0||n?.label)),i=Z(()=>parseFloat(e.lineWidth)||4),c=Z(()=>Math.max(e.modelValue.length*i.value,Number(e.width))),A=Z(()=>({minX:0,maxX:c.value,minY:0,maxY:parseInt(e.height,10)})),u=Z(()=>e.modelValue.map(w=>la(w,e.itemValue,w)));function f(w,b){const{minX:B,maxX:S,minY:T,maxY:N}=b,k=w.length;let E=e.max!=null?Number(e.max):Math.max(...w),_=e.min!=null?Number(e.min):Math.min(...w);_>0&&e.min==null&&(_=0),E<0&&e.max==null&&(E=0);const C=S/(k===1?2:k),F=(N-T)/(E-_||1),I=N-Math.abs(_*F);return w.map((R,M)=>{const te=Math.abs(F*R);return{x:B+M*C,y:I-te+ +(R<0)*te,height:te,value:R}})}const m=Z(()=>{const w=[],b=f(u.value,A.value),B=b.length;for(let S=0;w.length<B;S++){const T=b[S];let N=e.labels[S];N||(N=typeof T=="object"?T.value:T),w.push({x:T.x,value:String(N)})}return w}),v=Z(()=>f(u.value,A.value)),h=Z(()=>v.value.length===1?(A.value.maxX-i.value)/2:(Math.abs(v.value[0].x-v.value[1].x)-i.value)/2),y=Z(()=>typeof e.smooth=="boolean"?e.smooth?2:0:Number(e.smooth));yt(()=>{const w=e.gradient.slice().length?e.gradient.slice().reverse():[""];return p("svg",{display:"block"},[p("defs",null,[p("linearGradient",{id:a.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[w.map((b,B)=>p("stop",{offset:B/Math.max(w.length-1,1),"stop-color":b||"currentColor"},null))])]),p("clipPath",{id:`${a.value}-clip`},[v.value.map(b=>p("rect",{x:b.x+h.value,y:b.y,width:i.value,height:b.height,rx:y.value,ry:y.value},[e.autoDraw&&!zl()&&p(ze,null,[p("animate",{attributeName:"y",from:b.y+b.height,to:b.y,dur:`${s.value}ms`,fill:"freeze"},null),p("animate",{attributeName:"height",from:"0",to:b.height,dur:`${s.value}ms`,fill:"freeze"},null)])]))]),o.value&&p("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[m.value.map((b,B)=>p("text",{x:b.x+h.value+i.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[n.label?.({index:B,value:b.value})??b.value]))]),p("g",{"clip-path":`url(#${a.value}-clip)`,fill:`url(#${a.value})`},[p("rect",{x:0,y:0,width:Math.max(e.modelValue.length*i.value,Number(e.width)),height:e.height},null)])])})}});function $Ge(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const a=e.shift(),s=e[e.length-1];return(n?`M${a.x} ${r-a.x+2} L${a.x} ${a.y}`:`M${a.x} ${a.y}`)+e.map((o,i)=>{const c=e[i+1],A=e[i-1]||a,u=c&&WGe(c,o,A);if(!c||u)return`L${o.x} ${o.y}`;const f=Math.min(VR(A,o),VR(c,o)),v=f/2<t?f/2:t,h=MR(A,o,v),y=MR(c,o,v);return`L${h.x} ${h.y}S${o.x} ${o.y} ${y.x} ${y.y}`}).join("")+(n?`L${s.x} ${r-a.x+2} Z`:"")}function L1(e){return parseInt(e,10)}function WGe(e,t,n){return L1(e.x+n.x)===L1(2*t.x)&&L1(e.y+n.y)===L1(2*t.y)}function VR(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function MR(e,t,n){const r={x:e.x-t.x,y:e.y-t.y},a=Math.sqrt(r.x*r.x+r.y*r.y),s={x:r.x/a,y:r.y/a};return{x:t.x+s.x*n,y:t.y+s.y*n}}const $7=et({fill:Boolean,...G7()},"VTrendline"),OR=mt()({name:"VTrendline",props:$7(),setup(e,t){let{slots:n}=t;const r=ys(),a=Z(()=>e.id||`trendline-${r}`),s=Z(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),o=H(0),i=H(null);function c(w,b){const{minX:B,maxX:S,minY:T,maxY:N}=b;w.length===1&&(w=[w[0],w[0]]);const k=w.length,E=e.max!=null?Number(e.max):Math.max(...w),_=e.min!=null?Number(e.min):Math.min(...w),C=(S-B)/(k-1),F=(N-T)/(E-_||1);return w.map((I,R)=>({x:B+R*C,y:N-(I-_)*F,value:I}))}const A=Z(()=>!!(e.showLabels||e.labels.length>0||n?.label)),u=Z(()=>parseFloat(e.lineWidth)||4),f=Z(()=>Number(e.width)),m=Z(()=>{const w=Number(e.padding);return{minX:w,maxX:f.value-w,minY:w,maxY:parseInt(e.height,10)-w}}),v=Z(()=>e.modelValue.map(w=>la(w,e.itemValue,w))),h=Z(()=>{const w=[],b=c(v.value,m.value),B=b.length;for(let S=0;w.length<B;S++){const T=b[S];let N=e.labels[S];N||(N=typeof T=="object"?T.value:T),w.push({x:T.x,value:String(N)})}return w});Ge(()=>e.modelValue,async()=>{if(await An(),!e.autoDraw||!i.value||zl())return;const w=i.value,b=w.getTotalLength();e.fill?(w.style.transformOrigin="bottom center",w.style.transition="none",w.style.transform="scaleY(0)",w.getBoundingClientRect(),w.style.transition=`transform ${s.value}ms ${e.autoDrawEasing}`,w.style.transform="scaleY(1)"):(w.style.strokeDasharray=`${b}`,w.style.strokeDashoffset=`${b}`,w.getBoundingClientRect(),w.style.transition=`stroke-dashoffset ${s.value}ms ${e.autoDrawEasing}`,w.style.strokeDashoffset="0"),o.value=b},{immediate:!0});function y(w){const b=typeof e.smooth=="boolean"?e.smooth?8:0:Number(e.smooth);return $Ge(c(v.value,m.value),b,w,parseInt(e.height,10))}yt(()=>{const w=e.gradient.slice().length?e.gradient.slice().reverse():[""];return p("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[p("defs",null,[p("linearGradient",{id:a.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[w.map((b,B)=>p("stop",{offset:B/Math.max(w.length-1,1),"stop-color":b||"currentColor"},null))])]),A.value&&p("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[h.value.map((b,B)=>p("text",{x:b.x+u.value/2+u.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[n.label?.({index:B,value:b.value})??b.value]))]),p("path",{ref:i,d:y(e.fill),fill:e.fill?`url(#${a.value})`:"none",stroke:e.fill?"none":`url(#${a.value})`},null),e.fill&&p("path",{d:y(!1),fill:"none",stroke:e.color??e.gradient?.[0]},null)])})}}),jGe=et({type:{type:String,default:"trend"},...z7(),...$7()},"VSparkline"),JGe=mt()({name:"VSparkline",props:jGe(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:a}=os(()=>e.color),s=Z(()=>!!(e.showLabels||e.labels.length>0||n?.label)),o=Z(()=>{let i=parseInt(e.height,10);return s.value&&(i+=parseInt(e.labelSize,10)*1.5),i});yt(()=>{const i=e.type==="trend"?OR:LR,c=e.type==="trend"?OR.filterProps(e):LR.filterProps(e);return l(i,Ne({key:e.type,class:r.value,style:a.value,viewBox:`0 0 ${e.width} ${parseInt(o.value,10)}`},c),n)})}}),qGe=et({...Gt(),...x9({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),YGe=mt()({name:"VSpeedDial",props:qGe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"modelValue"),a=H(),s=Z(()=>{const[i,c="center"]=e.location?.split(" ")??[];return`${i} ${c}`}),o=Z(()=>({[`v-speed-dial__content--${s.value.replace(" ","-")}`]:!0}));return yt(()=>{const i=Mm.filterProps(e);return l(Mm,Ne(i,{modelValue:r.value,"onUpdate:modelValue":c=>r.value=c,class:e.class,style:e.style,contentClass:["v-speed-dial__content",o.value,e.contentClass],location:s.value,ref:a,transition:"fade-transition"}),{...n,default:c=>l(Cn,{defaults:{VBtn:{size:"small"}}},{default:()=>[l(Vs,{appear:!0,group:!0,transition:e.transition},{default:()=>[n.default?.(c)]})]})})}),{}}}),OI=Symbol.for("vuetify:v-stepper"),W7=et({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),j7=mt()({name:"VStepperActions",props:W7(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:a}=ur();function s(){n("click:prev")}function o(){n("click:next")}return yt(()=>{const i={onClick:s},c={onClick:o};return p("div",{class:"v-stepper-actions"},[l(Cn,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:a(e.prevText),variant:"text"}}},{default:()=>[r.prev?.({props:i})??l(Rn,i,null)]}),l(Cn,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:a(e.nextText),variant:"tonal"}}},{default:()=>[r.next?.({props:c})??l(Rn,c,null)]})])}),{}}}),J7=ru("v-stepper-header"),XGe=et({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:qt,default:"$complete"},editable:Boolean,editIcon:{type:qt,default:"$edit"},error:Boolean,errorIcon:{type:qt,default:"$error"},icon:qt,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),ZGe=et({...XGe(),...XA()},"VStepperItem"),q7=mt()({name:"VStepperItem",directives:{vRipple:Gs},props:ZGe(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=od(e,OI,!0),a=Z(()=>r?.value.value??e.value),s=Z(()=>e.rules.every(m=>m()===!0)),o=Z(()=>!e.disabled&&e.editable),i=Z(()=>!e.disabled&&e.editable),c=Z(()=>e.error||!s.value),A=Z(()=>e.complete||e.rules.length>0&&s.value),u=Z(()=>c.value?e.errorIcon:A.value?e.completeIcon:r.isSelected.value&&e.editable?e.editIcon:e.icon),f=Z(()=>({canEdit:i.value,hasError:c.value,hasCompleted:A.value,title:e.title,subtitle:e.subtitle,step:a.value,value:e.value}));return yt(()=>{const m=(!r||r.isSelected.value||A.value||i.value)&&!c.value&&!e.disabled,v=!!(e.title!=null||n.title),h=!!(e.subtitle!=null||n.subtitle);function y(){r?.toggle()}return Tr(p("button",{class:rt(["v-stepper-item",{"v-stepper-item--complete":A.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":c.value},r?.selectedClass.value]),disabled:!e.editable,type:"button",onClick:y},[o.value&&gd(!0,"v-stepper-item"),l(ei,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:m?e.color:void 0,size:24},{default:()=>[n.icon?.(f.value)??(u.value?l(Xn,{icon:u.value},null):a.value)]}),p("div",{class:"v-stepper-item__content"},[v&&p("div",{key:"title",class:"v-stepper-item__title"},[n.title?.(f.value)??e.title]),h&&p("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[n.subtitle?.(f.value)??e.subtitle]),n.default?.(f.value)])]),[[Gs,e.editable&&e.ripple,null]])}),{}}}),eze=et({...cr(s_(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),Y7=mt()({name:"VStepperWindow",props:eze(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=pn(OI,null),a=en(e,"modelValue"),s=Z({get(){return a.value!=null||!r?a.value:r.items.value.find(o=>r.selected.value.includes(o.id))?.value},set(o){a.value=o}});return yt(()=>{const o=SA.filterProps(e);return l(SA,Ne({_as:"VStepperWindow"},o,{modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),tze=et({...o_()},"VStepperWindowItem"),X7=mt()({name:"VStepperWindowItem",props:tze(),setup(e,t){let{slots:n}=t;return yt(()=>{const r=kA.filterProps(e);return l(kA,Ne({_as:"VStepperWindowItem"},r,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),nze=et({altLabels:Boolean,bgColor:String,completeIcon:qt,editIcon:qt,editable:Boolean,errorIcon:qt,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...MA()},"Stepper"),rze=et({...nze(),...YA({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...EI(),...Do(W7(),["prevText","nextText"])},"VStepper"),aze=mt()({name:"VStepper",props:rze(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:r,next:a,prev:s,selected:o}=yd(e,OI),{displayClasses:i,mobile:c}=ni(e),{completeIcon:A,editIcon:u,errorIcon:f,color:m,editable:v,prevText:h,nextText:y}=VA(e),w=Z(()=>e.items.map((S,T)=>{const N=la(S,e.itemTitle,S),k=la(S,e.itemValue,T+1);return{title:N,value:k,raw:S}})),b=Z(()=>r.value.findIndex(S=>o.value.includes(S.id))),B=Z(()=>e.disabled?e.disabled:b.value===0?"prev":b.value===r.value.length-1?"next":!1);return jr({VStepperItem:{editable:v,errorIcon:f,completeIcon:A,editIcon:u,prevText:h,nextText:y},VStepperActions:{color:m,disabled:B,prevText:h,nextText:y}}),yt(()=>{const S=Jv.filterProps(e),T=!!(n.header||e.items.length),N=e.items.length>0,k=!e.hideActions&&!!(N||n.actions);return l(Jv,Ne(S,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":c.value},i.value,e.class],style:e.style}),{default:()=>[T&&l(J7,{key:"stepper-header"},{default:()=>[w.value.map((E,_)=>{let{raw:C,...F}=E;return p(ze,null,[!!_&&l(qo,null,null),l(q7,F,{default:n[`header-item.${F.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),N&&l(Y7,{key:"stepper-window"},{default:()=>[w.value.map(E=>l(X7,{value:E.value},{default:()=>n[`item.${E.value}`]?.(E)??n.item?.(E)}))]}),n.default?.({prev:s,next:a}),k&&(n.actions?.({next:a,prev:s})??l(j7,{key:"stepper-actions","onClick:prev":s,"onClick:next":a},n))]})}),{prev:s,next:a}}}),sze=et({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...uu(),...n_()},"VSwitch"),oze=mt()({name:"VSwitch",inheritAttrs:!1,props:sze(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const a=en(e,"indeterminate"),s=en(e,"modelValue"),{loaderClasses:o}=Up(e),{isFocused:i,focus:c,blur:A}=cu(e),u=H(),f=H(),m=AS&&window.matchMedia("(forced-colors: active)").matches,v=Qe(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),h=ys(),y=Qe(()=>e.id||`switch-${h}`);function w(){a.value&&(a.value=!1)}function b(B){B.stopPropagation(),B.preventDefault(),u.value?.input?.click()}return yt(()=>{const[B,S]=md(n),T=gs.filterProps(e),N=id.filterProps(e);return l(gs,Ne({ref:f,class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":a.value},o.value,e.class]},B,T,{modelValue:s.value,"onUpdate:modelValue":k=>s.value=k,id:y.value,focused:i.value,style:e.style}),{...r,default:k=>{let{id:E,messagesId:_,isDisabled:C,isReadonly:F,isValid:I}=k;const R={model:s,isValid:I};return l(id,Ne({ref:u},N,{modelValue:s.value,"onUpdate:modelValue":[M=>s.value=M,w],id:E.value,"aria-describedby":_.value,type:"checkbox","aria-checked":a.value?"mixed":void 0,disabled:C.value,readonly:F.value,onFocus:c,onBlur:A},S),{...r,default:M=>{let{backgroundColorClasses:te,backgroundColorStyles:se}=M;return p("div",{class:rt(["v-switch__track",m?void 0:te.value]),style:It(se.value),onClick:b},[r["track-true"]&&p("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](R)]),r["track-false"]&&p("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](R)])])},input:M=>{let{inputNode:te,icon:se,backgroundColorClasses:O,backgroundColorStyles:W}=M;return p(ze,null,[te,p("div",{class:rt(["v-switch__thumb",{"v-switch__thumb--filled":se||e.loading},e.inset||m?void 0:O.value]),style:It(e.inset?void 0:W.value)},[r.thumb?l(Cn,{defaults:{VIcon:{icon:se,size:"x-small"}}},{default:()=>[r.thumb({...R,icon:se})]}):l(rI,null,{default:()=>[e.loading?l(Rp,{name:"v-switch",active:!0,color:I.value===!1?void 0:v.value},{default:le=>r.loader?r.loader(le):l(BA,{active:le.isActive,color:le.color,indeterminate:!0,size:"16",width:"2"},null)}):se&&l(Xn,{key:String(se),icon:se,size:"x-small"},null)]})])])}})}})}),ja({},f)}}),ize=et({color:String,height:[Number,String],window:Boolean,...Gt(),...Ba(),...OA(),...Or(),...gn(),...Hn()},"VSystemBar"),lze=mt()({name:"VSystemBar",props:ize(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=or(e),{backgroundColorClasses:a,backgroundColorStyles:s}=lr(()=>e.color),{elevationClasses:o}=Wa(e),{roundedClasses:i}=qr(e),{ssrBootStyles:c}=JA(),A=Z(()=>e.height??(e.window?32:24)),{layoutItemStyles:u}=QA({id:e.name,order:Z(()=>parseInt(e.order,10)),position:kt("top"),layoutSize:A,elementSize:A,active:Z(()=>!0),absolute:Qe(()=>e.absolute)});return yt(()=>l(e.tag,{class:rt(["v-system-bar",{"v-system-bar--window":e.window},r.value,a.value,o.value,i.value,e.class]),style:It([s.value,u.value,c.value,e.style])},n)),{}}}),QI=Symbol.for("vuetify:v-tabs"),Z7=et({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...cr(t_({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),eK=mt()({name:"VTab",props:Z7(),setup(e,t){let{slots:n,attrs:r}=t;const{textColorClasses:a,textColorStyles:s}=os(()=>e.sliderColor),o=H(),i=H(),c=Z(()=>e.direction==="horizontal"),A=Z(()=>o.value?.group?.isSelected.value??!1);function u(f){let{value:m}=f;if(m){const v=o.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),h=i.value;if(!v||!h)return;const y=getComputedStyle(v).color,w=v.getBoundingClientRect(),b=h.getBoundingClientRect(),B=c.value?"x":"y",S=c.value?"X":"Y",T=c.value?"right":"bottom",N=c.value?"width":"height",k=w[B],E=b[B],_=k>E?w[T]-b[T]:w[B]-b[B],C=Math.sign(_)>0?c.value?"right":"bottom":Math.sign(_)<0?c.value?"left":"top":"center",I=(Math.abs(_)+(Math.sign(_)<0?w[N]:b[N]))/Math.max(w[N],b[N])||0,R=w[N]/b[N]||0,M=1.5;Fc(h,{backgroundColor:[y,"currentcolor"],transform:[`translate${S}(${_}px) scale${S}(${R})`,`translate${S}(${_/M}px) scale${S}(${(I-1)/M+1})`,"none"],transformOrigin:Array(3).fill(C)},{duration:225,easing:pv})}}return yt(()=>{const f=Rn.filterProps(e);return l(Rn,Ne({symbol:QI,ref:o,class:["v-tab",e.class],style:e.style,tabindex:A.value?0:-1,role:"tab","aria-selected":String(A.value),active:!1},f,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":u}),{...n,default:()=>p(ze,null,[n.default?.()??e.text,!e.hideSlider&&p("div",{ref:i,class:rt(["v-tab__slider",a.value]),style:It(s.value)},null)])})}),ja({},o)}}),cze=et({...cr(s_(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),tK=mt()({name:"VTabsWindow",props:cze(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=pn(QI,null),a=en(e,"modelValue"),s=Z({get(){return a.value!=null||!r?a.value:r.items.value.find(o=>r.selected.value.includes(o.id))?.value},set(o){a.value=o}});return yt(()=>{const o=SA.filterProps(e);return l(SA,Ne({_as:"VTabsWindow"},o,{modelValue:s.value,"onUpdate:modelValue":i=>s.value=i,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),uze=et({...o_()},"VTabsWindowItem"),nK=mt()({name:"VTabsWindowItem",props:uze(),setup(e,t){let{slots:n}=t;return yt(()=>{const r=kA.filterProps(e);return l(kA,Ne({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function dze(e){return e?e.map(t=>vv(t)?t:{text:t,value:t}):[]}const Aze=et({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Do(Z7(),["spaced"]),...uI({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ra(),...gn()},"VTabs"),fze=mt()({name:"VTabs",props:Aze(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const a=en(e,"modelValue"),s=Z(()=>dze(e.items)),{densityClasses:o}=$s(e),{backgroundColorClasses:i,backgroundColorStyles:c}=lr(()=>e.bgColor),{scopeId:A}=ef();return jr({VTab:{color:Qe(()=>e.color),direction:Qe(()=>e.direction),stacked:Qe(()=>e.stacked),fixed:Qe(()=>e.fixedTabs),sliderColor:Qe(()=>e.sliderColor),hideSlider:Qe(()=>e.hideSlider)}}),yt(()=>{const u=$v.filterProps(e),f=!!(r.window||e.items.length>0);return p(ze,null,[l($v,Ne(u,{modelValue:a.value,"onUpdate:modelValue":m=>a.value=m,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,i.value,e.class],style:[{"--v-tabs-height":Mt(e.height)},c.value,e.style],role:"tablist",symbol:QI},A,n),{default:()=>[r.default?.()??s.value.map(m=>r.tab?.({item:m})??l(eK,Ne(m,{key:m.text,value:m.value,spaced:e.spaced}),{default:r[`tab.${m.value}`]?()=>r[`tab.${m.value}`]?.({item:m}):void 0}))]}),f&&l(tK,Ne({modelValue:a.value,"onUpdate:modelValue":m=>a.value=m,key:"tabs-window"},A),{default:()=>[s.value.map(m=>r.item?.({item:m})??l(nK,{value:m.value},{default:()=>r[`item.${m.value}`]?.({item:m})})),r.window?.()]})])}),{}}}),mze=et({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...C9(),...uu(),...Op()},"VTextarea"),hze=mt()({name:"VTextarea",directives:{vIntersect:cl},inheritAttrs:!1,props:mze(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,"update:rows":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:a}=t;const s=en(e,"modelValue"),{isFocused:o,focus:i,blur:c}=cu(e),{onIntersect:A}=B9(e),u=Z(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),f=Z(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),m=H(),v=H(),h=kt(""),y=H(),w=H(0),{platform:b}=ni(),B=E9(e),S=Z(()=>e.persistentPlaceholder||o.value||e.active);function T(){B.isSuppressing.value&&B.update(),y.value!==document.activeElement&&y.value?.focus(),o.value||i()}function N(te){T(),r("click:control",te)}function k(te){r("mousedown:control",te)}function E(te){te.stopPropagation(),T(),An(()=>{s.value="",sp(e["onClick:clear"],te)})}function _(te){const se=te.target;if(s.value=se.value,e.modelModifiers?.trim){const O=[se.selectionStart,se.selectionEnd];An(()=>{se.selectionStart=O[0],se.selectionEnd=O[1]})}}const C=H(),F=H(Number(e.rows)),I=Z(()=>["plain","underlined"].includes(e.variant));Mr(()=>{e.autoGrow||(F.value=Number(e.rows))});function R(){An(()=>{if(!y.value)return;if(b.value.firefox){w.value=12;return}const{offsetWidth:te,clientWidth:se}=y.value;w.value=Math.max(0,te-se)}),e.autoGrow&&An(()=>{if(!C.value||!v.value)return;const te=getComputedStyle(C.value),se=getComputedStyle(v.value.$el),O=parseFloat(te.getPropertyValue("--v-field-padding-top"))+parseFloat(te.getPropertyValue("--v-input-padding-top"))+parseFloat(te.getPropertyValue("--v-field-padding-bottom")),W=C.value.scrollHeight,le=parseFloat(te.lineHeight),K=Math.max(parseFloat(e.rows)*le+O,parseFloat(se.getPropertyValue("--v-input-control-height"))),ee=parseFloat(e.maxRows)*le+O||1/0,j=Er(W??0,K,ee);F.value=Math.floor((j-O)/le),h.value=Mt(j)})}fn(R),Ge(s,R),Ge(()=>e.rows,R),Ge(()=>e.maxRows,R),Ge(()=>e.density,R),Ge(F,te=>{r("update:rows",te)});let M;return Ge(C,te=>{te?(M=new ResizeObserver(R),M.observe(C.value)):M?.disconnect()}),Br(()=>{M?.disconnect()}),yt(()=>{const te=!!(a.counter||e.counter||e.counterValue),se=!!(te||a.details),[O,W]=md(n),{modelValue:le,...K}=gs.filterProps(e),ee={...ld.filterProps(e),"onClick:clear":E};return l(gs,Ne({ref:m,modelValue:s.value,"onUpdate:modelValue":j=>s.value=j,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":I.value},e.class],style:[{"--v-textarea-scroll-bar-width":Mt(w.value)},e.style]},O,K,{centerAffix:F.value===1&&!I.value,focused:o.value}),{...a,default:j=>{let{id:U,isDisabled:G,isDirty:ne,isReadonly:X,isValid:oe,hasDetails:q}=j;return l(ld,Ne({ref:v,style:{"--v-textarea-control-height":h.value},onClick:N,onMousedown:k,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},ee,{id:U.value,active:S.value||ne.value,centerAffix:F.value===1&&!I.value,dirty:ne.value||e.dirty,disabled:G.value,focused:o.value,details:q.value,error:oe.value===!1}),{...a,default:Y=>{let{props:{class:ae,...ge},controlRef:we}=Y;return p(ze,null,[e.prefix&&p("span",{class:"v-text-field__prefix"},[e.prefix]),Tr(p("textarea",Ne({ref:z=>y.value=we.value=z,class:ae,value:s.value,onInput:_,autofocus:e.autofocus,readonly:X.value,disabled:G.value,placeholder:e.placeholder,rows:e.rows,name:B.fieldName.value,autocomplete:B.fieldAutocomplete.value,onFocus:T,onBlur:c},ge,W),null),[[cl,{handler:A},null,{once:!0}]]),e.autoGrow&&Tr(p("textarea",{class:rt([ae,"v-textarea__sizer"]),id:`${ge.id}-sizer`,"onUpdate:modelValue":z=>s.value=z,ref:C,readonly:!0,"aria-hidden":"true"},null),[[gZ,s.value]]),e.suffix&&p("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:se?j=>p(ze,null,[a.details?.(j),te&&p(ze,null,[p("span",null,null),l(r_,{active:e.persistentCounter||o.value,value:u.value,max:f.value,disabled:e.disabled},a.counter)])]):void 0})}),ja({},m,v,y)}}),vze=et({withBackground:Boolean,...Gt(),...Hn(),...gn()},"VThemeProvider"),pze=mt()({name:"VThemeProvider",props:vze(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=or(e);return()=>e.withBackground?l(e.tag,{class:rt(["v-theme-provider",r.value,e.class]),style:It(e.style)},{default:()=>[n.default?.()]}):n.default?.()}}),gze=et({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:qt,iconColor:String,lineColor:String,...Gt(),...Or(),...uc(),...Ba()},"VTimelineDivider"),yze=mt()({name:"VTimelineDivider",props:gze(),setup(e,t){let{slots:n}=t;const{sizeClasses:r,sizeStyles:a}=sh(e,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:o}=lr(()=>e.dotColor),{roundedClasses:i}=qr(e,"v-timeline-divider__dot"),{elevationClasses:c}=Wa(e),{backgroundColorClasses:A,backgroundColorStyles:u}=lr(()=>e.lineColor);return yt(()=>p("div",{class:rt(["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class]),style:It(e.style)},[p("div",{class:rt(["v-timeline-divider__before",A.value]),style:It(u.value)},null),!e.hideDot&&p("div",{key:"dot",class:rt(["v-timeline-divider__dot",c.value,i.value,r.value]),style:It(a.value)},[p("div",{class:rt(["v-timeline-divider__inner-dot",o.value,i.value]),style:It(s.value)},[n.default?l(Cn,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):l(Xn,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),p("div",{class:rt(["v-timeline-divider__after",A.value]),style:It(u.value)},null)])),{}}}),rK=et({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:qt,iconColor:String,lineInset:[Number,String],side:{type:String,validator:e=>e==null||["start","end"].includes(e)},...Gt(),...Aa(),...Ba(),...Or(),...uc(),...gn()},"VTimelineItem"),wze=mt()({name:"VTimelineItem",props:rK(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=fa(e),a=kt(0),s=H();return Ge(s,o=>{o&&(a.value=o.$el.querySelector(".v-timeline-divider__dot")?.getBoundingClientRect().width??0)},{flush:"post"}),yt(()=>p("div",{class:rt(["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot,"v-timeline-item--side-start":e.side==="start","v-timeline-item--side-end":e.side==="end"},e.class]),style:It([{"--v-timeline-dot-size":Mt(a.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Mt(e.lineInset)})`:Mt(0)},e.style])},[p("div",{class:"v-timeline-item__body",style:It(r.value)},[n.default?.()]),l(yze,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&p("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&n.opposite?.()])])),{}}}),_ze=et({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Do(rK({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Gt(),...ra(),...gn(),...Hn()},"VTimeline"),bze=mt()({name:"VTimeline",props:_ze(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=or(e),{densityClasses:a}=$s(e),{rtlClasses:s}=Ea();jr({VTimelineDivider:{lineColor:Qe(()=>e.lineColor)},VTimelineItem:{density:Qe(()=>e.density),dotColor:Qe(()=>e.dotColor),fillDot:Qe(()=>e.fillDot),hideOpposite:Qe(()=>e.hideOpposite),iconColor:Qe(()=>e.iconColor),lineColor:Qe(()=>e.lineColor),lineInset:Qe(()=>e.lineInset),size:Qe(()=>e.size)}});const o=Z(()=>{const c=e.side?e.side:e.density!=="default"?"end":null;return c&&`v-timeline--side-${c}`}),i=Z(()=>{const c=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return c;case"start":return c[0];case"end":return c[1];default:return null}});return yt(()=>l(e.tag,{class:rt(["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,i.value,{"v-timeline--inset-line":!!e.lineInset},r.value,a.value,o.value,s.value,e.class]),style:It([{"--v-timeline-line-thickness":Mt(e.lineThickness)},e.style])},n)),{}}});function eA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(t,"0")}const xze=et({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),bB=mt()({name:"VTimePickerClock",props:xze(),emits:{change:e=>!0,input:e=>!0},setup(e,t){let{emit:n}=t;const r=H(null),a=H(null),s=H(void 0),o=H(!1),i=H(null),c=H(null),A=S6(K=>n("change",K),750),{textColorClasses:u,textColorStyles:f}=os(()=>e.color),{backgroundColorClasses:m,backgroundColorStyles:v}=lr(()=>e.color),h=Z(()=>e.max-e.min+1),y=Z(()=>e.double?h.value/2:h.value),w=Z(()=>360/y.value),b=Z(()=>w.value*Math.PI/180),B=Z(()=>e.modelValue==null?e.min:e.modelValue),S=Z(()=>.62),T=Z(()=>{const K=[];for(let ee=e.min;ee<=e.max;ee=ee+e.step)K.push(ee);return K});Ge(()=>e.modelValue,K=>{s.value=K});function N(K){s.value!==K&&(s.value=K),n("input",K)}function k(K){return!e.allowedValues||e.allowedValues(K)}function E(K){if(!e.scrollable||e.disabled)return;K.preventDefault();const ee=Math.sign(-K.deltaY||1);let j=B.value;do j=j+ee,j=(j-e.min+h.value)%h.value+e.min;while(!k(j)&&j!==B.value);j!==e.displayedValue&&N(j),A(j)}function _(K){return e.double&&K-e.min>=y.value}function C(K){return _(K)?S.value:1}function F(K){const ee=e.rotate*Math.PI/180;return{x:Math.sin((K-e.min)*b.value+ee)*C(K),y:-Math.cos((K-e.min)*b.value+ee)*C(K)}}function I(K,ee){const j=(Math.round(K/w.value)+(ee?y.value:0))%h.value+e.min;return K<360-w.value/2?j:ee?e.max-y.value+1:e.min}function R(K){const{x:ee,y:j}=F(K);return{left:`${Math.round(50+ee*50)}%`,top:`${Math.round(50+j*50)}%`}}function M(K,ee){const j=ee.x-K.x,U=ee.y-K.y;return Math.sqrt(j*j+U*U)}function te(K,ee){const j=2*Math.atan2(ee.y-K.y-M(K,ee),ee.x-K.x);return Math.abs(j*180/Math.PI)}function se(K){i.value===null&&(i.value=K),c.value=K,N(K)}function O(K){if(K.preventDefault(),!o.value&&K.type!=="click"||!r.value)return;const{width:ee,top:j,left:U}=r.value?.getBoundingClientRect(),{width:G}=a.value?.getBoundingClientRect()??{width:0},{clientX:ne,clientY:X}="touches"in K?K.touches[0]:K,oe={x:ee/2,y:-ee/2},q={x:ne-U,y:j-X},Y=Math.round(te(oe,q)-e.rotate+360)%360,ae=e.double&&M(oe,q)<(G+G*S.value)/4,ge=Math.ceil(15/w.value);let we;for(let z=0;z<ge;z++)if(we=I(Y+z*w.value,ae),k(we)||(we=I(Y-z*w.value,ae),k(we)))return se(we)}function W(K){e.disabled||(K.preventDefault(),window.addEventListener("mousemove",O),window.addEventListener("touchmove",O),window.addEventListener("mouseup",le),window.addEventListener("touchend",le),i.value=null,c.value=null,o.value=!0,O(K))}function le(K){K.stopPropagation(),window.removeEventListener("mousemove",O),window.removeEventListener("touchmove",O),window.removeEventListener("mouseup",le),window.removeEventListener("touchend",le),o.value=!1,c.value!==null&&k(c.value)&&n("change",c.value)}yt(()=>p("div",{class:rt([{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":e.modelValue==null,"v-time-picker-clock--readonly":e.readonly}]),onMousedown:W,onTouchstart:W,onWheel:E,ref:r},[p("div",{class:"v-time-picker-clock__inner",ref:a},[p("div",{class:rt([{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":_(e.modelValue)},u.value]),style:It([{transform:`rotate(${e.rotate+w.value*(B.value-e.min)}deg) scaleY(${C(B.value)})`},f.value])},null),T.value.map(K=>{const ee=K===B.value;return p("div",{class:rt([{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":ee,"v-time-picker-clock__item--disabled":e.disabled||!k(K)},ee&&m.value]),style:It([R(K),ee&&v.value])},[p("span",null,[e.format(K)])])})])]))}}),Cze=et({ampm:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,value:Number,viewMode:String},"VTimePickerControls"),xB=mt()({name:"VTimePickerControls",props:Cze(),emits:{"update:period":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:a}=ur();return yt(()=>{let s=e.hour;return e.ampm&&(s=s?(s-1)%12+1:12),p("div",{class:"v-time-picker-controls"},[p("div",{class:rt({"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":e.useSeconds})},[l(Rn,{active:e.viewMode==="hour",color:e.viewMode==="hour"?e.color:void 0,disabled:e.disabled,variant:"tonal",class:rt({"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds}),text:e.hour==null?"--":eA(`${s}`),onClick:()=>n("update:viewMode","hour")},null),p("span",{class:rt(["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}])},[Q(":")]),l(Rn,{active:e.viewMode==="minute",color:e.viewMode==="minute"?e.color:void 0,class:rt({"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.viewMode==="minute","v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds}),disabled:e.disabled,variant:"tonal",text:e.minute==null?"--":eA(e.minute),onClick:()=>n("update:viewMode","minute")},null),e.useSeconds&&p("span",{class:rt(["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}]),key:"secondsDivider"},[Q(":")]),e.useSeconds&&l(Rn,{key:"secondsVal",active:e.viewMode==="second",color:e.viewMode==="second"?e.color:void 0,variant:"tonal",onClick:()=>n("update:viewMode","second"),class:rt({"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.viewMode==="second","v-time-picker-controls__time--with-seconds__btn":e.useSeconds}),disabled:e.disabled,text:e.second==null?"--":eA(e.second)},null),e.ampm&&p("div",{class:"v-time-picker-controls__ampm"},[l(Rn,{active:e.period==="am",color:e.period==="am"?e.color:void 0,class:rt({"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="am"}),disabled:e.disabled,text:a("$vuetify.timePicker.am"),variant:e.disabled&&e.period==="am"?"elevated":"tonal",onClick:()=>e.period!=="am"?n("update:period","am"):null},null),l(Rn,{active:e.period==="pm",color:e.period==="pm"?e.color:void 0,class:rt({"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="pm"}),disabled:e.disabled,text:a("$vuetify.timePicker.pm"),variant:e.disabled&&e.period==="pm"?"elevated":"tonal",onClick:()=>e.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),Eze=jo(24),aK=jo(12),Bze=aK.map(e=>e+12);jo(60);const Sze=et({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,viewMode:{type:String,default:"hour"},period:{type:String,default:"am",validator:e=>["am","pm"].includes(e)},modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...cr(i_({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),kze=mt()({name:"VTimePicker",props:Sze(),emits:{"update:hour":e=>!0,"update:minute":e=>!0,"update:period":e=>!0,"update:second":e=>!0,"update:modelValue":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:a}=ur(),s=H(null),o=H(null),i=H(null),c=H(null),A=H(null),u=H(null),f=en(e,"period","am"),m=en(e,"viewMode","hour"),v=H(null),h=H(null),y=Z(()=>{let R;if(e.allowedHours instanceof Array?R=se=>e.allowedHours.includes(se):R=e.allowedHours,!e.min&&!e.max)return R;const M=e.min?Number(e.min.split(":")[0]):0,te=e.max?Number(e.max.split(":")[0]):23;return se=>se>=Number(M)&&se<=Number(te)&&(!R||R(se))}),w=Z(()=>{let R;const M=!y.value||s.value===null||y.value(s.value);if(e.allowedMinutes instanceof Array?R=ee=>e.allowedMinutes.includes(ee):R=e.allowedMinutes,!e.min&&!e.max)return M?R:()=>!1;const[te,se]=e.min?e.min.split(":").map(Number):[0,0],[O,W]=e.max?e.max.split(":").map(Number):[23,59],le=te*60+Number(se),K=O*60+Number(W);return ee=>{const j=60*s.value+ee;return j>=le&&j<=K&&M&&(!R||R(ee))}}),b=Z(()=>{let R;const te=(!y.value||s.value===null||y.value(s.value))&&(!w.value||o.value===null||w.value(o.value));if(e.allowedSeconds instanceof Array?R=G=>e.allowedSeconds.includes(G):R=e.allowedSeconds,!e.min&&!e.max)return te?R:()=>!1;const[se,O,W]=e.min?e.min.split(":").map(Number):[0,0,0],[le,K,ee]=e.max?e.max.split(":").map(Number):[23,59,59],j=se*3600+O*60+Number(W||0),U=le*3600+K*60+Number(ee||0);return G=>{const ne=3600*s.value+60*o.value+G;return ne>=j&&ne<=U&&te&&(!R||R(G))}}),B=Z(()=>e.format==="ampm");Ge(()=>e.period,R=>C(R)),Ge(()=>e.modelValue,R=>E(R)),fn(()=>{E(e.modelValue)});function S(){return s.value!=null&&o.value!=null&&(!e.useSeconds||i.value!=null)?`${eA(s.value)}:${eA(o.value)}`+(e.useSeconds?`:${eA(i.value)}`:""):null}function T(){const R=S();R!==null&&n("update:modelValue",R)}function N(R){return R?(R-1)%12+1:12}function k(R,M){return R%12+(M==="pm"?12:0)}function E(R){if(R==null||R==="")s.value=null,o.value=null,i.value=null;else if(R instanceof Date)s.value=R.getHours(),o.value=R.getMinutes(),i.value=R.getSeconds();else{const[M,,te,,se,O]=R.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);s.value=O?k(parseInt(M,10),O):parseInt(M,10),o.value=parseInt(te,10),i.value=parseInt(se||0,10)}f.value=s.value==null||s.value<12?"am":"pm"}function _(R,M){const te=y.value;if(!te)return M;const se=B.value?M<12?aK:Bze:Eze;return((se.find(W=>te((W+M)%se.length+se[0]))||0)+M)%se.length+se[0]}function C(R){if(f.value=R,s.value!=null){const M=s.value+(f.value==="am"?-12:12);s.value=_("hour",M)}return n("update:period",R),T(),!0}function F(R){m.value==="hour"?s.value=B.value?k(R,f.value):R:m.value==="minute"?o.value=R:i.value=R}function I(R){switch(m.value||"hour"){case"hour":n("update:hour",R);break;case"minute":n("update:minute",R);break;case"second":n("update:second",R);break}const M=s.value!==null&&o.value!==null&&(e.useSeconds?i.value!==null:!0);m.value==="hour"?m.value="minute":e.useSeconds&&m.value==="minute"&&(m.value="second"),!(s.value===c.value&&o.value===A.value&&(!e.useSeconds||i.value===u.value)||S()===null)&&(c.value=s.value,A.value=o.value,e.useSeconds&&(u.value=i.value),M&&T())}yt(()=>{const R=Om.filterProps(e),M=xB.filterProps(e),te=bB.filterProps(cr(e,["format","modelValue","min","max"]));return l(Om,Ne(R,{color:void 0,class:["v-time-picker",e.class],style:e.style}),{title:()=>r.title?.()??p("div",{class:"v-time-picker__title"},[a(e.title)]),header:()=>l(xB,Ne(M,{ampm:B.value,hour:s.value,minute:o.value,period:f.value,second:i.value,viewMode:m.value,"onUpdate:period":se=>C(se),"onUpdate:viewMode":se=>m.value=se,ref:v}),null),default:()=>l(bB,Ne(te,{allowedValues:m.value==="hour"?y.value:m.value==="minute"?w.value:b.value,double:m.value==="hour"&&!B.value,format:m.value==="hour"?B.value?N:se=>se:se=>eA(se,2),max:m.value==="hour"?B.value&&f.value==="am"?11:23:59,min:m.value==="hour"&&B.value&&f.value==="pm"?12:0,size:20,step:m.value==="hour"?1:5,modelValue:m.value==="hour"?s.value:m.value==="minute"?o.value:i.value,onChange:I,onInput:F,ref:h}),null),actions:r.actions})})}}),Ize=et({...Gt(),...Ii({variant:"text"})},"VToolbarItems"),Tze=mt()({name:"VToolbarItems",props:Ize(),setup(e,t){let{slots:n}=t;return jr({VBtn:{color:Qe(()=>e.color),height:"inherit",variant:Qe(()=>e.variant)}}),yt(()=>p("div",{class:rt(["v-toolbar-items",e.class]),style:It(e.style)},[n.default?.()])),{}}}),Fze=et({id:String,interactive:Boolean,text:String,...cr(Mp({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),sK=mt()({name:"VTooltip",props:Fze(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=en(e,"modelValue"),{scopeId:a}=ef(),s=ys(),o=Qe(()=>e.id||`v-tooltip-${s}`),i=H(),c=Z(()=>e.location.split(" ").length>1?e.location:e.location+" center"),A=Z(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),u=Qe(()=>e.transition!=null?e.transition:r.value?"scale-transition":"fade-transition"),f=Z(()=>Ne({"aria-describedby":o.value},e.activatorProps));return yt(()=>{const m=Zl.filterProps(e);return l(Zl,Ne({ref:i,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:o.value},m,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,transition:u.value,absolute:!0,location:c.value,origin:A.value,persistent:!0,role:"tooltip",activatorProps:f.value,_disableGlobalStack:!0},a),{activator:n.activator,default:function(){for(var v=arguments.length,h=new Array(v),y=0;y<v;y++)h[y]=arguments[y];return n.default?.(...h)??e.text}})}),ja({},i)}}),Pze=et({...cr(o9({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),CB=mt()({name:"VTreeviewGroup",props:Pze(),setup(e,t){let{slots:n}=t;const r=H(),a=Z(()=>r.value?.isOpen?e.collapseIcon:e.expandIcon),s=Z(()=>({VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,toggleIcon:a.value}}));return yt(()=>{const o=jv.filterProps(e);return l(jv,Ne(o,{ref:r,class:["v-treeview-group",e.class],subgroup:!0}),{...n,activator:n.activator?i=>p(ze,null,[l(Cn,{defaults:s.value},{default:()=>[n.activator?.(i)]})]):void 0})}),{}}}),oK=Symbol.for("vuetify:v-treeview"),iK=et({loading:Boolean,hideActions:Boolean,hasCustomPrepend:Boolean,indentLines:Array,toggleIcon:qt,...c9({slim:!0})},"VTreeviewItem"),EB=mt()({name:"VTreeviewItem",props:iK(),emits:{toggleExpand:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const a=pn(oK,{visibleIds:H()}).visibleIds,s=H(),o=Z(()=>s.value?.root.activatable.value&&s.value?.isGroupActivator),i=Z(()=>s.value?.link.isClickable.value||e.value!=null&&!!s.value?.list),c=Z(()=>!e.disabled&&e.link!==!1&&(e.link||i.value||o.value)),A=Z(()=>a.value&&!a.value.has(un(s.value?.id)));function u(m){c.value&&o.value&&s.value?.activate(!s.value?.isActivated,m)}function f(m){m.preventDefault(),m.stopPropagation(),r("toggleExpand",m)}return yt(()=>{const m=ul.filterProps(e),v=n.prepend||e.toggleIcon||e.indentLines||e.prependIcon||e.prependAvatar;return l(ul,Ne({ref:s},m,{active:s.value?.isActivated||void 0,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":o.value,"v-treeview-item--filtered":A.value},e.class],ripple:!1,onClick:u}),{...n,prepend:v?h=>p(ze,null,[e.indentLines&&e.indentLines.length>0?p("div",{key:"indent-lines",class:"v-treeview-indent-lines",style:{"--v-indent-parts":e.indentLines.length}},[e.indentLines.map(y=>p("div",{class:rt(`v-treeview-indent-line v-treeview-indent-line--${y}`)},null))]):"",!e.hideActions&&l(mI,{start:!0},{default:()=>[e.toggleIcon?p(ze,null,[n.toggle?l(Cn,{key:"prepend-defaults",defaults:{VBtn:{density:"compact",icon:e.toggleIcon,variant:"text",loading:e.loading},VProgressCircular:{indeterminate:"disable-shrink",size:20,width:2}}},{default:()=>[n.toggle({...h,loading:e.loading,props:{onClick:f}})]}):l(Rn,{key:"prepend-toggle",density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text",onClick:f},{loader:()=>l(BA,{indeterminate:"disable-shrink",size:"20",width:"2"},null)})]):p("div",{class:"v-treeview-item__level"},null)]}),e.hasCustomPrepend?l(Cn,{key:"prepend-defaults",defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{start:!0}}},{default:()=>[n.prepend?.(h)]}):p(ze,null,[n.prepend?.(h),e.prependAvatar&&l(ei,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&l(Xn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]):void 0})}),ja({},s)}}),lK=et({fluid:Boolean,disabled:Boolean,loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:qt,default:"$checkboxIndeterminate"},falseIcon:qt,trueIcon:qt,returnObject:Boolean,activatable:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object],index:Number,isLastGroup:Boolean,separateRoots:Boolean,parentIndentLines:Array,indentLinesVariant:String,path:{type:Array,default:()=>[]},...Do(iK(),["hideActions"]),...ra()},"VTreeviewChildren"),D2=mt()({name:"VTreeviewChildren",props:lK(),setup(e,t){let{slots:n}=t;const r=Da(new Set),a=H([]),s=Z(()=>!e.disabled&&(e.openOnClick!=null?e.openOnClick:e.selectable&&!e.activatable));async function o(c){try{if(!e.items?.length||!e.loadChildren)return;c?.children?.length===0&&(r.add(c.value),await e.loadChildren(c.raw))}finally{r.delete(c.value)}}function i(c,A){e.selectable&&c(A)}return()=>n.default?.()??e.items?.map((c,A,u)=>{const{children:f,props:m}=c,v=r.has(c.value),h=!!u.at(A+1)?.children,y=e.path?.length??0,w=u.length-1===A,b={index:A,depth:y,isFirst:A===0,isLast:w,path:[...e.path,A],hideAction:e.hideActions},B=hee({depth:y,isLast:w,isLastGroup:e.isLastGroup,leafLinks:!e.hideActions&&!e.fluid,separateRoots:e.separateRoots,parentIndentLines:e.parentIndentLines,variant:e.indentLinesVariant}),S={toggle:n.toggle?k=>n.toggle?.({...k,...b,item:c.raw,internalItem:c,loading:v}):void 0,prepend:k=>p(ze,null,[e.selectable&&(!f||f&&!["leaf","single-leaf"].includes(e.selectStrategy))&&l(mI,{start:!0},{default:()=>[l(Xl,{key:c.value,modelValue:k.isSelected,disabled:e.disabled,loading:v,color:e.selectedColor,density:e.density,indeterminate:k.isIndeterminate,indeterminateIcon:e.indeterminateIcon,falseIcon:e.falseIcon,trueIcon:e.trueIcon,"onUpdate:modelValue":E=>i(k.select,E),onClick:E=>E.stopPropagation(),onKeydown:E=>{["Enter","Space"].includes(E.key)&&(E.stopPropagation(),i(k.select,k.isSelected))}},null)]}),n.prepend?.({...k,...b,item:c.raw,internalItem:c})]),append:n.append?k=>n.append?.({...k,...b,item:c.raw,internalItem:c}):void 0,title:n.title?k=>n.title?.({...k,item:c.raw,internalItem:c}):void 0,subtitle:n.subtitle?k=>n.subtitle?.({...k,item:c.raw,internalItem:c}):void 0},T=CB.filterProps(m),N=D2.filterProps({...e,...b});return f?l(CB,Ne(T,{value:e.returnObject?c.raw:T?.value,rawId:T?.value}),{activator:k=>{let{props:E}=k;const _={...m,...E,value:m?.value,indentLines:B.node,onToggleExpand:[()=>o(c),E.onClick],onClick:s.value?[()=>o(c),E.onClick]:()=>i(a.value[A]?.select,!a.value[A]?.isSelected)};return qg(n.header,{props:_,item:c.raw,internalItem:c,loading:v},()=>l(EB,Ne({ref:C=>a.value[A]=C},_,{hasCustomPrepend:!!n.prepend,hideActions:e.hideActions,value:e.returnObject?c.raw:m.value,loading:v}),S))},default:()=>l(D2,Ne(N,{items:f,indentLinesVariant:e.indentLinesVariant,parentIndentLines:B.children,isLastGroup:h,returnObject:e.returnObject}),n)}):qg(n.item,{props:m,item:c.raw,internalItem:c},()=>c.type==="divider"?qg(n.divider,{props:c.raw},()=>l(qo,c.props,null)):c.type==="subheader"?qg(n.subheader,{props:c.raw},()=>l(dh,c.props,null)):l(EB,Ne(m,{hasCustomPrepend:!!n.prepend,hideActions:e.hideActions,indentLines:B.leaf,value:e.returnObject?un(c.raw):m.value}),S))})}});function cK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of e)t.push(n),n.children&&cK(n.children,t);return t}const Dze=et({openAll:Boolean,indentLines:[Boolean,String],search:String,...Ah({filterKeys:["title"]}),...cr(lK(),["index","path","indentLinesVariant","parentIndentLines","isLastGroup"]),...cr(h9({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["nav","openStrategy"]),modelValue:Array},"VTreeview"),Uze=mt()({name:"VTreeview",props:Dze(),emits:{"update:opened":e=>!0,"update:activated":e=>!0,"update:selected":e=>!0,"update:modelValue":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n,emit:r}=t;const{items:a}=m9(e),s=Qe(()=>e.activeColor),o=Qe(()=>e.baseColor),i=Qe(()=>e.color),c=en(e,"activated"),A=en(e,"selected"),u=Z({get:()=>e.modelValue??A.value,set(S){A.value=S,r("update:modelValue",S)}}),f=H(),m=Z(()=>e.openAll?B(a.value):e.opened),v=Z(()=>cK(a.value)),h=Qe(()=>e.search),{filteredItems:y}=fh(e,v,h),w=Z(()=>{if(!h.value)return null;const S=f.value?.getPath;return S?new Set(y.value.flatMap(T=>{const N=e.returnObject?T.raw:T.props.value;return[...S(N),...b(N)].map(un)})):null});function b(S){const T=[],N=(f.value?.children.get(S)??[]).slice();for(;N.length;){const k=N.shift();k&&(T.push(k),N.push(...(f.value?.children.get(k)??[]).slice()))}return T}function B(S){let T=[];for(const N of S)N.children&&(T.push(e.returnObject?un(N.raw):N.value),N.children&&(T=T.concat(B(N.children))));return T}return vr(oK,{visibleIds:w}),jr({VTreeviewGroup:{activeColor:s,baseColor:o,color:i,collapseIcon:Qe(()=>e.collapseIcon),expandIcon:Qe(()=>e.expandIcon)},VTreeviewItem:{activeClass:Qe(()=>e.activeClass),activeColor:s,baseColor:o,color:i,density:Qe(()=>e.density),disabled:Qe(()=>e.disabled),lines:Qe(()=>e.lines),variant:Qe(()=>e.variant)}}),yt(()=>{const S=Vm.filterProps(e),T=D2.filterProps(e),N=typeof e.indentLines=="boolean"?"default":e.indentLines;return l(Vm,Ne({ref:f},S,{class:["v-treeview",{"v-treeview--fluid":e.fluid},e.class],openStrategy:"multiple",style:e.style,opened:m.value,activated:c.value,"onUpdate:activated":k=>c.value=k,selected:u.value,"onUpdate:selected":k=>u.value=k}),{default:()=>[l(D2,Ne(T,{density:e.density,returnObject:e.returnObject,items:a.value,parentIndentLines:e.indentLines?[]:void 0,indentLinesVariant:N}),n)]})}),{}}}),Rze=mt()({name:"VValidation",props:WH(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=jH(e,"validation");return()=>n.default?.(r)}}),Nze=Object.freeze(Object.defineProperty({__proto__:null,VAlert:zQe,VAlertTitle:OH,VApp:JOe,VAppBar:vQe,VAppBarNavIcon:MQe,VAppBarTitle:OQe,VAutocomplete:d9e,VAvatar:ei,VBadge:f9e,VBanner:v9e,VBannerActions:F9,VBannerText:P9,VBottomNavigation:g9e,VBottomSheet:w9e,VBreadcrumbs:C9e,VBreadcrumbsDivider:U9,VBreadcrumbsItem:R9,VBtn:Rn,VBtnGroup:XE,VBtnToggle:bQe,VCard:T9e,VCardActions:N9,VCardItem:M9,VCardSubtitle:L9,VCardText:O9,VCardTitle:V9,VCarousel:M9e,VCarouselItem:Q9e,VCheckbox:nHe,VCheckboxBtn:Xl,VChip:uh,VChipGroup:iHe,VClassIcon:ES,VCode:H9e,VCol:mKe,VColorPicker:T7e,VCombobox:P7e,VComponentIcon:VC,VConfirmEdit:U7e,VContainer:uKe,VCounter:r_,VDataIterator:G7e,VDataTable:aKe,VDataTableFooter:qv,VDataTableHeaders:IA,VDataTableRow:RI,VDataTableRows:TA,VDataTableServer:lKe,VDataTableVirtual:oKe,VDatePicker:BKe,VDatePickerControls:mB,VDatePickerHeader:hB,VDatePickerMonth:vB,VDatePickerMonths:pB,VDatePickerYears:gB,VDefaultsProvider:Cn,VDialog:oB,VDialogBottomTransition:ZOe,VDialogTopTransition:eQe,VDialogTransition:Yw,VDivider:qo,VEmptyState:kKe,VExpandTransition:Xw,VExpandXTransition:sI,VExpansionPanel:IKe,VExpansionPanelText:yB,VExpansionPanelTitle:wB,VExpansionPanels:PKe,VFab:UKe,VFabTransition:XOe,VFadeTransition:Hv,VField:ld,VFieldLabel:I0,VFileInput:OKe,VFooter:HKe,VForm:GKe,VHover:$Ke,VIcon:Xn,VImg:eu,VInfiniteScroll:jKe,VInput:gs,VItem:YKe,VItemGroup:qKe,VKbd:ZKe,VLabel:lh,VLayout:tGe,VLayoutItem:rGe,VLazy:sGe,VLigatureIcon:pte,VList:Vm,VListGroup:jv,VListImg:SHe,VListItem:ul,VListItemAction:mI,VListItemMedia:THe,VListItemSubtitle:i9,VListItemTitle:l9,VListSubheader:dh,VLocaleProvider:iGe,VMain:cGe,VMenu:Mm,VMessages:zH,VNavigationDrawer:gGe,VNoSsr:yGe,VNumberInput:CGe,VOtpInput:BGe,VOverlay:Zl,VPagination:AB,VParallax:IGe,VProgressCircular:BA,VProgressLinear:Zw,VRadio:FGe,VRadioGroup:DGe,VRangeSlider:RGe,VRating:LGe,VResponsive:qE,VRow:_Ke,VScaleTransition:rI,VScrollXReverseTransition:nQe,VScrollXTransition:tQe,VScrollYReverseTransition:aQe,VScrollYTransition:rQe,VSelect:xI,VSelectionControl:id,VSelectionControlGroup:HH,VSheet:Jv,VSkeletonLoader:QGe,VSlideGroup:$v,VSlideGroupItem:HGe,VSlideXReverseTransition:oQe,VSlideXTransition:sQe,VSlideYReverseTransition:iQe,VSlideYTransition:aI,VSlider:dB,VSnackbar:_B,VSnackbarQueue:zGe,VSpacer:P7,VSparkline:JGe,VSpeedDial:YGe,VStepper:aze,VStepperActions:j7,VStepperHeader:J7,VStepperItem:q7,VStepperWindow:Y7,VStepperWindowItem:X7,VSvgIcon:CS,VSwitch:oze,VSystemBar:lze,VTab:eK,VTable:FA,VTabs:fze,VTabsWindow:tK,VTabsWindowItem:nK,VTextField:tu,VTextarea:hze,VThemeProvider:pze,VTimePicker:kze,VTimePickerClock:bB,VTimePickerControls:xB,VTimeline:bze,VTimelineItem:wze,VToolbar:YE,VToolbarItems:Tze,VToolbarTitle:nI,VTooltip:sK,VTreeview:Uze,VTreeviewGroup:CB,VTreeviewItem:EB,VValidation:Rze,VVirtualScroll:a_,VWindow:SA,VWindowItem:kA},Symbol.toStringTag,{value:"Module"}));function Lze(e,t){const n=t.modifiers||{},r=t.value,{once:a,immediate:s,...o}=n,i=!Object.keys(o).length,{handler:c,options:A}=typeof r=="object"?r:{handler:r,options:{attributes:o?.attr??i,characterData:o?.char??i,childList:o?.child??i,subtree:o?.sub??i}},u=new MutationObserver(function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1?arguments[1]:void 0;c?.(f,m),a&&uK(e,t)});s&&c?.([],u),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:u},u.observe(e,A)}function uK(e,t){e._mutate?.[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const Vze={mounted:Lze,unmounted:uK};function Mze(e,t){const n=t.value,r={passive:!t.modifiers?.active};window.addEventListener("resize",n,r),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:r},t.modifiers?.quiet||n()}function Oze(e,t){if(!e._onResize?.[t.instance.$.uid])return;const{handler:n,options:r}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,r),delete e._onResize[t.instance.$.uid]}const Qze={mounted:Mze,unmounted:Oze};function dK(e,t){const{self:n=!1}=t.modifiers??{},r=t.value,a=typeof r=="object"&&r.options||{passive:!0},s=typeof r=="function"||"handleEvent"in r?r:r.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",s,a),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:s,options:a,target:n?void 0:o})}function AK(e,t){if(!e._onScroll?.[t.instance.$.uid])return;const{handler:n,options:r,target:a=e}=e._onScroll[t.instance.$.uid];a.removeEventListener("scroll",n,r),delete e._onScroll[t.instance.$.uid]}function Hze(e,t){t.value!==t.oldValue&&(AK(e,t),dK(e,t))}const Kze={mounted:dK,unmounted:AK,updated:Hze};function Gze(e,t){const n=typeof e=="string"?D(e):e,r=zze(n,t);return{mounted:r,updated:r,unmounted(a){b6(null,a)}}}function zze(e,t){return function(n,r,a){const s=typeof t=="function"?t(r):t,o=r.value?.text??r.value??s?.text,i=vv(r.value)?r.value:{},c=()=>o??n.textContent,A=(a.ctx===r.instance.$?$ze(a,r.instance.$)?.provides:a.ctx?.provides)??r.instance.$.provides,u=fl(e,Ne(s,i),c);u.appContext=Object.assign(Object.create(null),r.instance.$.appContext,{provides:A}),b6(u,n)}}function $ze(e,t){const n=new Set,r=s=>{for(const o of s){if(!o)continue;if(o===e||o.el&&e.el&&o.el===e.el)return!0;n.add(o);let i;if(o.suspense?i=r([o.ssContent]):Array.isArray(o.children)?i=r(o.children):o.component?.vnode&&(i=r([o.component?.subTree])),i)return i;n.delete(o)}return!1};if(!r([t.subTree]))return t;const a=Array.from(n).reverse();for(const s of a)if(s.component)return s.component;return t}const Wze=Gze(sK,e=>({activator:"parent",location:e.arg?.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value})),jze=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:sB,Intersect:cl,Mutate:Vze,Resize:Qze,Ripple:Gs,Scroll:Kze,Tooltip:Wze,Touch:P2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jze=new Map,qze={activated:!1,tokenObservers:[]};function dl(e){return Jze.get(e)||{...qze}}const QR={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yze{constructor(t,n,r,a,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=a,a>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new xv,this.pending.promise.catch(n=>{}),await Xze(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new xv,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Xze(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zze={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},U2=new Jm("appCheck","AppCheck",Zze);function fK(e){if(!dl(e).activated)throw U2.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$e="firebase-app-check-database",t$e=1,BB="firebase-app-check-store";let V1=null;function n$e(){return V1||(V1=new Promise((e,t)=>{try{const n=indexedDB.open(e$e,t$e);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{t(U2.create("storage-open",{originalErrorMessage:r.target.error?.message}))},n.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(BB,{keyPath:"compositeKey"})}}}catch(n){t(U2.create("storage-open",{originalErrorMessage:n?.message}))}}),V1)}function r$e(e,t){return a$e(s$e(e),t)}async function a$e(e,t){const r=(await n$e()).transaction(BB,"readwrite"),s=r.objectStore(BB).put({compositeKey:e,value:t});return new Promise((o,i)=>{s.onsuccess=c=>{o()},r.onerror=c=>{i(U2.create("storage-set",{originalErrorMessage:c.target.error?.message}))}})}function s$e(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=new fp("@firebase/app-check");function HR(e,t){return lV()?r$e(e,t).catch(n=>{SB.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$e={error:"UNKNOWN_ERROR"};function i$e(e){return pw.encodeString(JSON.stringify(e),!1)}async function kB(e,t=!1,n=!1){const r=e.app;fK(r);const a=dl(r);let s=a.token,o;if(s&&!T0(s)&&(a.token=void 0,s=void 0),!s){const A=await a.cachedTokenPromise;A&&(T0(A)?s=A:await HR(r,void 0))}if(!t&&s&&T0(s))return{token:s.token};let i=!1;try{a.exchangeTokenPromise||(a.exchangeTokenPromise=a.provider.getToken().finally(()=>{a.exchangeTokenPromise=void 0}),i=!0),s=await dl(r).exchangeTokenPromise}catch(A){A.code==="appCheck/throttled"||A.code==="appCheck/initial-throttle"?SB.warn(A.message):n&&SB.error(A),o=A}let c;return s?o?T0(s)?c={token:s.token,internalError:o}:c=GR(o):(c={token:s.token},a.token=s,await HR(r,s)):c=GR(o),i&&d$e(r,c),c}async function l$e(e){const t=e.app;fK(t);const{provider:n}=dl(t);{const{token:r}=await n.getToken();return{token:r}}}function c$e(e,t,n,r){const{app:a}=e,s=dl(a),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&T0(s.token)){const i=s.token;Promise.resolve().then(()=>{n({token:i.token}),KR(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>KR(e))}function mK(e,t){const n=dl(e),r=n.tokenObservers.filter(a=>a.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function KR(e){const{app:t}=e,n=dl(t);let r=n.tokenRefresher;r||(r=u$e(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function u$e(e){const{app:t}=e;return new Yze(async()=>{const n=dl(t);let r;if(n.token?r=await kB(e,!0):r=await kB(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=dl(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const a=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,a),Math.max(0,r-Date.now())}else return 0},QR.RETRIAL_MIN_WAIT,QR.RETRIAL_MAX_WAIT)}function d$e(e,t){const n=dl(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function T0(e){return e.expireTimeMillis-Date.now()>0}function GR(e){return{token:i$e(o$e),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A$e{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=dl(this.app);for(const n of t)mK(this.app,n.next);return Promise.resolve()}}function f$e(e,t){return new A$e(e,t)}function m$e(e){return{getToken:t=>kB(e,t),getLimitedUseToken:()=>l$e(e),addTokenListener:t=>c$e(e,"INTERNAL",t),removeTokenListener:t=>mK(e.app,t)}}const h$e="@firebase/app-check",v$e="0.11.0",p$e="app-check",zR="app-check-internal";function g$e(){Wl(new il(p$e,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return f$e(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(zR).initialize()})),Wl(new il(zR,e=>{const t=e.getProvider("app-check").getImmediate();return m$e(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Yo(h$e,v$e)}g$e();const hK=Symbol("firebaseApp");function y$e(e){return Km()&&pn(hK,null)||mV(e)}const M1=new WeakMap;function w$e(e,t){if(!M1.has(e)){const n=Zu(!0);M1.set(e,n);const{unmount:r}=t;t.unmount=()=>{r.call(t),n.stop(),M1.delete(e)}}return M1.get(e)}const _$e=new WeakMap,O1=new WeakMap;function b$e(e){const t=y$e(e);if(!O1.has(t)){let n;const a=[new Promise(s=>{n=s}),s=>{O1.set(t,s),n(s.value)}];O1.set(t,a)}return O1.get(t)}function x$e(e,t){VV(t,n=>{const r=b$e();e.value=n,Array.isArray(r)&&r[1](e)})}var $R={};const WR="@firebase/database",jR="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vK="";function C$e(e){vK=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E$e{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),As(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Cv(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B$e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return su(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new E$e(t)}}catch{}return new B$e},tA=pK("localStorage"),S$e=pK("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new fp("@firebase/database"),k$e=(function(){let e=1;return function(){return e++}})(),gK=function(e){const t=oie(e),n=new tie;n.update(t);const r=n.digest();return pw.encodeByteArray(r)},Hp=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Hp.apply(null,r):typeof r=="object"?t+=As(r):t+=r,t+=" "}return t};let nv=null,JR=!0;const I$e=function(e,t){Zt(!0,"Can't turn on custom loggers persistently."),hm.logLevel=xr.VERBOSE,nv=hm.log.bind(hm)},Ts=function(...e){if(JR===!0&&(JR=!1,nv===null&&S$e.get("logging_enabled")===!0&&I$e()),nv){const t=Hp.apply(null,e);nv(t)}},Kp=function(e){return function(...t){Ts(e,...t)}},IB=function(...e){const t="FIREBASE INTERNAL ERROR: "+Hp(...e);hm.error(t)},PA=function(...e){const t=`FIREBASE FATAL ERROR: ${Hp(...e)}`;throw hm.error(t),new Error(t)},Xo=function(...e){const t="FIREBASE WARNING: "+Hp(...e);hm.warn(t)},T$e=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yK=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},F$e=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qm="[MIN_NAME]",DA="[MAX_NAME]",mh=function(e,t){if(e===t)return 0;if(e===Qm||t===DA)return-1;if(t===Qm||e===DA)return 1;{const n=qR(e),r=qR(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},P$e=function(e,t){return e===t?0:e<t?-1:1},u0=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+As(t))},HI=function(e){if(typeof e!="object"||e===null)return As(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=As(t[r]),n+=":",n+=HI(e[t[r]]);return n+="}",n},wK=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let a=0;a<n;a+=t)a+t>n?r.push(e.substring(a,n)):r.push(e.substring(a,a+t));return r};function Si(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const _K=function(e){Zt(!yK(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let a,s,o,i,c;e===0?(s=0,o=0,a=1/e===-1/0?1:0):(a=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=i+r,o=Math.round(e*Math.pow(2,n-i)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const A=[];for(c=n;c;c-=1)A.push(o%2?1:0),o=Math.floor(o/2);for(c=t;c;c-=1)A.push(s%2?1:0),s=Math.floor(s/2);A.push(a?1:0),A.reverse();const u=A.join("");let f="";for(c=0;c<64;c+=8){let m=parseInt(u.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),f=f+m}return f.toLowerCase()},D$e=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},U$e=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},R$e=new RegExp("^-?(0*)\\d{1,10}$"),N$e=-2147483648,L$e=2147483647,qR=function(e){if(R$e.test(e)){const t=Number(e);if(t>=N$e&&t<=L$e)return t}return null},Gp=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Xo("Exception was thrown by user callback.",n),t},Math.floor(0))}},V$e=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rv=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M$e{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,So(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Xo(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O$e{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ts("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="5",bK="v",xK="s",CK="r",EK="f",BK=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,SK="ls",kK="p",TB="ac",IK="websocket",TK="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q$e{constructor(t,n,r,a,s=!1,o="",i=!1,c=!1,A=null){this.secure=n,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=i,this.isUsingEmulator=c,this.emulatorOptions=A,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tA.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&tA.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function H$e(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function FK(e,t,n){Zt(typeof t=="string","typeof type must == string"),Zt(typeof n=="object","typeof params must == object");let r;if(t===IK)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===TK)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);H$e(e)&&(n.ns=e.namespace);const a=[];return Si(n,(s,o)=>{a.push(s+"="+o)}),r+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K$e{constructor(){this.counters_={}}incrementCounter(t,n=1){su(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Uoe(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={},rC={};function GI(e){const t=e.toString();return nC[t]||(nC[t]=new K$e),nC[t]}function G$e(e,t){const n=e.toString();return rC[n]||(rC[n]=t()),rC[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z$e{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&Gp(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="start",$$e="close",W$e="pLPCommand",j$e="pRTLPCB",PK="id",DK="pw",UK="ser",J$e="cb",q$e="seg",Y$e="ts",X$e="d",Z$e="dframe",RK=1870,NK=30,eWe=RK-NK,tWe=25e3,nWe=3e4;class Yf{constructor(t,n,r,a,s,o,i){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=a,this.authToken=s,this.transportSessionId=o,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kp(t),this.stats_=GI(n),this.urlFn=c=>(this.appCheckToken&&(c[TB]=this.appCheckToken),FK(n,TK,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new z$e(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(nWe)),F$e(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zI((...s)=>{const[o,i,c,A,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===YR)this.id=i,this.password=c;else if(o===$$e)i?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(i,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,i]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,i)},()=>{this.onClosed_()},this.urlFn);const r={};r[YR]="t",r[UK]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[J$e]=this.scriptTagHolder.uniqueCallbackIdentifier),r[bK]=KI,this.transportSessionId&&(r[xK]=this.transportSessionId),this.lastSessionId&&(r[SK]=this.lastSessionId),this.applicationId&&(r[kK]=this.applicationId),this.appCheckToken&&(r[TB]=this.appCheckToken),typeof location<"u"&&location.hostname&&BK.test(location.hostname)&&(r[CK]=EK);const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yf.forceAllow_=!0}static forceDisallow(){Yf.forceDisallow_=!0}static isAvailable(){return Yf.forceAllow_?!0:!Yf.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!D$e()&&!U$e()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=As(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nV(n),a=wK(r,eWe);for(let s=0;s<a.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Z$e]="t",r[PK]=t,r[DK]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=As(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class zI{constructor(t,n,r,a){this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=k$e(),window[W$e+this.uniqueCallbackIdentifier]=t,window[j$e+this.uniqueCallbackIdentifier]=n,this.myIFrame=zI.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(i){Ts("frame writing exception"),i.stack&&Ts(i.stack),Ts(i)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ts("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[PK]=this.myID,t[DK]=this.myPW,t[UK]=this.currentSerial;let n=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+NK+r.length<=RK;){const o=this.pendingSegs.shift();r=r+"&"+q$e+a+"="+o.seg+"&"+Y$e+a+"="+o.ts+"&"+X$e+a+"="+o.d,a++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(r,Math.floor(tWe)),s=()=>{clearTimeout(a),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||a==="loaded"||a==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ts("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rWe=16384,aWe=45e3;let R2=null;typeof MozWebSocket<"u"?R2=MozWebSocket:typeof WebSocket<"u"&&(R2=WebSocket);class $i{constructor(t,n,r,a,s,o,i){this.connId=t,this.applicationId=r,this.appCheckToken=a,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kp(this.connId),this.stats_=GI(n),this.connURL=$i.connectionURL_(n,o,i,a,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,a,s){const o={};return o[bK]=KI,typeof location<"u"&&location.hostname&&BK.test(location.hostname)&&(o[CK]=EK),n&&(o[xK]=n),r&&(o[SK]=r),a&&(o[TB]=a),s&&(o[kK]=s),FK(t,IK,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tA.set("previous_websocket_failure",!0);try{let r;joe(),this.mySock=new R2(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){$i.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&R2!==null&&!$i.forceDisallow_}static previouslyFailed(){return tA.isInMemoryStorage||tA.get("previous_websocket_failure")===!0}markConnectionHealthy(){tA.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Cv(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Zt(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=As(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=wK(n,rWe);r.length>1&&this.sendString_(String(r.length));for(let a=0;a<r.length;a++)this.sendString_(r[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(aWe))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$i.responsesRequiredToBeHealthy=2;$i.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{static get ALL_TRANSPORTS(){return[Yf,$i]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=$i&&$i.isAvailable();let r=n&&!$i.previouslyFailed();if(t.webSocketOnly&&(n||Xo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[$i];else{const a=this.transports_=[];for(const s of Zv.ALL_TRANSPORTS)s&&s.isAvailable()&&a.push(s);Zv.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zv.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sWe=6e4,oWe=5e3,iWe=10*1024,lWe=100*1024,aC="t",XR="d",cWe="s",ZR="r",uWe="e",eN="o",tN="a",nN="n",rN="p",dWe="h";class AWe{constructor(t,n,r,a,s,o,i,c,A,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=s,this.onMessage_=o,this.onReady_=i,this.onDisconnect_=c,this.onKill_=A,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kp("c:"+this.id+":"),this.transportManager_=new Zv(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=rv(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>lWe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>iWe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(aC in t){const n=t[aC];n===tN?this.upgradeIfSecondaryHealthy_():n===ZR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===eN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=u0("t",t),r=u0("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rN,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:tN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=u0("t",t),r=u0("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=u0(aC,t);if(XR in t){const r=t[XR];if(n===dWe){const a={...r};this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===nN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===cWe?this.onConnectionShutdown_(r):n===ZR?this.onReset_(r):n===uWe?IB("Server Error: "+r):n===eN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):IB("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),KI!==r&&Xo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),rv(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sWe))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rv(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(oWe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rN,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tA.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{put(t,n,r,a){}merge(t,n,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(t){this.allowedEvents_=t,this.listeners_={},Zt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const a=this.getInitialEvent(t);a&&n.apply(r,a)}off(t,n,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let s=0;s<a.length;s++)if(a[s].callback===n&&(!r||r===a[s].context)){a.splice(s,1);return}}validateEventType_(t){Zt(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2 extends VK{static getInstance(){return new N2}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!LS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return Zt(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=32,sN=768;class Jr{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Dr(){return new Jr("")}function rr(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function cd(e){return e.pieces_.length-e.pieceNum_}function $r(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Jr(e.pieces_,t)}function MK(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function fWe(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function OK(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function QK(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Jr(t,0)}function rs(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Jr)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&n.push(r[a])}return new Jr(n,0)}function Yn(e){return e.pieceNum_>=e.pieces_.length}function bi(e,t){const n=rr(e),r=rr(t);if(n===null)return t;if(n===r)return bi($r(e),$r(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function HK(e,t){if(cd(e)!==cd(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Yi(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(cd(e)>cd(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class mWe{constructor(t,n){this.errorPrefix_=n,this.parts_=OK(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yw(this.parts_[r]);KK(this)}}function hWe(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=yw(t),KK(e)}function vWe(e){const t=e.parts_.pop();e.byteLength_-=yw(t),e.parts_.length>0&&(e.byteLength_-=1)}function KK(e){if(e.byteLength_>sN)throw new Error(e.errorPrefix_+"has a key path longer than "+sN+" bytes ("+e.byteLength_+").");if(e.parts_.length>aN)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+aN+") or object contains a cycle "+Kd(e))}function Kd(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends VK{static getInstance(){return new $I}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return Zt(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=1e3,pWe=300*1e3,oN=30*1e3,gWe=1.3,yWe=3e4,wWe="server_kill",iN=3;class Gc extends LK{constructor(t,n,r,a,s,o,i,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=a,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=i,this.authOverride_=c,this.id=Gc.nextPersistentConnectionId_++,this.log_=Kp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=d0,this.maxReconnectDelay_=pWe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$I.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&N2.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const a=++this.requestNumber_,s={r:a,a:t,b:n};this.log_(As(s)),Zt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[a]=r)}get(t){this.initConnection_();const n=new xv,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const i=o.d;o.s==="ok"?n.resolve(i):n.reject(i)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,a){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Zt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Zt(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const i={onComplete:a,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,i),this.connected_&&this.sendListen_(i)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+r+" for "+a);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,i=>{const c=i.d,A=i.s;Gc.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(a))===t&&(this.log_("listen response",i),A!=="ok"&&this.removeListen_(r,a),t.onComplete&&t.onComplete(A,c))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&su(t,"w")){const r=Tm(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Xo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||eie(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oN)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=Zoe(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,a=>{const s=a.s,o=a.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+a),Zt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,a)&&this.connected_&&this.sendUnlisten_(r,a,t._queryObject,n)}sendUnlisten_(t,n,r,a){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";a&&(s.q=r,s.t=a),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,a){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{a&&setTimeout(()=>{a(o.s,o.d)},Math.floor(0))})}put(t,n,r,a){this.putInternal("p",t,n,r,a)}merge(t,n,r,a){this.putInternal("m",t,n,r,a)}putInternal(t,n,r,a,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:a}),this.outstandingPutCount_++;const i=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(i):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+As(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):IB("Unrecognized action received from server: "+As(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Zt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=d0,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=d0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yWe&&(this.reconnectDelay_=d0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gWe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+Gc.nextConnectionId_++,s=this.lastSessionId;let o=!1,i=null;const c=function(){i?i.close():(o=!0,r())},A=function(f){Zt(i,"sendRequest call when we're not connected not allowed."),i.sendRequest(f)};this.realtime_={close:c,sendRequest:A};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,m]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Ts("getToken() completed but was canceled"):(Ts("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=m&&m.token,i=new AWe(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,v=>{Xo(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(wWe)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&Xo(f),c())}}}interrupt(t){Ts("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ts("Resuming connection for reason: "+t),delete this.interruptReasons_[t],JC(this.interruptReasons_)&&(this.reconnectDelay_=d0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>HI(s)).join("$"):r="default";const a=this.removeListen_(t,r);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,n){const r=new Jr(t).toString();let a;if(this.listens.has(r)){const s=this.listens.get(r);a=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else a=void 0;return a}onAuthRevoked_(t,n){Ts("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iN&&(this.reconnectDelay_=oN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Ts("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+vK.replace(/\./g,"-")]=1,LS()?t["framework.cordova"]=1:iV()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=N2.getInstance().currentlyOnline();return JC(this.interruptReasons_)&&t}}Gc.nextPersistentConnectionId_=0;Gc.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new ar(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new ar(Qm,t),a=new ar(Qm,n);return this.compare(r,a)!==0}minPost(){return ar.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q1;class GK extends g_{static get __EMPTY_NODE(){return Q1}static set __EMPTY_NODE(t){Q1=t}compare(t,n){return mh(t.name,n.name)}isDefinedOn(t){throw jm("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return ar.MIN}maxPost(){return new ar(DA,Q1)}makePost(t,n){return Zt(typeof t=="string","KeyIndex indexValue must always be a string."),new ar(t,Q1)}toString(){return".key"}}const vm=new GK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,n,r,a,s=null){this.isReverse_=a,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,a&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class es{constructor(t,n,r,a,s){this.key=t,this.value=n,this.color=r??es.RED,this.left=a??Io.EMPTY_NODE,this.right=s??Io.EMPTY_NODE}copy(t,n,r,a,s){return new es(t??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const s=r(t,a.key);return s<0?a=a.copy(null,null,null,a.left.insert(t,n,r),null):s===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Io.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,a;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Io.EMPTY_NODE;a=r.right.min_(),r=r.copy(a.key,a.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}es.RED=!0;es.BLACK=!1;class _We{copy(t,n,r,a,s){return this}insert(t,n,r){return new es(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Io{constructor(t,n=Io.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Io(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,es.BLACK,null,null))}remove(t){return new Io(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,es.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,a=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(a=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new H1(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new H1(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new H1(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new H1(this.root_,null,this.comparator_,!0,t)}}Io.EMPTY_NODE=new _We;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bWe(e,t){return mh(e.name,t.name)}function WI(e,t){return mh(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FB;function xWe(e){FB=e}const zK=function(e){return typeof e=="number"?"number:"+_K(e):"string:"+e},$K=function(e){if(e.isLeafNode()){const t=e.val();Zt(typeof t=="string"||typeof t=="number"||typeof t=="object"&&su(t,".sv"),"Priority must be a string or number.")}else Zt(e===FB||e.isEmpty(),"priority of unexpected type.");Zt(e===FB||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lN;class Xa{static set __childrenNodeConstructor(t){lN=t}static get __childrenNodeConstructor(){return lN}constructor(t,n=Xa.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Zt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$K(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Xa(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Xa.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Yn(t)?this:rr(t)===".priority"?this.priorityNode_:Xa.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Xa.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=rr(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Zt(r!==".priority"||cd(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Xa.__childrenNodeConstructor.EMPTY_NODE.updateChild($r(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+zK(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=_K(this.value_):t+=this.value_,this.lazyHash_=gK(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Xa.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Xa.__childrenNodeConstructor?-1:(Zt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,a=Xa.VALUE_TYPE_ORDER.indexOf(n),s=Xa.VALUE_TYPE_ORDER.indexOf(r);return Zt(a>=0,"Unknown leaf type: "+n),Zt(s>=0,"Unknown leaf type: "+r),a===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Xa.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WK,jK;function CWe(e){WK=e}function EWe(e){jK=e}class BWe extends g_{compare(t,n){const r=t.node.getPriority(),a=n.node.getPriority(),s=r.compareTo(a);return s===0?mh(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return ar.MIN}maxPost(){return new ar(DA,new Xa("[PRIORITY-POST]",jK))}makePost(t,n){const r=WK(t);return new ar(n,new Xa("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ms=new BWe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SWe=Math.log(2);class kWe{constructor(t){const n=s=>parseInt(Math.log(s)/SWe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const a=r(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const L2=function(e,t,n,r){e.sort(t);const a=function(c,A){const u=A-c;let f,m;if(u===0)return null;if(u===1)return f=e[c],m=n?n(f):f,new es(m,f.node,es.BLACK,null,null);{const v=parseInt(u/2,10)+c,h=a(c,v),y=a(v+1,A);return f=e[v],m=n?n(f):f,new es(m,f.node,es.BLACK,h,y)}},s=function(c){let A=null,u=null,f=e.length;const m=function(h,y){const w=f-h,b=f;f-=h;const B=a(w+1,b),S=e[w],T=n?n(S):S;v(new es(T,S.node,y,null,B))},v=function(h){A?(A.left=h,A=h):(u=h,A=h)};for(let h=0;h<c.count;++h){const y=c.nextBitIsOne(),w=Math.pow(2,c.count-(h+1));y?m(w,es.BLACK):(m(w,es.BLACK),m(w,es.RED))}return u},o=new kWe(e.length),i=s(o);return new Io(r||t,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sC;const Lf={};class Oc{static get Default(){return Zt(Lf&&Ms,"ChildrenNode.ts has not been loaded"),sC=sC||new Oc({".priority":Lf},{".priority":Ms}),sC}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Tm(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Io?n:null}hasIndex(t){return su(this.indexSet_,t.toString())}addIndex(t,n){Zt(t!==vm,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const s=n.getIterator(ar.Wrap);let o=s.getNext();for(;o;)a=a||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let i;a?i=L2(r,t.getCompare()):i=Lf;const c=t.toString(),A={...this.indexSet_};A[c]=t;const u={...this.indexes_};return u[c]=i,new Oc(u,A)}addToIndexes(t,n){const r=Qy(this.indexes_,(a,s)=>{const o=Tm(this.indexSet_,s);if(Zt(o,"Missing index implementation for "+s),a===Lf)if(o.isDefinedOn(t.node)){const i=[],c=n.getIterator(ar.Wrap);let A=c.getNext();for(;A;)A.name!==t.name&&i.push(A),A=c.getNext();return i.push(t),L2(i,o.getCompare())}else return Lf;else{const i=n.get(t.name);let c=a;return i&&(c=c.remove(new ar(t.name,i))),c.insert(t,t.node)}});return new Oc(r,this.indexSet_)}removeFromIndexes(t,n){const r=Qy(this.indexes_,a=>{if(a===Lf)return a;{const s=n.get(t.name);return s?a.remove(new ar(t.name,s)):a}});return new Oc(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A0;class Cr{static get EMPTY_NODE(){return A0||(A0=new Cr(new Io(WI),null,Oc.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$K(this.priorityNode_),this.children_.isEmpty()&&Zt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||A0}updatePriority(t){return this.children_.isEmpty()?this:new Cr(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?A0:n}}getChild(t){const n=rr(t);return n===null?this:this.getImmediateChild(n).getChild($r(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Zt(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new ar(t,n);let a,s;n.isEmpty()?(a=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=a.isEmpty()?A0:this.priorityNode_;return new Cr(a,o,s)}}updateChild(t,n){const r=rr(t);if(r===null)return n;{Zt(rr(t)!==".priority"||cd(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(r).updateChild($r(t),n);return this.updateImmediateChild(r,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,a=0,s=!0;if(this.forEachChild(Ms,(o,i)=>{n[o]=i.val(t),r++,s&&Cr.INTEGER_REGEXP_.test(o)?a=Math.max(a,Number(o)):s=!1}),!t&&s&&a<2*r){const o=[];for(const i in n)o[i]=n[i];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+zK(this.getPriority().val())+":"),this.forEachChild(Ms,(n,r)=>{const a=r.hash();a!==""&&(t+=":"+n+":"+a)}),this.lazyHash_=t===""?"":gK(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const a=this.resolveIndex_(r);if(a){const s=a.getPredecessorKey(new ar(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new ar(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new ar(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,ar.Wrap);let s=a.peek();for(;s!=null&&n.compare(s,t)<0;)a.getNext(),s=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,ar.Wrap);let s=a.peek();for(;s!=null&&n.compare(s,t)>0;)a.getNext(),s=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zp?-1:0}withIndex(t){if(t===vm||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Cr(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===vm||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ms),a=n.getIterator(Ms);let s=r.getNext(),o=a.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=a.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===vm?null:this.indexMap_.get(t.toString())}}Cr.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class IWe extends Cr{constructor(){super(new Io(WI),Cr.EMPTY_NODE,Oc.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Cr.EMPTY_NODE}isEmpty(){return!1}}const zp=new IWe;Object.defineProperties(ar,{MIN:{value:new ar(Qm,Cr.EMPTY_NODE)},MAX:{value:new ar(DA,zp)}});GK.__EMPTY_NODE=Cr.EMPTY_NODE;Xa.__childrenNodeConstructor=Cr;xWe(zp);EWe(zp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TWe=!0;function Fs(e,t=null){if(e===null)return Cr.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Zt(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Xa(n,Fs(t))}if(!(e instanceof Array)&&TWe){const n=[];let r=!1;if(Si(e,(o,i)=>{if(o.substring(0,1)!=="."){const c=Fs(i);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ar(o,c)))}}),n.length===0)return Cr.EMPTY_NODE;const s=L2(n,bWe,o=>o.name,WI);if(r){const o=L2(n,Ms.getCompare());return new Cr(s,Fs(t),new Oc({".priority":o},{".priority":Ms}))}else return new Cr(s,Fs(t),Oc.Default)}else{let n=Cr.EMPTY_NODE;return Si(e,(r,a)=>{if(su(e,r)&&r.substring(0,1)!=="."){const s=Fs(a);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Fs(t))}}CWe(Fs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FWe extends g_{constructor(t){super(),this.indexPath_=t,Zt(!Yn(t)&&rr(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),a=this.extractChild(n.node),s=r.compareTo(a);return s===0?mh(t.name,n.name):s}makePost(t,n){const r=Fs(t),a=Cr.EMPTY_NODE.updateChild(this.indexPath_,r);return new ar(n,a)}maxPost(){const t=Cr.EMPTY_NODE.updateChild(this.indexPath_,zp);return new ar(DA,t)}toString(){return OK(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PWe extends g_{compare(t,n){const r=t.node.compareTo(n.node);return r===0?mh(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return ar.MIN}maxPost(){return ar.MAX}makePost(t,n){const r=Fs(t);return new ar(n,r)}toString(){return".value"}}const DWe=new PWe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UWe(e){return{type:"value",snapshotNode:e}}function RWe(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function NWe(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function cN(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function LWe(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ms}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Zt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Zt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qm}hasEnd(){return this.endSet_}getIndexEndValue(){return Zt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Zt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:DA}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Zt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ms}copy(){const t=new jI;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function uN(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ms?n="$priority":e.index_===DWe?n="$value":e.index_===vm?n="$key":(Zt(e.index_ instanceof FWe,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=As(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=As(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+As(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=As(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+As(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function dN(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Ms&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2 extends LK{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Zt(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=Kp("p:rest:"),this.listens_={}}listen(t,n,r,a){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=V2.getListenId_(t,r),i={};this.listens_[o]=i;const c=uN(t._queryParams);this.restRequest_(s+".json",c,(A,u)=>{let f=u;if(A===404&&(f=null,A=null),A===null&&this.onDataUpdate_(s,f,!1,r),Tm(this.listens_,o)===i){let m;A?A===401?m="permission_denied":m="rest_error:"+A:m="ok",a(m,null)}})}unlisten(t,n){const r=V2.getListenId_(t,n);delete this.listens_[r]}get(t){const n=uN(t._queryParams),r=t._path.toString(),a=new xv;return this.restRequest_(r+".json",n,(s,o)=>{let i=o;s===404&&(i=null,s=null),s===null?(this.onDataUpdate_(r,i,!1,null),a.resolve(i)):a.reject(new Error(i))}),a.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,s])=>{a&&a.accessToken&&(n.auth=a.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+qm(n);this.log_("Sending REST request for "+o);const i=new XMLHttpRequest;i.onreadystatechange=()=>{if(r&&i.readyState===4){this.log_("REST Response for "+o+" received. status:",i.status,"response:",i.responseText);let c=null;if(i.status>=200&&i.status<300){try{c=Cv(i.responseText)}catch{Xo("Failed to parse JSON response for "+o+": "+i.responseText)}r(null,c)}else i.status!==401&&i.status!==404&&Xo("Got unsuccessful REST response for "+o+" Status: "+i.status),r(i.status);r=null}},i.open("GET",o,!0),i.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VWe{constructor(){this.rootNode_=Cr.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){return{value:null,children:new Map}}function JK(e,t,n){if(Yn(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=rr(t);e.children.has(r)||e.children.set(r,M2());const a=e.children.get(r);t=$r(t),JK(a,t,n)}}function PB(e,t,n){e.value!==null?n(t,e.value):MWe(e,(r,a)=>{const s=new Jr(t.toString()+"/"+r);PB(a,s,n)})}function MWe(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OWe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&Si(this.last_,(r,a)=>{n[r]=n[r]-a}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=10*1e3,QWe=30*1e3,HWe=300*1e3;class KWe{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new OWe(t);const r=AN+(QWe-AN)*Math.random();rv(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Si(t,(a,s)=>{s>0&&su(this.statsToReport_,a)&&(n[a]=s,r=!0)}),r&&this.server_.reportStats(n),rv(this.reportStats_.bind(this),Math.floor(Math.random()*2*HWe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ql;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ql||(Ql={}));function qK(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function YK(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function XK(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Ql.ACK_USER_WRITE,this.source=qK()}operationForChild(t){if(Yn(this.path)){if(this.affectedTree.value!=null)return Zt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Jr(t));return new O2(Dr(),n,this.revert)}}else return Zt(rr(this.path)===t,"operationForChild called for unrelated child."),new O2($r(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Ql.OVERWRITE}operationForChild(t){return Yn(this.path)?new UA(this.source,Dr(),this.snap.getImmediateChild(t)):new UA(this.source,$r(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Ql.MERGE}operationForChild(t){if(Yn(this.path)){const n=this.children.subtree(new Jr(t));return n.isEmpty()?null:n.value?new UA(this.source,Dr(),n.value):new ep(this.source,Dr(),n)}else return Zt(rr(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ep(this.source,$r(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Yn(t))return this.isFullyInitialized()&&!this.filtered_;const n=rr(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function GWe(e,t,n,r){const a=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(LWe(o.childName,o.snapshotNode))}),f0(e,a,"child_removed",t,r,n),f0(e,a,"child_added",t,r,n),f0(e,a,"child_moved",s,r,n),f0(e,a,"child_changed",t,r,n),f0(e,a,"value",t,r,n),a}function f0(e,t,n,r,a,s){const o=r.filter(i=>i.type===n);o.sort((i,c)=>$We(e,i,c)),o.forEach(i=>{const c=zWe(e,i,s);a.forEach(A=>{A.respondsTo(i.type)&&t.push(A.createEvent(c,e.query_))})})}function zWe(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function $We(e,t,n){if(t.childName==null||n.childName==null)throw jm("Should only compare child_ events.");const r=new ar(t.childName,t.snapshotNode),a=new ar(n.childName,n.snapshotNode);return e.index_.compare(r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(e,t){return{eventCache:e,serverCache:t}}function av(e,t,n,r){return ZK(new JI(t,n,r),e.serverCache)}function eG(e,t,n,r){return ZK(e.eventCache,new JI(t,n,r))}function DB(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function RA(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oC;const WWe=()=>(oC||(oC=new Io(P$e)),oC);class zr{static fromObject(t){let n=new zr(null);return Si(t,(r,a)=>{n=n.set(new Jr(r),a)}),n}constructor(t,n=WWe()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Dr(),value:this.value};if(Yn(t))return null;{const r=rr(t),a=this.children.get(r);if(a!==null){const s=a.findRootMostMatchingPathAndValue($r(t),n);return s!=null?{path:rs(new Jr(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Yn(t))return this;{const n=rr(t),r=this.children.get(n);return r!==null?r.subtree($r(t)):new zr(null)}}set(t,n){if(Yn(t))return new zr(n,this.children);{const r=rr(t),s=(this.children.get(r)||new zr(null)).set($r(t),n),o=this.children.insert(r,s);return new zr(this.value,o)}}remove(t){if(Yn(t))return this.children.isEmpty()?new zr(null):new zr(null,this.children);{const n=rr(t),r=this.children.get(n);if(r){const a=r.remove($r(t));let s;return a.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,a),this.value===null&&s.isEmpty()?new zr(null):new zr(this.value,s)}else return this}}get(t){if(Yn(t))return this.value;{const n=rr(t),r=this.children.get(n);return r?r.get($r(t)):null}}setTree(t,n){if(Yn(t))return n;{const r=rr(t),s=(this.children.get(r)||new zr(null)).setTree($r(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new zr(this.value,o)}}fold(t){return this.fold_(Dr(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((a,s)=>{r[a]=s.fold_(rs(t,a),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Dr(),n)}findOnPath_(t,n,r){const a=this.value?r(n,this.value):!1;if(a)return a;if(Yn(t))return null;{const s=rr(t),o=this.children.get(s);return o?o.findOnPath_($r(t),rs(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Dr(),n)}foreachOnPath_(t,n,r){if(Yn(t))return this;{this.value&&r(n,this.value);const a=rr(t),s=this.children.get(a);return s?s.foreachOnPath_($r(t),rs(n,a),r):new zr(null)}}foreach(t){this.foreach_(Dr(),t)}foreach_(t,n){this.children.inorderTraversal((r,a)=>{a.foreach_(rs(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t){this.writeTree_=t}static empty(){return new al(new zr(null))}}function sv(e,t,n){if(Yn(t))return new al(new zr(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const a=r.path;let s=r.value;const o=bi(a,t);return s=s.updateChild(o,n),new al(e.writeTree_.set(a,s))}else{const a=new zr(n),s=e.writeTree_.setTree(t,a);return new al(s)}}}function fN(e,t,n){let r=e;return Si(n,(a,s)=>{r=sv(r,rs(t,a),s)}),r}function mN(e,t){if(Yn(t))return al.empty();{const n=e.writeTree_.setTree(t,new zr(null));return new al(n)}}function UB(e,t){return tf(e,t)!=null}function tf(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(bi(n.path,t)):null}function hN(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ms,(r,a)=>{t.push(new ar(r,a))}):e.writeTree_.children.inorderTraversal((r,a)=>{a.value!=null&&t.push(new ar(r,a.value))}),t}function Xu(e,t){if(Yn(t))return e;{const n=tf(e,t);return n!=null?new al(new zr(n)):new al(e.writeTree_.subtree(t))}}function RB(e){return e.writeTree_.isEmpty()}function Hm(e,t){return tG(Dr(),e.writeTree_,t)}function tG(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((a,s)=>{a===".priority"?(Zt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=tG(rs(e,a),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(rs(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(e,t){return iG(t,e)}function jWe(e,t,n,r,a){Zt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:a}),a&&(e.visibleWrites=sv(e.visibleWrites,t,n)),e.lastWriteId=r}function JWe(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function qWe(e,t){const n=e.allWrites.findIndex(i=>i.writeId===t);Zt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let a=r.visible,s=!1,o=e.allWrites.length-1;for(;a&&o>=0;){const i=e.allWrites[o];i.visible&&(o>=n&&YWe(i,r.path)?a=!1:Yi(r.path,i.path)&&(s=!0)),o--}if(a){if(s)return XWe(e),!0;if(r.snap)e.visibleWrites=mN(e.visibleWrites,r.path);else{const i=r.children;Si(i,c=>{e.visibleWrites=mN(e.visibleWrites,rs(r.path,c))})}return!0}else return!1}function YWe(e,t){if(e.snap)return Yi(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Yi(rs(e.path,n),t))return!0;return!1}function XWe(e){e.visibleWrites=rG(e.allWrites,ZWe,Dr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function ZWe(e){return e.visible}function rG(e,t,n){let r=al.empty();for(let a=0;a<e.length;++a){const s=e[a];if(t(s)){const o=s.path;let i;if(s.snap)Yi(n,o)?(i=bi(n,o),r=sv(r,i,s.snap)):Yi(o,n)&&(i=bi(o,n),r=sv(r,Dr(),s.snap.getChild(i)));else if(s.children){if(Yi(n,o))i=bi(n,o),r=fN(r,i,s.children);else if(Yi(o,n))if(i=bi(o,n),Yn(i))r=fN(r,Dr(),s.children);else{const c=Tm(s.children,rr(i));if(c){const A=c.getChild($r(i));r=sv(r,Dr(),A)}}}else throw jm("WriteRecord should have .snap or .children")}}return r}function aG(e,t,n,r,a){if(!r&&!a){const s=tf(e.visibleWrites,t);if(s!=null)return s;{const o=Xu(e.visibleWrites,t);if(RB(o))return n;if(n==null&&!UB(o,Dr()))return null;{const i=n||Cr.EMPTY_NODE;return Hm(o,i)}}}else{const s=Xu(e.visibleWrites,t);if(!a&&RB(s))return n;if(!a&&n==null&&!UB(s,Dr()))return null;{const o=function(A){return(A.visible||a)&&(!r||!~r.indexOf(A.writeId))&&(Yi(A.path,t)||Yi(t,A.path))},i=rG(e.allWrites,o,t),c=n||Cr.EMPTY_NODE;return Hm(i,c)}}}function eje(e,t,n){let r=Cr.EMPTY_NODE;const a=tf(e.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Ms,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Xu(e.visibleWrites,t);return n.forEachChild(Ms,(o,i)=>{const c=Hm(Xu(s,new Jr(o)),i);r=r.updateImmediateChild(o,c)}),hN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Xu(e.visibleWrites,t);return hN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function tje(e,t,n,r,a){Zt(r||a,"Either existingEventSnap or existingServerSnap must exist");const s=rs(t,n);if(UB(e.visibleWrites,s))return null;{const o=Xu(e.visibleWrites,s);return RB(o)?a.getChild(n):Hm(o,a.getChild(n))}}function nje(e,t,n,r){const a=rs(t,n),s=tf(e.visibleWrites,a);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Xu(e.visibleWrites,a);return Hm(o,r.getNode().getImmediateChild(n))}else return null}function rje(e,t){return tf(e.visibleWrites,t)}function aje(e,t,n,r,a,s,o){let i;const c=Xu(e.visibleWrites,t),A=tf(c,Dr());if(A!=null)i=A;else if(n!=null)i=Hm(c,n);else return[];if(i=i.withIndex(o),!i.isEmpty()&&!i.isLeafNode()){const u=[],f=o.getCompare(),m=s?i.getReverseIteratorFrom(r,o):i.getIteratorFrom(r,o);let v=m.getNext();for(;v&&u.length<a;)f(v,r)!==0&&u.push(v),v=m.getNext();return u}else return[]}function sje(){return{visibleWrites:al.empty(),allWrites:[],lastWriteId:-1}}function NB(e,t,n,r){return aG(e.writeTree,e.treePath,t,n,r)}function sG(e,t){return eje(e.writeTree,e.treePath,t)}function vN(e,t,n,r){return tje(e.writeTree,e.treePath,t,n,r)}function Q2(e,t){return rje(e.writeTree,rs(e.treePath,t))}function oje(e,t,n,r,a,s){return aje(e.writeTree,e.treePath,t,n,r,a,s)}function qI(e,t,n){return nje(e.writeTree,e.treePath,t,n)}function oG(e,t){return iG(rs(e.treePath,t),e.writeTree)}function iG(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ije{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;Zt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Zt(r!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const s=a.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,cN(r,t.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,NWe(r,a.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,RWe(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,cN(r,t.snapshotNode,a.oldSnap));else throw jm("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lje{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const lG=new lje;class YI{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new JI(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qI(this.writes_,t,r)}}getChildAfterChild(t,n,r){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:RA(this.viewCache_),s=oje(this.writes_,a,n,1,r,t);return s.length===0?null:s[0]}}function cje(e,t){Zt(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Zt(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function uje(e,t,n,r,a){const s=new ije;let o,i;if(n.type===Ql.OVERWRITE){const A=n;A.source.fromUser?o=LB(e,t,A.path,A.snap,r,a,s):(Zt(A.source.fromServer,"Unknown source."),i=A.source.tagged||t.serverCache.isFiltered()&&!Yn(A.path),o=H2(e,t,A.path,A.snap,r,a,i,s))}else if(n.type===Ql.MERGE){const A=n;A.source.fromUser?o=Aje(e,t,A.path,A.children,r,a,s):(Zt(A.source.fromServer,"Unknown source."),i=A.source.tagged||t.serverCache.isFiltered(),o=VB(e,t,A.path,A.children,r,a,i,s))}else if(n.type===Ql.ACK_USER_WRITE){const A=n;A.revert?o=hje(e,t,A.path,r,a,s):o=fje(e,t,A.path,A.affectedTree,r,a,s)}else if(n.type===Ql.LISTEN_COMPLETE)o=mje(e,t,n.path,r,s);else throw jm("Unknown operation type: "+n.type);const c=s.getChanges();return dje(t,o,c),{viewCache:o,changes:c}}function dje(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=DB(e);(n.length>0||!e.eventCache.isFullyInitialized()||a&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(UWe(DB(t)))}}function cG(e,t,n,r,a,s){const o=t.eventCache;if(Q2(r,n)!=null)return t;{let i,c;if(Yn(n))if(Zt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const A=RA(t),u=A instanceof Cr?A:Cr.EMPTY_NODE,f=sG(r,u);i=e.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const A=NB(r,RA(t));i=e.filter.updateFullNode(t.eventCache.getNode(),A,s)}else{const A=rr(n);if(A===".priority"){Zt(cd(n)===1,"Can't have a priority with additional path components");const u=o.getNode();c=t.serverCache.getNode();const f=vN(r,n,u,c);f!=null?i=e.filter.updatePriority(u,f):i=o.getNode()}else{const u=$r(n);let f;if(o.isCompleteForChild(A)){c=t.serverCache.getNode();const m=vN(r,n,o.getNode(),c);m!=null?f=o.getNode().getImmediateChild(A).updateChild(u,m):f=o.getNode().getImmediateChild(A)}else f=qI(r,A,t.serverCache);f!=null?i=e.filter.updateChild(o.getNode(),A,f,u,a,s):i=o.getNode()}}return av(t,i,o.isFullyInitialized()||Yn(n),e.filter.filtersNodes())}}function H2(e,t,n,r,a,s,o,i){const c=t.serverCache;let A;const u=o?e.filter:e.filter.getIndexedFilter();if(Yn(n))A=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,r);A=u.updateFullNode(c.getNode(),v,null)}else{const v=rr(n);if(!c.isCompleteForPath(n)&&cd(n)>1)return t;const h=$r(n),w=c.getNode().getImmediateChild(v).updateChild(h,r);v===".priority"?A=u.updatePriority(c.getNode(),w):A=u.updateChild(c.getNode(),v,w,h,lG,null)}const f=eG(t,A,c.isFullyInitialized()||Yn(n),u.filtersNodes()),m=new YI(a,f,s);return cG(e,f,n,a,m,i)}function LB(e,t,n,r,a,s,o){const i=t.eventCache;let c,A;const u=new YI(a,t,s);if(Yn(n))A=e.filter.updateFullNode(t.eventCache.getNode(),r,o),c=av(t,A,!0,e.filter.filtersNodes());else{const f=rr(n);if(f===".priority")A=e.filter.updatePriority(t.eventCache.getNode(),r),c=av(t,A,i.isFullyInitialized(),i.isFiltered());else{const m=$r(n),v=i.getNode().getImmediateChild(f);let h;if(Yn(m))h=r;else{const y=u.getCompleteChild(f);y!=null?MK(m)===".priority"&&y.getChild(QK(m)).isEmpty()?h=y:h=y.updateChild(m,r):h=Cr.EMPTY_NODE}if(v.equals(h))c=t;else{const y=e.filter.updateChild(i.getNode(),f,h,m,u,o);c=av(t,y,i.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function pN(e,t){return e.eventCache.isCompleteForChild(t)}function Aje(e,t,n,r,a,s,o){let i=t;return r.foreach((c,A)=>{const u=rs(n,c);pN(t,rr(u))&&(i=LB(e,i,u,A,a,s,o))}),r.foreach((c,A)=>{const u=rs(n,c);pN(t,rr(u))||(i=LB(e,i,u,A,a,s,o))}),i}function gN(e,t,n){return n.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function VB(e,t,n,r,a,s,o,i){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,A;Yn(n)?A=r:A=new zr(null).setTree(n,r);const u=t.serverCache.getNode();return A.children.inorderTraversal((f,m)=>{if(u.hasChild(f)){const v=t.serverCache.getNode().getImmediateChild(f),h=gN(e,v,m);c=H2(e,c,new Jr(f),h,a,s,o,i)}}),A.children.inorderTraversal((f,m)=>{const v=!t.serverCache.isCompleteForChild(f)&&m.value===null;if(!u.hasChild(f)&&!v){const h=t.serverCache.getNode().getImmediateChild(f),y=gN(e,h,m);c=H2(e,c,new Jr(f),y,a,s,o,i)}}),c}function fje(e,t,n,r,a,s,o){if(Q2(a,n)!=null)return t;const i=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(Yn(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return H2(e,t,n,c.getNode().getChild(n),a,s,i,o);if(Yn(n)){let A=new zr(null);return c.getNode().forEachChild(vm,(u,f)=>{A=A.set(new Jr(u),f)}),VB(e,t,n,A,a,s,i,o)}else return t}else{let A=new zr(null);return r.foreach((u,f)=>{const m=rs(n,u);c.isCompleteForPath(m)&&(A=A.set(u,c.getNode().getChild(m)))}),VB(e,t,n,A,a,s,i,o)}}function mje(e,t,n,r,a){const s=t.serverCache,o=eG(t,s.getNode(),s.isFullyInitialized()||Yn(n),s.isFiltered());return cG(e,o,n,r,lG,a)}function hje(e,t,n,r,a,s){let o;if(Q2(r,n)!=null)return t;{const i=new YI(r,t,a),c=t.eventCache.getNode();let A;if(Yn(n)||rr(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=NB(r,RA(t));else{const f=t.serverCache.getNode();Zt(f instanceof Cr,"serverChildren would be complete if leaf node"),u=sG(r,f)}u=u,A=e.filter.updateFullNode(c,u,s)}else{const u=rr(n);let f=qI(r,u,t.serverCache);f==null&&t.serverCache.isCompleteForChild(u)&&(f=c.getImmediateChild(u)),f!=null?A=e.filter.updateChild(c,u,f,$r(n),i,s):t.eventCache.getNode().hasChild(u)?A=e.filter.updateChild(c,u,Cr.EMPTY_NODE,$r(n),i,s):A=c,A.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=NB(r,RA(t)),o.isLeafNode()&&(A=e.filter.updateFullNode(A,o,s)))}return o=t.serverCache.isFullyInitialized()||Q2(r,Dr())!=null,av(t,A,o,e.filter.filtersNodes())}}function vje(e,t){const n=RA(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Yn(t)&&!n.getImmediateChild(rr(t)).isEmpty())?n.getChild(t):null}function yN(e,t,n,r){t.type===Ql.MERGE&&t.source.queryId!==null&&(Zt(RA(e.viewCache_),"We should always have a full cache before handling merges"),Zt(DB(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,s=uje(e.processor_,a,t,n,r);return cje(e.processor_,s.viewCache),Zt(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,pje(e,s.changes,s.viewCache.eventCache.getNode())}function pje(e,t,n,r){const a=e.eventRegistrations_;return GWe(e.eventGenerator_,t,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wN;function gje(e){Zt(!wN,"__referenceConstructor has already been defined"),wN=e}function XI(e,t,n,r){const a=t.source.queryId;if(a!==null){const s=e.views.get(a);return Zt(s!=null,"SyncTree gave us an op for an invalid query."),yN(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(yN(o,t,n,r));return s}}function ZI(e,t){let n=null;for(const r of e.views.values())n=n||vje(r,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _N;function yje(e){Zt(!_N,"__referenceConstructor has already been defined"),_N=e}class bN{constructor(t){this.listenProvider_=t,this.syncPointTree_=new zr(null),this.pendingWriteTree_=sje(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wje(e,t,n,r,a){return jWe(e.pendingWriteTree_,t,n,r,a),a?w_(e,new UA(qK(),t,n)):[]}function Xf(e,t,n=!1){const r=JWe(e.pendingWriteTree_,t);if(qWe(e.pendingWriteTree_,t)){let s=new zr(null);return r.snap!=null?s=s.set(Dr(),!0):Si(r.children,o=>{s=s.set(new Jr(o),!0)}),w_(e,new O2(r.path,s,n))}else return[]}function y_(e,t,n){return w_(e,new UA(YK(),t,n))}function _je(e,t,n){const r=zr.fromObject(n);return w_(e,new ep(YK(),t,r))}function bje(e,t,n,r){const a=fG(e,r);if(a!=null){const s=mG(a),o=s.path,i=s.queryId,c=bi(o,t),A=new UA(XK(i),c,n);return hG(e,o,A)}else return[]}function xje(e,t,n,r){const a=fG(e,r);if(a){const s=mG(a),o=s.path,i=s.queryId,c=bi(o,t),A=zr.fromObject(n),u=new ep(XK(i),c,A);return hG(e,o,u)}else return[]}function uG(e,t,n){const a=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,i)=>{const c=bi(o,t),A=ZI(i,c);if(A)return A});return aG(a,t,s,n,!0)}function w_(e,t){return dG(t,e.syncPointTree_,null,nG(e.pendingWriteTree_,Dr()))}function dG(e,t,n,r){if(Yn(e.path))return AG(e,t,n,r);{const a=t.get(Dr());n==null&&a!=null&&(n=ZI(a,Dr()));let s=[];const o=rr(e.path),i=e.operationForChild(o),c=t.children.get(o);if(c&&i){const A=n?n.getImmediateChild(o):null,u=oG(r,o);s=s.concat(dG(i,c,A,u))}return a&&(s=s.concat(XI(a,e,r,n))),s}}function AG(e,t,n,r){const a=t.get(Dr());n==null&&a!=null&&(n=ZI(a,Dr()));let s=[];return t.children.inorderTraversal((o,i)=>{const c=n?n.getImmediateChild(o):null,A=oG(r,o),u=e.operationForChild(o);u&&(s=s.concat(AG(u,i,c,A)))}),a&&(s=s.concat(XI(a,e,r,n))),s}function fG(e,t){return e.tagToQueryMap.get(t)}function mG(e){const t=e.indexOf("$");return Zt(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Jr(e.substr(0,t))}}function hG(e,t,n){const r=e.syncPointTree_.get(t);Zt(r,"Missing sync point for query tag that we're tracking");const a=nG(e.pendingWriteTree_,t);return XI(r,n,a,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new eT(n)}node(){return this.node_}}class tT{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=rs(this.path_,t);return new tT(this.syncTree_,n)}node(){return uG(this.syncTree_,this.path_)}}const Cje=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},xN=function(e,t,n){if(!e||typeof e!="object")return e;if(Zt(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Eje(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Bje(e[".sv"],t);Zt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Eje=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Zt(!1,"Unexpected server value: "+e)}},Bje=function(e,t,n){e.hasOwnProperty("increment")||Zt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&Zt(!1,"Unexpected increment value: "+r);const a=t.node();if(Zt(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const o=a.getValue();return typeof o!="number"?r:o+r},Sje=function(e,t,n,r){return nT(t,new tT(n,e),r)},kje=function(e,t,n){return nT(e,new eT(t),n)};function nT(e,t,n){const r=e.getPriority().val(),a=xN(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,i=xN(o.getValue(),t,n);return i!==o.getValue()||a!==o.getPriority().val()?new Xa(i,Fs(a)):e}else{const o=e;return s=o,a!==o.getPriority().val()&&(s=s.updatePriority(new Xa(a))),o.forEachChild(Ms,(i,c)=>{const A=nT(c,t.getImmediateChild(i),n);A!==c&&(s=s.updateImmediateChild(i,A))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function aT(e,t){let n=t instanceof Jr?t:new Jr(t),r=e,a=rr(n);for(;a!==null;){const s=Tm(r.node.children,a)||{children:{},childCount:0};r=new rT(a,r,s),n=$r(n),a=rr(n)}return r}function hh(e){return e.node.value}function vG(e,t){e.node.value=t,MB(e)}function pG(e){return e.node.childCount>0}function Ije(e){return hh(e)===void 0&&!pG(e)}function __(e,t){Si(e.node.children,(n,r)=>{t(new rT(n,e,r))})}function gG(e,t,n,r){n&&t(e),__(e,a=>{gG(a,t,!0)})}function Tje(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function $p(e){return new Jr(e.parent===null?e.name:$p(e.parent)+"/"+e.name)}function MB(e){e.parent!==null&&Fje(e.parent,e.name,e)}function Fje(e,t,n){const r=Ije(n),a=su(e.node.children,t);r&&a?(delete e.node.children[t],e.node.childCount--,MB(e)):!r&&!a&&(e.node.children[t]=n.node,e.node.childCount++,MB(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pje=/[\[\].#$\/\u0000-\u001F\u007F]/,Dje=/[\[\].#$\u0000-\u001F\u007F]/,iC=10*1024*1024,yG=function(e){return typeof e=="string"&&e.length!==0&&!Pje.test(e)},Uje=function(e){return typeof e=="string"&&e.length!==0&&!Dje.test(e)},Rje=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Uje(e)},wG=function(e,t,n){const r=n instanceof Jr?new mWe(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Kd(r));if(typeof t=="function")throw new Error(e+"contains a function "+Kd(r)+" with contents = "+t.toString());if(yK(t))throw new Error(e+"contains "+t.toString()+" "+Kd(r));if(typeof t=="string"&&t.length>iC/3&&yw(t)>iC)throw new Error(e+"contains a string greater than "+iC+" utf8 bytes "+Kd(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,s=!1;if(Si(t,(o,i)=>{if(o===".value")a=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!yG(o)))throw new Error(e+" contains an invalid key ("+o+") "+Kd(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hWe(r,o),wG(e,i,r),vWe(r)}),a&&s)throw new Error(e+' contains ".value" child '+Kd(r)+" in addition to actual children.")}},Nje=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!yG(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Rje(n))throw new Error(sie(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lje{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vje(e,t){let n=null;for(let r=0;r<t.length;r++){const a=t[r],s=a.getPath();n!==null&&!HK(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(a)}n&&e.eventLists_.push(n)}function nf(e,t,n){Vje(e,n),Mje(e,r=>Yi(r,t)||Yi(t,r))}function Mje(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const a=e.eventLists_[r];if(a){const s=a.path;t(s)?(Oje(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Oje(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();nv&&Ts("event: "+n.toString()),Gp(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qje="repo_interrupt",Hje=25;class Kje{constructor(t,n,r,a){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lje,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=M2(),this.transactionQueueTree_=new rT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Gje(e,t,n){if(e.stats_=GI(e.repoInfo_),e.forceRestClient_||V$e())e.server_=new V2(e.repoInfo_,(r,a,s,o)=>{CN(e,r,a,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>EN(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{As(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Gc(e.repoInfo_,t,(r,a,s,o)=>{CN(e,r,a,s,o)},r=>{EN(e,r)},r=>{$je(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=G$e(e.repoInfo_,()=>new KWe(e.stats_,e.server_)),e.infoData_=new VWe,e.infoSyncTree_=new bN({startListening:(r,a,s,o)=>{let i=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(i=y_(e.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),i},stopListening:()=>{}}),sT(e,"connected",!1),e.serverSyncTree_=new bN({startListening:(r,a,s,o)=>(e.server_.listen(r,s,a,(i,c)=>{const A=o(i,c);nf(e.eventQueue_,r._path,A)}),[]),stopListening:(r,a)=>{e.server_.unlisten(r,a)}})}function zje(e){const n=e.infoData_.getNode(new Jr(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _G(e){return Cje({timestamp:zje(e)})}function CN(e,t,n,r,a){e.dataUpdateCount++;const s=new Jr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(a)if(r){const c=Qy(n,A=>Fs(A));o=xje(e.serverSyncTree_,s,c,a)}else{const c=Fs(n);o=bje(e.serverSyncTree_,s,c,a)}else if(r){const c=Qy(n,A=>Fs(A));o=_je(e.serverSyncTree_,s,c)}else{const c=Fs(n);o=y_(e.serverSyncTree_,s,c)}let i=s;o.length>0&&(i=iT(e,s)),nf(e.eventQueue_,i,o)}function EN(e,t){sT(e,"connected",t),t===!1&&jje(e)}function $je(e,t){Si(t,(n,r)=>{sT(e,n,r)})}function sT(e,t,n){const r=new Jr("/.info/"+t),a=Fs(n);e.infoData_.updateSnapshot(r,a);const s=y_(e.infoSyncTree_,r,a);nf(e.eventQueue_,r,s)}function Wje(e){return e.nextWriteId_++}function jje(e){bG(e,"onDisconnectEvents");const t=_G(e),n=M2();PB(e.onDisconnect_,Dr(),(a,s)=>{const o=Sje(a,s,e.serverSyncTree_,t);JK(n,a,o)});let r=[];PB(n,Dr(),(a,s)=>{r=r.concat(y_(e.serverSyncTree_,a,s));const o=Xje(e,a);iT(e,o)}),e.onDisconnect_=M2(),nf(e.eventQueue_,Dr(),r)}function Jje(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Qje)}function bG(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ts(n,...t)}function xG(e,t,n){return uG(e.serverSyncTree_,t,n)||Cr.EMPTY_NODE}function oT(e,t=e.transactionQueueTree_){if(t||b_(e,t),hh(t)){const n=EG(e,t);Zt(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&qje(e,$p(t),n)}else pG(t)&&__(t,n=>{oT(e,n)})}function qje(e,t,n){const r=n.map(A=>A.currentWriteId),a=xG(e,t,r);let s=a;const o=a.hash();for(let A=0;A<n.length;A++){const u=n[A];Zt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const f=bi(t,u.path);s=s.updateChild(f,u.currentOutputSnapshotRaw)}const i=s.val(!0),c=t;e.server_.put(c.toString(),i,A=>{bG(e,"transaction put response",{path:c.toString(),status:A});let u=[];if(A==="ok"){const f=[];for(let m=0;m<n.length;m++)n[m].status=2,u=u.concat(Xf(e.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&f.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();b_(e,aT(e.transactionQueueTree_,t)),oT(e,e.transactionQueueTree_),nf(e.eventQueue_,t,u);for(let m=0;m<f.length;m++)Gp(f[m])}else{if(A==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Xo("transaction at "+c.toString()+" failed: "+A);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=A}iT(e,t)}},o)}function iT(e,t){const n=CG(e,t),r=$p(n),a=EG(e,n);return Yje(e,a,r),r}function Yje(e,t,n){if(t.length===0)return;const r=[];let a=[];const o=t.filter(i=>i.status===0).map(i=>i.currentWriteId);for(let i=0;i<t.length;i++){const c=t[i],A=bi(n,c.path);let u=!1,f;if(Zt(A!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,f=c.abortReason,a=a.concat(Xf(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Hje)u=!0,f="maxretry",a=a.concat(Xf(e.serverSyncTree_,c.currentWriteId,!0));else{const m=xG(e,c.path,o);c.currentInputSnapshot=m;const v=t[i].update(m.val());if(v!==void 0){wG("transaction failed: Data returned ",v,c.path);let h=Fs(v);typeof v=="object"&&v!=null&&su(v,".priority")||(h=h.updatePriority(m.getPriority()));const w=c.currentWriteId,b=_G(e),B=kje(h,m,b);c.currentOutputSnapshotRaw=h,c.currentOutputSnapshotResolved=B,c.currentWriteId=Wje(e),o.splice(o.indexOf(w),1),a=a.concat(wje(e.serverSyncTree_,c.path,B,c.currentWriteId,c.applyLocally)),a=a.concat(Xf(e.serverSyncTree_,w,!0))}else u=!0,f="nodata",a=a.concat(Xf(e.serverSyncTree_,c.currentWriteId,!0))}nf(e.eventQueue_,n,a),a=[],u&&(t[i].status=2,(function(m){setTimeout(m,Math.floor(0))})(t[i].unwatcher),t[i].onComplete&&(f==="nodata"?r.push(()=>t[i].onComplete(null,!1,t[i].currentInputSnapshot)):r.push(()=>t[i].onComplete(new Error(f),!1,null))))}b_(e,e.transactionQueueTree_);for(let i=0;i<r.length;i++)Gp(r[i]);oT(e,e.transactionQueueTree_)}function CG(e,t){let n,r=e.transactionQueueTree_;for(n=rr(t);n!==null&&hh(r)===void 0;)r=aT(r,n),t=$r(t),n=rr(t);return r}function EG(e,t){const n=[];return BG(e,t,n),n.sort((r,a)=>r.order-a.order),n}function BG(e,t,n){const r=hh(t);if(r)for(let a=0;a<r.length;a++)n.push(r[a]);__(t,a=>{BG(e,a,n)})}function b_(e,t){const n=hh(t);if(n){let r=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[r]=n[a],r++);n.length=r,vG(t,n.length>0?n:void 0)}__(t,r=>{b_(e,r)})}function Xje(e,t){const n=$p(CG(e,t)),r=aT(e.transactionQueueTree_,t);return Tje(r,a=>{lC(e,a)}),lC(e,r),gG(r,a=>{lC(e,a)}),n}function lC(e,t){const n=hh(t);if(n){const r=[];let a=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Zt(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Zt(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),a=a.concat(Xf(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?vG(t,void 0):n.length=s+1,nf(e.eventQueue_,$p(t),a);for(let o=0;o<r.length;o++)Gp(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zje(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let a=n[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function eJe(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Xo(`Invalid query segment '${n}' in query '${e}'`)}return t}const BN=function(e,t){const n=tJe(e),r=n.namespace;n.domain==="firebase.com"&&PA(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&PA("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||T$e();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Q$e(n.host,n.secure,r,a,t,"",r!==n.subdomain),path:new Jr(n.pathString)}},tJe=function(e){let t="",n="",r="",a="",s="",o=!0,i="https",c=443;if(typeof e=="string"){let A=e.indexOf("//");A>=0&&(i=e.substring(0,A-1),e=e.substring(A+2));let u=e.indexOf("/");u===-1&&(u=e.length);let f=e.indexOf("?");f===-1&&(f=e.length),t=e.substring(0,Math.min(u,f)),u<f&&(a=Zje(e.substring(u,f)));const m=eJe(e.substring(Math.min(e.length,f)));A=t.indexOf(":"),A>=0?(o=i==="https"||i==="wss",c=parseInt(t.substring(A+1),10)):A=t.length;const v=t.slice(0,A);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const h=t.indexOf(".");r=t.substring(0,h).toLowerCase(),n=t.substring(h+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:o,scheme:i,pathString:a,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,n,r,a){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=a}get key(){return Yn(this._path)?null:MK(this._path)}get ref(){return new vh(this._repo,this._path)}get _queryIdentifier(){const t=dN(this._queryParams),n=HI(t);return n==="{}"?"default":n}get _queryObject(){return dN(this._queryParams)}isEqual(t){if(t=sc(t),!(t instanceof lT))return!1;const n=this._repo===t._repo,r=HK(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return n&&r&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+fWe(this._path)}}class vh extends lT{constructor(t,n){super(t,n,new jI,!1)}get parent(){const t=QK(this._path);return t===null?null:new vh(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}gje(vh);yje(vh);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJe="FIREBASE_DATABASE_EMULATOR_HOST",OB={};let rJe=!1;function aJe(e,t,n,r,a){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||PA("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ts("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=BN(s,a),i=o.repoInfo,c;typeof process<"u"&&$R&&(c=$R[nJe]),c?(s=`http://${c}?ns=${i.namespace}`,o=BN(s,a),i=o.repoInfo):o.repoInfo.secure;const A=new O$e(e.name,e.options,t);Nje("Invalid Firebase Database URL",o),Yn(o.path)||PA("Database URL must point to the root of a Firebase Database (not including a child path).");const u=oJe(i,e,A,new M$e(e,n));return new iJe(u,e)}function sJe(e,t){const n=OB[t];(!n||n[e.key]!==e)&&PA(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Jje(e),delete n[e.key]}function oJe(e,t,n,r){let a=OB[t.name];a||(a={},OB[t.name]=a);let s=a[e.toURLString()];return s&&PA("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Kje(e,rJe,n,r),a[e.toURLString()]=s,s}class iJe{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Gje(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vh(this._repo,Dr())),this._rootInternal}_delete(){return this._rootInternal!==null&&(sJe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&PA("Cannot call "+t+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lJe(e){C$e(hd),Wl(new il("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return aJe(r,a,s,n)},"PUBLIC").setMultipleInstances(!0)),Yo(WR,jR,e),Yo(WR,jR,"esm2020")}Gc.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Gc.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};lJe();var SN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,_){function C(){}C.prototype=_.prototype,E.F=_.prototype,E.prototype=new C,E.prototype.constructor=E,E.D=function(F,I,R){for(var M=Array(arguments.length-2),te=2;te<arguments.length;te++)M[te-2]=arguments[te];return _.prototype[I].apply(F,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(E,_,C){C||(C=0);const F=Array(16);if(typeof _=="string")for(var I=0;I<16;++I)F[I]=_.charCodeAt(C++)|_.charCodeAt(C++)<<8|_.charCodeAt(C++)<<16|_.charCodeAt(C++)<<24;else for(I=0;I<16;++I)F[I]=_[C++]|_[C++]<<8|_[C++]<<16|_[C++]<<24;_=E.g[0],C=E.g[1],I=E.g[2];let R=E.g[3],M;M=_+(R^C&(I^R))+F[0]+3614090360&4294967295,_=C+(M<<7&4294967295|M>>>25),M=R+(I^_&(C^I))+F[1]+3905402710&4294967295,R=_+(M<<12&4294967295|M>>>20),M=I+(C^R&(_^C))+F[2]+606105819&4294967295,I=R+(M<<17&4294967295|M>>>15),M=C+(_^I&(R^_))+F[3]+3250441966&4294967295,C=I+(M<<22&4294967295|M>>>10),M=_+(R^C&(I^R))+F[4]+4118548399&4294967295,_=C+(M<<7&4294967295|M>>>25),M=R+(I^_&(C^I))+F[5]+1200080426&4294967295,R=_+(M<<12&4294967295|M>>>20),M=I+(C^R&(_^C))+F[6]+2821735955&4294967295,I=R+(M<<17&4294967295|M>>>15),M=C+(_^I&(R^_))+F[7]+4249261313&4294967295,C=I+(M<<22&4294967295|M>>>10),M=_+(R^C&(I^R))+F[8]+1770035416&4294967295,_=C+(M<<7&4294967295|M>>>25),M=R+(I^_&(C^I))+F[9]+2336552879&4294967295,R=_+(M<<12&4294967295|M>>>20),M=I+(C^R&(_^C))+F[10]+4294925233&4294967295,I=R+(M<<17&4294967295|M>>>15),M=C+(_^I&(R^_))+F[11]+2304563134&4294967295,C=I+(M<<22&4294967295|M>>>10),M=_+(R^C&(I^R))+F[12]+1804603682&4294967295,_=C+(M<<7&4294967295|M>>>25),M=R+(I^_&(C^I))+F[13]+4254626195&4294967295,R=_+(M<<12&4294967295|M>>>20),M=I+(C^R&(_^C))+F[14]+2792965006&4294967295,I=R+(M<<17&4294967295|M>>>15),M=C+(_^I&(R^_))+F[15]+1236535329&4294967295,C=I+(M<<22&4294967295|M>>>10),M=_+(I^R&(C^I))+F[1]+4129170786&4294967295,_=C+(M<<5&4294967295|M>>>27),M=R+(C^I&(_^C))+F[6]+3225465664&4294967295,R=_+(M<<9&4294967295|M>>>23),M=I+(_^C&(R^_))+F[11]+643717713&4294967295,I=R+(M<<14&4294967295|M>>>18),M=C+(R^_&(I^R))+F[0]+3921069994&4294967295,C=I+(M<<20&4294967295|M>>>12),M=_+(I^R&(C^I))+F[5]+3593408605&4294967295,_=C+(M<<5&4294967295|M>>>27),M=R+(C^I&(_^C))+F[10]+38016083&4294967295,R=_+(M<<9&4294967295|M>>>23),M=I+(_^C&(R^_))+F[15]+3634488961&4294967295,I=R+(M<<14&4294967295|M>>>18),M=C+(R^_&(I^R))+F[4]+3889429448&4294967295,C=I+(M<<20&4294967295|M>>>12),M=_+(I^R&(C^I))+F[9]+568446438&4294967295,_=C+(M<<5&4294967295|M>>>27),M=R+(C^I&(_^C))+F[14]+3275163606&4294967295,R=_+(M<<9&4294967295|M>>>23),M=I+(_^C&(R^_))+F[3]+4107603335&4294967295,I=R+(M<<14&4294967295|M>>>18),M=C+(R^_&(I^R))+F[8]+1163531501&4294967295,C=I+(M<<20&4294967295|M>>>12),M=_+(I^R&(C^I))+F[13]+2850285829&4294967295,_=C+(M<<5&4294967295|M>>>27),M=R+(C^I&(_^C))+F[2]+4243563512&4294967295,R=_+(M<<9&4294967295|M>>>23),M=I+(_^C&(R^_))+F[7]+1735328473&4294967295,I=R+(M<<14&4294967295|M>>>18),M=C+(R^_&(I^R))+F[12]+2368359562&4294967295,C=I+(M<<20&4294967295|M>>>12),M=_+(C^I^R)+F[5]+4294588738&4294967295,_=C+(M<<4&4294967295|M>>>28),M=R+(_^C^I)+F[8]+2272392833&4294967295,R=_+(M<<11&4294967295|M>>>21),M=I+(R^_^C)+F[11]+1839030562&4294967295,I=R+(M<<16&4294967295|M>>>16),M=C+(I^R^_)+F[14]+4259657740&4294967295,C=I+(M<<23&4294967295|M>>>9),M=_+(C^I^R)+F[1]+2763975236&4294967295,_=C+(M<<4&4294967295|M>>>28),M=R+(_^C^I)+F[4]+1272893353&4294967295,R=_+(M<<11&4294967295|M>>>21),M=I+(R^_^C)+F[7]+4139469664&4294967295,I=R+(M<<16&4294967295|M>>>16),M=C+(I^R^_)+F[10]+3200236656&4294967295,C=I+(M<<23&4294967295|M>>>9),M=_+(C^I^R)+F[13]+681279174&4294967295,_=C+(M<<4&4294967295|M>>>28),M=R+(_^C^I)+F[0]+3936430074&4294967295,R=_+(M<<11&4294967295|M>>>21),M=I+(R^_^C)+F[3]+3572445317&4294967295,I=R+(M<<16&4294967295|M>>>16),M=C+(I^R^_)+F[6]+76029189&4294967295,C=I+(M<<23&4294967295|M>>>9),M=_+(C^I^R)+F[9]+3654602809&4294967295,_=C+(M<<4&4294967295|M>>>28),M=R+(_^C^I)+F[12]+3873151461&4294967295,R=_+(M<<11&4294967295|M>>>21),M=I+(R^_^C)+F[15]+530742520&4294967295,I=R+(M<<16&4294967295|M>>>16),M=C+(I^R^_)+F[2]+3299628645&4294967295,C=I+(M<<23&4294967295|M>>>9),M=_+(I^(C|~R))+F[0]+4096336452&4294967295,_=C+(M<<6&4294967295|M>>>26),M=R+(C^(_|~I))+F[7]+1126891415&4294967295,R=_+(M<<10&4294967295|M>>>22),M=I+(_^(R|~C))+F[14]+2878612391&4294967295,I=R+(M<<15&4294967295|M>>>17),M=C+(R^(I|~_))+F[5]+4237533241&4294967295,C=I+(M<<21&4294967295|M>>>11),M=_+(I^(C|~R))+F[12]+1700485571&4294967295,_=C+(M<<6&4294967295|M>>>26),M=R+(C^(_|~I))+F[3]+2399980690&4294967295,R=_+(M<<10&4294967295|M>>>22),M=I+(_^(R|~C))+F[10]+4293915773&4294967295,I=R+(M<<15&4294967295|M>>>17),M=C+(R^(I|~_))+F[1]+2240044497&4294967295,C=I+(M<<21&4294967295|M>>>11),M=_+(I^(C|~R))+F[8]+1873313359&4294967295,_=C+(M<<6&4294967295|M>>>26),M=R+(C^(_|~I))+F[15]+4264355552&4294967295,R=_+(M<<10&4294967295|M>>>22),M=I+(_^(R|~C))+F[6]+2734768916&4294967295,I=R+(M<<15&4294967295|M>>>17),M=C+(R^(I|~_))+F[13]+1309151649&4294967295,C=I+(M<<21&4294967295|M>>>11),M=_+(I^(C|~R))+F[4]+4149444226&4294967295,_=C+(M<<6&4294967295|M>>>26),M=R+(C^(_|~I))+F[11]+3174756917&4294967295,R=_+(M<<10&4294967295|M>>>22),M=I+(_^(R|~C))+F[2]+718787259&4294967295,I=R+(M<<15&4294967295|M>>>17),M=C+(R^(I|~_))+F[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(I+(M<<21&4294967295|M>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+R&4294967295}r.prototype.v=function(E,_){_===void 0&&(_=E.length);const C=_-this.blockSize,F=this.C;let I=this.h,R=0;for(;R<_;){if(I==0)for(;R<=C;)a(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<_;)if(F[I++]=E.charCodeAt(R++),I==this.blockSize){a(this,F),I=0;break}}else for(;R<_;)if(F[I++]=E[R++],I==this.blockSize){a(this,F),I=0;break}}this.h=I,this.o+=_},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;_=this.o*8;for(var C=E.length-8;C<E.length;++C)E[C]=_&255,_/=256;for(this.v(E),E=Array(16),_=0,C=0;C<4;++C)for(let F=0;F<32;F+=8)E[_++]=this.g[C]>>>F&255;return E};function s(E,_){var C=i;return Object.prototype.hasOwnProperty.call(C,E)?C[E]:C[E]=_(E)}function o(E,_){this.h=_;const C=[];let F=!0;for(let I=E.length-1;I>=0;I--){const R=E[I]|0;F&&R==_||(C[I]=R,F=!1)}this.g=C}var i={};function c(E){return-128<=E&&E<128?s(E,function(_){return new o([_|0],_<0?-1:0)}):new o([E|0],E<0?-1:0)}function A(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return w(A(-E));const _=[];let C=1;for(let F=0;E>=C;F++)_[F]=E/C|0,C*=4294967296;return new o(_,0)}function u(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return w(u(E.substring(1),_));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=A(Math.pow(_,8));let F=f;for(let R=0;R<E.length;R+=8){var I=Math.min(8,E.length-R);const M=parseInt(E.substring(R,R+I),_);I<8?(I=A(Math.pow(_,I)),F=F.j(I).add(A(M))):(F=F.j(C),F=F.add(A(M)))}return F}var f=c(0),m=c(1),v=c(16777216);e=o.prototype,e.m=function(){if(y(this))return-w(this).m();let E=0,_=1;for(let C=0;C<this.g.length;C++){const F=this.i(C);E+=(F>=0?F:4294967296+F)*_,_*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(h(this))return"0";if(y(this))return"-"+w(this).toString(E);const _=A(Math.pow(E,6));var C=this;let F="";for(;;){const I=T(C,_).g;C=b(C,I.j(_));let R=((C.g.length>0?C.g[0]:C.h)>>>0).toString(E);if(C=I,h(C))return R+F;for(;R.length<6;)R="0"+R;F=R+F}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function h(E){if(E.h!=0)return!1;for(let _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function y(E){return E.h==-1}e.l=function(E){return E=b(this,E),y(E)?-1:h(E)?0:1};function w(E){const _=E.g.length,C=[];for(let F=0;F<_;F++)C[F]=~E.g[F];return new o(C,~E.h).add(m)}e.abs=function(){return y(this)?w(this):this},e.add=function(E){const _=Math.max(this.g.length,E.g.length),C=[];let F=0;for(let I=0;I<=_;I++){let R=F+(this.i(I)&65535)+(E.i(I)&65535),M=(R>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);F=M>>>16,R&=65535,M&=65535,C[I]=M<<16|R}return new o(C,C[C.length-1]&-2147483648?-1:0)};function b(E,_){return E.add(w(_))}e.j=function(E){if(h(this)||h(E))return f;if(y(this))return y(E)?w(this).j(w(E)):w(w(this).j(E));if(y(E))return w(this.j(w(E)));if(this.l(v)<0&&E.l(v)<0)return A(this.m()*E.m());const _=this.g.length+E.g.length,C=[];for(var F=0;F<2*_;F++)C[F]=0;for(F=0;F<this.g.length;F++)for(let I=0;I<E.g.length;I++){const R=this.i(F)>>>16,M=this.i(F)&65535,te=E.i(I)>>>16,se=E.i(I)&65535;C[2*F+2*I]+=M*se,B(C,2*F+2*I),C[2*F+2*I+1]+=R*se,B(C,2*F+2*I+1),C[2*F+2*I+1]+=M*te,B(C,2*F+2*I+1),C[2*F+2*I+2]+=R*te,B(C,2*F+2*I+2)}for(E=0;E<_;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=_;E<2*_;E++)C[E]=0;return new o(C,0)};function B(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function S(E,_){this.g=E,this.h=_}function T(E,_){if(h(_))throw Error("division by zero");if(h(E))return new S(f,f);if(y(E))return _=T(w(E),_),new S(w(_.g),w(_.h));if(y(_))return _=T(E,w(_)),new S(w(_.g),_.h);if(E.g.length>30){if(y(E)||y(_))throw Error("slowDivide_ only works with positive integers.");for(var C=m,F=_;F.l(E)<=0;)C=N(C),F=N(F);var I=k(C,1),R=k(F,1);for(F=k(F,2),C=k(C,2);!h(F);){var M=R.add(F);M.l(E)<=0&&(I=I.add(C),R=M),F=k(F,1),C=k(C,1)}return _=b(E,I.j(_)),new S(I,_)}for(I=f;E.l(_)>=0;){for(C=Math.max(1,Math.floor(E.m()/_.m())),F=Math.ceil(Math.log(C)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),R=A(C),M=R.j(_);y(M)||M.l(E)>0;)C-=F,R=A(C),M=R.j(_);h(R)&&(R=m),I=I.add(R),E=b(E,M)}return new S(I,E)}e.B=function(E){return T(this,E).h},e.and=function(E){const _=Math.max(this.g.length,E.g.length),C=[];for(let F=0;F<_;F++)C[F]=this.i(F)&E.i(F);return new o(C,this.h&E.h)},e.or=function(E){const _=Math.max(this.g.length,E.g.length),C=[];for(let F=0;F<_;F++)C[F]=this.i(F)|E.i(F);return new o(C,this.h|E.h)},e.xor=function(E){const _=Math.max(this.g.length,E.g.length),C=[];for(let F=0;F<_;F++)C[F]=this.i(F)^E.i(F);return new o(C,this.h^E.h)};function N(E){const _=E.g.length+1,C=[];for(let F=0;F<_;F++)C[F]=E.i(F)<<1|E.i(F-1)>>>31;return new o(C,E.h)}function k(E,_){const C=_>>5;_%=32;const F=E.g.length-C,I=[];for(let R=0;R<F;R++)I[R]=_>0?E.i(R+C)>>>_|E.i(R+C+1)<<32-_:E.i(R+C);return new o(I,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=A,o.fromString=u,cT=o}).apply(typeof SN<"u"?SN:typeof self<"u"?self:typeof window<"u"?window:{});var K1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(P){P=[typeof globalThis=="object"&&globalThis,P,typeof window=="object"&&window,typeof self=="object"&&self,typeof K1=="object"&&K1];for(var ue=0;ue<P.length;++ue){var ve=P[ue];if(ve&&ve.Math==Math)return ve}throw Error("Cannot find global object")}var r=n(this);function a(P,ue){if(ue)e:{var ve=r;P=P.split(".");for(var Ue=0;Ue<P.length-1;Ue++){var ft=P[Ue];if(!(ft in ve))break e;ve=ve[ft]}P=P[P.length-1],Ue=ve[P],ue=ue(Ue),ue!=Ue&&ue!=null&&t(ve,P,{configurable:!0,writable:!0,value:ue})}}a("Symbol.dispose",function(P){return P||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(P){return P||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(P){return P||function(ue){var ve=[],Ue;for(Ue in ue)Object.prototype.hasOwnProperty.call(ue,Ue)&&ve.push([Ue,ue[Ue]]);return ve}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function i(P){var ue=typeof P;return ue=="object"&&P!=null||ue=="function"}function c(P,ue,ve){return P.call.apply(P.bind,arguments)}function A(P,ue,ve){return A=c,A.apply(null,arguments)}function u(P,ue){var ve=Array.prototype.slice.call(arguments,1);return function(){var Ue=ve.slice();return Ue.push.apply(Ue,arguments),P.apply(this,Ue)}}function f(P,ue){function ve(){}ve.prototype=ue.prototype,P.Z=ue.prototype,P.prototype=new ve,P.prototype.constructor=P,P.Ob=function(Ue,ft,pt){for(var Kt=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)Kt[kn-2]=arguments[kn];return ue.prototype[ft].apply(Ue,Kt)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?P=>P&&AsyncContext.Snapshot.wrap(P):P=>P;function v(P){const ue=P.length;if(ue>0){const ve=Array(ue);for(let Ue=0;Ue<ue;Ue++)ve[Ue]=P[Ue];return ve}return[]}function h(P,ue){for(let Ue=1;Ue<arguments.length;Ue++){const ft=arguments[Ue];var ve=typeof ft;if(ve=ve!="object"?ve:ft?Array.isArray(ft)?"array":ve:"null",ve=="array"||ve=="object"&&typeof ft.length=="number"){ve=P.length||0;const pt=ft.length||0;P.length=ve+pt;for(let Kt=0;Kt<pt;Kt++)P[ve+Kt]=ft[Kt]}else P.push(ft)}}class y{constructor(ue,ve){this.i=ue,this.j=ve,this.h=0,this.g=null}get(){let ue;return this.h>0?(this.h--,ue=this.g,this.g=ue.next,ue.next=null):ue=this.i(),ue}}function w(P){o.setTimeout(()=>{throw P},0)}function b(){var P=E;let ue=null;return P.g&&(ue=P.g,P.g=P.g.next,P.g||(P.h=null),ue.next=null),ue}class B{constructor(){this.h=this.g=null}add(ue,ve){const Ue=S.get();Ue.set(ue,ve),this.h?this.h.next=Ue:this.g=Ue,this.h=Ue}}var S=new y(()=>new T,P=>P.reset());class T{constructor(){this.next=this.g=this.h=null}set(ue,ve){this.h=ue,this.g=ve,this.next=null}reset(){this.next=this.g=this.h=null}}let N,k=!1,E=new B,_=()=>{const P=Promise.resolve(void 0);N=()=>{P.then(C)}};function C(){for(var P;P=b();){try{P.h.call(P.g)}catch(ve){w(ve)}var ue=S;ue.j(P),ue.h<100&&(ue.h++,P.next=ue.g,ue.g=P)}k=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(P,ue){this.type=P,this.g=this.target=ue,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var P=!1,ue=Object.defineProperty({},"passive",{get:function(){P=!0}});try{const ve=()=>{};o.addEventListener("test",ve,ue),o.removeEventListener("test",ve,ue)}catch{}return P})();function M(P){return/^[\s\xa0]*$/.test(P)}function te(P,ue){I.call(this,P?P.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,P&&this.init(P,ue)}f(te,I),te.prototype.init=function(P,ue){const ve=this.type=P.type,Ue=P.changedTouches&&P.changedTouches.length?P.changedTouches[0]:null;this.target=P.target||P.srcElement,this.g=ue,ue=P.relatedTarget,ue||(ve=="mouseover"?ue=P.fromElement:ve=="mouseout"&&(ue=P.toElement)),this.relatedTarget=ue,Ue?(this.clientX=Ue.clientX!==void 0?Ue.clientX:Ue.pageX,this.clientY=Ue.clientY!==void 0?Ue.clientY:Ue.pageY,this.screenX=Ue.screenX||0,this.screenY=Ue.screenY||0):(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0),this.button=P.button,this.key=P.key||"",this.ctrlKey=P.ctrlKey,this.altKey=P.altKey,this.shiftKey=P.shiftKey,this.metaKey=P.metaKey,this.pointerId=P.pointerId||0,this.pointerType=P.pointerType,this.state=P.state,this.i=P,P.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const P=this.i;P.preventDefault?P.preventDefault():P.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),O=0;function W(P,ue,ve,Ue,ft){this.listener=P,this.proxy=null,this.src=ue,this.type=ve,this.capture=!!Ue,this.ha=ft,this.key=++O,this.da=this.fa=!1}function le(P){P.da=!0,P.listener=null,P.proxy=null,P.src=null,P.ha=null}function K(P,ue,ve){for(const Ue in P)ue.call(ve,P[Ue],Ue,P)}function ee(P,ue){for(const ve in P)ue.call(void 0,P[ve],ve,P)}function j(P){const ue={};for(const ve in P)ue[ve]=P[ve];return ue}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(P,ue){let ve,Ue;for(let ft=1;ft<arguments.length;ft++){Ue=arguments[ft];for(ve in Ue)P[ve]=Ue[ve];for(let pt=0;pt<U.length;pt++)ve=U[pt],Object.prototype.hasOwnProperty.call(Ue,ve)&&(P[ve]=Ue[ve])}}function ne(P){this.src=P,this.g={},this.h=0}ne.prototype.add=function(P,ue,ve,Ue,ft){const pt=P.toString();P=this.g[pt],P||(P=this.g[pt]=[],this.h++);const Kt=oe(P,ue,Ue,ft);return Kt>-1?(ue=P[Kt],ve||(ue.fa=!1)):(ue=new W(ue,this.src,pt,!!Ue,ft),ue.fa=ve,P.push(ue)),ue};function X(P,ue){const ve=ue.type;if(ve in P.g){var Ue=P.g[ve],ft=Array.prototype.indexOf.call(Ue,ue,void 0),pt;(pt=ft>=0)&&Array.prototype.splice.call(Ue,ft,1),pt&&(le(ue),P.g[ve].length==0&&(delete P.g[ve],P.h--))}}function oe(P,ue,ve,Ue){for(let ft=0;ft<P.length;++ft){const pt=P[ft];if(!pt.da&&pt.listener==ue&&pt.capture==!!ve&&pt.ha==Ue)return ft}return-1}var q="closure_lm_"+(Math.random()*1e6|0),Y={};function ae(P,ue,ve,Ue,ft){if(Array.isArray(ue)){for(let pt=0;pt<ue.length;pt++)ae(P,ue[pt],ve,Ue,ft);return null}return ve=be(ve),P&&P[se]?P.J(ue,ve,i(Ue)?!!Ue.capture:!1,ft):ge(P,ue,ve,!1,Ue,ft)}function ge(P,ue,ve,Ue,ft,pt){if(!ue)throw Error("Invalid event type");const Kt=i(ft)?!!ft.capture:!!ft;let kn=Pe(P);if(kn||(P[q]=kn=new ne(P)),ve=kn.add(ue,ve,Ue,Kt,pt),ve.proxy)return ve;if(Ue=we(),ve.proxy=Ue,Ue.src=P,Ue.listener=ve,P.addEventListener)R||(ft=Kt),ft===void 0&&(ft=!1),P.addEventListener(ue.toString(),Ue,ft);else if(P.attachEvent)P.attachEvent(ie(ue.toString()),Ue);else if(P.addListener&&P.removeListener)P.addListener(Ue);else throw Error("addEventListener and attachEvent are unavailable.");return ve}function we(){function P(ve){return ue.call(P.src,P.listener,ve)}const ue=_e;return P}function z(P,ue,ve,Ue,ft){if(Array.isArray(ue))for(var pt=0;pt<ue.length;pt++)z(P,ue[pt],ve,Ue,ft);else Ue=i(Ue)?!!Ue.capture:!!Ue,ve=be(ve),P&&P[se]?(P=P.i,pt=String(ue).toString(),pt in P.g&&(ue=P.g[pt],ve=oe(ue,ve,Ue,ft),ve>-1&&(le(ue[ve]),Array.prototype.splice.call(ue,ve,1),ue.length==0&&(delete P.g[pt],P.h--)))):P&&(P=Pe(P))&&(ue=P.g[ue.toString()],P=-1,ue&&(P=oe(ue,ve,Ue,ft)),(ve=P>-1?ue[P]:null)&&Ae(ve))}function Ae(P){if(typeof P!="number"&&P&&!P.da){var ue=P.src;if(ue&&ue[se])X(ue.i,P);else{var ve=P.type,Ue=P.proxy;ue.removeEventListener?ue.removeEventListener(ve,Ue,P.capture):ue.detachEvent?ue.detachEvent(ie(ve),Ue):ue.addListener&&ue.removeListener&&ue.removeListener(Ue),(ve=Pe(ue))?(X(ve,P),ve.h==0&&(ve.src=null,ue[q]=null)):le(P)}}}function ie(P){return P in Y?Y[P]:Y[P]="on"+P}function _e(P,ue){if(P.da)P=!0;else{ue=new te(ue,this);const ve=P.listener,Ue=P.ha||P.src;P.fa&&Ae(P),P=ve.call(Ue,ue)}return P}function Pe(P){return P=P[q],P instanceof ne?P:null}var re="__closure_events_fn_"+(Math.random()*1e9>>>0);function be(P){return typeof P=="function"?P:(P[re]||(P[re]=function(ue){return P.handleEvent(ue)}),P[re])}function He(){F.call(this),this.i=new ne(this),this.M=this,this.G=null}f(He,F),He.prototype[se]=!0,He.prototype.removeEventListener=function(P,ue,ve,Ue){z(this,P,ue,ve,Ue)};function ke(P,ue){var ve,Ue=P.G;if(Ue)for(ve=[];Ue;Ue=Ue.G)ve.push(Ue);if(P=P.M,Ue=ue.type||ue,typeof ue=="string")ue=new I(ue,P);else if(ue instanceof I)ue.target=ue.target||P;else{var ft=ue;ue=new I(Ue,P),G(ue,ft)}ft=!0;let pt,Kt;if(ve)for(Kt=ve.length-1;Kt>=0;Kt--)pt=ue.g=ve[Kt],ft=Se(pt,Ue,!0,ue)&&ft;if(pt=ue.g=P,ft=Se(pt,Ue,!0,ue)&&ft,ft=Se(pt,Ue,!1,ue)&&ft,ve)for(Kt=0;Kt<ve.length;Kt++)pt=ue.g=ve[Kt],ft=Se(pt,Ue,!1,ue)&&ft}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var P=this.i;for(const ue in P.g){const ve=P.g[ue];for(let Ue=0;Ue<ve.length;Ue++)le(ve[Ue]);delete P.g[ue],P.h--}}this.G=null},He.prototype.J=function(P,ue,ve,Ue){return this.i.add(String(P),ue,!1,ve,Ue)},He.prototype.K=function(P,ue,ve,Ue){return this.i.add(String(P),ue,!0,ve,Ue)};function Se(P,ue,ve,Ue){if(ue=P.i.g[String(ue)],!ue)return!0;ue=ue.concat();let ft=!0;for(let pt=0;pt<ue.length;++pt){const Kt=ue[pt];if(Kt&&!Kt.da&&Kt.capture==ve){const kn=Kt.listener,ha=Kt.ha||Kt.src;Kt.fa&&X(P.i,Kt),ft=kn.call(ha,Ue)!==!1&&ft}}return ft&&!Ue.defaultPrevented}function st(P,ue){if(typeof P!="function")if(P&&typeof P.handleEvent=="function")P=A(P.handleEvent,P);else throw Error("Invalid listener argument");return Number(ue)>2147483647?-1:o.setTimeout(P,ue||0)}function je(P){P.g=st(()=>{P.g=null,P.i&&(P.i=!1,je(P))},P.l);const ue=P.h;P.h=null,P.m.apply(null,ue)}class Ve extends F{constructor(ue,ve){super(),this.m=ue,this.l=ve,this.h=null,this.i=!1,this.g=null}j(ue){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Te(P){F.call(this),this.h=P,this.g={}}f(Te,F);var Le=[];function ht(P){K(P.g,function(ue,ve){this.g.hasOwnProperty(ve)&&Ae(ue)},P),P.g={}}Te.prototype.N=function(){Te.Z.N.call(this),ht(this)},Te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ct=o.JSON.stringify,Dt=o.JSON.parse,Je=class{stringify(P){return o.JSON.stringify(P,void 0)}parse(P){return o.JSON.parse(P,void 0)}};function Oe(){}function it(){}var at={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xe(){I.call(this,"d")}f(Xe,I);function Ut(){I.call(this,"c")}f(Ut,I);var Yt={},bt=null;function cn(){return bt=bt||new He}Yt.Ia="serverreachability";function ln(P){I.call(this,Yt.Ia,P)}f(ln,I);function an(P){const ue=cn();ke(ue,new ln(ue))}Yt.STAT_EVENT="statevent";function zt(P,ue){I.call(this,Yt.STAT_EVENT,P),this.stat=ue}f(zt,I);function $t(P){const ue=cn();ke(ue,new zt(ue,P))}Yt.Ja="timingevent";function Ke(P,ue){I.call(this,Yt.Ja,P),this.size=ue}f(Ke,I);function me(P,ue){if(typeof P!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){P()},ue)}function Ee(){this.g=!0}Ee.prototype.ua=function(){this.g=!1};function nt(P,ue,ve,Ue,ft,pt){P.info(function(){if(P.g)if(pt){var Kt="",kn=pt.split("&");for(let gr=0;gr<kn.length;gr++){var ha=kn[gr].split("=");if(ha.length>1){const va=ha[0];ha=ha[1];const yo=va.split("_");Kt=yo.length>=2&&yo[1]=="type"?Kt+(va+"="+ha+"&"):Kt+(va+"=redacted&")}}}else Kt=null;else Kt=pt;return"XMLHTTP REQ ("+Ue+") [attempt "+ft+"]: "+ue+`
`+ve+`
`+Kt})}function At(P,ue,ve,Ue,ft,pt,Kt){P.info(function(){return"XMLHTTP RESP ("+Ue+") [ attempt "+ft+"]: "+ue+`
`+ve+`
`+pt+" "+Kt})}function St(P,ue,ve,Ue){P.info(function(){return"XMLHTTP TEXT ("+ue+"): "+Rt(P,ve)+(Ue?" "+Ue:"")})}function Qt(P,ue){P.info(function(){return"TIMEOUT: "+ue})}Ee.prototype.info=function(){};function Rt(P,ue){if(!P.g)return ue;if(!ue)return null;try{const pt=JSON.parse(ue);if(pt){for(P=0;P<pt.length;P++)if(Array.isArray(pt[P])){var ve=pt[P];if(!(ve.length<2)){var Ue=ve[1];if(Array.isArray(Ue)&&!(Ue.length<1)){var ft=Ue[0];if(ft!="noop"&&ft!="stop"&&ft!="close")for(let Kt=1;Kt<Ue.length;Kt++)Ue[Kt]=""}}}}return Ct(pt)}catch{return ue}}var jt={NO_ERROR:0,TIMEOUT:8},En={},hn;function Ot(){}f(Ot,Oe),Ot.prototype.g=function(){return new XMLHttpRequest},hn=new Ot;function mn(P){return encodeURIComponent(String(P))}function Ce(P){var ue=1;P=P.split(":");const ve=[];for(;ue>0&&P.length;)ve.push(P.shift()),ue--;return P.length&&ve.push(P.join(":")),ve}function Re(P,ue,ve,Ue){this.j=P,this.i=ue,this.l=ve,this.S=Ue||1,this.V=new Te(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var Ie={},Me={};function de(P,ue,ve){P.M=1,P.A=yl(qs(ue)),P.u=ve,P.R=!0,fe(P,null)}function fe(P,ue){P.F=Date.now(),ct(P),P.B=qs(P.A);var ve=P.B,Ue=P.S;Array.isArray(Ue)||(Ue=[String(Ue)]),bh(ve.i,"t",Ue),P.C=0,ve=P.j.L,P.h=new pe,P.g=Ti(P.j,ve?ue:null,!P.u),P.P>0&&(P.O=new Ve(A(P.Y,P,P.g),P.P)),ue=P.V,ve=P.g,Ue=P.ba;var ft="readystatechange";Array.isArray(ft)||(ft&&(Le[0]=ft.toString()),ft=Le);for(let pt=0;pt<ft.length;pt++){const Kt=ae(ve,ft[pt],Ue||ue.handleEvent,!1,ue.h||ue);if(!Kt)break;ue.g[Kt.key]=Kt}ue=P.J?j(P.J):{},P.u?(P.v||(P.v="POST"),ue["Content-Type"]="application/x-www-form-urlencoded",P.g.ea(P.B,P.v,P.u,ue)):(P.v="GET",P.g.ea(P.B,P.v,null,ue)),an(),nt(P.i,P.v,P.B,P.l,P.S,P.u)}Re.prototype.ba=function(P){P=P.target;const ue=this.O;ue&&_l(P)==3?ue.j():this.Y(P)},Re.prototype.Y=function(P){try{if(P==this.g)e:{const kn=_l(this.g),ha=this.g.ya(),gr=this.g.ca();if(!(kn<3)&&(kn!=3||this.g&&(this.h.h||this.g.la()||rg(this.g)))){this.K||kn!=4||ha==7||(ha==8||gr<=0?an(3):an(2)),xt(this);var ue=this.g.ca();this.X=ue;var ve=Ze(this);if(this.o=ue==200,At(this.i,this.v,this.B,this.l,this.S,kn,ue),this.o){if(this.U&&!this.L){t:{if(this.g){var Ue,ft=this.g;if((Ue=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ue)){var pt=Ue;break t}}pt=null}if(P=pt)St(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Lt(this,P);else{this.o=!1,this.m=3,$t(12),_t(this),vt(this);break e}}if(this.R){P=!0;let va;for(;!this.K&&this.C<ve.length;)if(va=dt(this,ve),va==Me){kn==4&&(this.m=4,$t(14),P=!1),St(this.i,this.l,null,"[Incomplete Response]");break}else if(va==Ie){this.m=4,$t(15),St(this.i,this.l,ve,"[Invalid Chunk]"),P=!1;break}else St(this.i,this.l,va,null),Lt(this,va);if(Ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||ve.length!=0||this.h.h||(this.m=1,$t(16),P=!1),this.o=this.o&&P,!P)St(this.i,this.l,ve,"[Invalid Chunked Response]"),_t(this),vt(this);else if(ve.length>0&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.aa&&!Kt.P&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),cf(Kt),Kt.P=!0,$t(11))}}else St(this.i,this.l,ve,null),Lt(this,ve);kn==4&&_t(this),this.o&&!this.K&&(kn==4?ws(this.j,this):(this.o=!1,ct(this)))}else I_(this.g),ue==400&&ve.indexOf("Unknown SID")>0?(this.m=3,$t(12)):(this.m=0,$t(13)),_t(this),vt(this)}}}catch{}finally{}};function Ze(P){if(!Ye(P))return P.g.la();const ue=rg(P.g);if(ue==="")return"";let ve="";const Ue=ue.length,ft=_l(P.g)==4;if(!P.h.i){if(typeof TextDecoder>"u")return _t(P),vt(P),"";P.h.i=new o.TextDecoder}for(let pt=0;pt<Ue;pt++)P.h.h=!0,ve+=P.h.i.decode(ue[pt],{stream:!(ft&&pt==Ue-1)});return ue.length=0,P.h.g+=ve,P.C=0,P.h.g}function Ye(P){return P.g?P.v=="GET"&&P.M!=2&&P.j.Aa:!1}function dt(P,ue){var ve=P.C,Ue=ue.indexOf(`
`,ve);return Ue==-1?Me:(ve=Number(ue.substring(ve,Ue)),isNaN(ve)?Ie:(Ue+=1,Ue+ve>ue.length?Me:(ue=ue.slice(Ue,Ue+ve),P.C=Ue+ve,ue)))}Re.prototype.cancel=function(){this.K=!0,_t(this)};function ct(P){P.T=Date.now()+P.H,lt(P,P.H)}function lt(P,ue){if(P.D!=null)throw Error("WatchDog timer not null");P.D=me(A(P.aa,P),ue)}function xt(P){P.D&&(o.clearTimeout(P.D),P.D=null)}Re.prototype.aa=function(){this.D=null;const P=Date.now();P-this.T>=0?(Qt(this.i,this.B),this.M!=2&&(an(),$t(17)),_t(this),this.m=2,vt(this)):lt(this,this.T-P)};function vt(P){P.j.I==0||P.K||ws(P.j,P)}function _t(P){xt(P);var ue=P.O;ue&&typeof ue.dispose=="function"&&ue.dispose(),P.O=null,ht(P.V),P.g&&(ue=P.g,P.g=null,ue.abort(),ue.dispose())}function Lt(P,ue){try{var ve=P.j;if(ve.I!=0&&(ve.g==P||Ws(ve.h,P))){if(!P.L&&Ws(ve.h,P)&&ve.I==3){try{var Ue=ve.Ba.g.parse(ue)}catch{Ue=null}if(Array.isArray(Ue)&&Ue.length==3){var ft=Ue;if(ft[0]==0){e:if(!ve.v){if(ve.g)if(ve.g.F+3e3<P.F)xd(ve),aa(ve);else break e;lf(ve),$t(18)}}else ve.xa=ft[1],0<ve.xa-ve.K&&ft[2]<37500&&ve.F&&ve.A==0&&!ve.C&&(ve.C=me(A(ve.Va,ve),6e3));Kn(ve.h)<=1&&ve.ta&&(ve.ta=void 0)}else ka(ve,11)}else if((P.L||ve.g==P)&&xd(ve),!M(ue))for(ft=ve.Ba.g.parse(ue),ue=0;ue<ft.length;ue++){let gr=ft[ue];const va=gr[0];if(!(va<=ve.K))if(ve.K=va,gr=gr[1],ve.I==2)if(gr[0]=="c"){ve.M=gr[1],ve.ba=gr[2];const yo=gr[3];yo!=null&&(ve.ka=yo,ve.j.info("VER="+ve.ka));const Pi=gr[4];Pi!=null&&(ve.za=Pi,ve.j.info("SVER="+ve.za));const Di=gr[5];Di!=null&&typeof Di=="number"&&Di>0&&(Ue=1.5*Di,ve.O=Ue,ve.j.info("backChannelRequestTimeoutMs_="+Ue)),Ue=ve;const xl=P.g;if(xl){const Au=xl.g?xl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Au){var pt=Ue.h;pt.g||Au.indexOf("spdy")==-1&&Au.indexOf("quic")==-1&&Au.indexOf("h2")==-1||(pt.j=pt.l,pt.g=new Set,pt.h&&(js(pt,pt.h),pt.h=null))}if(Ue.G){const Ed=xl.g?xl.g.getResponseHeader("X-HTTP-Session-Id"):null;Ed&&(Ue.wa=Ed,er(Ue.J,Ue.G,Ed))}}ve.I=3,ve.l&&ve.l.ra(),ve.aa&&(ve.T=Date.now()-P.F,ve.j.info("Handshake RTT: "+ve.T+"ms")),Ue=ve;var Kt=P;if(Ue.na=Fh(Ue,Ue.L?Ue.ba:null,Ue.W),Kt.L){ai(Ue.h,Kt);var kn=Kt,ha=Ue.O;ha&&(kn.H=ha),kn.D&&(xt(kn),ct(kn)),Ue.g=Kt}else Ih(Ue);ve.i.length>0&&si(ve)}else gr[0]!="stop"&&gr[0]!="close"||ka(ve,7);else ve.I==3&&(gr[0]=="stop"||gr[0]=="close"?gr[0]=="stop"?ka(ve,7):Sh(ve):gr[0]!="noop"&&ve.l&&ve.l.qa(gr),ve.A=0)}}an(4)}catch{}}var qe=class{constructor(P,ue){this.g=P,this.map=ue}};function Wt(P){this.l=P||10,o.PerformanceNavigationTiming?(P=o.performance.getEntriesByType("navigation"),P=P.length>0&&(P[0].nextHopProtocol=="hq"||P[0].nextHopProtocol=="h2")):P=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=P?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tn(P){return P.h?!0:P.g?P.g.size>=P.j:!1}function Kn(P){return P.h?1:P.g?P.g.size:0}function Ws(P,ue){return P.h?P.h==ue:P.g?P.g.has(ue):!1}function js(P,ue){P.g?P.g.add(ue):P.h=ue}function ai(P,ue){P.h&&P.h==ue?P.h=null:P.g&&P.g.has(ue)&&P.g.delete(ue)}Wt.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const P of this.g.values())P.cancel();this.g.clear()}};function po(P){if(P.h!=null)return P.i.concat(P.h.G);if(P.g!=null&&P.g.size!==0){let ue=P.i;for(const ve of P.g.values())ue=ue.concat(ve.G);return ue}return v(P.i)}var gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(P,ue){if(P){P=P.split("&");for(let ve=0;ve<P.length;ve++){const Ue=P[ve].indexOf("=");let ft,pt=null;Ue>=0?(ft=P[ve].substring(0,Ue),pt=P[ve].substring(Ue+1)):ft=P[ve],ue(ft,pt?decodeURIComponent(pt.replace(/\+/g," ")):"")}}}function Js(P){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let ue;P instanceof Js?(this.l=P.l,Tt(this,P.j),this.o=P.o,this.g=P.g,ma(this,P.u),this.h=P.h,Dn(this,xh(P.i)),this.m=P.m):P&&(ue=String(P).match(gl))?(this.l=!1,Tt(this,ue[1]||"",!0),this.o=du(ue[2]||""),this.g=du(ue[3]||"",!0),ma(this,ue[4]),this.h=du(ue[5]||"",!0),Dn(this,ue[6]||"",!0),this.m=du(ue[7]||"")):(this.l=!1,this.i=new Ac(null,this.l))}Js.prototype.toString=function(){const P=[];var ue=this.j;ue&&P.push(wd(ue,ph,!0),":");var ve=this.g;return(ve||ue=="file")&&(P.push("//"),(ue=this.o)&&P.push(wd(ue,ph,!0),"@"),P.push(mn(ve).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ve=this.u,ve!=null&&P.push(":",String(ve))),(ve=this.h)&&(this.g&&ve.charAt(0)!="/"&&P.push("/"),P.push(wd(ve,ve.charAt(0)=="/"?C_:gh,!0))),(ve=this.i.toString())&&P.push("?",ve),(ve=this.m)&&P.push("#",wd(ve,yh)),P.join("")},Js.prototype.resolve=function(P){const ue=qs(this);let ve=!!P.j;ve?Tt(ue,P.j):ve=!!P.o,ve?ue.o=P.o:ve=!!P.g,ve?ue.g=P.g:ve=P.u!=null;var Ue=P.h;if(ve)ma(ue,P.u);else if(ve=!!P.h){if(Ue.charAt(0)!="/")if(this.g&&!this.h)Ue="/"+Ue;else{var ft=ue.h.lastIndexOf("/");ft!=-1&&(Ue=ue.h.slice(0,ft+1)+Ue)}if(ft=Ue,ft==".."||ft==".")Ue="";else if(ft.indexOf("./")!=-1||ft.indexOf("/.")!=-1){Ue=ft.lastIndexOf("/",0)==0,ft=ft.split("/");const pt=[];for(let Kt=0;Kt<ft.length;){const kn=ft[Kt++];kn=="."?Ue&&Kt==ft.length&&pt.push(""):kn==".."?((pt.length>1||pt.length==1&&pt[0]!="")&&pt.pop(),Ue&&Kt==ft.length&&pt.push("")):(pt.push(kn),Ue=!0)}Ue=pt.join("/")}else Ue=ft}return ve?ue.h=Ue:ve=P.i.toString()!=="",ve?Dn(ue,xh(P.i)):ve=!!P.m,ve&&(ue.m=P.m),ue};function qs(P){return new Js(P)}function Tt(P,ue,ve){P.j=ve?du(ue,!0):ue,P.j&&(P.j=P.j.replace(/:$/,""))}function ma(P,ue){if(ue){if(ue=Number(ue),isNaN(ue)||ue<0)throw Error("Bad port number "+ue);P.u=ue}else P.u=null}function Dn(P,ue,ve){ue instanceof Ac?(P.i=ue,Xp(P.i,P.l)):(ve||(ue=wd(ue,qp)),P.i=new Ac(ue,P.l))}function er(P,ue,ve){P.i.set(ue,ve)}function yl(P){return er(P,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),P}function du(P,ue){return P?ue?decodeURI(P.replace(/%25/g,"%2525")):decodeURIComponent(P):""}function wd(P,ue,ve){return typeof P=="string"?(P=encodeURI(P).replace(ue,Jp),ve&&(P=P.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P):null}function Jp(P){return P=P.charCodeAt(0),"%"+(P>>4&15).toString(16)+(P&15).toString(16)}var ph=/[#\/\?@]/g,gh=/[#\?:]/g,C_=/[#\?]/g,qp=/[#\?@]/g,yh=/#/g;function Ac(P,ue){this.h=this.g=null,this.i=P||null,this.j=!!ue}function go(P){P.g||(P.g=new Map,P.h=0,P.i&&Sa(P.i,function(ue,ve){P.add(decodeURIComponent(ue.replace(/\+/g," ")),ve)}))}e=Ac.prototype,e.add=function(P,ue){go(this),this.i=null,P=fc(this,P);let ve=this.g.get(P);return ve||this.g.set(P,ve=[]),ve.push(ue),this.h+=1,this};function wh(P,ue){go(P),ue=fc(P,ue),P.g.has(ue)&&(P.i=null,P.h-=P.g.get(ue).length,P.g.delete(ue))}function _h(P,ue){return go(P),ue=fc(P,ue),P.g.has(ue)}e.forEach=function(P,ue){go(this),this.g.forEach(function(ve,Ue){ve.forEach(function(ft){P.call(ue,ft,Ue,this)},this)},this)};function Yp(P,ue){go(P);let ve=[];if(typeof ue=="string")_h(P,ue)&&(ve=ve.concat(P.g.get(fc(P,ue))));else for(P=Array.from(P.g.values()),ue=0;ue<P.length;ue++)ve=ve.concat(P[ue]);return ve}e.set=function(P,ue){return go(this),this.i=null,P=fc(this,P),_h(this,P)&&(this.h-=this.g.get(P).length),this.g.set(P,[ue]),this.h+=1,this},e.get=function(P,ue){return P?(P=Yp(this,P),P.length>0?String(P[0]):ue):ue};function bh(P,ue,ve){wh(P,ue),ve.length>0&&(P.i=null,P.g.set(fc(P,ue),v(ve)),P.h+=ve.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const P=[],ue=Array.from(this.g.keys());for(let Ue=0;Ue<ue.length;Ue++){var ve=ue[Ue];const ft=mn(ve);ve=Yp(this,ve);for(let pt=0;pt<ve.length;pt++){let Kt=ft;ve[pt]!==""&&(Kt+="="+mn(ve[pt])),P.push(Kt)}}return this.i=P.join("&")};function xh(P){const ue=new Ac;return ue.i=P.i,P.g&&(ue.g=new Map(P.g),ue.h=P.h),ue}function fc(P,ue){return ue=String(ue),P.j&&(ue=ue.toLowerCase()),ue}function Xp(P,ue){ue&&!P.j&&(go(P),P.i=null,P.g.forEach(function(ve,Ue){const ft=Ue.toLowerCase();Ue!=ft&&(wh(this,Ue),bh(this,ft,ve))},P)),P.j=ue}function E_(P,ue){const ve=new Ee;if(o.Image){const Ue=new Image;Ue.onload=u(wl,ve,"TestLoadImage: loaded",!0,ue,Ue),Ue.onerror=u(wl,ve,"TestLoadImage: error",!1,ue,Ue),Ue.onabort=u(wl,ve,"TestLoadImage: abort",!1,ue,Ue),Ue.ontimeout=u(wl,ve,"TestLoadImage: timeout",!1,ue,Ue),o.setTimeout(function(){Ue.ontimeout&&Ue.ontimeout()},1e4),Ue.src=P}else ue(!1)}function B_(P,ue){const ve=new Ee,Ue=new AbortController,ft=setTimeout(()=>{Ue.abort(),wl(ve,"TestPingServer: timeout",!1,ue)},1e4);fetch(P,{signal:Ue.signal}).then(pt=>{clearTimeout(ft),pt.ok?wl(ve,"TestPingServer: ok",!0,ue):wl(ve,"TestPingServer: server error",!1,ue)}).catch(()=>{clearTimeout(ft),wl(ve,"TestPingServer: error",!1,ue)})}function wl(P,ue,ve,Ue,ft){try{ft&&(ft.onload=null,ft.onerror=null,ft.onabort=null,ft.ontimeout=null),Ue(ve)}catch{}}function Zp(){this.g=new Je}function Ch(P){this.i=P.Sb||null,this.h=P.ab||!1}f(Ch,Oe),Ch.prototype.g=function(){return new rf(this.i,this.h)};function rf(P,ue){He.call(this),this.H=P,this.o=ue,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(rf,He),e=rf.prototype,e.open=function(P,ue){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=P,this.D=ue,this.readyState=1,mc(this)},e.send=function(P){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const ue={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};P&&(ue.body=P),(this.H||o).fetch(new Request(this.D,ue)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_d(this)),this.readyState=0},e.Pa=function(P){if(this.g&&(this.l=P,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=P.headers,this.readyState=2,mc(this)),this.g&&(this.readyState=3,mc(this),this.g)))if(this.responseType==="arraybuffer")P.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in P){if(this.j=P.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eg(this)}else P.text().then(this.Oa.bind(this),this.ga.bind(this))};function eg(P){P.j.read().then(P.Ma.bind(P)).catch(P.ga.bind(P))}e.Ma=function(P){if(this.g){if(this.o&&P.value)this.response.push(P.value);else if(!this.o){var ue=P.value?P.value:new Uint8Array(0);(ue=this.B.decode(ue,{stream:!P.done}))&&(this.response=this.responseText+=ue)}P.done?_d(this):mc(this),this.readyState==3&&eg(this)}},e.Oa=function(P){this.g&&(this.response=this.responseText=P,_d(this))},e.Na=function(P){this.g&&(this.response=P,_d(this))},e.ga=function(){this.g&&_d(this)};function _d(P){P.readyState=4,P.l=null,P.j=null,P.B=null,mc(P)}e.setRequestHeader=function(P,ue){this.A.append(P,ue)},e.getResponseHeader=function(P){return this.h&&this.h.get(P.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const P=[],ue=this.h.entries();for(var ve=ue.next();!ve.done;)ve=ve.value,P.push(ve[0]+": "+ve[1]),ve=ue.next();return P.join(`\r
`)};function mc(P){P.onreadystatechange&&P.onreadystatechange.call(P)}Object.defineProperty(rf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(P){this.m=P?"include":"same-origin"}});function tg(P){let ue="";return K(P,function(ve,Ue){ue+=Ue,ue+=":",ue+=ve,ue+=`\r
`}),ue}function Eh(P,ue,ve){e:{for(Ue in ve){var Ue=!1;break e}Ue=!0}Ue||(ve=tg(ve),typeof P=="string"?ve!=null&&mn(ve):er(P,ue,ve))}function ea(P){He.call(this),this.headers=new Map,this.L=P||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(ea,He);var S_=/^https?$/i,k_=["POST","PUT"];e=ea.prototype,e.Fa=function(P){this.H=P},e.ea=function(P,ue,ve,Ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+P);ue=ue?ue.toUpperCase():"GET",this.D=P,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hn.g(),this.g.onreadystatechange=m(A(this.Ca,this));try{this.B=!0,this.g.open(ue,String(P),!0),this.B=!1}catch(pt){Fr(this,pt);return}if(P=ve||"",ve=new Map(this.headers),Ue)if(Object.getPrototypeOf(Ue)===Object.prototype)for(var ft in Ue)ve.set(ft,Ue[ft]);else if(typeof Ue.keys=="function"&&typeof Ue.get=="function")for(const pt of Ue.keys())ve.set(pt,Ue.get(pt));else throw Error("Unknown input type for opt_headers: "+String(Ue));Ue=Array.from(ve.keys()).find(pt=>pt.toLowerCase()=="content-type"),ft=o.FormData&&P instanceof o.FormData,!(Array.prototype.indexOf.call(k_,ue,void 0)>=0)||Ue||ft||ve.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pt,Kt]of ve)this.g.setRequestHeader(pt,Kt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(P),this.v=!1}catch(pt){Fr(this,pt)}};function Fr(P,ue){P.h=!1,P.g&&(P.j=!0,P.g.abort(),P.j=!1),P.l=ue,P.o=5,Sr(P),af(P)}function Sr(P){P.A||(P.A=!0,ke(P,"complete"),ke(P,"error"))}e.abort=function(P){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=P||7,ke(this,"complete"),ke(this,"abort"),af(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),af(this,!0)),ea.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ng(this):this.Xa())},e.Xa=function(){ng(this)};function ng(P){if(P.h&&typeof s<"u"){if(P.v&&_l(P)==4)setTimeout(P.Ca.bind(P),0);else if(ke(P,"readystatechange"),_l(P)==4){P.h=!1;try{const pt=P.ca();e:switch(pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ue=!0;break e;default:ue=!1}var ve;if(!(ve=ue)){var Ue;if(Ue=pt===0){let Kt=String(P.D).match(gl)[1]||null;!Kt&&o.self&&o.self.location&&(Kt=o.self.location.protocol.slice(0,-1)),Ue=!S_.test(Kt?Kt.toLowerCase():"")}ve=Ue}if(ve)ke(P,"complete"),ke(P,"success");else{P.o=6;try{var ft=_l(P)>2?P.g.statusText:""}catch{ft=""}P.l=ft+" ["+P.ca()+"]",Sr(P)}}finally{af(P)}}}}function af(P,ue){if(P.g){P.m&&(clearTimeout(P.m),P.m=null);const ve=P.g;P.g=null,ue||ke(P,"ready");try{ve.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function _l(P){return P.g?P.g.readyState:0}e.ca=function(){try{return _l(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(P){if(this.g){var ue=this.g.responseText;return P&&ue.indexOf(P)==0&&(ue=ue.substring(P.length)),Dt(ue)}};function rg(P){try{if(!P.g)return null;if("response"in P.g)return P.g.response;switch(P.F){case"":case"text":return P.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in P.g)return P.g.mozResponseArrayBuffer}return null}catch{return null}}function I_(P){const ue={};P=(P.g&&_l(P)>=2&&P.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ue=0;Ue<P.length;Ue++){if(M(P[Ue]))continue;var ve=Ce(P[Ue]);const ft=ve[0];if(ve=ve[1],typeof ve!="string")continue;ve=ve.trim();const pt=ue[ft]||[];ue[ft]=pt,pt.push(ve)}ee(ue,function(Ue){return Ue.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bd(P,ue,ve){return ve&&ve.internalChannelParams&&ve.internalChannelParams[P]||ue}function Bh(P){this.za=0,this.i=[],this.j=new Ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bd("failFast",!1,P),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bd("baseRetryDelayMs",5e3,P),this.Za=bd("retryDelaySeedMs",1e4,P),this.Ta=bd("forwardChannelMaxRetries",2,P),this.va=bd("forwardChannelRequestTimeoutMs",2e4,P),this.ma=P&&P.xmlHttpFactory||void 0,this.Ua=P&&P.Rb||void 0,this.Aa=P&&P.useFetchStreams||!1,this.O=void 0,this.L=P&&P.supportsCrossDomainXhr||!1,this.M="",this.h=new Wt(P&&P.concurrentRequestLimit),this.Ba=new Zp,this.S=P&&P.fastHandshake||!1,this.R=P&&P.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=P&&P.Pb||!1,P&&P.ua&&this.j.ua(),P&&P.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&P&&P.detectBufferingProxy||!1,this.ia=void 0,P&&P.longPollingTimeout&&P.longPollingTimeout>0&&(this.ia=P.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Bh.prototype,e.ka=8,e.I=1,e.connect=function(P,ue,ve,Ue){$t(0),this.W=P,this.H=ue||{},ve&&Ue!==void 0&&(this.H.OSID=ve,this.H.OAID=Ue),this.F=this.X,this.J=Fh(this,null,this.W),si(this)};function Sh(P){if(sf(P),P.I==3){var ue=P.V++,ve=qs(P.J);if(er(ve,"SID",P.M),er(ve,"RID",ue),er(ve,"TYPE","terminate"),Ja(P,ve),ue=new Re(P,P.j,ue),ue.M=2,ue.A=yl(qs(ve)),ve=!1,o.navigator&&o.navigator.sendBeacon)try{ve=o.navigator.sendBeacon(ue.A.toString(),"")}catch{}!ve&&o.Image&&(new Image().src=ue.A,ve=!0),ve||(ue.g=Ti(ue.j,null),ue.g.ea(ue.A)),ue.F=Date.now(),ct(ue)}og(P)}function aa(P){P.g&&(cf(P),P.g.cancel(),P.g=null)}function sf(P){aa(P),P.v&&(o.clearTimeout(P.v),P.v=null),xd(P),P.h.cancel(),P.m&&(typeof P.m=="number"&&o.clearTimeout(P.m),P.m=null)}function si(P){if(!tn(P.h)&&!P.m){P.m=!0;var ue=P.Ea;N||_(),k||(N(),k=!0),E.add(ue,P),P.D=0}}function ag(P,ue){return Kn(P.h)>=P.h.j-(P.m?1:0)?!1:P.m?(P.i=ue.G.concat(P.i),!0):P.I==1||P.I==2||P.D>=(P.Sa?0:P.Ta)?!1:(P.m=me(A(P.Ea,P,ue),sg(P,P.D)),P.D++,!0)}e.Ea=function(P){if(this.m)if(this.m=null,this.I==1){if(!P){this.V=Math.floor(Math.random()*1e5),P=this.V++;const ft=new Re(this,this.j,P);let pt=this.o;if(this.U&&(pt?(pt=j(pt),G(pt,this.U)):pt=this.U),this.u!==null||this.R||(ft.J=pt,pt=null),this.S)e:{for(var ue=0,ve=0;ve<this.i.length;ve++){t:{var Ue=this.i[ve];if("__data__"in Ue.map&&(Ue=Ue.map.__data__,typeof Ue=="string")){Ue=Ue.length;break t}Ue=void 0}if(Ue===void 0)break;if(ue+=Ue,ue>4096){ue=ve;break e}if(ue===4096||ve===this.i.length-1){ue=ve+1;break e}}ue=1e3}else ue=1e3;ue=kh(this,ft,ue),ve=qs(this.J),er(ve,"RID",P),er(ve,"CVER",22),this.G&&er(ve,"X-HTTP-Session-Id",this.G),Ja(this,ve),pt&&(this.R?ue="headers="+mn(tg(pt))+"&"+ue:this.u&&Eh(ve,this.u,pt)),js(this.h,ft),this.Ra&&er(ve,"TYPE","init"),this.S?(er(ve,"$req",ue),er(ve,"SID","null"),ft.U=!0,de(ft,ve,null)):de(ft,ve,ue),this.I=2}}else this.I==3&&(P?of(this,P):this.i.length==0||tn(this.h)||of(this))};function of(P,ue){var ve;ue?ve=ue.l:ve=P.V++;const Ue=qs(P.J);er(Ue,"SID",P.M),er(Ue,"RID",ve),er(Ue,"AID",P.K),Ja(P,Ue),P.u&&P.o&&Eh(Ue,P.u,P.o),ve=new Re(P,P.j,ve,P.D+1),P.u===null&&(ve.J=P.o),ue&&(P.i=ue.G.concat(P.i)),ue=kh(P,ve,1e3),ve.H=Math.round(P.va*.5)+Math.round(P.va*.5*Math.random()),js(P.h,ve),de(ve,Ue,ue)}function Ja(P,ue){P.H&&K(P.H,function(ve,Ue){er(ue,Ue,ve)}),P.l&&K({},function(ve,Ue){er(ue,Ue,ve)})}function kh(P,ue,ve){ve=Math.min(P.i.length,ve);const Ue=P.l?A(P.l.Ka,P.l,P):null;e:{var ft=P.i;let kn=-1;for(;;){const ha=["count="+ve];kn==-1?ve>0?(kn=ft[0].g,ha.push("ofs="+kn)):kn=0:ha.push("ofs="+kn);let gr=!0;for(let va=0;va<ve;va++){var pt=ft[va].g;const yo=ft[va].map;if(pt-=kn,pt<0)kn=Math.max(0,ft[va].g-100),gr=!1;else try{pt="req"+pt+"_"||"";try{var Kt=yo instanceof Map?yo:Object.entries(yo);for(const[Pi,Di]of Kt){let xl=Di;i(Di)&&(xl=Ct(Di)),ha.push(pt+Pi+"="+encodeURIComponent(xl))}}catch(Pi){throw ha.push(pt+"type="+encodeURIComponent("_badmap")),Pi}}catch{Ue&&Ue(yo)}}if(gr){Kt=ha.join("&");break e}}Kt=void 0}return P=P.i.splice(0,ve),ue.G=P,Kt}function Ih(P){if(!P.g&&!P.v){P.Y=1;var ue=P.Da;N||_(),k||(N(),k=!0),E.add(ue,P),P.A=0}}function lf(P){return P.g||P.v||P.A>=3?!1:(P.Y++,P.v=me(A(P.Da,P),sg(P,P.A)),P.A++,!0)}e.Da=function(){if(this.v=null,Th(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var P=4*this.T;this.j.info("BP detection timer enabled: "+P),this.B=me(A(this.Wa,this),P)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$t(10),aa(this),Th(this))};function cf(P){P.B!=null&&(o.clearTimeout(P.B),P.B=null)}function Th(P){P.g=new Re(P,P.j,"rpc",P.Y),P.u===null&&(P.g.J=P.o),P.g.P=0;var ue=qs(P.na);er(ue,"RID","rpc"),er(ue,"SID",P.M),er(ue,"AID",P.K),er(ue,"CI",P.F?"0":"1"),!P.F&&P.ia&&er(ue,"TO",P.ia),er(ue,"TYPE","xmlhttp"),Ja(P,ue),P.u&&P.o&&Eh(ue,P.u,P.o),P.O&&(P.g.H=P.O);var ve=P.g;P=P.ba,ve.M=1,ve.A=yl(qs(ue)),ve.u=null,ve.R=!0,fe(ve,P)}e.Va=function(){this.C!=null&&(this.C=null,aa(this),lf(this),$t(19))};function xd(P){P.C!=null&&(o.clearTimeout(P.C),P.C=null)}function ws(P,ue){var ve=null;if(P.g==ue){xd(P),cf(P),P.g=null;var Ue=2}else if(Ws(P.h,ue))ve=ue.G,ai(P.h,ue),Ue=1;else return;if(P.I!=0){if(ue.o)if(Ue==1){ve=ue.u?ue.u.length:0,ue=Date.now()-ue.F;var ft=P.D;Ue=cn(),ke(Ue,new Ke(Ue,ve)),si(P)}else Ih(P);else if(ft=ue.m,ft==3||ft==0&&ue.X>0||!(Ue==1&&ag(P,ue)||Ue==2&&lf(P)))switch(ve&&ve.length>0&&(ue=P.h,ue.i=ue.i.concat(ve)),ft){case 1:ka(P,5);break;case 4:ka(P,10);break;case 3:ka(P,6);break;default:ka(P,2)}}}function sg(P,ue){let ve=P.Qa+Math.floor(Math.random()*P.Za);return P.isActive()||(ve*=2),ve*ue}function ka(P,ue){if(P.j.info("Error code "+ue),ue==2){var ve=A(P.bb,P),Ue=P.Ua;const ft=!Ue;Ue=new Js(Ue||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Tt(Ue,"https"),yl(Ue),ft?E_(Ue.toString(),ve):B_(Ue.toString(),ve)}else $t(2);P.I=0,P.l&&P.l.pa(ue),og(P),sf(P)}e.bb=function(P){P?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function og(P){if(P.I=0,P.ja=[],P.l){const ue=po(P.h);(ue.length!=0||P.i.length!=0)&&(h(P.ja,ue),h(P.ja,P.i),P.h.i.length=0,v(P.i),P.i.length=0),P.l.oa()}}function Fh(P,ue,ve){var Ue=ve instanceof Js?qs(ve):new Js(ve);if(Ue.g!="")ue&&(Ue.g=ue+"."+Ue.g),ma(Ue,Ue.u);else{var ft=o.location;Ue=ft.protocol,ue=ue?ue+"."+ft.hostname:ft.hostname,ft=+ft.port;const pt=new Js(null);Ue&&Tt(pt,Ue),ue&&(pt.g=ue),ft&&ma(pt,ft),ve&&(pt.h=ve),Ue=pt}return ve=P.G,ue=P.wa,ve&&ue&&er(Ue,ve,ue),er(Ue,"VER",P.ka),Ja(P,Ue),Ue}function Ti(P,ue,ve){if(ue&&!P.L)throw Error("Can't create secondary domain capable XhrIo object.");return ue=P.Aa&&!P.ma?new ea(new Ch({ab:ve})):new ea(P.ma),ue.Fa(P.L),ue}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cd(){}e=Cd.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function _s(P,ue){He.call(this),this.g=new Bh(ue),this.l=P,this.h=ue&&ue.messageUrlParams||null,P=ue&&ue.messageHeaders||null,ue&&ue.clientProtocolHeaderRequired&&(P?P["X-Client-Protocol"]="webchannel":P={"X-Client-Protocol":"webchannel"}),this.g.o=P,P=ue&&ue.initMessageHeaders||null,ue&&ue.messageContentType&&(P?P["X-WebChannel-Content-Type"]=ue.messageContentType:P={"X-WebChannel-Content-Type":ue.messageContentType}),ue&&ue.sa&&(P?P["X-WebChannel-Client-Profile"]=ue.sa:P={"X-WebChannel-Client-Profile":ue.sa}),this.g.U=P,(P=ue&&ue.Qb)&&!M(P)&&(this.g.u=P),this.A=ue&&ue.supportsCrossDomainXhr||!1,this.v=ue&&ue.sendRawJson||!1,(ue=ue&&ue.httpSessionIdParam)&&!M(ue)&&(this.g.G=ue,P=this.h,P!==null&&ue in P&&(P=this.h,ue in P&&delete P[ue])),this.j=new bl(this)}f(_s,He),_s.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_s.prototype.close=function(){Sh(this.g)},_s.prototype.o=function(P){var ue=this.g;if(typeof P=="string"){var ve={};ve.__data__=P,P=ve}else this.v&&(ve={},ve.__data__=Ct(P),P=ve);ue.i.push(new qe(ue.Ya++,P)),ue.I==3&&si(ue)},_s.prototype.N=function(){this.g.l=null,delete this.j,Sh(this.g),delete this.g,_s.Z.N.call(this)};function Ur(P){Xe.call(this),P.__headers__&&(this.headers=P.__headers__,this.statusCode=P.__status__,delete P.__headers__,delete P.__status__);var ue=P.__sm__;if(ue){e:{for(const ve in ue){P=ve;break e}P=void 0}(this.i=P)&&(P=this.i,ue=ue!==null&&P in ue?ue[P]:void 0),this.data=ue}else this.data=P}f(Ur,Xe);function Fi(){Ut.call(this),this.status=1}f(Fi,Ut);function bl(P){this.g=P}f(bl,Cd),bl.prototype.ra=function(){ke(this.g,"a")},bl.prototype.qa=function(P){ke(this.g,new Ur(P))},bl.prototype.pa=function(P){ke(this.g,new Fi)},bl.prototype.oa=function(){ke(this.g,"b")},_s.prototype.send=_s.prototype.o,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,En.COMPLETE="complete",it.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",He.prototype.listen=He.prototype.J,ea.prototype.listenOnce=ea.prototype.K,ea.prototype.getLastError=ea.prototype.Ha,ea.prototype.getLastErrorCode=ea.prototype.ya,ea.prototype.getStatus=ea.prototype.ca,ea.prototype.getResponseJson=ea.prototype.La,ea.prototype.getResponseText=ea.prototype.la,ea.prototype.send=ea.prototype.ea,ea.prototype.setWithCredentials=ea.prototype.Fa}).apply(typeof K1<"u"?K1:typeof self<"u"?self:typeof window<"u"?window:{});const kN="@firebase/firestore",IN="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ko.UNAUTHENTICATED=new Ko(null),Ko.GOOGLE_CREDENTIALS=new Ko("google-credentials-uid"),Ko.FIRST_PARTY=new Ko("first-party-uid"),Ko.MOCK_USER=new Ko("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x_="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new fp("@firebase/firestore");function Xi(e,...t){if(K2.logLevel<=xr.DEBUG){const n=t.map(kG);K2.debug(`Firestore (${x_}): ${e}`,...n)}}function SG(e,...t){if(K2.logLevel<=xr.ERROR){const n=t.map(kG);K2.error(`Firestore (${x_}): ${e}`,...n)}}function kG(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,IG(e,r,n)}function IG(e,t,n){let r=`FIRESTORE (${x_}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw SG(r),new Error(r)}function ov(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||IG(t,a,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class hr extends ac{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cJe{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uJe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ko.UNAUTHENTICATED)))}shutdown(){}}class dJe{constructor(t){this.t=t,this.currentUser=Ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ov(this.o===void 0,42304);let r=this.i;const a=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new iv;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new iv,t.enqueueRetryable((()=>a(this.currentUser)))};const o=()=>{const c=s;t.enqueueRetryable((async()=>{await c.promise,await a(this.currentUser)}))},i=c=>{Xi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>i(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?i(c):(Xi("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new iv)}}),0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(Xi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ov(typeof r.accessToken=="string",31837,{l:r}),new cJe(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ov(t===null||typeof t=="string",2055,{h:t}),new Ko(t)}}class AJe{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ko.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fJe{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new AJe(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ko.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mJe{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,So(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ov(this.o===void 0,3512);const r=s=>{s.error!=null&&Xi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Xi("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable((()=>r(s)))};const a=s=>{Xi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Xi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TN(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ov(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new TN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vJe{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=hJe(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=t.charAt(a[s]%62))}return r}}function ud(e,t){return e<t?-1:e>t?1:0}function pJe(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const a=e.charAt(r),s=t.charAt(r);if(a!==s)return cC(a)===cC(s)?ud(a,s):cC(a)?1:-1}return ud(e.length,t.length)}const gJe=55296,yJe=57343;function cC(e){const t=e.charCodeAt(0);return t>=gJe&&t<=yJe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="__name__";class Nl{constructor(t,n,r){n===void 0?n=0:n>t.length&&G2(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&G2(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Nl.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Nl?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const s=Nl.compareSegments(t.get(a),n.get(a));if(s!==0)return s}return ud(t.length,n.length)}static compareSegments(t,n){const r=Nl.isNumericId(t),a=Nl.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Nl.extractNumericId(t).compare(Nl.extractNumericId(n)):pJe(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cT.fromString(t.substring(4,t.length-2))}}class Ki extends Nl{construct(t,n,r){return new Ki(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new hr(mr.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Ki(n)}static emptyPath(){return new Ki([])}}const wJe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $d extends Nl{construct(t,n,r){return new $d(t,n,r)}static isValidIdentifier(t){return wJe.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$d.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FN}static keyField(){return new $d([FN])}static fromServerFormat(t){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new hr(mr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;a<t.length;){const i=t[a];if(i==="\\"){if(a+1===t.length)throw new hr(mr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new hr(mr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,a+=2}else i==="`"?(o=!o,a++):i!=="."||o?(r+=i,a++):(s(),a++)}if(s(),o)throw new hr(mr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $d(n)}static emptyPath(){return new $d([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t){this.path=t}static fromPath(t){return new nA(Ki.fromString(t))}static fromName(t){return new nA(Ki.fromString(t).popFirst(5))}static empty(){return new nA(Ki.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ki.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ki.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nA(new Ki(t.slice()))}}function _Je(e,t,n,r){if(t===!0&&r===!0)throw new hr(mr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function bJe(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(e,t){const n={typeString:e};return t&&(n.value=t),n}function Wp(e,t){if(!bJe(e))throw new hr(mr.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(a&&typeof o!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new hr(mr.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=-62135596800,DN=1e6;class Vl{static now(){return Vl.fromMillis(Date.now())}static fromDate(t){return Vl.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*DN);return new Vl(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new hr(mr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new hr(mr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<PN)throw new hr(mr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new hr(mr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DN}_compareTo(t){return this.seconds===t.seconds?ud(this.nanoseconds,t.nanoseconds):ud(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vl._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wp(t,Vl._jsonSchema))return new Vl(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-PN;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vl._jsonSchemaVersion="firestore/timestamp/1.0",Vl._jsonSchema={type:Ua("string",Vl._jsonSchemaVersion),seconds:Ua("number"),nanoseconds:Ua("number")};function xJe(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CJe("Invalid base64 string: "+s):s}})(t);return new NA(n)}static fromUint8Array(t){const n=(function(a){let s="";for(let o=0;o<a.length;++o)s+=String.fromCharCode(a[o]);return s})(t);return new NA(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ud(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}NA.EMPTY_BYTE_STRING=new NA("");const UN="(default)";class z2{constructor(t,n){this.projectId=t,this.database=n||UN}static empty(){return new z2("","")}get isDefaultDatabase(){return this.database===UN}isEqual(t){return t instanceof z2&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJe{constructor(t,n=null,r=[],a=[],s=null,o="F",i=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=o,this.startAt=i,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BJe(e){return new EJe(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RN,tr;(tr=RN||(RN={}))[tr.OK=0]="OK",tr[tr.CANCELLED=1]="CANCELLED",tr[tr.UNKNOWN=2]="UNKNOWN",tr[tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tr[tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tr[tr.NOT_FOUND=5]="NOT_FOUND",tr[tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",tr[tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",tr[tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",tr[tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tr[tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tr[tr.ABORTED=10]="ABORTED",tr[tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",tr[tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",tr[tr.INTERNAL=13]="INTERNAL",tr[tr.UNAVAILABLE=14]="UNAVAILABLE",tr[tr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new cT([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJe=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJe=1048576;function uC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJe{constructor(t,n,r=1e3,a=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Xi("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,n,r,a,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new iv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,s){const o=Date.now()+r,i=new uT(t,n,o,a,s);return i.start(r),i}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new hr(mr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var NN,LN;(LN=NN||(NN={})).Ma="default",LN.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FJe="firestore.googleapis.com",MN=!0;class ON{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new hr(mr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FJe,this.ssl=MN}else this.host=t.host,this.ssl=t.ssl??MN;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SJe;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kJe)throw new hr(mr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_Je("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TJe(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new hr(mr.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new hr(mr.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new hr(mr.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class PJe{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ON({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new hr(mr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new hr(mr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ON(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uJe;switch(r.type){case"firstParty":return new fJe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new hr(mr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=VN.get(n);r&&(Xi("ComponentProvider","Removing Datastore"),VN.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new dT(this.firestore,t,this._query)}}class Hl{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new AT(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hl(this.firestore,t,this._key)}toJSON(){return{type:Hl._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Wp(n,Hl._jsonSchema))return new Hl(t,r||null,new nA(Ki.fromString(n.referencePath)))}}Hl._jsonSchemaVersion="firestore/documentReference/1.0",Hl._jsonSchema={type:Ua("string",Hl._jsonSchemaVersion),referencePath:Ua("string")};class AT extends dT{constructor(t,n,r){super(t,n,BJe(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hl(this.firestore,null,new nA(t))}withConverter(t){return new AT(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="AsyncQueue";class HN{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IJe(this,"async_queue_retry"),this._c=()=>{const r=uC();r&&Xi(QN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=uC();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=uC();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new iv;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!xJe(t))throw t;Xi(QN,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,SG("INTERNAL UNHANDLED ERROR: ",KN(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=uT.createAndSchedule(this,t,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&G2(47125,{Pc:KN(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function KN(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class DJe extends PJe{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new HN,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new HN(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Rc(NA.fromBase64String(t))}catch(n){throw new hr(mr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Rc(NA.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Rc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wp(t,Rc._jsonSchema))return Rc.fromBase64String(t.bytes)}}Rc._jsonSchemaVersion="firestore/bytes/1.0",Rc._jsonSchema={type:Ua("string",Rc._jsonSchemaVersion),bytes:Ua("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new hr(mr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $d(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new hr(mr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new hr(mr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ud(this._lat,t._lat)||ud(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hA._jsonSchemaVersion}}static fromJSON(t){if(Wp(t,hA._jsonSchema))return new hA(t.latitude,t.longitude)}}hA._jsonSchemaVersion="firestore/geoPoint/1.0",hA._jsonSchema={type:Ua("string",hA._jsonSchemaVersion),latitude:Ua("number"),longitude:Ua("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,t._values)}toJSON(){return{type:vA._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wp(t,vA._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new vA(t.vectorValues);throw new hr(mr.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vA._jsonSchemaVersion="firestore/vectorValue/1.0",vA._jsonSchema={type:Ua("string",vA._jsonSchemaVersion),vectorValues:Ua("object")};const UJe=new RegExp("[~\\*/\\[\\]]");function RJe(e,t,n){if(t.search(UJe)>=0)throw GN(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new TG(...t.split("."))._internalPath}catch{throw GN(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function GN(e,t,n,r,a){let s=`Function ${t}() called with invalid data`;s+=". ";let o="";return new hr(mr.INVALID_ARGUMENT,s+e+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(t,n,r,a,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Hl(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NJe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(PG("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NJe extends FG{data(){return super.data()}}function PG(e,t){return typeof t=="string"?RJe(e,t):t instanceof TG?t._internalPath:t._delegate._internalPath}class G1{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pm extends FG{constructor(t,n,r,a,s,o){super(t,n,r,a,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(PG("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new hr(mr.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=pm._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pm._jsonSchemaVersion="firestore/documentSnapshot/1.0",pm._jsonSchema={type:Ua("string",pm._jsonSchemaVersion),bundleSource:Ua("string","DocumentSnapshot"),bundleName:Ua("string"),bundle:Ua("string")};class py extends pm{data(t={}){return super.data(t)}}class lv{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new G1(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new py(this._firestore,this._userDataWriter,r.key,r,new G1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new hr(mr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map((i=>{const c=new py(a._firestore,a._userDataWriter,i.doc.key,i.doc,new G1(a._snapshot.mutatedKeys.has(i.doc.key),a._snapshot.fromCache),a.query.converter);return i.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((i=>s||i.type!==3)).map((i=>{const c=new py(a._firestore,a._userDataWriter,i.doc.key,i.doc,new G1(a._snapshot.mutatedKeys.has(i.doc.key),a._snapshot.fromCache),a.query.converter);let A=-1,u=-1;return i.type!==0&&(A=o.indexOf(i.doc.key),o=o.delete(i.doc.key)),i.type!==1&&(o=o.add(i.doc),u=o.indexOf(i.doc.key)),{type:LJe(i.type),doc:c,oldIndex:A,newIndex:u}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new hr(mr.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lv._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vJe.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LJe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G2(61501,{type:e})}}lv._jsonSchemaVersion="firestore/querySnapshot/1.0",lv._jsonSchema={type:Ua("string",lv._jsonSchemaVersion),bundleSource:Ua("string","QuerySnapshot"),bundleName:Ua("string"),bundle:Ua("string")};(function(t,n=!0){(function(a){x_=a})(hd),Wl(new il("firestore",((r,{instanceIdentifier:a,options:s})=>{const o=r.getProvider("app").getImmediate(),i=new DJe(new dJe(r.getProvider("auth-internal")),new mJe(o,r.getProvider("app-check-internal")),(function(A,u){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new hr(mr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new z2(A.options.projectId,u)})(o,a),o);return s={useFetchStreams:n,...s},i._setSettings(s),i}),"PUBLIC").setMultipleInstances(!0)),Yo(kN,IN,t),Yo(kN,IN,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG="firebasestorage.googleapis.com",VJe="storageBucket",MJe=120*1e3,OJe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends ac{constructor(t,n,r=0){super(dC(t),`Firebase Storage: ${n} (${dC(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dc.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return dC(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ec;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ec||(ec={}));function dC(e){return"storage/"+e}function QJe(){const e="An unknown error occurred, please check the error payload for server response.";return new dc(ec.UNKNOWN,e)}function HJe(){return new dc(ec.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KJe(){return new dc(ec.CANCELED,"User canceled the upload/download.")}function GJe(e){return new dc(ec.INVALID_URL,"Invalid URL '"+e+"'.")}function zJe(e){return new dc(ec.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function zN(e){return new dc(ec.INVALID_ARGUMENT,e)}function UG(){return new dc(ec.APP_DELETED,"The Firebase app was deleted.")}function $Je(e){return new dc(ec.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Zi.makeFromUrl(t,n)}catch{return new Zi(t,"")}if(r.path==="")return r;throw zJe(t)}static makeFromUrl(t,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",i=new RegExp("^gs://"+a+o,"i"),c={bucket:1,path:3};function A(T){T.path_=decodeURIComponent(T.path)}const u="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${u}/b/${a}/o${m}`,"i"),h={bucket:1,path:3},y=n===DG?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${y}/${a}/${w}`,"i"),S=[{regex:i,indices:c,postModify:s},{regex:v,indices:h,postModify:A},{regex:b,indices:{bucket:1,path:2},postModify:A}];for(let T=0;T<S.length;T++){const N=S[T],k=N.regex.exec(t);if(k){const E=k[N.indices.bucket];let _=k[N.indices.path];_||(_=""),r=new Zi(E,_),N.postModify(r);break}}if(r==null)throw GJe(t);return r}}class WJe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jJe(e,t,n){let r=1,a=null,s=null,o=!1,i=0;function c(){return i===2}let A=!1;function u(...w){A||(A=!0,t.apply(null,w))}function f(w){a=setTimeout(()=>{a=null,e(v,c())},w)}function m(){s&&clearTimeout(s)}function v(w,...b){if(A){m();return}if(w){m(),u.call(null,w,...b);return}if(c()||o){m(),u.call(null,w,...b);return}r<64&&(r*=2);let S;i===1?(i=2,S=0):S=(r+Math.random())*1e3,f(S)}let h=!1;function y(w){h||(h=!0,m(),!A&&(a!==null?(w||(i=2),clearTimeout(a),f(0)):w||(i=1)))}return f(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function JJe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJe(e){return e!==void 0}function $N(e,t,n,r){if(r<t)throw zN(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw zN(`Invalid value for '${e}'. Expected ${n} or less.`)}function YJe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const a=t(r)+"="+t(e[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var $2;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})($2||($2={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XJe(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJe{constructor(t,n,r,a,s,o,i,c,A,u,f,m=!0,v=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=i,this.errorCallback_=c,this.timeout_=A,this.progressCallback_=u,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,y)=>{this.resolve_=h,this.reject_=y,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new z1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=i=>{const c=i.loaded,A=i.lengthComputable?i.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,A)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const i=s.getErrorCode()===$2.NO_ERROR,c=s.getStatus();if(!i||XJe(c,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===$2.ABORT;r(!1,new z1(!1,null,u));return}const A=this.successCodes_.indexOf(c)!==-1;r(!0,new z1(A,s))})},n=(r,a)=>{const s=this.resolve_,o=this.reject_,i=a.connection;if(a.wasSuccessCode)try{const c=this.callback_(i,i.getResponse());qJe(c)?s(c):s()}catch(c){o(c)}else if(i!==null){const c=QJe();c.serverResponse=i.getErrorText(),this.errorCallback_?o(this.errorCallback_(i,c)):o(c)}else if(a.canceled){const c=this.appDelete_?UG():KJe();o(c)}else{const c=HJe();o(c)}};this.canceled_?n(!1,new z1(!1,null,!0)):this.backoffId_=jJe(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&JJe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class z1{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function eqe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function tqe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function nqe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function rqe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function aqe(e,t,n,r,a,s,o=!0,i=!1){const c=YJe(e.urlParams),A=e.url+c,u=Object.assign({},e.headers);return nqe(u,t),eqe(u,n),tqe(u,s),rqe(u,r),new ZJe(A,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,o,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sqe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function oqe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t,n){this._service=t,n instanceof Zi?this._location=n:this._location=Zi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new W2(t,n)}get root(){const t=new Zi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oqe(this._location.path)}get storage(){return this._service}get parent(){const t=sqe(this._location.path);if(t===null)return null;const n=new Zi(this._location.bucket,t);return new W2(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw $Je(t)}}function WN(e,t){const n=t?.[VJe];return n==null?null:Zi.makeFromBucketSpec(n,e)}class iqe{constructor(t,n,r,a,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=DG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MJe,this._maxUploadRetryTime=OJe,this._requests=new Set,a!=null?this._bucket=Zi.makeFromBucketSpec(a,this._host):this._bucket=WN(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Zi.makeFromBucketSpec(this._url,t):this._bucket=WN(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){$N("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){$N("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(So(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new W2(this,t)}_makeRequest(t,n,r,a,s=!0){if(this._deleted)return new WJe(UG());{const o=aqe(t,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,a).getPromise()}}const jN="@firebase/storage",JN="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lqe="storage";function cqe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new iqe(n,r,a,t,hd)}function uqe(){Wl(new il(lqe,cqe,"PUBLIC").setMultipleInstances(!0)),Yo(jN,JN,""),Yo(jN,JN,"esm2020")}uqe();function dqe(e){return fqe({initialUser:e,dependencies:{popupRedirectResolver:XV,persistence:[$V,$S,WS]}})}const Aqe=Symbol("VueFireAuth");function fqe({dependencies:e,initialUser:t}){return(n,r)=>{const[a,s]=mqe(n,r,t,e);x$e(a,s)}}function mqe(e,t,n,r,a=UV(e,r)){const s=w$e(e,t).run(()=>H(n));return _$e.set(e,s),t.provide(Aqe,a),[s,a]}function hqe(e,{firebaseApp:t,modules:n=[]}){e.provide(hK,t);for(const r of n)r(t,e)}window.addEventListener("unhandledrejection",e=>{e.reason&&typeof e.reason.code=="string"&&e.reason.code.startsWith("auth/")&&(console.warn("Unhandled Firebase Auth error (suppressed):",e.reason.code,e.reason.message),e.preventDefault())});const RG=()=>typeof window<"u"&&window.process&&window.process.type==="renderer";console.log("Vue app starting in environment:",RG()?"Electron":"Web");if(RG())try{const{ipcRenderer:e}=window.electron||window.require("electron");e.on("server-ready",(t,n)=>{console.log("Server ready event received");const{localIP:r}=n||{};if(r){const a=uo(r).api.https;xw(a),console.log("Local IP:",r)}}),e.on("server-error",(t,n)=>{console.error("Server error received:",n)})}catch(e){console.error("Failed to set up IPC listeners:",e)}const vqe={dark:!1,colors:{primary:"#133665",surfaceTint:"#415F91",onPrimary:"#FFFFFF",primaryContainer:"#506DA0",onPrimaryContainer:"#FFFFFF",secondary:"#2E3647",onSecondary:"#FFFFFF",secondaryContainer:"#646D80",onSecondaryContainer:"#FFFFFF",tertiary:"#452E4A",onTertiary:"#FFFFFF",tertiaryContainer:"#7F6484",onTertiaryContainer:"#FFFFFF",error:"#740006",onError:"#FFFFFF",errorContainer:"#CF2C27",onErrorContainer:"#FFFFFF",background:"#F9F9FF",onBackground:"#191C20",surface:"#F9F9FF",onSurface:"#0F1116",surfaceVariant:"#E0E2EC",onSurfaceVariant:"#33363E",outline:"#4F525A",outlineVariant:"#6A6D75",shadow:"#000000",scrim:"#000000",inverseSurface:"#2E3036",inverseOnSurface:"#F0F0F7",inversePrimary:"#AAC7FF",primaryFixed:"#506DA0",onPrimaryFixed:"#FFFFFF",primaryFixedDim:"#375586",onPrimaryFixedVariant:"#FFFFFF",secondaryFixed:"#646D80",onSecondaryFixed:"#FFFFFF",secondaryFixedDim:"#4C5567",onSecondaryFixedVariant:"#FFFFFF",tertiaryFixed:"#7F6484",onTertiaryFixed:"#FFFFFF",tertiaryFixedDim:"#654C6B",onTertiaryFixedVariant:"#FFFFFF",surfaceDim:"#C5C6CD",surfaceBright:"#F9F9FF",surfaceContainerLowest:"#FFFFFF",surfaceContainerLow:"#F3F3FA",surfaceContainer:"#E7E8EE",surfaceContainerHigh:"#DCDCE3",surfaceContainerHighest:"#D1D1D8"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},pqe=o5({components:Nze,directives:jze,theme:{defaultTheme:"myCustomLightTheme",themes:{myCustomLightTheme:vqe}},defaults:{VBtn:{color:"primary",rounded:"sm",size:"small"},VSnackbar:{timeout:3e3},VSheet:{rounded:"sm",colour:"surface"},VTextField:{density:"compact"},VTooltip:{location:"top",openDelay:1e3}}}),jp=xZ(Yae);jp.use(Rl);jp.use(pqe);jp.use(Ns);jp.use(hqe,{firebaseApp:ay,modules:[dqe()]});let cv=!1;const m0=()=>{if(!cv){console.log("Mounting app");try{jp.mount("#app"),cv=!0,console.log("App mounted successfully")}catch(e){console.error("Error mounting app:",e)}}},gqe=async()=>{try{console.log("Starting app initialization..."),console.log("Initializing API client...");try{await r8(),console.log("API client initialized with URL parameters")}catch(t){console.warn("API client initialization failed:",t)}console.log("Initializing network API...");try{const t=await tO();t===null?console.log("Network API skipped - using URL parameter configuration"):console.log("Network API initialized:",t)}catch(t){console.warn("Network API initialization failed:",t)}console.log("Testing Firebase Auth..."),console.log("Auth object:",ts),console.log("Auth app:",ts?.app),console.log("Auth currentUser:",ts?.currentUser),console.log("Setting up auth state listener...");try{const t=ts.onAuthStateChanged(n=>{console.log(" Auth state changed!"),console.log("Initial auth state:",n?"User logged in":"No user"),console.log("User object:",n),Ns.commit("auth/SET_USER",n),m0(),setTimeout(()=>{cv&&Rl.currentRoute.value.path==="/"&&(n?(console.log("Authenticated user detected, navigating to home"),Rl.push("/home")):(console.log("No authenticated user, navigating to login"),Rl.push("/login")))},100)},n=>{console.error("Auth state change error:",n),n.code==="auth/network-request-failed"&&console.warn("Network request failed - this is common in Electron. Continuing with offline mode."),m0(),setTimeout(()=>{cv&&Rl.currentRoute.value.path==="/"&&Rl.push("/login")},100)});console.log("Auth state listener set up successfully, unsubscribe function:",typeof t)}catch(t){console.error("Failed to set up auth state listener:",t),Ns.commit("auth/SET_USER",null),m0()}const e=setTimeout(()=>{cv||(console.log("Auth state listener timeout - mounting app with current user"),Ns.commit("auth/SET_USER",ts.currentUser),m0(),An(()=>{try{Rl.currentRoute.value.path==="/"&&(ts.currentUser?(console.log("Timeout: Authenticated user detected, navigating to home"),Rl.push("/home")):(console.log("Timeout: No authenticated user, navigating to login"),Rl.push("/login")))}catch(t){console.error("Navigation error during timeout:",t)}}))},3e3);window.backupTimeout=e}catch(e){console.error("Error initializing app:",e),Ns.commit("auth/SET_USER",null),m0()}};console.log("Starting Vue app initialization...");gqe();export{Bt as a,n1 as c,Jl as f,ede as g,Zm as p};
